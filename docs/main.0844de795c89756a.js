"use strict";var jz=Object.defineProperty,Uz=Object.defineProperties,zz=Object.getOwnPropertyDescriptors,u1=Object.getOwnPropertySymbols,$z=Object.prototype.hasOwnProperty,Kz=Object.prototype.propertyIsEnumerable,c1=(ya,B,jr)=>B in ya?jz(ya,B,{enumerable:!0,configurable:!0,writable:!0,value:jr}):ya[B]=jr,An=(ya,B)=>{for(var jr in B||(B={}))$z.call(B,jr)&&c1(ya,jr,B[jr]);if(u1)for(var jr of u1(B))Kz.call(B,jr)&&c1(ya,jr,B[jr]);return ya},Cm=(ya,B)=>Uz(ya,zz(B));(self.webpackChunkdesign_challenge=self.webpackChunkdesign_challenge||[]).push([[179],{564:(ya,B)=>{function jr(g){return null==g||""===g?null:g}function J(g,i){return void 0===i&&(i=!1),null!=g&&(""!==g||i)}function E(g){return!J(g)}function Bi(g){return null==g||0===g.length}function Cl(g){return null!=g&&"function"==typeof g.toString?g.toString():null}function an(g){if(void 0!==g){if(null===g||""===g)return null;if("number"==typeof g)return isNaN(g)?void 0:g;var i=parseInt(g,10);return isNaN(i)?void 0:i}}function _a(g){if(void 0!==g)return null!==g&&""!==g&&("boolean"==typeof g?g:/true/i.test(g))}function _c(g,i,t){void 0===t&&(t=!1);var s=null==g,p=null==i;if(g&&g.toNumber&&(g=g.toNumber()),i&&i.toNumber&&(i=i.toNumber()),s&&p)return 0;if(s)return-1;if(p)return 1;function f(_,b){return _>b?1:_<b?-1:0}if("string"!=typeof g||!t)return f(g,i);try{return g.localeCompare(i)}catch(_){return f(g,i)}}function Ya(g){if(g instanceof Set||g instanceof Map){var i=[];return g.forEach(function(t){return i.push(t)}),i}return Object.values(g)}Object.defineProperty(B,"__esModule",{value:!0});var $d=Object.freeze({makeNull:jr,exists:J,missing:E,missingOrEmpty:Bi,toStringOrNull:Cl,attrToNumber:an,attrToBoolean:_a,attrToString:function(g){if(null!=g&&""!==g)return g},referenceCompare:function(g,i){return null==g&&null==i||!(null==g&&null!=i||null!=g&&null==i)&&g===i},jsonEquals:function(g,i){return(g?JSON.stringify(g):null)===(i?JSON.stringify(i):null)},defaultComparator:_c,values:Ya}),ii=function(){function g(){this.existingKeys={}}return g.prototype.addExistingKeys=function(i){for(var t=0;t<i.length;t++)this.existingKeys[i[t]]=!0},g.prototype.getUniqueKey=function(i,t){i=Cl(i);for(var s=0;;){var p=void 0;if(i?(p=i,0!==s&&(p+="_"+s)):t?(p=t,0!==s&&(p+="_"+s)):p=""+s,!this.existingKeys[p])return this.existingKeys[p]=!0,p;s++}},g}();function Sn(g,i){null!=g&&(Array.isArray(g)?g.forEach(function(t,s){return i(""+s,t)}):Object.keys(g).forEach(function(t){return i(t,g[t])}))}function su(g){for(var i={},t=Object.keys(g),s=0;s<t.length;s++){var p=t[s];i[p]=g[p]}return i}function qa(g,i){if(g){var t=g,s={};return Object.keys(t).forEach(function(p){if(!(i&&i.indexOf(p)>=0)){var f=t[p],_=uu(f)&&f.constructor===Object;s[p]=_?qa(f):f}}),s}}function Es(g,i){return g[i]}function A_(g,i,t){g[i]=t}function Fh(g,i,t,s){var p=Es(g,t);void 0!==p&&A_(i,t,s?s(p):p)}function Ih(g){var i={};return g.filter(function(t){return null!=t}).forEach(function(t){Object.keys(t).forEach(function(s){return i[s]=null})}),Object.keys(i)}function Ca(g){if(!g)return[];var i=Object;if("function"==typeof i.values)return i.values(g);var t=[];for(var s in g)g.hasOwnProperty(s)&&g.propertyIsEnumerable(s)&&t.push(g[s]);return t}function Hi(g,i,t,s){void 0===t&&(t=!0),void 0===s&&(s=!1),J(i)&&Sn(i,function(p,f){var _=g[p];_!==f&&(s&&null==_&&null!=f&&"object"==typeof f&&f.constructor===Object&&(g[p]=_={}),uu(f)&&uu(_)&&!Array.isArray(_)?Hi(_,f,t,s):(t||void 0!==f)&&(g[p]=f))})}function lu(g,i,t){if(i&&g){if(!t)return g[i];for(var s=i.split("."),p=g,f=0;f<s.length;f++){if(null==p)return;p=p[s[f]]}return p}}function ur(g,i){Object.keys(g).forEach(function(p){"object"==typeof g[p]&&(g[p]=void 0)});var t=Object.getPrototypeOf(g),s={};Object.keys(t).forEach(function(p){"function"==typeof t[p]&&(s[p]={value:function(){console.warn("AG Grid: "+i+" function "+p+"() cannot be called as the grid has been destroyed.\n                     Please don't call grid API functions on destroyed grids - as a matter of fact you shouldn't\n                     be keeping the API reference, your application has a memory leak! Remove the API reference\n                     when the grid is destroyed.")},writable:!0})}),Object.defineProperties(g,s)}function uu(g){return"object"==typeof g&&null!==g}var Ow=Object.freeze({iterateObject:Sn,cloneObject:su,deepCloneObject:function(g){return JSON.parse(JSON.stringify(g))},deepCloneDefinition:qa,getProperty:Es,setProperty:A_,copyPropertiesIfPresent:function(g,i){for(var t=[],s=2;s<arguments.length;s++)t[s-2]=arguments[s];t.forEach(function(p){return Fh(g,i,p)})},copyPropertyIfPresent:Fh,getAllKeysInObjects:Ih,getAllValuesInObject:Ca,mergeDeep:Hi,missingOrEmptyObject:function(g){return E(g)||0===Object.keys(g).length},get:function(g,i,t){if(null==g)return t;for(var s=i.split("."),p=g;s.length>1;)if(null==(p=p[s.shift()]))return t;var f=p[s[0]];return null!=f?f:t},set:function(g,i,t){if(null!=g){for(var s=i.split("."),p=g;s.length>1;)if(null==(p=p[s.shift()]))return;p[s[0]]=t}},deepFreeze:function Dw(g){return Object.freeze(g),Ya(g).forEach(function(i){(uu(i)||"function"==typeof i)&&Dw(i)}),g},getValueUsingField:lu,removeAllReferences:ur,isNonNullObject:uu}),bc=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,xw=/([^\s,]+)/g,Mt={};function En(g,i){Mt[i]||(g(),Mt[i]=!0)}function Nh(g){if(g.name)return g.name;var i=/function\s+([^\(]+)/.exec(g.toString());return i&&2===i.length?i[1].trim():null}function Ci(g){return!!(g&&g.constructor&&g.call&&g.apply)}function oi(g){du(g,400)}var cu=[],wm=!1;function Lh(g){cu.push(g),!wm&&(wm=!0,window.setTimeout(function(){var i=cu.slice();cu.length=0,wm=!1,i.forEach(function(t){return t()})},0))}function du(g,i){void 0===i&&(i=0),g.length>0&&window.setTimeout(function(){return g.forEach(function(t){return t()})},i)}function pu(g,i,t){var s;return void 0===t&&(t=!1),function(){for(var p=[],f=0;f<arguments.length;f++)p[f]=arguments[f];var _=this,b=t&&!s;window.clearTimeout(s),s=window.setTimeout(function(){s=null,t||g.apply(_,p)},i),b&&g.apply(_,p)}}function Sm(g,i,t,s){void 0===t&&(t=100);var p=(new Date).getTime(),f=null,_=!1,b=function(){var A=(new Date).getTime()-p>t;(g()||A)&&(i(),_=!0,null!=f&&(window.clearInterval(f),f=null),A&&s&&console.warn(s))};b(),_||(f=window.setInterval(b,10))}function bl(g){g&&g()}var pD=Object.freeze({doOnce:En,getFunctionName:Nh,getFunctionParameters:function(g){var i=g.toString().replace(bc,"");return i.slice(i.indexOf("(")+1,i.indexOf(")")).match(xw)||[]},isFunction:Ci,executeInAWhile:oi,executeNextVMTurn:Lh,executeAfter:du,debounce:pu,waitUntil:Sm,compose:function(){for(var g=[],i=0;i<arguments.length;i++)g[i]=arguments[i];return function(t){return g.reduce(function(s,p){return p(s)},t)}},callIfPresent:bl}),Em=function(){function g(i,t){if(this.beanWrappers={},this.destroyed=!1,i&&i.beanClasses){this.contextParams=i,this.logger=t,this.logger.log(">> creating ag-Application Context"),this.createBeans();var s=this.getBeanInstances();this.wireBeans(s),this.logger.log(">> ag-Application Context ready - component is alive")}}return g.prototype.getBeanInstances=function(){return Ya(this.beanWrappers).map(function(i){return i.beanInstance})},g.prototype.createBean=function(i,t){if(!i)throw Error("Can't wire to bean since it is null");return this.wireBeans([i],t),i},g.prototype.wireBeans=function(i,t){this.autoWireBeans(i),this.methodWireBeans(i),this.callLifeCycleMethods(i,"preConstructMethods"),J(t)&&i.forEach(t),this.callLifeCycleMethods(i,"postConstructMethods")},g.prototype.createBeans=function(){var i=this;this.contextParams.beanClasses.forEach(this.createBeanWrapper.bind(this)),Sn(this.beanWrappers,function(s,p){var f;p.bean.__agBeanMetaData&&p.bean.__agBeanMetaData.autowireMethods&&p.bean.__agBeanMetaData.autowireMethods.agConstructor&&(f=p.bean.__agBeanMetaData.autowireMethods.agConstructor);var _=i.getBeansForParameters(f,p.bean.name),b=function(g,i){var t=[null].concat(i);return new(g.bind.apply(g,t))}(p.bean,_);p.beanInstance=b});var t=Object.keys(this.beanWrappers).join(", ");this.logger.log("created beans: "+t)},g.prototype.createBeanWrapper=function(i){var t=i.__agBeanMetaData;if(!t){var s;return s=i.prototype.constructor?Nh(i.prototype.constructor):""+i,void console.error("Context item "+s+" is not a bean")}this.beanWrappers[t.beanName]={bean:i,beanInstance:null,beanName:t.beanName}},g.prototype.autoWireBeans=function(i){var t=this;i.forEach(function(s){t.forEachMetaDataInHierarchy(s,function(p,f){var _=p.agClassAttributes;!_||_.forEach(function(b){var A=t.lookupBeanInstance(f,b.beanName,b.optional);s[b.attributeName]=A})})})},g.prototype.methodWireBeans=function(i){var t=this;i.forEach(function(s){t.forEachMetaDataInHierarchy(s,function(p,f){Sn(p.autowireMethods,function(_,b){if("agConstructor"!==_){var A=t.getBeansForParameters(b,f);s[_].apply(s,A)}})})})},g.prototype.forEachMetaDataInHierarchy=function(i,t){for(var s=Object.getPrototypeOf(i);null!=s;){var p=s.constructor;p.hasOwnProperty("__agBeanMetaData")&&t(p.__agBeanMetaData,this.getBeanName(p)),s=Object.getPrototypeOf(s)}},g.prototype.getBeanName=function(i){if(i.__agBeanMetaData&&i.__agBeanMetaData.beanName)return i.__agBeanMetaData.beanName;var t=i.toString();return t.substring(9,t.indexOf("("))},g.prototype.getBeansForParameters=function(i,t){var s=this,p=[];return i&&Sn(i,function(f,_){var b=s.lookupBeanInstance(t,_);p[Number(f)]=b}),p},g.prototype.lookupBeanInstance=function(i,t,s){if(void 0===s&&(s=!1),"context"===t)return this;if(this.contextParams.providedBeanInstances&&this.contextParams.providedBeanInstances.hasOwnProperty(t))return this.contextParams.providedBeanInstances[t];var p=this.beanWrappers[t];return p?p.beanInstance:(s||console.error("AG Grid: unable to find bean reference "+t+" while initialising "+i),null)},g.prototype.callLifeCycleMethods=function(i,t){var s=this;i.forEach(function(p){return s.callLifeCycleMethodsOnBean(p,t)})},g.prototype.callLifeCycleMethodsOnBean=function(i,t,s){var p={};this.forEachMetaDataInHierarchy(i,function(_){var b=_[t];b&&b.forEach(function(A){A!=s&&(p[A]=!0)})}),Object.keys(p).forEach(function(_){return i[_]()})},g.prototype.getBean=function(i){return this.lookupBeanInstance("getBean",i,!0)},g.prototype.destroy=function(){if(!this.destroyed){this.logger.log(">> Shutting down ag-Application Context");var i=this.getBeanInstances();this.destroyBeans(i),this.contextParams.providedBeanInstances=null,this.destroyed=!0,this.logger.log(">> ag-Application Context shut down - component is dead")}},g.prototype.destroyBean=function(i){!i||this.destroyBeans([i])},g.prototype.destroyBeans=function(i){var t=this;return i?(i.forEach(function(s){t.callLifeCycleMethodsOnBean(s,"preDestroyMethods","destroy"),"function"==typeof s.destroy&&s.destroy()}),[]):[]},g}();function kh(g,i,t){var s=wi(g.constructor);s.preConstructMethods||(s.preConstructMethods=[]),s.preConstructMethods.push(i)}function $e(g,i,t){var s=wi(g.constructor);s.postConstructMethods||(s.postConstructMethods=[]),s.postConstructMethods.push(i)}function hi(g,i,t){var s=wi(g.constructor);s.preDestroyMethods||(s.preDestroyMethods=[]),s.preDestroyMethods.push(i)}function tt(g){return function(i){wi(i).beanName=g}}function $(g){return function(i,t,s){T_(i,g,!1,0,t,null)}}function tn(g){return function(i,t,s){T_(i,g,!0,0,t,null)}}function T_(g,i,t,s,p,f){if(null!==i)if("number"!=typeof f){var _=wi(g.constructor);_.agClassAttributes||(_.agClassAttributes=[]),_.agClassAttributes.push({attributeName:p,beanName:i,optional:t})}else console.error("AG Grid: Autowired should be on an attribute");else console.error("AG Grid: Autowired name should not be null")}function bi(g){return function(i,t,s){var f,p="function"==typeof i?i:i.constructor;if("number"==typeof s){var _=void 0;t?(f=wi(p),_=t):(f=wi(p),_="agConstructor"),f.autowireMethods||(f.autowireMethods={}),f.autowireMethods[_]||(f.autowireMethods[_]={}),f.autowireMethods[_][s]=g}}}function wi(g){return g.hasOwnProperty("__agBeanMetaData")||(g.__agBeanMetaData={}),g.__agBeanMetaData}var g,Tw=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},Gh=function(g,i){return function(t,s){i(t,s,g)}},wl=function(){function g(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}return g.prototype.setBeans=function(i,t,s,p){if(void 0===p&&(p=null),this.frameworkOverrides=s,p){var f=t.useAsyncEvents();this.addGlobalListener(p,f)}},g.prototype.getListeners=function(i,t,s){var p=t?this.allAsyncListeners:this.allSyncListeners,f=p.get(i);return!f&&s&&(f=new Set,p.set(i,f)),f},g.prototype.noRegisteredListenersExist=function(){return 0===this.allSyncListeners.size&&0===this.allAsyncListeners.size&&0===this.globalSyncListeners.size&&0===this.globalAsyncListeners.size},g.prototype.addEventListener=function(i,t,s){void 0===s&&(s=!1),this.getListeners(i,s,!0).add(t)},g.prototype.removeEventListener=function(i,t,s){void 0===s&&(s=!1);var p=this.getListeners(i,s,!1);p&&(p.delete(t),0===p.size)&&(s?this.allAsyncListeners:this.allSyncListeners).delete(i)},g.prototype.addGlobalListener=function(i,t){void 0===t&&(t=!1),(t?this.globalAsyncListeners:this.globalSyncListeners).add(i)},g.prototype.removeGlobalListener=function(i,t){void 0===t&&(t=!1),(t?this.globalAsyncListeners:this.globalSyncListeners).delete(i)},g.prototype.dispatchEvent=function(i){this.dispatchToListeners(i,!0),this.dispatchToListeners(i,!1),this.firedEvents[i.type]=!0},g.prototype.dispatchEventOnce=function(i){this.firedEvents[i.type]||this.dispatchEvent(i)},g.prototype.dispatchToListeners=function(i,t){var s=this,p=i.type,_=this.getListeners(p,t,!1);_&&_.forEach(function(M){t?s.dispatchAsync(function(){return M(i)}):M(i)}),(t?this.globalAsyncListeners:this.globalSyncListeners).forEach(function(A){t?s.dispatchAsync(function(){return s.frameworkOverrides.dispatchEvent(p,function(){return A(p,i)},!0)}):s.frameworkOverrides.dispatchEvent(p,function(){return A(p,i)},!0)})},g.prototype.dispatchAsync=function(i){this.asyncFunctionsQueue.push(i),this.scheduled||(window.setTimeout(this.flushAsyncQueue.bind(this),0),this.scheduled=!0)},g.prototype.flushAsyncQueue=function(){this.scheduled=!1;var i=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],i.forEach(function(t){return t()})},Tw([Gh(0,bi("loggerFactory")),Gh(1,bi("gridOptionsWrapper")),Gh(2,bi("frameworkOverrides")),Gh(3,bi("globalEventListener"))],g.prototype,"setBeans",null),Tw([tt("eventService")],g)}(),me=function(){function g(){}return g.ROW_BUFFER_SIZE=10,g.LAYOUT_INTERVAL=500,g.BATCH_WAIT_MILLIS=50,g.EXPORT_TYPE_DRAG_COPY="dragCopy",g.EXPORT_TYPE_CLIPBOARD="clipboard",g.EXPORT_TYPE_EXCEL="excel",g.EXPORT_TYPE_CSV="csv",g.ROW_MODEL_TYPE_INFINITE="infinite",g.ROW_MODEL_TYPE_VIEWPORT="viewport",g.ROW_MODEL_TYPE_CLIENT_SIDE="clientSide",g.ROW_MODEL_TYPE_SERVER_SIDE="serverSide",g.ALWAYS="always",g.ONLY_WHEN_GROUPING="onlyWhenGrouping",g.PINNED_TOP="top",g.PINNED_BOTTOM="bottom",g.DOM_LAYOUT_NORMAL="normal",g.DOM_LAYOUT_PRINT="print",g.DOM_LAYOUT_AUTO_HEIGHT="autoHeight",g.GROUP_AUTO_COLUMN_ID="ag-Grid-AutoColumn",g.SOURCE_PASTE="paste",g.PINNED_RIGHT="right",g.PINNED_LEFT="left",g.SORT_ASC="asc",g.SORT_DESC="desc",g.INPUT_SELECTOR="input, select, button, textarea",g.FOCUSABLE_SELECTOR="[tabindex], input, select, button, textarea",g.FOCUSABLE_EXCLUDE=".ag-hidden, .ag-hidden *, [disabled], .ag-disabled, .ag-disabled *",g}();(g=B.ModuleNames||(B.ModuleNames={})).CommunityCoreModule="@ag-grid-community/core",g.CommunityAllModules="@ag-grid-community/all",g.InfiniteRowModelModule="@ag-grid-community/infinite-row-model",g.ClientSideRowModelModule="@ag-grid-community/client-side-row-model",g.CsvExportModule="@ag-grid-community/csv-export",g.EnterpriseCoreModule="@ag-grid-enterprise/core",g.EnterpriseAllModules="@ag-grid-enterprise/all",g.RowGroupingModule="@ag-grid-enterprise/row-grouping",g.ColumnToolPanelModule="@ag-grid-enterprise/column-tool-panel",g.FiltersToolPanelModule="@ag-grid-enterprise/filter-tool-panel",g.MenuModule="@ag-grid-enterprise/menu",g.SetFilterModule="@ag-grid-enterprise/set-filter",g.MultiFilterModule="@ag-grid-enterprise/multi-filter",g.StatusBarModule="@ag-grid-enterprise/status-bar",g.SideBarModule="@ag-grid-enterprise/side-bar",g.RangeSelectionModule="@ag-grid-enterprise/range-selection",g.MasterDetailModule="@ag-grid-enterprise/master-detail",g.RichSelectModule="@ag-grid-enterprise/rich-select",g.GridChartsModule="@ag-grid-enterprise/charts",g.ViewportRowModelModule="@ag-grid-enterprise/viewport-row-model",g.ServerSideRowModelModule="@ag-grid-enterprise/server-side-row-model",g.ExcelExportModule="@ag-grid-enterprise/excel-export",g.ClipboardModule="@ag-grid-enterprise/clipboard",g.SparklinesModule="@ag-grid-enterprise/sparklines",g.AngularModule="@ag-grid-community/angular",g.ReactModule="@ag-grid-community/react",g.VueModule="@ag-grid-community/vue",g.PolymerModule="@ag-grid-community/polymer";var Vt=function(){function g(){}return g.register=function(i,t){void 0===t&&(t=!0),g.modulesMap[i.moduleName]=i,void 0===g.moduleBased?g.moduleBased=t:g.moduleBased!==t&&En(function(){console.warn("AG Grid: You are mixing modules (i.e. @ag-grid-community/core) and packages (ag-grid-community) - you can only use one or the other of these mechanisms."),console.warn("Please see https://www.ag-grid.com/javascript-grid/packages-modules/ for more information.")},"ModulePackageCheck")},g.registerModules=function(i,t){void 0===t&&(t=!0),i&&i.forEach(function(s){return g.register(s,t)})},g.assertRegistered=function(i,t){return!!this.isRegistered(i)||(p=g.moduleBased?"AG Grid: unable to use "+t+" as module "+i+" is not present. Please see: https://www.ag-grid.com/javascript-grid/modules/":"AG Grid: unable to use "+t+" as package 'ag-grid-enterprise' is not present. Please see: https://www.ag-grid.com/javascript-grid/packages/",En(function(){console.warn(p)},t+i),!1);var p},g.isRegistered=function(i){return!!g.modulesMap[i]},g.getRegisteredModules=function(){return Ya(g.modulesMap)},g.isPackageBased=function(){return!g.moduleBased},g.modulesMap={},g}(),Yd=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},Dm=0,pn=function(){function g(i,t,s,p){this.instanceId=Dm++,this.moving=!1,this.menuVisible=!1,this.filterActive=!1,this.eventService=new wl,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.colDef=i,this.userProvidedColDef=t,this.colId=s,this.primary=p,this.setState(i)}return g.prototype.getInstanceId=function(){return this.instanceId},g.prototype.setState=function(i){void 0!==i.sort?(i.sort===me.SORT_ASC||i.sort===me.SORT_DESC)&&(this.sort=i.sort):(i.initialSort===me.SORT_ASC||i.initialSort===me.SORT_DESC)&&(this.sort=i.initialSort);var t=an(i.sortIndex),s=an(i.initialSortIndex);void 0!==t?null!==t&&(this.sortIndex=t):null!==s&&(this.sortIndex=s);var p=_a(i.hide),f=_a(i.initialHide);this.visible=void 0!==p?!p:!f,this.setPinned(void 0!==i.pinned?i.pinned:i.initialPinned);var _=an(i.flex),b=an(i.initialFlex);void 0!==_?this.flex=_:void 0!==b&&(this.flex=b)},g.prototype.setColDef=function(i,t){this.colDef=i,this.userProvidedColDef=t,this.initMinAndMaxWidths(),this.initDotNotation()},g.prototype.getUserProvidedColDef=function(){return this.userProvidedColDef},g.prototype.setParent=function(i){this.parent=i},g.prototype.getParent=function(){return this.parent},g.prototype.setOriginalParent=function(i){this.originalParent=i},g.prototype.getOriginalParent=function(){return this.originalParent},g.prototype.initialise=function(){this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.validate()},g.prototype.initDotNotation=function(){var i=this.gridOptionsWrapper.isSuppressFieldDotNotation();this.fieldContainsDots=J(this.colDef.field)&&this.colDef.field.indexOf(".")>=0&&!i,this.tooltipFieldContainsDots=J(this.colDef.tooltipField)&&this.colDef.tooltipField.indexOf(".")>=0&&!i},g.prototype.initMinAndMaxWidths=function(){var i=this.colDef;this.minWidth=this.columnUtils.calculateColMinWidth(i),this.maxWidth=this.columnUtils.calculateColMaxWidth(i)},g.prototype.resetActualWidth=function(i){void 0===i&&(i="api");var t=this.columnUtils.calculateColInitialWidth(this.colDef);this.setActualWidth(t,i,!0)},g.prototype.isEmptyGroup=function(){return!1},g.prototype.isRowGroupDisplayed=function(i){return!(E(this.colDef)||E(this.colDef.showRowGroup)||!0!==this.colDef.showRowGroup&&this.colDef.showRowGroup!==i)},g.prototype.isPrimary=function(){return this.primary},g.prototype.isFilterAllowed=function(){return this.primary&&(!!this.colDef.filter||!!this.colDef.filterFramework)},g.prototype.isFieldContainsDots=function(){return this.fieldContainsDots},g.prototype.isTooltipFieldContainsDots=function(){return this.tooltipFieldContainsDots},g.prototype.validate=function(){var i=this.colDef;function t(_,b,A){En(function(){A?console.warn(_,A):En(function(){return console.warn(_)},b)},b)}this.gridOptionsWrapper.isRowModelDefault()&&!Vt.isRegistered(B.ModuleNames.RowGroupingModule)&&["enableRowGroup","rowGroup","rowGroupIndex","enablePivot","enableValue","pivot","pivotIndex","aggFunc"].forEach(function(_){J(i[_])&&(Vt.isPackageBased()?t("AG Grid: "+_+" is only valid in ag-grid-enterprise, your column definition should not have "+_,"ColumnRowGroupingMissing"+_):t("AG Grid: "+_+" is only valid with AG Grid Enterprise Module "+B.ModuleNames.RowGroupingModule+" - your column definition should not have "+_,"ColumnRowGroupingMissing"+_))}),Vt.isRegistered(B.ModuleNames.RichSelectModule)||"agRichSelect"===this.colDef.cellEditor&&(Vt.isPackageBased()?t("AG Grid: "+this.colDef.cellEditor+" can only be used with ag-grid-enterprise","ColumnRichSelectMissing"):t("AG Grid: "+this.colDef.cellEditor+" can only be used with AG Grid Enterprise Module "+B.ModuleNames.RichSelectModule,"ColumnRichSelectMissing")),this.gridOptionsWrapper.isTreeData()&&["rowGroup","rowGroupIndex","pivot","pivotIndex"].forEach(function(_){J(i[_])&&t("AG Grid: "+_+" is not possible when doing tree data, your column definition should not have "+_,"TreeDataCannotRowGroup")}),J(this.colDef.width)&&"number"!=typeof this.colDef.width&&t("AG Grid: colDef.width should be a number, not "+typeof this.colDef.width,"ColumnCheck_asdfawef"),i.pinnedRowCellRenderer&&t("AG Grid: pinnedRowCellRenderer no longer exists, use cellRendererSelector if you want a different Cell Renderer for pinned rows. Check params.node.rowPinned. This was an unfortunate (but necessary) change we had to do to allow future plans we have of re-skinng the data grid in frameworks such as React, Angular and Vue. See https://www.ag-grid.com/javascript-grid/cell-rendering/#many-renderers-one-column","colDef.pinnedRowCellRenderer-deprecated"),i.pinnedRowCellRendererParams&&t("AG Grid: pinnedRowCellRenderer no longer exists, use cellRendererSelector if you want a different Cell Renderer for pinned rows. Check params.node.rowPinned. This was an unfortunate (but necessary) change we had to do to allow future plans we have of re-skinng the data grid in frameworks such as React, Angular and Vue. See https://www.ag-grid.com/javascript-grid/cell-rendering/#many-renderers-one-column","colDef.pinnedRowCellRenderer-deprecated"),i.pinnedRowCellRendererFramework&&t("AG Grid: pinnedRowCellRenderer no longer exists, use cellRendererSelector if you want a different Cell Renderer for pinned rows. Check params.node.rowPinned. This was an unfortunate (but necessary) change we had to do to allow future plans we have of re-skinng the data grid in frameworks such as React, Angular and Vue. See https://www.ag-grid.com/javascript-grid/cell-rendering/#many-renderers-one-column","colDef.pinnedRowCellRenderer-deprecated"),i.pinnedRowValueGetter&&t("AG Grid: pinnedRowCellRenderer is deprecated, use cellRendererSelector if you want a different Cell Renderer for pinned rows. Check params.node.rowPinned. This was an unfortunate (but necessary) change we had to do to allow future plans we have of re-skinng the data grid in frameworks such as React, Angular and Vue.","colDef.pinnedRowCellRenderer-deprecated")},g.prototype.addEventListener=function(i,t){this.eventService.addEventListener(i,t)},g.prototype.removeEventListener=function(i,t){this.eventService.removeEventListener(i,t)},g.prototype.createColumnFunctionCallbackParams=function(i){return{node:i,data:i.data,column:this,colDef:this.colDef,context:this.gridOptionsWrapper.getContext(),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()}},g.prototype.isSuppressNavigable=function(i){if("boolean"==typeof this.colDef.suppressNavigable)return this.colDef.suppressNavigable;if("function"==typeof this.colDef.suppressNavigable){var t=this.createColumnFunctionCallbackParams(i);return(0,this.colDef.suppressNavigable)(t)}return!1},g.prototype.isCellEditable=function(i){return!(i.group&&!this.gridOptionsWrapper.isEnableGroupEdit())&&this.isColumnFunc(i,this.colDef.editable)},g.prototype.isSuppressFillHandle=function(){return!!_a(this.colDef.suppressFillHandle)},g.prototype.isAutoHeight=function(){return!!_a(this.colDef.autoHeight)},g.prototype.isRowDrag=function(i){return this.isColumnFunc(i,this.colDef.rowDrag)},g.prototype.isDndSource=function(i){return this.isColumnFunc(i,this.colDef.dndSource)},g.prototype.isCellCheckboxSelection=function(i){return this.isColumnFunc(i,this.colDef.checkboxSelection)},g.prototype.isSuppressPaste=function(i){return this.isColumnFunc(i,this.colDef?this.colDef.suppressPaste:null)},g.prototype.isResizable=function(){return!!_a(this.colDef.resizable)},g.prototype.isColumnFunc=function(i,t){return"boolean"==typeof t?t:"function"==typeof t&&t(this.createColumnFunctionCallbackParams(i))},g.prototype.setMoving=function(i,t){void 0===t&&(t="api"),this.moving=i,this.eventService.dispatchEvent(this.createColumnEvent(g.EVENT_MOVING_CHANGED,t))},g.prototype.createColumnEvent=function(i,t){return{api:this.gridApi,columnApi:this.columnApi,type:i,column:this,columns:[this],source:t}},g.prototype.isMoving=function(){return this.moving},g.prototype.getSort=function(){return this.sort},g.prototype.setSort=function(i,t){void 0===t&&(t="api"),this.sort!==i&&(this.sort=i,this.eventService.dispatchEvent(this.createColumnEvent(g.EVENT_SORT_CHANGED,t)))},g.prototype.setMenuVisible=function(i,t){void 0===t&&(t="api"),this.menuVisible!==i&&(this.menuVisible=i,this.eventService.dispatchEvent(this.createColumnEvent(g.EVENT_MENU_VISIBLE_CHANGED,t)))},g.prototype.isMenuVisible=function(){return this.menuVisible},g.prototype.isSortAscending=function(){return this.sort===me.SORT_ASC},g.prototype.isSortDescending=function(){return this.sort===me.SORT_DESC},g.prototype.isSortNone=function(){return E(this.sort)},g.prototype.isSorting=function(){return J(this.sort)},g.prototype.getSortIndex=function(){return this.sortIndex},g.prototype.setSortIndex=function(i){this.sortIndex=i},g.prototype.setAggFunc=function(i){this.aggFunc=i},g.prototype.getAggFunc=function(){return this.aggFunc},g.prototype.getLeft=function(){return this.left},g.prototype.getOldLeft=function(){return this.oldLeft},g.prototype.getRight=function(){return this.left+this.actualWidth},g.prototype.setLeft=function(i,t){void 0===t&&(t="api"),this.oldLeft=this.left,this.left!==i&&(this.left=i,this.eventService.dispatchEvent(this.createColumnEvent(g.EVENT_LEFT_CHANGED,t)))},g.prototype.isFilterActive=function(){return this.filterActive},g.prototype.setFilterActive=function(i,t,s){void 0===t&&(t="api"),this.filterActive!==i&&(this.filterActive=i,this.eventService.dispatchEvent(this.createColumnEvent(g.EVENT_FILTER_ACTIVE_CHANGED,t)));var p=this.createColumnEvent(g.EVENT_FILTER_CHANGED,t);s&&Hi(p,s),this.eventService.dispatchEvent(p)},g.prototype.setPinned=function(i){this.pinned=!0===i||i===me.PINNED_LEFT?me.PINNED_LEFT:i===me.PINNED_RIGHT?me.PINNED_RIGHT:null},g.prototype.setFirstRightPinned=function(i,t){void 0===t&&(t="api"),this.firstRightPinned!==i&&(this.firstRightPinned=i,this.eventService.dispatchEvent(this.createColumnEvent(g.EVENT_FIRST_RIGHT_PINNED_CHANGED,t)))},g.prototype.setLastLeftPinned=function(i,t){void 0===t&&(t="api"),this.lastLeftPinned!==i&&(this.lastLeftPinned=i,this.eventService.dispatchEvent(this.createColumnEvent(g.EVENT_LAST_LEFT_PINNED_CHANGED,t)))},g.prototype.isFirstRightPinned=function(){return this.firstRightPinned},g.prototype.isLastLeftPinned=function(){return this.lastLeftPinned},g.prototype.isPinned=function(){return this.pinned===me.PINNED_LEFT||this.pinned===me.PINNED_RIGHT},g.prototype.isPinnedLeft=function(){return this.pinned===me.PINNED_LEFT},g.prototype.isPinnedRight=function(){return this.pinned===me.PINNED_RIGHT},g.prototype.getPinned=function(){return this.pinned},g.prototype.setVisible=function(i,t){void 0===t&&(t="api");var s=!0===i;this.visible!==s&&(this.visible=s,this.eventService.dispatchEvent(this.createColumnEvent(g.EVENT_VISIBLE_CHANGED,t)))},g.prototype.isVisible=function(){return this.visible},g.prototype.getColDef=function(){return this.colDef},g.prototype.getColumnGroupShow=function(){return this.colDef.columnGroupShow},g.prototype.getColId=function(){return this.colId},g.prototype.getId=function(){return this.getColId()},g.prototype.getUniqueId=function(){return this.getId()},g.prototype.getDefinition=function(){return this.colDef},g.prototype.getActualWidth=function(){return this.actualWidth},g.prototype.createBaseColDefParams=function(i){return{node:i,data:i.data,colDef:this.colDef,column:this,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()}},g.prototype.getColSpan=function(i){if(E(this.colDef.colSpan))return 1;var t=this.createBaseColDefParams(i),s=this.colDef.colSpan(t);return Math.max(s,1)},g.prototype.getRowSpan=function(i){if(E(this.colDef.rowSpan))return 1;var t=this.createBaseColDefParams(i),s=this.colDef.rowSpan(t);return Math.max(s,1)},g.prototype.setActualWidth=function(i,t,s){void 0===t&&(t="api"),void 0===s&&(s=!1),null!=this.minWidth&&(i=Math.max(i,this.minWidth)),null!=this.maxWidth&&(i=Math.min(i,this.maxWidth)),this.actualWidth!==i&&(this.actualWidth=i,this.flex&&"flex"!==t&&"gridInitializing"!==t&&(this.flex=null),s||this.fireColumnWidthChangedEvent(t))},g.prototype.fireColumnWidthChangedEvent=function(i){this.eventService.dispatchEvent(this.createColumnEvent(g.EVENT_WIDTH_CHANGED,i))},g.prototype.isGreaterThanMax=function(i){return null!=this.maxWidth&&i>this.maxWidth},g.prototype.getMinWidth=function(){return this.minWidth},g.prototype.getMaxWidth=function(){return this.maxWidth},g.prototype.getFlex=function(){return this.flex||0},g.prototype.setFlex=function(i){this.flex!==i&&(this.flex=i)},g.prototype.setMinimum=function(i){void 0===i&&(i="api"),J(this.minWidth)&&this.setActualWidth(this.minWidth,i)},g.prototype.setRowGroupActive=function(i,t){void 0===t&&(t="api"),this.rowGroupActive!==i&&(this.rowGroupActive=i,this.eventService.dispatchEvent(this.createColumnEvent(g.EVENT_ROW_GROUP_CHANGED,t)))},g.prototype.isRowGroupActive=function(){return this.rowGroupActive},g.prototype.setPivotActive=function(i,t){void 0===t&&(t="api"),this.pivotActive!==i&&(this.pivotActive=i,this.eventService.dispatchEvent(this.createColumnEvent(g.EVENT_PIVOT_CHANGED,t)))},g.prototype.isPivotActive=function(){return this.pivotActive},g.prototype.isAnyFunctionActive=function(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()},g.prototype.isAnyFunctionAllowed=function(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()},g.prototype.setValueActive=function(i,t){void 0===t&&(t="api"),this.aggregationActive!==i&&(this.aggregationActive=i,this.eventService.dispatchEvent(this.createColumnEvent(g.EVENT_VALUE_CHANGED,t)))},g.prototype.isValueActive=function(){return this.aggregationActive},g.prototype.isAllowPivot=function(){return!0===this.colDef.enablePivot},g.prototype.isAllowValue=function(){return!0===this.colDef.enableValue},g.prototype.isAllowRowGroup=function(){return!0===this.colDef.enableRowGroup},g.prototype.getMenuTabs=function(i){var t=this.getColDef().menuTabs;return null==t&&(t=i),t},g.prototype.isLockPosition=function(){return console.warn("AG Grid: since v21, col.isLockPosition() should not be used, please use col.getColDef().lockPosition instead."),!!this.colDef&&!!this.colDef.lockPosition},g.prototype.isLockVisible=function(){return console.warn("AG Grid: since v21, col.isLockVisible() should not be used, please use col.getColDef().lockVisible instead."),!!this.colDef&&!!this.colDef.lockVisible},g.prototype.isLockPinned=function(){return console.warn("AG Grid: since v21, col.isLockPinned() should not be used, please use col.getColDef().lockPinned instead."),!!this.colDef&&!!this.colDef.lockPinned},g.EVENT_MOVING_CHANGED="movingChanged",g.EVENT_LEFT_CHANGED="leftChanged",g.EVENT_WIDTH_CHANGED="widthChanged",g.EVENT_LAST_LEFT_PINNED_CHANGED="lastLeftPinnedChanged",g.EVENT_FIRST_RIGHT_PINNED_CHANGED="firstRightPinnedChanged",g.EVENT_VISIBLE_CHANGED="visibleChanged",g.EVENT_FILTER_CHANGED="filterChanged",g.EVENT_FILTER_ACTIVE_CHANGED="filterActiveChanged",g.EVENT_SORT_CHANGED="sortChanged",g.EVENT_MENU_VISIBLE_CHANGED="menuVisibleChanged",g.EVENT_ROW_GROUP_CHANGED="columnRowGroupChanged",g.EVENT_PIVOT_CHANGED="columnPivotChanged",g.EVENT_VALUE_CHANGED="columnValueChanged",Yd([$("gridOptionsWrapper")],g.prototype,"gridOptionsWrapper",void 0),Yd([$("columnUtils")],g.prototype,"columnUtils",void 0),Yd([$("columnApi")],g.prototype,"columnApi",void 0),Yd([$("gridApi")],g.prototype,"gridApi",void 0),Yd([$("context")],g.prototype,"context",void 0),Yd([$e],g.prototype,"initialise",null),g}();function Vh(){for(var g=[],i=0;i<arguments.length;i++)g[i]=arguments[i];for(var t=0;t<g.length;t++){var s=g[t];if(J(s))return s}return null}function Rn(g){if(g&&g.length)return g[g.length-1]}function hu(g,i,t){return null==g&&null==i||null!=g&&null!=i&&g.length===i.length&&g.every(function(s,p){return t?t(s,i[p]):i[p]===s})}function qd(g){return g.sort(function(i,t){return i-t})}function Pn(g,i){var t=g.indexOf(i);t>=0&&g.splice(t,1)}function Xd(g,i){i.forEach(function(t){return Pn(g,t)})}function Bh(g,i,t){g.splice(t,0,i)}function Qd(g,i,t){Xd(g,i),i.slice().reverse().forEach(function(s){return Bh(g,s,t)})}function ho(g,i){return g.indexOf(i)>-1}function Om(g,i){null==i||null==g||i.forEach(function(t){return g.push(t)})}var Xa=Object.freeze({firstExistingValue:Vh,existsAndNotEmpty:function(g){return null!=g&&g.length>0},last:Rn,areEqual:hu,compareArrays:function(g,i){return hu(g,i)},shallowCompare:function(g,i){return hu(g,i)},sortNumerically:qd,removeRepeatsFromArray:function(g,i){if(g)for(var t=g.length-2;t>=0;t--)g[t]===i&&g[t+1]===i&&g.splice(t+1,1)},removeFromArray:Pn,removeAllFromArray:Xd,insertIntoArray:Bh,insertArrayIntoArray:function(g,i,t){if(null!=g&&null!=i)for(var s=i.length-1;s>=0;s--)Bh(g,i[s],t)},moveInArray:Qd,includes:ho,flatten:function(g){return[].concat.apply([],g)},pushAll:Om,toStrings:function(g){return g.map(Cl)},forEachReverse:function(g,i){if(null!=g)for(var t=g.length-1;t>=0;t--)i(g[t],t)}}),Or=function(){function g(i,t,s,p){this.displayedChildren=[],this.localEventService=new wl,this.groupId=t,this.instanceId=s,this.providedColumnGroup=i,this.pinned=p}return g.createUniqueId=function(i,t){return i+"_"+t},g.prototype.reset=function(){this.parent=null,this.children=null,this.displayedChildren=null},g.prototype.getParent=function(){return this.parent},g.prototype.setParent=function(i){this.parent=i},g.prototype.getUniqueId=function(){return g.createUniqueId(this.groupId,this.instanceId)},g.prototype.isEmptyGroup=function(){return 0===this.displayedChildren.length},g.prototype.isMoving=function(){var i=this.getProvidedColumnGroup().getLeafColumns();return!(!i||0===i.length)&&i.every(function(t){return t.isMoving()})},g.prototype.checkLeft=function(){if(this.displayedChildren.forEach(function(p){p instanceof g&&p.checkLeft()}),this.displayedChildren.length>0)if(this.gridOptionsWrapper.isEnableRtl()){var t=Rn(this.displayedChildren).getLeft();this.setLeft(t)}else{var s=this.displayedChildren[0].getLeft();this.setLeft(s)}else this.setLeft(null)},g.prototype.getLeft=function(){return this.left},g.prototype.getOldLeft=function(){return this.oldLeft},g.prototype.setLeft=function(i){this.oldLeft=i,this.left!==i&&(this.left=i,this.localEventService.dispatchEvent(this.createAgEvent(g.EVENT_LEFT_CHANGED)))},g.prototype.getPinned=function(){return this.pinned},g.prototype.createAgEvent=function(i){return{type:i}},g.prototype.addEventListener=function(i,t){this.localEventService.addEventListener(i,t)},g.prototype.removeEventListener=function(i,t){this.localEventService.removeEventListener(i,t)},g.prototype.getGroupId=function(){return this.groupId},g.prototype.getInstanceId=function(){return this.instanceId},g.prototype.isChildInThisGroupDeepSearch=function(i){var t=!1;return this.children.forEach(function(s){i===s&&(t=!0),s instanceof g&&s.isChildInThisGroupDeepSearch(i)&&(t=!0)}),t},g.prototype.getActualWidth=function(){var i=0;return this.displayedChildren&&this.displayedChildren.forEach(function(t){i+=t.getActualWidth()}),i},g.prototype.isResizable=function(){if(!this.displayedChildren)return!1;var i=!1;return this.displayedChildren.forEach(function(t){t.isResizable()&&(i=!0)}),i},g.prototype.getMinWidth=function(){var i=0;return this.displayedChildren.forEach(function(t){i+=t.getMinWidth()||0}),i},g.prototype.addChild=function(i){this.children||(this.children=[]),this.children.push(i)},g.prototype.getDisplayedChildren=function(){return this.displayedChildren},g.prototype.getLeafColumns=function(){var i=[];return this.addLeafColumns(i),i},g.prototype.getDisplayedLeafColumns=function(){var i=[];return this.addDisplayedLeafColumns(i),i},g.prototype.getDefinition=function(){return this.providedColumnGroup.getColGroupDef()},g.prototype.getColGroupDef=function(){return this.providedColumnGroup.getColGroupDef()},g.prototype.isPadding=function(){return this.providedColumnGroup.isPadding()},g.prototype.isExpandable=function(){return this.providedColumnGroup.isExpandable()},g.prototype.isExpanded=function(){return this.providedColumnGroup.isExpanded()},g.prototype.setExpanded=function(i){this.providedColumnGroup.setExpanded(i)},g.prototype.addDisplayedLeafColumns=function(i){this.displayedChildren.forEach(function(t){t instanceof pn?i.push(t):t instanceof g&&t.addDisplayedLeafColumns(i)})},g.prototype.addLeafColumns=function(i){this.children.forEach(function(t){t instanceof pn?i.push(t):t instanceof g&&t.addLeafColumns(i)})},g.prototype.getChildren=function(){return this.children},g.prototype.getColumnGroupShow=function(){return this.providedColumnGroup.getColumnGroupShow()},g.prototype.getProvidedColumnGroup=function(){return this.providedColumnGroup},g.prototype.getOriginalColumnGroup=function(){return console.warn("AG Grid: columnGroup.getOriginalColumnGroup() is deprecated due toa method rename, use columnGroup.getProvidedColumnGroup() instead"),this.getProvidedColumnGroup()},g.prototype.getPaddingLevel=function(){var i=this.getParent();return this.isPadding()&&i&&i.isPadding()?1+i.getPaddingLevel():0},g.prototype.calculateDisplayedColumns=function(){var i=this;this.displayedChildren=[];for(var t=this;null!=t&&t.isPadding();)t=t.getParent();if(!t||!t.providedColumnGroup.isExpandable())return this.displayedChildren=this.children,void this.localEventService.dispatchEvent(this.createAgEvent(g.EVENT_DISPLAYED_CHILDREN_CHANGED));this.children.forEach(function(p){if(!(p instanceof g)||p.displayedChildren&&p.displayedChildren.length)switch(p.getColumnGroupShow()){case g.HEADER_GROUP_SHOW_OPEN:t.providedColumnGroup.isExpanded()&&i.displayedChildren.push(p);break;case g.HEADER_GROUP_SHOW_CLOSED:t.providedColumnGroup.isExpanded()||i.displayedChildren.push(p);break;default:i.displayedChildren.push(p)}}),this.localEventService.dispatchEvent(this.createAgEvent(g.EVENT_DISPLAYED_CHILDREN_CHANGED))},g.HEADER_GROUP_SHOW_OPEN="open",g.HEADER_GROUP_SHOW_CLOSED="closed",g.EVENT_LEFT_CHANGED="leftChanged",g.EVENT_DISPLAYED_CHILDREN_CHANGED="displayedChildrenChanged",function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);p>3&&f&&Object.defineProperty(i,t,f)}([$("gridOptionsWrapper")],g.prototype,"gridOptionsWrapper",void 0),g}(),cr=function(){function g(i,t,s,p){this.localEventService=new wl,this.expandable=!1,this.colGroupDef=i,this.groupId=t,this.expanded=!!i&&!!i.openByDefault,this.padding=s,this.level=p}return g.prototype.setOriginalParent=function(i){this.originalParent=i},g.prototype.getOriginalParent=function(){return this.originalParent},g.prototype.getLevel=function(){return this.level},g.prototype.isVisible=function(){return!!this.children&&this.children.some(function(i){return i.isVisible()})},g.prototype.isPadding=function(){return this.padding},g.prototype.setExpanded=function(i){this.expanded=void 0!==i&&i,this.localEventService.dispatchEvent({type:g.EVENT_EXPANDED_CHANGED})},g.prototype.isExpandable=function(){return this.expandable},g.prototype.isExpanded=function(){return this.expanded},g.prototype.getGroupId=function(){return this.groupId},g.prototype.getId=function(){return this.getGroupId()},g.prototype.setChildren=function(i){this.children=i},g.prototype.getChildren=function(){return this.children},g.prototype.getColGroupDef=function(){return this.colGroupDef},g.prototype.getLeafColumns=function(){var i=[];return this.addLeafColumns(i),i},g.prototype.addLeafColumns=function(i){!this.children||this.children.forEach(function(t){t instanceof pn?i.push(t):t instanceof g&&t.addLeafColumns(i)})},g.prototype.getColumnGroupShow=function(){var i=this.colGroupDef;if(i)return i.columnGroupShow},g.prototype.setupExpandable=function(){var i=this;this.setExpandable(),this.getLeafColumns().forEach(function(t){return t.addEventListener(pn.EVENT_VISIBLE_CHANGED,i.onColumnVisibilityChanged.bind(i))})},g.prototype.setExpandable=function(){if(!this.isPadding()){for(var i=!1,t=!1,s=!1,p=this.findChildrenRemovingPadding(),f=0,_=p.length;f<_;f++){var b=p[f];if(b.isVisible()){var A=b.getColumnGroupShow();A===Or.HEADER_GROUP_SHOW_OPEN?(i=!0,s=!0):A===Or.HEADER_GROUP_SHOW_CLOSED?(t=!0,s=!0):(i=!0,t=!0)}}var M=i&&t&&s;this.expandable!==M&&(this.expandable=M,this.localEventService.dispatchEvent({type:g.EVENT_EXPANDABLE_CHANGED}))}},g.prototype.findChildrenRemovingPadding=function(){var i=[],t=function(s){s.forEach(function(p){p instanceof g&&p.isPadding()?t(p.children):i.push(p)})};return t(this.children),i},g.prototype.onColumnVisibilityChanged=function(){this.setExpandable()},g.prototype.addEventListener=function(i,t){this.localEventService.addEventListener(i,t)},g.prototype.removeEventListener=function(i,t){this.localEventService.removeEventListener(i,t)},g.EVENT_EXPANDED_CHANGED="expandedChanged",g.EVENT_EXPANDABLE_CHANGED="expandableChanged",g}(),Am={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}},Tm="__ag_Grid_Stop_Propagation",Hh=["touchstart","touchend","touchmove","touchcancel"],Rm={};function Os(g){g[Tm]=!0}function Sa(g){return!0===g[Tm]}var Zd=function(){var g={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return function(t){if("boolean"==typeof Rm[t])return Rm[t];var s=document.createElement(g[t]||"div");return Rm[t="on"+t]=t in s}}();function Jd(g,i,t){for(var s=i.target;s;){var p=g.getDomData(s,t);if(p)return p;s=s.parentElement}return null}function ep(g,i){return!(!i||!g)&&tp(i).indexOf(g)>=0}function I_(g){for(var i=[],t=g.target;t;)i.push(t),t=t.parentElement;return i}function tp(g){var i=g;return i.path?i.path:i.composedPath?i.composedPath():i.__agGridEventPath?i.__agGridEventPath:I_(g)}function N_(g,i,t,s){var p=ho(Hh,t);g&&g.addEventListener&&g.addEventListener(i,t,s,p?{passive:!0}:void 0)}var L_=Object.freeze({stopPropagationForAgGrid:Os,isStopPropagationForAgGrid:Sa,isEventSupported:Zd,getCtrlForEvent:Jd,addChangeListener:function(g,i){g.addEventListener("changed",i),g.addEventListener("paste",i),g.addEventListener("input",i)},isElementInEventPath:ep,createEventPath:I_,addAgGridEventPath:function(g){g.__agGridEventPath=tp(g)},getEventPath:tp,addSafePassiveEventListener:N_}),xs=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},Ge=function(){function g(){var i=this;this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.isAlive=function(){return!i.destroyed}}return g.prototype.getFrameworkOverrides=function(){return this.frameworkOverrides},g.prototype.getContext=function(){return this.context},g.prototype.destroy=function(){this.destroyFunctions.forEach(function(i){return i()}),this.destroyFunctions.length=0,this.destroyed=!0,this.dispatchEvent({type:g.EVENT_DESTROYED})},g.prototype.addEventListener=function(i,t){this.localEventService||(this.localEventService=new wl),this.localEventService.addEventListener(i,t)},g.prototype.removeEventListener=function(i,t){this.localEventService&&this.localEventService.removeEventListener(i,t)},g.prototype.dispatchEventAsync=function(i){var t=this;window.setTimeout(function(){return t.dispatchEvent(i)},0)},g.prototype.dispatchEvent=function(i){this.localEventService&&this.localEventService.dispatchEvent(i)},g.prototype.addManagedListener=function(i,t,s){var p=this;if(!this.destroyed){i instanceof HTMLElement?N_(this.getFrameworkOverrides(),i,t,s):i.addEventListener(t,s);var f=function(){return i.removeEventListener(t,s),p.destroyFunctions=p.destroyFunctions.filter(function(_){return _!==f}),null};return this.destroyFunctions.push(f),f}},g.prototype.addDestroyFunc=function(i){this.isAlive()?this.destroyFunctions.push(i):i()},g.prototype.createManagedBean=function(i,t){var s=this.createBean(i,t);return this.addDestroyFunc(this.destroyBean.bind(this,i,t)),s},g.prototype.createBean=function(i,t,s){return(t||this.getContext()).createBean(i,s)},g.prototype.destroyBean=function(i,t){return(t||this.getContext()).destroyBean(i)},g.prototype.destroyBeans=function(i,t){var s=this;return i&&i.forEach(function(p){return s.destroyBean(p,t)}),[]},g.EVENT_DESTROYED="destroyed",xs([$("frameworkOverrides")],g.prototype,"frameworkOverrides",void 0),xs([$("context")],g.prototype,"context",void 0),xs([$("eventService")],g.prototype,"eventService",void 0),xs([$("gridOptionsWrapper")],g.prototype,"gridOptionsWrapper",void 0),xs([hi],g.prototype,"destroy",null),g}(),fo=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),jh=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},Mm=function(g,i){return function(t,s){i(t,s,g)}},jn=function(g){function i(){return null!==g&&g.apply(this,arguments)||this}return fo(i,g),i.prototype.setBeans=function(t){this.logger=t.create("ColumnFactory")},i.prototype.createColumnTree=function(t,s,p){var f=new ii,_=this.extractExistingTreeData(p),b=_.existingCols,A=_.existingGroups;f.addExistingKeys(_.existingColKeys);var L=this.recursivelyCreateColumns(t,0,s,b,f,A),G=this.findMaxDept(L,0);this.logger.log("Number of levels for grouped columns is "+G);var U=this.balanceColumnTree(L,0,G,f);return this.columnUtils.depthFirstOriginalTreeSearch(null,U,function(le,ge){le instanceof cr&&le.setupExpandable(),le.setOriginalParent(ge)}),{columnTree:U,treeDept:G}},i.prototype.extractExistingTreeData=function(t){var s=[],p=[],f=[];return t&&this.columnUtils.depthFirstOriginalTreeSearch(null,t,function(_){if(_ instanceof cr)p.push(_);else{var A=_;f.push(A.getId()),s.push(A)}}),{existingCols:s,existingGroups:p,existingColKeys:f}},i.prototype.createForAutoGroups=function(t,s){var p=this,f=[];return t.forEach(function(_){var b=p.createAutoGroupTreeItem(s,_);f.push(b)}),f},i.prototype.createAutoGroupTreeItem=function(t,s){for(var f=s,_=this.findDepth(t)-1;_>=0;_--){var b=new cr(null,"FAKE_PATH_"+s.getId()+"}_"+_,!0,_);this.context.createBean(b),b.setChildren([f]),f.setOriginalParent(b),f=b}return f},i.prototype.findDepth=function(t){for(var s=0,p=t;p&&p[0]&&p[0]instanceof cr;)s++,p=p[0].getChildren();return s},i.prototype.balanceColumnTree=function(t,s,p,f){for(var _=[],b=0;b<t.length;b++){var A=t[b];if(A instanceof cr){var M=A,L=this.balanceColumnTree(M.getChildren(),s+1,p,f);M.setChildren(L),_.push(M)}else{for(var G=void 0,U=void 0,te=p-1;te>=s;te--){var le=f.getUniqueKey(null,null),ge=this.createMergedColGroupDef(null),ve=new cr(ge,le,!0,s);this.context.createBean(ve),U&&U.setChildren([ve]),U=ve,G||(G=U)}if(G&&U){if(_.push(G),t.some(function(Re){return Re instanceof cr})){U.setChildren([A]);continue}U.setChildren(t);break}_.push(A)}}return _},i.prototype.findMaxDept=function(t,s){for(var p=s,f=0;f<t.length;f++){var _=t[f];if(_ instanceof cr){var A=this.findMaxDept(_.getChildren(),s+1);p<A&&(p=A)}}return p},i.prototype.recursivelyCreateColumns=function(t,s,p,f,_,b){var A=this,M=[];return t&&t.forEach(function(L){var G;G=A.isColumnGroup(L)?A.createColumnGroup(p,L,s,f,_,b):A.createColumn(p,L,f,_),M.push(G)}),M},i.prototype.createColumnGroup=function(t,s,p,f,_,b){var A=this.createMergedColGroupDef(s),M=_.getUniqueKey(A.groupId||null,null),L=new cr(A,M,!1,p);this.context.createBean(L);var G=this.findExistingGroup(s,b);G&&G.isExpanded()&&L.setExpanded(!0);var U=this.recursivelyCreateColumns(A.children,p+1,t,f,_,b);return L.setChildren(U),L},i.prototype.createMergedColGroupDef=function(t){var s={};return Object.assign(s,this.gridOptionsWrapper.getDefaultColGroupDef()),Object.assign(s,t),this.checkForDeprecatedItems(s),s},i.prototype.createColumn=function(t,s,p,f){var _=this.mergeColDefs(s);this.checkForDeprecatedItems(_);var b=this.findExistingColumn(s,p);if(b)b.setColDef(_,s),this.applyColumnState(b,_);else{var A=f.getUniqueKey(_.colId,_.field);b=new pn(_,s,A,t),this.context.createBean(b)}return b},i.prototype.applyColumnState=function(t,s){var p=an(s.flex);if(void 0!==p&&t.setFlex(p),t.getFlex()<=0){var _=an(s.width);if(null!=_)t.setActualWidth(_);else{var b=t.getActualWidth();t.setActualWidth(b)}}void 0!==s.sort&&t.setSort(s.sort==me.SORT_ASC||s.sort==me.SORT_DESC?s.sort:void 0);var A=an(s.sortIndex);void 0!==A&&t.setSortIndex(A);var M=_a(s.hide);void 0!==M&&t.setVisible(!M),void 0!==s.pinned&&t.setPinned(s.pinned)},i.prototype.findExistingColumn=function(t,s){var p=(s||[]).find(function(f){var _=f.getUserProvidedColDef();if(!_)return!1;var A=null!=t.field;return null!=t.colId?f.getId()===t.colId:A?_.field===t.field:_===t});return s&&p&&Pn(s,p),p||null},i.prototype.findExistingGroup=function(t,s){var p=s.find(function(f){return!(!f.getColGroupDef()||null==t.groupId||f.getId()!==t.groupId)});return p&&Pn(s,p),p||null},i.prototype.mergeColDefs=function(t){var s={},p=this.gridOptionsWrapper.getDefaultColDef();Hi(s,p,!1,!0);var f=t.type;return f||(f=p&&p.type),f&&this.assignColumnTypes(f,s),Hi(s,t,!1,!0),s},i.prototype.assignColumnTypes=function(t,s){var p=[];if(t instanceof Array)t.some(function(A){return"string"!=typeof A})?console.warn("AG Grid: if colDef.type is supplied an array it should be of type 'string[]'"):p=t;else{if("string"!=typeof t)return void console.warn("AG Grid: colDef.type should be of type 'string' | 'string[]'");p=t.split(",")}var _=Object.assign({},Am);Sn(this.gridOptionsWrapper.getColumnTypes()||{},function(A,M){A in _?console.warn("AG Grid: the column type '"+A+"' is a default column type and cannot be overridden."):_[A]=M}),p.forEach(function(A){var M=_[A.trim()];M?Hi(s,M,!1,!0):console.warn("AG Grid: colDef.type '"+A+"' does not correspond to defined gridOptions.columnTypes")})},i.prototype.checkForDeprecatedItems=function(t){if(t){var s=t;void 0!==s.group&&console.warn("AG Grid: colDef.group is invalid, please check documentation on how to do grouping as it changed in version 3"),void 0!==s.headerGroup&&console.warn("AG Grid: colDef.headerGroup is invalid, please check documentation on how to do grouping as it changed in version 3"),void 0!==s.headerGroupShow&&console.warn("AG Grid: colDef.headerGroupShow is invalid, should be columnGroupShow, please check documentation on how to do grouping as it changed in version 3"),void 0!==s.suppressRowGroup&&console.warn("AG Grid: colDef.suppressRowGroup is deprecated, please use colDef.type instead"),void 0!==s.suppressAggregation&&console.warn("AG Grid: colDef.suppressAggregation is deprecated, please use colDef.type instead"),(s.suppressRowGroup||s.suppressAggregation)&&console.warn("AG Grid: colDef.suppressAggregation and colDef.suppressRowGroup are deprecated, use allowRowGroup, allowPivot and allowValue instead"),s.displayName&&(console.warn("AG Grid: Found displayName "+s.displayName+", please use headerName instead, displayName is deprecated."),s.headerName=s.displayName)}},i.prototype.isColumnGroup=function(t){return void 0!==t.children},jh([$("columnUtils")],i.prototype,"columnUtils",void 0),jh([Mm(0,bi("loggerFactory"))],i.prototype,"setBeans",null),jh([tt("columnFactory")],i)}(Ge),re=function(){function g(){}return g.EVENT_COLUMN_EVERYTHING_CHANGED="columnEverythingChanged",g.EVENT_NEW_COLUMNS_LOADED="newColumnsLoaded",g.EVENT_COLUMN_PIVOT_MODE_CHANGED="columnPivotModeChanged",g.EVENT_COLUMN_ROW_GROUP_CHANGED="columnRowGroupChanged",g.EVENT_EXPAND_COLLAPSE_ALL="expandOrCollapseAll",g.EVENT_COLUMN_PIVOT_CHANGED="columnPivotChanged",g.EVENT_GRID_COLUMNS_CHANGED="gridColumnsChanged",g.EVENT_COLUMN_VALUE_CHANGED="columnValueChanged",g.EVENT_COLUMN_MOVED="columnMoved",g.EVENT_COLUMN_VISIBLE="columnVisible",g.EVENT_COLUMN_PINNED="columnPinned",g.EVENT_COLUMN_GROUP_OPENED="columnGroupOpened",g.EVENT_COLUMN_RESIZED="columnResized",g.EVENT_DISPLAYED_COLUMNS_CHANGED="displayedColumnsChanged",g.EVENT_VIRTUAL_COLUMNS_CHANGED="virtualColumnsChanged",g.EVENT_ASYNC_TRANSACTIONS_FLUSHED="asyncTransactionsFlushed",g.EVENT_ROW_GROUP_OPENED="rowGroupOpened",g.EVENT_ROW_DATA_CHANGED="rowDataChanged",g.EVENT_ROW_DATA_UPDATED="rowDataUpdated",g.EVENT_PINNED_ROW_DATA_CHANGED="pinnedRowDataChanged",g.EVENT_RANGE_SELECTION_CHANGED="rangeSelectionChanged",g.EVENT_CHART_CREATED="chartCreated",g.EVENT_CHART_RANGE_SELECTION_CHANGED="chartRangeSelectionChanged",g.EVENT_CHART_OPTIONS_CHANGED="chartOptionsChanged",g.EVENT_CHART_DESTROYED="chartDestroyed",g.EVENT_TOOL_PANEL_VISIBLE_CHANGED="toolPanelVisibleChanged",g.EVENT_COLUMN_PANEL_ITEM_DRAG_START="columnPanelItemDragStart",g.EVENT_COLUMN_PANEL_ITEM_DRAG_END="columnPanelItemDragEnd",g.EVENT_MODEL_UPDATED="modelUpdated",g.EVENT_PASTE_START="pasteStart",g.EVENT_PASTE_END="pasteEnd",g.EVENT_FILL_START="fillStart",g.EVENT_FILL_END="fillEnd",g.EVENT_CELL_CLICKED="cellClicked",g.EVENT_CELL_DOUBLE_CLICKED="cellDoubleClicked",g.EVENT_CELL_MOUSE_DOWN="cellMouseDown",g.EVENT_CELL_CONTEXT_MENU="cellContextMenu",g.EVENT_CELL_VALUE_CHANGED="cellValueChanged",g.EVENT_ROW_VALUE_CHANGED="rowValueChanged",g.EVENT_CELL_FOCUSED="cellFocused",g.EVENT_ROW_SELECTED="rowSelected",g.EVENT_SELECTION_CHANGED="selectionChanged",g.EVENT_CELL_KEY_DOWN="cellKeyDown",g.EVENT_CELL_KEY_PRESS="cellKeyPress",g.EVENT_CELL_MOUSE_OVER="cellMouseOver",g.EVENT_CELL_MOUSE_OUT="cellMouseOut",g.EVENT_FILTER_CHANGED="filterChanged",g.EVENT_FILTER_MODIFIED="filterModified",g.EVENT_FILTER_OPENED="filterOpened",g.EVENT_SORT_CHANGED="sortChanged",g.EVENT_VIRTUAL_ROW_REMOVED="virtualRowRemoved",g.EVENT_ROW_CLICKED="rowClicked",g.EVENT_ROW_DOUBLE_CLICKED="rowDoubleClicked",g.EVENT_GRID_READY="gridReady",g.EVENT_GRID_SIZE_CHANGED="gridSizeChanged",g.EVENT_VIEWPORT_CHANGED="viewportChanged",g.EVENT_SCROLLBAR_WIDTH_CHANGED="scrollbarWidthChanged",g.EVENT_FIRST_DATA_RENDERED="firstDataRendered",g.EVENT_DRAG_STARTED="dragStarted",g.EVENT_DRAG_STOPPED="dragStopped",g.EVENT_CHECKBOX_CHANGED="checkboxChanged",g.EVENT_ROW_EDITING_STARTED="rowEditingStarted",g.EVENT_ROW_EDITING_STOPPED="rowEditingStopped",g.EVENT_CELL_EDITING_STARTED="cellEditingStarted",g.EVENT_CELL_EDITING_STOPPED="cellEditingStopped",g.EVENT_BODY_SCROLL="bodyScroll",g.EVENT_BODY_SCROLL_END="bodyScrollEnd",g.EVENT_HEIGHT_SCALE_CHANGED="heightScaleChanged",g.EVENT_PAGINATION_CHANGED="paginationChanged",g.EVENT_COMPONENT_STATE_CHANGED="componentStateChanged",g.EVENT_BODY_HEIGHT_CHANGED="bodyHeightChanged",g.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED="displayedColumnsWidthChanged",g.EVENT_SCROLL_VISIBILITY_CHANGED="scrollVisibilityChanged",g.EVENT_COLUMN_HOVER_CHANGED="columnHoverChanged",g.EVENT_FLASH_CELLS="flashCells",g.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED="paginationPixelOffsetChanged",g.EVENT_DISPLAYED_ROWS_CHANGED="displayedRowsChanged",g.EVENT_LEFT_PINNED_WIDTH_CHANGED="leftPinnedWidthChanged",g.EVENT_RIGHT_PINNED_WIDTH_CHANGED="rightPinnedWidthChanged",g.EVENT_ROW_CONTAINER_HEIGHT_CHANGED="rowContainerHeightChanged",g.EVENT_ROW_DRAG_ENTER="rowDragEnter",g.EVENT_ROW_DRAG_MOVE="rowDragMove",g.EVENT_ROW_DRAG_LEAVE="rowDragLeave",g.EVENT_ROW_DRAG_END="rowDragEnd",g.EVENT_POPUP_TO_FRONT="popupToFront",g.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST="columnRowGroupChangeRequest",g.EVENT_COLUMN_PIVOT_CHANGE_REQUEST="columnPivotChangeRequest",g.EVENT_COLUMN_VALUE_CHANGE_REQUEST="columnValueChangeRequest",g.EVENT_COLUMN_AGG_FUNC_CHANGE_REQUEST="columnAggFuncChangeRequest",g.EVENT_KEYBOARD_FOCUS="keyboardFocus",g.EVENT_MOUSE_FOCUS="mouseFocus",g.EVENT_STORE_UPDATED="storeUpdated",g}(),ln=function(){function g(){this.existingIds={}}return g.prototype.getInstanceIdForKey=function(i){var s,t=this.existingIds[i];return this.existingIds[i]=s="number"!=typeof t?0:t+1,s},g}(),As=/[&<>"']/g,Pw={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Kt(g){return null==g?null:g.replace(/([A-Z])/g,function(i){return"-"+i[0].toLowerCase()})}function Fm(g){return null==g?null:g.replace(/-([a-z])/g,function(i){return i[1].toUpperCase()})}function k_(g){return g[0].toUpperCase()+g.substr(1).toLowerCase()}function mr(g){return null==g?null:g.toString().toString().replace(As,function(i){return Pw[i]})}function G_(g){return g&&null!=g?g.replace(/([A-Z])([A-Z])([a-z])|([a-z])([A-Z])/g,"$1$4 $2$3$5").replace("."," ").split(" ").map(function(s){return s.substring(0,1).toUpperCase()+(s.length>1?s.substring(1,s.length):"")}).join(" "):null}var Im=Object.freeze({utf8_encode:function(g){var i=String.fromCharCode;function p(G,U){return i(G>>U&63|128)}function f(G){if(G>=0&&G<=31&&10!==G)return"_x"+G.toString(16).toUpperCase().padStart(4,"0")+"_";if(0==(4294967168&G))return i(G);var le="";return 0==(4294965248&G)?le=i(G>>6&31|192):0==(4294901760&G)?(function(G){if(G>=55296&&G<=57343)throw Error("Lone surrogate U+"+G.toString(16).toUpperCase()+" is not a scalar value")}(G),le=i(G>>12&15|224),le+=p(G,6)):0==(4292870144&G)&&(le=i(G>>18&7|240),le+=p(G,12),le+=p(G,6)),le+i(63&G|128)}for(var _=function(G){var U=[];if(!G)return[];for(var ge,ve,te=G.length,le=0;le<te;)(ge=G.charCodeAt(le++))>=55296&&ge<=56319&&le<te?56320==(64512&(ve=G.charCodeAt(le++)))?U.push(((1023&ge)<<10)+(1023&ve)+65536):(U.push(ge),le--):U.push(ge);return U}(g),b=_.length,A=-1,L="";++A<b;)L+=f(_[A]);return L},camelCaseToHyphen:Kt,hyphenToCamelCase:Fm,capitalise:k_,escapeString:mr,camelCaseToHumanText:G_});function Ft(g){var i=new Map;return g.forEach(function(t){return i.set(t[0],t[1])}),i}var hD=Object.freeze({convertToMap:Ft,mapById:function(g,i){var t=new Map;return g.forEach(function(s){return t.set(i(s),s)}),t},keys:function(g){var i=[];return g.forEach(function(t,s){return i.push(s)}),i}}),fD=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),vr=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},So=function(g,i){return function(t,s){i(t,s,g)}},Fw=function(g){var i="function"==typeof Symbol&&Symbol.iterator,t=i&&g[i],s=0;if(t)return t.call(g);if(g&&"number"==typeof g.length)return{next:function(){return g&&s>=g.length&&(g=void 0),{value:g&&g[s++],done:!g}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},V_=function(g,i){var t="function"==typeof Symbol&&g[Symbol.iterator];if(!t)return g;var p,_,s=t.call(g),f=[];try{for(;(void 0===i||i-- >0)&&!(p=s.next()).done;)f.push(p.value)}catch(b){_={error:b}}finally{try{p&&!p.done&&(t=s.return)&&t.call(s)}finally{if(_)throw _.error}}return f},B_=function(){for(var g=[],i=0;i<arguments.length;i++)g=g.concat(V_(arguments[i]));return g},$o=function(g){function i(){var t=null!==g&&g.apply(this,arguments)||this;return t.primaryHeaderRowCount=0,t.secondaryHeaderRowCount=0,t.secondaryColumnsPresent=!1,t.gridHeaderRowCount=0,t.displayedColumnsLeft=[],t.displayedColumnsRight=[],t.displayedColumnsCenter=[],t.displayedColumns=[],t.displayedColumnsAndGroupsMap={},t.viewportColumns=[],t.viewportColumnsCenter=[],t.autoHeightActiveAtLeastOnce=!1,t.rowGroupColumns=[],t.valueColumns=[],t.pivotColumns=[],t.ready=!1,t.autoGroupsNeedBuilding=!1,t.forceRecreateAutoGroups=!1,t.pivotMode=!1,t.bodyWidth=0,t.leftWidth=0,t.rightWidth=0,t.bodyWidthDirty=!0,t.colDefVersion=0,t.flexColsCalculatedAtLestOnce=!1,t}return fD(i,g),i.prototype.init=function(){this.suppressColumnVirtualisation=this.gridOptionsWrapper.isSuppressColumnVirtualisation();var t=this.gridOptionsWrapper.isPivotMode();this.isPivotSettingAllowed(t)&&(this.pivotMode=t),this.usingTreeData=this.gridOptionsWrapper.isTreeData(),this.addManagedListener(this.gridOptionsWrapper,"autoGroupColumnDef",this.onAutoGroupColumnDefChanged.bind(this))},i.prototype.onAutoGroupColumnDefChanged=function(){this.autoGroupsNeedBuilding=!0,this.forceRecreateAutoGroups=!0,this.updateGridColumns(),this.updateDisplayedColumns("gridOptionsChanged")},i.prototype.getColDefVersion=function(){return this.colDefVersion},i.prototype.setColumnDefs=function(t,s){var p=this;void 0===s&&(s="api");var f=!!this.columnDefs;this.colDefVersion++;var _=this.compareColumnStatesAndRaiseEvents(s);this.columnDefs=t,this.valueCache.expire(),this.autoGroupsNeedBuilding=!0;var b=this.primaryColumns,M=this.columnFactory.createColumnTree(t,!0,this.primaryColumnTree);this.primaryColumnTree=M.columnTree,this.primaryHeaderRowCount=M.treeDept+1,this.primaryColumns=this.getColumnsFromTree(this.primaryColumnTree),this.primaryColumnsMap={},this.primaryColumns.forEach(function(U){return p.primaryColumnsMap[U.getId()]=U}),this.extractRowGroupColumns(s,b),this.extractPivotColumns(s,b),this.extractValueColumns(s,b),this.ready=!0,(this.gridColsArePrimary||void 0===this.gridColsArePrimary)&&(this.updateGridColumns(),f&&!this.gridOptionsWrapper.isMaintainColumnOrder()&&this.orderGridColumnsLikePrimary(),this.updateDisplayedColumns(s),this.checkViewportColumns()),this.dispatchEverythingChanged(s),_(),this.dispatchNewColumnsLoaded()},i.prototype.dispatchNewColumnsLoaded=function(){this.eventService.dispatchEvent({type:re.EVENT_NEW_COLUMNS_LOADED,api:this.gridApi,columnApi:this.columnApi})},i.prototype.dispatchEverythingChanged=function(t){void 0===t&&(t="api"),this.eventService.dispatchEvent({type:re.EVENT_COLUMN_EVERYTHING_CHANGED,api:this.gridApi,columnApi:this.columnApi,source:t})},i.prototype.orderGridColumnsLikePrimary=function(){var t=this,s=this.primaryColumns;!s||this.gridColumns.sort(function(p,f){var _=s.indexOf(p),b=s.indexOf(f),A=_>=0,M=b>=0;return A&&M?_-b:A?1:M?-1:t.gridColumns.indexOf(p)-t.gridColumns.indexOf(f)})},i.prototype.getAllDisplayedAutoHeightCols=function(){return this.displayedAutoHeightCols},i.prototype.setViewport=function(){this.gridOptionsWrapper.isEnableRtl()?(this.viewportLeft=this.bodyWidth-this.scrollPosition-this.scrollWidth,this.viewportRight=this.bodyWidth-this.scrollPosition):(this.viewportLeft=this.scrollPosition,this.viewportRight=this.scrollWidth+this.scrollPosition)},i.prototype.getDisplayedColumnsStartingAt=function(t){for(var s=t,p=[];null!=s;)p.push(s),s=this.getDisplayedColAfter(s);return p},i.prototype.checkViewportColumns=function(){if(null!=this.displayedColumnsCenter){var t=this.viewportColumns.map(function(f){return f.getId()}).join("#");this.extractViewport(),t!==this.viewportColumns.map(function(f){return f.getId()}).join("#")&&this.eventService.dispatchEvent({type:re.EVENT_VIRTUAL_COLUMNS_CHANGED,api:this.gridApi,columnApi:this.columnApi})}},i.prototype.setViewportPosition=function(t,s){(t!==this.scrollWidth||s!==this.scrollPosition||this.bodyWidthDirty)&&(this.scrollWidth=t,this.scrollPosition=s,this.bodyWidthDirty=!0,this.setViewport(),this.ready&&this.checkViewportColumns())},i.prototype.isPivotMode=function(){return this.pivotMode},i.prototype.isPivotSettingAllowed=function(t){return!t||!this.gridOptionsWrapper.isTreeData()||(console.warn("AG Grid: Pivot mode not available in conjunction Tree Data i.e. 'gridOptions.treeData: true'"),!1)},i.prototype.setPivotMode=function(t,s){void 0===s&&(s="api"),t!==this.pivotMode&&this.isPivotSettingAllowed(this.pivotMode)&&(this.pivotMode=t,this.autoGroupsNeedBuilding=!0,this.updateGridColumns(),this.updateDisplayedColumns(s),this.eventService.dispatchEvent({type:re.EVENT_COLUMN_PIVOT_MODE_CHANGED,api:this.gridApi,columnApi:this.columnApi}))},i.prototype.getSecondaryPivotColumn=function(t,s){if(!this.secondaryColumnsPresent||!this.secondaryColumns)return null;var p=this.getPrimaryColumn(s),f=null;return this.secondaryColumns.forEach(function(_){var b=_.getColDef().pivotKeys,A=_.getColDef().pivotValueColumn;hu(b,t)&&A===p&&(f=_)}),f},i.prototype.setBeans=function(t){this.logger=t.create("columnModel")},i.prototype.setFirstRightAndLastLeftPinned=function(t){var s,p;this.gridOptionsWrapper.isEnableRtl()?(s=this.displayedColumnsLeft?this.displayedColumnsLeft[0]:null,p=this.displayedColumnsRight?Rn(this.displayedColumnsRight):null):(s=this.displayedColumnsLeft?Rn(this.displayedColumnsLeft):null,p=this.displayedColumnsRight?this.displayedColumnsRight[0]:null),this.gridColumns.forEach(function(f){f.setLastLeftPinned(f===s,t),f.setFirstRightPinned(f===p,t)})},i.prototype.autoSizeColumns=function(t){var s=this,p=t.columns,f=t.skipHeader,_=t.skipHeaderGroups,b=t.stopAtGroup,A=t.source,M=void 0===A?"api":A;this.animationFrameService.flushAllFrames();for(var L=[],G=-1,U=null!=f?f:this.gridOptionsWrapper.isSkipHeaderOnAutoSize(),te=null!=_?_:U;0!==G;)G=0,this.actionOnGridColumns(p,function(le){if(L.indexOf(le)>=0)return!1;var ge=s.autoWidthCalculator.getPreferredWidthForColumn(le,U);if(ge>0){var ve=s.normaliseColumnWidth(le,ge);le.setActualWidth(ve,M),L.push(le),G++}return!0},M);te||this.autoSizeColumnGroupsByColumns(p,b),this.fireColumnResizedEvent(L,!0,"autosizeColumns")},i.prototype.fireColumnResizedEvent=function(t,s,p,f){void 0===f&&(f=null),t&&t.length&&this.eventService.dispatchEvent({type:re.EVENT_COLUMN_RESIZED,columns:t,column:1===t.length?t[0]:null,flexColumns:f,finished:s,api:this.gridApi,columnApi:this.columnApi,source:p})},i.prototype.autoSizeColumn=function(t,s,p){void 0===p&&(p="api"),t&&this.autoSizeColumns({columns:[t],skipHeader:s,skipHeaderGroups:!0,source:p})},i.prototype.autoSizeColumnGroupsByColumns=function(t,s){var p,f,_,b,L,A=new Set;this.getGridColumns(t).forEach(function(Re){for(var Fe=Re.getParent();Fe&&Fe!=s;)Fe.isPadding()||A.add(Fe),Fe=Fe.getParent()});try{for(var U=Fw(A),te=U.next();!te.done;te=U.next()){var le=te.value;try{for(var ge=(_=void 0,Fw(this.ctrlsService.getHeaderRowContainerCtrls())),ve=ge.next();!ve.done&&!(L=ve.value.getHeaderCtrlForColumn(le));ve=ge.next());}catch(Re){_={error:Re}}finally{try{ve&&!ve.done&&(b=ge.return)&&b.call(ge)}finally{if(_)throw _.error}}L&&L.resizeLeafColumnsToFit()}}catch(Re){p={error:Re}}finally{try{te&&!te.done&&(f=U.return)&&f.call(U)}finally{if(p)throw p.error}}return[]},i.prototype.autoSizeAllColumns=function(t,s){void 0===s&&(s="api");var p=this.getAllDisplayedColumns();this.autoSizeColumns({columns:p,skipHeader:t,source:s})},i.prototype.getColumnsFromTree=function(t){var s=[],p=function(f){for(var _=0;_<f.length;_++){var b=f[_];b instanceof pn?s.push(b):b instanceof cr&&p(b.getChildren())}};return p(t),s},i.prototype.getAllDisplayedTrees=function(){return this.displayedTreeLeft&&this.displayedTreeRight&&this.displayedTreeCentre?this.displayedTreeLeft.concat(this.displayedTreeCentre).concat(this.displayedTreeRight):null},i.prototype.getPrimaryColumnTree=function(){return this.primaryColumnTree},i.prototype.getHeaderRowCount=function(){return this.gridHeaderRowCount},i.prototype.getDisplayedTreeLeft=function(){return this.displayedTreeLeft},i.prototype.getDisplayedTreeRight=function(){return this.displayedTreeRight},i.prototype.getDisplayedTreeCentre=function(){return this.displayedTreeCentre},i.prototype.isColumnDisplayed=function(t){return this.getAllDisplayedColumns().indexOf(t)>=0},i.prototype.getAllDisplayedColumns=function(){return this.displayedColumns},i.prototype.getViewportColumns=function(){return this.viewportColumns},i.prototype.getDisplayedLeftColumnsForRow=function(t){return this.colSpanActive?this.getDisplayedColumnsForRow(t,this.displayedColumnsLeft):this.displayedColumnsLeft},i.prototype.getDisplayedRightColumnsForRow=function(t){return this.colSpanActive?this.getDisplayedColumnsForRow(t,this.displayedColumnsRight):this.displayedColumnsRight},i.prototype.getDisplayedColumnsForRow=function(t,s,p,f){for(var M,_=[],b=null,A=function(G){var Re,U=s[G],te=s.length-G,le=Math.min(U.getColSpan(t),te),ge=[U];if(le>1){for(var ve=le-1,we=1;we<=ve;we++)ge.push(s[G+we]);G+=ve}p?(Re=!1,ge.forEach(function(Ye){p(Ye)&&(Re=!0)})):Re=!0,Re&&(0===_.length&&b&&f&&f(U)&&_.push(b),_.push(U)),b=U,M=G},L=0;L<s.length;L++)A(L),L=M;return _},i.prototype.getViewportCenterColumnsForRow=function(t){var s=this;if(!this.colSpanActive)return this.viewportColumnsCenter;var f=this.suppressColumnVirtualisation?null:this.isColumnInViewport.bind(this);return this.getDisplayedColumnsForRow(t,this.displayedColumnsCenter,f,function(_){var b=_.getLeft();return J(b)&&b>s.viewportLeft})},i.prototype.getAriaColumnIndex=function(t){return this.getAllGridColumns().indexOf(t)+1},i.prototype.isColumnInViewport=function(t){if(t.isAutoHeight())return!0;var s=t.getLeft()||0,p=s+t.getActualWidth(),f=this.viewportLeft-200,_=this.viewportRight+200;return!(s<f&&p<f||s>_&&p>_)},i.prototype.getDisplayedColumnsLeftWidth=function(){return this.getWidthOfColsInList(this.displayedColumnsLeft)},i.prototype.getDisplayedColumnsRightWidth=function(){return this.getWidthOfColsInList(this.displayedColumnsRight)},i.prototype.updatePrimaryColumnList=function(t,s,p,f,_,b){var A=this;if(void 0===b&&(b="api"),t&&!Bi(t)){var M=!1;t.forEach(function(G){var U=A.getPrimaryColumn(G);if(U){if(p){if(s.indexOf(U)>=0)return;s.push(U)}else{if(s.indexOf(U)<0)return;Pn(s,U)}f(U),M=!0}}),M&&(this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(b),this.eventService.dispatchEvent({type:_,columns:s,column:1===s.length?s[0]:null,api:this.gridApi,columnApi:this.columnApi,source:b}))}},i.prototype.setRowGroupColumns=function(t,s){void 0===s&&(s="api"),this.autoGroupsNeedBuilding=!0,this.setPrimaryColumnList(t,this.rowGroupColumns,re.EVENT_COLUMN_ROW_GROUP_CHANGED,this.setRowGroupActive.bind(this),s)},i.prototype.setRowGroupActive=function(t,s,p){t!==s.isRowGroupActive()&&(s.setRowGroupActive(t,p),!t&&!this.gridOptionsWrapper.isSuppressMakeColumnVisibleAfterUnGroup()&&s.setVisible(!0,p))},i.prototype.addRowGroupColumn=function(t,s){void 0===s&&(s="api"),t&&this.addRowGroupColumns([t],s)},i.prototype.addRowGroupColumns=function(t,s){void 0===s&&(s="api"),this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(t,this.rowGroupColumns,!0,this.setRowGroupActive.bind(this,!0),re.EVENT_COLUMN_ROW_GROUP_CHANGED,s)},i.prototype.removeRowGroupColumns=function(t,s){void 0===s&&(s="api"),this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(t,this.rowGroupColumns,!1,this.setRowGroupActive.bind(this,!1),re.EVENT_COLUMN_ROW_GROUP_CHANGED,s)},i.prototype.removeRowGroupColumn=function(t,s){void 0===s&&(s="api"),t&&this.removeRowGroupColumns([t],s)},i.prototype.addPivotColumns=function(t,s){void 0===s&&(s="api"),this.updatePrimaryColumnList(t,this.pivotColumns,!0,function(p){return p.setPivotActive(!0,s)},re.EVENT_COLUMN_PIVOT_CHANGED,s)},i.prototype.setPivotColumns=function(t,s){void 0===s&&(s="api"),this.setPrimaryColumnList(t,this.pivotColumns,re.EVENT_COLUMN_PIVOT_CHANGED,function(p,f){f.setPivotActive(p,s)},s)},i.prototype.addPivotColumn=function(t,s){void 0===s&&(s="api"),this.addPivotColumns([t],s)},i.prototype.removePivotColumns=function(t,s){void 0===s&&(s="api"),this.updatePrimaryColumnList(t,this.pivotColumns,!1,function(p){return p.setPivotActive(!1,s)},re.EVENT_COLUMN_PIVOT_CHANGED,s)},i.prototype.removePivotColumn=function(t,s){void 0===s&&(s="api"),this.removePivotColumns([t],s)},i.prototype.setPrimaryColumnList=function(t,s,p,f,_){var b=this;s.length=0,J(t)&&t.forEach(function(A){var M=b.getPrimaryColumn(A);M&&s.push(M)}),(this.primaryColumns||[]).forEach(function(A){var M=s.indexOf(A)>=0;f(M,A)}),this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(_),this.fireColumnEvent(p,s,_)},i.prototype.setValueColumns=function(t,s){void 0===s&&(s="api"),this.setPrimaryColumnList(t,this.valueColumns,re.EVENT_COLUMN_VALUE_CHANGED,this.setValueActive.bind(this),s)},i.prototype.setValueActive=function(t,s,p){if(t!==s.isValueActive()&&(s.setValueActive(t,p),t&&!s.getAggFunc())){var f=this.aggFuncService.getDefaultAggFunc(s);s.setAggFunc(f)}},i.prototype.addValueColumns=function(t,s){void 0===s&&(s="api"),this.updatePrimaryColumnList(t,this.valueColumns,!0,this.setValueActive.bind(this,!0),re.EVENT_COLUMN_VALUE_CHANGED,s)},i.prototype.addValueColumn=function(t,s){void 0===s&&(s="api"),t&&this.addValueColumns([t],s)},i.prototype.removeValueColumn=function(t,s){void 0===s&&(s="api"),this.removeValueColumns([t],s)},i.prototype.removeValueColumns=function(t,s){void 0===s&&(s="api"),this.updatePrimaryColumnList(t,this.valueColumns,!1,this.setValueActive.bind(this,!1),re.EVENT_COLUMN_VALUE_CHANGED,s)},i.prototype.normaliseColumnWidth=function(t,s){var p=t.getMinWidth();J(p)&&s<p&&(s=p);var f=t.getMaxWidth();return J(f)&&t.isGreaterThanMax(s)&&(s=f),s},i.prototype.getPrimaryOrGridColumn=function(t){return this.getPrimaryColumn(t)||this.getGridColumn(t)},i.prototype.setColumnWidths=function(t,s,p,f){var _=this;void 0===f&&(f="api");var b=[];t.forEach(function(A){var M=_.getPrimaryOrGridColumn(A.key);if(M&&(b.push({width:A.newWidth,ratios:[1],columns:[M]}),"shift"===_.gridOptionsWrapper.getColResizeDefault()&&(s=!s),s)){var G=_.getDisplayedColAfter(M);if(!G)return;var U=M.getActualWidth()-A.newWidth,te=G.getActualWidth()+U;b.push({width:te,ratios:[1],columns:[G]})}}),0!==b.length&&this.resizeColumnSets({resizeSets:b,finished:p,source:f})},i.prototype.checkMinAndMaxWidthsForSet=function(t){var p=t.width,f=0,_=0,b=!0;return t.columns.forEach(function(L){var G=L.getMinWidth();f+=G||0;var U=L.getMaxWidth();J(U)&&U>0?_+=U:b=!1}),p>=f&&(!b||p<=_)},i.prototype.resizeColumnSets=function(t){var s=this,p=t.resizeSets,f=t.finished,_=t.source;if(!p||p.every(function(le){return s.checkMinAndMaxWidthsForSet(le)})){var M=[],L=[];p.forEach(function(le){var ge=le.width,ve=le.columns,we=le.ratios,Re={},Fe={};ve.forEach(function(It){return L.push(It)});for(var Ye=!0,dt=0,Cn=function(){if(++dt>1e3)return console.error("AG Grid: infinite loop in resizeColumnSets"),"break";Ye=!1;var It=[],sn=0,nn=ge;ve.forEach(function(Rr,ko){Fe[Rr.getId()]?nn-=Re[Rr.getId()]:(It.push(Rr),sn+=we[ko])});var ui=1/sn;It.forEach(function(Rr,ko){var la;ko===It.length-1?la=nn:(la=Math.round(we[ko]*ge*ui),nn-=la);var Ny=Rr.getMinWidth(),dh=Rr.getMaxWidth();J(Ny)&&la<Ny?(la=Ny,Fe[Rr.getId()]=!0,Ye=!0):J(dh)&&dh>0&&la>dh&&(la=dh,Fe[Rr.getId()]=!0,Ye=!0),Re[Rr.getId()]=la})};Ye&&"break"!==Cn(););ve.forEach(function(It){var sn=Re[It.getId()];It.getActualWidth()!==sn&&(It.setActualWidth(sn,_),M.push(It))})});var G=M.length>0,U=this.refreshFlexedColumns({resizingCols:L,skipSetLeft:!0});G&&(this.setLeftValues(_),this.updateBodyWidths(),this.checkViewportColumns());var te=L.concat(U);(G||f)&&this.fireColumnResizedEvent(te,f,_,U)}else f&&this.fireColumnResizedEvent(p&&p.length>0?p[0].columns:null,f,_)},i.prototype.setColumnAggFunc=function(t,s,p){if(void 0===p&&(p="api"),t){var f=this.getPrimaryColumn(t);!f||(f.setAggFunc(s),this.fireColumnEvent(re.EVENT_COLUMN_VALUE_CHANGED,[f],p))}},i.prototype.fireColumnEvent=function(t,s,p){this.eventService.dispatchEvent({type:t,columns:s,column:s&&1==s.length?s[0]:null,api:this.gridApi,columnApi:this.columnApi,source:p})},i.prototype.moveRowGroupColumn=function(t,s,p){void 0===p&&(p="api");var f=this.rowGroupColumns[t];this.rowGroupColumns.splice(t,1),this.rowGroupColumns.splice(s,0,f),this.eventService.dispatchEvent({type:re.EVENT_COLUMN_ROW_GROUP_CHANGED,columns:this.rowGroupColumns,column:1===this.rowGroupColumns.length?this.rowGroupColumns[0]:null,api:this.gridApi,columnApi:this.columnApi,source:p})},i.prototype.moveColumns=function(t,s,p){if(void 0===p&&(p="api"),this.columnAnimationService.start(),s>this.gridColumns.length-t.length)return console.warn("AG Grid: tried to insert columns in invalid location, toIndex = "+s),void console.warn("AG Grid: remember that you should not count the moving columns when calculating the new index");var f=this.getGridColumns(t);!this.doesMovePassRules(f,s)||(Qd(this.gridColumns,f,s),this.updateDisplayedColumns(p),this.eventService.dispatchEvent({type:re.EVENT_COLUMN_MOVED,columns:f,column:1===f.length?f[0]:null,toIndex:s,api:this.gridApi,columnApi:this.columnApi,source:p}),this.columnAnimationService.finish())},i.prototype.doesMovePassRules=function(t,s){var p=this.gridColumns.slice();return Qd(p,t,s),!(!this.doesMovePassMarryChildren(p)||!this.doesMovePassLockedPositions(p))},i.prototype.sortColumnsLikeGridColumns=function(t){var s=this;!t||t.length<=1||t.filter(function(f){return s.gridColumns.indexOf(f)<0}).length>0||t.sort(function(f,_){return s.gridColumns.indexOf(f)-s.gridColumns.indexOf(_)})},i.prototype.doesMovePassLockedPositions=function(t){var s=!1,p=!0;return t.forEach(function(f){f.getColDef().lockPosition?s&&(p=!1):s=!0}),p},i.prototype.doesMovePassMarryChildren=function(t){var s=!0;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(p){if(p instanceof cr){var f=p,_=f.getColGroupDef();if(_&&_.marryChildren){var A=[];f.getLeafColumns().forEach(function(te){var le=t.indexOf(te);A.push(le)}),Math.max.apply(Math,A)-Math.min.apply(Math,A)>f.getLeafColumns().length-1&&(s=!1)}}}),s},i.prototype.moveColumn=function(t,s,p){void 0===p&&(p="api"),this.moveColumns([t],s,p)},i.prototype.moveColumnByIndex=function(t,s,p){void 0===p&&(p="api"),this.moveColumn(this.gridColumns[t],s,p)},i.prototype.getColumnDefs=function(){var t=this;if(this.primaryColumns){var s=this.primaryColumns.slice();return this.gridColsArePrimary?s.sort(function(p,f){return t.gridColumns.indexOf(p)-t.gridColumns.indexOf(f)}):this.lastPrimaryOrder&&s.sort(function(p,f){return t.lastPrimaryOrder.indexOf(p)-t.lastPrimaryOrder.indexOf(f)}),this.columnDefFactory.buildColumnDefs(s,this.rowGroupColumns,this.pivotColumns)}},i.prototype.getBodyContainerWidth=function(){return this.bodyWidth},i.prototype.getContainerWidth=function(t){switch(t){case me.PINNED_LEFT:return this.leftWidth;case me.PINNED_RIGHT:return this.rightWidth;default:return this.bodyWidth}},i.prototype.updateBodyWidths=function(){var t=this.getWidthOfColsInList(this.displayedColumnsCenter),s=this.getWidthOfColsInList(this.displayedColumnsLeft),p=this.getWidthOfColsInList(this.displayedColumnsRight);this.bodyWidthDirty=this.bodyWidth!==t,(this.bodyWidth!==t||this.leftWidth!==s||this.rightWidth!==p)&&(this.bodyWidth=t,this.leftWidth=s,this.rightWidth=p,this.eventService.dispatchEvent({type:re.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,api:this.gridApi,columnApi:this.columnApi}))},i.prototype.getValueColumns=function(){return this.valueColumns?this.valueColumns:[]},i.prototype.getPivotColumns=function(){return this.pivotColumns?this.pivotColumns:[]},i.prototype.isPivotActive=function(){return this.pivotColumns&&this.pivotColumns.length>0&&this.pivotMode},i.prototype.getRowGroupColumns=function(){return this.rowGroupColumns?this.rowGroupColumns:[]},i.prototype.getDisplayedCenterColumns=function(){return this.displayedColumnsCenter},i.prototype.getDisplayedLeftColumns=function(){return this.displayedColumnsLeft},i.prototype.getDisplayedRightColumns=function(){return this.displayedColumnsRight},i.prototype.getDisplayedColumns=function(t){switch(t){case me.PINNED_LEFT:return this.getDisplayedLeftColumns();case me.PINNED_RIGHT:return this.getDisplayedRightColumns();default:return this.getDisplayedCenterColumns()}},i.prototype.getAllPrimaryColumns=function(){return this.primaryColumns?this.primaryColumns.slice():null},i.prototype.getSecondaryColumns=function(){return this.secondaryColumns?this.secondaryColumns.slice():null},i.prototype.getAllColumnsForQuickFilter=function(){return this.columnsForQuickFilter},i.prototype.getAllGridColumns=function(){return this.gridColumns},i.prototype.isEmpty=function(){return Bi(this.gridColumns)},i.prototype.isRowGroupEmpty=function(){return Bi(this.rowGroupColumns)},i.prototype.setColumnVisible=function(t,s,p){void 0===p&&(p="api"),this.setColumnsVisible([t],s,p)},i.prototype.setColumnsVisible=function(t,s,p){var f=this;void 0===s&&(s=!1),void 0===p&&(p="api"),this.columnAnimationService.start(),this.actionOnGridColumns(t,function(_){return _.isVisible()!==s&&(_.setVisible(s,p),!0)},p,function(){return{type:re.EVENT_COLUMN_VISIBLE,visible:s,column:null,columns:null,api:f.gridApi,columnApi:f.columnApi,source:p}}),this.columnAnimationService.finish()},i.prototype.setColumnPinned=function(t,s,p){void 0===p&&(p="api"),t&&this.setColumnsPinned([t],s,p)},i.prototype.setColumnsPinned=function(t,s,p){var _,f=this;void 0===p&&(p="api"),"print"!==this.gridOptionsWrapper.getDomLayout()?(this.columnAnimationService.start(),_=!0===s||s===me.PINNED_LEFT?me.PINNED_LEFT:s===me.PINNED_RIGHT?me.PINNED_RIGHT:null,this.actionOnGridColumns(t,function(b){return b.getPinned()!==_&&(b.setPinned(_),!0)},p,function(){return{type:re.EVENT_COLUMN_PINNED,pinned:_,column:null,columns:null,api:f.gridApi,columnApi:f.columnApi,source:p}}),this.columnAnimationService.finish()):console.warn("Changing the column pinning status is not allowed with domLayout='print'")},i.prototype.actionOnGridColumns=function(t,s,p,f){var _=this;if(!Bi(t)){var b=[];if(t.forEach(function(M){var L=_.getGridColumn(M);L&&!1!==s(L)&&b.push(L)}),b.length&&(this.updateDisplayedColumns(p),J(f)&&f)){var A=f();A.columns=b,A.column=1===b.length?b[0]:null,this.eventService.dispatchEvent(A)}}},i.prototype.getDisplayedColBefore=function(t){var s=this.getAllDisplayedColumns(),p=s.indexOf(t);return p>0?s[p-1]:null},i.prototype.getDisplayedColAfter=function(t){var s=this.getAllDisplayedColumns(),p=s.indexOf(t);return p<s.length-1?s[p+1]:null},i.prototype.getDisplayedGroupAfter=function(t){return this.getDisplayedGroupAtDirection(t,"After")},i.prototype.getDisplayedGroupBefore=function(t){return this.getDisplayedGroupAtDirection(t,"Before")},i.prototype.getDisplayedGroupAtDirection=function(t,s){for(var p=t.getProvidedColumnGroup().getLevel()+t.getPaddingLevel(),f=t.getDisplayedLeafColumns(),_="After"===s?Rn(f):f[0],b="getDisplayedCol"+s;;){var A=this[b](_);if(!A)return null;var M=this.getColumnGroupAtLevel(A,p);if(M!==t)return M}},i.prototype.getColumnGroupAtLevel=function(t,s){for(var p=t.getParent();!(p.getProvidedColumnGroup().getLevel()+p.getPaddingLevel()<=s);)p=p.getParent();return p},i.prototype.isPinningLeft=function(){return this.displayedColumnsLeft.length>0},i.prototype.isPinningRight=function(){return this.displayedColumnsRight.length>0},i.prototype.getPrimaryAndSecondaryAndAutoColumns=function(){var t=this.primaryColumns?this.primaryColumns.slice(0):[];return this.groupAutoColumns&&J(this.groupAutoColumns)&&this.groupAutoColumns.forEach(function(s){return t.push(s)}),this.secondaryColumnsPresent&&this.secondaryColumns&&this.secondaryColumns.forEach(function(s){return t.push(s)}),t},i.prototype.createStateItemFromColumn=function(t){var s=t.isRowGroupActive()?this.rowGroupColumns.indexOf(t):null,p=t.isPivotActive()?this.pivotColumns.indexOf(t):null,f=t.isValueActive()?t.getAggFunc():null,_=null!=t.getSort()?t.getSort():null,b=null!=t.getSortIndex()?t.getSortIndex():null,A=null!=t.getFlex()&&t.getFlex()>0?t.getFlex():null;return{colId:t.getColId(),width:t.getActualWidth(),hide:!t.isVisible(),pinned:t.getPinned(),sort:_,sortIndex:b,aggFunc:f,rowGroup:t.isRowGroupActive(),rowGroupIndex:s,pivot:t.isPivotActive(),pivotIndex:p,flex:A}},i.prototype.getColumnState=function(){if(E(this.primaryColumns)||!this.isAlive())return[];var s=this.getPrimaryAndSecondaryAndAutoColumns().map(this.createStateItemFromColumn.bind(this));return this.pivotMode||this.orderColumnStateList(s),s},i.prototype.getPrimaryAndAutoGroupCols=function(){return this.groupAutoColumns?B_(this.primaryColumns||[],this.groupAutoColumns):this.primaryColumns},i.prototype.orderColumnStateList=function(t){var s=Ft(this.gridColumns.map(function(p,f){return[p.getColId(),f]}));t.sort(function(p,f){return(s.has(p.colId)?s.get(p.colId):-1)-(s.has(f.colId)?s.get(f.colId):-1)})},i.prototype.resetColumnState=function(t){void 0===t&&(t="api");var s=this.getColumnsFromTree(this.primaryColumnTree),p=[],f=1e3,_=1e3,b=[];this.groupAutoColumns&&(b=b.concat(this.groupAutoColumns)),s&&(b=b.concat(s)),b.forEach(function(A){var M=function($t,It){return null!=$t?$t:null!=It?It:null},L=A.getColDef(),G=M(L.sort,L.initialSort),U=M(L.sortIndex,L.initialSortIndex),te=M(L.hide,L.initialHide),le=M(L.pinned,L.initialPinned),ge=M(L.width,L.initialWidth),ve=M(L.flex,L.initialFlex),we=M(L.rowGroupIndex,L.initialRowGroupIndex),Re=M(L.rowGroup,L.initialRowGroup);null==we&&(null==Re||0==Re)&&(we=null,Re=null);var Fe=M(L.pivotIndex,L.initialPivotIndex),Ye=M(L.pivot,L.initialPivot);null==Fe&&(null==Ye||0==Ye)&&(Fe=null,Ye=null);var dt=M(L.aggFunc,L.initialAggFunc),Cn={colId:A.getColId(),sort:G,sortIndex:U,hide:te,pinned:le,width:ge,flex:ve,rowGroup:Re,rowGroupIndex:we,pivot:Ye,pivotIndex:Fe,aggFunc:dt};E(we)&&Re&&(Cn.rowGroupIndex=f++),E(Fe)&&Ye&&(Cn.pivotIndex=_++),p.push(Cn)}),this.applyColumnState({state:p,applyOrder:!0},t)},i.prototype.applyColumnState=function(t,s){var p=this;if(void 0===s&&(s="api"),Bi(this.primaryColumns))return!1;if(t&&t.state&&!t.state.forEach)return console.warn("AG Grid: applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state."),!1;this.columnAnimationService.start();var f=this.compareColumnStatesAndRaiseEvents(s);this.autoGroupsNeedBuilding=!0;var _=this.primaryColumns.slice(),b=!0,A={},M={},L=[],G=this.rowGroupColumns.slice(),U=this.pivotColumns.slice();t.state&&t.state.forEach(function(ve){var Re=ve.colId||"";if(Re.startsWith(me.GROUP_AUTO_COLUMN_ID))L.push(ve);else{var Ye=p.getPrimaryColumn(Re);Ye?(p.syncColumnWithStateItem(Ye,ve,t.defaultState,A,M,!1,s),Pn(_,Ye)):b=!1}});var te=function(ve){return p.syncColumnWithStateItem(ve,null,t.defaultState,A,M,!1,s)};_.forEach(te);var le=function(ve,we,Re,Fe){var Ye=ve[Re.getId()],dt=ve[Fe.getId()],Cn=null!=Ye,$t=null!=dt;if(Cn&&$t)return Ye-dt;if(Cn)return-1;if($t)return 1;var It=we.indexOf(Re),sn=we.indexOf(Fe),nn=It>=0;return nn&&sn>=0?It-sn:nn?-1:1};this.rowGroupColumns.sort(le.bind(this,A,G)),this.pivotColumns.sort(le.bind(this,M,U)),this.updateGridColumns();var ge=this.groupAutoColumns?this.groupAutoColumns.slice():[];return L.forEach(function(ve){var we=p.getAutoColumn(ve.colId);Pn(ge,we),p.syncColumnWithStateItem(we,ve,t.defaultState,null,null,!0,s)}),ge.forEach(te),this.applyOrderAfterApplyState(t),this.updateDisplayedColumns(s),this.dispatchEverythingChanged(s),f(),this.columnAnimationService.finish(),b},i.prototype.applyOrderAfterApplyState=function(t){if(this.gridColsArePrimary&&t.applyOrder&&t.state){var s=[],p={},f={};if(this.gridColumns.forEach(function(_){return f[_.getId()]=_}),t.state.forEach(function(_){if(_.colId&&!p[_.colId]){var b=f[_.colId];b&&(s.push(b),p[_.colId]=!0)}}),this.gridColumns.forEach(function(_){p[_.getColId()]||s.push(_)}),s=this.putFixedColumnsFirst(s),!this.doesMovePassMarryChildren(s))return void console.warn("AG Grid: Applying column order broke a group where columns should be married together. Applying new order has been discarded.");this.gridColumns=s}},i.prototype.compareColumnStatesAndRaiseEvents=function(t){var s=this;if(!this.columnDefs)return function(){};var f={rowGroupColumns:this.rowGroupColumns.slice(),pivotColumns:this.pivotColumns.slice(),valueColumns:this.valueColumns.slice()},_=this.getColumnState(),b={};return _.forEach(function(A){b[A.colId]=A}),function(){if(!s.gridOptionsWrapper.isSuppressColumnStateEvents()){var A=s.getPrimaryAndAutoGroupCols(),M=function(Re,Fe,Ye,dt){hu(Fe.map(dt),Ye.map(dt))||s.eventService.dispatchEvent({type:Re,columns:Ye,column:1===Ye.length?Ye[0]:null,api:s.gridApi,columnApi:s.columnApi,source:t})},L=function(Re){var Fe=[];return(A||[]).forEach(function(Ye){var dt=b[Ye.getColId()];dt&&Re(dt,Ye)&&Fe.push(Ye)}),Fe},G=function(Re){return Re.getColId()};M(re.EVENT_COLUMN_ROW_GROUP_CHANGED,f.rowGroupColumns,s.rowGroupColumns,G),M(re.EVENT_COLUMN_PIVOT_CHANGED,f.pivotColumns,s.pivotColumns,G),L(function(Re,Fe){var Ye=null!=Re.aggFunc,dt=Ye!=Fe.isValueActive(),Cn=Ye&&Re.aggFunc!=Fe.getAggFunc();return dt||Cn}).length>0&&s.fireColumnEvent(re.EVENT_COLUMN_VALUE_CHANGED,s.valueColumns,t),s.fireColumnResizedEvent(L(function(Re,Fe){return Re.width!=Fe.getActualWidth()}),!0,t),s.raiseColumnPinnedEvent(L(function(Re,Fe){return Re.pinned!=Fe.getPinned()}),t),s.raiseColumnVisibleEvent(L(function(Re,Fe){return Re.hide==Fe.isVisible()}),t),L(function(Re,Fe){return Re.sort!=Fe.getSort()||Re.sortIndex!=Fe.getSortIndex()}).length>0&&s.sortController.dispatchSortChangedEvents(),s.raiseColumnMovedEvent(_,t)}}},i.prototype.raiseColumnPinnedEvent=function(t,s){if(t.length){var p=1===t.length?t[0]:null,f=this.getCommonValue(t,function(b){return b.getPinned()});this.eventService.dispatchEvent({type:re.EVENT_COLUMN_PINNED,pinned:null!=f?f:null,columns:t,column:p,api:this.gridApi,columnApi:this.columnApi,source:s})}},i.prototype.getCommonValue=function(t,s){if(t&&0!=t.length){for(var p=s(t[0]),f=1;f<t.length;f++)if(p!==s(t[f]))return;return p}},i.prototype.raiseColumnVisibleEvent=function(t,s){if(t.length){var p=1===t.length?t[0]:null,f=this.getCommonValue(t,function(b){return b.isVisible()});this.eventService.dispatchEvent({type:re.EVENT_COLUMN_VISIBLE,visible:f,columns:t,column:p,api:this.gridApi,columnApi:this.columnApi,source:s})}},i.prototype.raiseColumnMovedEvent=function(t,s){var p=this,f=this.getColumnState(),_={};f.forEach(function(U){return _[U.colId]=U});var b={};t.forEach(function(U){_[U.colId]&&(b[U.colId]=!0)});var A=t.filter(function(U){return b[U.colId]}),M=f.filter(function(U){return b[U.colId]}),L=[];M.forEach(function(U,te){var le=A&&A[te];if(le&&le.colId!==U.colId){var ge=p.getGridColumn(le.colId);ge&&L.push(ge)}}),L.length&&this.eventService.dispatchEvent({type:re.EVENT_COLUMN_MOVED,columns:L,column:null,api:this.gridApi,columnApi:this.columnApi,source:s})},i.prototype.syncColumnWithStateItem=function(t,s,p,f,_,b,A){if(t){var M=function(sn,nn){var ui=s,Rr=p,ko={value1:void 0,value2:void 0},Go=!1;return ui&&(void 0!==ui[sn]&&(ko.value1=ui[sn],Go=!0),J(nn)&&void 0!==ui[nn]&&(ko.value2=ui[nn],Go=!0)),!Go&&Rr&&(void 0!==Rr[sn]&&(ko.value1=Rr[sn]),J(nn)&&void 0!==Rr[nn]&&(ko.value2=Rr[nn])),ko},L=M("hide").value1;void 0!==L&&t.setVisible(!L,A);var G=M("pinned").value1;void 0!==G&&t.setPinned(G);var U=this.columnUtils.calculateColMinWidth(t.getColDef()),te=M("flex").value1;if(void 0!==te&&t.setFlex(te),t.getFlex()<=0){var ge=M("width").value1;null!=ge&&null!=U&&ge>=U&&t.setActualWidth(ge,A)}var ve=M("sort").value1;void 0!==ve&&t.setSort(ve===me.SORT_DESC||ve===me.SORT_ASC?ve:void 0);var we=M("sortIndex").value1;if(void 0!==we&&t.setSortIndex(we),!b){var Re=M("aggFunc").value1;void 0!==Re&&("string"==typeof Re?(t.setAggFunc(Re),t.isValueActive()||(t.setValueActive(!0,A),this.valueColumns.push(t))):(J(Re)&&console.warn("AG Grid: stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON."),t.isValueActive()&&(t.setValueActive(!1,A),Pn(this.valueColumns,t))));var Fe=M("rowGroup","rowGroupIndex"),Ye=Fe.value1,dt=Fe.value2;(void 0!==Ye||void 0!==dt)&&("number"==typeof dt||Ye?(t.isRowGroupActive()||(t.setRowGroupActive(!0,A),this.rowGroupColumns.push(t)),f&&"number"==typeof dt&&(f[t.getId()]=dt)):t.isRowGroupActive()&&(t.setRowGroupActive(!1,A),Pn(this.rowGroupColumns,t)));var Cn=M("pivot","pivotIndex"),$t=Cn.value1,It=Cn.value2;(void 0!==$t||void 0!==It)&&("number"==typeof It||$t?(t.isPivotActive()||(t.setPivotActive(!0,A),this.pivotColumns.push(t)),_&&"number"==typeof It&&(_[t.getId()]=It)):t.isPivotActive()&&(t.setPivotActive(!1,A),Pn(this.pivotColumns,t)))}}},i.prototype.getGridColumns=function(t){return this.getColumns(t,this.getGridColumn.bind(this))},i.prototype.getColumns=function(t,s){var p=[];return t&&t.forEach(function(f){var _=s(f);_&&p.push(_)}),p},i.prototype.getColumnWithValidation=function(t){if(null==t)return null;var s=this.getGridColumn(t);return s||console.warn("AG Grid: could not find column "+t),s},i.prototype.getPrimaryColumn=function(t){return this.primaryColumns?this.getColumn(t,this.primaryColumns,this.primaryColumnsMap):null},i.prototype.getGridColumn=function(t){return this.getColumn(t,this.gridColumns,this.gridColumnsMap)},i.prototype.getColumn=function(t,s,p){if(!t)return null;if("string"==typeof t&&p[t])return p[t];for(var f=0;f<s.length;f++)if(this.columnsMatch(s[f],t))return s[f];return this.getAutoColumn(t)},i.prototype.getAutoColumn=function(t){var s=this;return this.groupAutoColumns&&J(this.groupAutoColumns)&&!E(this.groupAutoColumns)&&this.groupAutoColumns.find(function(p){return s.columnsMatch(p,t)})||null},i.prototype.columnsMatch=function(t,s){var p=t===s,f=t.getColDef()===s,_=t.getColId()==s;return p||f||_},i.prototype.getDisplayNameForColumn=function(t,s,p){if(void 0===p&&(p=!1),!t)return null;var f=this.getHeaderName(t.getColDef(),t,null,null,s);return p?this.wrapHeaderNameWithAggFunc(t,f):f},i.prototype.getDisplayNameForProvidedColumnGroup=function(t,s,p){var f=s?s.getColGroupDef():null;return f?this.getHeaderName(f,null,t,s,p):null},i.prototype.getDisplayNameForColumnGroup=function(t,s){return this.getDisplayNameForProvidedColumnGroup(t,t.getProvidedColumnGroup(),s)},i.prototype.getHeaderName=function(t,s,p,f,_){var b=t.headerValueGetter;if(b){var A={colDef:t,column:s,columnGroup:p,providedColumnGroup:f,location:_,api:this.gridOptionsWrapper.getApi(),context:this.gridOptionsWrapper.getContext()};return"function"==typeof b?b(A):"string"==typeof b?this.expressionService.evaluate(b,A):(console.warn("ag-grid: headerValueGetter must be a function or a string"),"")}return null!=t.headerName?t.headerName:t.field?G_(t.field):""},i.prototype.wrapHeaderNameWithAggFunc=function(t,s){if(this.gridOptionsWrapper.isSuppressAggFuncInHeader())return s;var b,p=t.getColDef().pivotValueColumn,_=null;if(J(p))_=p?p.getAggFunc():null,b=!0;else{var A=t.isValueActive(),M=this.pivotMode||!this.isRowGroupEmpty();A&&M?(_=t.getAggFunc(),b=!0):b=!1}if(b){var L="string"==typeof _?_:"func";return this.gridOptionsWrapper.getLocaleTextFunc()(L,L)+"("+s+")"}return s},i.prototype.getColumnGroup=function(t,s){if(!t)return null;if(t instanceof Or)return t;var p=this.getAllDisplayedTrees(),f="number"==typeof s,_=null;return this.columnUtils.depthFirstAllColumnTreeSearch(p,function(b){if(b instanceof Or){var A=b;(f?t===A.getGroupId()&&s===A.getInstanceId():t===A.getGroupId())&&(_=A)}}),_},i.prototype.isReady=function(){return this.ready},i.prototype.extractValueColumns=function(t,s){this.valueColumns=this.extractColumns(s,this.valueColumns,function(p,f){return p.setValueActive(f,t)},function(){},function(){},function(p){var f=p.aggFunc;return null===f||""===f?null:void 0!==f?!!f:void 0},function(p){return null!=p.initialAggFunc&&""!=p.initialAggFunc}),this.valueColumns.forEach(function(p){var f=p.getColDef();null!=f.aggFunc&&""!=f.aggFunc?p.setAggFunc(f.aggFunc):p.getAggFunc()||p.setAggFunc(f.initialAggFunc)})},i.prototype.extractRowGroupColumns=function(t,s){this.rowGroupColumns=this.extractColumns(s,this.rowGroupColumns,function(p,f){return p.setRowGroupActive(f,t)},function(p){return p.rowGroupIndex},function(p){return p.initialRowGroupIndex},function(p){return p.rowGroup},function(p){return p.initialRowGroup})},i.prototype.extractColumns=function(t,s,p,f,_,b,A){void 0===t&&(t=[]),void 0===s&&(s=[]);var M=[],L=[];(this.primaryColumns||[]).forEach(function(te){var le=t.indexOf(te)<0,ge=te.getColDef(),ve=_a(b(ge)),we=_a(A(ge)),Re=an(f(ge)),Fe=an(_(ge));(void 0!==ve?ve:void 0!==Re?null!==Re&&Re>=0:le?void 0!==we?we:void 0!==Fe&&null!=Fe&&Fe>=0:s.indexOf(te)>=0)&&((le?null!=Re||null!=Fe:null!=Re)?M.push(te):L.push(te))});var G=function(te){var le=f(te.getColDef()),ge=_(te.getColDef());return null!=le?le:ge};M.sort(function(te,le){var ge=G(te),ve=G(le);return ge===ve?0:ge<ve?-1:1});var U=[].concat(M);return s.forEach(function(te){L.indexOf(te)>=0&&U.push(te)}),L.forEach(function(te){U.indexOf(te)<0&&U.push(te)}),s.forEach(function(te){U.indexOf(te)<0&&p(te,!1)}),U.forEach(function(te){s.indexOf(te)<0&&p(te,!0)}),U},i.prototype.extractPivotColumns=function(t,s){this.pivotColumns=this.extractColumns(s,this.pivotColumns,function(p,f){return p.setPivotActive(f,t)},function(p){return p.pivotIndex},function(p){return p.initialPivotIndex},function(p){return p.pivot},function(p){return p.initialPivot})},i.prototype.resetColumnGroupState=function(t){void 0===t&&(t="api");var s=[];this.columnUtils.depthFirstOriginalTreeSearch(null,this.primaryColumnTree,function(p){if(p instanceof cr){var f=p.getColGroupDef(),_={groupId:p.getGroupId(),open:f?f.openByDefault:void 0};s.push(_)}}),this.setColumnGroupState(s,t)},i.prototype.getColumnGroupState=function(){var t=[];return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(s){if(s instanceof cr){var p=s;t.push({groupId:p.getGroupId(),open:p.isExpanded()})}}),t},i.prototype.setColumnGroupState=function(t,s){var p=this;void 0===s&&(s="api"),this.columnAnimationService.start();var f=[];t.forEach(function(_){var A=_.open,M=p.getProvidedColumnGroup(_.groupId);!M||M.isExpanded()!==A&&(p.logger.log("columnGroupOpened("+M.getGroupId()+","+A+")"),M.setExpanded(A),f.push(M))}),this.updateGroupsAndDisplayedColumns(s),this.setFirstRightAndLastLeftPinned(s),f.forEach(function(_){p.eventService.dispatchEvent({type:re.EVENT_COLUMN_GROUP_OPENED,columnGroup:_,api:p.gridApi,columnApi:p.columnApi})}),this.columnAnimationService.finish()},i.prototype.setColumnGroupOpened=function(t,s,p){var f;void 0===p&&(p="api"),f=t instanceof cr?t.getId():t||"",this.setColumnGroupState([{groupId:f,open:s}],p)},i.prototype.getProvidedColumnGroup=function(t){"string"!=typeof t&&console.error("AG Grid: group key must be a string");var s=null;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(p){if(p instanceof cr){var f=p;f.getId()===t&&(s=f)}}),s},i.prototype.calculateColumnsForDisplay=function(){var t=this;return this.gridColumns.filter(this.pivotMode&&!this.secondaryColumnsPresent?function(p){var f=t.groupAutoColumns&&ho(t.groupAutoColumns,p),_=t.valueColumns&&ho(t.valueColumns,p);return f||_}:function(p){return t.groupAutoColumns&&ho(t.groupAutoColumns,p)||p.isVisible()})},i.prototype.checkColSpanActiveInCols=function(t){var s=!1;return t.forEach(function(p){J(p.getColDef().colSpan)&&(s=!0)}),s},i.prototype.calculateColumnsForGroupDisplay=function(){var t=this;this.groupDisplayColumns=[];var s=function(p){var f=p.getColDef();f&&J(f.showRowGroup)&&t.groupDisplayColumns.push(p)};this.gridColumns.forEach(s),this.groupAutoColumns&&this.groupAutoColumns.forEach(s)},i.prototype.getGroupDisplayColumns=function(){return this.groupDisplayColumns},i.prototype.updateDisplayedColumns=function(t){var s=this.calculateColumnsForDisplay();this.buildDisplayedTrees(s),this.calculateColumnsForGroupDisplay(),this.updateGroupsAndDisplayedColumns(t),this.setFirstRightAndLastLeftPinned(t)},i.prototype.isSecondaryColumnsPresent=function(){return this.secondaryColumnsPresent},i.prototype.setSecondaryColumns=function(t,s){void 0===s&&(s="api");var p=t&&t.length>0;if(p||this.secondaryColumnsPresent){if(p){this.processSecondaryColumnDefinitions(t);var f=this.columnFactory.createColumnTree(t,!1);this.secondaryBalancedTree=f.columnTree,this.secondaryHeaderRowCount=f.treeDept+1,this.secondaryColumns=this.getColumnsFromTree(this.secondaryBalancedTree),this.secondaryColumnsPresent=!0}else this.secondaryBalancedTree=null,this.secondaryHeaderRowCount=-1,this.secondaryColumns=null,this.secondaryColumnsPresent=!1;this.updateGridColumns(),this.updateDisplayedColumns(s)}},i.prototype.processSecondaryColumnDefinitions=function(t){var s=this.gridOptionsWrapper.getProcessSecondaryColDefFunc(),p=this.gridOptionsWrapper.getProcessSecondaryColGroupDefFunc();if(s||p){var f=function(_){_.forEach(function(b){if(J(b.children)){var M=b;p&&p(M),f(M.children)}else s&&s(b)})};t&&f(t)}},i.prototype.updateGridColumns=function(){var t=this;this.gridColsArePrimary&&(this.lastPrimaryOrder=this.gridColumns),this.secondaryColumns&&this.secondaryBalancedTree?(this.gridBalancedTree=this.secondaryBalancedTree.slice(),this.gridHeaderRowCount=this.secondaryHeaderRowCount,this.gridColumns=this.secondaryColumns.slice(),this.gridColsArePrimary=!1):this.primaryColumns&&(this.gridBalancedTree=this.primaryColumnTree.slice(),this.gridHeaderRowCount=this.primaryHeaderRowCount,this.gridColumns=this.primaryColumns.slice(),this.gridColsArePrimary=!0,this.orderGridColsLikeLastPrimary()),this.addAutoGroupToGridColumns(),this.gridColumns=this.putFixedColumnsFirst(this.gridColumns),this.setupQuickFilterColumns(),this.clearDisplayedAndViewportColumns(),this.colSpanActive=this.checkColSpanActiveInCols(this.gridColumns),this.gridColumnsMap={},this.gridColumns.forEach(function(p){return t.gridColumnsMap[p.getId()]=p}),this.setAutoHeightActive(),this.eventService.dispatchEvent({type:re.EVENT_GRID_COLUMNS_CHANGED,api:this.gridApi,columnApi:this.columnApi})},i.prototype.setAutoHeightActive=function(){if(this.autoHeightActive=this.gridColumns.filter(function(f){return f.isAutoHeight()}).length>0,this.autoHeightActive){this.autoHeightActiveAtLeastOnce=!0;var t=this.rowModel.getType();t!==me.ROW_MODEL_TYPE_CLIENT_SIDE&&t!==me.ROW_MODEL_TYPE_SERVER_SIDE&&En(function(){return console.warn("AG Grid - autoHeight columns only work with Client Side Row Model and Server Side Row Model.")},"autoHeightActive.wrongRowModel")}},i.prototype.orderGridColsLikeLastPrimary=function(){if(!E(this.lastPrimaryOrder)){var t=Ft(this.lastPrimaryOrder.map(function(M,L){return[M,L]})),s=!0;if(this.gridColumns.forEach(function(M){t.has(M)&&(s=!1)}),!s){var p=Ft(this.gridColumns.map(function(M){return[M,!0]})),f=this.lastPrimaryOrder.filter(function(M){return p.has(M)}),_=Ft(f.map(function(M){return[M,!0]})),b=this.gridColumns.filter(function(M){return!_.has(M)}),A=f.slice();b.forEach(function(M){var L=M.getOriginalParent();if(L){for(var G=[];!G.length&&L;)L.getLeafColumns().forEach(function(ge){var ve=A.indexOf(ge)>=0,we=G.indexOf(ge)<0;ve&&we&&G.push(ge)}),L=L.getOriginalParent();if(G.length){var te=G.map(function(ge){return A.indexOf(ge)}),le=Math.max.apply(Math,B_(te));Bh(A,M,le+1)}else A.push(M)}else A.push(M)}),this.gridColumns=A}}},i.prototype.isPrimaryColumnGroupsPresent=function(){return this.primaryHeaderRowCount>1},i.prototype.setupQuickFilterColumns=function(){this.groupAutoColumns?this.columnsForQuickFilter=(this.primaryColumns||[]).concat(this.groupAutoColumns):this.primaryColumns&&(this.columnsForQuickFilter=this.primaryColumns)},i.prototype.putFixedColumnsFirst=function(t){var s=t.filter(function(f){return f.getColDef().lockPosition}),p=t.filter(function(f){return!f.getColDef().lockPosition});return s.concat(p)},i.prototype.addAutoGroupToGridColumns=function(){if(this.createGroupAutoColumnsIfNeeded(),!E(this.groupAutoColumns)){this.gridColumns=this.groupAutoColumns?this.groupAutoColumns.concat(this.gridColumns):this.gridColumns;var t=this.columnFactory.createForAutoGroups(this.groupAutoColumns,this.gridBalancedTree);this.gridBalancedTree=t.concat(this.gridBalancedTree)}},i.prototype.clearDisplayedAndViewportColumns=function(){this.displayedTreeLeft=[],this.displayedTreeRight=[],this.displayedTreeCentre=[],this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={},this.displayedColumnsLeft=[],this.displayedColumnsRight=[],this.displayedColumnsCenter=[],this.displayedColumns=[],this.viewportColumns=[]},i.prototype.updateGroupsAndDisplayedColumns=function(t){this.updateOpenClosedVisibilityInColumnGroups(),this.deriveDisplayedColumns(t),this.refreshFlexedColumns(),this.extractViewport(),this.updateBodyWidths(),this.eventService.dispatchEvent({type:re.EVENT_DISPLAYED_COLUMNS_CHANGED,api:this.gridApi,columnApi:this.columnApi})},i.prototype.deriveDisplayedColumns=function(t){this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeLeft,this.displayedColumnsLeft),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeCentre,this.displayedColumnsCenter),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeRight,this.displayedColumnsRight),this.joinDisplayedColumns(),this.setLeftValues(t),this.displayedAutoHeightCols=this.displayedColumns.filter(function(s){return s.isAutoHeight()})},i.prototype.isAutoRowHeightActive=function(){return this.autoHeightActive},i.prototype.wasAutoRowHeightEverActive=function(){return this.autoHeightActiveAtLeastOnce},i.prototype.joinDisplayedColumns=function(){this.displayedColumns=this.gridOptionsWrapper.isEnableRtl()?this.displayedColumnsRight.concat(this.displayedColumnsCenter).concat(this.displayedColumnsLeft):this.displayedColumnsLeft.concat(this.displayedColumnsCenter).concat(this.displayedColumnsRight)},i.prototype.setLeftValues=function(t){this.setLeftValuesOfColumns(t),this.setLeftValuesOfGroups()},i.prototype.setLeftValuesOfColumns=function(t){var s=this;if(this.primaryColumns){var p=this.primaryColumns.slice(0),f=this.gridOptionsWrapper.isEnableRtl();[this.displayedColumnsLeft,this.displayedColumnsRight,this.displayedColumnsCenter].forEach(function(_){if(f){var b=s.getWidthOfColsInList(_);_.forEach(function(M){b-=M.getActualWidth(),M.setLeft(b,t)})}else{var A=0;_.forEach(function(M){M.setLeft(A,t),A+=M.getActualWidth()})}Xd(p,_)}),p.forEach(function(_){_.setLeft(null,t)})}},i.prototype.setLeftValuesOfGroups=function(){[this.displayedTreeLeft,this.displayedTreeRight,this.displayedTreeCentre].forEach(function(t){t.forEach(function(s){s instanceof Or&&s.checkLeft()})})},i.prototype.derivedDisplayedColumnsFromDisplayedTree=function(t,s){s.length=0,this.columnUtils.depthFirstDisplayedColumnTreeSearch(t,function(p){p instanceof pn&&s.push(p)})},i.prototype.extractViewportColumns=function(){this.viewportColumnsCenter=this.suppressColumnVirtualisation?this.displayedColumnsCenter:this.filterOutColumnsWithinViewport(),this.viewportColumns=this.viewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight)},i.prototype.getVirtualHeaderGroupRow=function(t,s){var p;switch(t){case me.PINNED_LEFT:p=this.viewportRowLeft[s];break;case me.PINNED_RIGHT:p=this.viewportRowRight[s];break;default:p=this.viewportRowCenter[s]}return E(p)&&(p=[]),p},i.prototype.extractViewportRows=function(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={};var t={};this.viewportColumns.forEach(function(p){return t[p.getId()]=!0});var s=function(p,f,_){for(var b=!1,A=0;A<p.length;A++){var M=p[A],L=!1;if(M instanceof pn)L=!0===t[M.getId()];else{var U=M.getDisplayedChildren();U&&(L=s(U,f,_+1))}L&&(b=!0,f[_]||(f[_]=[]),f[_].push(M))}return b};s(this.displayedTreeLeft,this.viewportRowLeft,0),s(this.displayedTreeRight,this.viewportRowRight,0),s(this.displayedTreeCentre,this.viewportRowCenter,0)},i.prototype.extractViewport=function(){this.extractViewportColumns(),this.extractViewportRows()},i.prototype.filterOutColumnsWithinViewport=function(){return this.displayedColumnsCenter.filter(this.isColumnInViewport.bind(this))},i.prototype.refreshFlexedColumns=function(t){var s=this;void 0===t&&(t={});var p=t.source?t.source:"flex";if(null!=t.viewportWidth&&(this.flexViewportWidth=t.viewportWidth),!this.flexViewportWidth)return[];var f=-1;t.resizingCols&&t.resizingCols.forEach(function(Ye){var dt=s.displayedColumnsCenter.indexOf(Ye);f<dt&&(f=dt)});var _=function(Ye){var dt=s.displayedColumnsCenter.indexOf(Ye)>f;return Ye.getFlex()&&dt},b=this.displayedColumnsCenter.filter(function(Ye){return!_(Ye)}),A=this.displayedColumnsCenter.filter(function(Ye){return _(Ye)}),M=[];if(!A.length)return[];var G,L=[];e:for(;;){var U=A.reduce(function(Ye,dt){return Ye+dt.getFlex()},0);G=this.flexViewportWidth-this.getWidthOfColsInList(b);for(var te=0;te<A.length;te++){var le=A[te],ge=G*le.getFlex()/U,ve=0,we=le.getMinWidth(),Re=le.getMaxWidth();if(J(we)&&ge<we?ve=we:J(Re)&&ge>Re&&(ve=Re),ve){le.setActualWidth(ve,p),Pn(A,le),M.push(le),b.push(le);continue e}L[te]=Math.round(ge)}break}var Fe=G;return A.forEach(function(Ye,dt){Ye.setActualWidth(Math.min(L[dt],Fe),p),M.push(Ye),Fe-=L[dt]}),t.skipSetLeft||this.setLeftValues(p),t.updateBodyWidths&&this.updateBodyWidths(),t.fireResizedEvent&&this.fireColumnResizedEvent(M,!0,p,A),this.flexColsCalculatedAtLestOnce||(this.gridOptionsWrapper.isRowModelDefault()&&this.rowModel.resetRowHeights(),this.flexColsCalculatedAtLestOnce=!0),A},i.prototype.sizeColumnsToFit=function(t,s,p){void 0===s&&(s="sizeColumnsToFit");var f=this.getAllDisplayedColumns();if(!(t<=0)&&f.length){var _=[],b=[];f.forEach(function(Fe){!0===Fe.getColDef().suppressSizeToFit?b.push(Fe):_.push(Fe)});var A=_.slice(0),M=!1,L=function(Fe){Pn(_,Fe),b.push(Fe)};for(_.forEach(function(Fe){return Fe.resetActualWidth(s)});!M;){M=!0;var G=t-this.getWidthOfColsInList(b);if(G<=0)_.forEach(function(Fe){Fe.setMinimum(s)});else for(var U=G/this.getWidthOfColsInList(_),te=G,le=_.length-1;le>=0;le--){var ge=_[le],ve=ge.getMinWidth(),we=ge.getMaxWidth(),Re=Math.round(ge.getActualWidth()*U);J(ve)&&Re<ve?(Re=ve,L(ge),M=!1):J(we)&&ge.isGreaterThanMax(Re)?(Re=we,L(ge),M=!1):0===le&&(Re=te),ge.setActualWidth(Re,s,!0),te-=Re}}A.forEach(function(Fe){Fe.fireColumnWidthChangedEvent(s)}),this.setLeftValues(s),this.updateBodyWidths(),!p&&this.fireColumnResizedEvent(A,!0,s)}},i.prototype.buildDisplayedTrees=function(t){var s=[],p=[],f=[];t.forEach(function(b){switch(b.getPinned()){case"left":s.push(b);break;case"right":p.push(b);break;default:f.push(b)}});var _=new ln;this.displayedTreeLeft=this.displayedGroupCreator.createDisplayedGroups(s,this.gridBalancedTree,_,me.PINNED_LEFT,this.displayedTreeLeft),this.displayedTreeRight=this.displayedGroupCreator.createDisplayedGroups(p,this.gridBalancedTree,_,me.PINNED_RIGHT,this.displayedTreeRight),this.displayedTreeCentre=this.displayedGroupCreator.createDisplayedGroups(f,this.gridBalancedTree,_,null,this.displayedTreeCentre),this.updateDisplayedMap()},i.prototype.updateDisplayedMap=function(){var t=this;this.displayedColumnsAndGroupsMap={};var s=function(p){t.displayedColumnsAndGroupsMap[p.getUniqueId()]=p};this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeCentre,s),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeLeft,s),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeRight,s)},i.prototype.isDisplayed=function(t){return this.displayedColumnsAndGroupsMap[t.getUniqueId()]===t},i.prototype.updateOpenClosedVisibilityInColumnGroups=function(){var t=this.getAllDisplayedTrees();this.columnUtils.depthFirstAllColumnTreeSearch(t,function(s){s instanceof Or&&s.calculateDisplayedColumns()})},i.prototype.getGroupAutoColumns=function(){return this.groupAutoColumns},i.prototype.createGroupAutoColumnsIfNeeded=function(){if(this.autoGroupsNeedBuilding){this.autoGroupsNeedBuilding=!1;var t=this.gridOptionsWrapper.isGroupUseEntireRow(this.pivotMode),s=this.pivotMode?this.gridOptionsWrapper.isPivotSuppressAutoColumn():this.gridOptionsWrapper.isGroupSuppressAutoColumn();if(!(this.rowGroupColumns.length>0||this.usingTreeData)||s||t)this.groupAutoColumns=null;else{var _=this.autoGroupColService.createAutoGroupColumns(this.rowGroupColumns);(!this.autoColsEqual(_,this.groupAutoColumns)||this.forceRecreateAutoGroups)&&(this.groupAutoColumns=_)}}},i.prototype.autoColsEqual=function(t,s){return hu(t,s,function(p,f){return p.getColId()===f.getColId()})},i.prototype.getWidthOfColsInList=function(t){return t.reduce(function(s,p){return s+p.getActualWidth()},0)},i.prototype.getGridBalancedTree=function(){return this.gridBalancedTree},i.prototype.hasFloatingFilters=function(){return!!this.gridColumns&&this.gridColumns.some(function(s){return s.getColDef().floatingFilter})},i.prototype.getFirstDisplayedColumn=function(){var t=this.gridOptionsWrapper.isEnableRtl(),s=["getDisplayedLeftColumns","getDisplayedCenterColumns","getDisplayedRightColumns"];t&&s.reverse();for(var p=0;p<s.length;p++){var f=this[s[p]]();if(f.length)return t?Rn(f):f[0]}return null},vr([$("expressionService")],i.prototype,"expressionService",void 0),vr([$("columnFactory")],i.prototype,"columnFactory",void 0),vr([$("displayedGroupCreator")],i.prototype,"displayedGroupCreator",void 0),vr([$("ctrlsService")],i.prototype,"ctrlsService",void 0),vr([$("autoWidthCalculator")],i.prototype,"autoWidthCalculator",void 0),vr([$("columnUtils")],i.prototype,"columnUtils",void 0),vr([$("columnAnimationService")],i.prototype,"columnAnimationService",void 0),vr([$("autoGroupColService")],i.prototype,"autoGroupColService",void 0),vr([tn("aggFuncService")],i.prototype,"aggFuncService",void 0),vr([tn("valueCache")],i.prototype,"valueCache",void 0),vr([tn("animationFrameService")],i.prototype,"animationFrameService",void 0),vr([$("rowModel")],i.prototype,"rowModel",void 0),vr([$("columnApi")],i.prototype,"columnApi",void 0),vr([$("gridApi")],i.prototype,"gridApi",void 0),vr([$("sortController")],i.prototype,"sortController",void 0),vr([$("columnDefFactory")],i.prototype,"columnDefFactory",void 0),vr([$e],i.prototype,"init",null),vr([So(0,bi("loggerFactory"))],i.prototype,"setBeans",null),vr([tt("columnModel")],i)}(Ge),gD=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),Nw=function(g){function i(){return null!==g&&g.apply(this,arguments)||this}return gD(i,g),i.prototype.calculateColMinWidth=function(t){return null!=t.minWidth?t.minWidth:this.gridOptionsWrapper.getMinColWidth()},i.prototype.calculateColMaxWidth=function(t){return null!=t.maxWidth?t.maxWidth:this.gridOptionsWrapper.getMaxColWidth()||Number.MAX_SAFE_INTEGER},i.prototype.calculateColInitialWidth=function(t){var f,s=this.calculateColMinWidth(t),p=this.calculateColMaxWidth(t),_=an(t.width),b=an(t.initialWidth);return f=null!=_?_:null!=b?b:this.gridOptionsWrapper.getColWidth(),Math.max(Math.min(f,p),s)},i.prototype.getOriginalPathForColumn=function(t,s){var p=[],f=!1,_=function(b,A){for(var M=0;M<b.length;M++){if(f)return;var L=b[M];L instanceof cr?(_(L.getChildren(),A+1),p[A]=L):L===t&&(f=!0)}};return _(s,0),f?p:null},i.prototype.depthFirstOriginalTreeSearch=function(t,s,p){var f=this;!s||s.forEach(function(_){_ instanceof cr&&f.depthFirstOriginalTreeSearch(_,_.getChildren(),p),p(_,t)})},i.prototype.depthFirstAllColumnTreeSearch=function(t,s){var p=this;!t||t.forEach(function(f){f instanceof Or&&p.depthFirstAllColumnTreeSearch(f.getChildren(),s),s(f)})},i.prototype.depthFirstDisplayedColumnTreeSearch=function(t,s){var p=this;!t||t.forEach(function(f){f instanceof Or&&p.depthFirstDisplayedColumnTreeSearch(f.getDisplayedChildren(),s),s(f)})},i=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f}([tt("columnUtils")],i),i}(Ge),mD=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),H_=function(g){function i(){return null!==g&&g.apply(this,arguments)||this}return mD(i,g),i.prototype.createDisplayedGroups=function(t,s,p,f,_){var M,L,b=this,A=[],G=this.mapOldGroupsById(_);return t.forEach(function(U){for(var te=b.getOriginalPathForColumn(s,U),le=[],ge=!L,ve=0;ve<te.length;ve++)if(ge||te[ve]!==L[ve]){var we=b.createColumnGroup(te[ve],p,G,f);le[ve]=we,0==ve?A.push(we):le[ve-1].addChild(we)}else le[ve]=M[ve];0===le.length?A.push(U):Rn(le).addChild(U),M=le,L=te}),this.setupParentsIntoColumns(A,null),A},i.prototype.createColumnGroup=function(t,s,p,f){var _=t.getGroupId(),b=s.getInstanceIdForKey(_),M=p[Or.createUniqueId(_,b)];return M&&M.getProvidedColumnGroup()!==t&&(M=null),J(M)?M.reset():(M=new Or(t,_,b,f),this.context.createBean(M)),M},i.prototype.mapOldGroupsById=function(t){var s={},p=function(f){f.forEach(function(_){if(_ instanceof Or){var b=_;s[_.getUniqueId()]=b,p(b.getChildren())}})};return t&&p(t),s},i.prototype.setupParentsIntoColumns=function(t,s){var p=this;t.forEach(function(f){if(f.setParent(s),f instanceof Or){var _=f;p.setupParentsIntoColumns(_.getChildren(),_)}})},i.prototype.getOriginalPathForColumn=function(t,s){var p=[],f=!1,_=function(b,A){for(var M=0;M<b.length;M++){if(f)return;var L=b[M];L instanceof cr?(_(L.getChildren(),A+1),p[A]=L):L===s&&(f=!0)}};return _(t,0),f?p:(console.warn("AG Grid: could not get path"),null)},i=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f}([tt("displayedGroupCreator")],i),i}(Ge),Lw=function(g,i){var t="function"==typeof Symbol&&g[Symbol.iterator];if(!t)return g;var p,_,s=t.call(g),f=[];try{for(;(void 0===i||i-- >0)&&!(p=s.next()).done;)f.push(p.value)}catch(b){_={error:b}}finally{try{p&&!p.done&&(t=s.return)&&t.call(s)}finally{if(_)throw _.error}}return f},Un=function(){function g(){}return g.STRING_PROPERTIES=["sortingOrder","rowClass","rowSelection","overlayLoadingTemplate","overlayNoRowsTemplate","quickFilterText","rowModelType","editType","domLayout","clipboardDeliminator","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","serverSideStoreType","groupDisplayType","treeDataDisplayType"],g.OBJECT_PROPERTIES=["components","frameworkComponents","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultExportParams","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","colResizeDefault","statusBar","sideBar","chartThemeOverrides","customChartThemes"],g.ARRAY_PROPERTIES=["alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes"],g.NUMBER_PROPERTIES=["rowHeight","detailRowHeight","rowBuffer","colWidth","headerHeight","groupHeaderHeight","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","minColWidth","maxColWidth","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","scrollbarWidth","batchUpdateWaitMillis","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDelay","cellFadeDelay","tabIndex"],g.BOOLEAN_PROPERTIES=["suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellSelection","suppressCellFocus","suppressHorizontalScroll","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","angularCompileRows","angularCompileFilters","groupSuppressAutoColumn","groupSelectsChildren","groupIncludeFooter","groupIncludeTotalFooter","groupUseEntireRow","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressParentsInRowNodes","suppressColumnMoveAnimation","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","suppressAsyncEvents","allowContextMenuWithControlKey","suppressContextMenu","rememberGroupStateWhenNewData","enableCellChangeFlash","suppressDragLeaveHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","suppressAggAtRootLevel","suppressFocusAfterRefresh","functionsPassive","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","deprecatedEmbedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupMultiAutoColumn","pagination","stopEditingWhenGridLosesFocus","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","deltaRowDataMode","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","treeData","masterDetail","suppressMultiRangeSelection","enterMovesDownAfterEdit","enterMovesDown","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressEnterpriseResetOnNewColumns","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","serverSideSortingAlwaysResets","suppressSetColumnStateEvents","suppressColumnStateEvents","enableCharts","deltaColumnMode","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","immutableData","immutableColumns","pivotSuppressAutoColumn","suppressExpandablePivotGroups","applyColumnDefOrder","debounceVerticalScrollbar","detailRowAutoHeight","serverSideFilteringAlwaysResets","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","maintainColumnOrder","groupMaintainOrder","columnHoverHighlight","reactUi","suppressReactUi"],g.ALL_PROPERTIES=function(){for(var g=[],i=0;i<arguments.length;i++)g=g.concat(Lw(arguments[i]));return g}(g.ARRAY_PROPERTIES,g.OBJECT_PROPERTIES,g.STRING_PROPERTIES,g.NUMBER_PROPERTIES,g.FUNCTION_PROPERTIES=["localeTextFunc","groupRowInnerRenderer","groupRowInnerRendererFramework","groupRowRenderer","groupRowRendererFramework","isExternalFilterPresent","getRowHeight","doesExternalFilterPass","getRowClass","getRowStyle","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","groupRowAggNodes","getRowNodeId","isFullWidthCell","fullWidthCellRenderer","fullWidthCellRendererFramework","processSecondaryColDef","processSecondaryColGroupDef","getBusinessKeyForNode","sendToClipboard","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","loadingCellRenderer","loadingCellRendererFramework","loadingOverlayComponent","loadingOverlayComponentFramework","noRowsOverlayComponent","noRowsOverlayComponentFramework","detailCellRenderer","detailCellRendererFramework","isRowMaster","isRowSelectable","postSort","processHeaderForClipboard","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","suppressKeyboardEvent","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideStoreParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","defaultGroupSortComparator","defaultGroupOrderComparator","loadingCellRendererSelector"],g.BOOLEAN_PROPERTIES),g.FRAMEWORK_PROPERTIES=["__ob__","__v_skip","__metadata__","mappedColumnProperties","hasChildColumns","toColDef","createColDefFromGridColumn"],g}(),qn=function(){return qn=Object.assign||function(g){for(var i,t=1,s=arguments.length;t<s;t++)for(var p in i=arguments[t])Object.prototype.hasOwnProperty.call(i,p)&&(g[p]=i[p]);return g},qn.apply(this,arguments)},kw=function(g,i){var t="function"==typeof Symbol&&g[Symbol.iterator];if(!t)return g;var p,_,s=t.call(g),f=[];try{for(;(void 0===i||i-- >0)&&!(p=s.next()).done;)f.push(p.value)}catch(b){_={error:b}}finally{try{p&&!p.done&&(t=s.return)&&t.call(s)}finally{if(_)throw _.error}}return f},Uh=function(){for(var g=[],i=0;i<arguments.length;i++)g=g.concat(kw(arguments[i]));return g},Ts=function(){function g(){}return g.getEventCallbacks=function(){return g.EVENT_CALLBACKS||(g.EVENT_CALLBACKS=g.EVENTS.map(function(i){return g.getCallbackForEvent(i)})),g.EVENT_CALLBACKS},g.copyAttributesToGridOptions=function(i,t,s){"object"!=typeof i&&(i={});var p=i,f=function(_){return void 0!==t[_]};return Uh(g.ARRAY_PROPERTIES,g.STRING_PROPERTIES,g.OBJECT_PROPERTIES,g.FUNCTION_PROPERTIES,g.getEventCallbacks()).filter(f).forEach(function(_){return p[_]=t[_]}),g.BOOLEAN_PROPERTIES.filter(f).forEach(function(_){return p[_]=g.toBoolean(t[_])}),g.NUMBER_PROPERTIES.filter(f).forEach(function(_){return p[_]=g.toNumber(t[_])}),i},g.getCallbackForEvent=function(i){return!i||i.length<2?i:"on"+i[0].toUpperCase()+i.substr(1)},g.processOnChange=function(i,t,s,p){if(i){var f=qn({},i),_=t,b=function(L){return f[L]};Uh(g.ARRAY_PROPERTIES,g.OBJECT_PROPERTIES,g.STRING_PROPERTIES,g.getEventCallbacks()).filter(b).forEach(function(L){return _[L]=f[L].currentValue}),g.BOOLEAN_PROPERTIES.filter(b).forEach(function(L){return _[L]=g.toBoolean(f[L].currentValue)}),g.NUMBER_PROPERTIES.filter(b).forEach(function(L){return _[L]=g.toNumber(f[L].currentValue)}),f.enableCellTextSelection&&(s.setEnableCellTextSelection(g.toBoolean(f.enableCellTextSelection.currentValue)),delete f.enableCellTextSelection),f.quickFilterText&&(s.setQuickFilter(f.quickFilterText.currentValue),delete f.quickFilterText),f.autoGroupColumnDef&&(s.setAutoGroupColumnDef(f.autoGroupColumnDef.currentValue,"gridOptionsChanged"),delete f.autoGroupColumnDef),f.columnDefs&&(s.setColumnDefs(f.columnDefs.currentValue,"gridOptionsChanged"),delete f.columnDefs),f.paginationPageSize&&(s.paginationSetPageSize(g.toNumber(f.paginationPageSize.currentValue)),delete f.paginationPageSize),f.pivotMode&&(p.setPivotMode(g.toBoolean(f.pivotMode.currentValue)),delete f.pivotMode),f.groupRemoveSingleChildren&&(s.setGroupRemoveSingleChildren(g.toBoolean(f.groupRemoveSingleChildren.currentValue)),delete f.groupRemoveSingleChildren),f.suppressRowDrag&&(s.setSuppressRowDrag(g.toBoolean(f.suppressRowDrag.currentValue)),delete f.suppressRowDrag),f.suppressMoveWhenRowDragging&&(s.setSuppressMoveWhenRowDragging(g.toBoolean(f.suppressMoveWhenRowDragging.currentValue)),delete f.suppressMoveWhenRowDragging),f.suppressRowClickSelection&&(s.setSuppressRowClickSelection(g.toBoolean(f.suppressRowClickSelection.currentValue)),delete f.suppressRowClickSelection),f.suppressClipboardPaste&&(s.setSuppressClipboardPaste(g.toBoolean(f.suppressClipboardPaste.currentValue)),delete f.suppressClipboardPaste),f.headerHeight&&(s.setHeaderHeight(g.toNumber(f.headerHeight.currentValue)),delete f.headerHeight);var A=s;Object.keys(f).forEach(function(L){var G="set"+L.charAt(0).toUpperCase()+L.substring(1);A[G]&&A[G](i[L].currentValue)});var M={type:re.EVENT_COMPONENT_STATE_CHANGED,api:t.api,columnApi:t.columnApi};Sn(i,function(L,G){M[L]=G}),s.dispatchEvent(M)}},g.toBoolean=function(i){return"boolean"==typeof i?i:"string"==typeof i&&("TRUE"===i.toUpperCase()||""==i)},g.toNumber=function(i){return"number"==typeof i?i:"string"==typeof i?Number(i):void 0},g.EVENTS=[],g.PUBLIC_EVENTS=[],g.EXCLUDED_INTERNAL_EVENTS=[],g.STRING_PROPERTIES=Un.STRING_PROPERTIES,g.OBJECT_PROPERTIES=Un.OBJECT_PROPERTIES,g.ARRAY_PROPERTIES=Un.ARRAY_PROPERTIES,g.NUMBER_PROPERTIES=Un.NUMBER_PROPERTIES,g.BOOLEAN_PROPERTIES=Un.BOOLEAN_PROPERTIES,g.FUNCTION_PROPERTIES=Un.FUNCTION_PROPERTIES,g.ALL_PROPERTIES=Un.ALL_PROPERTIES,g}();Ts.EVENTS=Ya(re),Ts.EXCLUDED_INTERNAL_EVENTS=[re.EVENT_SCROLLBAR_WIDTH_CHANGED,re.EVENT_CHECKBOX_CHANGED,re.EVENT_HEIGHT_SCALE_CHANGED,re.EVENT_BODY_HEIGHT_CHANGED,re.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,re.EVENT_SCROLL_VISIBILITY_CHANGED,re.EVENT_COLUMN_HOVER_CHANGED,re.EVENT_FLASH_CELLS,re.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,re.EVENT_DISPLAYED_ROWS_CHANGED,re.EVENT_LEFT_PINNED_WIDTH_CHANGED,re.EVENT_RIGHT_PINNED_WIDTH_CHANGED,re.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,re.EVENT_POPUP_TO_FRONT,re.EVENT_KEYBOARD_FOCUS,re.EVENT_MOUSE_FOCUS,re.EVENT_STORE_UPDATED,re.EVENT_COLUMN_PANEL_ITEM_DRAG_START,re.EVENT_COLUMN_PANEL_ITEM_DRAG_END,re.EVENT_FILL_START,re.EVENT_FILL_END],Ts.PUBLIC_EVENTS=Ts.EVENTS.filter(function(g){return!ho(Ts.EXCLUDED_INTERNAL_EVENTS,g)});var ot=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),_t=function(g){function i(){var t=null!==g&&g.apply(this,arguments)||this;return t.componentsMappedByName={},t}return ot(i,g),i.prototype.setupComponents=function(t){var s=this;t&&t.forEach(function(p){return s.addComponent(p)})},i.prototype.addComponent=function(t){var p=t.componentName.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase().toUpperCase();this.componentsMappedByName[p]=t.componentClass},i.prototype.getComponentClass=function(t){return this.componentsMappedByName[t]},i=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f}([tt("agStackComponentsRegistry")],i),i}(Ge),np=function(g,i){var t="function"==typeof Symbol&&g[Symbol.iterator];if(!t)return g;var p,_,s=t.call(g),f=[];try{for(;(void 0===i||i-- >0)&&!(p=s.next()).done;)f.push(p.value)}catch(b){_={error:b}}finally{try{p&&!p.done&&(t=s.return)&&t.call(s)}finally{if(_)throw _.error}}return f},zh=function(){function g(){}return g.STRING_PROPERTIES=["headerName","columnGroupShow","headerClass","toolPanelClass","headerValueGetter","pivotKeys","groupId","colId","sort","initialSort","field","type","tooltipComponent","tooltipField","headerTooltip","cellClass","showRowGroup","template","templateUrl","filter","initialAggFunc","aggFunc","pinned","initialPinned","chartDataType","cellEditorPopupPosition"],g.OBJECT_PROPERTIES=["headerGroupComponent","headerGroupComponentFramework","headerGroupComponentParams","cellStyle","cellRenderer","cellRendererParams","cellRendererFramework","cellEditor","cellEditorFramework","cellEditorParams","pinnedRowCellRendererFramework","pinnedRowCellRendererParams","filterFramework","filterParams","pivotValueColumn","headerComponent","headerComponentFramework","headerComponentParams","floatingFilterComponent","floatingFilterComponentParams","floatingFilterComponentFramework","floatingFilterFramework","tooltipComponent","tooltipComponentParams","tooltipComponentFramework","refData","columnsMenuParams"],g.ARRAY_PROPERTIES=["children","sortingOrder","allowedAggFuncs","menuTabs","pivotTotalColumnIds","cellClassRules","icons"],g.NUMBER_PROPERTIES=["sortedAt","sortIndex","initialSortIndex","flex","initialFlex","width","initialWidth","minWidth","maxWidth","rowGroupIndex","initialRowGroupIndex","pivotIndex","initialPivotIndex"],g.BOOLEAN_PROPERTIES=["suppressCellFlash","suppressColumnsToolPanel","suppressFiltersToolPanel","openByDefault","marryChildren","hide","initialHide","rowGroup","initialRowGroup","pivot","initialPivot","checkboxSelection","headerCheckboxSelection","headerCheckboxSelectionFilteredOnly","suppressMenu","suppressMovable","lockPosition","lockVisible","lockPinned","unSortIcon","suppressSizeToFit","suppressAutoSize","enableRowGroup","enablePivot","enableValue","editable","suppressPaste","suppressNavigable","enableCellChangeFlash","rowDrag","dndSource","autoHeight","wrapText","sortable","resizable","singleClickEdit","floatingFilter","cellEditorPopup","suppressFillHandle"],g.ALL_PROPERTIES=function(){for(var g=[],i=0;i<arguments.length;i++)g=g.concat(np(arguments[i]));return g}(g.ARRAY_PROPERTIES,g.OBJECT_PROPERTIES,g.STRING_PROPERTIES,g.NUMBER_PROPERTIES,g.FUNCTION_PROPERTIES=["dndSourceOnRowDrag","valueGetter","valueSetter","filterValueGetter","keyCreator","pinnedRowCellRenderer","valueFormatter","pinnedRowValueFormatter","valueParser","comparator","equals","pivotComparator","suppressKeyboardEvent","suppressHeaderKeyboardEvent","colSpan","rowSpan","getQuickFilterText","newValueHandler","onCellValueChanged","onCellClicked","onCellDoubleClicked","onCellContextMenu","rowDragText","tooltipValueGetter","tooltipComponent","tooltipComponentFramework","cellRendererSelector","cellEditorSelector"],g.BOOLEAN_PROPERTIES),g.FRAMEWORK_PROPERTIES=["__ob__","__v_skip","__metadata__","mappedColumnProperties","hasChildColumns","toColDef","createColDefFromGridColumn"],g}(),j_=function(g,i){var t="function"==typeof Symbol&&g[Symbol.iterator];if(!t)return g;var p,_,s=t.call(g),f=[];try{for(;(void 0===i||i-- >0)&&!(p=s.next()).done;)f.push(p.value)}catch(b){_={error:b}}finally{try{p&&!p.done&&(t=s.return)&&t.call(s)}finally{if(_)throw _.error}}return f},fu=function(){function g(i,t,s,p){void 0===p&&(p=1),this.r=Math.min(1,Math.max(0,i||0)),this.g=Math.min(1,Math.max(0,t||0)),this.b=Math.min(1,Math.max(0,s||0)),this.a=Math.min(1,Math.max(0,p||0))}return g.fromString=function(i){if(i.indexOf("#")>=0)return g.fromHexString(i);var t=g.nameToHex[i];if(t)return g.fromHexString(t);if(i.indexOf("rgb")>=0)return g.fromRgbaString(i);throw new Error("Invalid color string: '"+i+"'")},g.parseHex=function(i){var t;switch((i=i.replace(/ /g,"").slice(1)).length){case 6:case 8:t=[];for(var s=0;s<i.length;s+=2)t.push(parseInt(""+i[s]+i[s+1],16));break;case 3:case 4:t=i.split("").map(function(p){return parseInt(p,16)}).map(function(p){return p+16*p})}if(t.length>=3&&t.every(function(p){return p>=0}))return 3===t.length&&t.push(255),t},g.fromHexString=function(i){var t=g.parseHex(i);if(t){var s=j_(t,4);return new g(s[0]/255,s[1]/255,s[2]/255,s[3]/255)}throw new Error("Malformed hexadecimal color string: '"+i+"'")},g.stringToRgba=function(i){for(var t=j_([NaN,NaN],2),s=t[0],p=t[1],f=0;f<i.length;f++){var _=i[f];if(s||"("!==_){if(")"===_){p=f;break}}else s=f}var b=s&&p&&i.substring(s+1,p);if(b){var A=b.split(","),M=[];for(f=0;f<A.length;f++){var L=A[f],G=parseFloat(L);if(isNaN(G))return;L.indexOf("%")>=0?(G=Math.max(0,Math.min(100,G)),G/=100):3===f?G=Math.max(0,Math.min(1,G)):(G=Math.max(0,Math.min(255,G)),G/=255),M.push(G)}return M}},g.fromRgbaString=function(i){var t=g.stringToRgba(i);if(t){if(3===t.length)return new g(t[0],t[1],t[2]);if(4===t.length)return new g(t[0],t[1],t[2],t[3])}throw new Error("Malformed rgb/rgba color string: '"+i+"'")},g.fromArray=function(i){if(4===i.length)return new g(i[0],i[1],i[2],i[3]);if(3===i.length)return new g(i[0],i[1],i[2]);throw new Error("The given array should contain 3 or 4 color components (numbers).")},g.fromHSB=function(i,t,s,p){void 0===p&&(p=1);var f=g.HSBtoRGB(i,t,s);return new g(f[0],f[1],f[2],p)},g.padHex=function(i){return 1===i.length?"0"+i:i},g.prototype.toHexString=function(){var i="#"+g.padHex(Math.round(255*this.r).toString(16))+g.padHex(Math.round(255*this.g).toString(16))+g.padHex(Math.round(255*this.b).toString(16));return this.a<1&&(i+=g.padHex(Math.round(255*this.a).toString(16))),i},g.prototype.toRgbaString=function(i){void 0===i&&(i=3);var t=[Math.round(255*this.r),Math.round(255*this.g),Math.round(255*this.b)],s=Math.pow(10,i);return 1!==this.a?(t.push(Math.round(this.a*s)/s),"rgba("+t.join(", ")+")"):"rgb("+t.join(", ")+")"},g.prototype.toString=function(){return 1===this.a?this.toHexString():this.toRgbaString()},g.prototype.toHSB=function(){return g.RGBtoHSB(this.r,this.g,this.b)},g.RGBtoHSB=function(i,t,s){var p=Math.min(i,t,s),f=Math.max(i,t,s),b=NaN;if(p!==f){var A=f-p,M=(f-i)/A,L=(f-t)/A,G=(f-s)/A;b=i===f?G-L:t===f?2+M-G:4+L-M,(b/=6)<0&&(b+=1)}return[360*b,0!==f?(f-p)/f:0,f]},g.HSBtoRGB=function(i,t,s){isNaN(i)&&(i=0),i=(i%360+360)%360/360;var p=0,f=0,_=0;if(0===t)p=f=_=s;else{var b=6*(i-Math.floor(i)),A=b-Math.floor(b),M=s*(1-t),L=s*(1-t*A),G=s*(1-t*(1-A));switch(b>>0){case 0:p=s,f=G,_=M;break;case 1:p=L,f=s,_=M;break;case 2:p=M,f=s,_=G;break;case 3:p=M,f=L,_=s;break;case 4:p=G,f=M,_=s;break;case 5:p=s,f=M,_=L}}return[p,f,_]},g.prototype.derive=function(i,t,s,p){var f=g.RGBtoHSB(this.r,this.g,this.b),_=f[2];0==_&&s>1&&(_=.05);var b=((f[0]+i)%360+360)%360,A=Math.max(Math.min(f[1]*t,1),0);_=Math.max(Math.min(_*s,1),0);var M=Math.max(Math.min(this.a*p,1),0),L=g.HSBtoRGB(b,A,_);return L.push(M),g.fromArray(L)},g.prototype.brighter=function(){return this.derive(0,1,1/.7,1)},g.prototype.darker=function(){return this.derive(0,1,.7,1)},g.nameToHex=Object.freeze({aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",grey:"#808080",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"}),g}();function Qa(g,i){void 0===i&&(i=",");var t=[],s=function(U){return"\r"===U||"\n"===U},p=!1;if(""===g)return[[""]];for(var _,b,A,f=function(U,te,le){var ge=g[le-1],ve=g[le],we=g[le+1],Re=function(){t[U]||(t[U]=[]),t[U][te]||(t[U][te]="")};if(Re(),'"'===ve){if(p)return'"'===we?(t[U][te]+='"',le++):p=!1,_=U,b=te,A=le,"continue";if(void 0===ge||ge===i||s(ge))return p=!0,_=U,b=te,A=le,"continue"}if(!p){if(ve===i)return te++,Re(),_=U,b=te,A=le,"continue";if(s(ve))return te=0,U++,Re(),"\r"===ve&&"\n"===we&&le++,_=U,b=te,A=le,"continue"}t[U][te]+=ve,_=U,b=te,A=le},M=0,L=0,G=0;G<g.length;G++)f(M,L,G),M=_,L=b,G=A;return t}var Lm,jt,Si,gu,Za,Sl,U_,Ea,Nm=Object.freeze({stringToArray:Qa});function km(){return void 0===Si&&(void 0===jt&&(jt=!!document.documentMode),Si=!(jt||!window.StyleMedia)),Si}function Gm(){return void 0===Lm&&(Lm=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),Lm}function Ui(){if(void 0===gu){var g=window;gu=!!g.chrome&&(!!g.chrome.webstore||!!g.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return gu}function Vm(){if(void 0===Za){var g=window;Za=void 0!==g.InstallTrigger}return Za}function Dc(){return void 0===Sl&&(Sl=(/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!window.MSStream),Sl}function $h(g){if(!g)return null;var i=g.tabIndex,t=g.getAttribute("tabIndex");return-1!==i||null!==t&&(""!==t||Vm())?i.toString():null}function Gw(){if(!document.body)return-1;var g=1e6,i=navigator.userAgent.toLowerCase().match(/firefox/)?6e6:1e9,t=document.createElement("div");for(document.body.appendChild(t);;){var s=2*g;if(t.style.height=s+"px",s>i||t.clientHeight!==s)break;g=s}return document.body.removeChild(t),g}function Vn(){return null==Ea&&Vw(),Ea}function Vw(){var g=document.body,i=document.createElement("div");i.style.width=i.style.height="100px",i.style.opacity="0",i.style.overflow="scroll",i.style.msOverflowStyle="scrollbar",i.style.position="absolute",g.appendChild(i);var t=i.offsetWidth-i.clientWidth;0===t&&0===i.clientWidth&&(t=null),i.parentNode&&i.parentNode.removeChild(i),null!=t&&(Ea=t,U_=0===t)}function Bw(){return null==U_&&Vw(),U_}function Xn(){return document.body?document.body.clientWidth:window.innerHeight?window.innerWidth:document.documentElement&&document.documentElement.clientWidth?document.documentElement.clientWidth:-1}function ip(){return document.body?document.body.clientHeight:window.innerHeight?window.innerHeight:document.documentElement&&document.documentElement.clientHeight?document.documentElement.clientHeight:-1}var Oc,Bm=Object.freeze({isBrowserEdge:km,isBrowserSafari:Gm,isBrowserChrome:Ui,isBrowserFirefox:Vm,isIOSUserAgent:Dc,getTabIndex:$h,getMaxDivHeight:Gw,getScrollbarWidth:Vn,isInvisibleScrollbar:Bw,hasOverflowScrolling:function(){var g,i,t=["webkit","moz","o","ms"],s=document.createElement("div"),f=!1;document.getElementsByTagName("body")[0].appendChild(s),s.setAttribute("style",t.map(function(L){return"-"+L+"-overflow-scrolling: touch"}).concat("overflow-scrolling: touch").join(";"));var b=window.getComputedStyle(s);if("touch"===b.overflowScrolling&&(f=!0),!f)try{for(var A=function(g){var i="function"==typeof Symbol&&Symbol.iterator,t=i&&g[i],s=0;if(t)return t.call(g);if(g&&"number"==typeof g.length)return{next:function(){return g&&s>=g.length&&(g=void 0),{value:g&&g[s++],done:!g}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),M=A.next();!M.done;M=A.next())if("touch"===b[M.value+"OverflowScrolling"]){f=!0;break}}catch(L){g={error:L}}finally{try{M&&!M.done&&(i=A.return)&&i.call(A)}finally{if(g)throw g.error}}return s.parentNode&&s.parentNode.removeChild(s),f},getBodyWidth:Xn,getBodyHeight:ip});function Ja(g){var i=Element.prototype.matches||Element.prototype.msMatchesSelector,t=i.call(g,me.INPUT_SELECTOR),s=i.call(g,me.FOCUSABLE_EXCLUDE),p=gi(g);return t&&!s&&p}function Mn(g,i){g.classList.toggle("ag-hidden",!i)}function Do(g,i){g.classList.toggle("ag-invisible",!i)}function Yt(g,i){var t="disabled",s=i?function(p){return p.setAttribute(t,"")}:function(p){return p.removeAttribute(t)};s(g),op(g.querySelectorAll("input"),function(p){return s(p)})}function Kh(g,i,t){for(var s=0;g;){if(g.classList.contains(i))return!0;if(g=g.parentElement,t&&++s>t)break}return!1}function je(g){var i=window.getComputedStyle(g),s=i.width,p=i.paddingTop,f=i.paddingRight,_=i.paddingBottom,b=i.paddingLeft,A=i.marginTop,M=i.marginRight,L=i.marginBottom,G=i.marginLeft,U=i.boxSizing;return{height:parseFloat(i.height),width:parseFloat(s),paddingTop:parseFloat(p),paddingRight:parseFloat(f),paddingBottom:parseFloat(_),paddingLeft:parseFloat(b),marginTop:parseFloat(A),marginRight:parseFloat(M),marginBottom:parseFloat(L),marginLeft:parseFloat(G),boxSizing:U}}function xc(g){var i=je(g);return"border-box"===i.boxSizing?i.height-i.paddingTop-i.paddingBottom:i.height}function Rs(g){var i=je(g);return"border-box"===i.boxSizing?i.width-i.paddingLeft-i.paddingRight:i.width}function Tt(g){var i=je(g);return Math.ceil(g.offsetHeight+(i.marginBottom+i.marginTop))}function Ac(g){var i=je(g);return Math.ceil(g.offsetWidth+(i.marginLeft+i.marginRight))}function Ps(){if("boolean"==typeof Oc)return Oc;var g=document.createElement("div");return g.style.direction="rtl",g.style.width="1px",g.style.height="1px",g.style.position="fixed",g.style.top="0px",g.style.overflow="hidden",g.dir="rtl",g.innerHTML='<div style="width: 2px">\n            <span style="display: inline-block; width: 1px"></span>\n            <span style="display: inline-block; width: 1px"></span>\n        </div>',document.body.appendChild(g),g.scrollLeft=1,Oc=0===Math.floor(g.scrollLeft),document.body.removeChild(g),Oc}function Ke(g,i){var t=g.scrollLeft;return i&&(t=Math.abs(t),Ui()&&!Ps()&&(t=g.scrollWidth-g.clientWidth-t)),t}function Ur(g,i,t){t&&(Ps()?i*=-1:(Gm()||Ui())&&(i=g.scrollWidth-g.clientWidth-i)),g.scrollLeft=i}function Bn(g){for(;g&&g.firstChild;)g.removeChild(g.firstChild)}function fi(g){g&&g.parentNode&&g.parentNode.removeChild(g)}function gi(g){return null!==g.offsetParent}function zn(g){if(null!==DOMParser)return(new DOMParser).parseFromString(g,"text/html").body.firstChild;var s=document.createElement("div");return s.innerHTML=(g||"").trim(),s.firstChild}function nr(g){return g&&g.clientHeight?g.clientHeight:0}function zi(g){return g&&g.clientWidth?g.clientWidth:0}function Ms(g,i,t){t&&t.nextSibling===i||(t?t.nextSibling?g.insertBefore(i,t.nextSibling):g.appendChild(i):g.firstChild&&g.firstChild!==i&&g.insertAdjacentElement("afterbegin",i))}function Pr(g,i){for(var t=0;t<i.length;t++){var s=i[t],p=g.children[t];p!==s&&g.insertBefore(s,p)}}function Dl(g,i,t){t?t.insertAdjacentElement("afterend",i):g.firstChild?g.insertAdjacentElement("afterbegin",i):g.appendChild(i)}function vu(g,i){!i||Object.keys(i).forEach(function(t){var s=Fm(t);s&&(g.style[s]=i[t])})}function Ol(g){return g.clientWidth<g.scrollWidth}function qt(g){return g.clientHeight<g.scrollHeight}function xl(g,i){"flex"===i?(g.style.removeProperty("width"),g.style.removeProperty("minWidth"),g.style.removeProperty("maxWidth"),g.style.flex="1 1 auto"):$i(g,i)}function $i(g,i){i=Ei(i),g.style.width=i.toString(),g.style.maxWidth=i.toString(),g.style.minWidth=i.toString()}function Ko(g,i){i=Ei(i),g.style.height=i.toString(),g.style.maxHeight=i.toString(),g.style.minHeight=i.toString()}function Ei(g){return"number"==typeof g?g+"px":g}function Tc(g){return"function"==typeof Node?g instanceof Node:g&&"object"==typeof g&&"number"==typeof g.nodeType&&"string"==typeof g.nodeName}function yu(g){return"function"==typeof HTMLElement?g instanceof HTMLElement:g&&uu(g)&&1===g.nodeType&&"string"==typeof g.nodeName}function yr(g){return Tc(g)||yu(g)}function Hn(g){if(null==g)return[];var i=[];return op(g,function(t){return i.push(t)}),i}function $_(g,i){if(g)for(var t=0;t<g.length;t++){var s=g[t];i(s.name,s.value)}}function Yo(g,i,t){null==t?g.removeAttribute(i):g.setAttribute(i,t.toString())}function op(g,i){if(null!=g)for(var t=0;t<g.length;t++)i(g[t])}var ap=Object.freeze({radioCssClass:function(g,i,t){for(var s=g.parentElement,p=s&&s.firstChild;p;)i&&p.classList.toggle(i,p===g),t&&p.classList.toggle(t,p!==g),p=p.nextSibling},isFocusableFormField:Ja,setDisplayed:Mn,setVisible:Do,setDisabled:Yt,isElementChildOfClass:Kh,getElementSize:je,getInnerHeight:xc,getInnerWidth:Rs,getAbsoluteHeight:Tt,getAbsoluteWidth:Ac,isRtlNegativeScroll:Ps,getScrollLeft:Ke,setScrollLeft:Ur,clearElement:Bn,removeElement:function(g,i){fi(g.querySelector(i))},removeFromParent:fi,isVisible:gi,loadTemplate:zn,appendHtml:function(g,i){g.lastChild?g.insertAdjacentHTML("afterbegin",i):g.innerHTML=i},getElementAttribute:function(g,i){return g.attributes&&g.attributes[i]?g.attributes[i].value:null},offsetHeight:nr,offsetWidth:zi,ensureDomOrder:Ms,setDomChildOrder:Pr,insertWithDomOrder:Dl,prependDC:function(g,i){J(g.firstChild)?g.insertBefore(i,g.firstChild):g.appendChild(i)},addStylesToElement:vu,isHorizontalScrollShowing:Ol,isVerticalScrollShowing:qt,setElementWidth:xl,setFixedWidth:$i,setElementHeight:function(g,i){"flex"===i?(g.style.removeProperty("height"),g.style.removeProperty("minHeight"),g.style.removeProperty("maxHeight"),g.style.flex="1 1 auto"):Ko(g,i)},setFixedHeight:Ko,formatSize:Ei,isNode:Tc,isElement:yu,isNodeOrElement:yr,copyNodeList:Hn,iterateNamedNodeMap:$_,setCheckboxState:function(g,i){"boolean"==typeof i?(g.checked=i,g.indeterminate=!1):g.indeterminate=!0},addOrRemoveAttribute:Yo,nodeListForEach:op}),Da=Object.freeze({getNameOfClass:function(g){var t=g.toString(),s=/function (.{1,})\(/.exec(t);return s&&s.length>1?s[1]:""},findLineByLeastSquares:function(g){var i=g.length,t=0;if(i<=1)return g;for(var s=0;s<g.length;s++){var p=g[s],f=p.toString().split("e-");f.length>1?t=Math.max(t,parseInt(f[1],10)):Math.floor(p)!==p&&(t=Math.max(t,p.toString().split(".")[1].length))}for(var _=0,b=0,A=0,M=0,L=0,G=0;G<i;G++)_+=G,b+=L=g[G],M+=G*G,A+=G*L;var U=(i*A-_*b)/(i*M-_*_),te=b/i-U*_/i,le=[];for(G=0;G<=i;G++)le.push(parseFloat((G*U+te).toFixed(t)));return le},cssStyleObjectToMarkup:function(g){if(!g)return"";var i=[];return Sn(g,function(t,s){var p=Kt(t);i.push(p+": "+s+";")}),i.join(" ")},message:function(g){var i=document.createElement("div"),t=document.querySelector("#__ag__message");i.innerHTML=g,t||(t=zn('<div id="__ag__message" style="display: inline-block; position: absolute; top: 0px; left: 0px; color: white; background-color: black; z-index: 20; padding: 2px; border: 1px solid darkred; height: 200px; overflow-y: auto;"></div>'),document.body&&document.body.appendChild(t)),t.insertBefore(i,t.children[0])},bindCellRendererToHtmlElement:function(g,i){g.then(function(t){var s=t.getGui();null!=s&&("object"==typeof s?i.appendChild(s):i.innerHTML=s)})}});function zr(g,i,t){g.setAttribute(Al(i),t.toString())}function Fs(g,i){g.removeAttribute(Al(i))}function Al(g){return"aria-"+g}function Qn(g,i){i?g.setAttribute("role",i):g.removeAttribute("role")}function Cu(g){return g.isSortAscending()?"ascending":g.isSortDescending()?"descending":"none"}function sp(g){return parseInt(g.getAttribute("aria-level"),10)}function Rc(g){return parseInt(g.getAttribute("aria-posinset"),10)}function bu(g,i){var t="label";i?zr(g,t,i):Fs(g,t)}function up(g,i){var t="labelledby";i?zr(g,t,i):Fs(g,t)}function qh(g,i){var t="describedby";i?zr(g,t,i):Fs(g,t)}function Wm(g,i){zr(g,"level",i)}function Pc(g,i){zr(g,"disabled",i)}function qo(g,i){zr(g,"expanded",i)}function Y_(g,i){zr(g,"setsize",i)}function q_(g,i){zr(g,"posinset",i)}function Ww(g,i){zr(g,"multiselectable",i)}function jw(g,i){zr(g,"rowcount",i)}function X_(g,i){zr(g,"rowindex",i)}function Uw(g,i){zr(g,"colcount",i)}function Q_(g,i){zr(g,"colindex",i)}function jm(g,i){zr(g,"colspan",i)}function Xh(g,i){zr(g,"sort",i)}function zw(g){Fs(g,"sort")}function cp(g,i){var t="selected";i?zr(g,t,i):Fs(g,t)}function $w(g,i){zr(g,"checked",void 0===i?"mixed":i)}var wu=Object.freeze({setAriaRole:Qn,getAriaSortState:Cu,getAriaLevel:sp,getAriaPosInSet:Rc,getAriaDescribedBy:function(g){return g.getAttribute("aria-describedby")||""},setAriaLabel:bu,setAriaLabelledBy:up,setAriaDescribedBy:qh,setAriaLevel:Wm,setAriaDisabled:Pc,setAriaExpanded:qo,removeAriaExpanded:function(g){Fs(g,"expanded")},setAriaSetSize:Y_,setAriaPosInSet:q_,setAriaMultiSelectable:Ww,setAriaRowCount:jw,setAriaRowIndex:X_,setAriaColCount:Uw,setAriaColIndex:Q_,setAriaColSpan:jm,setAriaSort:Xh,removeAriaSort:zw,setAriaSelected:cp,setAriaChecked:$w});function Um(g,i){return g.toString().padStart(i,"0")}function $n(g,i){for(var t=[],s=g;s<=i;s++)t.push(s);return t}function dp(g){return""!==g&&!isNaN(parseFloat(g))&&isFinite(g)}function Qh(g,i,t){return"number"!=typeof g?"":g.toString().replace(".",t).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+i)}var zm=Object.freeze({padStartWidthZeros:Um,createArrayOfNumbers:$n,isNumeric:dp,cleanNumber:function(g){return"string"==typeof g&&(g=parseInt(g,10)),"number"==typeof g?Math.floor(g):null},decToHex:function(g,i){for(var t="",s=0;s<i;s++)t+=String.fromCharCode(255&g),g>>>=8;return t},formatNumberTwoDecimalPlacesAndCommas:function(g,i,t){return"number"!=typeof g?"":Qh(Math.round(100*g)/100,i,t)},formatNumberCommas:Qh,sum:function(g){return null==g?null:g.reduce(function(i,t){return i+t},0)}}),$m=function(g,i){var t="function"==typeof Symbol&&g[Symbol.iterator];if(!t)return g;var p,_,s=t.call(g),f=[];try{for(;(void 0===i||i-- >0)&&!(p=s.next()).done;)f.push(p.value)}catch(b){_={error:b}}finally{try{p&&!p.done&&(t=s.return)&&t.call(s)}finally{if(_)throw _.error}}return f};function $r(g,i,t){if(void 0===i&&(i=!0),void 0===t&&(t="-"),!g)return null;var s=[g.getFullYear(),g.getMonth()+1,g.getDate()].map(function(p){return Um(p,2)}).join(t);return i&&(s+=" "+[g.getHours(),g.getMinutes(),g.getSeconds()].map(function(p){return Um(p,2)}).join(":")),s}function Is(g){if(!g)return null;var i=$m(g.split(" "),2),t=i[0],s=i[1];if(!t)return null;var p=t.split("-").map(function(le){return parseInt(le,10)});if(3!==p.filter(function(le){return!isNaN(le)}).length)return null;var f=$m(p,3),_=f[0],b=f[1],A=f[2],M=new Date(_,b-1,A);if(M.getFullYear()!==_||M.getMonth()!==b-1||M.getDate()!==A)return null;if(!s||"00:00:00"===s)return M;var L=$m(s.split(":").map(function(le){return parseInt(le,10)}),3),G=L[0],U=L[1],te=L[2];return G>=0&&G<24&&M.setHours(G),U>=0&&U<60&&M.setMinutes(U),te>=0&&te<60&&M.setSeconds(te),M}var J_=Object.freeze({serialiseDate:$r,parseDateTimeFromString:Is});function Zh(g,i,t){var s={},p=g.filter(function(f){return!i.some(function(_){return _===f})});return p.length>0&&p.forEach(function(f){return s[f]=eC(f,t)}),s}function eC(g,i,t,s){var p=s?pr:Xw,f=i.map(function(_){return{value:_,relevance:p(g.toLowerCase(),_.toLocaleLowerCase())}});return f.sort(function(_,b){return b.relevance-_.relevance}),t&&(f=f.filter(function(_){return 0!==_.relevance})),f.map(function(_){return _.value})}function pp(g){var s,p,f,i=g.toLowerCase(),t=new Array(i.length-1);for(s=p=0,f=t.length;p<=f;s=p+=1)t[s]=i.slice(s,s+2);return t}function Xw(g,i){if(0===g.length&&0===i.length)return 0;var _,b,t=pp(g),s=pp(i),p=t.length+s.length,f=0;for(_=0,b=t.length;_<b;_++){var L,A=t[_],M=void 0;for(M=0,L=s.length;M<L;M++)A===s[M]&&f++}return f>0?2*f/p:0}function pr(g,i){for(var t=g.replace(/\s/g,""),s=i.replace(/\s/g,""),p=0,f=0,_=0;_<t.length;_++){var b=s.indexOf(t[_],f);-1!==b&&(p+=100-100*(f=b)/1e4*100)}return p}var tC=Object.freeze({fuzzyCheckStrings:Zh,fuzzySuggestions:eC,get_bigrams:pp,string_distances:Xw,string_weighted_distances:pr}),nC={columnGroupOpened:"expanded",columnGroupClosed:"contracted",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnSelectIndeterminate:"tree-indeterminate",columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",groupContracted:"tree-closed",groupExpanded:"tree-open",chart:"chart",close:"cross",cancel:"cancel",check:"tick",first:"first",previous:"previous",next:"next",last:"last",linked:"linked",unlinked:"unlinked",colorPicker:"color-picker",groupLoading:"loading",menu:"menu",filter:"filter",columns:"columns",maximize:"maximize",minimize:"minimize",menuPin:"pin",menuValue:"aggregation",menuAddRowGroup:"group",menuRemoveRowGroup:"group",clipboardCopy:"copy",clipboardPaste:"paste",pivotPanel:"pivot",rowGroupPanel:"group",valuePanel:"aggregation",columnDrag:"grip",rowDrag:"grip",save:"save",csvExport:"csv",excelExport:"excel",smallDown:"small-down",smallLeft:"small-left",smallRight:"small-right",smallUp:"small-up",sortAscending:"asc",sortDescending:"desc",sortUnSort:"none"};function Fn(g,i,t){var s=Mr(g,i,t);if(s&&s.className.indexOf("ag-icon")>-1)return s;var p=document.createElement("span");return p.appendChild(s),p}function Mr(g,i,t,s){var p=null,f=t&&t.getColDef().icons;if(f&&(p=f[g]),i&&!p){var _=i.getIcons();_&&(p=_[g])}if(!p){var A=document.createElement("span"),M=nC[g];return M||(s?M=g:(console.warn("AG Grid: Did not find icon "+g),M="")),A.setAttribute("class","ag-icon ag-icon-"+M),A.setAttribute("unselectable","on"),Qn(A,"presentation"),A}var b=void 0;if("function"==typeof p)b=p();else{if("string"!=typeof p)throw new Error("icon from grid options needs to be a string or a function");b=p}return"string"==typeof b?zn(b):yr(b)?b:void console.warn("AG Grid: iconRenderer should return back a string or a dom object")}var _D=Object.freeze({iconNameClassMap:nC,createIcon:Fn,createIconNoSpan:Mr});function rC(g){if(g.altKey||g.ctrlKey||g.metaKey)return!1;var i=1===g.key.length,t=function(g){return km()&&"Del"===g.key&&46===g.charCode}(g);return i||t}function Mc(g,i,t,s,p){var f=g.getSuppressKeyboardEventFunc(),_=s?s.getColDef().suppressKeyboardEvent:void 0;if(!f&&!_)return!1;var b={event:i,editing:p,column:s,api:g.getApi(),node:t,data:t.data,colDef:s.getColDef(),context:g.getContext(),columnApi:g.getColumnApi()};return!(!_||!_(b))||!!f&&f(b)}function _n(g,i,t,s){var p=s.getDefinition(),f=p&&p.suppressHeaderKeyboardEvent;return!!J(f)&&!!f({api:g.getApi(),columnApi:g.getColumnApi(),context:g.getContext(),colDef:p,column:s,headerRowIndex:t,event:i})}var iC=Object.freeze({isEventFromPrintableCharacter:rC,isUserSuppressingKeyboardEvent:Mc,isUserSuppressingHeaderKeyboardEvent:_n});function hp(g,i,t){if(0===t)return!1;var s=Math.abs(g.clientX-i.clientX),p=Math.abs(g.clientY-i.clientY);return Math.max(s,p)<=t}var ef=Object.freeze({areEventsNear:hp}),tf=Object.freeze({sortRowNodesByOrder:function(g,i){if(g){for(var t=function(b,A){var M=i[b.id],L=i[A.id],G=void 0!==M,U=void 0!==L;return G&&U?M-L:G||U?G?1:-1:b.__objectId-A.__objectId},f=!1,_=0;_<g.length-1;_++)if(t(g[_],g[_+1])>0){f=!0;break}f&&g.sort(t)}},traverseNodesWithKey:function(g,i){var t=[];!function s(p){!p||p.forEach(function(f){if(f.group||f.hasChildren()){t.push(f.key);var _=t.join("|");i(f,_),s(f.childrenAfterGroup),t.pop()}})}(g)}});function Bt(g){var i=new Set;return g.forEach(function(t){return i.add(t)}),i}var CD=Object.freeze({convertToSet:Bt}),_r=function(){return _r=Object.assign||function(g){for(var i,t=1,s=arguments.length;t<s;t++)for(var p in i=arguments[t])Object.prototype.hasOwnProperty.call(i,p)&&(g[p]=i[p]);return g},_r.apply(this,arguments)},gt=_r(_r(_r(_r(_r(_r(_r(_r(_r(_r(_r(_r(_r(_r(_r(_r(_r(_r(_r(_r({},Da),wu),Xa),Bm),Nm),J_),ap),L_),pD),tC),$d),_D),iC),hD),ef),zm),Ow),tf),CD),Im),ai=function(){function g(i,t){void 0===i&&(i=0),void 0===t&&(t=1),this.nextValue=i,this.step=t}return g.prototype.next=function(){var i=this.nextValue;return this.nextValue+=this.step,i},g.prototype.peek=function(){return this.nextValue},g.prototype.skip=function(i){this.nextValue+=i},g}();!function(g){g[g.IN_PROGRESS=0]="IN_PROGRESS",g[g.RESOLVED=1]="RESOLVED"}(B.AgPromiseStatus||(B.AgPromiseStatus={}));var go=function(){function g(i){var t=this;this.status=B.AgPromiseStatus.IN_PROGRESS,this.resolution=null,this.waiters=[],i(function(s){return t.onDone(s)},function(s){return t.onReject(s)})}return g.all=function(i){return new g(function(t){var s=i.length,p=new Array(s);i.forEach(function(f,_){f.then(function(b){p[_]=b,0==--s&&t(p)})})})},g.resolve=function(i){return void 0===i&&(i=null),new g(function(t){return t(i)})},g.prototype.then=function(i){var t=this;return new g(function(s){t.status===B.AgPromiseStatus.RESOLVED?s(i(t.resolution)):t.waiters.push(function(p){return s(i(p))})})},g.prototype.resolveNow=function(i,t){return this.status===B.AgPromiseStatus.RESOLVED?t(this.resolution):i},g.prototype.onDone=function(i){this.status=B.AgPromiseStatus.RESOLVED,this.resolution=i,this.waiters.forEach(function(t){return t(i)})},g.prototype.onReject=function(i){console.warn("TBI")},g}(),Zw=function(){function g(){this.timestamp=(new Date).getTime()}return g.prototype.print=function(i){var t=(new Date).getTime()-this.timestamp;console.info(i+" = "+t),this.timestamp=(new Date).getTime()},g}(),He=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),hn=function(){return hn=Object.assign||function(g){for(var i,t=1,s=arguments.length;t<s;t++)for(var p in i=arguments[t])Object.prototype.hasOwnProperty.call(i,p)&&(g[p]=i[p]);return g},hn.apply(this,arguments)},In=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},Dn=(()=>(function(g){g[g.NOTHING=0]="NOTHING",g[g.WAITING_TO_SHOW=1]="WAITING_TO_SHOW",g[g.SHOWING=2]="SHOWING"}(Dn||(Dn={})),Dn))(),ts=function(g){function i(t){var s=g.call(this)||this;return s.DEFAULT_SHOW_TOOLTIP_DELAY=2e3,s.DEFAULT_HIDE_TOOLTIP_DELAY=1e4,s.SHOW_QUICK_TOOLTIP_DIFF=1e3,s.FADE_OUT_TOOLTIP_TIMEOUT=1e3,s.state=Dn.NOTHING,s.tooltipInstanceCount=0,s.tooltipMouseTrack=!1,s.parentComp=t,s}return He(i,g),i.prototype.postConstruct=function(){this.tooltipShowDelay=this.gridOptionsWrapper.getTooltipDelay("show")||this.DEFAULT_SHOW_TOOLTIP_DELAY,this.tooltipHideDelay=this.gridOptionsWrapper.getTooltipDelay("hide")||this.DEFAULT_HIDE_TOOLTIP_DELAY,this.tooltipMouseTrack=this.gridOptionsWrapper.isTooltipMouseTrack();var t=this.parentComp.getGui();this.addManagedListener(t,"mouseenter",this.onMouseEnter.bind(this)),this.addManagedListener(t,"mouseleave",this.onMouseLeave.bind(this)),this.addManagedListener(t,"mousemove",this.onMouseMove.bind(this)),this.addManagedListener(t,"mousedown",this.onMouseDown.bind(this)),this.addManagedListener(t,"keydown",this.onKeyDown.bind(this))},i.prototype.destroy=function(){this.setToDoNothing(),g.prototype.destroy.call(this)},i.prototype.onMouseEnter=function(t){if(!Dc()&&this.state==Dn.NOTHING){var s=this.isLastTooltipHiddenRecently()?200:this.tooltipShowDelay;this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),s),this.lastMouseEvent=t,this.state=Dn.WAITING_TO_SHOW}},i.prototype.onMouseLeave=function(){this.setToDoNothing()},i.prototype.onKeyDown=function(){this.setToDoNothing()},i.prototype.setToDoNothing=function(){this.state===Dn.SHOWING&&this.hideTooltip(),this.clearTimeouts(),this.state=Dn.NOTHING},i.prototype.onMouseMove=function(t){this.lastMouseEvent=t,this.tooltipMouseTrack&&this.state===Dn.SHOWING&&this.tooltipComp&&this.positionTooltipUnderLastMouseEvent()},i.prototype.onMouseDown=function(){this.setToDoNothing()},i.prototype.hideTooltip=function(){this.tooltipComp&&(this.destroyTooltipComp(),i.lastTooltipHideTime=(new Date).getTime()),this.state=Dn.NOTHING},i.prototype.destroyTooltipComp=function(){var t=this;this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");var s=this.tooltipPopupDestroyFunc,p=this.tooltipComp;window.setTimeout(function(){s(),t.getContext().destroyBean(p)},this.FADE_OUT_TOOLTIP_TIMEOUT),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0},i.prototype.isLastTooltipHiddenRecently=function(){return(new Date).getTime()-i.lastTooltipHideTime<this.SHOW_QUICK_TOOLTIP_DIFF},i.prototype.showTooltip=function(){var t=hn({api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext()},this.parentComp.getTooltipParams());if(J(t.value)){this.state=Dn.SHOWING,this.tooltipInstanceCount++;var s=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount);this.userComponentFactory.getTooltipCompDetails(t).newAgStackInstance().then(s)}else this.setToDoNothing()},i.prototype.newTooltipComponentCallback=function(t,s){if(this.state!==Dn.SHOWING||this.tooltipInstanceCount!==t)this.getContext().destroyBean(s);else{var f=s.getGui();this.tooltipComp=s,f.classList.contains("ag-tooltip")||f.classList.add("ag-tooltip-custom");var _=this.gridOptionsWrapper.getLocaleTextFunc(),b=this.popupService.addPopup({eChild:f,ariaLabel:_("ariaLabelTooltip","Tooltip")});b&&(this.tooltipPopupDestroyFunc=b.hideFunc),this.positionTooltipUnderLastMouseEvent(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.tooltipHideDelay)}},i.prototype.positionTooltipUnderLastMouseEvent=function(){this.popupService.positionPopupUnderMouseEvent({type:"tooltip",mouseEvent:this.lastMouseEvent,ePopup:this.tooltipComp.getGui(),nudgeY:18})},i.prototype.clearTimeouts=function(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0),this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)},In([$("popupService")],i.prototype,"popupService",void 0),In([$("userComponentFactory")],i.prototype,"userComponentFactory",void 0),In([$("columnApi")],i.prototype,"columnApi",void 0),In([$("gridApi")],i.prototype,"gridApi",void 0),In([$e],i.prototype,"postConstruct",null),i}(Ge),gp=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),qi=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},Km=new ai,nf=function(){function g(i){this.cssClassStates={},this.getGui=i}return g.prototype.addCssClass=function(i){!0!==this.cssClassStates[i]&&(this.getGui().classList.add(i),this.cssClassStates[i]=!0)},g.prototype.removeCssClass=function(i){!1!==this.cssClassStates[i]&&(this.getGui().classList.remove(i),this.cssClassStates[i]=!1)},g.prototype.containsCssClass=function(i){return this.getGui().classList.contains(i)},g.prototype.addOrRemoveCssClass=function(i,t){this.cssClassStates[i]!==t&&(this.getGui().classList.toggle(i,t),this.cssClassStates[i]=t)},g}(),Ut=function(g){function i(t){var s=g.call(this)||this;return s.displayed=!0,s.visible=!0,s.compId=Km.next(),s.cssClassManager=new nf(function(){return s.eGui}),t&&s.setTemplate(t),s}return gp(i,g),i.prototype.preConstructOnComponent=function(){this.usingBrowserTooltips=this.gridOptionsWrapper.isEnableBrowserTooltips()},i.prototype.getCompId=function(){return this.compId},i.prototype.getTooltipParams=function(){return{value:this.tooltipText,location:"UNKNOWN"}},i.prototype.setTooltip=function(t){var s=this;this.tooltipText!=t&&(this.tooltipText&&(s.usingBrowserTooltips?s.getGui().removeAttribute("title"):s.tooltipFeature=s.destroyBean(s.tooltipFeature)),null!=t&&(this.tooltipText=t,this.tooltipText&&(s.usingBrowserTooltips?s.getGui().setAttribute("title",s.tooltipText):s.tooltipFeature=s.createBean(new ts(s)))))},i.prototype.createChildComponentsFromTags=function(t,s){var p=this;Hn(t.childNodes).forEach(function(_){if(_ instanceof HTMLElement){var b=p.createComponentFromElement(_,function(M){M.getGui()&&p.copyAttributesFromNode(_,M.getGui())},s);if(b){if(b.addItems&&_.children.length){p.createChildComponentsFromTags(_,s);var A=Array.prototype.slice.call(_.children);b.addItems(A)}p.swapComponentForNode(b,t,_)}else _.childNodes&&p.createChildComponentsFromTags(_,s)}})},i.prototype.createComponentFromElement=function(t,s,p){var f=t.nodeName,_=p?p[t.getAttribute("ref")]:void 0,b=this.agStackComponentsRegistry.getComponentClass(f);if(b){i.elementGettingCreated=t;var A=new b(_);return A.setParentComponent(this),this.createBean(A,null,s),A}return null},i.prototype.copyAttributesFromNode=function(t,s){$_(t.attributes,function(p,f){return s.setAttribute(p,f)})},i.prototype.swapComponentForNode=function(t,s,p){var f=t.getGui();s.replaceChild(f,p),s.insertBefore(document.createComment(p.nodeName),f),this.addDestroyFunc(this.destroyBean.bind(this,t)),this.swapInComponentForQuerySelectors(t,p)},i.prototype.swapInComponentForQuerySelectors=function(t,s){var p=this;this.iterateOverQuerySelectors(function(f){p[f.attributeName]===s&&(p[f.attributeName]=t)})},i.prototype.iterateOverQuerySelectors=function(t){for(var s=Object.getPrototypeOf(this);null!=s;){var p=s.__agComponentMetaData,f=Nh(s.constructor);p&&p[f]&&p[f].querySelectors&&p[f].querySelectors.forEach(function(_){return t(_)}),s=Object.getPrototypeOf(s)}},i.prototype.setTemplate=function(t,s){var p=zn(t);this.setTemplateFromElement(p,s)},i.prototype.setTemplateFromElement=function(t,s){this.eGui=t,this.eGui.__agComponent=this,this.wireQuerySelectors(),this.getContext()&&this.createChildComponentsFromTags(this.getGui(),s)},i.prototype.createChildComponentsPreConstruct=function(){this.getGui()&&this.createChildComponentsFromTags(this.getGui())},i.prototype.wireQuerySelectors=function(){var t=this;if(this.eGui){var s=this;this.iterateOverQuerySelectors(function(p){var f=function(A){return s[p.attributeName]=A};if(p.refSelector&&t.eGui.getAttribute("ref")===p.refSelector)f(t.eGui);else{var b=t.eGui.querySelector(p.querySelector);b&&f(b.__agComponent||b)}})}},i.prototype.getGui=function(){return this.eGui},i.prototype.getFocusableElement=function(){return this.eGui},i.prototype.setParentComponent=function(t){this.parentComponent=t},i.prototype.getParentComponent=function(){return this.parentComponent},i.prototype.setGui=function(t){this.eGui=t},i.prototype.queryForHtmlElement=function(t){return this.eGui.querySelector(t)},i.prototype.queryForHtmlInputElement=function(t){return this.eGui.querySelector(t)},i.prototype.appendChild=function(t,s){if(s||(s=this.eGui),null!=t)if(yr(t))s.appendChild(t);else{var p=t;s.appendChild(p.getGui()),this.addDestroyFunc(this.destroyBean.bind(this,p))}},i.prototype.isDisplayed=function(){return this.displayed},i.prototype.setVisible=function(t){t!==this.visible&&(this.visible=t,Do(this.eGui,t))},i.prototype.setDisplayed=function(t){t!==this.displayed&&(this.displayed=t,Mn(this.eGui,t),this.dispatchEvent({type:i.EVENT_DISPLAYED_CHANGED,visible:this.displayed}))},i.prototype.destroy=function(){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),g.prototype.destroy.call(this)},i.prototype.addGuiEventListener=function(t,s){var p=this;this.eGui.addEventListener(t,s),this.addDestroyFunc(function(){return p.eGui.removeEventListener(t,s)})},i.prototype.addCssClass=function(t){this.cssClassManager.addCssClass(t)},i.prototype.removeCssClass=function(t){this.cssClassManager.removeCssClass(t)},i.prototype.containsCssClass=function(t){return this.cssClassManager.containsCssClass(t)},i.prototype.addOrRemoveCssClass=function(t,s){this.cssClassManager.addOrRemoveCssClass(t,s)},i.prototype.getAttribute=function(t){var s=this.eGui;return s?s.getAttribute(t):null},i.prototype.getRefElement=function(t){return this.queryForHtmlElement('[ref="'+t+'"]')},i.EVENT_DISPLAYED_CHANGED="displayedChanged",qi([$("agStackComponentsRegistry")],i.prototype,"agStackComponentsRegistry",void 0),qi([kh],i.prototype,"preConstructOnComponent",null),qi([kh],i.prototype,"createChildComponentsPreConstruct",null),i}(Ge);function Ve(g){return Oa.bind(this,"[ref="+g+"]",g)}function Oa(g,i,t,s,p){null!==g?"number"!=typeof p?function(g,i,t){var s=function(g,i){return g.__agComponentMetaData||(g.__agComponentMetaData={}),g.__agComponentMetaData[i]||(g.__agComponentMetaData[i]={}),g.__agComponentMetaData[i]}(g,Nh(g.constructor));s[i]||(s[i]=[]),s[i].push(t)}(t,"querySelectors",{attributeName:s,querySelector:g,refSelector:i}):console.error("AG Grid: QuerySelector should be on an attribute"):console.error("AG Grid: QuerySelector selector should not be null")}var rf=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),Su=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},mo=function(g){function i(){return g.call(this,'\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eFloatingFilterText"></ag-input-text-field>\n            </div>')||this}return rf(i,g),i.prototype.destroy=function(){g.prototype.destroy.call(this)},i.prototype.init=function(t){this.params=t;var s=this.columnModel.getDisplayNameForColumn(t.column,"header",!0),p=this.gridOptionsWrapper.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(s+" "+p("ariaFilterInput","Filter Input"))},i.prototype.onParentModelChanged=function(t){var s=this;t?this.params.parentFilterInstance(function(p){if(p.getModelAsString){var f=p.getModelAsString(t);s.eFloatingFilterText.setValue(f)}}):this.eFloatingFilterText.setValue("")},Su([Ve("eFloatingFilterText")],i.prototype,"eFloatingFilterText",void 0),Su([$("columnModel")],i.prototype,"columnModel",void 0),i}(Ut),Ns=function(){function g(i,t,s,p){var f=this;this.alive=!0,this.context=i,this.eParent=p,t.getDateCompDetails(s).newAgStackInstance().then(function(A){f.alive?(f.dateComp=A,A&&(p.appendChild(A.getGui()),A.afterGuiAttached&&A.afterGuiAttached(),f.tempValue&&A.setDate(f.tempValue),null!=f.disabled&&f.setDateCompDisabled(f.disabled))):i.destroyBean(A)})}return g.prototype.destroy=function(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)},g.prototype.getDate=function(){return this.dateComp?this.dateComp.getDate():this.tempValue},g.prototype.setDate=function(i){this.dateComp?this.dateComp.setDate(i):this.tempValue=i},g.prototype.setDisabled=function(i){this.dateComp?this.setDateCompDisabled(i):this.disabled=i},g.prototype.setDisplayed=function(i){Mn(this.eParent,i)},g.prototype.setInputPlaceholder=function(i){this.dateComp&&this.dateComp.setInputPlaceholder&&this.dateComp.setInputPlaceholder(i)},g.prototype.setInputAriaLabel=function(i){this.dateComp&&this.dateComp.setInputAriaLabel&&this.dateComp.setInputAriaLabel(i)},g.prototype.afterGuiAttached=function(i){this.dateComp&&"function"==typeof this.dateComp.afterGuiAttached&&this.dateComp.afterGuiAttached(i)},g.prototype.setDateCompDisabled=function(i){null!=this.dateComp&&null!=this.dateComp.setDisabled&&this.dateComp.setDisabled(i)},g}(),af=function(){return af=Object.assign||function(g){for(var i,t=1,s=arguments.length;t<s;t++)for(var p in i=arguments[t])Object.prototype.hasOwnProperty.call(i,p)&&(g[p]=i[p]);return g},af.apply(this,arguments)},Ls=function(){function g(){this.customFilterOptions={}}return g.prototype.init=function(i,t){this.filterOptions=i.filterOptions||t,this.mapCustomOptions(),this.selectDefaultItem(i),this.checkForDeprecatedParams()},g.prototype.checkForDeprecatedParams=function(){this.filterOptions.some(function(i){return"string"!=typeof i&&null!=i.test})&&console.warn("AG Grid: [IFilterOptionDef] since v26.2.0, test() has been replaced with predicate()."),this.filterOptions.some(function(i){return"string"!=typeof i&&null!=i.hideFilterInput})&&console.warn("AG Grid: [IFilterOptionDef] since v26.2.0, useOfHideFilterInput has been replaced with numberOfInputs.")},g.prototype.getFilterOptions=function(){return this.filterOptions},g.prototype.mapCustomOptions=function(){var i=this;!this.filterOptions||this.filterOptions.forEach(function(t){if("string"!=typeof t){if(![["displayKey"],["displayName"],["predicate","test"]].every(function(b){return!!b.some(function(A){return null!=t[A]})||(console.warn("AG Grid: ignoring FilterOptionDef as it doesn't contain one of '"+b+"'"),!1)}))return void(i.filterOptions=i.filterOptions.filter(function(b){return b===t})||[]);var f=t.test,_=af({},t);null!=f&&null==t.predicate&&(_.predicate=function(b,A){return f(b[0],A)},delete _.test),_.hideFilterInput&&null==_.numberOfInputs&&(_.numberOfInputs=0,delete _.hideFilterInput),i.customFilterOptions[t.displayKey]=_}})},g.prototype.selectDefaultItem=function(i){if(i.defaultOption)this.defaultOption=i.defaultOption;else if(this.filterOptions.length>=1){var t=this.filterOptions[0];"string"==typeof t?this.defaultOption=t:t.displayKey?this.defaultOption=t.displayKey:console.warn("AG Grid: invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'")}else console.warn("AG Grid: no filter options for filter")},g.prototype.getDefaultOption=function(){return this.defaultOption},g.prototype.getCustomOption=function(i){return this.customFilterOptions[i]},g}(),sf={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose One",equals:"Equals",notEqual:"Not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"In range",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equals",greaterThanOrEqual:"Greater than or equals",contains:"Contains",notContains:"Not contains",startsWith:"Starts with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"},We=function(){function g(){}return g.BACKSPACE="Backspace",g.TAB="Tab",g.ENTER="Enter",g.ESCAPE="Escape",g.SPACE=" ",g.LEFT="ArrowLeft",g.UP="ArrowUp",g.RIGHT="ArrowRight",g.DOWN="ArrowDown",g.DELETE="Delete",g.A="A",g.C="C",g.V="V",g.D="D",g.Z="Z",g.Y="Y",g.F2="F2",g.PAGE_UP="PageUp",g.PAGE_DOWN="PageDown",g.PAGE_HOME="Home",g.PAGE_END="End",g}(),xa=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),mp=function(){return mp=Object.assign||function(g){for(var i,t=1,s=arguments.length;t<s;t++)for(var p in i=arguments[t])Object.prototype.hasOwnProperty.call(i,p)&&(g[p]=i[p]);return g},mp.apply(this,arguments)},lf=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},ks=function(g){function i(t,s){void 0===s&&(s={});var p=g.call(this)||this;return p.eFocusableElement=t,p.callbacks=s,p.callbacks=mp({shouldStopEventPropagation:function(){return!1},onTabKeyDown:function(f){if(!f.defaultPrevented){var _=p.focusService.findNextFocusableElement(p.eFocusableElement,!1,f.shiftKey);!_||(_.focus(),f.preventDefault())}}},s),p}return xa(i,g),i.prototype.postConstruct=function(){this.eFocusableElement.classList.add(i.FOCUS_MANAGED_CLASS),this.addKeyDownListeners(this.eFocusableElement),this.callbacks.onFocusIn&&this.addManagedListener(this.eFocusableElement,"focusin",this.callbacks.onFocusIn),this.callbacks.onFocusOut&&this.addManagedListener(this.eFocusableElement,"focusout",this.callbacks.onFocusOut)},i.prototype.addKeyDownListeners=function(t){var s=this;this.addManagedListener(t,"keydown",function(p){if(!p.defaultPrevented&&!Sa(p)){if(s.callbacks.shouldStopEventPropagation(p))return void Os(p);p.key===We.TAB?s.callbacks.onTabKeyDown(p):s.callbacks.handleKeyDown&&s.callbacks.handleKeyDown(p)}})},i.FOCUS_MANAGED_CLASS="ag-focus-managed",lf([$("focusService")],i.prototype,"focusService",void 0),lf([$e],i.prototype,"postConstruct",null),i}(Ge),oC=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),Tl=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},Fc=function(g){function i(t){var s=g.call(this)||this;return s.filterNameKey=t,s.applyActive=!1,s.hidePopup=null,s.appliedModel=null,s}return oC(i,g),i.prototype.postConstruct=function(){this.resetTemplate(),this.createManagedBean(new ks(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)}))},i.prototype.handleKeyDown=function(t){},i.prototype.getFilterTitle=function(){return this.translate(this.filterNameKey)},i.prototype.isFilterActive=function(){return!!this.appliedModel},i.prototype.resetTemplate=function(t){var s='\n            <div class="ag-filter-wrapper">\n                <div class="ag-filter-body-wrapper ag-'+this.getCssIdentifier()+'-body-wrapper">\n                    '+this.createBodyTemplate()+"\n                </div>\n            </div>";this.setTemplate(s,t)},i.prototype.isReadOnly=function(){return!!this.providedFilterParams.readOnly},i.prototype.init=function(t){var s=this;this.setParams(t),this.resetUiToDefaults(!0).then(function(){s.updateUiVisibility(),s.setupOnBtApplyDebounce()})},i.prototype.setParams=function(t){this.providedFilterParams=t,this.applyActive=i.isUseApplyButton(t),this.createButtonPanel()},i.prototype.createButtonPanel=function(){var t=this,s=this.providedFilterParams.buttons;if(!(!s||s.length<1||this.isReadOnly())){var p=document.createElement("div");p.classList.add("ag-filter-apply-panel"),Bt(s).forEach(function(_){return function(_){var b,A;switch(_){case"apply":b=t.translate("applyFilter"),A=function(L){return t.onBtApply(!1,!1,L)};break;case"clear":b=t.translate("clearFilter"),A=function(){return t.onBtClear()};break;case"reset":b=t.translate("resetFilter"),A=function(){return t.onBtReset()};break;case"cancel":b=t.translate("cancelFilter"),A=function(L){t.onBtCancel(L)};break;default:return void console.warn("AG Grid: Unknown button type specified")}var M=zn('<button\n                    type="button"\n                    ref="'+_+'FilterButton"\n                    class="ag-standard-button ag-filter-apply-panel-button"\n                >'+b+"\n                </button>");p.appendChild(M),t.addManagedListener(M,"click",A)}(_)}),this.getGui().appendChild(p)}},i.prototype.getDefaultDebounceMs=function(){return 0},i.prototype.setupOnBtApplyDebounce=function(){var t=i.getDebounceMs(this.providedFilterParams,this.getDefaultDebounceMs());this.onBtApplyDebounce=pu(this.onBtApply.bind(this),t)},i.prototype.getModel=function(){return this.appliedModel?gt.deepCloneObject(this.appliedModel):null},i.prototype.setModel=function(t){var s=this;return(null!=t?this.setModelIntoUi(t):this.resetUiToDefaults()).then(function(){s.updateUiVisibility(),s.applyModel()})},i.prototype.onBtCancel=function(t){var s=this,p=this.getModel(),f=function(){s.onUiChanged(!1,"prevent"),s.providedFilterParams.closeOnApply&&s.close(t)};null!=p?this.setModelIntoUi(p).then(f):this.resetUiToDefaults().then(f)},i.prototype.onBtClear=function(){var t=this;this.resetUiToDefaults().then(function(){return t.onUiChanged()})},i.prototype.onBtReset=function(){this.onBtClear(),this.onBtApply()},i.prototype.applyModel=function(){var t=this.getModelFromUi();if(!this.isModelValid(t))return!1;var s=this.appliedModel;return this.appliedModel=t,!this.areModelsEqual(s,t)},i.prototype.isModelValid=function(t){return!0},i.prototype.onBtApply=function(t,s,p){void 0===t&&(t=!1),void 0===s&&(s=!1),this.applyModel()&&this.providedFilterParams.filterChangedCallback({afterFloatingFilter:t,afterDataChange:s}),this.providedFilterParams.closeOnApply&&this.applyActive&&!t&&!s&&this.close(p)},i.prototype.onNewRowsLoaded=function(){var t=this;this.resetUiToDefaults().then(function(){return t.appliedModel=null})},i.prototype.close=function(t){if(this.hidePopup){var f,p=t&&t.key;("Enter"===p||"Space"===p)&&(f={keyboardEvent:t}),this.hidePopup(f),this.hidePopup=null}},i.prototype.onUiChanged=function(t,s){if(void 0===t&&(t=!1),this.updateUiVisibility(),this.providedFilterParams.filterModifiedCallback(),this.applyActive&&!this.isReadOnly){var p=this.isModelValid(this.getModelFromUi());Yt(this.getRefElement("applyFilterButton"),!p)}t&&!s||"immediately"===s?this.onBtApply(t):(!this.applyActive&&!s||"debounce"===s)&&this.onBtApplyDebounce()},i.prototype.afterGuiAttached=function(t){null!=t&&(this.hidePopup=t.hidePopup)},i.getDebounceMs=function(t,s){return i.isUseApplyButton(t)?(null!=t.debounceMs&&console.warn("AG Grid: debounceMs is ignored when apply button is present"),0):null!=t.debounceMs?t.debounceMs:s},i.isUseApplyButton=function(t){return!!t.buttons&&t.buttons.indexOf("apply")>=0},i.prototype.destroy=function(){this.hidePopup=null,g.prototype.destroy.call(this)},i.prototype.translate=function(t){return this.gridOptionsWrapper.getLocaleTextFunc()(t,sf[t])},i.prototype.getCellValue=function(t){var s=this.providedFilterParams;return this.providedFilterParams.valueGetter({api:s.api,colDef:s.colDef,column:s.column,columnApi:s.columnApi,context:s.context,data:t.data,getValue:function(M){return t.data[M]},node:t})},Tl([$("rowModel")],i.prototype,"rowModel",void 0),Tl([$("valueService")],i.prototype,"valueService",void 0),Tl([$e],i.prototype,"postConstruct",null),i}(Ut),Ym=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),uf=function(g){function i(t,s){var p=g.call(this,s)||this;return p.labelSeparator="",p.labelAlignment="left",p.label="",p.config=t||{},p}return Ym(i,g),i.prototype.postConstruct=function(){this.addCssClass("ag-labeled"),this.eLabel.classList.add("ag-label");var t=this.config,s=t.labelSeparator,p=t.label,f=t.labelWidth,_=t.labelAlignment;null!=s&&this.setLabelSeparator(s),null!=p&&this.setLabel(p),null!=f&&this.setLabelWidth(f),this.setLabelAlignment(_||this.labelAlignment),this.refreshLabel()},i.prototype.refreshLabel=function(){Bn(this.eLabel),"string"==typeof this.label?this.eLabel.innerText=this.label+this.labelSeparator:this.label&&this.eLabel.appendChild(this.label),""===this.label?(this.eLabel.classList.add("ag-hidden"),Qn(this.eLabel,"presentation")):(this.eLabel.classList.remove("ag-hidden"),Qn(this.eLabel,null))},i.prototype.setLabelSeparator=function(t){return this.labelSeparator===t||(this.labelSeparator=t,null!=this.label&&this.refreshLabel()),this},i.prototype.getLabelId=function(){return this.eLabel.id=this.eLabel.id||"ag-"+this.getCompId()+"-label",this.eLabel.id},i.prototype.getLabel=function(){return this.label},i.prototype.setLabel=function(t){return this.label===t||(this.label=t,this.refreshLabel()),this},i.prototype.setLabelAlignment=function(t){var p=this.getGui().classList;return p.toggle("ag-label-align-left","left"===t),p.toggle("ag-label-align-right","right"===t),p.toggle("ag-label-align-top","top"===t),this},i.prototype.setLabelWidth=function(t){return null==this.label||xl(this.eLabel,t),this},function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);p>3&&f&&Object.defineProperty(i,t,f)}([$e],i.prototype,"postConstruct",null),i}(Ut),Ic=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),ns=function(g){function i(t,s,p){var f=g.call(this,t,s)||this;return f.className=p,f.disabled=!1,f}return Ic(i,g),i.prototype.postConstruct=function(){g.prototype.postConstruct.call(this),this.className&&this.addCssClass(this.className)},i.prototype.onValueChange=function(t){var s=this;return this.addManagedListener(this,i.EVENT_CHANGED,function(){return t(s.getValue())}),this},i.prototype.getWidth=function(){return this.getGui().clientWidth},i.prototype.setWidth=function(t){return $i(this.getGui(),t),this},i.prototype.getPreviousValue=function(){return this.previousValue},i.prototype.getValue=function(){return this.value},i.prototype.setValue=function(t,s){return this.value===t||(this.previousValue=this.value,this.value=t,s||this.dispatchEvent({type:i.EVENT_CHANGED})),this},i.prototype.setDisabled=function(t){t=!!t;var s=this.getGui();return Yt(s,t),s.classList.toggle("ag-disabled",t),this.disabled=t,this},i.prototype.isDisabled=function(){return!!this.disabled},i.EVENT_CHANGED="valueChange",i}(uf),Nc=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),Yr=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},Oi=function(g){function i(t,s,p,f){var _=g.call(this,t,'<div class="ag-picker-field" role="presentation">\n                <div ref="eLabel"></div>\n                <div ref="eWrapper"\n                    class="ag-wrapper ag-picker-field-wrapper"\n                    tabIndex="-1"\n                    aria-expanded="false"\n                    '+(f?'role="'+f+'"':"")+'\n                >\n                    <div ref="eDisplayField" class="ag-picker-field-display"></div>\n                    <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>\n                </div>\n            </div>',s)||this;return _.pickerIcon=p,_.isPickerDisplayed=!1,_.isDestroyingPicker=!1,_.skipClick=!1,_}return Nc(i,g),i.prototype.postConstruct=function(){var t=this;g.prototype.postConstruct.call(this);var s=this.getCompId()+"-display";this.eDisplayField.setAttribute("id",s),qh(this.eWrapper,s);var p=function(){t.skipClick?t.skipClick=!1:t.isDisabled()||(t.pickerComponent=t.showPicker())},f=this.getGui();if(this.addManagedListener(f,"mousedown",function(b){!t.skipClick&&t.pickerComponent&&t.pickerComponent.isAlive()&&gi(t.pickerComponent.getGui())&&f.contains(b.target)&&(t.skipClick=!0)}),this.addManagedListener(f,"keydown",function(b){switch(b.key){case We.UP:case We.DOWN:case We.ENTER:case We.SPACE:p();case We.ESCAPE:t.isPickerDisplayed&&b.preventDefault()}}),this.addManagedListener(this.eWrapper,"click",p),this.addManagedListener(this.eLabel,"click",p),this.pickerIcon){var _=Mr(this.pickerIcon,this.gridOptionsWrapper);_&&this.eIcon.appendChild(_)}},i.prototype.refreshLabel=function(){J(this.getLabel())?up(this.eWrapper,this.getLabelId()):this.eWrapper.removeAttribute("aria-labelledby"),g.prototype.refreshLabel.call(this)},i.prototype.setAriaLabel=function(t){return bu(this.eWrapper,t),this},i.prototype.setInputWidth=function(t){return xl(this.eWrapper,t),this},i.prototype.getFocusableElement=function(){return this.eWrapper},Yr([Ve("eLabel")],i.prototype,"eLabel",void 0),Yr([Ve("eWrapper")],i.prototype,"eWrapper",void 0),Yr([Ve("eDisplayField")],i.prototype,"eDisplayField",void 0),Yr([Ve("eIcon")],i.prototype,"eIcon",void 0),i}(ns),hr=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),rs=function(g){function i(t){void 0===t&&(t="default");var s=g.call(this,'<div class="ag-list ag-'+t+'-list" role="listbox"></div>')||this;return s.cssIdentifier=t,s.options=[],s.itemEls=[],s}return hr(i,g),i.prototype.init=function(){this.addManagedListener(this.getGui(),"keydown",this.handleKeyDown.bind(this))},i.prototype.handleKeyDown=function(t){var s=t.key;switch(s){case We.ENTER:if(this.highlightedEl){var p=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(p)}else this.setValue(this.getValue());break;case We.DOWN:case We.UP:var f=s===We.DOWN,_=void 0;if(t.preventDefault(),this.highlightedEl){var A=this.itemEls.indexOf(this.highlightedEl)+(f?1:-1);A=Math.min(Math.max(A,0),this.itemEls.length-1),_=this.itemEls[A]}else _=this.itemEls[f?0:this.itemEls.length-1];this.highlightItem(_)}},i.prototype.addOptions=function(t){var s=this;return t.forEach(function(p){return s.addOption(p)}),this},i.prototype.addOption=function(t){var s=t.value,f=mr(t.text||s);return this.options.push({value:s,text:f}),this.renderOption(s,f),this.updateIndices(),this},i.prototype.updateIndices=function(){var t=this.getGui().querySelectorAll(".ag-list-item");t.forEach(function(s,p){q_(s,p+1),Y_(s,t.length)})},i.prototype.renderOption=function(t,s){var p=this,f=document.createElement("div");Qn(f,"option"),f.classList.add("ag-list-item","ag-"+this.cssIdentifier+"-list-item"),f.innerHTML="<span>"+s+"</span>",f.tabIndex=-1,this.itemEls.push(f),this.addManagedListener(f,"mouseover",function(){return p.highlightItem(f)}),this.addManagedListener(f,"mouseleave",function(){return p.clearHighlighted()}),this.addManagedListener(f,"click",function(){return p.setValue(t)}),this.getGui().appendChild(f)},i.prototype.setValue=function(t,s){if(this.value===t)return this.fireItemSelected(),this;if(null==t)return this.reset(),this;var p=this.options.findIndex(function(_){return _.value===t});if(-1!==p){var f=this.options[p];this.value=f.value,this.displayValue=null!=f.text?f.text:f.value,this.highlightItem(this.itemEls[p]),s||this.fireChangeEvent()}return this},i.prototype.setValueByIndex=function(t){return this.setValue(this.options[t].value)},i.prototype.getValue=function(){return this.value},i.prototype.getDisplayValue=function(){return this.displayValue},i.prototype.refreshHighlighted=function(){var t=this;this.clearHighlighted();var s=this.options.findIndex(function(p){return p.value===t.value});-1!==s&&this.highlightItem(this.itemEls[s])},i.prototype.reset=function(){this.value=null,this.displayValue=null,this.clearHighlighted(),this.fireChangeEvent()},i.prototype.highlightItem=function(t){!t.offsetParent||(this.clearHighlighted(),this.highlightedEl=t,this.highlightedEl.classList.add(i.ACTIVE_CLASS),cp(this.highlightedEl,!0),this.highlightedEl.focus())},i.prototype.clearHighlighted=function(){!this.highlightedEl||!this.highlightedEl.offsetParent||(this.highlightedEl.classList.remove(i.ACTIVE_CLASS),cp(this.highlightedEl,!1),this.highlightedEl=null)},i.prototype.fireChangeEvent=function(){this.dispatchEvent({type:ns.EVENT_CHANGED}),this.fireItemSelected()},i.prototype.fireItemSelected=function(){this.dispatchEvent({type:i.EVENT_ITEM_SELECTED})},i.EVENT_ITEM_SELECTED="selectedItem",i.ACTIVE_CLASS="ag-active-item",function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);p>3&&f&&Object.defineProperty(i,t,f)}([$e],i.prototype,"init",null),i}(Ut),qm=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),sC=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},Xm=function(g){function i(t){return g.call(this,t,"ag-select","smallDown","listbox")||this}return qm(i,g),i.prototype.init=function(){var t=this;this.listComponent=this.createBean(new rs("select")),this.listComponent.setParentComponent(this),this.eWrapper.tabIndex=0,this.listComponent.addManagedListener(this.listComponent,rs.EVENT_ITEM_SELECTED,function(){t.hideList&&t.hideList()}),this.listComponent.addManagedListener(this.listComponent,ns.EVENT_CHANGED,function(){t.setValue(t.listComponent.getValue(),!1,!0),t.hideList&&t.hideList()})},i.prototype.showPicker=function(){var t=this,s=this.listComponent.getGui(),p=this.gridOptionsWrapper.getDocument(),f=this.addManagedListener(p.body,"wheel",function(M){!s.contains(M.target)&&t.hideList&&t.hideList()}),_=this.addManagedListener(s,"focusout",function(M){!s.contains(M.relatedTarget)&&t.hideList&&t.hideList()}),b=this.gridOptionsWrapper.getLocaleTextFunc(),A=this.popupService.addPopup({modal:!0,eChild:s,closeOnEsc:!0,closedCallback:function(){t.hideList=null,t.isPickerDisplayed=!1,_(),f(),t.isAlive()&&(qo(t.eWrapper,!1),t.getFocusableElement().focus())},ariaLabel:b("ariaLabelSelectField","Select Field")});return A&&(this.hideList=A.hideFunc),this.isPickerDisplayed=!0,xl(s,Ac(this.eWrapper)),qo(this.eWrapper,!0),s.style.maxHeight=xc(this.popupService.getPopupParent())+"px",s.style.position="absolute",this.popupService.positionPopupUnderComponent({type:"ag-list",eventSource:this.eWrapper,ePopup:s,keepWithinBounds:!0}),this.listComponent.refreshHighlighted(),this.listComponent},i.prototype.addOptions=function(t){var s=this;return t.forEach(function(p){return s.addOption(p)}),this},i.prototype.addOption=function(t){return this.listComponent.addOption(t),this},i.prototype.setValue=function(t,s,p){return this.value===t?this:(p||this.listComponent.setValue(t,!0),this.listComponent.getValue()===this.getValue()?this:(this.eDisplayField.innerHTML=this.listComponent.getDisplayValue(),g.prototype.setValue.call(this,t,s)))},i.prototype.destroy=function(){this.hideList&&this.hideList(),this.destroyBean(this.listComponent),g.prototype.destroy.call(this)},sC([$("popupService")],i.prototype,"popupService",void 0),sC([$e],i.prototype,"init",null),i}(Oi),cf=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),is=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},mi=function(g){function i(t,s,p,f){void 0===p&&(p="text"),void 0===f&&(f="input");var _=g.call(this,t,'\n            <div role="presentation">\n                <div ref="eLabel" class="ag-input-field-label"></div>\n                <div ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">\n                    <'+f+' ref="eInput" class="ag-input-field-input"></'+f+">\n                </div>\n            </div>",s)||this;return _.inputType=p,_.displayFieldTag=f,_}return cf(i,g),i.prototype.postConstruct=function(){g.prototype.postConstruct.call(this),this.setInputType(),this.eLabel.classList.add(this.className+"-label"),this.eWrapper.classList.add(this.className+"-input-wrapper"),this.eInput.classList.add(this.className+"-input"),this.addCssClass("ag-input-field"),this.eInput.id=this.eInput.id||"ag-"+this.getCompId()+"-input";var t=this.config,s=t.width,p=t.value;null!=s&&this.setWidth(s),null!=p&&this.setValue(p),this.addInputListeners()},i.prototype.refreshLabel=function(){J(this.getLabel())?up(this.eInput,this.getLabelId()):this.eInput.removeAttribute("aria-labelledby"),g.prototype.refreshLabel.call(this)},i.prototype.addInputListeners=function(){var t=this;this.addManagedListener(this.eInput,"input",function(s){return t.setValue(s.target.value)})},i.prototype.setInputType=function(){"input"===this.displayFieldTag&&this.eInput.setAttribute("type",this.inputType)},i.prototype.getInputElement=function(){return this.eInput},i.prototype.setInputWidth=function(t){return xl(this.eWrapper,t),this},i.prototype.setInputName=function(t){return this.getInputElement().setAttribute("name",t),this},i.prototype.getFocusableElement=function(){return this.eInput},i.prototype.setMaxLength=function(t){return this.eInput.maxLength=t,this},i.prototype.setInputPlaceholder=function(t){return Yo(this.eInput,"placeholder",t),this},i.prototype.setInputAriaLabel=function(t){return bu(this.eInput,t),this},i.prototype.setDisabled=function(t){return Yt(this.eInput,t),g.prototype.setDisabled.call(this,t)},is([Ve("eLabel")],i.prototype,"eLabel",void 0),is([Ve("eWrapper")],i.prototype,"eWrapper",void 0),is([Ve("eInput")],i.prototype,"eInput",void 0),i}(ns),df=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),Gs=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},Nn=(()=>(function(g){g[g.One=0]="One",g[g.Two=1]="Two"}(Nn||(Nn={})),Nn))(),Cr=function(g){function i(){return null!==g&&g.apply(this,arguments)||this}return df(i,g),i.prototype.getNumberOfInputs=function(t){var s=this.optionsFactory.getCustomOption(t);if(s){var p=s.numberOfInputs;return null!=p?p:1}return t&&[i.EMPTY,i.NOT_BLANK,i.BLANK].indexOf(t)>=0?0:t===i.IN_RANGE?2:1},i.prototype.onFloatingFilterChanged=function(t,s){this.setTypeFromFloatingFilter(t),this.setValueFromFloatingFilter(s),this.onUiChanged(!0)},i.prototype.setTypeFromFloatingFilter=function(t){this.eType1.setValue(t),this.eType2.setValue(this.optionsFactory.getDefaultOption()),(this.isDefaultOperator("AND")?this.eJoinOperatorAnd:this.eJoinOperatorOr).setValue(!0)},i.prototype.getModelFromUi=function(){return this.isConditionUiComplete(Nn.One)?this.isAllowTwoConditions()&&this.isConditionUiComplete(Nn.Two)?{filterType:this.getFilterType(),operator:this.getJoinOperator(),condition1:this.createCondition(Nn.One),condition2:this.createCondition(Nn.Two)}:this.createCondition(Nn.One):null},i.prototype.getConditionTypes=function(){return[this.eType1.getValue(),this.eType2.getValue()]},i.prototype.getJoinOperator=function(){return!0===this.eJoinOperatorOr.getValue()?"OR":"AND"},i.prototype.areModelsEqual=function(t,s){if(!t&&!s)return!0;if(!t&&s||t&&!s)return!1;var b,p=!t.operator,f=!s.operator;if(!p&&f||p&&!f)return!1;if(p)b=this.areSimpleModelsEqual(t,s);else{var L=t,G=s;b=L.operator===G.operator&&this.areSimpleModelsEqual(L.condition1,G.condition1)&&this.areSimpleModelsEqual(L.condition2,G.condition2)}return b},i.prototype.setModelIntoUi=function(t){if(t.operator){var p=t,f="OR"===p.operator;this.eJoinOperatorAnd.setValue(!f),this.eJoinOperatorOr.setValue(f),this.eType1.setValue(p.condition1.type),this.eType2.setValue(p.condition2.type),this.setConditionIntoUi(p.condition1,Nn.One),this.setConditionIntoUi(p.condition2,Nn.Two)}else{var _=t;this.eJoinOperatorAnd.setValue(this.isDefaultOperator("AND")),this.eJoinOperatorOr.setValue(this.isDefaultOperator("OR")),this.eType1.setValue(_.type),this.eType2.setValue(this.optionsFactory.getDefaultOption()),this.setConditionIntoUi(_,Nn.One),this.setConditionIntoUi(null,Nn.Two)}return go.resolve()},i.prototype.doesFilterPass=function(t){var s=this,p=this.getModel();if(null==p)return!0;var f=p.operator,_=[];return f?_.push(p.condition1,p.condition2):_.push(p),_[f&&"OR"===f?"some":"every"](function(M){return s.individualConditionPasses(t,M)})},i.prototype.setParams=function(t){g.prototype.setParams.call(this,t),this.optionsFactory=new Ls,this.optionsFactory.init(t,this.getDefaultFilterOptions()),this.allowTwoConditions=!t.suppressAndOrCondition,this.alwaysShowBothConditions=!!t.alwaysShowBothConditions,this.defaultJoinOperator=this.getDefaultJoinOperator(t.defaultJoinOperator),this.putOptionsIntoDropdown(),this.addChangedListeners()},i.prototype.getDefaultJoinOperator=function(t){return ho(["AND","OR"],t)?t:"AND"},i.prototype.putOptionsIntoDropdown=function(){var t=this,s=this.optionsFactory.getFilterOptions(),p=[this.eType1,this.eType2];s.forEach(function(f){var _="string"==typeof f?t.createBoilerplateListOption(f):t.createCustomListOption(f);p.forEach(function(b){return b.addOption(_)})}),p.forEach(function(f){return f.setDisabled(s.length<=1)})},i.prototype.createBoilerplateListOption=function(t){return{value:t,text:this.translate(t)}},i.prototype.createCustomListOption=function(t){var s=t.displayKey,p=this.optionsFactory.getCustomOption(t.displayKey);return{value:s,text:p?this.gridOptionsWrapper.getLocaleTextFunc()(p.displayKey,p.displayName):this.translate(s)}},i.prototype.isAllowTwoConditions=function(){return this.allowTwoConditions},i.prototype.createBodyTemplate=function(){return'\n            <ag-select class="ag-filter-select" ref="eOptions1"></ag-select>\n            '+this.createValueTemplate(Nn.One)+'\n            <div class="ag-filter-condition" ref="eJoinOperatorPanel">\n               <ag-radio-button ref="eJoinOperatorAnd" class="ag-filter-condition-operator ag-filter-condition-operator-and"></ag-radio-button>\n               <ag-radio-button ref="eJoinOperatorOr" class="ag-filter-condition-operator ag-filter-condition-operator-or"></ag-radio-button>\n            </div>\n            <ag-select class="ag-filter-select" ref="eOptions2"></ag-select>\n            '+this.createValueTemplate(Nn.Two)},i.prototype.getCssIdentifier=function(){return"simple-filter"},i.prototype.updateUiVisibility=function(){var t=this,p=[this.eCondition1Body,this.eCondition2Body];[[this.eType1],[this.eType2,this.eJoinOperatorPanel,this.eJoinOperatorAnd,this.eJoinOperatorOr]].forEach(function(f,_){var b=t.isConditionVisible(_),A=t.isConditionDisabled(_);f.forEach(function(M){M instanceof mi||M instanceof Xm?(M.setDisabled(A),M.setDisplayed(b)):(Yt(M,A),Mn(M,b))})}),p.forEach(function(f,_){Mn(f,t.isConditionBodyVisible(_))}),this.forEachInput(function(f,_,b,A){t.setElementDisplayed(f,_<A),t.setElementDisabled(f,t.isConditionDisabled(b))}),this.resetPlaceholder()},i.prototype.afterGuiAttached=function(t){if(g.prototype.afterGuiAttached.call(this,t),this.resetPlaceholder(),!t||!t.suppressFocus&&!this.isReadOnly()){var s=this.getInputs()[0][0];if(!s)return;s instanceof mi&&s.getInputElement().focus()}},i.prototype.resetPlaceholder=function(){var t=this,s=this.gridOptionsWrapper.getLocaleTextFunc();this.forEachInput(function(p,f,_,b){if(p instanceof mi){var A=0===f&&b>1?"inRangeStart":0===f?"filterOoo":"inRangeEnd",M=0===f&&b>1?s("ariaFilterFromValue","Filter from value"):0===f?s("ariaFilterValue","Filter Value"):s("ariaFilterToValue","Filter to Value");p.setInputPlaceholder(t.translate(A)),p.setInputAriaLabel(M)}})},i.prototype.setElementValue=function(t,s,p){t instanceof mi&&t.setValue(null!=s?String(s):null,p)},i.prototype.setElementDisplayed=function(t,s){t instanceof Ut&&Mn(t.getGui(),s)},i.prototype.setElementDisabled=function(t,s){t instanceof Ut&&Yt(t.getGui(),s)},i.prototype.attachElementOnChange=function(t,s){t instanceof mi&&t.onValueChange(s)},i.prototype.forEachInput=function(t){var s=this,p=this.getInputs();this.getConditionTypes().forEach(function(f,_){for(var b=s.getNumberOfInputs(f),A=0;A<p[_].length;A++){var M=p[_][A];null!=M&&t(M,A,_,b)}})},i.prototype.isConditionVisible=function(t){return 0===t||!!this.allowTwoConditions&&(this.isReadOnly()?this.isConditionUiComplete(t):!!this.alwaysShowBothConditions||this.isConditionUiComplete(t-1))},i.prototype.isConditionDisabled=function(t){return!(!this.isReadOnly()&&this.isConditionVisible(t))||0!==t&&!this.isConditionUiComplete(t-1)},i.prototype.isConditionBodyVisible=function(t){if(!this.isConditionVisible(t))return!1;var s=this.getConditionTypes()[t];return this.getNumberOfInputs(s)>0},i.prototype.isConditionUiComplete=function(t){return!(this.getConditionTypes()[t]===i.EMPTY||this.getValues(t).some(function(p){return null==p}))},i.prototype.resetUiToDefaults=function(t){var s=this,f=this.gridOptionsWrapper.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator"),_="ag-simple-filter-and-or-"+this.getCompId(),b=this.optionsFactory.getDefaultOption();return this.eType1.setValue(b,t).setAriaLabel(f).setDisabled(this.isReadOnly()),this.eType2.setValue(this.optionsFactory.getDefaultOption(),t).setAriaLabel(f).setDisabled(this.isReadOnly()),this.eJoinOperatorAnd.setValue(this.isDefaultOperator("AND"),t).setName(_).setLabel(this.translate("andCondition")).setDisabled(this.isReadOnly()),this.eJoinOperatorOr.setValue(this.isDefaultOperator("OR"),t).setName(_).setLabel(this.translate("orCondition")).setDisabled(this.isReadOnly()),this.forEachInput(function(A){s.setElementValue(A,null,t),s.setElementDisabled(A,s.isReadOnly())}),this.resetPlaceholder(),go.resolve()},i.prototype.setConditionIntoUi=function(t,s){var p=this,f=this.mapValuesFromModel(t);this.forEachInput(function(_,b,A,M){A===s&&p.setElementValue(_,null!=f[b]?f[b]:null)})},i.prototype.setValueFromFloatingFilter=function(t){var s=this;this.forEachInput(function(p,f,_,b){s.setElementValue(p,0===f&&0===_?t:null)})},i.prototype.isDefaultOperator=function(t){return t===this.defaultJoinOperator},i.prototype.addChangedListeners=function(){var t=this;if(!this.isReadOnly()){var s=function(){return t.onUiChanged()};this.eType1.onValueChange(s),this.eType2.onValueChange(s),this.eJoinOperatorOr.onValueChange(s),this.eJoinOperatorAnd.onValueChange(s),this.forEachInput(function(p){t.attachElementOnChange(p,s)})}},i.prototype.individualConditionPasses=function(t,s){var p=this.getCellValue(t.node),f=this.mapValuesFromModel(s),_=this.optionsFactory.getCustomOption(s.type),b=this.evaluateCustomFilter(_,f,p);return null!=b?b:null==p?this.evaluateNullValue(s.type):this.evaluateNonNullValue(f,p,s,t)},i.prototype.evaluateCustomFilter=function(t,s,p){if(null!=t){var f=t.predicate;if(null!=f&&!s.some(function(_){return null==_}))return f(s,p)}},i.prototype.isBlank=function(t){return null==t||"string"==typeof t&&0===t.trim().length},i.EMPTY="empty",i.BLANK="blank",i.NOT_BLANK="notBlank",i.EQUALS="equals",i.NOT_EQUAL="notEqual",i.LESS_THAN="lessThan",i.LESS_THAN_OR_EQUAL="lessThanOrEqual",i.GREATER_THAN="greaterThan",i.GREATER_THAN_OR_EQUAL="greaterThanOrEqual",i.IN_RANGE="inRange",i.CONTAINS="contains",i.NOT_CONTAINS="notContains",i.STARTS_WITH="startsWith",i.ENDS_WITH="endsWith",Gs([Ve("eOptions1")],i.prototype,"eType1",void 0),Gs([Ve("eOptions2")],i.prototype,"eType2",void 0),Gs([Ve("eJoinOperatorPanel")],i.prototype,"eJoinOperatorPanel",void 0),Gs([Ve("eJoinOperatorAnd")],i.prototype,"eJoinOperatorAnd",void 0),Gs([Ve("eJoinOperatorOr")],i.prototype,"eJoinOperatorOr",void 0),Gs([Ve("eCondition1Body")],i.prototype,"eCondition1Body",void 0),Gs([Ve("eCondition2Body")],i.prototype,"eCondition2Body",void 0),i}(Fc),Rl=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),ar=function(g){function i(){return null!==g&&g.apply(this,arguments)||this}return Rl(i,g),i.prototype.setParams=function(t){g.prototype.setParams.call(this,t),this.scalarFilterParams=t},i.prototype.evaluateNullValue=function(t){switch(t){case i.EQUALS:case i.NOT_EQUAL:if(this.scalarFilterParams.includeBlanksInEquals)return!0;break;case i.GREATER_THAN:case i.GREATER_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInGreaterThan)return!0;break;case i.LESS_THAN:case i.LESS_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInLessThan)return!0;break;case i.IN_RANGE:if(this.scalarFilterParams.includeBlanksInRange)return!0;break;case i.BLANK:return!0;case i.NOT_BLANK:return!1}return!1},i.prototype.evaluateNonNullValue=function(t,s,p){var f=this.comparator(),_=null!=t[0]?f(t[0],s):0;switch(p.type){case i.EQUALS:return 0===_;case i.NOT_EQUAL:return 0!==_;case i.GREATER_THAN:return _>0;case i.GREATER_THAN_OR_EQUAL:return _>=0;case i.LESS_THAN:return _<0;case i.LESS_THAN_OR_EQUAL:return _<=0;case i.IN_RANGE:var b=f(t[1],s);return this.scalarFilterParams.inRangeInclusive?_>=0&&b<=0:_>0&&b<0;case i.BLANK:return this.isBlank(s);case i.NOT_BLANK:return!this.isBlank(s);default:return console.warn('AG Grid: Unexpected type of filter "'+p.type+'", it looks like the filter was configured with incorrect Filter Options'),!0}},i}(Cr),lC=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),Qm=function(){return Qm=Object.assign||function(g){for(var i,t=1,s=arguments.length;t<s;t++)for(var p in i=arguments[t])Object.prototype.hasOwnProperty.call(i,p)&&(g[p]=i[p]);return g},Qm.apply(this,arguments)},Vs=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},Zm=function(g){function i(){var t=g.call(this,"dateFilter")||this;return t.minValidYear=1e3,t.maxValidYear=1/0,t}return lC(i,g),i.prototype.afterGuiAttached=function(t){g.prototype.afterGuiAttached.call(this,t),this.dateCondition1FromComp.afterGuiAttached(t)},i.prototype.mapValuesFromModel=function(t){var s=t||{},p=s.dateFrom,f=s.dateTo,_=s.type;return[p&&Is(p)||null,f&&Is(f)||null].slice(0,this.getNumberOfInputs(_))},i.prototype.comparator=function(){return this.dateFilterParams.comparator?this.dateFilterParams.comparator:this.defaultComparator.bind(this)},i.prototype.defaultComparator=function(t,s){return null==s||s<t?-1:s>t?1:0},i.prototype.setParams=function(t){g.prototype.setParams.call(this,t),this.dateFilterParams=t;var s=function(p,f){if(null!=t[p]){if(!isNaN(t[p]))return null==t[p]?f:Number(t[p]);console.warn("AG Grid: DateFilter "+p+" is not a number")}return f};this.minValidYear=s("minValidYear",1e3),this.maxValidYear=s("maxValidYear",1/0),this.minValidYear>this.maxValidYear&&console.warn("AG Grid: DateFilter minValidYear should be <= maxValidYear"),this.createDateComponents()},i.prototype.createDateComponents=function(){var t=this,s=function(p){return new Ns(t.getContext(),t.userComponentFactory,{onDateChanged:function(){return t.onUiChanged()},filterParams:t.dateFilterParams},p)};this.dateCondition1FromComp=s(this.eCondition1PanelFrom),this.dateCondition1ToComp=s(this.eCondition1PanelTo),this.dateCondition2FromComp=s(this.eCondition2PanelFrom),this.dateCondition2ToComp=s(this.eCondition2PanelTo),this.addDestroyFunc(function(){t.forEachInput(function(p){return p.destroy()})})},i.prototype.setElementValue=function(t,s,p){t.setDate(s)},i.prototype.setElementDisplayed=function(t,s){t.setDisplayed(s)},i.prototype.setElementDisabled=function(t,s){t.setDisabled(s)},i.prototype.getDefaultFilterOptions=function(){return i.DEFAULT_FILTER_OPTIONS},i.prototype.createValueTemplate=function(t){var s=t===Nn.One?"1":"2";return'\n            <div class="ag-filter-body" ref="eCondition'+s+'Body">\n                <div class="ag-filter-from ag-filter-date-from" ref="eCondition'+s+'PanelFrom"></div>\n                <div class="ag-filter-to ag-filter-date-to" ref="eCondition'+s+'PanelTo"></div>\n            </div>'},i.prototype.isConditionUiComplete=function(t){var s=this;if(!g.prototype.isConditionUiComplete.call(this,t))return!1;var f=!0;return this.forEachInput(function(_,b,A,M){A!==t||!f||b>=M||(f=f&&function(_){return null!=_&&_.getUTCFullYear()>=s.minValidYear&&_.getUTCFullYear()<=s.maxValidYear}(_.getDate()))}),f},i.prototype.areSimpleModelsEqual=function(t,s){return t.dateFrom===s.dateFrom&&t.dateTo===s.dateTo&&t.type===s.type},i.prototype.getFilterType=function(){return"date"},i.prototype.createCondition=function(t){var s=this.getConditionTypes()[t],p={},f=this.getValues(t);return f.length>0&&(p.dateFrom=$r(f[0])),f.length>1&&(p.dateTo=$r(f[1])),Qm({dateFrom:null,dateTo:null,filterType:this.getFilterType(),type:s},p)},i.prototype.resetPlaceholder=function(){var t=this.gridOptionsWrapper.getLocaleTextFunc(),s=this.translate("dateFormatOoo"),p=t("ariaFilterValue","Filter Value");this.forEachInput(function(f){f.setInputPlaceholder(s),f.setInputAriaLabel(p)})},i.prototype.getInputs=function(){return[[this.dateCondition1FromComp,this.dateCondition1ToComp],[this.dateCondition2FromComp,this.dateCondition2ToComp]]},i.prototype.getValues=function(t){var s=[];return this.forEachInput(function(p,f,_,b){t===_&&f<b&&s.push(p.getDate())}),s},i.DEFAULT_FILTER_OPTIONS=[ar.EQUALS,ar.GREATER_THAN,ar.LESS_THAN,ar.NOT_EQUAL,ar.IN_RANGE,ar.BLANK,ar.NOT_BLANK],Vs([Ve("eCondition1PanelFrom")],i.prototype,"eCondition1PanelFrom",void 0),Vs([Ve("eCondition1PanelTo")],i.prototype,"eCondition1PanelTo",void 0),Vs([Ve("eCondition2PanelFrom")],i.prototype,"eCondition2PanelFrom",void 0),Vs([Ve("eCondition2PanelTo")],i.prototype,"eCondition2PanelTo",void 0),Vs([$("userComponentFactory")],i.prototype,"userComponentFactory",void 0),i}(ar),bD=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),eS=function(g){function i(){return null!==g&&g.apply(this,arguments)||this}return bD(i,g),i.prototype.getDefaultDebounceMs=function(){return 0},i.prototype.destroy=function(){g.prototype.destroy.call(this)},i.prototype.getTextFromModel=function(t){if(!t)return null;if(null!=t.operator){var p=t,f=p||{},_=f.condition1,b=f.condition2,A=this.optionsFactory.getCustomOption(_.type),M=this.optionsFactory.getCustomOption(b.type);return[this.conditionToString(_,A),p.operator,this.conditionToString(b,M)].join(" ")}var L=t,G=this.optionsFactory.getCustomOption(L.type),U=G||{},te=U.displayKey,le=U.displayName;return te&&le&&0===U.numberOfInputs?(this.gridOptionsWrapper.getLocaleTextFunc()(te,le),le):this.conditionToString(L,G)},i.prototype.isEventFromFloatingFilter=function(t){return t&&t.afterFloatingFilter},i.prototype.getLastType=function(){return this.lastType},i.prototype.isReadOnly=function(){return this.readOnly},i.prototype.setLastTypeFromModel=function(t){t?this.lastType=(t.operator?t.condition1:t).type:this.lastType=this.optionsFactory.getDefaultOption()},i.prototype.canWeEditAfterModelFromParentFilter=function(t){return t?!t.operator&&this.isTypeEditable(t.type):this.isTypeEditable(this.lastType)},i.prototype.init=function(t){this.optionsFactory=new Ls,this.optionsFactory.init(t.filterParams,this.getDefaultFilterOptions()),this.lastType=this.optionsFactory.getDefaultOption(),this.readOnly=!!t.filterParams.readOnly;var s=this.isTypeEditable(this.lastType);this.setEditable(s)},i.prototype.doesFilterHaveSingleInput=function(t){var p=(this.optionsFactory.getCustomOption(t)||{}).numberOfInputs;return null==p||1==p},i.prototype.isTypeEditable=function(t){var s=[Cr.IN_RANGE,Cr.EMPTY,Cr.BLANK,Cr.NOT_BLANK];return!!t&&!this.isReadOnly()&&this.doesFilterHaveSingleInput(t)&&s.indexOf(t)<0},i}(Ut),vp=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),Xo=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},hf=function(g){function i(){return g.call(this,'\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eReadOnlyText"></ag-input-text-field>\n                <div ref="eDateWrapper" style="display: flex;"></div>\n            </div>')||this}return vp(i,g),i.prototype.getDefaultFilterOptions=function(){return Zm.DEFAULT_FILTER_OPTIONS},i.prototype.conditionToString=function(t,s){var p=t.type,_=p==Cr.IN_RANGE||2===(s||{}).numberOfInputs,b=Is(t.dateFrom),A=Is(t.dateTo);return _?$r(b,!1)+"-"+$r(A,!1):null!=b?""+$r(b,!1):""+p},i.prototype.init=function(t){g.prototype.init.call(this,t),this.params=t,this.createDateComponent();var s=this.gridOptionsWrapper.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(s("ariaDateFilterInput","Date Filter Input"))},i.prototype.setEditable=function(t){Mn(this.eDateWrapper,t),Mn(this.eReadOnlyText.getGui(),!t)},i.prototype.onParentModelChanged=function(t,s){if(!this.isEventFromFloatingFilter(s)){g.prototype.setLastTypeFromModel.call(this,t);var p=!this.isReadOnly()&&this.canWeEditAfterModelFromParentFilter(t);this.setEditable(p),p?(this.dateComp.setDate(t?Is(t.dateFrom):null),this.eReadOnlyText.setValue("")):(this.eReadOnlyText.setValue(this.getTextFromModel(t)),this.dateComp.setDate(null))}},i.prototype.onDateChanged=function(){var t=this,p=$r(this.dateComp.getDate());this.params.parentFilterInstance(function(f){if(f){var _=Is(p);f.onFloatingFilterChanged(t.getLastType()||null,_)}})},i.prototype.createDateComponent=function(){var t=this,s=Fc.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),p={onDateChanged:pu(this.onDateChanged.bind(this),s),filterParams:this.params.column.getColDef().filterParams};this.dateComp=new Ns(this.getContext(),this.userComponentFactory,p,this.eDateWrapper),this.addDestroyFunc(function(){return t.dateComp.destroy()})},Xo([$("userComponentFactory")],i.prototype,"userComponentFactory",void 0),Xo([Ve("eReadOnlyText")],i.prototype,"eReadOnlyText",void 0),Xo([Ve("eDateWrapper")],i.prototype,"eDateWrapper",void 0),i}(eS),Lc=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),cC=function(g){function i(){return g.call(this,'\n            <div class="ag-filter-filter">\n                <ag-input-text-field class="ag-date-filter" ref="eDateInput"></ag-input-text-field>\n            </div>')||this}return Lc(i,g),i.prototype.destroy=function(){g.prototype.destroy.call(this)},i.prototype.init=function(t){var s=this,p=this.gridOptionsWrapper.getDocument(),f=this.eDateInput.getInputElement();this.shouldUseBrowserDatePicker(t)&&(f.type="date"),this.addManagedListener(f,"mousedown",function(){s.eDateInput.isDisabled()||f.focus()}),this.addManagedListener(f,"input",function(M){M.target===p.activeElement&&(s.eDateInput.isDisabled()||t.onDateChanged())});var _=t.filterParams||{},b=_.minValidYear,A=_.maxValidYear;b&&(f.min=b+"-01-01"),A&&(f.max=A+"-12-31")},i.prototype.getDate=function(){return Is(this.eDateInput.getValue())},i.prototype.setDate=function(t){this.eDateInput.setValue($r(t,!1))},i.prototype.setInputPlaceholder=function(t){this.eDateInput.setInputPlaceholder(t)},i.prototype.setDisabled=function(t){this.eDateInput.setDisabled(t)},i.prototype.afterGuiAttached=function(t){(!t||!t.suppressFocus)&&this.eDateInput.getInputElement().focus()},i.prototype.shouldUseBrowserDatePicker=function(t){return t.filterParams&&null!=t.filterParams.browserDatePicker?t.filterParams.browserDatePicker:Ui()||Vm()},function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);p>3&&f&&Object.defineProperty(i,t,f)}([Ve("eDateInput")],i.prototype,"eDateInput",void 0),i}(Ut),Aa=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),yp=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},Bs=function(g){function i(){return g.call(this,"numberFilter")||this}return Aa(i,g),i.prototype.mapValuesFromModel=function(t){var s=t||{},p=s.filter,f=s.filterTo;return[null==p?null:p,null==f?null:f].slice(0,this.getNumberOfInputs(s.type))},i.prototype.getDefaultDebounceMs=function(){return 500},i.prototype.comparator=function(){return function(t,s){return t===s?0:t<s?1:-1}},i.prototype.setParams=function(t){this.numberFilterParams=t;var s=this.getAllowedCharPattern();if(s){var p={allowedCharPattern:s};this.resetTemplate({eValueFrom1:p,eValueTo1:p,eValueFrom2:p,eValueTo2:p})}g.prototype.setParams.call(this,t)},i.prototype.getDefaultFilterOptions=function(){return i.DEFAULT_FILTER_OPTIONS},i.prototype.createValueTemplate=function(t){var s=t===Nn.One?"1":"2",f=this.getAllowedCharPattern()?"ag-input-text-field":"ag-input-number-field";return'\n            <div class="ag-filter-body" ref="eCondition'+s+'Body" role="presentation">\n                <'+f+' class="ag-filter-from ag-filter-filter" ref="eValue-index0-'+s+'"></'+f+">\n                <"+f+' class="ag-filter-to ag-filter-filter" ref="eValue-index1-'+s+'"></'+f+">\n            </div>"},i.prototype.getValues=function(t){var s=this,p=[];return this.forEachInput(function(f,_,b,A){t===b&&_<A&&p.push(s.stringToFloat(f.getValue()))}),p},i.prototype.areSimpleModelsEqual=function(t,s){return t.filter===s.filter&&t.filterTo===s.filterTo&&t.type===s.type},i.prototype.getFilterType=function(){return"number"},i.prototype.stringToFloat=function(t){if("number"==typeof t)return t;var s=jr(t);return null!=s&&""===s.trim()&&(s=null),this.numberFilterParams.numberParser?this.numberFilterParams.numberParser(s):null==s||"-"===s.trim()?null:parseFloat(s)},i.prototype.createCondition=function(t){var s=this.getConditionTypes()[t],p={filterType:this.getFilterType(),type:s},f=this.getValues(t);return f.length>0&&(p.filter=f[0]),f.length>1&&(p.filterTo=f[1]),p},i.prototype.getInputs=function(){return[[this.eValueFrom1,this.eValueTo1],[this.eValueFrom2,this.eValueTo2]]},i.prototype.getAllowedCharPattern=function(){return(this.numberFilterParams||{}).allowedCharPattern||(Ui()||km()?null:"\\d\\-\\.")},i.DEFAULT_FILTER_OPTIONS=[ar.EQUALS,ar.NOT_EQUAL,ar.LESS_THAN,ar.LESS_THAN_OR_EQUAL,ar.GREATER_THAN,ar.GREATER_THAN_OR_EQUAL,ar.IN_RANGE,ar.BLANK,ar.NOT_BLANK],yp([Ve("eValue-index0-1")],i.prototype,"eValueFrom1",void 0),yp([Ve("eValue-index1-1")],i.prototype,"eValueTo1",void 0),yp([Ve("eValue-index0-2")],i.prototype,"eValueFrom2",void 0),yp([Ve("eValue-index1-2")],i.prototype,"eValueTo2",void 0),i}(ar),Jm=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),Du=function(){return Du=Object.assign||function(g){for(var i,t=1,s=arguments.length;t<s;t++)for(var p in i=arguments[t])Object.prototype.hasOwnProperty.call(i,p)&&(g[p]=i[p]);return g},Du.apply(this,arguments)},_p=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},Ou=function(g){function i(){return g.call(this,"textFilter")||this}return Jm(i,g),i.trimInput=function(t){var s=t&&t.trim();return""===s?t:s},i.prototype.getDefaultDebounceMs=function(){return 500},i.prototype.setParams=function(t){g.prototype.setParams.call(this,t),this.textFilterParams=t,this.matcher=this.getTextMatcher(),this.formatter=this.textFilterParams.textFormatter||(this.textFilterParams.caseSensitive?i.DEFAULT_FORMATTER:i.DEFAULT_LOWERCASE_FORMATTER)},i.prototype.getTextMatcher=function(){var t=this.textFilterParams.textCustomComparator;return t?(gt.doOnce(function(){return console.warn("AG Grid - textCustomComparator is deprecated, use textMatcher instead.")},"textCustomComparator.deprecated"),function(s){return t(s.filterOption,s.value,s.filterText)}):this.textFilterParams.textMatcher||i.DEFAULT_MATCHER},i.prototype.createCondition=function(t){var s=this.getConditionTypes()[t],p={filterType:this.getFilterType(),type:s},f=this.getValues(t);return f.length>0&&(p.filter=f[0]),f.length>1&&(p.filterTo=f[1]),p},i.prototype.getFilterType=function(){return"text"},i.prototype.areSimpleModelsEqual=function(t,s){return t.filter===s.filter&&t.filterTo===s.filterTo&&t.type===s.type},i.prototype.getInputs=function(){return[[this.eValueFrom1,this.eValueTo1],[this.eValueFrom2,this.eValueTo2]]},i.prototype.getValues=function(t){var s=this,p=[];return this.forEachInput(function(f,_,b,A){if(t===b&&_<A){var M=jr(f.getValue()),L=(s.textFilterParams.trimInput?i.trimInput(M):M)||null;p.push(L),f.setValue(L,!0)}}),p},i.prototype.getDefaultFilterOptions=function(){return i.DEFAULT_FILTER_OPTIONS},i.prototype.createValueTemplate=function(t){var s=t===Nn.One?"1":"2";return'\n            <div class="ag-filter-body" ref="eCondition'+s+'Body" role="presentation">\n                <ag-input-text-field class=".ag-filter-from ag-filter-filter" ref="eValue-index0-'+s+'"></ag-input-text-field>\n                <ag-input-text-field class="ag-filter-to ag-filter-filter" ref="eValue-index1-'+s+'"></ag-input-text-field>\n            </div>'},i.prototype.mapValuesFromModel=function(t){var s=t||{};return[s.filter||null,s.filterTo||null].slice(0,this.getNumberOfInputs(s.type))},i.prototype.evaluateNullValue=function(t){return!!t&&[Cr.NOT_EQUAL,Cr.NOT_CONTAINS,Cr.BLANK].indexOf(t)>=0},i.prototype.evaluateNonNullValue=function(t,s,p,f){var _=this,b=t.map(function(we){return _.formatter(we)})||[],A=this.formatter(s),M=this.textFilterParams,L=M.api,G=M.colDef,U=M.column,te=M.columnApi,le=M.context,ge=M.textFormatter;if(p.type===Cr.BLANK)return this.isBlank(s);if(p.type===Cr.NOT_BLANK)return!this.isBlank(s);var ve={api:L,colDef:G,column:U,columnApi:te,context:le,node:f.node,data:f.data,filterOption:p.type,value:A,textFormatter:ge};return b.some(function(we){return _.matcher(Du(Du({},ve),{filterText:we}))})},i.DEFAULT_FILTER_OPTIONS=[Cr.CONTAINS,Cr.NOT_CONTAINS,Cr.EQUALS,Cr.NOT_EQUAL,Cr.STARTS_WITH,Cr.ENDS_WITH,Cr.BLANK,Cr.NOT_BLANK],i.DEFAULT_FORMATTER=function(t){return t},i.DEFAULT_LOWERCASE_FORMATTER=function(t){return null==t?null:t.toString().toLowerCase()},i.DEFAULT_MATCHER=function(t){var p=t.value,f=t.filterText;if(null==f)return!1;switch(t.filterOption){case i.CONTAINS:return p.indexOf(f)>=0;case i.NOT_CONTAINS:return p.indexOf(f)<0;case i.EQUALS:return p===f;case i.NOT_EQUAL:return p!=f;case i.STARTS_WITH:return 0===p.indexOf(f);case i.ENDS_WITH:var _=p.lastIndexOf(f);return _>=0&&_===p.length-f.length;default:return!1}},_p([Ve("eValue-index0-1")],i.prototype,"eValueFrom1",void 0),_p([Ve("eValue-index1-1")],i.prototype,"eValueTo1",void 0),_p([Ve("eValue-index0-2")],i.prototype,"eValueFrom2",void 0),_p([Ve("eValue-index1-2")],i.prototype,"eValueTo2",void 0),i}(Cr),ff=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),kc=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},gf=function(g){function i(){return null!==g&&g.apply(this,arguments)||this}return ff(i,g),i.prototype.postConstruct=function(){this.setTemplate('\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eFloatingFilterInput"></ag-input-text-field>\n            </div>')},i.prototype.getDefaultDebounceMs=function(){return 500},i.prototype.onParentModelChanged=function(t,s){this.isEventFromFloatingFilter(s)||(this.setLastTypeFromModel(t),this.eFloatingFilterInput.setValue(this.getTextFromModel(t)),this.setEditable(this.canWeEditAfterModelFromParentFilter(t)))},i.prototype.init=function(t){if(g.prototype.init.call(this,t),this.params=t,this.applyActive=Fc.isUseApplyButton(this.params.filterParams),!this.isReadOnly()){var s=Fc.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),p=pu(this.syncUpWithParentFilter.bind(this),s),f=this.eFloatingFilterInput.getGui();this.addManagedListener(f,"input",p),this.addManagedListener(f,"keypress",p),this.addManagedListener(f,"keydown",p)}var _=t.column.getDefinition();(this.isReadOnly()||_.filterParams&&_.filterParams.filterOptions&&1===_.filterParams.filterOptions.length&&"inRange"===_.filterParams.filterOptions[0])&&this.eFloatingFilterInput.setDisabled(!0);var b=this.columnModel.getDisplayNameForColumn(t.column,"header",!0),A=this.gridOptionsWrapper.getLocaleTextFunc();this.eFloatingFilterInput.setInputAriaLabel(b+" "+A("ariaFilterInput","Filter Input"))},i.prototype.syncUpWithParentFilter=function(t){var s=this;if(!this.applyActive||t.key===We.ENTER){var f=this.eFloatingFilterInput.getValue();this.params.filterParams.trimInput&&(f=Ou.trimInput(f),this.eFloatingFilterInput.setValue(f,!0)),this.params.parentFilterInstance(function(_){_&&_.onFloatingFilterChanged(s.getLastType()||null,f||null)})}},i.prototype.conditionToString=function(t,s){return t.type==Cr.IN_RANGE||2===(s||{}).numberOfInputs?t.filter+"-"+t.filterTo:null!=t.filter?""+t.filter:""+t.type},i.prototype.setEditable=function(t){this.eFloatingFilterInput.setDisabled(!t)},kc([$("columnModel")],i.prototype,"columnModel",void 0),kc([Ve("eFloatingFilterInput")],i.prototype,"eFloatingFilterInput",void 0),kc([$e],i.prototype,"postConstruct",null),i}(eS),Cp=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),ev=function(g){function i(){return null!==g&&g.apply(this,arguments)||this}return Cp(i,g),i.prototype.getDefaultFilterOptions=function(){return Bs.DEFAULT_FILTER_OPTIONS},i}(gf),tv=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),Gc=function(g){function i(){return null!==g&&g.apply(this,arguments)||this}return tv(i,g),i.prototype.getDefaultFilterOptions=function(){return Ou.DEFAULT_FILTER_OPTIONS},i}(gf),xi=function(){function g(i,t){var s=this;void 0===t&&(t=!1),this.destroyFuncs=[],this.touching=!1,this.eventService=new wl,this.eElement=i,this.preventMouseClick=t;var p=this.onTouchStart.bind(this),f=this.onTouchMove.bind(this),_=this.onTouchEnd.bind(this);this.eElement.addEventListener("touchstart",p,{passive:!0}),this.eElement.addEventListener("touchmove",f,{passive:!0}),this.eElement.addEventListener("touchend",_,{passive:!1}),this.destroyFuncs.push(function(){s.eElement.removeEventListener("touchstart",p,{passive:!0}),s.eElement.removeEventListener("touchmove",f,{passive:!0}),s.eElement.removeEventListener("touchend",_,{passive:!1})})}return g.prototype.getActiveTouch=function(i){for(var t=0;t<i.length;t++)if(i[t].identifier===this.touchStart.identifier)return i[t];return null},g.prototype.addEventListener=function(i,t){this.eventService.addEventListener(i,t)},g.prototype.removeEventListener=function(i,t){this.eventService.removeEventListener(i,t)},g.prototype.onTouchStart=function(i){var t=this;if(!this.touching){this.touchStart=i.touches[0],this.touching=!0,this.moved=!1;var s=this.touchStart;window.setTimeout(function(){t.touching&&t.touchStart===s&&!t.moved&&(t.moved=!0,t.eventService.dispatchEvent({type:g.EVENT_LONG_TAP,touchStart:t.touchStart,touchEvent:i}))},500)}},g.prototype.onTouchMove=function(i){if(this.touching){var t=this.getActiveTouch(i.touches);t&&!hp(t,this.touchStart,4)&&(this.moved=!0)}},g.prototype.onTouchEnd=function(i){this.touching&&(this.moved||(this.eventService.dispatchEvent({type:g.EVENT_TAP,touchStart:this.touchStart}),this.checkForDoubleTap()),this.preventMouseClick&&i.preventDefault(),this.touching=!1)},g.prototype.checkForDoubleTap=function(){var i=(new Date).getTime();this.lastTapTime&&this.lastTapTime>0&&i-this.lastTapTime>g.DOUBLE_TAP_MILLIS?(this.eventService.dispatchEvent({type:g.EVENT_DOUBLE_TAP,touchStart:this.touchStart}),this.lastTapTime=null):this.lastTapTime=i},g.prototype.destroy=function(){this.destroyFuncs.forEach(function(i){return i()})},g.EVENT_TAP="tap",g.EVENT_DOUBLE_TAP="doubleTap",g.EVENT_LONG_TAP="longTap",g.DOUBLE_TAP_MILLIS=500,g}(),nv=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),Ta=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},rv=function(g){function i(){var t=null!==g&&g.apply(this,arguments)||this;return t.lastMovingChanged=0,t}return nv(i,g),i.prototype.destroy=function(){g.prototype.destroy.call(this)},i.prototype.refresh=function(t){return this.params=t,this.workOutTemplate()==this.currentTemplate&&this.workOutShowMenu()==this.currentShowMenu&&this.workOutSort()==this.currentSort&&(this.setDisplayName(t),!0)},i.prototype.workOutTemplate=function(){var t=Vh(this.params.template,i.TEMPLATE);return t&&t.trim?t.trim():t},i.prototype.init=function(t){this.params=t,this.currentTemplate=this.workOutTemplate(),this.setTemplate(this.currentTemplate),this.setupTap(),this.setupIcons(t.column),this.setMenu(),this.setupSort(),this.setupFilterIcon(),this.setDisplayName(t)},i.prototype.setDisplayName=function(t){if(this.currentDisplayName!=t.displayName){this.currentDisplayName=t.displayName;var s=mr(this.currentDisplayName);this.eText&&(this.eText.innerHTML=s)}},i.prototype.setupIcons=function(t){this.addInIcon("sortAscending",this.eSortAsc,t),this.addInIcon("sortDescending",this.eSortDesc,t),this.addInIcon("sortUnSort",this.eSortNone,t),this.addInIcon("menu",this.eMenu,t),this.addInIcon("filter",this.eFilter,t)},i.prototype.addInIcon=function(t,s,p){if(null!=s){var f=Mr(t,this.gridOptionsWrapper,p);f&&s.appendChild(f)}},i.prototype.setupTap=function(){var t=this,s=this.gridOptionsWrapper;if(!s.isSuppressTouch()){var p=new xi(this.getGui(),!0),f=s.isSuppressMenuHide(),_=f&&J(this.eMenu),b=_?new xi(this.eMenu,!0):p;this.params.enableMenu&&this.addManagedListener(b,xi[_?"EVENT_TAP":"EVENT_LONG_TAP"],function(G){s.getApi().showColumnMenuAfterMouseClick(t.params.column,G.touchStart)}),this.params.enableSorting&&this.addManagedListener(p,xi.EVENT_TAP,function(G){f&&t.eMenu.contains(G.touchStart.target)||t.sortController.progressSort(t.params.column,!1,"uiColumnSorted")}),this.addDestroyFunc(function(){return p.destroy()}),_&&this.addDestroyFunc(function(){return b.destroy()})}},i.prototype.workOutShowMenu=function(){var t=!this.gridOptionsWrapper.isSuppressMenuHide(),s=Dc()&&t;return this.params.enableMenu&&!s},i.prototype.setMenu=function(){var t=this;if(this.eMenu){if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu)return void fi(this.eMenu);var s=this.gridOptionsWrapper.isSuppressMenuHide();this.addManagedListener(this.eMenu,"click",function(){return t.showMenu(t.eMenu)}),this.eMenu.classList.toggle("ag-header-menu-always-show",s)}},i.prototype.showMenu=function(t){t||(t=this.eMenu),this.menuFactory.showMenuAfterButtonClick(this.params.column,t,"columnMenu")},i.prototype.removeSortIcons=function(){fi(this.eSortAsc),fi(this.eSortDesc),fi(this.eSortNone),fi(this.eSortOrder)},i.prototype.workOutSort=function(){return this.params.enableSorting},i.prototype.setupSort=function(){var t=this;if(this.currentSort=this.params.enableSorting,this.currentSort){var s=this.gridOptionsWrapper.isMultiSortKeyCtrl();this.addManagedListener(this.params.column,pn.EVENT_MOVING_CHANGED,function(){t.lastMovingChanged=(new Date).getTime()}),this.eLabel&&this.addManagedListener(this.eLabel,"click",function(p){var f=t.params.column.isMoving(),_=(new Date).getTime();f||_-t.lastMovingChanged<50||t.params.progressSort(s?p.ctrlKey||p.metaKey:p.shiftKey)}),this.addManagedListener(this.params.column,pn.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.onSortChanged(),this.addManagedListener(this.eventService,re.EVENT_SORT_CHANGED,this.setMultiSortOrder.bind(this)),this.setMultiSortOrder()}else this.removeSortIcons()},i.prototype.onSortChanged=function(){if(this.addOrRemoveCssClass("ag-header-cell-sorted-asc",this.params.column.isSortAscending()),this.addOrRemoveCssClass("ag-header-cell-sorted-desc",this.params.column.isSortDescending()),this.addOrRemoveCssClass("ag-header-cell-sorted-none",this.params.column.isSortNone()),this.eSortAsc&&this.eSortAsc.classList.toggle("ag-hidden",!this.params.column.isSortAscending()),this.eSortDesc&&this.eSortDesc.classList.toggle("ag-hidden",!this.params.column.isSortDescending()),this.eSortNone){var t=!this.params.column.getColDef().unSortIcon&&!this.gridOptionsWrapper.isUnSortIcon();this.eSortNone.classList.toggle("ag-hidden",t||!this.params.column.isSortNone())}},i.prototype.setMultiSortOrder=function(){if(this.eSortOrder){var t=this.params.column,s=this.sortController.getColumnsWithSortingOrdered(),p=s.indexOf(t),f=s.length>1,_=t.isSorting()&&f;Mn(this.eSortOrder,_),p>=0?this.eSortOrder.innerHTML=(p+1).toString():Bn(this.eSortOrder)}},i.prototype.setupFilterIcon=function(){!this.eFilter||(this.addManagedListener(this.params.column,pn.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.onFilterChanged())},i.prototype.onFilterChanged=function(){var t=this.params.column.isFilterActive();this.eFilter.classList.toggle("ag-hidden",!t)},i.TEMPLATE='<div class="ag-cell-label-container" role="presentation">\n            <span ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>\n            <div ref="eLabel" class="ag-header-cell-label" role="presentation">\n                <span ref="eText" class="ag-header-cell-text"></span>\n                <span ref="eFilter" class="ag-header-icon ag-header-label-icon ag-filter-icon" aria-hidden="true"></span>\n                <span ref="eSortOrder" class="ag-header-icon ag-header-label-icon ag-sort-order" aria-hidden="true"></span>\n                <span ref="eSortAsc" class="ag-header-icon ag-header-label-icon ag-sort-ascending-icon" aria-hidden="true"></span>\n                <span ref="eSortDesc" class="ag-header-icon ag-header-label-icon ag-sort-descending-icon" aria-hidden="true"></span>\n                <span ref="eSortNone" class="ag-header-icon ag-header-label-icon ag-sort-none-icon" aria-hidden="true"></span>\n            </div>\n        </div>',Ta([$("sortController")],i.prototype,"sortController",void 0),Ta([$("menuFactory")],i.prototype,"menuFactory",void 0),Ta([Ve("eFilter")],i.prototype,"eFilter",void 0),Ta([Ve("eSortAsc")],i.prototype,"eSortAsc",void 0),Ta([Ve("eSortDesc")],i.prototype,"eSortDesc",void 0),Ta([Ve("eSortNone")],i.prototype,"eSortNone",void 0),Ta([Ve("eSortOrder")],i.prototype,"eSortOrder",void 0),Ta([Ve("eMenu")],i.prototype,"eMenu",void 0),Ta([Ve("eLabel")],i.prototype,"eLabel",void 0),Ta([Ve("eText")],i.prototype,"eText",void 0),i}(Ut),mf=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),vf=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},iv=function(g){function i(){return g.call(this,i.TEMPLATE)||this}return mf(i,g),i.prototype.destroy=function(){g.prototype.destroy.call(this)},i.prototype.init=function(t){this.params=t,this.checkWarnings(),this.setupLabel(),this.addGroupExpandIcon(),this.setupExpandIcons()},i.prototype.checkWarnings=function(){this.params.template&&En(function(){return console.warn("AG Grid: A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)")},"HeaderGroupComp.templateNotSupported")},i.prototype.setupExpandIcons=function(){var t=this;this.addInIcon("columnGroupOpened","agOpened"),this.addInIcon("columnGroupClosed","agClosed");var s=function(_){if(!Sa(_)){var b=!t.params.columnGroup.isExpanded();t.columnModel.setColumnGroupOpened(t.params.columnGroup.getProvidedColumnGroup(),b,"uiColumnExpanded")}};this.addTouchAndClickListeners(this.eCloseIcon,s),this.addTouchAndClickListeners(this.eOpenIcon,s);var p=function(_){Os(_)};this.addManagedListener(this.eCloseIcon,"dblclick",p),this.addManagedListener(this.eOpenIcon,"dblclick",p),this.addManagedListener(this.getGui(),"dblclick",s),this.updateIconVisibility();var f=this.params.columnGroup.getProvidedColumnGroup();this.addManagedListener(f,cr.EVENT_EXPANDED_CHANGED,this.updateIconVisibility.bind(this)),this.addManagedListener(f,cr.EVENT_EXPANDABLE_CHANGED,this.updateIconVisibility.bind(this))},i.prototype.addTouchAndClickListeners=function(t,s){var p=new xi(t,!0);this.addManagedListener(p,xi.EVENT_TAP,s),this.addDestroyFunc(function(){return p.destroy()}),this.addManagedListener(t,"click",s)},i.prototype.updateIconVisibility=function(){if(this.params.columnGroup.isExpandable()){var s=this.params.columnGroup.isExpanded();Mn(this.eOpenIcon,s),Mn(this.eCloseIcon,!s)}else Mn(this.eOpenIcon,!1),Mn(this.eCloseIcon,!1)},i.prototype.addInIcon=function(t,s){var p=Mr(t,this.gridOptionsWrapper,null);p&&this.getRefElement(s).appendChild(p)},i.prototype.addGroupExpandIcon=function(){if(!this.params.columnGroup.isExpandable())return Mn(this.eOpenIcon,!1),void Mn(this.eCloseIcon,!1)},i.prototype.setupLabel=function(){var t=this.params.displayName;if(J(t)){var s=mr(t);this.getRefElement("agLabel").innerHTML=s}},i.TEMPLATE='<div class="ag-header-group-cell-label" ref="agContainer" role="presentation">\n            <span ref="agLabel" class="ag-header-group-text" role="presentation"></span>\n            <span ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span>\n            <span ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span>\n        </div>',vf([$("columnModel")],i.prototype,"columnModel",void 0),vf([Ve("agOpened")],i.prototype,"eOpenIcon",void 0),vf([Ve("agClosed")],i.prototype,"eCloseIcon",void 0),i}(Ut),tS=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),Hs=function(g){function i(){return null!==g&&g.apply(this,arguments)||this}return tS(i,g),i.prototype.isPopup=function(){return!0},i.prototype.setParentComponent=function(t){t.addCssClass("ag-has-popup"),g.prototype.setParentComponent.call(this,t)},i.prototype.destroy=function(){var t=this.parentComponent;t&&t.isAlive()&&t.getGui().classList.remove("ag-has-popup"),g.prototype.destroy.call(this)},i}(Ut),bp=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),ov=function(g){function i(){return g.call(this,i.TEMPLATE)||this}return bp(i,g),i.prototype.init=function(t){this.params=t,this.focusAfterAttached=t.cellStartedEdit,this.eTextArea.setMaxLength(t.maxLength||200).setCols(t.cols||60).setRows(t.rows||10),J(t.value)&&this.eTextArea.setValue(t.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this))},i.prototype.onKeyDown=function(t){var s=t.key;(s===We.LEFT||s===We.UP||s===We.RIGHT||s===We.DOWN||t.shiftKey&&s===We.ENTER)&&t.stopPropagation()},i.prototype.afterGuiAttached=function(){var t=this.gridOptionsWrapper.getLocaleTextFunc();this.eTextArea.setInputAriaLabel(t("ariaInputEditor","Input Editor")),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()},i.prototype.getValue=function(){return this.params.parseValue(this.eTextArea.getValue())},i.TEMPLATE='<div class="ag-large-text" tabindex="0">\n            <ag-input-text-area ref="eTextArea" class="ag-large-text-input"></ag-input-text-area>\n        </div>',function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);p>3&&f&&Object.defineProperty(i,t,f)}([Ve("eTextArea")],i.prototype,"eTextArea",void 0),i}(Hs),av=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),os=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},fr=function(g){function i(){var t=g.call(this,'<div class="ag-cell-edit-wrapper"><ag-select class="ag-cell-editor" ref="eSelect"></ag-select></div>')||this;return t.startedByEnter=!1,t}return av(i,g),i.prototype.init=function(t){var s=this;if(this.focusAfterAttached=t.cellStartedEdit,E(t.values))console.warn("AG Grid: no values found for select cellEditor");else{this.startedByEnter=null!=t.key&&t.key===We.ENTER;var p=!1;t.values.forEach(function(f){var _={value:f},b=s.valueFormatterService.formatValue(t.column,null,null,f);_.text=null!=b?b:f,s.eSelect.addOption(_),p=p||t.value===f}),p?this.eSelect.setValue(t.value,!0):t.values.length&&this.eSelect.setValue(t.values[0],!0),this.gridOptionsWrapper.isFullRowEdit()||this.eSelect.onValueChange(function(){return t.stopEditing()})}},i.prototype.afterGuiAttached=function(){this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&this.eSelect.showPicker()},i.prototype.focusIn=function(){this.eSelect.getFocusableElement().focus()},i.prototype.getValue=function(){return this.eSelect.getValue()},i.prototype.isPopup=function(){return!1},os([$("valueFormatterService")],i.prototype,"valueFormatterService",void 0),os([Ve("eSelect")],i.prototype,"eSelect",void 0),i}(Hs),wp=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),Qo=function(g){function i(){return null!==g&&g.apply(this,arguments)||this}return wp(i,g),i.prototype.isPopup=function(){return!0},i}(fr),xu=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),vo=function(g){function i(){return g.call(this,i.TEMPLATE)||this}return xu(i,g),i.prototype.init=function(t){this.params=t;var p,s=this.eInput;t.cellStartedEdit?(this.focusAfterAttached=!0,t.key===We.BACKSPACE||t.key===We.DELETE?p="":t.charPress?p=t.charPress:(p=this.getStartValue(t),t.key!==We.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,p=this.getStartValue(t)),null!=p&&s.setValue(p,!0),this.addManagedListener(s.getGui(),"keydown",function(f){var _=f.key;(_===We.PAGE_UP||_===We.PAGE_DOWN)&&f.preventDefault()})},i.prototype.afterGuiAttached=function(){var t=this.gridOptionsWrapper.getLocaleTextFunc(),s=this.eInput;if(s.setInputAriaLabel(t("ariaInputEditor","Input Editor")),this.focusAfterAttached){Gm()||s.getFocusableElement().focus();var p=s.getInputElement();if(this.highlightAllOnFocus)p.select();else{var f=s.getValue(),_=J(f)&&f.length||0;_&&p.setSelectionRange(_,_)}}},i.prototype.focusIn=function(){var t=this.eInput,s=t.getFocusableElement(),p=t.getInputElement();s.focus(),p.select()},i.prototype.getValue=function(){return this.params.parseValue(this.eInput.getValue())},i.prototype.getStartValue=function(t){return t.useFormatter||t.column.getColDef().refData?t.formatValue(t.value):t.value},i.prototype.isPopup=function(){return!1},i.TEMPLATE='<div class="ag-cell-edit-wrapper"><ag-input-text-field class="ag-cell-editor" ref="eInput"></ag-input-text-field></div>',function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);p>3&&f&&Object.defineProperty(i,t,f)}([Ve("eInput")],i.prototype,"eInput",void 0),i}(Hs),Sp=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),yf=function(g){function i(){return null!==g&&g.apply(this,arguments)||this}return Sp(i,g),i.prototype.isPopup=function(){return!0},i}(vo),Bc=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),lv=function(g){function i(){var t=g.call(this,i.TEMPLATE)||this;return t.refreshCount=0,t}return Bc(i,g),i.prototype.init=function(t){this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(t)},i.prototype.showDelta=function(t,s){var p=Math.abs(s),f=t.formatValue(p),_=J(f)?f:p,b=s>=0;this.eDelta.innerHTML=b?"\u2191"+_:"\u2193"+_,this.eDelta.classList.toggle("ag-value-change-delta-up",b),this.eDelta.classList.toggle("ag-value-change-delta-down",!b)},i.prototype.setTimerToRemoveDelta=function(){var t=this;this.refreshCount++;var s=this.refreshCount;window.setTimeout(function(){s===t.refreshCount&&t.hideDeltaValue()},2e3)},i.prototype.hideDeltaValue=function(){this.eValue.classList.remove("ag-value-change-value-highlight"),Bn(this.eDelta)},i.prototype.refresh=function(t){var s=t.value;return s!==this.lastValue&&(J(t.valueFormatted)?this.eValue.innerHTML=t.valueFormatted:J(t.value)?this.eValue.innerHTML=s:Bn(this.eValue),!this.filterManager.isSuppressFlashingCellsBecauseFiltering())&&("number"==typeof s&&"number"==typeof this.lastValue&&this.showDelta(t,s-this.lastValue),this.lastValue&&this.eValue.classList.add("ag-value-change-value-highlight"),this.setTimerToRemoveDelta(),this.lastValue=s,!0)},i.TEMPLATE='<span><span class="ag-value-change-delta"></span><span class="ag-value-change-value"></span></span>',function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);p>3&&f&&Object.defineProperty(i,t,f)}([$("filterManager")],i.prototype,"filterManager",void 0),i}(Ut),uv=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),dv=function(g){function i(){var t=g.call(this,i.TEMPLATE)||this;return t.refreshCount=0,t.eCurrent=t.queryForHtmlElement(".ag-value-slide-current"),t}return uv(i,g),i.prototype.init=function(t){this.refresh(t)},i.prototype.addSlideAnimation=function(){var t=this;this.refreshCount++;var s=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious),this.ePrevious=zn('<span class="ag-value-slide-previous ag-value-slide-out"></span>'),this.ePrevious.innerHTML=this.eCurrent.innerHTML,this.getGui().insertBefore(this.ePrevious,this.eCurrent),window.setTimeout(function(){s===t.refreshCount&&t.ePrevious.classList.add("ag-value-slide-out-end")},50),window.setTimeout(function(){s===t.refreshCount&&(t.getGui().removeChild(t.ePrevious),t.ePrevious=null)},3e3)},i.prototype.refresh=function(t){var s=t.value;return E(s)&&(s=""),s!==this.lastValue&&!this.filterManager.isSuppressFlashingCellsBecauseFiltering()&&(this.addSlideAnimation(),this.lastValue=s,J(t.valueFormatted)?this.eCurrent.innerHTML=t.valueFormatted:J(t.value)?this.eCurrent.innerHTML=s:Bn(this.eCurrent),!0)},i.TEMPLATE='<span>\n            <span class="ag-value-slide-current"></span>\n        </span>',function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);p>3&&f&&Object.defineProperty(i,t,f)}([$("filterManager")],i.prototype,"filterManager",void 0),i}(Ut);!function(g){g[g.Above=0]="Above",g[g.Below=1]="Below"}(B.RowHighlightPosition||(B.RowHighlightPosition={}));var Rt=function(){function g(i){this.rowIndex=null,this.key=null,this.childrenMapped={},this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=g.OBJECT_ID_SEQUENCE++,this.__autoHeights={},this.alreadyRendered=!1,this.highlighted=null,this.selected=!1,this.beans=i}return g.prototype.setData=function(i){this.setDataCommon(i,!1)},g.prototype.updateData=function(i){this.setDataCommon(i,!0)},g.prototype.setDataCommon=function(i,t){var s=this.data;this.data=i,this.beans.valueCache.onDataChanged(),this.updateDataOnDetailNode(),this.checkRowSelectable();var p=this.createDataChangedEvent(i,s,t);this.dispatchLocalEvent(p)},g.prototype.updateDataOnDetailNode=function(){this.detailNode&&(this.detailNode.data=this.data)},g.prototype.createDataChangedEvent=function(i,t,s){return{type:g.EVENT_DATA_CHANGED,node:this,oldData:t,newData:i,update:s}},g.prototype.createLocalRowEvent=function(i){return{type:i,node:this}},g.prototype.getRowIndexString=function(){return this.rowPinned===me.PINNED_TOP?"t-"+this.rowIndex:this.rowPinned===me.PINNED_BOTTOM?"b-"+this.rowIndex:this.rowIndex.toString()},g.prototype.createDaemonNode=function(){var i=new g(this.beans);return i.id=this.id,i.data=this.data,i.daemon=!0,i.selected=this.selected,i.level=this.level,i},g.prototype.setDataAndId=function(i,t){var s=J(this.id)?this.createDaemonNode():null,p=this.data;this.data=i,this.updateDataOnDetailNode(),this.setId(t),this.beans.selectionService.syncInRowNode(this,s),this.checkRowSelectable();var f=this.createDataChangedEvent(i,p,!1);this.dispatchLocalEvent(f)},g.prototype.checkRowSelectable=function(){var i=this.beans.gridOptionsWrapper.getIsRowSelectableFunc();this.setRowSelectable(!i||i(this))},g.prototype.setRowSelectable=function(i){this.selectable!==i&&(this.selectable=i,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(g.EVENT_SELECTABLE_CHANGED)))},g.prototype.setId=function(i){var t=this.beans.gridOptionsWrapper.getRowNodeIdFunc();t?this.data?(this.id=t(this.data),null!==this.id&&"string"==typeof this.id&&this.id.startsWith(g.ID_PREFIX_ROW_GROUP)&&console.error("AG Grid: Row ID's cannot start with "+g.ID_PREFIX_ROW_GROUP+", this is a reserved prefix for AG Grid's row grouping feature."),null!==this.id&&"string"!=typeof this.id&&(this.id=""+this.id)):this.id=void 0:this.id=i},g.prototype.isPixelInRange=function(i){return!(!J(this.rowTop)||!J(this.rowHeight))&&i>=this.rowTop&&i<this.rowTop+this.rowHeight},g.prototype.setFirstChild=function(i){this.firstChild!==i&&(this.firstChild=i,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(g.EVENT_FIRST_CHILD_CHANGED)))},g.prototype.setLastChild=function(i){this.lastChild!==i&&(this.lastChild=i,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(g.EVENT_LAST_CHILD_CHANGED)))},g.prototype.setChildIndex=function(i){this.childIndex!==i&&(this.childIndex=i,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(g.EVENT_CHILD_INDEX_CHANGED)))},g.prototype.setRowTop=function(i){this.oldRowTop=this.rowTop,this.rowTop!==i&&(this.rowTop=i,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(g.EVENT_TOP_CHANGED)),this.setDisplayed(null!==i))},g.prototype.clearRowTopAndRowIndex=function(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)},g.prototype.setDisplayed=function(i){this.displayed!==i&&(this.displayed=i,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(g.EVENT_DISPLAYED_CHANGED)))},g.prototype.setDragging=function(i){this.dragging!==i&&(this.dragging=i,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(g.EVENT_DRAGGING_CHANGED)))},g.prototype.setHighlighted=function(i){i!==this.highlighted&&(this.highlighted=i,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(g.EVENT_HIGHLIGHT_CHANGED)))},g.prototype.setAllChildrenCount=function(i){this.allChildrenCount!==i&&(this.allChildrenCount=i,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(g.EVENT_ALL_CHILDREN_COUNT_CHANGED)))},g.prototype.setMaster=function(i){this.master!==i&&(this.master&&!i&&(this.expanded=!1),this.master=i,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(g.EVENT_MASTER_CHANGED)))},g.prototype.setGroup=function(i){this.group!==i&&(this.group&&!i&&(this.expanded=!1),this.group=i,this.updateHasChildren(),this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(g.EVENT_GROUP_CHANGED)))},g.prototype.setRowHeight=function(i,t){void 0===t&&(t=!1),this.rowHeight=i,this.rowHeightEstimated=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(g.EVENT_HEIGHT_CHANGED))},g.prototype.setRowAutoHeight=function(i,t){this.__autoHeights||(this.__autoHeights={}),this.__autoHeights[t.getId()]=i,null!=i&&(null==this.checkAutoHeightsDebounced&&(this.checkAutoHeightsDebounced=pu(this.checkAutoHeights.bind(this),1)),this.checkAutoHeightsDebounced())},g.prototype.checkAutoHeights=function(){var i=!1,t=!0,s=0,p=this.__autoHeights;if(null!=p&&(this.beans.columnModel.getAllDisplayedAutoHeightCols().forEach(function(b){var A=p[b.getId()];null!=A?(t=!1,A>s&&(s=A)):i=!0}),!i&&((t||s<10)&&(s=this.beans.gridOptionsWrapper.getRowHeightForNode(this).height),s!=this.rowHeight))){this.setRowHeight(s);var _=this.beans.rowModel;_.onRowHeightChanged&&_.onRowHeightChanged()}},g.prototype.setRowIndex=function(i){this.rowIndex!==i&&(this.rowIndex=i,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(g.EVENT_ROW_INDEX_CHANGED)))},g.prototype.setUiLevel=function(i){this.uiLevel!==i&&(this.uiLevel=i,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(g.EVENT_UI_LEVEL_CHANGED)))},g.prototype.setExpanded=function(i){if(this.expanded!==i){this.expanded=i,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(g.EVENT_EXPANDED_CHANGED));var t=Object.assign({},this.createGlobalRowEvent(re.EVENT_ROW_GROUP_OPENED),{expanded:i});this.beans.rowNodeEventThrottle.dispatchExpanded(t),this.beans.gridOptionsWrapper.isGroupIncludeFooter()&&this.beans.rowRenderer.refreshCells({rowNodes:[this]})}},g.prototype.createGlobalRowEvent=function(i){return{type:i,node:this,data:this.data,rowIndex:this.rowIndex,rowPinned:this.rowPinned,context:this.beans.gridOptionsWrapper.getContext(),api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi()}},g.prototype.dispatchLocalEvent=function(i){this.eventService&&this.eventService.dispatchEvent(i)},g.prototype.setDataValue=function(i,t,s){var p=this.beans.columnModel.getPrimaryColumn(i),f=this.beans.valueService.getValue(p,this);this.beans.valueService.setValue(this,p,t,s),this.dispatchCellChangedEvent(p,t,f)},g.prototype.setGroupValue=function(i,t){var s=this.beans.columnModel.getGridColumn(i);E(this.groupData)&&(this.groupData={});var p=s.getColId(),f=this.groupData[p];f!==t&&(this.groupData[p]=t,this.dispatchCellChangedEvent(s,t,f))},g.prototype.setAggData=function(i){var t=this,s=Ih([this.aggData,i]),p=this.aggData;this.aggData=i,this.eventService&&s.forEach(function(f){var _=t.beans.columnModel.getGridColumn(f);t.dispatchCellChangedEvent(_,t.aggData?t.aggData[f]:void 0,p?p[f]:void 0)})},g.prototype.updateHasChildren=function(){var i=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;i!==this.__hasChildren&&(this.__hasChildren=!!i,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(g.EVENT_HAS_CHILDREN_CHANGED)))},g.prototype.hasChildren=function(){return null==this.__hasChildren&&this.updateHasChildren(),this.__hasChildren},g.prototype.isEmptyRowGroupNode=function(){return this.group&&Bi(this.childrenAfterGroup)},g.prototype.dispatchCellChangedEvent=function(i,t,s){this.dispatchLocalEvent({type:g.EVENT_CELL_CHANGED,node:this,column:i,newValue:t,oldValue:s})},g.prototype.resetQuickFilterAggregateText=function(){this.quickFilterAggregateText=null},g.prototype.isExpandable=function(){return!!(this.hasChildren()&&!this.footer||this.master)},g.prototype.isSelected=function(){return this.footer?this.sibling.isSelected():this.selected},g.prototype.depthFirstSearch=function(i){this.childrenAfterGroup&&this.childrenAfterGroup.forEach(function(t){return t.depthFirstSearch(i)}),i(this)},g.prototype.calculateSelectedFromChildren=function(){var i=!1,t=!1,s=!1;if(this.childrenAfterGroup)for(var f=0;f<this.childrenAfterGroup.length;f++){var _=this.childrenAfterGroup[f];if(_.selectable)switch(_.isSelected()){case!0:i=!0;break;case!1:t=!0;break;default:s=!0}}this.selectThisNode(s?void 0:!(!i||t)||!(!i&&t)&&void 0)},g.prototype.setSelectedInitialValue=function(i){this.selected=i},g.prototype.setSelected=function(i,t,s){void 0===t&&(t=!1),void 0===s&&(s=!1),this.setSelectedParams({newValue:i,clearSelection:t,suppressFinishActions:s,rangeSelect:!1})},g.prototype.isRowPinned=function(){return this.rowPinned===me.PINNED_TOP||this.rowPinned===me.PINNED_BOTTOM},g.prototype.setSelectedParams=function(i){var t=this.beans.gridOptionsWrapper.isGroupSelectsChildren(),s=!0===i.newValue,p=!0===i.clearSelection,f=!0===i.suppressFinishActions,_=!0===i.rangeSelect,b=t&&!0===i.groupSelectsFiltered;if(void 0===this.id)return console.warn("AG Grid: cannot select node until id for node is known"),0;if(this.rowPinned)return console.warn("AG Grid: cannot select pinned rows"),0;if(this.footer)return this.sibling.setSelectedParams(i);if(_&&this.beans.selectionService.getLastSelectedNode()){var A=this.beans.selectionService.getLastSelectedNode()!==this,M=this.beans.gridOptionsWrapper.isRowSelectionMulti();if(A&&M){var L=this.doRowRangeSelection(i.newValue);return this.beans.selectionService.setLastSelectedNode(this),L}}var G=0;return b&&this.group||this.selectThisNode(s)&&G++,t&&this.group&&(G+=this.selectChildNodes(s,b)),f||(s&&(p||!this.beans.gridOptionsWrapper.isRowSelectionMulti())&&(G+=this.beans.selectionService.clearOtherNodes(this)),G>0&&(this.beans.selectionService.updateGroupsFromChildrenSelections(),this.beans.eventService.dispatchEvent({type:re.EVENT_SELECTION_CHANGED,api:this.beans.gridApi,columnApi:this.beans.columnApi})),s&&this.beans.selectionService.setLastSelectedNode(this)),G},g.prototype.doRowRangeSelection=function(i){var t=this;void 0===i&&(i=!0);var s=this.beans.gridOptionsWrapper.isGroupSelectsChildren(),p=this.beans.selectionService.getLastSelectedNode(),f=this.beans.rowModel.getNodesInRangeForSelection(this,p),_=0;return f.forEach(function(A){A.group&&s||!1===i&&t===A||A.selectThisNode(i)&&_++}),this.beans.selectionService.updateGroupsFromChildrenSelections(),this.beans.eventService.dispatchEvent({type:re.EVENT_SELECTION_CHANGED,api:this.beans.gridApi,columnApi:this.beans.columnApi}),_},g.prototype.isParentOfNode=function(i){for(var t=this.parent;t;){if(t===i)return!0;t=t.parent}return!1},g.prototype.selectThisNode=function(i){if(!this.selectable&&i||this.selected===i)return!1;this.selected=i,this.eventService&&this.dispatchLocalEvent(this.createLocalRowEvent(g.EVENT_ROW_SELECTED));var p=this.createGlobalRowEvent(re.EVENT_ROW_SELECTED);return this.beans.eventService.dispatchEvent(p),!0},g.prototype.selectChildNodes=function(i,t){var s=t?this.childrenAfterFilter:this.childrenAfterGroup;if(E(s))return 0;for(var p=0,f=0;f<s.length;f++)p+=s[f].setSelectedParams({newValue:i,clearSelection:!1,suppressFinishActions:!0,groupSelectsFiltered:t});return p},g.prototype.addEventListener=function(i,t){this.eventService||(this.eventService=new wl),this.eventService.addEventListener(i,t)},g.prototype.removeEventListener=function(i,t){!this.eventService||(this.eventService.removeEventListener(i,t),this.eventService.noRegisteredListenersExist()&&(this.eventService=null))},g.prototype.onMouseEnter=function(){this.dispatchLocalEvent(this.createLocalRowEvent(g.EVENT_MOUSE_ENTER))},g.prototype.onMouseLeave=function(){this.dispatchLocalEvent(this.createLocalRowEvent(g.EVENT_MOUSE_LEAVE))},g.prototype.getFirstChildOfFirstChild=function(i){for(var t=this,s=!0,p=!1,f=null;s&&!p;){var _=t.parent;J(_)&&t.firstChild?_.rowGroupColumn===i&&(p=!0,f=_):s=!1,t=_}return p?f:null},g.prototype.isFullWidthCell=function(){var i=this.beans.gridOptionsWrapper.getIsFullWidthCellFunc();return!!i&&i(this)},g.prototype.getRoute=function(){if(null!=this.key){for(var i=[],t=this;null!=t.key;)i.push(t.key),t=t.parent;return i.reverse()}},g.ID_PREFIX_ROW_GROUP="row-group-",g.ID_PREFIX_TOP_PINNED="t-",g.ID_PREFIX_BOTTOM_PINNED="b-",g.OBJECT_ID_SEQUENCE=0,g.EVENT_ROW_SELECTED="rowSelected",g.EVENT_DATA_CHANGED="dataChanged",g.EVENT_CELL_CHANGED="cellChanged",g.EVENT_ALL_CHILDREN_COUNT_CHANGED="allChildrenCountChanged",g.EVENT_MASTER_CHANGED="masterChanged",g.EVENT_GROUP_CHANGED="groupChanged",g.EVENT_MOUSE_ENTER="mouseEnter",g.EVENT_MOUSE_LEAVE="mouseLeave",g.EVENT_HEIGHT_CHANGED="heightChanged",g.EVENT_TOP_CHANGED="topChanged",g.EVENT_DISPLAYED_CHANGED="displayedChanged",g.EVENT_FIRST_CHILD_CHANGED="firstChildChanged",g.EVENT_LAST_CHILD_CHANGED="lastChildChanged",g.EVENT_CHILD_INDEX_CHANGED="childIndexChanged",g.EVENT_ROW_INDEX_CHANGED="rowIndexChanged",g.EVENT_EXPANDED_CHANGED="expandedChanged",g.EVENT_HAS_CHILDREN_CHANGED="hasChildrenChanged",g.EVENT_SELECTABLE_CHANGED="selectableChanged",g.EVENT_UI_LEVEL_CHANGED="uiLevelChanged",g.EVENT_HIGHLIGHT_CHANGED="rowHighlightChanged",g.EVENT_DRAGGING_CHANGED="draggingChanged",g}(),wD=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),iS=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},Au=function(g){function i(){return g.call(this,'\n            <div class="ag-selection-checkbox" role="presentation">\n                <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>\n            </div>')||this}return wD(i,g),i.prototype.postConstruct=function(){this.eCheckbox.setPassive(!0)},i.prototype.getCheckboxId=function(){return this.eCheckbox.getInputElement().id},i.prototype.onDataChanged=function(){this.onSelectionChanged()},i.prototype.onSelectableChanged=function(){this.showOrHideSelect()},i.prototype.onSelectionChanged=function(){var t=this.gridOptionsWrapper.getLocaleTextFunc(),s=this.rowNode.isSelected(),p=void 0===s?t("ariaIndeterminate","indeterminate"):!0===s?t("ariaChecked","checked"):t("ariaUnchecked","unchecked"),f=t("ariaRowToggleSelection","Press Space to toggle row selection");this.eCheckbox.setValue(s,!0),this.eCheckbox.setInputAriaLabel(f+" ("+p+")")},i.prototype.onCheckedClicked=function(t){var s=this.gridOptionsWrapper.isGroupSelectsFiltered();return this.rowNode.setSelectedParams({newValue:!1,rangeSelect:t.shiftKey,groupSelectsFiltered:s})},i.prototype.onUncheckedClicked=function(t){var s=this.gridOptionsWrapper.isGroupSelectsFiltered();return this.rowNode.setSelectedParams({newValue:!0,rangeSelect:t.shiftKey,groupSelectsFiltered:s})},i.prototype.init=function(t){var s=this;if(this.rowNode=t.rowNode,this.column=t.column,this.onSelectionChanged(),this.addGuiEventListener("click",function(b){return Os(b)}),this.addGuiEventListener("dblclick",function(b){return Os(b)}),this.addManagedListener(this.eCheckbox.getInputElement(),"click",function(b){var A=s.eCheckbox.getValue();void 0===s.eCheckbox.getPreviousValue()?0===s.onUncheckedClicked(b||{})&&s.onCheckedClicked(b):A?s.onCheckedClicked(b):s.onUncheckedClicked(b||{})}),this.addManagedListener(this.rowNode,Rt.EVENT_ROW_SELECTED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.rowNode,Rt.EVENT_DATA_CHANGED,this.onDataChanged.bind(this)),this.addManagedListener(this.rowNode,Rt.EVENT_SELECTABLE_CHANGED,this.onSelectableChanged.bind(this)),this.gridOptionsWrapper.getIsRowSelectableFunc()||this.checkboxCallbackExists()){var _=this.showOrHideSelect.bind(this);this.addManagedListener(this.eventService,re.EVENT_DISPLAYED_COLUMNS_CHANGED,_),this.addManagedListener(this.rowNode,Rt.EVENT_DATA_CHANGED,_),this.addManagedListener(this.rowNode,Rt.EVENT_CELL_CHANGED,_),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")},i.prototype.showOrHideSelect=function(){var t=this.rowNode.selectable;t&&this.checkboxCallbackExists()&&(t=this.column.isCellCheckboxSelection(this.rowNode)),this.setVisible(t)},i.prototype.checkboxCallbackExists=function(){var t=this.column?this.column.getColDef():null;return!!t&&"function"==typeof t.checkboxSelection},iS([Ve("eCheckbox")],i.prototype,"eCheckbox",void 0),iS([$e],i.prototype,"postConstruct",null),i}(Ut),SD=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),On=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},Ao=function(g){var i="function"==typeof Symbol&&Symbol.iterator,t=i&&g[i],s=0;if(t)return t.call(g);if(g&&"number"==typeof g.length)return{next:function(){return g&&s>=g.length&&(g=void 0),{value:g&&g[s++],done:!g}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(g){g[g.ToolPanel=0]="ToolPanel",g[g.HeaderCell=1]="HeaderCell",g[g.RowDrag=2]="RowDrag",g[g.ChartPanel=3]="ChartPanel"})(B.DragSourceType||(B.DragSourceType={})),function(g){g[g.Up=0]="Up",g[g.Down=1]="Down"}(B.VerticalDirection||(B.VerticalDirection={})),function(g){g[g.Left=0]="Left",g[g.Right=1]="Right"}(B.HorizontalDirection||(B.HorizontalDirection={}));var sr=function(g){function i(){var s=null!==g&&g.apply(this,arguments)||this;return s.dragSourceAndParamsList=[],s.dropTargets=[],s}var t;return SD(i,g),t=i,i.prototype.init=function(){this.ePinnedIcon=Fn("columnMovePin",this.gridOptionsWrapper,null),this.eHideIcon=Fn("columnMoveHide",this.gridOptionsWrapper,null),this.eMoveIcon=Fn("columnMoveMove",this.gridOptionsWrapper,null),this.eLeftIcon=Fn("columnMoveLeft",this.gridOptionsWrapper,null),this.eRightIcon=Fn("columnMoveRight",this.gridOptionsWrapper,null),this.eGroupIcon=Fn("columnMoveGroup",this.gridOptionsWrapper,null),this.eAggregateIcon=Fn("columnMoveValue",this.gridOptionsWrapper,null),this.ePivotIcon=Fn("columnMovePivot",this.gridOptionsWrapper,null),this.eDropNotAllowedIcon=Fn("dropNotAllowed",this.gridOptionsWrapper,null)},i.prototype.addDragSource=function(s,p){void 0===p&&(p=!1);var f={eElement:s.eElement,dragStartPixels:s.dragStartPixels,onDragStart:this.onDragStart.bind(this,s),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this)};this.dragSourceAndParamsList.push({params:f,dragSource:s}),this.dragService.addDragSource(f,p)},i.prototype.removeDragSource=function(s){var p=this.dragSourceAndParamsList.find(function(f){return f.dragSource===s});p&&(this.dragService.removeDragSource(p.params),Pn(this.dragSourceAndParamsList,p))},i.prototype.clearDragSourceParamsList=function(){var s=this;this.dragSourceAndParamsList.forEach(function(p){return s.dragService.removeDragSource(p.params)}),this.dragSourceAndParamsList.length=0},i.prototype.nudge=function(){this.dragging&&this.onDragging(this.eventLastTime,!0)},i.prototype.onDragStart=function(s,p){this.dragging=!0,this.dragSource=s,this.eventLastTime=p,this.dragItem=this.dragSource.getDragItem(),this.lastDropTarget=this.dragSource.dragSourceDropTarget,this.dragSource.onDragStarted&&this.dragSource.onDragStarted(),this.createGhost()},i.prototype.onDragStop=function(s){if(this.eventLastTime=null,this.dragging=!1,this.dragSource.onDragStopped&&this.dragSource.onDragStopped(),this.lastDropTarget&&this.lastDropTarget.onDragStop){var p=this.createDropTargetEvent(this.lastDropTarget,s,null,null,!1);this.lastDropTarget.onDragStop(p)}this.lastDropTarget=null,this.dragItem=null,this.removeGhost()},i.prototype.onDragging=function(s,p){var f=this,_=this.getHorizontalDirection(s),b=this.getVerticalDirection(s);this.eventLastTime=s,this.positionGhost(s);var A=this.dropTargets.filter(function(U){return f.isMouseOnDropTarget(s,U)}),M=A.length,L=null;if(M>0&&(L=1===M?A[0]:A.reduce(function(U,te){if(!U)return te;var le=U.getContainer(),ge=te.getContainer();return le.contains(ge)?te:U})),L!==this.lastDropTarget)this.leaveLastTargetIfExists(s,_,b,p),this.enterDragTargetIfExists(L,s,_,b,p),this.lastDropTarget=L;else if(L&&L.onDragging){var G=this.createDropTargetEvent(L,s,_,b,p);L.onDragging(G)}},i.prototype.enterDragTargetIfExists=function(s,p,f,_,b){if(s){if(s.onDragEnter){var A=this.createDropTargetEvent(s,p,f,_,b);s.onDragEnter(A)}this.setGhostIcon(s.getIconName?s.getIconName():null)}},i.prototype.leaveLastTargetIfExists=function(s,p,f,_){if(this.lastDropTarget){if(this.lastDropTarget.onDragLeave){var b=this.createDropTargetEvent(this.lastDropTarget,s,p,f,_);this.lastDropTarget.onDragLeave(b)}this.setGhostIcon(null)}},i.prototype.getAllContainersFromDropTarget=function(s){var p=s.getSecondaryContainers?s.getSecondaryContainers():null,f=[[s.getContainer()]];return p?f.concat(p):f},i.prototype.allContainersIntersect=function(s,p){var f,_;try{for(var b=Ao(p),A=b.next();!A.done;A=b.next()){var L=A.value.getBoundingClientRect();if(0===L.width||0===L.height)return!1;if(!(s.clientX>=L.left&&s.clientX<L.right&&s.clientY>=L.top&&s.clientY<L.bottom))return!1}}catch(te){f={error:te}}finally{try{A&&!A.done&&(_=b.return)&&_.call(b)}finally{if(f)throw f.error}}return!0},i.prototype.isMouseOnDropTarget=function(s,p){var f,_,b=this.getAllContainersFromDropTarget(p),A=!1;try{for(var M=Ao(b),L=M.next();!L.done;L=M.next())if(this.allContainersIntersect(s,L.value)){A=!0;break}}catch(U){f={error:U}}finally{try{L&&!L.done&&(_=M.return)&&_.call(M)}finally{if(f)throw f.error}}return A&&p.isInterestedIn(this.dragSource.type)},i.prototype.addDropTarget=function(s){this.dropTargets.push(s)},i.prototype.removeDropTarget=function(s){this.dropTargets=this.dropTargets.filter(function(p){return p.getContainer()!==s.getContainer()})},i.prototype.hasExternalDropZones=function(){return this.dropTargets.some(function(s){return s.external})},i.prototype.findExternalZone=function(s){return this.dropTargets.filter(function(f){return f.external}).find(function(f){return f.getContainer()===s.getContainer()})||null},i.prototype.getHorizontalDirection=function(s){var p=this.eventLastTime&&this.eventLastTime.clientX,f=s.clientX;return p===f?null:p>f?B.HorizontalDirection.Left:B.HorizontalDirection.Right},i.prototype.getVerticalDirection=function(s){var p=this.eventLastTime&&this.eventLastTime.clientY,f=s.clientY;return p===f?null:p>f?B.VerticalDirection.Up:B.VerticalDirection.Down},i.prototype.createDropTargetEvent=function(s,p,f,_,b){var A=s.getContainer(),M=A.getBoundingClientRect(),L=this;return{event:p,x:p.clientX-M.left,y:p.clientY-M.top,vDirection:_,hDirection:f,dragSource:L.dragSource,fromNudge:b,dragItem:L.dragItem,api:L.gridApi,columnApi:L.columnApi,dropZoneTarget:A}},i.prototype.positionGhost=function(s){var p=this.eGhost;if(p){var _=p.getBoundingClientRect().height,b=Xn()-2,A=ip()-2,M=s.pageY-_/2,L=s.pageX-10,G=this.gridOptionsWrapper.getDocument(),U=G.defaultView||window,te=U.pageYOffset||G.documentElement.scrollTop,le=U.pageXOffset||G.documentElement.scrollLeft;b>0&&L+p.clientWidth>b+le&&(L=b+le-p.clientWidth),L<0&&(L=0),A>0&&M+p.clientHeight>A+te&&(M=A+te-p.clientHeight),M<0&&(M=0),p.style.left=L+"px",p.style.top=M+"px"}},i.prototype.removeGhost=function(){this.eGhost&&this.eGhostParent&&this.eGhostParent.removeChild(this.eGhost),this.eGhost=null},i.prototype.createGhost=function(){this.eGhost=zn(t.GHOST_TEMPLATE);var s=this.environment.getTheme().theme;s&&this.eGhost.classList.add(s),this.eGhostIcon=this.eGhost.querySelector(".ag-dnd-ghost-icon"),this.setGhostIcon(null);var p=this.eGhost.querySelector(".ag-dnd-ghost-label"),f=this.dragSource.dragItemName;Ci(f)&&(f=f()),p.innerHTML=mr(f)||"",this.eGhost.style.height="25px",this.eGhost.style.top="20px",this.eGhost.style.left="20px";var _=this.gridOptionsWrapper.getDocument(),b=null;try{b=_.fullscreenElement}catch(A){}finally{b||(b=_.querySelector("body"))}this.eGhostParent=b,this.eGhostParent?this.eGhostParent.appendChild(this.eGhost):console.warn("AG Grid: could not find document body, it is needed for dragging columns")},i.prototype.setGhostIcon=function(s,p){void 0===p&&(p=!1),Bn(this.eGhostIcon);var f=null;switch(s||(s=this.dragSource.defaultIconName||t.ICON_NOT_ALLOWED),s){case t.ICON_PINNED:f=this.ePinnedIcon;break;case t.ICON_MOVE:f=this.eMoveIcon;break;case t.ICON_LEFT:f=this.eLeftIcon;break;case t.ICON_RIGHT:f=this.eRightIcon;break;case t.ICON_GROUP:f=this.eGroupIcon;break;case t.ICON_AGGREGATE:f=this.eAggregateIcon;break;case t.ICON_PIVOT:f=this.ePivotIcon;break;case t.ICON_NOT_ALLOWED:f=this.eDropNotAllowedIcon;break;case t.ICON_HIDE:f=this.eHideIcon}this.eGhostIcon.classList.toggle("ag-shake-left-to-right",p),(f!==this.eHideIcon||!this.gridOptionsWrapper.isSuppressDragLeaveHidesColumns())&&f&&this.eGhostIcon.appendChild(f)},i.ICON_PINNED="pinned",i.ICON_MOVE="move",i.ICON_LEFT="left",i.ICON_RIGHT="right",i.ICON_GROUP="group",i.ICON_AGGREGATE="aggregate",i.ICON_PIVOT="pivot",i.ICON_NOT_ALLOWED="notAllowed",i.ICON_HIDE="hide",i.GHOST_TEMPLATE='<div class="ag-dnd-ghost ag-unselectable">\n            <span class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>\n            <div class="ag-dnd-ghost-label"></div>\n        </div>',On([$("dragService")],i.prototype,"dragService",void 0),On([$("environment")],i.prototype,"environment",void 0),On([$("columnApi")],i.prototype,"columnApi",void 0),On([$("gridApi")],i.prototype,"gridApi",void 0),On([$e],i.prototype,"init",null),On([hi],i.prototype,"clearDragSourceParamsList",null),t=On([tt("dragAndDropService")],i)}(Ge),Ws=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),Tu=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},Ai=function(g){function i(t,s,p,f,_,b){var A=g.call(this)||this;return A.cellValueFn=t,A.rowNode=s,A.column=p,A.customGui=f,A.dragStartPixels=_,A.suppressVisibilityChange=b,A.dragSource=null,A}return Ws(i,g),i.prototype.isCustomGui=function(){return null!=this.customGui},i.prototype.postConstruct=function(){if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate('<div class="ag-drag-handle ag-row-drag" aria-hidden="true"></div>'),this.getGui().appendChild(Mr("rowDrag",this.beans.gridOptionsWrapper,null)),this.addDragSource()),this.checkCompatibility(),!this.suppressVisibilityChange){var t=this.beans.gridOptionsWrapper.isRowDragManaged()?new _f(this,this.beans,this.rowNode,this.column):new dC(this,this.beans,this.rowNode,this.column);this.createManagedBean(t,this.beans.context)}},i.prototype.setDragElement=function(t,s){this.setTemplateFromElement(t),this.addDragSource(s)},i.prototype.getSelectedCount=function(){if(!this.beans.gridOptionsWrapper.isRowDragMultiRow())return 1;var s=this.beans.selectionService.getSelectedNodes();return-1!==s.indexOf(this.rowNode)?s.length:1},i.prototype.checkCompatibility=function(){var t=this.beans.gridOptionsWrapper.isRowDragManaged();this.beans.gridOptionsWrapper.isTreeData()&&t&&En(function(){return console.warn("AG Grid: If using row drag with tree data, you cannot have rowDragManaged=true")},"RowDragComp.managedAndTreeData")},i.prototype.addDragSource=function(t){var s=this;void 0===t&&(t=4),this.dragSource&&this.removeDragSource();var p={rowNode:this.rowNode,columns:this.column?[this.column]:void 0,defaultTextValue:this.cellValueFn()},f=this.column&&this.column.getColDef().rowDragText;this.dragSource={type:B.DragSourceType.RowDrag,eElement:this.getGui(),dragItemName:function(){var _=s.getSelectedCount();return f?f(p,_):1===_?s.cellValueFn():_+" rows"},getDragItem:function(){return p},dragStartPixels:t,dragSourceDomDataKey:this.beans.gridOptionsWrapper.getDomDataKey()},this.beans.dragAndDropService.addDragSource(this.dragSource,!0)},i.prototype.removeDragSource=function(){this.dragSource&&this.beans.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null},Tu([$("beans")],i.prototype,"beans",void 0),Tu([$e],i.prototype,"postConstruct",null),Tu([hi],i.prototype,"removeDragSource",null),i}(Ut),To=function(g){function i(t,s,p){var f=g.call(this)||this;return f.parent=t,f.rowNode=s,f.column=p,f}return Ws(i,g),i.prototype.setDisplayedOrVisible=function(t){if(t)this.parent.setDisplayed(!1);else{var s=!0,p=!1;this.column&&(s=this.column.isRowDrag(this.rowNode)||this.parent.isCustomGui(),p=Ci(this.column.getColDef().rowDrag)),p?(this.parent.setDisplayed(!0),this.parent.setVisible(s)):(this.parent.setDisplayed(s),this.parent.setVisible(!0))}},i}(Ge),dC=function(g){function i(t,s,p,f){var _=g.call(this,t,p,f)||this;return _.beans=s,_}return Ws(i,g),i.prototype.postConstruct=function(){this.addManagedListener(this.beans.gridOptionsWrapper,"suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.addManagedListener(this.rowNode,Rt.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Rt.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Rt.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,re.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.workOutVisibility()},i.prototype.onSuppressRowDrag=function(){this.workOutVisibility()},i.prototype.workOutVisibility=function(){var t=this.beans.gridOptionsWrapper.isSuppressRowDrag();this.setDisplayedOrVisible(t)},Tu([$e],i.prototype,"postConstruct",null),i}(To),_f=function(g){function i(t,s,p,f){var _=g.call(this,t,p,f)||this;return _.beans=s,_}return Ws(i,g),i.prototype.postConstruct=function(){this.addManagedListener(this.beans.eventService,re.EVENT_SORT_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,re.EVENT_FILTER_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,re.EVENT_COLUMN_ROW_GROUP_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,re.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Rt.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Rt.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.gridOptionsWrapper,"suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()},i.prototype.onSuppressRowDrag=function(){this.workOutVisibility()},i.prototype.workOutVisibility=function(){var s=this.beans.ctrlsService.getGridBodyCtrl().getRowDragFeature(),p=s&&s.shouldPreventRowMove(),f=this.beans.gridOptionsWrapper.isSuppressRowDrag(),_=this.beans.dragAndDropService.hasExternalDropZones();this.setDisplayedOrVisible(p&&!_||f)},Tu([$e],i.prototype,"postConstruct",null),i}(To),Ep=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),Dp=function(){return Dp=Object.assign||function(g){for(var i,t=1,s=arguments.length;t<s;t++)for(var p in i=arguments[t])Object.prototype.hasOwnProperty.call(i,p)&&(g[p]=i[p]);return g},Dp.apply(this,arguments)},Op=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},pC=function(g){function i(){return null!==g&&g.apply(this,arguments)||this}return Ep(i,g),i.prototype.init=function(t,s,p,f,_,b,A){this.params=A,this.eGui=s,this.eCheckbox=p,this.eExpanded=f,this.eContracted=_,this.comp=t,this.compClass=b;var M=this.isTopLevelFooter(),L=this.isEmbeddedRowMismatch(),G=null==A.value,U=!1;if(this.gridOptionsWrapper.isGroupIncludeFooter()&&this.gridOptionsWrapper.isGroupHideOpenParents()){var te=A.node;te.footer&&(U=(A.colDef&&A.colDef.showRowGroup)!==(te.rowGroupColumn&&te.rowGroupColumn.getColId()))}this.cellIsBlank=!M&&(L||G||U),!this.cellIsBlank&&(this.setupShowingValueForOpenedParent(),this.findDisplayedGroupNode(),this.addFullWidthRowDraggerIfNeeded(),this.addExpandAndContract(),this.addCheckboxIfNeeded(),this.addValueElement(),this.setupIndent())},i.prototype.isTopLevelFooter=function(){if(!this.gridOptionsWrapper.isGroupIncludeTotalFooter()||null!=this.params.value||-1!=this.params.node.level)return!1;var t=this.params.colDef;if(null==t||!0===t.showRowGroup)return!0;var p=this.columnModel.getRowGroupColumns();return!p||0===p.length||p[0].getId()===t.showRowGroup},i.prototype.isEmbeddedRowMismatch=function(){if(!this.params.fullWidth||!this.gridOptionsWrapper.isEmbedFullWidthRows())return!1;var t=this.params.pinned===me.PINNED_LEFT,s=this.params.pinned===me.PINNED_RIGHT,p=!t&&!s;return this.gridOptionsWrapper.isEnableRtl()?this.columnModel.isPinningLeft()?!s:!p:this.columnModel.isPinningLeft()?!t:!p},i.prototype.findDisplayedGroupNode=function(){var t=this.params.column,s=this.params.node;if(this.showingValueForOpenedParent)for(var p=s.parent;null!=p;){if(p.rowGroupColumn&&t.isRowGroupDisplayed(p.rowGroupColumn.getId())){this.displayedGroupNode=p;break}p=p.parent}E(this.displayedGroupNode)&&(this.displayedGroupNode=s)},i.prototype.setupShowingValueForOpenedParent=function(){var t=this.params.node,s=this.params.column;if(this.gridOptionsWrapper.isGroupHideOpenParents())if(t.groupData){if(null!=t.rowGroupColumn){var f=t.rowGroupColumn.getId();if(s.isRowGroupDisplayed(f))return void(this.showingValueForOpenedParent=!1)}var b=null!=t.groupData[s.getId()];this.showingValueForOpenedParent=b}else this.showingValueForOpenedParent=!1;else this.showingValueForOpenedParent=!1},i.prototype.addValueElement=function(){this.displayedGroupNode.footer?this.addFooterValue():(this.addGroupValue(),this.addChildCount())},i.prototype.addGroupValue=function(){var t=this.adjustParamsWithDetailsFromRelatedColumn(),s=this.getInnerCompDetails(t),p=t.valueFormatted;this.comp.setInnerRenderer(s,null!=p?p:t.value)},i.prototype.adjustParamsWithDetailsFromRelatedColumn=function(){var t=this.displayedGroupNode.rowGroupColumn,s=this.params.column;if(!t)return this.params;if(null!=s&&!s.isRowGroupDisplayed(t.getId()))return this.params;var _=this.params,b=this.params,G=this.valueFormatterService.formatValue(t,b.node,b.scope,b.value);return Dp(Dp({},_),{valueFormatted:G})},i.prototype.addFooterValue=function(){var t=this.params.footerValueGetter,s="";if(t){var p=su(this.params);p.value=this.params.value,"function"==typeof t?s=t(p):"string"==typeof t?s=this.expressionService.evaluate(t,p):console.warn("AG Grid: footerValueGetter should be either a function or a string (expression)")}else s="Total "+(null!=this.params.value?this.params.value:"");var f=this.getInnerCompDetails(this.params);this.comp.setInnerRenderer(f,s)},i.prototype.getInnerCompDetails=function(t){var s=this;if(t.fullWidth)return this.userComponentFactory.getFullWidthGroupRowInnerCellRenderer(this.gridOptions.groupRowRendererParams,t);var p=this.userComponentFactory.getInnerRendererDetails(t,t),f=function(L){return L&&L.componentClass==s.compClass};if(p&&!f(p))return p;var _=this.displayedGroupNode.rowGroupColumn,b=_?_.getColDef():void 0;if(b){var A=this.userComponentFactory.getCellRendererDetails(b,t);if(A&&!f(A))return A;if(f(A)&&b.cellRendererParams&&b.cellRendererParams.innerRenderer)return this.userComponentFactory.getInnerRendererDetails(b.cellRendererParams,t)}},i.prototype.addChildCount=function(){this.params.suppressCount||(this.addManagedListener(this.displayedGroupNode,Rt.EVENT_ALL_CHILDREN_COUNT_CHANGED,this.updateChildCount.bind(this)),this.updateChildCount())},i.prototype.updateChildCount=function(){var t=this.displayedGroupNode.allChildrenCount,s=this.isShowRowGroupForThisRow();this.comp.setChildCount(s&&null!=t&&t>=0?"("+t+")":"")},i.prototype.isShowRowGroupForThisRow=function(){if(this.gridOptionsWrapper.isTreeData())return!0;var t=this.displayedGroupNode.rowGroupColumn;if(!t)return!1;var s=this.params.column;return null==s||s.isRowGroupDisplayed(t.getId())},i.prototype.addExpandAndContract=function(){var t=this.params,s=Mr("groupExpanded",this.gridOptionsWrapper,null),p=Mr("groupContracted",this.gridOptionsWrapper,null);s&&this.eExpanded.appendChild(s),p&&this.eContracted.appendChild(p);var f=t.eGridCell;!this.gridOptionsWrapper.isEnableGroupEdit()&&this.isExpandable()&&!t.suppressDoubleClickExpand&&this.addManagedListener(f,"dblclick",this.onCellDblClicked.bind(this)),this.addManagedListener(this.eExpanded,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eContracted,"click",this.onExpandClicked.bind(this)),this.addManagedListener(f,"keydown",this.onKeyDown.bind(this)),this.addManagedListener(t.node,Rt.EVENT_EXPANDED_CHANGED,this.showExpandAndContractIcons.bind(this)),this.showExpandAndContractIcons();var _=this.onRowNodeIsExpandableChanged.bind(this);this.addManagedListener(this.displayedGroupNode,Rt.EVENT_ALL_CHILDREN_COUNT_CHANGED,_),this.addManagedListener(this.displayedGroupNode,Rt.EVENT_MASTER_CHANGED,_),this.addManagedListener(this.displayedGroupNode,Rt.EVENT_GROUP_CHANGED,_),this.addManagedListener(this.displayedGroupNode,Rt.EVENT_HAS_CHILDREN_CHANGED,_)},i.prototype.onExpandClicked=function(t){Sa(t)||(Os(t),this.onExpandOrContract())},i.prototype.onExpandOrContract=function(){var t=this.displayedGroupNode;t.setExpanded(!t.expanded)},i.prototype.isExpandable=function(){if(this.showingValueForOpenedParent)return!0;var t=this.displayedGroupNode,s=this.columnModel.isPivotMode()&&t.leafGroup;if(!t.isExpandable()||t.footer||s)return!1;var f=this.params.column;return null==f||"string"!=typeof f.getColDef().showRowGroup||this.isShowRowGroupForThisRow()},i.prototype.showExpandAndContractIcons=function(){var t=this,p=t.displayedGroupNode,f=t.columnModel,_=t.params.node,b=this.isExpandable();if(b){var A=!!this.showingValueForOpenedParent||_.expanded;this.comp.setExpandedDisplayed(A),this.comp.setContractedDisplayed(!A)}else this.comp.setExpandedDisplayed(!1),this.comp.setContractedDisplayed(!1);var M=f.isPivotMode(),L=M&&p.leafGroup,G=b&&!L,U=_.footer&&-1===_.level;this.comp.addOrRemoveCssClass("ag-cell-expandable",G),this.comp.addOrRemoveCssClass("ag-row-group",G),M?this.comp.addOrRemoveCssClass("ag-pivot-leaf-group",L):U||this.comp.addOrRemoveCssClass("ag-row-group-leaf-indent",!G)},i.prototype.onRowNodeIsExpandableChanged=function(){this.showExpandAndContractIcons(),this.setIndent()},i.prototype.setupIndent=function(){this.params.suppressPadding||(this.addManagedListener(this.params.node,Rt.EVENT_UI_LEVEL_CHANGED,this.setIndent.bind(this)),this.setIndent())},i.prototype.setIndent=function(){if(!this.gridOptionsWrapper.isGroupHideOpenParents()){var t=this.params,s=t.node,p=!!t.colDef,f=this.gridOptionsWrapper.isTreeData(),b=!p||f||!0===t.colDef.showRowGroup?s.uiLevel:0;t.padding>=0&&En(function(){return console.warn("AG Grid: cellRendererParams.padding no longer works, it was deprecated in since v14.2 and removed in v26, configuring padding for groupCellRenderer should be done with Sass variables and themes. Please see the AG Grid documentation page for Themes, in particular the property $row-group-indent-size.")},"groupCellRenderer->doDeprecatedWay"),this.indentClass&&this.comp.addOrRemoveCssClass(this.indentClass,!1),this.indentClass="ag-row-group-indent-"+b,this.comp.addOrRemoveCssClass(this.indentClass,!0)}},i.prototype.addFullWidthRowDraggerIfNeeded=function(){var t=this;if(this.params.fullWidth&&this.params.rowDrag){var s=new Ai(function(){return t.params.value},this.params.node);this.createManagedBean(s,this.context),this.eGui.insertAdjacentElement("afterbegin",s.getGui())}},i.prototype.isUserWantsSelected=function(){var t=this.params.checkbox;return"function"==typeof t?t(this.params):!0===t},i.prototype.addCheckboxIfNeeded=function(){var t=this,s=this.displayedGroupNode,p=this.isUserWantsSelected()&&!s.footer&&!s.rowPinned&&!s.detail;if(p){var f=new Au;this.getContext().createBean(f),f.init({rowNode:s,column:this.params.column}),this.eCheckbox.appendChild(f.getGui()),this.addDestroyFunc(function(){return t.getContext().destroyBean(f)})}this.comp.setCheckboxVisible(p)},i.prototype.onKeyDown=function(t){t.key!==We.ENTER||this.params.suppressEnterExpand||this.params.column&&this.params.column.isCellEditable(this.params.node)||this.onExpandOrContract()},i.prototype.onCellDblClicked=function(t){Sa(t)||ep(this.eExpanded,t)||ep(this.eContracted,t)||this.onExpandOrContract()},Op([$("expressionService")],i.prototype,"expressionService",void 0),Op([$("valueFormatterService")],i.prototype,"valueFormatterService",void 0),Op([$("columnModel")],i.prototype,"columnModel",void 0),Op([$("userComponentFactory")],i.prototype,"userComponentFactory",void 0),Op([$("gridOptions")],i.prototype,"gridOptions",void 0),i}(Ge),ED=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),Cf=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},bf=function(g){function i(){return g.call(this,i.TEMPLATE)||this}return ED(i,g),i.prototype.init=function(t){var s=this,p={setInnerRenderer:function(A,M){return s.setRenderDetails(A,M)},setChildCount:function(A){return s.eChildCount.innerHTML=A},addOrRemoveCssClass:function(A,M){return s.addOrRemoveCssClass(A,M)},setContractedDisplayed:function(A){return Mn(s.eContracted,A)},setExpandedDisplayed:function(A){return Mn(s.eExpanded,A)},setCheckboxVisible:function(A){return s.eCheckbox.classList.toggle("ag-invisible",!A)}},f=this.createManagedBean(new pC),_=!t.colDef,b=this.getGui();f.init(p,b,this.eCheckbox,this.eExpanded,this.eContracted,this.constructor,t),_&&Qn(b,"gridcell")},i.prototype.setRenderDetails=function(t,s){var p=this;if(t){var f=t.newAgStackInstance();if(!f)return;f.then(function(_){if(_){var b=function(){return p.context.destroyBean(_)};p.isAlive()?(p.eValue.appendChild(_.getGui()),p.addDestroyFunc(b)):b()}})}else this.eValue.innerText=s},i.prototype.destroy=function(){this.getContext().destroyBean(this.innerCellRenderer),g.prototype.destroy.call(this)},i.prototype.refresh=function(){return!1},i.TEMPLATE='<span class="ag-cell-wrapper">\n            <span class="ag-group-expanded" ref="eExpanded"></span>\n            <span class="ag-group-contracted" ref="eContracted"></span>\n            <span class="ag-group-checkbox ag-invisible" ref="eCheckbox"></span>\n            <span class="ag-group-value" ref="eValue"></span>\n            <span class="ag-group-child-count" ref="eChildCount"></span>\n        </span>',Cf([Ve("eExpanded")],i.prototype,"eExpanded",void 0),Cf([Ve("eContracted")],i.prototype,"eContracted",void 0),Cf([Ve("eCheckbox")],i.prototype,"eCheckbox",void 0),Cf([Ve("eValue")],i.prototype,"eValue",void 0),Cf([Ve("eChildCount")],i.prototype,"eChildCount",void 0),i}(Ut),Ro=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),wf=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},Hc=function(g){function i(){return g.call(this,i.TEMPLATE)||this}return Ro(i,g),i.prototype.init=function(t){t.node.failedLoad?this.setupFailed():this.setupLoading()},i.prototype.setupFailed=function(){this.eLoadingText.innerText="ERR"},i.prototype.setupLoading=function(){var t=Mr("groupLoading",this.gridOptionsWrapper,null);t&&this.eLoadingIcon.appendChild(t);var s=this.gridOptionsWrapper.getLocaleTextFunc();this.eLoadingText.innerText=s("loadingOoo","Loading")},i.prototype.refresh=function(t){return!1},i.prototype.destroy=function(){g.prototype.destroy.call(this)},i.TEMPLATE='<div class="ag-loading">\n            <span class="ag-loading-icon" ref="eLoadingIcon"></span>\n            <span class="ag-loading-text" ref="eLoadingText"></span>\n        </div>',wf([Ve("eLoadingIcon")],i.prototype,"eLoadingIcon",void 0),wf([Ve("eLoadingText")],i.prototype,"eLoadingText",void 0),i}(Ut),DD=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),hC=function(g){function i(){return g.call(this)||this}return DD(i,g),i.prototype.destroy=function(){g.prototype.destroy.call(this)},i.prototype.init=function(t){var s=this.gridOptionsWrapper.getOverlayLoadingTemplate()?this.gridOptionsWrapper.getOverlayLoadingTemplate():i.DEFAULT_LOADING_OVERLAY_TEMPLATE,p=this.gridOptionsWrapper.getLocaleTextFunc(),f=s.replace("[LOADING...]",p("loadingOoo","Loading..."));this.setTemplate(f)},i.DEFAULT_LOADING_OVERLAY_TEMPLATE='<span class="ag-overlay-loading-center">[LOADING...]</span>',i}(Ut),oS=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),aS=function(g){function i(){return g.call(this)||this}return oS(i,g),i.prototype.destroy=function(){g.prototype.destroy.call(this)},i.prototype.init=function(t){var s=this.gridOptionsWrapper.getOverlayNoRowsTemplate()?this.gridOptionsWrapper.getOverlayNoRowsTemplate():i.DEFAULT_NO_ROWS_TEMPLATE,p=this.gridOptionsWrapper.getLocaleTextFunc(),f=s.replace("[NO_ROWS_TO_SHOW]",p("noRowsToShow","No Rows To Show"));this.setTemplate(f)},i.DEFAULT_NO_ROWS_TEMPLATE='<span class="ag-overlay-no-rows-center">[NO_ROWS_TO_SHOW]</span>',i}(Ut),sS=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),lS=function(g){function i(){return g.call(this,'<div class="ag-tooltip"></div>')||this}return sS(i,g),i.prototype.init=function(t){var s=t.value;this.getGui().innerHTML=mr(s)},i}(Hs),pv=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),Ra=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},xp=function(g){function i(){var t=null!==g&&g.apply(this,arguments)||this;return t.agGridDefaults={agDateInput:cC,agColumnHeader:rv,agColumnGroupHeader:iv,agTextColumnFloatingFilter:Gc,agNumberColumnFloatingFilter:ev,agDateColumnFloatingFilter:hf,agReadOnlyFloatingFilter:mo,agAnimateShowChangeCellRenderer:lv,agAnimateSlideCellRenderer:dv,agGroupCellRenderer:bf,agGroupRowRenderer:bf,agLoadingCellRenderer:Hc,agCellEditor:vo,agTextCellEditor:vo,agSelectCellEditor:fr,agPopupTextCellEditor:yf,agPopupSelectCellEditor:Qo,agLargeTextCellEditor:ov,agTextColumnFilter:Ou,agNumberColumnFilter:Bs,agDateColumnFilter:Zm,agLoadingOverlay:hC,agNoRowsOverlay:aS,agTooltipComponent:lS},t.agDeprecatedNames={set:{newComponentName:"agSetColumnFilter",propertyHolder:"filter"},text:{newComponentName:"agTextColumnFilter",propertyHolder:"filter"},number:{newComponentName:"agNumberColumnFilter",propertyHolder:"filter"},date:{newComponentName:"agDateColumnFilter",propertyHolder:"filter"},group:{newComponentName:"agGroupCellRenderer",propertyHolder:"cellRenderer"},animateShowChange:{newComponentName:"agAnimateShowChangeCellRenderer",propertyHolder:"cellRenderer"},animateSlide:{newComponentName:"agAnimateSlideCellRenderer",propertyHolder:"cellRenderer"},select:{newComponentName:"agSelectCellEditor",propertyHolder:"cellEditor"},largeText:{newComponentName:"agLargeTextCellEditor",propertyHolder:"cellEditor"},popupSelect:{newComponentName:"agPopupSelectCellEditor",propertyHolder:"cellEditor"},popupText:{newComponentName:"agPopupTextCellEditor",propertyHolder:"cellEditor"},richSelect:{newComponentName:"agRichSelectCellEditor",propertyHolder:"cellEditor"},headerComponent:{newComponentName:"agColumnHeader",propertyHolder:"headerComponent"}},t.jsComps={},t.fwComps={},t}return pv(i,g),i.prototype.init=function(){var t=this;null!=this.gridOptions.components&&Sn(this.gridOptions.components,function(s,p){return t.registerJsComponent(s,p)}),null!=this.gridOptions.frameworkComponents&&Sn(this.gridOptions.frameworkComponents,function(s,p){return t.registerFwComponent(s,p)})},i.prototype.registerDefaultComponent=function(t,s){var p=this.translateIfDeprecated(t);this.agGridDefaults[p]?console.error("Trying to overwrite a default component. You should call registerComponent"):this.agGridDefaults[p]=s},i.prototype.registerJsComponent=function(t,s){var p=this.translateIfDeprecated(t);this.fwComps[p]?console.error("Trying to register a component that you have already registered for frameworks: "+p):this.jsComps[p]=s},i.prototype.registerFwComponent=function(t,s){En(function(){return console.warn("AG Grid: As of v27, registering components via grid property frameworkComponents is deprecated. Instead register both JavaScript AND Framework Components via the components property.")},"UserComponentRegistry.frameworkComponentsDeprecated");var f=this.translateIfDeprecated(t);this.fwComps[f]=s},i.prototype.retrieve=function(t){var s=this.translateIfDeprecated(t),p=function(L,G){return{componentFromFramework:G,component:L}},f=this.getFrameworkOverrides().frameworkComponent(s);if(null!=f)return p(f,!0);var _=this.fwComps[s];if(_)return p(_,!0);var b=this.jsComps[s];if(b)return p(b,this.getFrameworkOverrides().isFrameworkComponent(b));var M=this.agGridDefaults[s];return M?p(M,!1):(Object.keys(this.agGridDefaults).indexOf(s)<0&&console.warn("AG Grid: Looking for component ["+s+"] but it wasn't found."),null)},i.prototype.translateIfDeprecated=function(t){var s=this.agDeprecatedNames[t];return null!=s?(En(function(){console.warn("ag-grid. Since v15.0 component names have been renamed to be namespaced. You should rename "+s.propertyHolder+":"+t+" to "+s.propertyHolder+":"+s.newComponentName)},"DEPRECATE_COMPONENT_"+t),s.newComponentName):t},Ra([$("gridOptions")],i.prototype,"gridOptions",void 0),Ra([$("agComponentUtils")],i.prototype,"agComponentUtils",void 0),Ra([$e],i.prototype,"init",null),Ra([tt("userComponentRegistry")],i)}(Ge),Wc={propertyName:"dateComponent",cellRenderer:!1},WA={propertyName:"headerComponent",cellRenderer:!1},Sf={propertyName:"headerGroupComponent",cellRenderer:!1},jc={propertyName:"cellRenderer",cellRenderer:!0},hv={propertyName:"cellEditor",cellRenderer:!1},uS={propertyName:"innerRenderer",cellRenderer:!0},cS={propertyName:"loadingOverlayComponent",cellRenderer:!1},dS={propertyName:"noRowsOverlayComponent",cellRenderer:!1},fC={propertyName:"tooltipComponent",cellRenderer:!1},fv={propertyName:"filter",cellRenderer:!1},Ap={propertyName:"floatingFilterComponent",cellRenderer:!1},gC={propertyName:"toolPanel",cellRenderer:!1},pS={propertyName:"statusPanel",cellRenderer:!1},Le={propertyName:"fullWidthCellRenderer",cellRenderer:!0},mC={propertyName:"loadingCellRenderer",cellRenderer:!0},Ru={propertyName:"groupRowRenderer",cellRenderer:!0},gv={propertyName:"detailCellRenderer",cellRenderer:!0},Uc=function(){function g(){}return g.getFloatingFilterType=function(i){return this.filterToFloatingFilterMapping[i]},g.filterToFloatingFilterMapping={set:"agSetColumnFloatingFilter",agSetColumnFilter:"agSetColumnFloatingFilter",multi:"agMultiColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",number:"agNumberColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",date:"agDateColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",text:"agTextColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"},g}(),hS=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),zc=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},vC=function(g){function i(){return null!==g&&g.apply(this,arguments)||this}return hS(i,g),i.prototype.getHeaderCompDetails=function(t,s){return this.getCompDetails(t,WA,"agColumnHeader",s)},i.prototype.getHeaderGroupCompDetails=function(t){var s=t.columnGroup.getColGroupDef();return this.getCompDetails(s,Sf,"agColumnGroupHeader",t)},i.prototype.getFullWidthCellRendererDetails=function(t){return this.getCompDetails(this.gridOptions,Le,null,t,!0)},i.prototype.getFullWidthLoadingCellRendererDetails=function(t){return this.getCompDetails(this.gridOptions,mC,"agLoadingCellRenderer",t,!0)},i.prototype.getFullWidthGroupCellRendererDetails=function(t){return this.getCompDetails(this.gridOptions,Ru,"agGroupRowRenderer",t,!0)},i.prototype.getFullWidthDetailCellRendererDetails=function(t){return this.getCompDetails(this.gridOptions,gv,"agDetailCellRenderer",t,!0)},i.prototype.getInnerRendererDetails=function(t,s){return this.getCompDetails(t,uS,null,s)},i.prototype.getFullWidthGroupRowInnerCellRenderer=function(t,s){return this.getCompDetails(t,uS,null,s)},i.prototype.getCellRendererDetails=function(t,s){return this.getCompDetails(t,jc,null,s)},i.prototype.getCellEditorDetails=function(t,s){return this.getCompDetails(t,hv,"agCellEditor",s,!0)},i.prototype.getFilterDetails=function(t,s,p){return this.getCompDetails(t,fv,p,s,!0)},i.prototype.getDateCompDetails=function(t){return this.getCompDetails(this.gridOptions,Wc,"agDateInput",t,!0)},i.prototype.getLoadingOverlayCompDetails=function(t){return this.getCompDetails(this.gridOptions,cS,"agLoadingOverlay",t,!0)},i.prototype.getNoRowsOverlayCompDetails=function(t){return this.getCompDetails(this.gridOptions,dS,"agNoRowsOverlay",t,!0)},i.prototype.getTooltipCompDetails=function(t){return this.getCompDetails(t.colDef,fC,"agTooltipComponent",t,!0)},i.prototype.getSetFilterCellRendererDetails=function(t,s){return this.getCompDetails(t,jc,null,s)},i.prototype.getFloatingFilterCompDetails=function(t,s,p){return this.getCompDetails(t,Ap,p,s)},i.prototype.getToolPanelCompDetails=function(t,s){return this.getCompDetails(t,gC,null,s,!0)},i.prototype.getStatusPanelCompDetails=function(t,s){return this.getCompDetails(t,pS,null,s,!0)},i.prototype.getCompDetails=function(t,s,p,f,_){var b=this;void 0===_&&(_=!1);var A=s.propertyName,M=s.cellRenderer,L=this.getCompKeys(t,s,f),G=L.compName,U=L.jsComp,te=L.fwComp,le=L.paramsFromSelector,ge=function(Fe){var Ye=b.userComponentRegistry.retrieve(Fe);Ye&&(U=Ye.componentFromFramework?void 0:Ye.component,te=Ye.componentFromFramework?Ye.component:void 0)};if(null!=G&&ge(G),null==U&&null==te&&null!=p&&ge(p),U&&M&&!this.agComponentUtils.doesImplementIComponent(U)&&(U=this.agComponentUtils.adaptFunction(A,U)),U||te){var ve=this.mergeParamsWithApplicationProvidedParams(t,s,f,le),we=null==U,Re=U||te;return{componentFromFramework:we,componentClass:Re,params:ve,type:s,newAgStackInstance:function(){return b.newAgStackInstance(Re,we,ve,s)}}}_&&console.error("Could not find component "+G+", did you forget to configure this component?")},i.prototype.getCompKeys=function(t,s,p){var b,A,M,L,f=this,_=s.propertyName;if(t){var G=t,U=G[_+"Selector"],te=U?U(p):null,le=function(ve,we){var Re=function(){var Ye="AG Grid: As of v27, the property "+_+"Framework is deprecated. The property "+_+" can now be used for JavaScript AND Framework Components.";En(function(){return console.warn(Ye)},"UserComponentFactory."+_+"FrameworkDeprecated")};"string"==typeof ve?b=ve:"string"==typeof we?(Re(),b=we):null!=ve&&!0!==ve?f.getFrameworkOverrides().isFrameworkComponent(ve)?M=ve:A=ve:null!=we&&(Re(),M=we)};if(te){if(null!=te.frameworkComponent){var ge="AG Grid: As of v27, the return for "+_+"Selector has attributes [component, params] only. The attribute frameworkComponent is deprecated. You should now return back Framework Components using the 'component' attribute and the grid works out if it's a framework component or not.";En(function(){return console.warn(ge)},"UserComponentFactory."+_+"FrameworkSelectorDeprecated"),le(te.frameworkComponent,void 0)}else le(te.component,void 0);L=te.params}else le(G[_],G[_+"Framework"])}return{compName:b,jsComp:A,fwComp:M,paramsFromSelector:L}},i.prototype.newAgStackInstance=function(t,s,p,f){var A;if(s){var M=this.componentMetadataProvider.retrieve(f.propertyName);A=this.frameworkComponentWrapper.wrap(t,M.mandatoryMethodList,M.optionalMethodList,f)}else A=new t;var L=this.initComponent(A,p);return null==L?go.resolve(A):L.then(function(){return A})},i.prototype.mergeParamsWithApplicationProvidedParams=function(t,s,p,f){void 0===f&&(f=null);var _={};Hi(_,p);var A=t&&t[s.propertyName+"Params"];return"function"==typeof A?Hi(_,A(p)):"object"==typeof A&&Hi(_,A),Hi(_,f),_},i.prototype.initComponent=function(t,s){if(this.context.createBean(t),null!=t.init)return t.init(s)},i.prototype.getDefaultFloatingFilterType=function(t){if(null==t)return null;var s=null,p=this.getCompKeys(t,fv),f=p.compName,_=p.jsComp,b=p.fwComp;return f?s=Uc.getFloatingFilterType(f):null==_&&null==b&&!0===t.filter&&(s=Vt.isRegistered(B.ModuleNames.SetFilterModule)?"agSetColumnFloatingFilter":"agTextColumnFloatingFilter"),s},zc([$("gridOptions")],i.prototype,"gridOptions",void 0),zc([$("agComponentUtils")],i.prototype,"agComponentUtils",void 0),zc([$("componentMetadataProvider")],i.prototype,"componentMetadataProvider",void 0),zc([$("userComponentRegistry")],i.prototype,"userComponentRegistry",void 0),zc([tn("frameworkComponentWrapper")],i.prototype,"frameworkComponentWrapper",void 0),zc([tt("userComponentFactory")],i)}(Ge),Tp=function(){function g(){}return g.parse=function(i){if(!i)return null;if(!0===i)return{toolPanels:[g.DEFAULT_COLUMN_COMP,g.DEFAULT_FILTER_COMP],defaultToolPanel:"columns"};if("string"==typeof i)return g.parse([i]);if(Array.isArray(i)){var t=[];return i.forEach(function(p){var f=g.DEFAULT_BY_KEY[p];f?t.push(f):console.warn("AG Grid: the key "+p+" is not a valid key for specifying a tool panel, valid keys are: "+Object.keys(g.DEFAULT_BY_KEY).join(","))}),0===t.length?null:{toolPanels:t,defaultToolPanel:t[0].id}}return{toolPanels:g.parseComponents(i.toolPanels),defaultToolPanel:i.defaultToolPanel,hiddenByDefault:i.hiddenByDefault,position:i.position}},g.parseComponents=function(i){var t=[];return i&&i.forEach(function(s){var p=null;if("string"==typeof s){var f=g.DEFAULT_BY_KEY[s];if(!f)return void console.warn("AG Grid: the key "+s+" is not a valid key for specifying a tool panel, valid keys are: "+Object.keys(g.DEFAULT_BY_KEY).join(","));p=f}else p=s;t.push(p)}),t},g.DEFAULT_BY_KEY={columns:g.DEFAULT_COLUMN_COMP={id:"columns",labelDefault:"Columns",labelKey:"columns",iconKey:"columns",toolPanel:"agColumnsToolPanel"},filters:g.DEFAULT_FILTER_COMP={id:"filters",labelDefault:"Filters",labelKey:"filters",iconKey:"filter",toolPanel:"agFiltersToolPanel"}},g}(),qr=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},Ef=function(g,i){return function(t,s){i(t,s,g)}},js=function(g,i){var t="function"==typeof Symbol&&g[Symbol.iterator];if(!t)return g;var p,_,s=t.call(g),f=[];try{for(;(void 0===i||i-- >0)&&!(p=s.next()).done;)f.push(p.value)}catch(b){_={error:b}}finally{try{p&&!p.done&&(t=s.return)&&t.call(s)}finally{if(_)throw _.error}}return f},mv=function(){for(var g=[],i=0;i<arguments.length;i++)g=g.concat(js(arguments[i]));return g};function Me(g){return!0===g||"true"===g}function Mu(g){return"number"==typeof g?g:"string"==typeof g?parseInt(g,10):void 0}function Of(g,i){var t=parseInt(g,10);return dp(t)&&t>0?t:i}var at=function(){function g(){this.propertyEventService=new wl,this.domDataKey="__AG_"+Math.random().toString(),this.destroyed=!1}var i;return i=g,g.prototype.agWire=function(t,s){this.gridOptions.api=t,this.gridOptions.columnApi=s,this.checkForDeprecated(),this.checkForViolations()},g.prototype.destroy=function(){this.gridOptions.api=null,this.gridOptions.columnApi=null,this.destroyed=!0},g.prototype.init=function(){var t=this;!0!==this.gridOptions.suppressPropertyNamesCheck&&(this.checkGridOptionsProperties(),this.checkColumnDefProperties()),null!=this.gridOptions.sideBar&&(this.gridOptions.sideBar=Tp.parse(this.gridOptions.sideBar));var s=this.useAsyncEvents();if(this.eventService.addGlobalListener(this.globalEventHandler.bind(this),s),this.isGroupSelectsChildren()&&this.isSuppressParentsInRowNodes()&&console.warn("AG Grid: 'groupSelectsChildren' does not work with 'suppressParentsInRowNodes', this selection method needs the part in rowNode to work"),this.isGroupSelectsChildren()&&(this.isRowSelectionMulti()||console.warn("AG Grid: rowSelection must be 'multiple' for groupSelectsChildren to make sense"),this.isRowModelServerSide()&&console.warn("AG Grid: group selects children is NOT support for Server Side Row Model. This is because the rows are lazy loaded, so selecting a group is not possible asthe grid has no way of knowing what the children are.")),this.isGroupRemoveSingleChildren()&&this.isGroupHideOpenParents()&&console.warn("AG Grid: groupRemoveSingleChildren and groupHideOpenParents do not work with each other, you need to pick one. And don't ask us how to us these together on our support forum either you will get the same answer!"),this.isRowModelServerSide()){var p=function(_){return"AG Grid: '"+_+"' is not supported on the Server-Side Row Model"};J(this.gridOptions.groupDefaultExpanded)&&console.warn(p("groupDefaultExpanded")),J(this.gridOptions.groupDefaultExpanded)&&console.warn(p("groupIncludeFooter")),J(this.gridOptions.groupDefaultExpanded)&&console.warn(p("groupIncludeTotalFooter"))}this.isEnableRangeSelection()&&Vt.assertRegistered(B.ModuleNames.RangeSelectionModule,"enableRangeSelection"),!this.isEnableRangeSelection()&&(this.isEnableRangeHandle()||this.isEnableFillHandle())&&console.warn("AG Grid: 'enableRangeHandle' and 'enableFillHandle' will not work unless 'enableRangeSelection' is set to true");var f=function(_){t.gridOptions.icons&&t.gridOptions.icons[_]&&console.warn("gridOptions.icons."+_+" is no longer supported. For information on how to style checkboxes and radio buttons, see https://www.ag-grid.com/javascript-grid-icons/")};f("radioButtonOff"),f("radioButtonOn"),f("checkboxChecked"),f("checkboxUnchecked"),f("checkboxIndeterminate"),this.getScrollbarWidth()},g.prototype.checkColumnDefProperties=function(){var t=this;null!=this.gridOptions.columnDefs&&this.gridOptions.columnDefs.forEach(function(s){var p=Object.getOwnPropertyNames(s),f=mv(zh.ALL_PROPERTIES,zh.FRAMEWORK_PROPERTIES);t.checkProperties(p,f,f,"colDef","https://www.ag-grid.com/javascript-grid-column-properties/")})},g.prototype.checkGridOptionsProperties=function(){var t=Object.getOwnPropertyNames(this.gridOptions),s=mv(Un.ALL_PROPERTIES,Un.FRAMEWORK_PROPERTIES,Ya(re).map(function(f){return Ts.getCallbackForEvent(f)})),p=mv(s,["api","columnApi"]);this.checkProperties(t,p,s,"gridOptions","https://www.ag-grid.com/javascript-grid-properties/")},g.prototype.checkProperties=function(t,s,p,f,_){var b=Zh(t,s,p);Sn(b,function(A,M){console.warn("ag-grid: invalid "+f+" property '"+A+"' did you mean any of these: "+M.slice(0,8).join(", "))}),Object.keys(b).length>0&&console.warn("ag-grid: to see all the valid "+f+" properties please check: "+_)},g.prototype.getDomDataKey=function(){return this.domDataKey},g.prototype.getDomData=function(t,s){var p=t[this.getDomDataKey()];return p?p[s]:void 0},g.prototype.setDomData=function(t,s,p){var f=this.getDomDataKey(),_=t[f];E(_)&&(t[f]=_={}),_[s]=p},g.prototype.isRowSelection=function(){return"single"===this.gridOptions.rowSelection||"multiple"===this.gridOptions.rowSelection},g.prototype.isSuppressRowDeselection=function(){return Me(this.gridOptions.suppressRowDeselection)},g.prototype.isRowSelectionMulti=function(){return"multiple"===this.gridOptions.rowSelection},g.prototype.isRowMultiSelectWithClick=function(){return Me(this.gridOptions.rowMultiSelectWithClick)},g.prototype.getContext=function(){return this.gridOptions.context},g.prototype.isPivotMode=function(){return Me(this.gridOptions.pivotMode)},g.prototype.isSuppressExpandablePivotGroups=function(){return Me(this.gridOptions.suppressExpandablePivotGroups)},g.prototype.getPivotColumnGroupTotals=function(){return this.gridOptions.pivotColumnGroupTotals},g.prototype.getPivotRowTotals=function(){return this.gridOptions.pivotRowTotals},g.prototype.isRowModelInfinite=function(){return this.gridOptions.rowModelType===me.ROW_MODEL_TYPE_INFINITE},g.prototype.isRowModelViewport=function(){return this.gridOptions.rowModelType===me.ROW_MODEL_TYPE_VIEWPORT},g.prototype.isRowModelServerSide=function(){return this.gridOptions.rowModelType===me.ROW_MODEL_TYPE_SERVER_SIDE},g.prototype.isRowModelDefault=function(){return E(this.gridOptions.rowModelType)||this.gridOptions.rowModelType===me.ROW_MODEL_TYPE_CLIENT_SIDE},g.prototype.isFullRowEdit=function(){return"fullRow"===this.gridOptions.editType},g.prototype.isSuppressFocusAfterRefresh=function(){return Me(this.gridOptions.suppressFocusAfterRefresh)},g.prototype.isSuppressBrowserResizeObserver=function(){return Me(this.gridOptions.suppressBrowserResizeObserver)},g.prototype.isSuppressMaintainUnsortedOrder=function(){return Me(this.gridOptions.suppressMaintainUnsortedOrder)},g.prototype.isSuppressClearOnFillReduction=function(){return Me(this.gridOptions.suppressClearOnFillReduction)},g.prototype.isShowToolPanel=function(){return Me(this.gridOptions.sideBar&&Array.isArray(this.getSideBar().toolPanels))},g.prototype.getSideBar=function(){return this.gridOptions.sideBar},g.prototype.isSuppressTouch=function(){return Me(this.gridOptions.suppressTouch)},g.prototype.isMaintainColumnOrder=function(){return Me(this.gridOptions.maintainColumnOrder)},g.prototype.isSuppressRowTransform=function(){return Me(this.gridOptions.suppressRowTransform)},g.prototype.isSuppressColumnStateEvents=function(){return Me(this.gridOptions.suppressColumnStateEvents)},g.prototype.isAllowDragFromColumnsToolPanel=function(){return Me(this.gridOptions.allowDragFromColumnsToolPanel)},g.prototype.useAsyncEvents=function(){return!Me(this.gridOptions.suppressAsyncEvents)},g.prototype.isEnableCellChangeFlash=function(){return Me(this.gridOptions.enableCellChangeFlash)},g.prototype.getCellFlashDelay=function(){return this.gridOptions.cellFlashDelay||500},g.prototype.getCellFadeDelay=function(){return this.gridOptions.cellFadeDelay||1e3},g.prototype.isGroupSelectsChildren=function(){var t=Me(this.gridOptions.groupSelectsChildren);return t&&this.isTreeData()?(console.warn("AG Grid: groupSelectsChildren does not work with tree data"),!1):t},g.prototype.isSuppressRowHoverHighlight=function(){return Me(this.gridOptions.suppressRowHoverHighlight)},g.prototype.isColumnHoverHighlight=function(){return Me(this.gridOptions.columnHoverHighlight)},g.prototype.isGroupSelectsFiltered=function(){return Me(this.gridOptions.groupSelectsFiltered)},g.prototype.isGroupHideOpenParents=function(){return Me(this.gridOptions.groupHideOpenParents)},g.prototype.isGroupMaintainOrder=function(){return Me(this.gridOptions.groupMaintainOrder)},g.prototype.getAutoGroupColumnDef=function(){return this.gridOptions.autoGroupColumnDef},g.prototype.isGroupMultiAutoColumn=function(){return this.gridOptions.groupDisplayType?this.matchesGroupDisplayType("multipleColumns",this.gridOptions.groupDisplayType):Me(this.gridOptions.groupHideOpenParents)},g.prototype.isGroupUseEntireRow=function(t){return!t&&!!this.gridOptions.groupDisplayType&&this.matchesGroupDisplayType("groupRows",this.gridOptions.groupDisplayType)},g.prototype.isGroupSuppressAutoColumn=function(){return!(!this.gridOptions.groupDisplayType||!this.matchesGroupDisplayType("custom",this.gridOptions.groupDisplayType))||!!this.gridOptions.treeDataDisplayType&&this.matchesTreeDataDisplayType("custom",this.gridOptions.treeDataDisplayType)},g.prototype.isGroupRemoveSingleChildren=function(){return Me(this.gridOptions.groupRemoveSingleChildren)},g.prototype.isGroupRemoveLowestSingleChildren=function(){return Me(this.gridOptions.groupRemoveLowestSingleChildren)},g.prototype.isGroupIncludeFooter=function(){return Me(this.gridOptions.groupIncludeFooter)},g.prototype.isGroupIncludeTotalFooter=function(){return Me(this.gridOptions.groupIncludeTotalFooter)},g.prototype.isGroupSuppressBlankHeader=function(){return Me(this.gridOptions.groupSuppressBlankHeader)},g.prototype.isSuppressRowClickSelection=function(){return Me(this.gridOptions.suppressRowClickSelection)},g.prototype.isSuppressCellFocus=function(){return Me(this.gridOptions.suppressCellFocus)},g.prototype.isSuppressMultiSort=function(){return Me(this.gridOptions.suppressMultiSort)},g.prototype.isMultiSortKeyCtrl=function(){return"ctrl"===this.gridOptions.multiSortKey},g.prototype.isPivotSuppressAutoColumn=function(){return Me(this.gridOptions.pivotSuppressAutoColumn)},g.prototype.isSuppressDragLeaveHidesColumns=function(){return Me(this.gridOptions.suppressDragLeaveHidesColumns)},g.prototype.isSuppressScrollOnNewData=function(){return Me(this.gridOptions.suppressScrollOnNewData)},g.prototype.isSuppressScrollWhenPopupsAreOpen=function(){return Me(this.gridOptions.suppressScrollWhenPopupsAreOpen)},g.prototype.isRowDragEntireRow=function(){return Me(this.gridOptions.rowDragEntireRow)},g.prototype.isSuppressRowDrag=function(){return Me(this.gridOptions.suppressRowDrag)},g.prototype.isRowDragManaged=function(){return Me(this.gridOptions.rowDragManaged)},g.prototype.isSuppressMoveWhenRowDragging=function(){return Me(this.gridOptions.suppressMoveWhenRowDragging)},g.prototype.isRowDragMultiRow=function(){return Me(this.gridOptions.rowDragMultiRow)},g.prototype.getDomLayout=function(){var t=this.gridOptions.domLayout||me.DOM_LAYOUT_NORMAL;return-1===[me.DOM_LAYOUT_PRINT,me.DOM_LAYOUT_AUTO_HEIGHT,me.DOM_LAYOUT_NORMAL].indexOf(t)?(En(function(){return console.warn("AG Grid: "+t+" is not valid for DOM Layout, valid values are "+me.DOM_LAYOUT_NORMAL+", "+me.DOM_LAYOUT_AUTO_HEIGHT+" and "+me.DOM_LAYOUT_PRINT)},"warn about dom layout values"),me.DOM_LAYOUT_NORMAL):t},g.prototype.isSuppressHorizontalScroll=function(){return Me(this.gridOptions.suppressHorizontalScroll)},g.prototype.isSuppressMaxRenderedRowRestriction=function(){return Me(this.gridOptions.suppressMaxRenderedRowRestriction)},g.prototype.isExcludeChildrenWhenTreeDataFiltering=function(){return Me(this.gridOptions.excludeChildrenWhenTreeDataFiltering)},g.prototype.isAlwaysShowHorizontalScroll=function(){return Me(this.gridOptions.alwaysShowHorizontalScroll)},g.prototype.isAlwaysShowVerticalScroll=function(){return Me(this.gridOptions.alwaysShowVerticalScroll)},g.prototype.isDebounceVerticalScrollbar=function(){return Me(this.gridOptions.debounceVerticalScrollbar)},g.prototype.isSuppressLoadingOverlay=function(){return Me(this.gridOptions.suppressLoadingOverlay)},g.prototype.isSuppressNoRowsOverlay=function(){return Me(this.gridOptions.suppressNoRowsOverlay)},g.prototype.isSuppressFieldDotNotation=function(){return Me(this.gridOptions.suppressFieldDotNotation)},g.prototype.getPinnedTopRowData=function(){return this.gridOptions.pinnedTopRowData},g.prototype.getPinnedBottomRowData=function(){return this.gridOptions.pinnedBottomRowData},g.prototype.isFunctionsPassive=function(){return Me(this.gridOptions.functionsPassive)},g.prototype.isSuppressChangeDetection=function(){return Me(this.gridOptions.suppressChangeDetection)},g.prototype.isSuppressAnimationFrame=function(){return Me(this.gridOptions.suppressAnimationFrame)},g.prototype.getQuickFilterText=function(){return this.gridOptions.quickFilterText},g.prototype.isCacheQuickFilter=function(){return Me(this.gridOptions.cacheQuickFilter)},g.prototype.isUnSortIcon=function(){return Me(this.gridOptions.unSortIcon)},g.prototype.isSuppressMenuHide=function(){return Me(this.gridOptions.suppressMenuHide)},g.prototype.isEnterMovesDownAfterEdit=function(){return Me(this.gridOptions.enterMovesDownAfterEdit)},g.prototype.isEnterMovesDown=function(){return Me(this.gridOptions.enterMovesDown)},g.prototype.isUndoRedoCellEditing=function(){return Me(this.gridOptions.undoRedoCellEditing)},g.prototype.getUndoRedoCellEditingLimit=function(){return Mu(this.gridOptions.undoRedoCellEditingLimit)},g.prototype.getRowStyle=function(){return this.gridOptions.rowStyle},g.prototype.getRowClass=function(){return this.gridOptions.rowClass},g.prototype.getRowStyleFunc=function(){return this.gridOptions.getRowStyle},g.prototype.getRowClassFunc=function(){return this.gridOptions.getRowClass},g.prototype.rowClassRules=function(){return this.gridOptions.rowClassRules},g.prototype.getServerSideStoreType=function(){return this.gridOptions.serverSideStoreType},g.prototype.getServerSideStoreParamsFunc=function(){return this.gridOptions.getServerSideStoreParams},g.prototype.getCreateChartContainerFunc=function(){return this.gridOptions.createChartContainer},g.prototype.getPopupParent=function(){return this.gridOptions.popupParent},g.prototype.getBlockLoadDebounceMillis=function(){return this.gridOptions.blockLoadDebounceMillis},g.prototype.getPostProcessPopupFunc=function(){return this.gridOptions.postProcessPopup},g.prototype.getPaginationNumberFormatterFunc=function(){return this.gridOptions.paginationNumberFormatter},g.prototype.getChildCountFunc=function(){return this.gridOptions.getChildCount},g.prototype.getIsApplyServerSideTransactionFunc=function(){return this.gridOptions.isApplyServerSideTransaction},g.prototype.getDefaultGroupOrderComparator=function(){return this.gridOptions.defaultGroupOrderComparator},g.prototype.getIsFullWidthCellFunc=function(){return this.gridOptions.isFullWidthCell},g.prototype.getFullWidthCellRendererParams=function(){return this.gridOptions.fullWidthCellRendererParams},g.prototype.isEmbedFullWidthRows=function(){return Me(this.gridOptions.embedFullWidthRows)||Me(this.gridOptions.deprecatedEmbedFullWidthRows)},g.prototype.isDetailRowAutoHeight=function(){return Me(this.gridOptions.detailRowAutoHeight)},g.prototype.getSuppressKeyboardEventFunc=function(){return this.gridOptions.suppressKeyboardEvent},g.prototype.getBusinessKeyForNodeFunc=function(){return this.gridOptions.getBusinessKeyForNode},g.prototype.getApi=function(){return this.gridOptions.api},g.prototype.getColumnApi=function(){return this.gridOptions.columnApi},g.prototype.isImmutableData=function(){return Me(this.gridOptions.immutableData)},g.prototype.isEnsureDomOrder=function(){return Me(this.gridOptions.ensureDomOrder)},g.prototype.isEnableCharts=function(){return!!Me(this.gridOptions.enableCharts)&&Vt.assertRegistered(B.ModuleNames.GridChartsModule,"enableCharts")},g.prototype.getColResizeDefault=function(){return this.gridOptions.colResizeDefault},g.prototype.isSingleClickEdit=function(){return Me(this.gridOptions.singleClickEdit)},g.prototype.isSuppressClickEdit=function(){return Me(this.gridOptions.suppressClickEdit)},g.prototype.isStopEditingWhenCellsLoseFocus=function(){return Me(this.gridOptions.stopEditingWhenCellsLoseFocus)},g.prototype.getGroupDefaultExpanded=function(){return this.gridOptions.groupDefaultExpanded},g.prototype.getMaxConcurrentDatasourceRequests=function(){var t=Mu(this.gridOptions.maxConcurrentDatasourceRequests);return null==t?2:t<=0?void 0:t},g.prototype.getMaxBlocksInCache=function(){return this.gridOptions.maxBlocksInCache},g.prototype.getCacheOverflowSize=function(){return this.gridOptions.cacheOverflowSize},g.prototype.getPaginationPageSize=function(){return Mu(this.gridOptions.paginationPageSize)},g.prototype.isPaginateChildRows=function(){return!(!this.isGroupRemoveSingleChildren()&&!this.isGroupRemoveLowestSingleChildren())||Me(this.gridOptions.paginateChildRows)},g.prototype.getCacheBlockSize=function(){return Of(this.gridOptions.cacheBlockSize)},g.prototype.getInfiniteInitialRowCount=function(){return this.gridOptions.infiniteInitialRowCount},g.prototype.isPurgeClosedRowNodes=function(){return Me(this.gridOptions.purgeClosedRowNodes)},g.prototype.isSuppressPaginationPanel=function(){return Me(this.gridOptions.suppressPaginationPanel)},g.prototype.getRowData=function(){return this.gridOptions.rowData},g.prototype.isEnableRtl=function(){return Me(this.gridOptions.enableRtl)},g.prototype.getRowGroupPanelShow=function(){return this.gridOptions.rowGroupPanelShow},g.prototype.getPivotPanelShow=function(){return this.gridOptions.pivotPanelShow},g.prototype.isAngularCompileRows=function(){return Me(this.gridOptions.angularCompileRows)},g.prototype.isAngularCompileFilters=function(){return Me(this.gridOptions.angularCompileFilters)},g.prototype.isDebug=function(){return Me(this.gridOptions.debug)},g.prototype.getColumnDefs=function(){return this.gridOptions.columnDefs},g.prototype.getColumnTypes=function(){return this.gridOptions.columnTypes},g.prototype.getDatasource=function(){return this.gridOptions.datasource},g.prototype.getViewportDatasource=function(){return this.gridOptions.viewportDatasource},g.prototype.getServerSideDatasource=function(){return this.gridOptions.serverSideDatasource},g.prototype.isAccentedSort=function(){return Me(this.gridOptions.accentedSort)},g.prototype.isEnableBrowserTooltips=function(){return Me(this.gridOptions.enableBrowserTooltips)},g.prototype.isEnableCellExpressions=function(){return Me(this.gridOptions.enableCellExpressions)},g.prototype.isEnableGroupEdit=function(){return Me(this.gridOptions.enableGroupEdit)},g.prototype.isSuppressMiddleClickScrolls=function(){return Me(this.gridOptions.suppressMiddleClickScrolls)},g.prototype.isPreventDefaultOnContextMenu=function(){return Me(this.gridOptions.preventDefaultOnContextMenu)},g.prototype.isSuppressPreventDefaultOnMouseWheel=function(){return Me(this.gridOptions.suppressPreventDefaultOnMouseWheel)},g.prototype.isSuppressColumnVirtualisation=function(){return Me(this.gridOptions.suppressColumnVirtualisation)},g.prototype.isSuppressContextMenu=function(){return Me(this.gridOptions.suppressContextMenu)},g.prototype.isAllowContextMenuWithControlKey=function(){return Me(this.gridOptions.allowContextMenuWithControlKey)},g.prototype.isSuppressCopyRowsToClipboard=function(){return Me(this.gridOptions.suppressCopyRowsToClipboard)},g.prototype.isCopyHeadersToClipboard=function(){return Me(this.gridOptions.copyHeadersToClipboard)},g.prototype.isCopyGroupHeadersToClipboard=function(){return Me(this.gridOptions.copyGroupHeadersToClipboard)},g.prototype.isSuppressClipboardPaste=function(){return Me(this.gridOptions.suppressClipboardPaste)},g.prototype.isSuppressLastEmptyLineOnPaste=function(){return Me(this.gridOptions.suppressLastEmptyLineOnPaste)},g.prototype.isPagination=function(){return Me(this.gridOptions.pagination)},g.prototype.isSuppressEnterpriseResetOnNewColumns=function(){return Me(this.gridOptions.suppressEnterpriseResetOnNewColumns)},g.prototype.getProcessDataFromClipboardFunc=function(){return this.gridOptions.processDataFromClipboard},g.prototype.getAsyncTransactionWaitMillis=function(){return J(this.gridOptions.asyncTransactionWaitMillis)?this.gridOptions.asyncTransactionWaitMillis:me.BATCH_WAIT_MILLIS},g.prototype.isSuppressMovableColumns=function(){return Me(this.gridOptions.suppressMovableColumns)},g.prototype.isAnimateRows=function(){return!this.isEnsureDomOrder()&&Me(this.gridOptions.animateRows)},g.prototype.isSuppressColumnMoveAnimation=function(){return Me(this.gridOptions.suppressColumnMoveAnimation)},g.prototype.isSuppressAggFuncInHeader=function(){return Me(this.gridOptions.suppressAggFuncInHeader)},g.prototype.isSuppressAggAtRootLevel=function(){return Me(this.gridOptions.suppressAggAtRootLevel)},g.prototype.isSuppressAggFilteredOnly=function(){return Me(this.gridOptions.suppressAggFilteredOnly)},g.prototype.isShowOpenedGroup=function(){return Me(this.gridOptions.showOpenedGroup)},g.prototype.isReactUi=function(){return Me(this.gridOptions.reactUi)},g.prototype.isSuppressReactUi=function(){return Me(this.gridOptions.suppressReactUi)},g.prototype.isEnableRangeSelection=function(){return Vt.isRegistered(B.ModuleNames.RangeSelectionModule)&&Me(this.gridOptions.enableRangeSelection)},g.prototype.isEnableRangeHandle=function(){return Me(this.gridOptions.enableRangeHandle)},g.prototype.isEnableFillHandle=function(){return Me(this.gridOptions.enableFillHandle)},g.prototype.getFillHandleDirection=function(){var t=this.gridOptions.fillHandleDirection;return t?"x"!==t&&"y"!==t&&"xy"!==t?(En(function(){return console.warn("AG Grid: valid values for fillHandleDirection are 'x', 'y' and 'xy'. Default to 'xy'.")},"warn invalid fill direction"),"xy"):t:"xy"},g.prototype.getFillOperation=function(){return this.gridOptions.fillOperation},g.prototype.isSuppressMultiRangeSelection=function(){return Me(this.gridOptions.suppressMultiRangeSelection)},g.prototype.isPaginationAutoPageSize=function(){return Me(this.gridOptions.paginationAutoPageSize)},g.prototype.isRememberGroupStateWhenNewData=function(){return Me(this.gridOptions.rememberGroupStateWhenNewData)},g.prototype.getIcons=function(){return this.gridOptions.icons},g.prototype.getAggFuncs=function(){return this.gridOptions.aggFuncs},g.prototype.getSortingOrder=function(){return this.gridOptions.sortingOrder},g.prototype.getAlignedGrids=function(){return this.gridOptions.alignedGrids},g.prototype.isMasterDetail=function(){return!!Me(this.gridOptions.masterDetail)&&Vt.assertRegistered(B.ModuleNames.MasterDetailModule,"masterDetail")},g.prototype.isKeepDetailRows=function(){return Me(this.gridOptions.keepDetailRows)},g.prototype.getKeepDetailRowsCount=function(){var t=this.gridOptions.keepDetailRowsCount;return J(t)&&t>0?this.gridOptions.keepDetailRowsCount:10},g.prototype.getIsRowMasterFunc=function(){return this.gridOptions.isRowMaster},g.prototype.getIsRowSelectableFunc=function(){return this.gridOptions.isRowSelectable},g.prototype.getGroupRowRendererParams=function(){return this.gridOptions.groupRowRendererParams},g.prototype.getOverlayLoadingTemplate=function(){return this.gridOptions.overlayLoadingTemplate},g.prototype.getOverlayNoRowsTemplate=function(){return this.gridOptions.overlayNoRowsTemplate},g.prototype.isSuppressAutoSize=function(){return Me(this.gridOptions.suppressAutoSize)},g.prototype.isEnableCellTextSelection=function(){return Me(this.gridOptions.enableCellTextSelection)},g.prototype.isSuppressParentsInRowNodes=function(){return Me(this.gridOptions.suppressParentsInRowNodes)},g.prototype.isSuppressClipboardApi=function(){return Me(this.gridOptions.suppressClipboardApi)},g.prototype.isFunctionsReadOnly=function(){return Me(this.gridOptions.functionsReadOnly)},g.prototype.isEnableCellTextSelect=function(){return Me(this.gridOptions.enableCellTextSelection)},g.prototype.getDefaultColDef=function(){return this.gridOptions.defaultColDef},g.prototype.getDefaultColGroupDef=function(){return this.gridOptions.defaultColGroupDef},g.prototype.getDefaultExportParams=function(t){return this.gridOptions.defaultExportParams?(console.warn("AG Grid: Since v25.2 `defaultExportParams`  has been replaced by `default"+k_(t)+"ExportParams`'"),this.gridOptions.defaultExportParams):"csv"===t&&this.gridOptions.defaultCsvExportParams?this.gridOptions.defaultCsvExportParams:"excel"===t&&this.gridOptions.defaultExcelExportParams?this.gridOptions.defaultExcelExportParams:void 0},g.prototype.isSuppressCsvExport=function(){return Me(this.gridOptions.suppressCsvExport)},g.prototype.isAllowShowChangeAfterFilter=function(){return Me(this.gridOptions.allowShowChangeAfterFilter)},g.prototype.isSuppressExcelExport=function(){return Me(this.gridOptions.suppressExcelExport)},g.prototype.isSuppressMakeColumnVisibleAfterUnGroup=function(){return Me(this.gridOptions.suppressMakeColumnVisibleAfterUnGroup)},g.prototype.getDataPathFunc=function(){return this.gridOptions.getDataPath},g.prototype.getIsServerSideGroupFunc=function(){return this.gridOptions.isServerSideGroup},g.prototype.getIsServerSideGroupOpenByDefaultFunc=function(){return this.gridOptions.isServerSideGroupOpenByDefault},g.prototype.getIsGroupOpenByDefaultFunc=function(){return this.gridOptions.isGroupOpenByDefault},g.prototype.getServerSideGroupKeyFunc=function(){return this.gridOptions.getServerSideGroupKey},g.prototype.getGroupRowAggNodesFunc=function(){return this.gridOptions.groupRowAggNodes},g.prototype.getContextMenuItemsFunc=function(){return this.gridOptions.getContextMenuItems},g.prototype.getMainMenuItemsFunc=function(){return this.gridOptions.getMainMenuItems},g.prototype.getRowNodeIdFunc=function(){return this.gridOptions.getRowNodeId},g.prototype.getNavigateToNextHeaderFunc=function(){return this.gridOptions.navigateToNextHeader},g.prototype.getTabToNextHeaderFunc=function(){return this.gridOptions.tabToNextHeader},g.prototype.getNavigateToNextCellFunc=function(){return this.gridOptions.navigateToNextCell},g.prototype.getTabToNextCellFunc=function(){return this.gridOptions.tabToNextCell},g.prototype.getGridTabIndex=function(){return(this.gridOptions.tabIndex||0).toString()},g.prototype.isTreeData=function(){return!!Me(this.gridOptions.treeData)&&Vt.assertRegistered(B.ModuleNames.RowGroupingModule,"Tree Data")},g.prototype.isValueCache=function(){return Me(this.gridOptions.valueCache)},g.prototype.isValueCacheNeverExpires=function(){return Me(this.gridOptions.valueCacheNeverExpires)},g.prototype.isDeltaSort=function(){return Me(this.gridOptions.deltaSort)},g.prototype.isAggregateOnlyChangedColumns=function(){return Me(this.gridOptions.aggregateOnlyChangedColumns)},g.prototype.getProcessSecondaryColDefFunc=function(){return this.gridOptions.processSecondaryColDef},g.prototype.getProcessSecondaryColGroupDefFunc=function(){return this.gridOptions.processSecondaryColGroupDef},g.prototype.getSendToClipboardFunc=function(){return this.gridOptions.sendToClipboard},g.prototype.getProcessRowPostCreateFunc=function(){return this.gridOptions.processRowPostCreate},g.prototype.getProcessCellForClipboardFunc=function(){return this.gridOptions.processCellForClipboard},g.prototype.getProcessHeaderForClipboardFunc=function(){return this.gridOptions.processHeaderForClipboard},g.prototype.getProcessGroupHeaderForClipboardFunc=function(){return this.gridOptions.processGroupHeaderForClipboard},g.prototype.getProcessCellFromClipboardFunc=function(){return this.gridOptions.processCellFromClipboard},g.prototype.getViewportRowModelPageSize=function(){return Of(this.gridOptions.viewportRowModelPageSize,5)},g.prototype.getViewportRowModelBufferSize=function(){return function(g,i){return g>=0?g:5}(this.gridOptions.viewportRowModelBufferSize)},g.prototype.isServerSideSortingAlwaysResets=function(){return Me(this.gridOptions.serverSideSortingAlwaysResets)},g.prototype.isServerSideFilteringAlwaysResets=function(){return Me(this.gridOptions.serverSideFilteringAlwaysResets)},g.prototype.getPostSortFunc=function(){return this.gridOptions.postSort},g.prototype.getChartToolbarItemsFunc=function(){return this.gridOptions.getChartToolbarItems},g.prototype.getChartThemeOverrides=function(){return this.gridOptions.chartThemeOverrides},g.prototype.getCustomChartThemes=function(){return this.gridOptions.customChartThemes},g.prototype.getChartThemes=function(){return this.gridOptions.chartThemes||["ag-default","ag-material","ag-pastel","ag-vivid","ag-solar"]},g.prototype.getClipboardDeliminator=function(){return J(this.gridOptions.clipboardDeliminator)?this.gridOptions.clipboardDeliminator:"\t"},g.prototype.setProperty=function(t,s,p){void 0===p&&(p=!1);var f=this.gridOptions,_=f[t];(p||_!==s)&&(f[t]=s,this.propertyEventService.dispatchEvent({type:t,currentValue:s,previousValue:_}))},g.prototype.addEventListener=function(t,s){this.propertyEventService.addEventListener(t,s)},g.prototype.removeEventListener=function(t,s){this.propertyEventService.removeEventListener(t,s)},g.prototype.isSkipHeaderOnAutoSize=function(){return!!this.gridOptions.skipHeaderOnAutoSize},g.prototype.getAutoSizePadding=function(){var t=this.gridOptions.autoSizePadding;return null!=t&&t>=0?t:20},g.prototype.getHeaderHeight=function(){return"number"==typeof this.gridOptions.headerHeight?this.gridOptions.headerHeight:this.getFromTheme(25,"headerHeight")},g.prototype.getFloatingFiltersHeight=function(){return"number"==typeof this.gridOptions.floatingFiltersHeight?this.gridOptions.floatingFiltersHeight:this.getFromTheme(25,"headerHeight")},g.prototype.getGroupHeaderHeight=function(){return"number"==typeof this.gridOptions.groupHeaderHeight?this.gridOptions.groupHeaderHeight:this.getHeaderHeight()},g.prototype.getPivotHeaderHeight=function(){return"number"==typeof this.gridOptions.pivotHeaderHeight?this.gridOptions.pivotHeaderHeight:this.getHeaderHeight()},g.prototype.getPivotGroupHeaderHeight=function(){return"number"==typeof this.gridOptions.pivotGroupHeaderHeight?this.gridOptions.pivotGroupHeaderHeight:this.getGroupHeaderHeight()},g.prototype.isExternalFilterPresent=function(){return"function"==typeof this.gridOptions.isExternalFilterPresent&&this.gridOptions.isExternalFilterPresent()},g.prototype.doesExternalFilterPass=function(t){return"function"==typeof this.gridOptions.doesExternalFilterPass&&this.gridOptions.doesExternalFilterPass(t)},g.prototype.getTooltipDelay=function(t){var s=this.gridOptions,_="show"===t?s.tooltipShowDelay:s.tooltipHideDelay,b=k_(t);return J(_)?(_<0&&En(function(){return console.warn("ag-grid: tooltip"+b+"Delay should not be lower than 0")},"tooltip"+b+"DelayWarn"),Math.max(200,_)):null},g.prototype.isTooltipMouseTrack=function(){return Me(this.gridOptions.tooltipMouseTrack)},g.prototype.isSuppressModelUpdateAfterUpdateTransaction=function(){return Me(this.gridOptions.suppressModelUpdateAfterUpdateTransaction)},g.prototype.getDocument=function(){var t=null;return this.gridOptions.getDocument&&J(this.gridOptions.getDocument)?t=this.gridOptions.getDocument():this.eGridDiv&&(t=this.eGridDiv.ownerDocument),t&&J(t)?t:document},g.prototype.getMinColWidth=function(){var t=this.gridOptions.minColWidth;if(J(t)&&t>i.MIN_COL_WIDTH)return this.gridOptions.minColWidth;var s=this.getFromTheme(null,"headerCellMinWidth");return J(s)?Math.max(s,i.MIN_COL_WIDTH):i.MIN_COL_WIDTH},g.prototype.getMaxColWidth=function(){return this.gridOptions.maxColWidth&&this.gridOptions.maxColWidth>i.MIN_COL_WIDTH?this.gridOptions.maxColWidth:null},g.prototype.getColWidth=function(){return"number"!=typeof this.gridOptions.colWidth||this.gridOptions.colWidth<i.MIN_COL_WIDTH?200:this.gridOptions.colWidth},g.prototype.getRowBuffer=function(){var t=this.gridOptions.rowBuffer;return"number"==typeof t?t<0&&(En(function(){return console.warn("AG Grid: rowBuffer should not be negative")},"warn rowBuffer negative"),this.gridOptions.rowBuffer=t=0):t=me.ROW_BUFFER_SIZE,t},g.prototype.getRowBufferInPixels=function(){return this.getRowBuffer()*this.getRowHeightAsNumber()},g.prototype.getScrollbarWidth=function(){if(null==this.scrollbarWidth){var s="number"==typeof this.gridOptions.scrollbarWidth&&this.gridOptions.scrollbarWidth>=0?this.gridOptions.scrollbarWidth:Vn();null!=s&&(this.scrollbarWidth=s,this.eventService.dispatchEvent({type:re.EVENT_SCROLLBAR_WIDTH_CHANGED}))}return this.scrollbarWidth},g.prototype.checkForDeprecated=function(){var t=this.gridOptions;t.deprecatedEmbedFullWidthRows&&console.warn("AG Grid: since v21.2, deprecatedEmbedFullWidthRows has been replaced with embedFullWidthRows."),t.rowDeselection&&console.warn("AG Grid: since v24.x, rowDeselection is deprecated and the behaviour is true by default. Please use `suppressRowDeselection` to prevent rows from being deselected."),t.enableMultiRowDragging&&(t.rowDragMultiRow=!0,delete t.enableMultiRowDragging,console.warn("AG Grid: since v26.1, `enableMultiRowDragging` is deprecated. Please use `rowDragMultiRow`."));var s=function(_,b,A){null!=t[_]&&(console.warn("ag-grid: since version "+A+", '"+_+"' is deprecated / renamed, please use the new property name '"+b+"' instead."),null==t[b]&&(t[b]=t[_]))};if(s("batchUpdateWaitMillis","asyncTransactionWaitMillis","23.1.x"),s("deltaRowDataMode","immutableData","23.1.x"),(t.immutableColumns||t.deltaColumnMode)&&console.warn("AG Grid: since v24.0, immutableColumns and deltaColumnMode properties are gone. The grid now works like this as default. To keep column order maintained, set grid property applyColumnDefOrder=true"),s("suppressSetColumnStateEvents","suppressColumnStateEvents","24.0.x"),t.groupRowInnerRenderer||t.groupRowInnerRendererParams||t.groupRowInnerRendererFramework){console.warn("AG Grid: since v24.0, grid properties groupRowInnerRenderer, groupRowInnerRendererFramework and groupRowInnerRendererParams are no longer used."),console.warn("  Instead use the grid properties groupRowRendererParams.innerRenderer, groupRowRendererParams.innerRendererFramework and groupRowRendererParams.innerRendererParams."),console.warn("  For example instead of this:"),console.warn('    groupRowInnerRenderer: "myRenderer"'),console.warn("    groupRowInnerRendererParams: {x: a}"),console.warn("  Replace with this:"),console.warn("    groupRowRendererParams: {"),console.warn('      innerRenderer: "myRenderer",'),console.warn("      innerRendererParams: {x: a}"),console.warn("    }"),console.warn("  We have copied the properties over for you. However to stop this error message, please change your application code."),t.groupRowRendererParams||(t.groupRowRendererParams={});var p=t.groupRowRendererParams;t.groupRowInnerRenderer&&(p.innerRenderer=t.groupRowInnerRenderer),t.groupRowInnerRendererParams&&(p.innerRendererParams=t.groupRowInnerRendererParams),t.groupRowInnerRendererFramework&&(p.innerRendererFramework=t.groupRowInnerRendererFramework)}t.rememberGroupStateWhenNewData&&console.warn("AG Grid: since v24.0, grid property rememberGroupStateWhenNewData is deprecated. This feature was provided before Transaction Updates worked (which keep group state). Now that transaction updates are possible and they keep group state, this feature is no longer needed."),t.detailCellRendererParams&&t.detailCellRendererParams.autoHeight&&(console.warn("AG Grid: since v24.1, grid property detailCellRendererParams.autoHeight is replaced with grid property detailRowAutoHeight. This allows this feature to work when you provide a custom DetailCellRenderer"),t.detailRowAutoHeight=!0),t.suppressKeyboardEvent&&console.warn("AG Grid: since v24.1 suppressKeyboardEvent in the gridOptions has been deprecated and will be removed in\n                 future versions of AG Grid. If you need this to be set for every column use the defaultColDef property."),t.suppressEnterpriseResetOnNewColumns&&console.warn("AG Grid: since v25, grid property suppressEnterpriseResetOnNewColumns is deprecated. This was a temporary property to allow changing columns in Server Side Row Model without triggering a reload. Now that it is possible to dynamically change columns in the grid, this is no longer needed."),t.suppressColumnStateEvents&&console.warn('AG Grid: since v25, grid property suppressColumnStateEvents no longer works due to a refactor that we did. It should be possible to achieve similar using event.source, which would be "api" if the event was due to setting column state via the API'),t.defaultExportParams&&console.warn("AG Grid: since v25.2, the grid property `defaultExportParams` has been replaced by `defaultCsvExportParams` and `defaultExcelExportParams`."),t.stopEditingWhenGridLosesFocus&&(console.warn("AG Grid: since v25.2.2, the grid property `stopEditingWhenGridLosesFocus` has been replaced by `stopEditingWhenCellsLoseFocus`."),t.stopEditingWhenCellsLoseFocus=!0),t.applyColumnDefOrder&&console.warn("AG Grid: since v26.0, the grid property `applyColumnDefOrder` is no longer needed, as this is the default behaviour. To turn this behaviour off, set maintainColumnOrder=true"),t.groupMultiAutoColumn&&(console.warn("AG Grid: since v26.0, the grid property `groupMultiAutoColumn` has been replaced by `groupDisplayType = 'multipleColumns'`"),t.groupDisplayType="multipleColumns"),t.groupUseEntireRow&&(console.warn("AG Grid: since v26.0, the grid property `groupUseEntireRow` has been replaced by `groupDisplayType = 'groupRows'`"),t.groupDisplayType="groupRows"),t.groupSuppressAutoColumn&&(console.warn("AG Grid: since v26.0, the grid property `groupSuppressAutoColumn` has been replaced by `"+(t.treeData?"treeDataDisplayType":"groupDisplayType")+" = 'custom'`"),t.groupDisplayType="custom"),t.defaultGroupSortComparator&&(console.warn("AG Grid: since v26.0, the grid property `defaultGroupSortComparator` has been replaced by `defaultGroupOrderComparator`"),t.defaultGroupOrderComparator=t.defaultGroupSortComparator),t.colWidth&&console.warn("AG Grid: since v26.1, the grid property `colWidth` is deprecated and should be set via `defaultColDef.width`."),t.minColWidth&&console.warn("AG Grid: since v26.1, the grid property `minColWidth` is deprecated and should be set via `defaultColDef.minWidth`."),t.maxColWidth&&console.warn("AG Grid: since v26.1, the grid property `maxColWidth` is deprecated and should be set via `defaultColDef.maxWidth`."),t.reactUi&&console.warn("AG Grid: since v27.0, React UI is on by default, so no need for reactUi=true. To turn it off, set suppressReactUi=true."),t.suppressReactUi&&console.warn("AG Grid: The legacy React rendering engine is deprecated and will be removed in the next major version of the grid."),t.suppressCellSelection&&(console.warn("AG Grid: since v27.0, `suppressCellSelection` has been replaced by `suppressCellFocus`."),t.suppressCellFocus=t.suppressCellSelection)},g.prototype.checkForViolations=function(){this.isTreeData()&&this.treeDataViolations()},g.prototype.treeDataViolations=function(){this.isRowModelDefault()&&E(this.getDataPathFunc())&&console.warn("AG Grid: property usingTreeData=true with rowModel=clientSide, but you did not provide getDataPath function, please provide getDataPath function if using tree data."),this.isRowModelServerSide()&&(E(this.getIsServerSideGroupFunc())&&console.warn("AG Grid: property usingTreeData=true with rowModel=serverSide, but you did not provide isServerSideGroup function, please provide isServerSideGroup function if using tree data."),E(this.getServerSideGroupKeyFunc())&&console.warn("AG Grid: property usingTreeData=true with rowModel=serverSide, but you did not provide getServerSideGroupKey function, please provide getServerSideGroupKey function if using tree data."))},g.prototype.getLocaleTextFunc=function(){if(this.gridOptions.localeTextFunc)return this.gridOptions.localeTextFunc;var t=this.gridOptions.localeText;return function(s,p){var f=t&&t[s];return null!=f?f:p}},g.prototype.globalEventHandler=function(t,s){if(!this.destroyed){var p=Ts.getCallbackForEvent(t);"function"==typeof this.gridOptions[p]&&this.gridOptions[p](s)}},g.prototype.getRowHeightAsNumber=function(){if(!this.gridOptions.rowHeight||E(this.gridOptions.rowHeight))return this.getDefaultRowHeight();if(this.gridOptions.rowHeight&&this.isNumeric(this.gridOptions.rowHeight)){var t=this.eGridDiv.style.getPropertyValue("--ag-theme-row-height").trim(),s=this.gridOptions.rowHeight+"px";return t!=s&&this.eGridDiv.style.setProperty("--ag-theme-row-height",s),this.gridOptions.rowHeight}return console.warn("AG Grid row height must be a number if not using standard row model"),this.getDefaultRowHeight()},g.prototype.getRowHeightForNode=function(t,s,p){if(void 0===s&&(s=!1),null==p&&(p=this.getDefaultRowHeight()),"function"==typeof this.gridOptions.getRowHeight){if(s)return{height:p,estimated:!0};var _=this.gridOptions.getRowHeight({node:t,data:t.data,api:this.gridOptions.api,context:this.gridOptions.context});if(this.isNumeric(_))return 0===_&&En(function(){return console.warn("AG Grid: The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead.")},"invalidRowHeight"),{height:Math.max(1,_),estimated:!1}}return t.detail&&this.isMasterDetail()?this.isDetailRowAutoHeight()?{height:1,estimated:!1}:this.isNumeric(this.gridOptions.detailRowHeight)?{height:this.gridOptions.detailRowHeight,estimated:!1}:{height:300,estimated:!1}:{height:this.gridOptions.rowHeight&&this.isNumeric(this.gridOptions.rowHeight)?this.gridOptions.rowHeight:p,estimated:!1}},g.prototype.isDynamicRowHeight=function(){return"function"==typeof this.gridOptions.getRowHeight},g.prototype.getListItemHeight=function(){return this.getFromTheme(20,"listItemHeight")},g.prototype.chartMenuPanelWidth=function(){return this.environment.chartMenuPanelWidth()},g.prototype.isNumeric=function(t){return!isNaN(t)&&"number"==typeof t&&isFinite(t)},g.prototype.getFromTheme=function(t,s){var p=this.environment.getTheme().theme;return p&&0===p.indexOf("ag-theme")?this.environment.getSassVariable(p,s):t},g.prototype.getDefaultRowHeight=function(){return this.getFromTheme(25,"rowHeight")},g.prototype.matchesGroupDisplayType=function(t,s){var p=["groupRows","multipleColumns","custom","singleColumn"];return p.indexOf(s)<0?(console.warn("AG Grid: '"+s+"' is not a valid groupDisplayType value - possible values are: '"+p.join("', '")+"'"),!1):s===t},g.prototype.matchesTreeDataDisplayType=function(t,s){var p=["auto","custom"];return p.indexOf(s)<0?(console.warn("AG Grid: '"+s+"' is not a valid treeDataDisplayType value - possible values are: '"+p.join("', '")+"'"),!1):s===t},g.MIN_COL_WIDTH=10,g.PROP_HEADER_HEIGHT="headerHeight",g.PROP_GROUP_REMOVE_SINGLE_CHILDREN="groupRemoveSingleChildren",g.PROP_GROUP_REMOVE_LOWEST_SINGLE_CHILDREN="groupRemoveLowestSingleChildren",g.PROP_PIVOT_HEADER_HEIGHT="pivotHeaderHeight",g.PROP_SUPPRESS_CLIPBOARD_PASTE="suppressClipboardPaste",g.PROP_GROUP_HEADER_HEIGHT="groupHeaderHeight",g.PROP_PIVOT_GROUP_HEADER_HEIGHT="pivotGroupHeaderHeight",g.PROP_NAVIGATE_TO_NEXT_CELL="navigateToNextCell",g.PROP_TAB_TO_NEXT_CELL="tabToNextCell",g.PROP_NAVIGATE_TO_NEXT_HEADER="navigateToNextHeader",g.PROP_TAB_TO_NEXT_HEADER="tabToNextHeader",g.PROP_IS_EXTERNAL_FILTER_PRESENT="isExternalFilterPresent",g.PROP_DOES_EXTERNAL_FILTER_PASS="doesExternalFilterPass",g.PROP_FLOATING_FILTERS_HEIGHT="floatingFiltersHeight",g.PROP_SUPPRESS_ROW_CLICK_SELECTION="suppressRowClickSelection",g.PROP_SUPPRESS_ROW_DRAG="suppressRowDrag",g.PROP_SUPPRESS_MOVE_WHEN_ROW_DRAG="suppressMoveWhenRowDragging",g.PROP_GET_ROW_CLASS="getRowClass",g.PROP_GET_ROW_STYLE="getRowStyle",g.PROP_GET_ROW_HEIGHT="getRowHeight",g.PROP_POPUP_PARENT="popupParent",g.PROP_DOM_LAYOUT="domLayout",g.PROP_FILL_HANDLE_DIRECTION="fillHandleDirection",g.PROP_GROUP_ROW_AGG_NODES="groupRowAggNodes",g.PROP_GET_BUSINESS_KEY_FOR_NODE="getBusinessKeyForNode",g.PROP_GET_CHILD_COUNT="getChildCount",g.PROP_PROCESS_ROW_POST_CREATE="processRowPostCreate",g.PROP_GET_ROW_NODE_ID="getRowNodeId",g.PROP_IS_FULL_WIDTH_CELL="isFullWidthCell",g.PROP_IS_ROW_SELECTABLE="isRowSelectable",g.PROP_IS_ROW_MASTER="isRowMaster",g.PROP_POST_SORT="postSort",g.PROP_GET_DOCUMENT="getDocument",g.PROP_POST_PROCESS_POPUP="postProcessPopup",g.PROP_DEFAULT_GROUP_ORDER_COMPARATOR="defaultGroupOrderComparator",g.PROP_PAGINATION_NUMBER_FORMATTER="paginationNumberFormatter",g.PROP_GET_CONTEXT_MENU_ITEMS="getContextMenuItems",g.PROP_GET_MAIN_MENU_ITEMS="getMainMenuItems",g.PROP_PROCESS_CELL_FOR_CLIPBOARD="processCellForClipboard",g.PROP_PROCESS_CELL_FROM_CLIPBOARD="processCellFromClipboard",g.PROP_SEND_TO_CLIPBOARD="sendToClipboard",g.PROP_PROCESS_TO_SECONDARY_COLDEF="processSecondaryColDef",g.PROP_PROCESS_SECONDARY_COL_GROUP_DEF="processSecondaryColGroupDef",g.PROP_GET_CHART_TOOLBAR_ITEMS="getChartToolbarItems",g.PROP_GET_SERVER_SIDE_STORE_PARAMS="getServerSideStoreParams",g.PROP_IS_SERVER_SIDE_GROUPS_OPEN_BY_DEFAULT="isServerSideGroupOpenByDefault",g.PROP_IS_APPLY_SERVER_SIDE_TRANSACTION="isApplyServerSideTransaction",g.PROP_IS_SERVER_SIDE_GROUP="isServerSideGroup",g.PROP_GET_SERVER_SIDE_GROUP_KEY="getServerSideGroupKey",qr([$("gridOptions")],g.prototype,"gridOptions",void 0),qr([$("eventService")],g.prototype,"eventService",void 0),qr([$("environment")],g.prototype,"environment",void 0),qr([$("eGridDiv")],g.prototype,"eGridDiv",void 0),qr([Ef(0,bi("gridApi")),Ef(1,bi("columnApi"))],g.prototype,"agWire",null),qr([hi],g.prototype,"destroy",null),qr([$e],g.prototype,"init",null),i=qr([tt("gridOptionsWrapper")],g)}(),xf=function(){function g(i,t){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=i,this.pathRoot={rowNode:t,children:null},this.mapToItems[t.id]=this.pathRoot}return g.prototype.setInactive=function(){this.active=!1},g.prototype.isActive=function(){return this.active},g.prototype.depthFirstSearchChangedPath=function(i,t){if(i.children)for(var s=0;s<i.children.length;s++)this.depthFirstSearchChangedPath(i.children[s],t);t(i.rowNode)},g.prototype.depthFirstSearchEverything=function(i,t,s){if(i.childrenAfterGroup)for(var p=0;p<i.childrenAfterGroup.length;p++){var f=i.childrenAfterGroup[p];f.childrenAfterGroup?this.depthFirstSearchEverything(i.childrenAfterGroup[p],t,s):s&&t(f)}t(i)},g.prototype.forEachChangedNodeDepthFirst=function(i,t){void 0===t&&(t=!1),this.active?this.depthFirstSearchChangedPath(this.pathRoot,i):this.depthFirstSearchEverything(this.pathRoot.rowNode,i,t)},g.prototype.executeFromRootNode=function(i){i(this.pathRoot.rowNode)},g.prototype.createPathItems=function(i){for(var t=i,s=0;!this.mapToItems[t.id];)this.mapToItems[t.id]={rowNode:t,children:null},s++,t=t.parent;return s},g.prototype.populateColumnsMap=function(i,t){var s=this;if(this.keepingColumns&&t)for(var p=i;p;)this.nodeIdsToColumns[p.id]||(this.nodeIdsToColumns[p.id]={}),t.forEach(function(f){return s.nodeIdsToColumns[p.id][f.getId()]=!0}),p=p.parent},g.prototype.linkPathItems=function(i,t){for(var s=i,p=0;p<t;p++){var f=this.mapToItems[s.id],_=this.mapToItems[s.parent.id];_.children||(_.children=[]),_.children.push(f),s=s.parent}},g.prototype.addParentNode=function(i,t){if(i&&!i.isRowPinned()){var s=this.createPathItems(i);this.linkPathItems(i,s),this.populateColumnsMap(i,t)}},g.prototype.canSkip=function(i){return this.active&&!this.mapToItems[i.id]},g.prototype.getValueColumnsForNode=function(i,t){if(!this.keepingColumns)return t;var s=this.nodeIdsToColumns[i.id];return t.filter(function(f){return s[f.getId()]})},g.prototype.getNotValueColumnsForNode=function(i,t){if(!this.keepingColumns)return null;var s=this.nodeIdsToColumns[i.id];return t.filter(function(f){return!s[f.getId()]})},g}(),gS=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),Fl=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},Rp=function(g,i){return function(t,s){i(t,s,g)}},$c=function(g){function i(){return null!==g&&g.apply(this,arguments)||this}return gS(i,g),i.prototype.setBeans=function(t){this.logger=t.create("selectionService"),this.reset(),this.gridOptionsWrapper.isRowModelDefault()&&this.addManagedListener(this.eventService,re.EVENT_ROW_DATA_CHANGED,this.reset.bind(this))},i.prototype.init=function(){this.groupSelectsChildren=this.gridOptionsWrapper.isGroupSelectsChildren(),this.addManagedListener(this.eventService,re.EVENT_ROW_SELECTED,this.onRowSelected.bind(this))},i.prototype.setLastSelectedNode=function(t){this.lastSelectedNode=t},i.prototype.getLastSelectedNode=function(){return this.lastSelectedNode},i.prototype.getSelectedNodes=function(){var t=[];return Sn(this.selectedNodes,function(s,p){p&&t.push(p)}),t},i.prototype.getSelectedRows=function(){var t=[];return Sn(this.selectedNodes,function(s,p){p&&p.data&&t.push(p.data)}),t},i.prototype.removeGroupsFromSelection=function(){var t=this;Sn(this.selectedNodes,function(s,p){p&&p.group&&(t.selectedNodes[p.id]=void 0)})},i.prototype.updateGroupsFromChildrenSelections=function(t){if(this.gridOptionsWrapper.isGroupSelectsChildren()&&this.rowModel.getType()===me.ROW_MODEL_TYPE_CLIENT_SIDE){var p=this.rowModel.getRootNode();t||(t=new xf(!0,p)).setInactive(),t.forEachChangedNodeDepthFirst(function(f){f!==p&&f.calculateSelectedFromChildren()})}},i.prototype.getNodeForIdIfSelected=function(t){return this.selectedNodes[t]},i.prototype.clearOtherNodes=function(t){var s=this,p={},f=0;return Sn(this.selectedNodes,function(_,b){b&&b.id!==t.id&&(f+=s.selectedNodes[b.id].setSelectedParams({newValue:!1,clearSelection:!1,suppressFinishActions:!0}),s.groupSelectsChildren&&b.parent&&(p[b.parent.id]=b.parent))}),Sn(p,function(_,b){b.calculateSelectedFromChildren()}),f},i.prototype.onRowSelected=function(t){var s=t.node;this.groupSelectsChildren&&s.group||(this.selectedNodes[s.id]=s.isSelected()?s:void 0)},i.prototype.syncInRowNode=function(t,s){this.syncInOldRowNode(t,s),this.syncInNewRowNode(t)},i.prototype.syncInOldRowNode=function(t,s){J(s)&&t.id!==s.id&&s&&this.selectedNodes[s.id]==t&&(this.selectedNodes[s.id]=s)},i.prototype.syncInNewRowNode=function(t){J(this.selectedNodes[t.id])?(t.setSelectedInitialValue(!0),this.selectedNodes[t.id]=t):t.setSelectedInitialValue(!1)},i.prototype.reset=function(){this.logger.log("reset"),this.selectedNodes={},this.lastSelectedNode=null},i.prototype.getBestCostNodeSelection=function(){if(this.rowModel.getType()===me.ROW_MODEL_TYPE_CLIENT_SIDE){var s=this.rowModel.getTopLevelNodes();if(null!==s){var p=[];return function f(_){for(var b=0,A=_.length;b<A;b++){var M=_[b];M.isSelected()?p.push(M):M.group&&M.children&&f(M.children)}}(s),p}console.warn("AG Grid: `selectAll` not available doing `rowModel=virtual`")}else console.warn("AG Grid: `getBestCostNodeSelection` is only available when using normal row model")},i.prototype.setRowModel=function(t){this.rowModel=t},i.prototype.isEmpty=function(){var t=0;return Sn(this.selectedNodes,function(s,p){p&&t++}),0===t},i.prototype.deselectAllRowNodes=function(t){void 0===t&&(t=!1);var s=function(b){return b.selectThisNode(!1)},p=this.rowModel.getType()===me.ROW_MODEL_TYPE_CLIENT_SIDE;if(t){if(!p)return void console.error("AG Grid: selecting just filtered only works with In Memory Row Model");this.rowModel.forEachNodeAfterFilter(s)}else Sn(this.selectedNodes,function(b,A){A&&s(A)}),this.reset();p&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(),this.eventService.dispatchEvent({type:re.EVENT_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi})},i.prototype.selectAllRowNodes=function(t){if(void 0===t&&(t=!1),this.rowModel.getType()!==me.ROW_MODEL_TYPE_CLIENT_SIDE)throw new Error("selectAll only available with normal row model, ie not "+this.rowModel.getType());var s=this.rowModel,p=function(_){return _.selectThisNode(!0)};t?s.forEachNodeAfterFilter(p):s.forEachNode(p),this.rowModel.getType()===me.ROW_MODEL_TYPE_CLIENT_SIDE&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(),this.eventService.dispatchEvent({type:re.EVENT_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi})},i.prototype.selectNode=function(t,s){t&&t.setSelectedParams({newValue:!0,clearSelection:!s})},i.prototype.deselectIndex=function(t){var s=this.rowModel.getRow(t);this.deselectNode(s)},i.prototype.deselectNode=function(t){t&&t.setSelectedParams({newValue:!1,clearSelection:!1})},i.prototype.selectIndex=function(t,s){var p=this.rowModel.getRow(t);this.selectNode(p,s)},Fl([$("rowModel")],i.prototype,"rowModel",void 0),Fl([$("columnApi")],i.prototype,"columnApi",void 0),Fl([$("gridApi")],i.prototype,"gridApi",void 0),Fl([Rp(0,bi("loggerFactory"))],i.prototype,"setBeans",null),Fl([$e],i.prototype,"init",null),Fl([tt("selectionService")],i)}(Ge),Af=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},Ar=function(){function g(){}return g.prototype.sizeColumnsToFit=function(i){void 0===i&&console.error("AG Grid: missing parameter to columnApi.sizeColumnsToFit(gridWidth)"),this.columnModel.sizeColumnsToFit(i,"api")},g.prototype.setColumnGroupOpened=function(i,t){this.columnModel.setColumnGroupOpened(i,t,"api")},g.prototype.getColumnGroup=function(i,t){return this.columnModel.getColumnGroup(i,t)},g.prototype.getProvidedColumnGroup=function(i){return this.columnModel.getProvidedColumnGroup(i)},g.prototype.getDisplayNameForColumn=function(i,t){return this.columnModel.getDisplayNameForColumn(i,t)||""},g.prototype.getDisplayNameForColumnGroup=function(i,t){return this.columnModel.getDisplayNameForColumnGroup(i,t)||""},g.prototype.getColumn=function(i){return this.columnModel.getPrimaryColumn(i)},g.prototype.applyColumnState=function(i){return this.columnModel.applyColumnState(i,"api")},g.prototype.getColumnState=function(){return this.columnModel.getColumnState()},g.prototype.resetColumnState=function(){this.columnModel.resetColumnState("api")},g.prototype.getColumnGroupState=function(){return this.columnModel.getColumnGroupState()},g.prototype.setColumnGroupState=function(i){this.columnModel.setColumnGroupState(i,"api")},g.prototype.resetColumnGroupState=function(){this.columnModel.resetColumnGroupState("api")},g.prototype.isPinning=function(){return this.columnModel.isPinningLeft()||this.columnModel.isPinningRight()},g.prototype.isPinningLeft=function(){return this.columnModel.isPinningLeft()},g.prototype.isPinningRight=function(){return this.columnModel.isPinningRight()},g.prototype.getDisplayedColAfter=function(i){return this.columnModel.getDisplayedColAfter(i)},g.prototype.getDisplayedColBefore=function(i){return this.columnModel.getDisplayedColBefore(i)},g.prototype.setColumnVisible=function(i,t){this.columnModel.setColumnVisible(i,t,"api")},g.prototype.setColumnsVisible=function(i,t){this.columnModel.setColumnsVisible(i,t,"api")},g.prototype.setColumnPinned=function(i,t){this.columnModel.setColumnPinned(i,t,"api")},g.prototype.setColumnsPinned=function(i,t){this.columnModel.setColumnsPinned(i,t,"api")},g.prototype.getAllColumns=function(){return this.columnModel.getAllPrimaryColumns()},g.prototype.getAllGridColumns=function(){return this.columnModel.getAllGridColumns()},g.prototype.getDisplayedLeftColumns=function(){return this.columnModel.getDisplayedLeftColumns()},g.prototype.getDisplayedCenterColumns=function(){return this.columnModel.getDisplayedCenterColumns()},g.prototype.getDisplayedRightColumns=function(){return this.columnModel.getDisplayedRightColumns()},g.prototype.getAllDisplayedColumns=function(){return this.columnModel.getAllDisplayedColumns()},g.prototype.getAllDisplayedVirtualColumns=function(){return this.columnModel.getViewportColumns()},g.prototype.moveColumn=function(i,t){"number"==typeof i?(console.warn("AG Grid: you are using moveColumn(fromIndex, toIndex) - moveColumn takes a column key and a destination index, not two indexes, to move with indexes use moveColumnByIndex(from,to) instead"),this.columnModel.moveColumnByIndex(i,t,"api")):this.columnModel.moveColumn(i,t,"api")},g.prototype.moveColumnByIndex=function(i,t){this.columnModel.moveColumnByIndex(i,t,"api")},g.prototype.moveColumns=function(i,t){this.columnModel.moveColumns(i,t,"api")},g.prototype.moveRowGroupColumn=function(i,t){this.columnModel.moveRowGroupColumn(i,t)},g.prototype.setColumnAggFunc=function(i,t){this.columnModel.setColumnAggFunc(i,t)},g.prototype.setColumnWidth=function(i,t,s,p){void 0===s&&(s=!0),this.columnModel.setColumnWidths([{key:i,newWidth:t}],!1,s,p)},g.prototype.setColumnWidths=function(i,t,s){void 0===t&&(t=!0),this.columnModel.setColumnWidths(i,!1,t,s)},g.prototype.setPivotMode=function(i){this.columnModel.setPivotMode(i)},g.prototype.isPivotMode=function(){return this.columnModel.isPivotMode()},g.prototype.getSecondaryPivotColumn=function(i,t){return this.columnModel.getSecondaryPivotColumn(i,t)},g.prototype.setValueColumns=function(i){this.columnModel.setValueColumns(i,"api")},g.prototype.getValueColumns=function(){return this.columnModel.getValueColumns()},g.prototype.removeValueColumn=function(i){this.columnModel.removeValueColumn(i,"api")},g.prototype.removeValueColumns=function(i){this.columnModel.removeValueColumns(i,"api")},g.prototype.addValueColumn=function(i){this.columnModel.addValueColumn(i,"api")},g.prototype.addValueColumns=function(i){this.columnModel.addValueColumns(i,"api")},g.prototype.setRowGroupColumns=function(i){this.columnModel.setRowGroupColumns(i,"api")},g.prototype.removeRowGroupColumn=function(i){this.columnModel.removeRowGroupColumn(i,"api")},g.prototype.removeRowGroupColumns=function(i){this.columnModel.removeRowGroupColumns(i,"api")},g.prototype.addRowGroupColumn=function(i){this.columnModel.addRowGroupColumn(i,"api")},g.prototype.addRowGroupColumns=function(i){this.columnModel.addRowGroupColumns(i,"api")},g.prototype.getRowGroupColumns=function(){return this.columnModel.getRowGroupColumns()},g.prototype.setPivotColumns=function(i){this.columnModel.setPivotColumns(i,"api")},g.prototype.removePivotColumn=function(i){this.columnModel.removePivotColumn(i,"api")},g.prototype.removePivotColumns=function(i){this.columnModel.removePivotColumns(i,"api")},g.prototype.addPivotColumn=function(i){this.columnModel.addPivotColumn(i,"api")},g.prototype.addPivotColumns=function(i){this.columnModel.addPivotColumns(i,"api")},g.prototype.getPivotColumns=function(){return this.columnModel.getPivotColumns()},g.prototype.getLeftDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeLeft()},g.prototype.getCenterDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeCentre()},g.prototype.getRightDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeRight()},g.prototype.getAllDisplayedColumnGroups=function(){return this.columnModel.getAllDisplayedTrees()},g.prototype.autoSizeColumn=function(i,t){return this.columnModel.autoSizeColumn(i,t,"api")},g.prototype.autoSizeColumns=function(i,t){this.columnModel.autoSizeColumns({columns:i,skipHeader:t})},g.prototype.autoSizeAllColumns=function(i){this.columnModel.autoSizeAllColumns(i,"api")},g.prototype.setSecondaryColumns=function(i){this.columnModel.setSecondaryColumns(i,"api")},g.prototype.getSecondaryColumns=function(){return this.columnModel.getSecondaryColumns()},g.prototype.getPrimaryColumns=function(){return this.columnModel.getAllPrimaryColumns()},g.prototype.cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid=function(){setTimeout(gt.removeAllReferences.bind(window,this,"Column API"),100)},g.prototype.columnGroupOpened=function(i,t){console.error("AG Grid: columnGroupOpened no longer exists, use setColumnGroupOpened"),this.setColumnGroupOpened(i,t)},g.prototype.hideColumns=function(i,t){console.error("AG Grid: hideColumns is deprecated, use setColumnsVisible"),this.columnModel.setColumnsVisible(i,!t,"api")},g.prototype.hideColumn=function(i,t){console.error("AG Grid: hideColumn is deprecated, use setColumnVisible"),this.columnModel.setColumnVisible(i,!t,"api")},g.prototype.setState=function(i){return console.error("AG Grid: setState is deprecated, use setColumnState"),this.setColumnState(i)},g.prototype.getState=function(){return console.error("AG Grid: getState is deprecated, use getColumnState"),this.getColumnState()},g.prototype.resetState=function(){console.error("AG Grid: resetState is deprecated, use resetColumnState"),this.resetColumnState()},g.prototype.getAggregationColumns=function(){return console.error("AG Grid: getAggregationColumns is deprecated, use getValueColumns"),this.columnModel.getValueColumns()},g.prototype.removeAggregationColumn=function(i){console.error("AG Grid: removeAggregationColumn is deprecated, use removeValueColumn"),this.columnModel.removeValueColumn(i,"api")},g.prototype.removeAggregationColumns=function(i){console.error("AG Grid: removeAggregationColumns is deprecated, use removeValueColumns"),this.columnModel.removeValueColumns(i,"api")},g.prototype.addAggregationColumn=function(i){console.error("AG Grid: addAggregationColumn is deprecated, use addValueColumn"),this.columnModel.addValueColumn(i,"api")},g.prototype.addAggregationColumns=function(i){console.error("AG Grid: addAggregationColumns is deprecated, use addValueColumns"),this.columnModel.addValueColumns(i,"api")},g.prototype.setColumnAggFunction=function(i,t){console.error("AG Grid: setColumnAggFunction is deprecated, use setColumnAggFunc"),this.columnModel.setColumnAggFunc(i,t,"api")},g.prototype.getDisplayNameForCol=function(i){return console.error("AG Grid: getDisplayNameForCol is deprecated, use getDisplayNameForColumn"),this.getDisplayNameForColumn(i,null)},g.prototype.setColumnState=function(i){return console.error("AG Grid: setColumnState is deprecated, use applyColumnState"),this.columnModel.applyColumnState({state:i,applyOrder:!0},"api")},g.prototype.getOriginalColumnGroup=function(i){return console.error("AG Grid: getOriginalColumnGroup is deprecated, use getProvidedColumnGroup"),this.columnModel.getProvidedColumnGroup(i)},Af([$("columnModel")],g.prototype,"columnModel",void 0),Af([hi],g.prototype,"cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid",null),Af([tt("columnApi")],g)}();(function(g){g[g.FILL=0]="FILL",g[g.RANGE=1]="RANGE"})(B.SelectionHandleType||(B.SelectionHandleType={})),function(g){g[g.VALUE=0]="VALUE",g[g.DIMENSION=1]="DIMENSION"}(B.CellRangeType||(B.CellRangeType={}));var Fu="ag-cell-range-selected",CC=function(){function g(i,t){this.beans=i,this.cellCtrl=t}return g.prototype.setComp=function(i){this.cellComp=i,this.onRangeSelectionChanged()},g.prototype.onRangeSelectionChanged=function(){!this.cellComp||(this.rangeCount=this.beans.rangeService.getCellRangeCount(this.cellCtrl.getCellPosition()),this.hasChartRange=this.getHasChartRange(),this.cellComp.addOrRemoveCssClass(Fu,0!==this.rangeCount),this.cellComp.addOrRemoveCssClass(Fu+"-1",1===this.rangeCount),this.cellComp.addOrRemoveCssClass(Fu+"-2",2===this.rangeCount),this.cellComp.addOrRemoveCssClass(Fu+"-3",3===this.rangeCount),this.cellComp.addOrRemoveCssClass(Fu+"-4",this.rangeCount>=4),this.cellComp.addOrRemoveCssClass("ag-cell-range-chart",this.hasChartRange),this.cellComp.setAriaSelected(this.rangeCount>0||void 0),this.cellComp.addOrRemoveCssClass("ag-cell-range-single-cell",this.isSingleCell()),this.updateRangeBorders(),this.refreshHandle())},g.prototype.updateRangeBorders=function(){var i=this.getRangeBorders(),t=this.isSingleCell(),p=!t&&i.right,f=!t&&i.bottom,_=!t&&i.left;this.cellComp.addOrRemoveCssClass("ag-cell-range-top",!t&&i.top),this.cellComp.addOrRemoveCssClass("ag-cell-range-right",p),this.cellComp.addOrRemoveCssClass("ag-cell-range-bottom",f),this.cellComp.addOrRemoveCssClass("ag-cell-range-left",_)},g.prototype.isSingleCell=function(){var i=this.beans.rangeService;return 1===this.rangeCount&&i&&!i.isMoreThanOneCell()},g.prototype.getHasChartRange=function(){var i=this.beans.rangeService;if(!this.rangeCount||!i)return!1;var t=i.getCellRanges();return t.length>0&&t.every(function(s){return ho([B.CellRangeType.DIMENSION,B.CellRangeType.VALUE],s.type)})},g.prototype.updateRangeBordersIfRangeCount=function(){this.rangeCount>0&&(this.updateRangeBorders(),this.refreshHandle())},g.prototype.getRangeBorders=function(){var G,U,i=this,t=this.beans.gridOptionsWrapper.isEnableRtl(),s=!1,p=!1,f=!1,_=!1,b=this.cellCtrl.getCellPosition().column,A=this.beans,M=A.rangeService,L=A.columnModel;t?(G=L.getDisplayedColAfter(b),U=L.getDisplayedColBefore(b)):(G=L.getDisplayedColBefore(b),U=L.getDisplayedColAfter(b));var te=M.getCellRanges().filter(function(Re){return M.isCellInSpecificRange(i.cellCtrl.getCellPosition(),Re)});G||(_=!0),U||(p=!0);for(var le=0;le<te.length&&!(s&&p&&f&&_);le++){var ge=te[le],ve=M.getRangeStartRow(ge),we=M.getRangeEndRow(ge);!s&&this.beans.rowPositionUtils.sameRow(ve,this.cellCtrl.getCellPosition())&&(s=!0),!f&&this.beans.rowPositionUtils.sameRow(we,this.cellCtrl.getCellPosition())&&(f=!0),!_&&G&&ge.columns.indexOf(G)<0&&(_=!0),!p&&U&&ge.columns.indexOf(U)<0&&(p=!0)}return{top:s,right:p,bottom:f,left:_}},g.prototype.refreshHandle=function(){if(this.beans.rangeService){var i=this.shouldHaveSelectionHandle();this.selectionHandle&&!i&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),i&&this.addSelectionHandle(),this.cellComp.addOrRemoveCssClass("ag-cell-range-handle",!!this.selectionHandle)}},g.prototype.shouldHaveSelectionHandle=function(){var i=this.beans,t=i.gridOptionsWrapper,s=i.rangeService,p=s.getCellRanges(),f=p.length;if(this.rangeCount<1||f<1)return!1;var _=Rn(p),b=this.cellCtrl.getCellPosition(),A=t.isEnableFillHandle()&&!this.cellCtrl.isSuppressFillHandle(),M=t.isEnableRangeHandle(),L=1===f&&!this.cellCtrl.isEditing()&&(A||M);if(this.hasChartRange){var U=p[0].type===B.CellRangeType.DIMENSION&&s.isCellInSpecificRange(b,p[0]);this.cellComp.addOrRemoveCssClass("ag-cell-range-chart-category",U),L=_.type===B.CellRangeType.VALUE}return L&&null!=_.endRow&&s.isContiguousRange(_)&&s.isBottomRightCell(_,b)},g.prototype.addSelectionHandle=function(){var i=this.beans,t=i.gridOptionsWrapper,p=Rn(i.rangeService.getCellRanges()).type,_=t.isEnableFillHandle()&&E(p)?B.SelectionHandleType.FILL:B.SelectionHandleType.RANGE;this.selectionHandle&&this.selectionHandle.getType()!==_&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),this.selectionHandle||(this.selectionHandle=this.beans.selectionHandleFactory.createSelectionHandle(_)),this.selectionHandle.refresh(this.cellCtrl)},g.prototype.destroy=function(){this.beans.context.destroyBean(this.selectionHandle)},g}(),Us=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),bC=function(g){function i(t,s){var p=g.call(this)||this;return p.cellCtrl=t,p.beans=s,p.column=t.getColumn(),p.rowNode=t.getRowNode(),p.setupColSpan(),p.setupRowSpan(),p}return Us(i,g),i.prototype.setupRowSpan=function(){this.rowSpan=this.column.getRowSpan(this.rowNode)},i.prototype.setComp=function(t){this.eGui=t,this.onLeftChanged(),this.onWidthChanged(),this.applyRowSpan()},i.prototype.onDisplayColumnsChanged=function(){var t=this.getColSpanningList();hu(this.colsSpanning,t)||(this.colsSpanning=t,this.onWidthChanged(),this.onLeftChanged())},i.prototype.setupColSpan=function(){null!=this.column.getColDef().colSpan&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListener(this.beans.eventService,re.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayColumnsChanged.bind(this)),this.addManagedListener(this.beans.eventService,re.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onWidthChanged.bind(this)))},i.prototype.onWidthChanged=function(){if(this.eGui){var t=this.getCellWidth();this.eGui.style.width=t+"px"}},i.prototype.getCellWidth=function(){return this.colsSpanning?this.colsSpanning.reduce(function(t,s){return t+s.getActualWidth()},0):this.column.getActualWidth()},i.prototype.getColSpanningList=function(){var t=this.column.getColSpan(this.rowNode),s=[];if(1===t)s.push(this.column);else for(var p=this.column,f=this.column.getPinned(),_=0;p&&_<t&&(s.push(p),(p=this.beans.columnModel.getDisplayedColAfter(p))&&!E(p)&&f===p.getPinned());_++);return s},i.prototype.onLeftChanged=function(){if(this.eGui){var t=this.modifyLeftForPrintLayout(this.getCellLeft());this.eGui.style.left=t+"px"}},i.prototype.getCellLeft=function(){return(this.beans.gridOptionsWrapper.isEnableRtl()&&this.colsSpanning?Rn(this.colsSpanning):this.column).getLeft()},i.prototype.modifyLeftForPrintLayout=function(t){if(!this.cellCtrl.isPrintLayout()||this.column.getPinned()===me.PINNED_LEFT)return t;var s=this.beans.columnModel.getDisplayedColumnsLeftWidth();return this.column.getPinned()===me.PINNED_RIGHT?s+this.beans.columnModel.getBodyContainerWidth()+(t||0):s+(t||0)},i.prototype.applyRowSpan=function(){if(1!==this.rowSpan){var t=this.beans.gridOptionsWrapper.getRowHeightAsNumber();this.eGui.style.height=t*this.rowSpan+"px",this.eGui.style.zIndex="1"}},i.prototype.destroy=function(){g.prototype.destroy.call(this)},i}(Ge),OD=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),yS=function(g){function i(t,s){var p=g.call(this)||this;return p.staticClasses=[],p.cellCtrl=t,p.beans=s,p.column=t.getColumn(),p.rowNode=t.getRowNode(),p}return OD(i,g),i.prototype.setComp=function(t,s){this.cellComp=t,this.scope=s,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()},i.prototype.applyCellClassRules=function(){var t=this,s=this.column.getColDef(),p={value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,colDef:s,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),$scope:this.scope,context:this.beans.gridOptionsWrapper.getContext()};this.beans.stylingService.processClassRules(s.cellClassRules,p,function(f){return t.cellComp.addOrRemoveCssClass(f,!0)},function(f){return t.cellComp.addOrRemoveCssClass(f,!1)})},i.prototype.applyUserStyles=function(){var t=this.column.getColDef();if(t.cellStyle){var s;if("function"==typeof t.cellStyle){var p={column:this.column,value:this.cellCtrl.getValue(),colDef:t,data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex,$scope:this.scope,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()};s=(0,t.cellStyle)(p)}else s=t.cellStyle;this.cellComp.setUserStyles(s)}},i.prototype.applyClassesFromColDef=function(){var t=this,s=this.column.getColDef(),p={value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,colDef:s,rowIndex:this.rowNode.rowIndex,$scope:this.scope,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()};this.staticClasses.length&&this.staticClasses.forEach(function(f){return t.cellComp.addOrRemoveCssClass(f,!1)}),this.staticClasses=this.beans.stylingService.getStaticCellClasses(s,p),this.staticClasses.length&&this.staticClasses.forEach(function(f){return t.cellComp.addOrRemoveCssClass(f,!0)})},i.prototype.destroy=function(){g.prototype.destroy.call(this)},i}(Ge),Mp=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),Rf=function(g){function i(t,s){var p=g.call(this)||this;return p.ctrl=t,p.beans=s,p}return Mp(i,g),i.prototype.setComp=function(t){this.comp=t,this.setupTooltip()},i.prototype.setupTooltip=function(){this.browserTooltips=this.beans.gridOptionsWrapper.isEnableBrowserTooltips(),this.updateTooltipText(),this.browserTooltips?this.comp.setTitle(null!=this.tooltip?this.tooltip:void 0):this.createTooltipFeatureIfNeeded()},i.prototype.updateTooltipText=function(){this.tooltip=this.ctrl.getTooltipValue()},i.prototype.createTooltipFeatureIfNeeded=function(){var t=this;null==this.genericTooltipFeature&&(this.genericTooltipFeature=this.createManagedBean(new ts({getTooltipParams:function(){return t.getTooltipParams()},getGui:function(){return t.ctrl.getGui()}}),this.beans.context))},i.prototype.refreshToolTip=function(){this.updateTooltipText(),this.browserTooltips&&this.comp.setTitle(null!=this.tooltip?this.tooltip:void 0)},i.prototype.getTooltipParams=function(){var t=this.ctrl,s=t.getColumn?t.getColumn():void 0,p=t.getColDef?t.getColDef():void 0,f=t.getRowNode?t.getRowNode():void 0;return{location:t.getLocation(),colDef:p,column:s,rowIndex:t.getRowIndex?t.getRowIndex():void 0,node:f,data:f?f.data:void 0,value:this.getTooltipText(),valueFormatted:t.getValueFormatted?t.getValueFormatted():void 0}},i.prototype.getTooltipText=function(){return this.tooltip},i.prototype.destroy=function(){g.prototype.destroy.call(this)},i}(Ge),wt=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},Zo=function(){function g(){}return g.prototype.postConstruct=function(){this.doingMasterDetail=this.gridOptionsWrapper.isMasterDetail(),this.gridOptionsWrapper.isRowModelDefault()&&(this.clientSideRowModel=this.rowModel),this.gridOptionsWrapper.isRowModelServerSide()&&(this.serverSideRowModel=this.rowModel)},wt([$("resizeObserverService")],g.prototype,"resizeObserverService",void 0),wt([$("paginationProxy")],g.prototype,"paginationProxy",void 0),wt([$("context")],g.prototype,"context",void 0),wt([$("columnApi")],g.prototype,"columnApi",void 0),wt([$("gridApi")],g.prototype,"gridApi",void 0),wt([$("gridOptionsWrapper")],g.prototype,"gridOptionsWrapper",void 0),wt([$("expressionService")],g.prototype,"expressionService",void 0),wt([$("rowRenderer")],g.prototype,"rowRenderer",void 0),wt([$("$compile")],g.prototype,"$compile",void 0),wt([$("templateService")],g.prototype,"templateService",void 0),wt([$("valueService")],g.prototype,"valueService",void 0),wt([$("eventService")],g.prototype,"eventService",void 0),wt([$("columnModel")],g.prototype,"columnModel",void 0),wt([$("headerNavigationService")],g.prototype,"headerNavigationService",void 0),wt([$("navigationService")],g.prototype,"navigationService",void 0),wt([$("columnAnimationService")],g.prototype,"columnAnimationService",void 0),wt([tn("rangeService")],g.prototype,"rangeService",void 0),wt([$("focusService")],g.prototype,"focusService",void 0),wt([tn("contextMenuFactory")],g.prototype,"contextMenuFactory",void 0),wt([$("popupService")],g.prototype,"popupService",void 0),wt([$("valueFormatterService")],g.prototype,"valueFormatterService",void 0),wt([$("stylingService")],g.prototype,"stylingService",void 0),wt([$("columnHoverService")],g.prototype,"columnHoverService",void 0),wt([$("userComponentFactory")],g.prototype,"userComponentFactory",void 0),wt([$("userComponentRegistry")],g.prototype,"userComponentRegistry",void 0),wt([$("animationFrameService")],g.prototype,"animationFrameService",void 0),wt([$("dragAndDropService")],g.prototype,"dragAndDropService",void 0),wt([$("sortController")],g.prototype,"sortController",void 0),wt([$("filterManager")],g.prototype,"filterManager",void 0),wt([$("rowContainerHeightService")],g.prototype,"rowContainerHeightService",void 0),wt([$("frameworkOverrides")],g.prototype,"frameworkOverrides",void 0),wt([$("cellPositionUtils")],g.prototype,"cellPositionUtils",void 0),wt([$("rowPositionUtils")],g.prototype,"rowPositionUtils",void 0),wt([$("selectionService")],g.prototype,"selectionService",void 0),wt([tn("selectionHandleFactory")],g.prototype,"selectionHandleFactory",void 0),wt([$("rowCssClassCalculator")],g.prototype,"rowCssClassCalculator",void 0),wt([$("rowModel")],g.prototype,"rowModel",void 0),wt([$("ctrlsService")],g.prototype,"ctrlsService",void 0),wt([$("ctrlsFactory")],g.prototype,"ctrlsFactory",void 0),wt([$("agStackComponentsRegistry")],g.prototype,"agStackComponentsRegistry",void 0),wt([$("valueCache")],g.prototype,"valueCache",void 0),wt([$("rowNodeEventThrottle")],g.prototype,"rowNodeEventThrottle",void 0),wt([$e],g.prototype,"postConstruct",null),wt([tt("beans")],g)}(),Pf=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),_S=function(g){function i(t,s,p){var f=g.call(this)||this;return f.cellCtrl=t,f.beans=s,f.column=p,f}return Pf(i,g),i.prototype.onMouseEvent=function(t,s){if(!Sa(s))switch(t){case"click":this.onCellClicked(s);break;case"mousedown":case"touchstart":this.onMouseDown(s);break;case"dblclick":this.onCellDoubleClicked(s);break;case"mouseout":this.onMouseOut(s);break;case"mouseover":this.onMouseOver(s)}},i.prototype.onCellClicked=function(t){if(this.isDoubleClickOnIPad())return this.onCellDoubleClicked(t),void t.preventDefault();var s=this.beans,p=s.eventService,f=s.gridOptionsWrapper,_=this.cellCtrl.createEvent(t,re.EVENT_CELL_CLICKED);p.dispatchEvent(_);var b=this.column.getColDef();b.onCellClicked&&window.setTimeout(function(){return b.onCellClicked(_)},0),(f.isSingleClickEdit()||b.singleClickEdit)&&!f.isSuppressClickEdit()&&this.cellCtrl.startRowOrCellEdit()},i.prototype.isDoubleClickOnIPad=function(){if(!Dc()||Zd("dblclick"))return!1;var t=(new Date).getTime(),s=t-this.lastIPadMouseClickEvent<200;return this.lastIPadMouseClickEvent=t,s},i.prototype.onCellDoubleClicked=function(t){var s=this.column.getColDef(),p=this.cellCtrl.createEvent(t,re.EVENT_CELL_DOUBLE_CLICKED);this.beans.eventService.dispatchEvent(p),"function"==typeof s.onCellDoubleClicked&&window.setTimeout(function(){return s.onCellDoubleClicked(p)},0),!this.beans.gridOptionsWrapper.isSingleClickEdit()&&!this.beans.gridOptionsWrapper.isSuppressClickEdit()&&this.cellCtrl.startRowOrCellEdit()},i.prototype.onMouseDown=function(t){var s=t.ctrlKey,p=t.metaKey,f=t.shiftKey,_=t.target,b=this.beans,A=b.eventService,M=b.rangeService;if(!this.isRightClickInExistingRange(t)){var L=M&&0!=M.getCellRanges().length;if(!f||!L){var G=km()&&!this.cellCtrl.isEditing()&&!Ja(_);this.cellCtrl.focusCell(G)}if(f&&L&&t.preventDefault(),!this.containsWidget(_)){if(M){var U=this.cellCtrl.getCellPosition();f?M.extendLatestRangeToCell(U):M.setRangeToCell(U,s||p)}A.dispatchEvent(this.cellCtrl.createEvent(t,re.EVENT_CELL_MOUSE_DOWN))}}},i.prototype.isRightClickInExistingRange=function(t){var s=this.beans.rangeService;return!(!s||!s.isCellInAnyRange(this.cellCtrl.getCellPosition())||2!==t.button)},i.prototype.containsWidget=function(t){return Kh(t,"ag-selection-checkbox",3)},i.prototype.onMouseOut=function(t){if(!this.mouseStayingInsideCell(t)){var s=this.cellCtrl.createEvent(t,re.EVENT_CELL_MOUSE_OUT);this.beans.eventService.dispatchEvent(s),this.beans.columnHoverService.clearMouseOver()}},i.prototype.onMouseOver=function(t){if(!this.mouseStayingInsideCell(t)){var s=this.cellCtrl.createEvent(t,re.EVENT_CELL_MOUSE_OVER);this.beans.eventService.dispatchEvent(s),this.beans.columnHoverService.setMouseOver([this.column])}},i.prototype.mouseStayingInsideCell=function(t){if(!t.target||!t.relatedTarget)return!1;var s=this.cellCtrl.getGui(),p=s.contains(t.target),f=s.contains(t.relatedTarget);return p&&f},i.prototype.destroy=function(){},i}(Zo),Yc=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),Iu=function(g){function i(t,s,p,f,_,b){var A=g.call(this)||this;return A.cellCtrl=t,A.beans=s,A.rowNode=f,A.rowCtrl=b,A}return Yc(i,g),i.prototype.setComp=function(t){this.eGui=t},i.prototype.onKeyDown=function(t){var s=t.key;switch(s){case We.ENTER:this.onEnterKeyDown(t);break;case We.F2:this.onF2KeyDown();break;case We.ESCAPE:this.onEscapeKeyDown();break;case We.TAB:this.onTabKeyDown(t);break;case We.BACKSPACE:case We.DELETE:this.onBackspaceOrDeleteKeyPressed(s);break;case We.DOWN:case We.UP:case We.RIGHT:case We.LEFT:this.onNavigationKeyPressed(t,s)}},i.prototype.onNavigationKeyPressed=function(t,s){this.cellCtrl.isEditing()||(t.shiftKey&&this.cellCtrl.isRangeSelectionEnabled()?this.onShiftRangeSelect(s):this.beans.navigationService.navigateToNextCell(t,s,this.cellCtrl.getCellPosition(),!0),t.preventDefault())},i.prototype.onShiftRangeSelect=function(t){if(this.beans.rangeService){var s=this.beans.rangeService.extendLatestRangeInDirection(t);s&&this.beans.navigationService.ensureCellVisible(s)}},i.prototype.onTabKeyDown=function(t){this.beans.navigationService.onTabKeyDown(this.cellCtrl,t)},i.prototype.onBackspaceOrDeleteKeyPressed=function(t){this.cellCtrl.isEditing()||this.cellCtrl.startRowOrCellEdit(t)},i.prototype.onEnterKeyDown=function(t){this.cellCtrl.isEditing()||this.rowCtrl.isEditing()?this.cellCtrl.stopEditingAndFocus():this.beans.gridOptionsWrapper.isEnterMovesDown()?this.beans.navigationService.navigateToNextCell(null,We.DOWN,this.cellCtrl.getCellPosition(),!1):(this.cellCtrl.startRowOrCellEdit(We.ENTER),this.cellCtrl.isEditing()&&t.preventDefault())},i.prototype.onF2KeyDown=function(){this.cellCtrl.isEditing()||this.cellCtrl.startRowOrCellEdit(We.F2)},i.prototype.onEscapeKeyDown=function(){this.cellCtrl.isEditing()&&(this.cellCtrl.stopRowOrCellEdit(!0),this.cellCtrl.focusCell(!0))},i.prototype.onKeyPress=function(t){if(t.target===this.eGui&&!this.cellCtrl.isEditing()){var f=String.fromCharCode(t.charCode);" "===f?this.onSpaceKeyPressed(t):rC(t)&&(this.cellCtrl.startRowOrCellEdit(null,f),t.preventDefault())}},i.prototype.onSpaceKeyPressed=function(t){var s=this.beans.gridOptionsWrapper;if(!this.cellCtrl.isEditing()&&s.isRowSelection()){var p=this.rowNode.isSelected(),f=!p;if(f||!s.isSuppressRowDeselection()){var _=this.beans.gridOptionsWrapper.isGroupSelectsFiltered(),b=this.rowNode.setSelectedParams({newValue:f,rangeSelect:t.shiftKey,groupSelectsFiltered:_});void 0===p&&0===b&&this.rowNode.setSelectedParams({newValue:!1,rangeSelect:t.shiftKey,groupSelectsFiltered:_})}}t.preventDefault()},i.prototype.destroy=function(){},i}(Ge),CS=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),wC=function(g){function i(t,s,p,f){var _=g.call(this,'<div class="ag-drag-handle ag-row-drag" draggable="true"></div>')||this;return _.rowNode=t,_.column=s,_.beans=p,_.eCell=f,_}return CS(i,g),i.prototype.postConstruct=function(){this.getGui().appendChild(Mr("rowDrag",this.beans.gridOptionsWrapper,null)),this.addGuiEventListener("mousedown",function(s){s.stopPropagation()}),this.addDragSource(),this.checkVisibility()},i.prototype.addDragSource=function(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))},i.prototype.onDragStart=function(t){var s=this,p=this.column.getColDef().dndSourceOnRowDrag;t.dataTransfer.setDragImage(this.eCell,0,0),p?p({rowNode:this.rowNode,dragEvent:t}):function(){try{var _=JSON.stringify(s.rowNode.data);t.dataTransfer.setData("application/json",_),t.dataTransfer.setData("text/plain",_)}catch(b){}}()},i.prototype.checkVisibility=function(){var t=this.column.isDndSource(this.rowNode);this.setDisplayed(t)},function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);p>3&&f&&Object.defineProperty(i,t,f)}([$e],i.prototype,"postConstruct",null),i}(Ut),SC=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),Mf=function(){return Mf=Object.assign||function(g){for(var i,t=1,s=arguments.length;t<s;t++)for(var p in i=arguments[t])Object.prototype.hasOwnProperty.call(i,p)&&(g[p]=i[p]);return g},Mf.apply(this,arguments)},Pa="ag-cell-not-inline-editing",AD=0,Nu=function(g){function i(t,s,p,f){var _=g.call(this)||this;return _.suppressRefreshCell=!1,_.column=t,_.rowNode=s,_.beans=p,_.rowCtrl=f,_.instanceId=t.getId()+"-"+AD++,_.createCellPosition(),_.addFeatures(),_}return SC(i,g),i.prototype.addFeatures=function(){var t=this;this.cellPositionFeature=new bC(this,this.beans),this.addDestroyFunc(function(){return t.cellPositionFeature.destroy()}),this.cellCustomStyleFeature=new yS(this,this.beans),this.addDestroyFunc(function(){return t.cellCustomStyleFeature.destroy()}),this.cellMouseListenerFeature=new _S(this,this.beans,this.column),this.addDestroyFunc(function(){return t.cellMouseListenerFeature.destroy()}),this.cellKeyboardListenerFeature=new Iu(this,this.beans,this.column,this.rowNode,this.scope,this.rowCtrl),this.addDestroyFunc(function(){return t.cellKeyboardListenerFeature.destroy()}),this.beans.rangeService&&this.beans.gridOptionsWrapper.isEnableRangeSelection()&&(this.cellRangeFeature=new CC(this.beans,this),this.addDestroyFunc(function(){return t.cellRangeFeature.destroy()})),this.addTooltipFeature()},i.prototype.addTooltipFeature=function(){var t=this;this.tooltipFeature=new Rf({getColumn:function(){return t.column},getColDef:function(){return t.column.getColDef()},getRowIndex:function(){return t.cellPosition.rowIndex},getRowNode:function(){return t.rowNode},getGui:function(){return t.getGui()},getLocation:function(){return"cell"},getTooltipValue:function(){var f=t.column.getColDef(),_=t.rowNode.data;if(f.tooltipField&&J(_))return lu(_,f.tooltipField,t.column.isTooltipFieldContainsDots());var b=f.tooltipValueGetter;return b?b({location:"cell",api:t.beans.gridOptionsWrapper.getApi(),columnApi:t.beans.gridOptionsWrapper.getColumnApi(),context:t.beans.gridOptionsWrapper.getContext(),colDef:t.column.getColDef(),column:t.column,rowIndex:t.cellPosition.rowIndex,node:t.rowNode,data:t.rowNode.data,value:t.value,valueFormatted:t.valueFormatted}):null},getValueFormatted:function(){return t.valueFormatted}},this.beans),this.addDestroyFunc(function(){return t.tooltipFeature.destroy()})},i.prototype.setComp=function(t,s,p,f,_,b){this.cellComp=t,this.gow=this.beans.gridOptionsWrapper,this.scope=s,this.eGui=p,this.eCellWrapper=f,this.printLayout=_,this.updateAndFormatValue(!0),this.addDomData(),this.onCellFocused(),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAriaExpanded(),this.setupAutoHeight(),this.setAriaColIndex(),this.gow.isSuppressCellFocus()||this.cellComp.setTabIndex(-1);var A=mr(this.column.getId());this.cellComp.setColId(A),this.cellComp.setRole("gridcell"),this.cellPositionFeature.setComp(p),this.cellCustomStyleFeature.setComp(t,s),this.tooltipFeature.setComp(t),this.cellKeyboardListenerFeature.setComp(this.eGui),this.cellRangeFeature&&this.cellRangeFeature.setComp(t),b&&this.isCellEditable()?this.startEditing():this.showValue()},i.prototype.setupAutoHeight=function(){var t=this;if(this.column.isAutoHeight()){var s=this.eCellWrapper,p=s.parentElement,f=this.beans.gridOptionsWrapper.getRowHeightAsNumber(),_=function(M){var L=t.beans.gridOptionsWrapper.getDocument();if(L&&L.contains(s)||!(M<5)){var G=je(p),ve=Math.max(s.offsetHeight+G.paddingTop+G.paddingBottom,f);t.rowNode.setRowAutoHeight(ve,t.column)}else t.beans.frameworkOverrides.setTimeout(function(){return _(M+1)},0)},b=function(){return _(0)};b();var A=this.beans.resizeObserverService.observeResize(s,b);this.addDestroyFunc(function(){A(),t.rowNode.setRowAutoHeight(void 0,t.column)})}},i.prototype.getInstanceId=function(){return this.instanceId},i.prototype.showValue=function(t){void 0===t&&(t=!1);var s=null!=this.valueFormatted?this.valueFormatted:this.value,p=this.createCellRendererParams(),f=this.beans.userComponentFactory.getCellRendererDetails(this.column.getColDef(),p);this.cellComp.setRenderDetails(f,s,t),this.refreshHandle()},i.prototype.setupControlComps=function(){var t=this.column.getColDef();this.includeSelection=this.isIncludeControl(t.checkboxSelection),this.includeRowDrag=this.isIncludeControl(t.rowDrag),this.includeDndSource=this.isIncludeControl(t.dndSource),this.cellComp.setIncludeSelection(this.includeSelection),this.cellComp.setIncludeDndSource(this.includeDndSource),this.cellComp.setIncludeRowDrag(this.includeRowDrag)},i.prototype.isForceWrapper=function(){return this.beans.gridOptionsWrapper.isEnableCellTextSelection()||this.column.isAutoHeight()},i.prototype.isIncludeControl=function(t){return!(null!=this.rowNode.rowPinned||"function"!=typeof t&&!0!==t)},i.prototype.setupAriaExpanded=function(){var t=this,s=this.column.getColDef();if(this.rowNode.isExpandable()){var p=s.showRowGroup,f=this.rowNode.rowGroupColumn,_=!0===p,b=f&&f.getColId()===p;if(_||b){var M=function(){t.cellComp.setAriaExpanded(!!t.rowNode.expanded)};this.addManagedListener(this.rowNode,Rt.EVENT_EXPANDED_CHANGED,M),M()}}},i.prototype.refreshShouldDestroy=function(){var t=this.column.getColDef(),s=this.includeSelection!=this.isIncludeControl(t.checkboxSelection),p=this.includeRowDrag!=this.isIncludeControl(t.rowDrag),f=this.includeDndSource!=this.isIncludeControl(t.dndSource);return s||p||f},i.prototype.startEditing=function(t,s,p){if(void 0===t&&(t=null),void 0===s&&(s=null),void 0===p&&(p=!1),this.isCellEditable()&&!this.editing){var f=this.createCellEditorParams(t,s,p),_=this.column.getColDef(),b=this.beans.userComponentFactory.getCellEditorDetails(_,f),A=!!_.cellEditorPopup,M=_.cellEditorPopupPosition;this.setEditing(!0,A),this.cellComp.setEditDetails(b,A,M);var L=this.createEvent(null,re.EVENT_CELL_EDITING_STARTED);this.beans.eventService.dispatchEvent(L)}},i.prototype.setEditing=function(t,s){void 0===s&&(s=!1),this.editing!==t&&(this.editing=t,this.editingInPopup=s,this.setInlineEditingClass())},i.prototype.stopRowOrCellEdit=function(t){void 0===t&&(t=!1),this.beans.gridOptionsWrapper.isFullRowEdit()?this.rowCtrl.stopRowEditing(t):this.stopEditing(t)},i.prototype.onPopupEditorClosed=function(){!this.isEditing()||this.stopEditingAndFocus()},i.prototype.takeValueFromCellEditor=function(t){var s={newValueExists:!1};if(t)return s;var p=this.cellComp.getCellEditor();return p?p.isCancelAfterEnd&&p.isCancelAfterEnd()?s:{newValue:p.getValue(),newValueExists:!0}:s},i.prototype.saveNewValue=function(t,s){s!==t&&(this.suppressRefreshCell=!0,this.rowNode.setDataValue(this.column,s),this.suppressRefreshCell=!1)},i.prototype.stopEditing=function(t){if(void 0===t&&(t=!1),this.editing){var s=this.takeValueFromCellEditor(t),p=s.newValue,f=s.newValueExists,_=this.getValueFromValueService();f&&this.saveNewValue(_,p),this.setEditing(!1),this.cellComp.setEditDetails(),this.updateAndFormatValue(),this.refreshCell({forceRefresh:!0,suppressFlash:!0}),this.dispatchEditingStoppedEvent(_,p)}},i.prototype.dispatchEditingStoppedEvent=function(t,s){var p=Mf(Mf({},this.createEvent(null,re.EVENT_CELL_EDITING_STOPPED)),{oldValue:t,newValue:s});this.beans.eventService.dispatchEvent(p)},i.prototype.setInlineEditingClass=function(){if(this.isAlive()){var t=this.editing&&!this.editingInPopup,s=this.editing&&this.editingInPopup;this.cellComp.addOrRemoveCssClass("ag-cell-inline-editing",t),this.cellComp.addOrRemoveCssClass(Pa,!t),this.cellComp.addOrRemoveCssClass("ag-cell-popup-editing",s),this.rowCtrl.setInlineEditingCss(this.editing)}},i.prototype.hackSayEditingInPopup=function(){this.editingInPopup||(this.editingInPopup=!0,this.setInlineEditingClass())},i.prototype.createCellEditorParams=function(t,s,p){var f={value:this.getValueFromValueService(),key:t,charPress:s,column:this.column,colDef:this.column.getColDef(),rowIndex:this.getCellPosition().rowIndex,node:this.rowNode,data:this.rowNode.data,api:this.beans.gridOptionsWrapper.getApi(),cellStartedEdit:p,columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext(),onKeyDown:this.onKeyDown.bind(this),stopEditing:this.stopEditingAndFocus.bind(this),eGridCell:this.getGui(),parseValue:this.parseValue.bind(this),formatValue:this.formatValue.bind(this)};return this.scope&&(f.$scope=this.scope),f},i.prototype.createCellRendererParams=function(){var t=this,p={value:this.value,valueFormatted:this.valueFormatted,getValue:this.getValueFromValueService.bind(this),setValue:function(f){return t.beans.valueService.setValue(t.rowNode,t.column,f)},formatValue:this.formatValue.bind(this),data:this.rowNode.data,node:this.rowNode,colDef:this.column.getColDef(),column:this.column,rowIndex:this.getCellPosition().rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext(),refreshCell:this.refreshCell.bind(this),eGridCell:this.getGui(),eParentOfValue:this.cellComp.getParentOfValue(),registerRowDragger:function(f,_,b,A){return t.registerRowDragger(f,_,A)},addRowCompListener:function(f,_){console.warn("AG Grid: since AG Grid v26, params.addRowCompListener() is deprecated. If you need this functionality, please contact AG Grid support and advise why so that we can revert with an appropriate workaround, as we dont have any valid use cases for it. This method was originally provided as a work around to know when cells were destroyed in AG Grid before custom Cell Renderers could be provided."),t.rowCtrl.addEventListener(f,_)}};return this.scope&&(p.$scope=this.scope),p},i.prototype.parseValue=function(t){var s=this.column.getColDef(),p={node:this.rowNode,data:this.rowNode.data,oldValue:this.getValue(),newValue:t,colDef:s,column:this.column,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()},f=s.valueParser;return J(f)?this.beans.expressionService.evaluate(f,p):t},i.prototype.setFocusOutOnEditor=function(){if(this.editing){var t=this.cellComp.getCellEditor();t&&t.focusOut&&t.focusOut()}},i.prototype.setFocusInOnEditor=function(){if(this.editing){var t=this.cellComp.getCellEditor();t&&t.focusIn?t.focusIn():this.focusCell(!0)}},i.prototype.onCellChanged=function(t){this.cellComp&&t.column===this.column&&this.refreshCell({})},i.prototype.refreshCell=function(t){if(!this.suppressRefreshCell&&!this.editing){var s=this.column.getColDef(),p=null!=t&&!!t.newData,f=null!=t&&!!t.suppressFlash||!!s.suppressCellFlash,b=t&&t.forceRefresh||null==s.field&&null==s.valueGetter&&null==s.showRowGroup||p,A=this.updateAndFormatValue();if(b||A){this.showValue(p);var L=this.beans.filterManager.isSuppressFlashingCellsBecauseFiltering();!f&&!L&&(this.beans.gridOptionsWrapper.isEnableCellChangeFlash()||s.enableCellChangeFlash)&&this.flashCell(),this.cellCustomStyleFeature.applyUserStyles(),this.cellCustomStyleFeature.applyClassesFromColDef()}this.refreshToolTip(),this.cellCustomStyleFeature.applyCellClassRules()}},i.prototype.stopEditingAndFocus=function(t){void 0===t&&(t=!1),this.stopRowOrCellEdit(),this.focusCell(!0),t||this.navigateAfterEdit()},i.prototype.navigateAfterEdit=function(){this.beans.gridOptionsWrapper.isFullRowEdit()||this.beans.gridOptionsWrapper.isEnterMovesDownAfterEdit()&&this.beans.navigationService.navigateToNextCell(null,We.DOWN,this.getCellPosition(),!1)},i.prototype.flashCell=function(t){this.animateCell("data-changed",t&&t.flashDelay,t&&t.fadeDelay)},i.prototype.animateCell=function(t,s,p){var f=this,_="ag-cell-"+t,b="ag-cell-"+t+"-animation",A=this.beans.gridOptionsWrapper;s||(s=A.getCellFlashDelay()),J(p)||(p=A.getCellFadeDelay()),this.cellComp.addOrRemoveCssClass(_,!0),this.cellComp.addOrRemoveCssClass(b,!1),window.setTimeout(function(){f.cellComp.addOrRemoveCssClass(_,!1),f.cellComp.addOrRemoveCssClass(b,!0),f.eGui.style.transition="background-color "+p+"ms",window.setTimeout(function(){f.cellComp.addOrRemoveCssClass(b,!1),f.eGui.style.transition=""},p)},s)},i.prototype.onFlashCells=function(t){if(this.cellComp){var s=this.beans.cellPositionUtils.createId(this.getCellPosition());t.cells[s]&&this.animateCell("highlight")}},i.prototype.isCellEditable=function(){return this.column.isCellEditable(this.rowNode)},i.prototype.isSuppressFillHandle=function(){return this.column.isSuppressFillHandle()},i.prototype.formatValue=function(t){var s=this.callValueFormatter(t);return null!=s?s:t},i.prototype.callValueFormatter=function(t){return this.beans.valueFormatterService.formatValue(this.column,this.rowNode,this.scope,t)},i.prototype.updateAndFormatValue=function(t){void 0===t&&(t=!1);var s=this.value,p=this.valueFormatted;return this.value=this.getValueFromValueService(),this.valueFormatted=this.callValueFormatter(this.value),!!t||!this.valuesAreEqual(s,this.value)||this.valueFormatted!=p},i.prototype.valuesAreEqual=function(t,s){var p=this.column.getColDef();return p.equals?p.equals(t,s):t===s},i.prototype.getComp=function(){return this.cellComp},i.prototype.getValueFromValueService=function(){var t=this.rowNode.leafGroup&&this.beans.columnModel.isPivotMode(),s=this.rowNode.group&&this.rowNode.expanded&&!this.rowNode.footer&&!t,p=this.beans.gridOptionsWrapper.isGroupIncludeFooter(),f=this.beans.gridOptionsWrapper.isGroupSuppressBlankHeader();return this.beans.valueService.getValue(this.column,this.rowNode,!1,s&&p&&!f)},i.prototype.getValue=function(){return this.value},i.prototype.getValueFormatted=function(){return this.valueFormatted},i.prototype.addDomData=function(){var t=this,s=this.getGui();this.beans.gridOptionsWrapper.setDomData(s,i.DOM_DATA_KEY_CELL_CTRL,this),this.addDestroyFunc(function(){return t.beans.gridOptionsWrapper.setDomData(s,i.DOM_DATA_KEY_CELL_CTRL,null)})},i.prototype.createEvent=function(t,s){var p={type:s,node:this.rowNode,data:this.rowNode.data,value:this.value,column:this.column,colDef:this.column.getColDef(),context:this.beans.gridOptionsWrapper.getContext(),api:this.beans.gridApi,columnApi:this.beans.columnApi,rowPinned:this.rowNode.rowPinned,event:t,rowIndex:this.rowNode.rowIndex};return this.scope&&(p.$scope=this.scope),p},i.prototype.onKeyPress=function(t){this.cellKeyboardListenerFeature.onKeyPress(t)},i.prototype.onKeyDown=function(t){this.cellKeyboardListenerFeature.onKeyDown(t)},i.prototype.onMouseEvent=function(t,s){this.cellMouseListenerFeature.onMouseEvent(t,s)},i.prototype.getGui=function(){return this.eGui},i.prototype.refreshToolTip=function(){this.tooltipFeature.refreshToolTip()},i.prototype.getColSpanningList=function(){return this.cellPositionFeature.getColSpanningList()},i.prototype.onLeftChanged=function(){!this.cellComp||this.cellPositionFeature.onLeftChanged()},i.prototype.onDisplayedColumnsChanged=function(){!this.eGui||this.setAriaColIndex()},i.prototype.setAriaColIndex=function(){var t=this.beans.columnModel.getAriaColumnIndex(this.column);this.cellComp.setAriaColIndex(t)},i.prototype.isSuppressNavigable=function(){return this.column.isSuppressNavigable(this.rowNode)},i.prototype.onWidthChanged=function(){return this.cellPositionFeature.onWidthChanged()},i.prototype.getColumn=function(){return this.column},i.prototype.getRowNode=function(){return this.rowNode},i.prototype.getBeans=function(){return this.beans},i.prototype.isPrintLayout=function(){return this.printLayout},i.prototype.appendChild=function(t){this.eGui.appendChild(t)},i.prototype.refreshHandle=function(){this.editing||this.cellRangeFeature&&this.cellRangeFeature.refreshHandle()},i.prototype.getCellPosition=function(){return this.cellPosition},i.prototype.isEditing=function(){return this.editing},i.prototype.startRowOrCellEdit=function(t,s){this.beans.gridOptionsWrapper.isFullRowEdit()?this.rowCtrl.startRowEditing(t,s,this):this.startEditing(t,s,!0)},i.prototype.getRowCtrl=function(){return this.rowCtrl},i.prototype.getRowPosition=function(){return{rowIndex:this.cellPosition.rowIndex,rowPinned:this.cellPosition.rowPinned}},i.prototype.updateRangeBordersIfRangeCount=function(){!this.cellComp||this.cellRangeFeature&&this.cellRangeFeature.updateRangeBordersIfRangeCount()},i.prototype.onRangeSelectionChanged=function(){!this.cellComp||this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()},i.prototype.isRangeSelectionEnabled=function(){return null!=this.cellRangeFeature},i.prototype.focusCell=function(t){void 0===t&&(t=!1),this.beans.focusService.setFocusedCell(this.getCellPosition().rowIndex,this.column,this.rowNode.rowPinned,t)},i.prototype.onRowIndexChanged=function(){this.createCellPosition(),this.onCellFocused(),this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()},i.prototype.onFirstRightPinnedChanged=function(){if(this.cellComp){var t=this.column.isFirstRightPinned();this.cellComp.addOrRemoveCssClass("ag-cell-first-right-pinned",t)}},i.prototype.onLastLeftPinnedChanged=function(){if(this.cellComp){var t=this.column.isLastLeftPinned();this.cellComp.addOrRemoveCssClass("ag-cell-last-left-pinned",t)}},i.prototype.onCellFocused=function(t){if(this.cellComp&&!this.gow.isSuppressCellFocus()){var s=this.beans.focusService.isCellFocused(this.cellPosition);this.cellComp.addOrRemoveCssClass("ag-cell-focus",s),s&&t&&t.forceBrowserFocus&&this.cellComp.getFocusableElement().focus();var f=this.beans.gridOptionsWrapper.isFullRowEdit();!s&&!f&&this.editing&&this.stopRowOrCellEdit()}},i.prototype.createCellPosition=function(){this.cellPosition={rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,column:this.column}},i.prototype.applyStaticCssClasses=function(){this.cellComp.addOrRemoveCssClass("ag-cell",!0),this.cellComp.addOrRemoveCssClass(Pa,!0);var t=1==this.column.isAutoHeight();this.cellComp.addOrRemoveCssClass("ag-cell-auto-height",t),this.cellComp.addOrRemoveCssClass("ag-cell-normal-height",!t)},i.prototype.onColumnHover=function(){if(this.cellComp&&this.beans.gridOptionsWrapper.isColumnHoverHighlight()){var t=this.beans.columnHoverService.isHovered(this.column);this.cellComp.addOrRemoveCssClass("ag-column-hover",t)}},i.prototype.onNewColumnsLoaded=function(){!this.cellComp||(this.setWrapText(),this.editing||this.refreshCell({forceRefresh:!0,suppressFlash:!0}))},i.prototype.setWrapText=function(){var t=1==this.column.getColDef().wrapText;this.cellComp.addOrRemoveCssClass("ag-cell-wrap-text",t)},i.prototype.dispatchCellContextMenuEvent=function(t){var s=this.column.getColDef(),p=this.createEvent(t,re.EVENT_CELL_CONTEXT_MENU);this.beans.eventService.dispatchEvent(p),s.onCellContextMenu&&window.setTimeout(function(){return s.onCellContextMenu(p)},0)},i.prototype.getCellRenderer=function(){return this.cellComp?this.cellComp.getCellRenderer():null},i.prototype.getCellEditor=function(){return this.cellComp?this.cellComp.getCellEditor():null},i.prototype.destroy=function(){g.prototype.destroy.call(this)},i.prototype.createSelectionCheckbox=function(){var t=new Au;return this.beans.context.createBean(t),t.init({rowNode:this.rowNode,column:this.column}),t},i.prototype.createDndSource=function(){var t=new wC(this.rowNode,this.column,this.beans,this.eGui);return this.beans.context.createBean(t),t},i.prototype.registerRowDragger=function(t,s,p){var f=this;if(this.customRowDragComp)this.customRowDragComp.setDragElement(t,s);else{var _=this.createRowDragComp(t,s,p);_&&(this.customRowDragComp=_,this.addDestroyFunc(function(){return f.beans.context.destroyBean(_)}))}},i.prototype.createRowDragComp=function(t,s,p){var f=this,_=this.beans.gridOptionsWrapper.isPagination(),b=this.beans.gridOptionsWrapper.isRowDragManaged(),A=this.beans.gridOptionsWrapper.isRowModelDefault();if(b){if(!A)return void En(function(){return console.warn("AG Grid: managed row dragging is only allowed in the Client Side Row Model")},"CellComp.addRowDragging");if(_)return void En(function(){return console.warn("AG Grid: managed row dragging is not possible when doing pagination")},"CellComp.addRowDragging")}var M=new Ai(function(){return f.value},this.rowNode,this.column,t,s,p);return this.beans.context.createBean(M),M},i.DOM_DATA_KEY_CELL_CTRL="cellCtrl",i}(Ge),TC=function(){return TC=Object.assign||function(g){for(var i,t=1,s=arguments.length;t<s;t++)for(var p in i=arguments[t])Object.prototype.hasOwnProperty.call(i,p)&&(g[p]=i[p]);return g},TC.apply(this,arguments)},Cv=function(){function g(){}return g.createChildScopeOrNull=function(i,t,s){if(!s.isAngularCompileRows())return null;var f=t.$new();return f.data=TC({},i.data),f.rowNode=i,f.context=s.getContext(),{scope:f,scopeDestroyFunc:function(){f.$destroy(),f.data=null,f.rowNode=null,f.context=null}}},g}(),bv=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),Xi=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},jA=function(g){function i(t){var s=g.call(this)||this;return s.element=t,s}return bv(i,g),i.prototype.postConstruct=function(){this.addMouseListeners(),this.mockContextMenuForIPad(),this.addKeyboardEvents()},i.prototype.addKeyboardEvents=function(){var t=this;["keydown","keypress"].forEach(function(p){var f=t.processKeyboardEvent.bind(t,p);t.addManagedListener(t.element,p,f)})},i.prototype.addMouseListeners=function(){var t=this;["dblclick","contextmenu","mouseover","mouseout","click",Zd("touchstart")?"touchstart":"mousedown"].forEach(function(f){var _=t.processMouseEvent.bind(t,f);t.addManagedListener(t.element,f,_)})},i.prototype.processMouseEvent=function(t,s){if(this.mouseEventService.isEventFromThisGrid(s)&&!Sa(s)){var p=this.getRowForEvent(s),f=this.mouseEventService.getRenderedCellForEvent(s);"contextmenu"===t?this.handleContextMenuMouseEvent(s,null,p,f):(f&&f.onMouseEvent(t,s),p&&p.onMouseEvent(t,s))}},i.prototype.mockContextMenuForIPad=function(){var t=this;if(Dc()){var s=new xi(this.element);this.addManagedListener(s,xi.EVENT_LONG_TAP,function(f){var _=t.getRowForEvent(f.touchEvent),b=t.mouseEventService.getRenderedCellForEvent(f.touchEvent);t.handleContextMenuMouseEvent(null,f.touchEvent,_,b)}),this.addDestroyFunc(function(){return s.destroy()})}},i.prototype.getRowForEvent=function(t){for(var s=t.target;s;){var p=this.gridOptionsWrapper.getDomData(s,ss.DOM_DATA_KEY_ROW_CTRL);if(p)return p;s=s.parentElement}return null},i.prototype.handleContextMenuMouseEvent=function(t,s,p,f){var _=p?p.getRowNode():null,b=f?f.getColumn():null,A=null;b&&(f.dispatchCellContextMenuEvent(t||s),A=this.valueService.getValue(b,_));var L=this.ctrlsService.getGridBodyCtrl(),G=f?f.getGui():L.getGridBodyElement();this.contextMenuFactory&&this.contextMenuFactory.onContextMenu(t,s,_,b,A,G)},i.prototype.processKeyboardEvent=function(t,s){var p=Jd(this.gridOptionsWrapper,s,Nu.DOM_DATA_KEY_CELL_CTRL),f=Jd(this.gridOptionsWrapper,s,ss.DOM_DATA_KEY_ROW_CTRL);s.defaultPrevented||(p?this.processCellKeyboardEvent(p,t,s):f&&f.isFullWidth()&&this.processFullWidthRowKeyboardEvent(f,t,s))},i.prototype.processCellKeyboardEvent=function(t,s,p){var f=t.getRowNode(),_=t.getColumn(),b=t.isEditing();if(!Mc(this.gridOptionsWrapper,p,f,_,b))switch(s){case"keydown":!b&&this.navigationService.handlePageScrollingKey(p)||t.onKeyDown(p),this.doGridOperations(p,t.isEditing());break;case"keypress":t.onKeyPress(p)}if("keydown"===s){var L=t.createEvent(p,re.EVENT_CELL_KEY_DOWN);this.eventService.dispatchEvent(L)}if("keypress"===s){var G=t.createEvent(p,re.EVENT_CELL_KEY_PRESS);this.eventService.dispatchEvent(G)}},i.prototype.processFullWidthRowKeyboardEvent=function(t,s,p){var f=t.getRowNode(),_=this.focusService.getFocusedCell();if(!Mc(this.gridOptionsWrapper,p,f,_&&_.column,!1)&&"keydown"===s)switch(p.key){case We.UP:case We.DOWN:t.onKeyboardNavigate(p);break;case We.TAB:t.onTabKeyDown(p)}if("keydown"===s){var L=t.createRowEvent(re.EVENT_CELL_KEY_DOWN,p);this.eventService.dispatchEvent(L)}if("keypress"===s){var G=t.createRowEvent(re.EVENT_CELL_KEY_PRESS,p);this.eventService.dispatchEvent(G)}},i.prototype.doGridOperations=function(t,s){if((t.ctrlKey||t.metaKey)&&!s&&this.mouseEventService.isEventFromThisGrid(t))switch(t.key.toUpperCase()){case We.A:return this.onCtrlAndA(t);case We.C:return this.onCtrlAndC(t);case We.V:return this.onCtrlAndV();case We.D:return this.onCtrlAndD(t);case We.Z:return t.shiftKey?this.undoRedoService.redo():this.undoRedoService.undo();case We.Y:return this.undoRedoService.redo()}},i.prototype.onCtrlAndA=function(t){var s=this,p=s.pinnedRowModel,_=s.rangeService,b=me.PINNED_BOTTOM,A=me.PINNED_TOP;if(_&&s.paginationProxy.isRowsToRender()){var M=function(g,i){var t="function"==typeof Symbol&&g[Symbol.iterator];if(!t)return g;var p,_,s=t.call(g),f=[];try{for(;(void 0===i||i-- >0)&&!(p=s.next()).done;)f.push(p.value)}catch(b){_={error:b}}finally{try{p&&!p.done&&(t=s.return)&&t.call(s)}finally{if(_)throw _.error}}return f}([p.isEmpty(A),p.isEmpty(b)],2),U=M[0]?null:A,te=void 0,le=void 0;M[1]?(te=null,le=this.paginationProxy.getRowCount()-1):(te=b,le=p.getPinnedBottomRowData().length-1);var ge=this.columnModel.getAllDisplayedColumns();if(Bi(ge))return;_.setCellRange({rowStartIndex:0,rowStartPinned:U,rowEndIndex:le,rowEndPinned:te,columnStart:ge[0],columnEnd:Rn(ge)})}t.preventDefault()},i.prototype.onCtrlAndC=function(t){!this.clipboardService||this.gridOptionsWrapper.isEnableCellTextSelection()||(this.clipboardService.copyToClipboard(),t.preventDefault())},i.prototype.onCtrlAndV=function(){Vt.isRegistered(B.ModuleNames.ClipboardModule)&&!this.gridOptionsWrapper.isSuppressClipboardPaste()&&this.clipboardService.pasteFromClipboard()},i.prototype.onCtrlAndD=function(t){Vt.isRegistered(B.ModuleNames.ClipboardModule)&&!this.gridOptionsWrapper.isSuppressClipboardPaste()&&this.clipboardService.copyRangeDown(),t.preventDefault()},Xi([$("mouseEventService")],i.prototype,"mouseEventService",void 0),Xi([$("valueService")],i.prototype,"valueService",void 0),Xi([tn("contextMenuFactory")],i.prototype,"contextMenuFactory",void 0),Xi([$("ctrlsService")],i.prototype,"ctrlsService",void 0),Xi([$("navigationService")],i.prototype,"navigationService",void 0),Xi([$("focusService")],i.prototype,"focusService",void 0),Xi([$("undoRedoService")],i.prototype,"undoRedoService",void 0),Xi([$("columnModel")],i.prototype,"columnModel",void 0),Xi([$("paginationProxy")],i.prototype,"paginationProxy",void 0),Xi([$("pinnedRowModel")],i.prototype,"pinnedRowModel",void 0),Xi([tn("rangeService")],i.prototype,"rangeService",void 0),Xi([tn("clipboardService")],i.prototype,"clipboardService",void 0),Xi([$e],i.prototype,"postConstruct",null),i}(Ge),wv=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),qc=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},Xc=function(g){function i(t){var s=g.call(this)||this;return s.centerContainerCon=t,s}return wv(i,g),i.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady(function(){t.gridBodyCon=t.ctrlsService.getGridBodyCtrl(),t.listenForResize()}),this.addManagedListener(this.eventService,re.EVENT_SCROLLBAR_WIDTH_CHANGED,this.onScrollbarWidthChanged.bind(this))},i.prototype.listenForResize=function(){var t=this.onCenterViewportResized.bind(this);this.centerContainerCon.registerViewportResizeListener(t),this.gridBodyCon.registerBodyViewportResizeListener(t)},i.prototype.onScrollbarWidthChanged=function(){this.checkViewportAndScrolls()},i.prototype.onCenterViewportResized=function(){if(this.centerContainerCon.isViewportVisible()){this.checkViewportAndScrolls();var t=this.centerContainerCon.getCenterWidth();t!==this.centerWidth&&(this.centerWidth=t,this.columnModel.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0},i.prototype.checkViewportAndScrolls=function(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCon.getScrollFeature().checkScrollLeft()},i.prototype.getBodyHeight=function(){return this.bodyHeight},i.prototype.checkBodyHeight=function(){var s=xc(this.gridBodyCon.getBodyViewportElement());this.bodyHeight!==s&&(this.bodyHeight=s,this.eventService.dispatchEvent({type:re.EVENT_BODY_HEIGHT_CHANGED,api:this.gridApi,columnApi:this.columnApi}))},i.prototype.updateScrollVisibleService=function(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)},i.prototype.updateScrollVisibleServiceImpl=function(){var t={horizontalScrollShowing:this.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCon.isVerticalScrollShowing()};this.scrollVisibleService.setScrollsVisible(t),this.gridBodyCon.setVerticalScrollPaddingVisible(t.verticalScrollShowing)},i.prototype.isHorizontalScrollShowing=function(){return this.gridOptionsWrapper.isAlwaysShowHorizontalScroll()||this.centerContainerCon.isViewportHScrollShowing()},i.prototype.onHorizontalViewportChanged=function(){var t=this.centerContainerCon.getCenterWidth(),s=this.centerContainerCon.getViewportScrollLeft();this.columnModel.setViewportPosition(t,s)},qc([$("ctrlsService")],i.prototype,"ctrlsService",void 0),qc([$("columnModel")],i.prototype,"columnModel",void 0),qc([$("scrollVisibleService")],i.prototype,"scrollVisibleService",void 0),qc([$("columnApi")],i.prototype,"columnApi",void 0),qc([$("gridApi")],i.prototype,"gridApi",void 0),qc([$e],i.prototype,"postConstruct",null),i}(Ge),SS=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),RC=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},PC=function(g){function i(t){var s=g.call(this)||this;return s.element=t,s}return SS(i,g),i.prototype.postConstruct=function(){this.addManagedListener(this.eventService,re.EVENT_LEFT_PINNED_WIDTH_CHANGED,this.onPinnedLeftWidthChanged.bind(this))},i.prototype.onPinnedLeftWidthChanged=function(){var t=this.pinnedWidthService.getPinnedLeftWidth(),s=t>0;Mn(this.element,s),s&&$i(this.element,t)},RC([$("pinnedWidthService")],i.prototype,"pinnedWidthService",void 0),RC([$e],i.prototype,"postConstruct",null),i}(Ge),Ff=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),If=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},Qc=function(g){function i(t){var s=g.call(this)||this;return s.element=t,s}return Ff(i,g),i.prototype.postConstruct=function(){this.addManagedListener(this.eventService,re.EVENT_RIGHT_PINNED_WIDTH_CHANGED,this.onPinnedRightWidthChanged.bind(this))},i.prototype.onPinnedRightWidthChanged=function(){var t=this.pinnedWidthService.getPinnedRightWidth(),s=t>0;Mn(this.element,s),s&&$i(this.element,t)},If([$("pinnedWidthService")],i.prototype,"pinnedWidthService",void 0),If([$e],i.prototype,"postConstruct",null),i}(Ge),as=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),Tn=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},MC=function(g){function i(t,s){var p=g.call(this)||this;return p.eContainer=t,p.eWrapper=s,p}return as(i,g),i.prototype.postConstruct=function(){this.addManagedListener(this.eventService,re.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,this.onHeightChanged.bind(this))},i.prototype.onHeightChanged=function(){var t=this.maxDivHeightScaler.getUiContainerHeight(),s=null!=t?t+"px":"";this.eContainer.style.height=s,this.eWrapper&&(this.eWrapper.style.height=s)},Tn([$("rowContainerHeightService")],i.prototype,"maxDivHeightScaler",void 0),Tn([$e],i.prototype,"postConstruct",null),i}(Ge),ES=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),Nf=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},FC=function(g){function i(t){var s=g.call(this)||this;return s.eContainer=t,s}return ES(i,g),i.prototype.postConstruct=function(){var t=this;if(this.gridOptionsWrapper.isEnableRangeSelection()&&!E(this.rangeService)){var s={dragStartPixels:0,eElement:this.eContainer,onDragStart:this.rangeService.onDragStart.bind(this.rangeService),onDragStop:this.rangeService.onDragStop.bind(this.rangeService),onDragging:this.rangeService.onDragging.bind(this.rangeService)};this.dragService.addDragSource(s),this.addDestroyFunc(function(){return t.dragService.removeDragSource(s)})}},Nf([tn("rangeService")],i.prototype,"rangeService",void 0),Nf([$("dragService")],i.prototype,"dragService",void 0),Nf([$e],i.prototype,"postConstruct",null),i}(Ge),DS=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),IC=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},Sv=function(g){function i(t){var s=g.call(this)||this;return s.callback=t,s}return DS(i,g),i.prototype.postConstruct=function(){var t=this.setWidth.bind(this);this.addManagedListener(this.gridOptionsWrapper,at.PROP_DOM_LAYOUT,t),this.addManagedListener(this.eventService,re.EVENT_DISPLAYED_COLUMNS_CHANGED,t),this.addManagedListener(this.eventService,re.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,t),this.setWidth()},i.prototype.setWidth=function(){var t=this.columnModel,s=this.gridOptionsWrapper.getDomLayout()===me.DOM_LAYOUT_PRINT,p=t.getBodyContainerWidth(),f=t.getDisplayedColumnsLeftWidth(),_=t.getDisplayedColumnsRightWidth();this.callback(s?p+f+_:p)},IC([$("columnModel")],i.prototype,"columnModel",void 0),IC([$e],i.prototype,"postConstruct",null),i}(Ge),OS=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),Lu=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},RD=function(g,i){var t="function"==typeof Symbol&&g[Symbol.iterator];if(!t)return g;var p,_,s=t.call(g),f=[];try{for(;(void 0===i||i-- >0)&&!(p=s.next()).done;)f.push(p.value)}catch(b){_={error:b}}finally{try{p&&!p.done&&(t=s.return)&&t.call(s)}finally{if(_)throw _.error}}return f};function ku(g){switch(g){case B.RowContainerName.CENTER:case B.RowContainerName.TOP_CENTER:case B.RowContainerName.BOTTOM_CENTER:return B.RowContainerType.CENTER;case B.RowContainerName.LEFT:case B.RowContainerName.TOP_LEFT:case B.RowContainerName.BOTTOM_LEFT:return B.RowContainerType.LEFT;case B.RowContainerName.RIGHT:case B.RowContainerName.TOP_RIGHT:case B.RowContainerName.BOTTOM_RIGHT:return B.RowContainerType.RIGHT;case B.RowContainerName.FULL_WIDTH:case B.RowContainerName.TOP_FULL_WIDTH:case B.RowContainerName.BOTTOM_FULL_WIDTH:return B.RowContainerType.FULL_WIDTH;default:throw Error("Invalid Row Container Type")}}(function(g){g.LEFT="left",g.RIGHT="right",g.CENTER="center",g.FULL_WIDTH="fullWidth",g.TOP_LEFT="topLeft",g.TOP_RIGHT="topRight",g.TOP_CENTER="topCenter",g.TOP_FULL_WIDTH="topFullWidth",g.BOTTOM_LEFT="bottomLeft",g.BOTTOM_RIGHT="bottomRight",g.BOTTOM_CENTER="bottomCenter",g.BOTTOM_FULL_WIDTH="bottomFullWidth"})(B.RowContainerName||(B.RowContainerName={})),function(g){g.LEFT="left",g.RIGHT="right",g.CENTER="center",g.FULL_WIDTH="fullWidth"}(B.RowContainerType||(B.RowContainerType={}));var Qi=Ft([[B.RowContainerName.CENTER,"ag-center-cols-container"],[B.RowContainerName.LEFT,"ag-pinned-left-cols-container"],[B.RowContainerName.RIGHT,"ag-pinned-right-cols-container"],[B.RowContainerName.FULL_WIDTH,"ag-full-width-container"],[B.RowContainerName.TOP_CENTER,"ag-floating-top-container"],[B.RowContainerName.TOP_LEFT,"ag-pinned-left-floating-top"],[B.RowContainerName.TOP_RIGHT,"ag-pinned-right-floating-top"],[B.RowContainerName.TOP_FULL_WIDTH,"ag-floating-top-full-width-container"],[B.RowContainerName.BOTTOM_CENTER,"ag-floating-bottom-container"],[B.RowContainerName.BOTTOM_LEFT,"ag-pinned-left-floating-bottom"],[B.RowContainerName.BOTTOM_RIGHT,"ag-pinned-right-floating-bottom"],[B.RowContainerName.BOTTOM_FULL_WIDTH,"ag-floating-bottom-full-width-container"]]),Lf=Ft([[B.RowContainerName.CENTER,"ag-center-cols-viewport"],[B.RowContainerName.TOP_CENTER,"ag-floating-top-viewport"],[B.RowContainerName.BOTTOM_CENTER,"ag-floating-bottom-viewport"]]),NC=Ft([[B.RowContainerName.CENTER,"ag-center-cols-clipper"]]),Zc=function(g){function i(t){var s=g.call(this)||this;return s.name=t,s}return OS(i,g),i.getRowContainerCssClasses=function(t){return{container:Qi.get(t),viewport:Lf.get(t),wrapper:NC.get(t)}},i.getPinned=function(t){switch(t){case B.RowContainerName.BOTTOM_LEFT:case B.RowContainerName.TOP_LEFT:case B.RowContainerName.LEFT:return me.PINNED_LEFT;case B.RowContainerName.BOTTOM_RIGHT:case B.RowContainerName.TOP_RIGHT:case B.RowContainerName.RIGHT:return me.PINNED_RIGHT;default:return null}},i.prototype.postConstruct=function(){var t=this;this.enableRtl=this.gridOptionsWrapper.isEnableRtl(),this.embedFullWidthRows=this.gridOptionsWrapper.isEmbedFullWidthRows(),this.addManagedListener(this.eventService,re.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.addManagedListener(this.eventService,re.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,re.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this)),this.addManagedListener(this.eventService,re.EVENT_DISPLAYED_ROWS_CHANGED,this.onDisplayedRowsChanged.bind(this)),this.forContainers([B.RowContainerName.CENTER],function(){return t.viewportSizeFeature=t.createManagedBean(new Xc(t))}),this.registerWithCtrlsService()},i.prototype.registerWithCtrlsService=function(){switch(this.name){case B.RowContainerName.CENTER:this.ctrlsService.registerCenterRowContainerCtrl(this);break;case B.RowContainerName.LEFT:this.ctrlsService.registerLeftRowContainerCtrl(this);break;case B.RowContainerName.RIGHT:this.ctrlsService.registerRightRowContainerCtrl(this);break;case B.RowContainerName.TOP_CENTER:this.ctrlsService.registerTopCenterRowContainerCtrl(this);break;case B.RowContainerName.TOP_LEFT:this.ctrlsService.registerTopLeftRowContainerCon(this);break;case B.RowContainerName.TOP_RIGHT:this.ctrlsService.registerTopRightRowContainerCtrl(this);break;case B.RowContainerName.BOTTOM_CENTER:this.ctrlsService.registerBottomCenterRowContainerCtrl(this);break;case B.RowContainerName.BOTTOM_LEFT:this.ctrlsService.registerBottomLeftRowContainerCtrl(this);break;case B.RowContainerName.BOTTOM_RIGHT:this.ctrlsService.registerBottomRightRowContainerCtrl(this)}},i.prototype.forContainers=function(t,s){t.indexOf(this.name)>=0&&s()},i.prototype.getContainerElement=function(){return this.eContainer},i.prototype.getViewportSizeFeature=function(){return this.viewportSizeFeature},i.prototype.setComp=function(t,s,p,f){var _=this;this.comp=t,this.eContainer=s,this.eViewport=p,this.eWrapper=f,this.createManagedBean(new jA(this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder(),this.stopHScrollOnPinnedRows();var L=function(){for(var g=[],i=0;i<arguments.length;i++)g=g.concat(RD(arguments[i]));return g}([B.RowContainerName.TOP_CENTER,B.RowContainerName.TOP_LEFT,B.RowContainerName.TOP_RIGHT],[B.RowContainerName.BOTTOM_CENTER,B.RowContainerName.BOTTOM_LEFT,B.RowContainerName.BOTTOM_RIGHT],[B.RowContainerName.CENTER,B.RowContainerName.LEFT,B.RowContainerName.RIGHT]),G=[B.RowContainerName.CENTER,B.RowContainerName.LEFT,B.RowContainerName.RIGHT,B.RowContainerName.FULL_WIDTH],U=[B.RowContainerName.CENTER,B.RowContainerName.TOP_CENTER,B.RowContainerName.BOTTOM_CENTER],le=[B.RowContainerName.RIGHT,B.RowContainerName.BOTTOM_RIGHT,B.RowContainerName.TOP_RIGHT];this.forContainers([B.RowContainerName.LEFT,B.RowContainerName.BOTTOM_LEFT,B.RowContainerName.TOP_LEFT],function(){return _.createManagedBean(new PC(_.eContainer))}),this.forContainers(le,function(){return _.createManagedBean(new Qc(_.eContainer))}),this.forContainers(G,function(){return _.createManagedBean(new MC(_.eContainer,_.eWrapper))}),this.forContainers(L,function(){return _.createManagedBean(new FC(_.eContainer))}),this.forContainers(U,function(){return _.createManagedBean(new Sv(function(ge){return _.comp.setContainerWidth(ge+"px")}))})},i.prototype.listenOnDomOrder=function(){var t=this,s=function(){return t.comp.setDomOrder(t.gridOptionsWrapper.isEnsureDomOrder())};this.addManagedListener(this.gridOptionsWrapper,at.PROP_DOM_LAYOUT,s),s()},i.prototype.stopHScrollOnPinnedRows=function(){var t=this;this.forContainers([B.RowContainerName.TOP_CENTER,B.RowContainerName.BOTTOM_CENTER],function(){t.addManagedListener(t.eViewport,"scroll",function(){return t.eViewport.scrollLeft=0})})},i.prototype.onDisplayedColumnsChanged=function(){var t=this;this.forContainers([B.RowContainerName.CENTER],function(){return t.onHorizontalViewportChanged()})},i.prototype.onDisplayedColumnsWidthChanged=function(){var t=this;this.forContainers([B.RowContainerName.CENTER],function(){return t.onHorizontalViewportChanged()})},i.prototype.onScrollVisibilityChanged=function(){if(this.name===B.RowContainerName.CENTER){var s=this.scrollVisibleService.isHorizontalScrollShowing()&&this.gridOptionsWrapper.getScrollbarWidth()||0;this.comp.setViewportHeight(0==s?"100%":"calc(100% + "+s+"px)")}},i.prototype.addPreventScrollWhileDragging=function(){var t=this,s=function(p){t.dragService.isDragging()&&p.cancelable&&p.preventDefault()};this.eContainer.addEventListener("touchmove",s,{passive:!1}),this.addDestroyFunc(function(){return t.eContainer.removeEventListener("touchmove",s)})},i.prototype.onHorizontalViewportChanged=function(){var t=this.getCenterWidth(),s=this.getCenterViewportScrollLeft();this.columnModel.setViewportPosition(t,s)},i.prototype.getCenterWidth=function(){return Rs(this.eViewport)},i.prototype.getCenterViewportScrollLeft=function(){return Ke(this.eViewport,this.enableRtl)},i.prototype.registerViewportResizeListener=function(t){var s=this.resizeObserverService.observeResize(this.eViewport,t);this.addDestroyFunc(function(){return s()})},i.prototype.isViewportVisible=function(){return gi(this.eViewport)},i.prototype.isViewportHScrollShowing=function(){return Ol(this.eViewport)},i.prototype.getViewportScrollLeft=function(){return Ke(this.eViewport,this.enableRtl)},i.prototype.isHorizontalScrollShowing=function(){return this.gridOptionsWrapper.isAlwaysShowHorizontalScroll()||Ol(this.eViewport)},i.prototype.getViewportElement=function(){return this.eViewport},i.prototype.setContainerTranslateX=function(t){this.eContainer.style.transform="translateX("+t+"px)"},i.prototype.getHScrollPosition=function(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}},i.prototype.setCenterViewportScrollLeft=function(t){Ur(this.eViewport,t,this.enableRtl)},i.prototype.onDisplayedRowsChanged=function(){var t=this,s=this.name===B.RowContainerName.TOP_FULL_WIDTH||this.name===B.RowContainerName.BOTTOM_FULL_WIDTH||this.name===B.RowContainerName.FULL_WIDTH,_=this.getRowCtrls().filter(function(b){var A=b.isFullWidth(),M=t.gridOptionsWrapper.getDomLayout()===me.DOM_LAYOUT_PRINT,L=t.embedFullWidthRows||M;return s?!L&&A:L||!A});this.comp.setRowCtrls(_)},i.prototype.getRowCtrls=function(){switch(this.name){case B.RowContainerName.TOP_CENTER:case B.RowContainerName.TOP_LEFT:case B.RowContainerName.TOP_RIGHT:case B.RowContainerName.TOP_FULL_WIDTH:return this.rowRenderer.getTopRowCtrls();case B.RowContainerName.BOTTOM_CENTER:case B.RowContainerName.BOTTOM_LEFT:case B.RowContainerName.BOTTOM_RIGHT:case B.RowContainerName.BOTTOM_FULL_WIDTH:return this.rowRenderer.getBottomRowCtrls();default:return this.rowRenderer.getRowCtrls()}},Lu([$("scrollVisibleService")],i.prototype,"scrollVisibleService",void 0),Lu([$("dragService")],i.prototype,"dragService",void 0),Lu([$("ctrlsService")],i.prototype,"ctrlsService",void 0),Lu([$("columnModel")],i.prototype,"columnModel",void 0),Lu([$("resizeObserverService")],i.prototype,"resizeObserverService",void 0),Lu([$("rowRenderer")],i.prototype,"rowRenderer",void 0),Lu([$e],i.prototype,"postConstruct",null),i}(Ge),Ti=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),Ip=function(g,i){var t="function"==typeof Symbol&&g[Symbol.iterator];if(!t)return g;var p,_,s=t.call(g),f=[];try{for(;(void 0===i||i-- >0)&&!(p=s.next()).done;)f.push(p.value)}catch(b){_={error:b}}finally{try{p&&!p.done&&(t=s.return)&&t.call(s)}finally{if(_)throw _.error}}return f},Ri=(()=>(function(g){g.Normal="Normal",g.FullWidth="FullWidth",g.FullWidthLoading="FullWidthLoading",g.FullWidthGroup="FullWidthGroup",g.FullWidthDetail="FullWidthDetail"}(Ri||(Ri={})),Ri))(),LC=0,ss=function(g){function i(t,s,p,f,_,b){var A=g.call(this)||this;return A.allRowGuis=[],A.active=!0,A.centerCellCtrls={list:[],map:{}},A.leftCellCtrls={list:[],map:{}},A.rightCellCtrls={list:[],map:{}},A.lastMouseDownOnDragger=!1,A.updateColumnListsPending=!1,A.parentScope=t,A.beans=p,A.rowNode=s,A.paginationPage=A.beans.paginationProxy.getCurrentPage(),A.useAnimationFrameForCreate=_,A.printLayout=b,A.instanceId=s.id+"-"+LC++,A.setAnimateFlags(f),A.rowFocused=A.beans.focusService.isRowFocused(A.rowNode.rowIndex,A.rowNode.rowPinned),A.setupAngular1Scope(),A.rowLevel=A.beans.rowCssClassCalculator.calculateRowLevel(A.rowNode),A.setRowType(),A.addListeners(),A.setInitialRowTop(),A}return Ti(i,g),i.prototype.getBeans=function(){return this.beans},i.prototype.getInstanceId=function(){return this.instanceId},i.prototype.setComp=function(t,s,p){var f={rowComp:t,element:s,containerType:p};this.allRowGuis.push(f),p===B.RowContainerType.LEFT?this.leftGui=f:p===B.RowContainerType.RIGHT?this.rightGui=f:p===B.RowContainerType.FULL_WIDTH?this.fullWidthGui=f:this.centerGui=f,(null!=this.leftGui&&null!=this.rightGui&&null!=this.centerGui||null!=this.fullWidthGui)&&this.initialiseRowComps()},i.prototype.isCacheable=function(){return this.rowType===Ri.FullWidthDetail&&this.beans.gridOptionsWrapper.isKeepDetailRows()},i.prototype.setCached=function(t){var s=t?"none":"";this.allRowGuis.forEach(function(p){return p.element.style.display=s})},i.prototype.initialiseRowComps=function(){var t=this,s=this.beans.gridOptionsWrapper;this.onRowHeightChanged(),this.updateRowIndexes(),this.setFocusedClasses(),this.setStylesFromGridOptions(),s.isRowSelection()&&this.rowNode.selectable&&this.onRowSelected(),this.updateColumnLists(!this.useAnimationFrameForCreate),this.slideRowIn&&Lh(this.onTopChanged.bind(this)),this.fadeRowIn&&Lh(function(){t.allRowGuis.forEach(function(b){return b.rowComp.addOrRemoveCssClass("ag-opacity-zero",!1)})});var p=this.getRowBusinessKey(),f=mr(this.rowNode.id),_=mr(p);this.allRowGuis.forEach(function(b){var A=b.rowComp;A.setRole("row"),t.getInitialRowClasses(b.containerType).forEach(function(L){return A.addOrRemoveCssClass(L,!0)}),t.rowNode.group&&A.setAriaExpanded(1==t.rowNode.expanded),null!=f&&A.setRowId(f),null!=_&&A.setRowBusinessKey(_),t.isFullWidth()&&!t.beans.gridOptionsWrapper.isSuppressCellFocus()&&A.setTabIndex(-1),s.setDomData(b.element,i.DOM_DATA_KEY_ROW_CTRL,t),t.addDestroyFunc(function(){return s.setDomData(b.element,i.DOM_DATA_KEY_ROW_CTRL,null)}),t.useAnimationFrameForCreate?t.beans.animationFrameService.createTask(t.addHoverFunctionality.bind(t,b.element),t.rowNode.rowIndex,"createTasksP2"):t.addHoverFunctionality(b.element),t.isFullWidth()&&t.setupFullWidth(b),s.isRowDragEntireRow()&&t.addRowDraggerToRow(b),t.useAnimationFrameForCreate&&t.beans.animationFrameService.addDestroyTask(function(){!t.isAlive()||b.rowComp.addOrRemoveCssClass("ag-after-created",!0)})}),this.executeProcessRowPostCreateFunc()},i.prototype.addRowDraggerToRow=function(t){if(this.beans.gridOptionsWrapper.isEnableRangeSelection())En(function(){console.warn("AG Grid: Setting `rowDragEntireRow: true` in the gridOptions doesn't work with `enableRangeSelection: true`")},"rowDragAndRangeSelectionEnabled");else{var p=new Ai(function(){return"1 row"},this.rowNode,void 0,t.element,void 0,!0);this.createManagedBean(p,this.beans.context)}},i.prototype.setupFullWidth=function(t){var s=this.getPinnedForContainer(t.containerType),p=this.createFullWidthParams(t.element,s),f=Vt.isRegistered(B.ModuleNames.MasterDetailModule);if(this.rowType!=Ri.FullWidthDetail||f){var _;switch(this.rowType){case Ri.FullWidthDetail:_=this.beans.userComponentFactory.getFullWidthDetailCellRendererDetails(p);break;case Ri.FullWidthGroup:_=this.beans.userComponentFactory.getFullWidthGroupCellRendererDetails(p);break;case Ri.FullWidthLoading:_=this.beans.userComponentFactory.getFullWidthLoadingCellRendererDetails(p);break;default:_=this.beans.userComponentFactory.getFullWidthCellRendererDetails(p)}t.rowComp.showFullWidth(_)}else Vt.isPackageBased()?console.warn("AG Grid: cell renderer 'agDetailCellRenderer' (for master detail) not found. Can only be used with ag-grid-enterprise package."):console.warn("AG Grid: cell renderer 'agDetailCellRenderer' (for master detail) not found. Can only be used with AG Grid Enterprise Module "+B.ModuleNames.MasterDetailModule)},i.prototype.getScope=function(){return this.scope},i.prototype.isPrintLayout=function(){return this.printLayout},i.prototype.setupAngular1Scope=function(){var t=Cv.createChildScopeOrNull(this.rowNode,this.parentScope,this.beans.gridOptionsWrapper);t&&(this.scope=t.scope,this.addDestroyFunc(t.scopeDestroyFunc))},i.prototype.getCellElement=function(t){var s=this.getCellCtrl(t);return s?s.getGui():null},i.prototype.executeProcessRowPostCreateFunc=function(){var t=this.beans.gridOptionsWrapper.getProcessRowPostCreateFunc();t&&t({eRow:this.centerGui?this.centerGui.element:void 0,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,api:this.beans.gridOptionsWrapper.getApi(),rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()})},i.prototype.setRowType=function(){var t=this.rowNode.stub,s=this.rowNode.isFullWidthCell(),p=this.beans.doingMasterDetail&&this.rowNode.detail,f=this.beans.columnModel.isPivotMode(),b=!!this.rowNode.group&&!this.rowNode.footer&&this.beans.gridOptionsWrapper.isGroupUseEntireRow(f);this.rowType=t?Ri.FullWidthLoading:p?Ri.FullWidthDetail:s?Ri.FullWidth:b?Ri.FullWidthGroup:Ri.Normal},i.prototype.updateColumnLists=function(t){var s=this;if(void 0===t&&(t=!1),!this.isFullWidth()){if(t||this.beans.gridOptionsWrapper.isSuppressAnimationFrame()||this.printLayout)return void this.updateColumnListsImpl();this.updateColumnListsPending||(this.beans.animationFrameService.createTask(function(){!s.active||s.updateColumnListsImpl()},this.rowNode.rowIndex,"createTasksP1"),this.updateColumnListsPending=!0)}},i.prototype.createCellCtrls=function(t,s,p){var f=this;void 0===p&&(p=null);var _={list:[],map:{}},b=function(A,M){_.list.push(M),_.map[A]=M};return s.forEach(function(A){var M=A.getInstanceId(),L=t.map[M];L||(L=new Nu(A,f.rowNode,f.beans,f)),b(M,L)}),t.list.forEach(function(A){if(null==_.map[A.getColumn().getInstanceId()]){if(!f.isCellEligibleToBeRemoved(A,p))return void b(A.getColumn().getInstanceId(),A);A.destroy()}}),_},i.prototype.updateColumnListsImpl=function(){var t=this;this.updateColumnListsPending=!1;var s=this.beans.columnModel;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,s.getAllDisplayedColumns()),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{var p=s.getViewportCenterColumnsForRow(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,p);var f=s.getDisplayedLeftColumnsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,f,me.PINNED_LEFT);var _=s.getDisplayedRightColumnsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,_,me.PINNED_RIGHT)}this.allRowGuis.forEach(function(b){b.rowComp.setCellCtrls((b.containerType===B.RowContainerType.LEFT?t.leftCellCtrls:b.containerType===B.RowContainerType.RIGHT?t.rightCellCtrls:t.centerCellCtrls).list)})},i.prototype.isCellEligibleToBeRemoved=function(t,s){var p=!0;if(t.getColumn().getPinned()!=s)return p;var b=t.isEditing(),A=this.beans.focusService.isCellFocused(t.getCellPosition());if(b||A){var L=t.getColumn();return!(this.beans.columnModel.getAllDisplayedColumns().indexOf(L)>=0)&&p}return p},i.prototype.setAnimateFlags=function(t){if(t){var s=J(this.rowNode.oldRowTop);this.slideRowIn=s,this.fadeRowIn=!s}else this.slideRowIn=!1,this.fadeRowIn=!1},i.prototype.isEditing=function(){return this.editingRow},i.prototype.stopRowEditing=function(t){this.stopEditing(t)},i.prototype.isFullWidth=function(){return this.rowType!==Ri.Normal},i.prototype.getRowType=function(){return this.rowType},i.prototype.refreshFullWidth=function(){var t=this,s=function(M,L){if(!M)return!0;var G=M.rowComp.getFullWidthCellRenderer();if(!G||!G.refresh)return!1;var U=t.createFullWidthParams(M.element,L);return G.refresh(U)},p=s(this.fullWidthGui,null),f=s(this.centerGui,null),_=s(this.leftGui,me.PINNED_LEFT),b=s(this.rightGui,me.PINNED_RIGHT);return p&&f&&_&&b},i.prototype.addListeners=function(){this.addManagedListener(this.rowNode,Rt.EVENT_HEIGHT_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.rowNode,Rt.EVENT_ROW_SELECTED,this.onRowSelected.bind(this)),this.addManagedListener(this.rowNode,Rt.EVENT_ROW_INDEX_CHANGED,this.onRowIndexChanged.bind(this)),this.addManagedListener(this.rowNode,Rt.EVENT_TOP_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(this.rowNode,Rt.EVENT_EXPANDED_CHANGED,this.updateExpandedCss.bind(this)),this.addManagedListener(this.rowNode,Rt.EVENT_HAS_CHILDREN_CHANGED,this.updateExpandedCss.bind(this)),this.addManagedListener(this.rowNode,Rt.EVENT_DATA_CHANGED,this.onRowNodeDataChanged.bind(this)),this.addManagedListener(this.rowNode,Rt.EVENT_CELL_CHANGED,this.onRowNodeCellChanged.bind(this)),this.addManagedListener(this.rowNode,Rt.EVENT_HIGHLIGHT_CHANGED,this.onRowNodeHighlightChanged.bind(this)),this.addManagedListener(this.rowNode,Rt.EVENT_DRAGGING_CHANGED,this.onRowNodeDraggingChanged.bind(this)),this.addManagedListener(this.rowNode,Rt.EVENT_UI_LEVEL_CHANGED,this.onUiLevelChanged.bind(this));var t=this.beans.eventService;this.addManagedListener(t,re.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,this.onPaginationPixelOffsetChanged.bind(this)),this.addManagedListener(t,re.EVENT_HEIGHT_SCALE_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(t,re.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(t,re.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(t,re.EVENT_CELL_FOCUSED,this.onCellFocusChanged.bind(this)),this.addManagedListener(t,re.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),this.addManagedListener(t,re.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedListener(t,re.EVENT_COLUMN_MOVED,this.onColumnMoved.bind(this)),this.addListenersForCellComps()},i.prototype.onColumnMoved=function(){this.updateColumnLists()},i.prototype.addListenersForCellComps=function(){var t=this;this.addManagedListener(this.rowNode,Rt.EVENT_ROW_INDEX_CHANGED,function(){t.getAllCellCtrls().forEach(function(s){return s.onRowIndexChanged()})}),this.addManagedListener(this.rowNode,Rt.EVENT_CELL_CHANGED,function(s){t.getAllCellCtrls().forEach(function(p){return p.onCellChanged(s)})})},i.prototype.onRowNodeDataChanged=function(t){this.getAllCellCtrls().forEach(function(s){return s.refreshCell({suppressFlash:!t.update,newData:!t.update})}),this.onRowSelected(),this.postProcessCss()},i.prototype.onRowNodeCellChanged=function(){this.postProcessCss()},i.prototype.postProcessCss=function(){this.setStylesFromGridOptions(),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()},i.prototype.onRowNodeHighlightChanged=function(){var t=this.rowNode.highlighted;this.allRowGuis.forEach(function(s){var f=t===B.RowHighlightPosition.Below;s.rowComp.addOrRemoveCssClass("ag-row-highlight-above",t===B.RowHighlightPosition.Above),s.rowComp.addOrRemoveCssClass("ag-row-highlight-below",f)})},i.prototype.onRowNodeDraggingChanged=function(){this.postProcessRowDragging()},i.prototype.postProcessRowDragging=function(){var t=this.rowNode.dragging;this.allRowGuis.forEach(function(s){return s.rowComp.addOrRemoveCssClass("ag-row-dragging",t)})},i.prototype.updateExpandedCss=function(){var t=this.rowNode.isExpandable(),s=1==this.rowNode.expanded;this.allRowGuis.forEach(function(p){p.rowComp.addOrRemoveCssClass("ag-row-group",t),p.rowComp.addOrRemoveCssClass("ag-row-group-expanded",t&&s),p.rowComp.addOrRemoveCssClass("ag-row-group-contracted",t&&!s),p.rowComp.setAriaExpanded(t&&s)})},i.prototype.onDisplayedColumnsChanged=function(){this.updateColumnLists(!0),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights()},i.prototype.onVirtualColumnsChanged=function(){this.updateColumnLists()},i.prototype.getRowPosition=function(){return{rowPinned:this.rowNode.rowPinned,rowIndex:this.rowNode.rowIndex}},i.prototype.onKeyboardNavigate=function(t){var s=this.allRowGuis.find(function(M){return M.element.contains(t.target)});if((s?s.element:null)===t.target){var _=this.rowNode,b=this.beans.focusService.getFocusedCell();this.beans.navigationService.navigateToNextCell(t,t.key,{rowIndex:_.rowIndex,rowPinned:_.rowPinned,column:b&&b.column},!0),t.preventDefault()}},i.prototype.onTabKeyDown=function(t){if(!t.defaultPrevented&&!Sa(t)){var s=this.allRowGuis.find(function(b){return b.element.contains(t.target)}),p=s?s.element:null,f=p===t.target,_=null;f||(_=this.beans.focusService.findNextFocusableElement(p,!1,t.shiftKey)),(this.isFullWidth()&&f||!_)&&this.beans.navigationService.onTabKeyDown(this,t)}},i.prototype.onFullWidthRowFocused=function(t){var s=this.rowNode,p=this.isFullWidth()&&t.rowIndex===s.rowIndex&&t.rowPinned==s.rowPinned,f=this.fullWidthGui?this.fullWidthGui.element:this.centerGui.element;f.classList.toggle("ag-full-width-focus",p),p&&f.focus({preventScroll:!0})},i.prototype.refreshCell=function(t){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,t),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,t),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,t),this.updateColumnLists()},i.prototype.removeCellCtrl=function(t,s){var p={list:[],map:{}};return t.list.forEach(function(f){f!==s&&(p.list.push(f),p.map[f.getInstanceId()]=f)}),p},i.prototype.onMouseEvent=function(t,s){switch(t){case"dblclick":this.onRowDblClick(s);break;case"click":this.onRowClick(s);break;case"touchstart":case"mousedown":this.onRowMouseDown(s)}},i.prototype.createRowEvent=function(t,s){return{type:t,node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,context:this.beans.gridOptionsWrapper.getContext(),api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),event:s}},i.prototype.createRowEventWithSource=function(t,s){var p=this.createRowEvent(t,s);return p.source=this,p},i.prototype.onRowDblClick=function(t){if(!Sa(t)){var s=this.createRowEventWithSource(re.EVENT_ROW_DOUBLE_CLICKED,t);this.beans.eventService.dispatchEvent(s)}},i.prototype.onRowMouseDown=function(t){if(this.lastMouseDownOnDragger=Kh(t.target,"ag-row-drag",3),this.isFullWidth()){var s=this.rowNode;this.beans.focusService.setFocusedCell(s.rowIndex,this.beans.columnModel.getAllDisplayedColumns()[0],s.rowPinned,!0)}},i.prototype.onRowClick=function(t){if(!Sa(t)&&!this.lastMouseDownOnDragger){var p=this.createRowEventWithSource(re.EVENT_ROW_CLICKED,t);this.beans.eventService.dispatchEvent(p);var f=t.ctrlKey||t.metaKey,_=t.shiftKey;if(!(this.beans.gridOptionsWrapper.isGroupSelectsChildren()&&this.rowNode.group||!this.rowNode.selectable||this.rowNode.rowPinned||!this.beans.gridOptionsWrapper.isRowSelection()||this.beans.gridOptionsWrapper.isSuppressRowClickSelection())){var A=this.beans.gridOptionsWrapper.isRowMultiSelectWithClick(),M=!this.beans.gridOptionsWrapper.isSuppressRowDeselection();this.rowNode.isSelected()?A?this.rowNode.setSelectedParams({newValue:!1}):f?M&&this.rowNode.setSelectedParams({newValue:!1}):this.rowNode.setSelectedParams({newValue:!_,clearSelection:!_,rangeSelect:_}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!A&&!f,rangeSelect:_})}}},i.prototype.setupDetailRowAutoHeight=function(t){var s=this;if(this.rowType===Ri.FullWidthDetail&&this.beans.gridOptionsWrapper.isDetailRowAutoHeight()){var p=function(){var _=t.clientHeight;null!=_&&_>0&&s.beans.frameworkOverrides.setTimeout(function(){s.rowNode.setRowHeight(_),s.beans.clientSideRowModel?s.beans.clientSideRowModel.onRowHeightChanged():s.beans.serverSideRowModel&&s.beans.serverSideRowModel.onRowHeightChanged()},0)},f=this.beans.resizeObserverService.observeResize(t,p);this.addDestroyFunc(f),p()}},i.prototype.createFullWidthParams=function(t,s){var p=this;return{fullWidth:!0,data:this.rowNode.data,node:this.rowNode,value:this.rowNode.key,valueFormatted:this.rowNode.key,$scope:this.scope?this.scope:this.parentScope,$compile:this.beans.$compile,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext(),eGridCell:t,eParentOfValue:t,pinned:s,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:function(_,b,A,M){return p.addFullWidthRowDragging(_,b,A,M)}}},i.prototype.addFullWidthRowDragging=function(t,s,p,f){if(void 0===p&&(p=""),this.isFullWidth()){var _=new Ai(function(){return p},this.rowNode,void 0,t,s,f);this.createManagedBean(_,this.beans.context)}},i.prototype.onUiLevelChanged=function(){var t=this.beans.rowCssClassCalculator.calculateRowLevel(this.rowNode);if(this.rowLevel!=t){var s="ag-row-level-"+t,p="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach(function(f){f.rowComp.addOrRemoveCssClass(s,!0),f.rowComp.addOrRemoveCssClass(p,!1)})}this.rowLevel=t},i.prototype.isFirstRowOnPage=function(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageFirstRow()},i.prototype.isLastRowOnPage=function(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageLastRow()},i.prototype.onModelUpdated=function(){var t=this.isFirstRowOnPage(),s=this.isLastRowOnPage();this.firstRowOnPage!==t&&(this.firstRowOnPage=t,this.allRowGuis.forEach(function(p){return p.rowComp.addOrRemoveCssClass("ag-row-first",t)})),this.lastRowOnPage!==s&&(this.lastRowOnPage=s,this.allRowGuis.forEach(function(p){return p.rowComp.addOrRemoveCssClass("ag-row-last",s)}))},i.prototype.stopEditing=function(t){if(void 0===t&&(t=!1),this.getAllCellCtrls().forEach(function(p){return p.stopEditing(t)}),this.editingRow){if(!t){var s=this.createRowEvent(re.EVENT_ROW_VALUE_CHANGED);this.beans.eventService.dispatchEvent(s)}this.setEditingRow(!1)}},i.prototype.setInlineEditingCss=function(t){this.allRowGuis.forEach(function(s){s.rowComp.addOrRemoveCssClass("ag-row-inline-editing",t),s.rowComp.addOrRemoveCssClass("ag-row-not-inline-editing",!t)})},i.prototype.setEditingRow=function(t){this.editingRow=t,this.allRowGuis.forEach(function(p){return p.rowComp.addOrRemoveCssClass("ag-row-editing",t)});var s=this.createRowEvent(t?re.EVENT_ROW_EDITING_STARTED:re.EVENT_ROW_EDITING_STOPPED);this.beans.eventService.dispatchEvent(s)},i.prototype.startRowEditing=function(t,s,p){void 0===t&&(t=null),void 0===s&&(s=null),void 0===p&&(p=null),!this.editingRow&&(this.getAllCellCtrls().forEach(function(f){var _=f===p;_?f.startEditing(t,s,_):f.startEditing(null,null,_)}),this.setEditingRow(!0))},i.prototype.getAllCellCtrls=function(){var t=function(){for(var g=[],i=0;i<arguments.length;i++)g=g.concat(Ip(arguments[i]));return g}(this.centerCellCtrls.list,this.leftCellCtrls.list,this.rightCellCtrls.list);return t},i.prototype.postProcessClassesFromGridOptions=function(){var t=this,s=this.beans.rowCssClassCalculator.processClassesFromGridOptions(this.rowNode,this.scope);!s||!s.length||s.forEach(function(p){t.allRowGuis.forEach(function(f){return f.rowComp.addOrRemoveCssClass(p,!0)})})},i.prototype.postProcessRowClassRules=function(){var t=this;this.beans.rowCssClassCalculator.processRowClassRules(this.rowNode,this.scope,function(s){t.allRowGuis.forEach(function(p){return p.rowComp.addOrRemoveCssClass(s,!0)})},function(s){t.allRowGuis.forEach(function(p){return p.rowComp.addOrRemoveCssClass(s,!1)})})},i.prototype.setStylesFromGridOptions=function(){var t=this.processStylesFromGridOptions();this.allRowGuis.forEach(function(s){return s.rowComp.setUserStyles(t)})},i.prototype.getRowBusinessKey=function(){var t=this.beans.gridOptionsWrapper.getBusinessKeyForNodeFunc();if("function"==typeof t)return t(this.rowNode)},i.prototype.getPinnedForContainer=function(t){return t===B.RowContainerType.LEFT?me.PINNED_LEFT:t===B.RowContainerType.RIGHT?me.PINNED_RIGHT:null},i.prototype.getInitialRowClasses=function(t){var s=this.getPinnedForContainer(t),p={rowNode:this.rowNode,rowFocused:this.rowFocused,fadeRowIn:this.fadeRowIn,rowIsEven:this.rowNode.rowIndex%2==0,rowLevel:this.rowLevel,fullWidthRow:this.isFullWidth(),firstRowOnPage:this.isFirstRowOnPage(),lastRowOnPage:this.isLastRowOnPage(),printLayout:this.printLayout,expandable:this.rowNode.isExpandable(),scope:this.scope,pinned:s};return this.beans.rowCssClassCalculator.getInitialRowClasses(p)},i.prototype.processStylesFromGridOptions=function(){var t=this.beans.gridOptionsWrapper.getRowStyle();if(!t||"function"!=typeof t){var p,s=this.beans.gridOptionsWrapper.getRowStyleFunc();return s&&(p=s({data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex,$scope:this.scope,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()})),Object.assign({},t,p)}console.warn("AG Grid: rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead")},i.prototype.onRowSelected=function(){var t=this,s=this.rowNode.isSelected();this.allRowGuis.forEach(function(p){p.rowComp.setAriaSelected(!!s||void 0),p.rowComp.addOrRemoveCssClass("ag-row-selected",s),p.rowComp.setAriaLabel(t.createAriaLabel())})},i.prototype.createAriaLabel=function(){var t=this.rowNode.isSelected();if(!t||!this.beans.gridOptionsWrapper.isSuppressRowDeselection())return this.beans.gridOptionsWrapper.getLocaleTextFunc()(t?"ariaRowDeselect":"ariaRowSelect","Press SPACE to "+(t?"deselect":"select")+" this row.")},i.prototype.isUseAnimationFrameForCreate=function(){return this.useAnimationFrameForCreate},i.prototype.addHoverFunctionality=function(t){var s=this;!this.active||(this.addManagedListener(t,"mouseenter",function(){return s.rowNode.onMouseEnter()}),this.addManagedListener(t,"mouseleave",function(){return s.rowNode.onMouseLeave()}),this.addManagedListener(this.rowNode,Rt.EVENT_MOUSE_ENTER,function(){s.beans.gridOptionsWrapper.isSuppressRowHoverHighlight()||t.classList.add("ag-row-hover")}),this.addManagedListener(this.rowNode,Rt.EVENT_MOUSE_LEAVE,function(){t.classList.remove("ag-row-hover")}))},i.prototype.roundRowTopToBounds=function(t){var p=this.beans.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),f=this.applyPaginationOffset(p.top,!0)-100,_=this.applyPaginationOffset(p.bottom,!0)+100;return Math.min(Math.max(f,t),_)},i.prototype.getFrameworkOverrides=function(){return this.beans.frameworkOverrides},i.prototype.onRowHeightChanged=function(){if(null!=this.rowNode.rowHeight){var t=this.rowNode.rowHeight+"px";this.allRowGuis.forEach(function(s){return s.element.style.height=t})}},i.prototype.addEventListener=function(t,s){("renderedRowRemoved"===t||"rowRemoved"===t)&&(t=re.EVENT_VIRTUAL_ROW_REMOVED,console.warn("AG Grid: Since version 11, event renderedRowRemoved is now called "+re.EVENT_VIRTUAL_ROW_REMOVED)),g.prototype.addEventListener.call(this,t,s)},i.prototype.removeEventListener=function(t,s){("renderedRowRemoved"===t||"rowRemoved"===t)&&(t=re.EVENT_VIRTUAL_ROW_REMOVED,console.warn("AG Grid: Since version 11, event renderedRowRemoved and rowRemoved is now called "+re.EVENT_VIRTUAL_ROW_REMOVED)),g.prototype.removeEventListener.call(this,t,s)},i.prototype.destroyFirstPass=function(){this.active=!1,this.setupRemoveAnimation();var t=this.createRowEvent(re.EVENT_VIRTUAL_ROW_REMOVED);this.dispatchEvent(t),this.beans.eventService.dispatchEvent(t),g.prototype.destroy.call(this)},i.prototype.setupRemoveAnimation=function(){if(null!=this.rowNode.rowTop){var s=this.roundRowTopToBounds(this.rowNode.rowTop);this.setRowTop(s)}else this.allRowGuis.forEach(function(p){return p.rowComp.addOrRemoveCssClass("ag-opacity-zero",!0)})},i.prototype.destroySecondPass=function(){this.allRowGuis.length=0;var t=function(s){return s.list.forEach(function(p){return p.destroy()}),{list:[],map:{}}};this.centerCellCtrls=t(this.centerCellCtrls),this.leftCellCtrls=t(this.leftCellCtrls),this.rightCellCtrls=t(this.rightCellCtrls)},i.prototype.setFocusedClasses=function(){var t=this;this.allRowGuis.forEach(function(s){s.rowComp.addOrRemoveCssClass("ag-row-focus",t.rowFocused),s.rowComp.addOrRemoveCssClass("ag-row-no-focus",!t.rowFocused)})},i.prototype.onCellFocusChanged=function(){var t=this.beans.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);t!==this.rowFocused&&(this.rowFocused=t,this.setFocusedClasses()),!t&&this.editingRow&&this.stopEditing(!1)},i.prototype.onPaginationChanged=function(){var t=this.beans.paginationProxy.getCurrentPage();this.paginationPage!==t&&(this.paginationPage=t,this.onTopChanged())},i.prototype.onTopChanged=function(){this.setRowTop(this.rowNode.rowTop)},i.prototype.onPaginationPixelOffsetChanged=function(){this.onTopChanged()},i.prototype.applyPaginationOffset=function(t,s){return void 0===s&&(s=!1),this.rowNode.isRowPinned()?t:t+this.beans.paginationProxy.getPixelOffset()*(s?1:-1)},i.prototype.setRowTop=function(t){if(!this.printLayout&&J(t)){var s=this.applyPaginationOffset(t),p=this.rowNode.isRowPinned()?s:this.beans.rowContainerHeightService.getRealPixelPosition(s);this.setRowTopStyle(p+"px")}},i.prototype.getInitialRowTop=function(){return this.initialTop},i.prototype.getInitialTransform=function(){return this.initialTransform},i.prototype.setInitialRowTop=function(){if(this.printLayout)return"";var t=this.slideRowIn?this.roundRowTopToBounds(this.rowNode.oldRowTop):this.rowNode.rowTop,s=this.applyPaginationOffset(t),f=(this.rowNode.isRowPinned()?s:this.beans.rowContainerHeightService.getRealPixelPosition(s))+"px";this.beans.gridOptionsWrapper.isSuppressRowTransform()?this.initialTop=f:this.initialTransform="translateY("+f+")"},i.prototype.setRowTopStyle=function(t){var s=this.beans.gridOptionsWrapper.isSuppressRowTransform();this.allRowGuis.forEach(function(p){return s?p.rowComp.setTop(t):p.rowComp.setTransform("translateY("+t+")")})},i.prototype.getRowNode=function(){return this.rowNode},i.prototype.getCellCtrl=function(t){var s=null;return this.getAllCellCtrls().forEach(function(p){p.getColumn()==t&&(s=p)}),null!=s||this.getAllCellCtrls().forEach(function(p){p.getColSpanningList().indexOf(t)>=0&&(s=p)}),s},i.prototype.onRowIndexChanged=function(){null!=this.rowNode.rowIndex&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())},i.prototype.updateRowIndexes=function(){var t=this,s=this.rowNode.getRowIndexString(),p=this.beans.headerNavigationService.getHeaderRowCount(),f=this.rowNode.rowIndex%2==0;this.allRowGuis.forEach(function(_){_.rowComp.setRowIndex(s),_.rowComp.setAriaRowIndex(p+t.rowNode.rowIndex+1),_.rowComp.addOrRemoveCssClass("ag-row-even",f),_.rowComp.addOrRemoveCssClass("ag-row-odd",!f)})},i.prototype.getPinnedLeftRowElement=function(){return this.leftGui?this.leftGui.element:void 0},i.prototype.getPinnedRightRowElement=function(){return this.rightGui?this.rightGui.element:void 0},i.prototype.getBodyRowElement=function(){return this.centerGui?this.centerGui.element:void 0},i.prototype.getFullWidthRowElement=function(){return this.fullWidthGui?this.fullWidthGui.element:void 0},i.DOM_DATA_KEY_ROW_CTRL="renderedRow",i}(Ge),xS=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),Zi=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},AS=function(g,i){var t="function"==typeof Symbol&&g[Symbol.iterator];if(!t)return g;var p,_,s=t.call(g),f=[];try{for(;(void 0===i||i-- >0)&&!(p=s.next()).done;)f.push(p.value)}catch(b){_={error:b}}finally{try{p&&!p.done&&(t=s.return)&&t.call(s)}finally{if(_)throw _.error}}return f},St=function(){for(var g=[],i=0;i<arguments.length;i++)g=g.concat(AS(arguments[i]));return g},kC=function(g){function i(){var t=null!==g&&g.apply(this,arguments)||this;return t.destroyFuncsForColumnListeners=[],t.rowCtrlsByRowIndex={},t.zombieRowCtrls={},t.allRowCtrls=[],t.topRowCtrls=[],t.bottomRowCtrls=[],t.refreshInProgress=!1,t}return xS(i,g),i.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady(function(){t.gridBodyCtrl=t.ctrlsService.getGridBodyCtrl(),t.initialise()})},i.prototype.initialise=function(){this.addManagedListener(this.eventService,re.EVENT_PAGINATION_CHANGED,this.onPageLoaded.bind(this)),this.addManagedListener(this.eventService,re.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,re.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,re.EVENT_BODY_SCROLL,this.redrawAfterScroll.bind(this)),this.addManagedListener(this.eventService,re.EVENT_BODY_HEIGHT_CHANGED,this.redrawAfterScroll.bind(this)),this.addManagedListener(this.gridOptionsWrapper,at.PROP_DOM_LAYOUT,this.onDomLayoutChanged.bind(this)),this.addManagedListener(this.eventService,re.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=this.gridOptionsWrapper.getDomLayout()===me.DOM_LAYOUT_PRINT,this.embedFullWidthRows=this.printLayout||this.gridOptionsWrapper.isEmbedFullWidthRows(),this.redrawAfterModelUpdate()},i.prototype.initialiseCache=function(){if(this.gridOptionsWrapper.isKeepDetailRows()){var t=this.gridOptionsWrapper.getKeepDetailRowsCount();this.cachedRowCtrls=new Dv(null!=t?t:3)}},i.prototype.getRowCtrls=function(){return this.allRowCtrls},i.prototype.updateAllRowCtrls=function(){var t=Ca(this.rowCtrlsByRowIndex);this.gridOptionsWrapper.isEnsureDomOrder()&&t.sort(function(f,_){return f.getRowNode().rowIndex-_.getRowNode.rowIndex});var s=Ca(this.zombieRowCtrls),p=this.cachedRowCtrls?this.cachedRowCtrls.getEntries():[];this.allRowCtrls=St(t,s,p)},i.prototype.registerCellEventListeners=function(){var t=this;this.addManagedListener(this.eventService,re.EVENT_CELL_FOCUSED,function(p){t.getAllCellCtrls().forEach(function(f){return f.onCellFocused(p)}),t.getAllRowCtrls().forEach(function(f){f.isFullWidth()&&f.onFullWidthRowFocused(p)})}),this.addManagedListener(this.eventService,re.EVENT_FLASH_CELLS,function(p){t.getAllCellCtrls().forEach(function(f){return f.onFlashCells(p)})}),this.addManagedListener(this.eventService,re.EVENT_COLUMN_HOVER_CHANGED,function(){t.getAllCellCtrls().forEach(function(p){return p.onColumnHover()})}),this.addManagedListener(this.eventService,re.EVENT_DISPLAYED_COLUMNS_CHANGED,function(){t.getAllCellCtrls().forEach(function(p){return p.onDisplayedColumnsChanged()})}),this.addManagedListener(this.eventService,re.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,function(){t.printLayout&&t.getAllCellCtrls().forEach(function(p){return p.onLeftChanged()})}),this.gridOptionsWrapper.isEnableRangeSelection()&&(this.addManagedListener(this.eventService,re.EVENT_RANGE_SELECTION_CHANGED,function(){t.getAllCellCtrls().forEach(function(p){return p.onRangeSelectionChanged()})}),this.addManagedListener(this.eventService,re.EVENT_COLUMN_MOVED,function(){t.getAllCellCtrls().forEach(function(p){return p.updateRangeBordersIfRangeCount()})}),this.addManagedListener(this.eventService,re.EVENT_COLUMN_PINNED,function(){t.getAllCellCtrls().forEach(function(p){return p.updateRangeBordersIfRangeCount()})}),this.addManagedListener(this.eventService,re.EVENT_COLUMN_VISIBLE,function(){t.getAllCellCtrls().forEach(function(p){return p.updateRangeBordersIfRangeCount()})})),this.refreshListenersToColumnsForCellComps(),this.addManagedListener(this.eventService,re.EVENT_GRID_COLUMNS_CHANGED,this.refreshListenersToColumnsForCellComps.bind(this)),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))},i.prototype.removeGridColumnListeners=function(){this.destroyFuncsForColumnListeners.forEach(function(t){return t()}),this.destroyFuncsForColumnListeners.length=0},i.prototype.refreshListenersToColumnsForCellComps=function(){var t=this;this.removeGridColumnListeners();var s=this.columnModel.getAllGridColumns();!s||s.forEach(function(p){var f=function(L){t.getAllCellCtrls().forEach(function(G){G.getColumn()===p&&L(G)})},_=function(){f(function(L){return L.onLeftChanged()})},b=function(){f(function(L){return L.onWidthChanged()})},A=function(){f(function(L){return L.onFirstRightPinnedChanged()})},M=function(){f(function(L){return L.onLastLeftPinnedChanged()})};p.addEventListener(pn.EVENT_LEFT_CHANGED,_),p.addEventListener(pn.EVENT_WIDTH_CHANGED,b),p.addEventListener(pn.EVENT_FIRST_RIGHT_PINNED_CHANGED,A),p.addEventListener(pn.EVENT_LAST_LEFT_PINNED_CHANGED,M),t.destroyFuncsForColumnListeners.push(function(){p.removeEventListener(pn.EVENT_LEFT_CHANGED,_),p.removeEventListener(pn.EVENT_WIDTH_CHANGED,b),p.removeEventListener(pn.EVENT_FIRST_RIGHT_PINNED_CHANGED,A),p.removeEventListener(pn.EVENT_LAST_LEFT_PINNED_CHANGED,M)})})},i.prototype.onDomLayoutChanged=function(){var t=this.gridOptionsWrapper.getDomLayout()===me.DOM_LAYOUT_PRINT,s=t||this.gridOptionsWrapper.isEmbedFullWidthRows(),p=s!==this.embedFullWidthRows||this.printLayout!==t;this.printLayout=t,this.embedFullWidthRows=s,p&&this.redrawAfterModelUpdate()},i.prototype.datasourceChanged=function(){this.firstRenderedRow=0,this.lastRenderedRow=-1;var t=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(t)},i.prototype.onPageLoaded=function(t){this.redrawAfterModelUpdate({recycleRows:t.keepRenderedRows,animate:t.animate,newData:t.newData,newPage:t.newPage,onlyBody:!0})},i.prototype.getAllCellsForColumn=function(t){var s=[];return this.getAllRowCtrls().forEach(function(p){var f=p.getCellElement(t);f&&s.push(f)}),s},i.prototype.refreshFloatingRowComps=function(){this.refreshFloatingRows(this.topRowCtrls,this.pinnedRowModel.getPinnedTopRowData()),this.refreshFloatingRows(this.bottomRowCtrls,this.pinnedRowModel.getPinnedBottomRowData())},i.prototype.getTopRowCtrls=function(){return this.topRowCtrls},i.prototype.getBottomRowCtrls=function(){return this.bottomRowCtrls},i.prototype.refreshFloatingRows=function(t,s){var p=this;t.forEach(function(f){f.destroyFirstPass(),f.destroySecondPass()}),t.length=0,s&&s.forEach(function(f){var _=new ss(p.$scope,f,p.beans,!1,!1,p.printLayout);t.push(_)})},i.prototype.onPinnedRowDataChanged=function(){this.redrawAfterModelUpdate({recycleRows:!0})},i.prototype.getRenderedIndexesForRowNodes=function(t){var s=[];return E(t)||Sn(this.rowCtrlsByRowIndex,function(p,f){var _=f.getRowNode();t.indexOf(_)>=0&&s.push(p)}),s},i.prototype.redrawRows=function(t){var s=null!=t&&t.length>0;if(s){var p=this.getRenderedIndexesForRowNodes(t);this.removeRowCtrls(p)}this.redrawAfterModelUpdate({recycleRows:s})},i.prototype.getCellToRestoreFocusToAfterRefresh=function(t){var s=t.suppressKeepFocus?null:this.focusService.getFocusCellToUseAfterRefresh();if(null==s)return null;var f=this.gridOptionsWrapper.getDocument().activeElement,_=this.gridOptionsWrapper.getDomData(f,Nu.DOM_DATA_KEY_CELL_CTRL),b=this.gridOptionsWrapper.getDomData(f,ss.DOM_DATA_KEY_ROW_CTRL);return _||b?s:null},i.prototype.redrawAfterModelUpdate=function(t){void 0===t&&(t={}),this.getLockOnRefresh();var s=this.getCellToRestoreFocusToAfterRefresh(t);this.updateContainerHeights(),this.scrollToTopIfNewData(t);var p=!this.printLayout&&!!t.recycleRows,f=t.animate&&this.gridOptionsWrapper.isAnimateRows(),_=p?this.recycleRows():null;p||this.removeAllRowComps();var A=function(){if(null==s||null==_)return!1;var M=!1;return Sn(_,function(L,G){var U=G.getRowNode();U.rowIndex==s.rowIndex&&U.rowPinned==s.rowPinned&&(M=!0)}),M}();this.redraw(_,f),t.onlyBody||this.refreshFloatingRowComps(),this.dispatchDisplayedRowsChanged(),A||this.restoreFocusedCell(s),this.releaseLockOnRefresh()},i.prototype.scrollToTopIfNewData=function(t){var s=t.newData||t.newPage,p=this.gridOptionsWrapper.isSuppressScrollOnNewData();s&&!p&&this.gridBodyCtrl.getScrollFeature().scrollToTop()},i.prototype.updateContainerHeights=function(){if(this.printLayout)this.rowContainerHeightService.setModelHeight(null);else{var t=this.paginationProxy.getCurrentPageHeight();0===t&&(t=1),this.rowContainerHeightService.setModelHeight(t)}},i.prototype.getLockOnRefresh=function(){if(this.refreshInProgress)throw new Error("AG Grid: cannot get grid to draw rows when it is in the middle of drawing rows. Your code probably called a grid API method while the grid was in the render stage. To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). To see what part of your code that caused the refresh check this stacktrace.");this.refreshInProgress=!0},i.prototype.releaseLockOnRefresh=function(){this.refreshInProgress=!1},i.prototype.restoreFocusedCell=function(t){t&&this.focusService.setFocusedCell(t.rowIndex,t.column,t.rowPinned,!0)},i.prototype.stopEditing=function(t){void 0===t&&(t=!1),this.getAllRowCtrls().forEach(function(s){s.stopEditing(t)})},i.prototype.onNewColumnsLoaded=function(){this.getAllCellCtrls().forEach(function(t){return t.onNewColumnsLoaded()})},i.prototype.getAllCellCtrls=function(){var t=[];return this.getAllRowCtrls().forEach(function(s){return t=t.concat(s.getAllCellCtrls())}),t},i.prototype.getAllRowCtrls=function(){var t=this,s=St(this.topRowCtrls,this.bottomRowCtrls);return Object.keys(this.rowCtrlsByRowIndex).forEach(function(p){return s.push(t.rowCtrlsByRowIndex[p])}),s},i.prototype.addRenderedRowListener=function(t,s,p){var f=this.rowCtrlsByRowIndex[s];f&&f.addEventListener(t,p)},i.prototype.flashCells=function(t){void 0===t&&(t={});var s=t.flashDelay,p=t.fadeDelay;this.getCellCtrls(t.rowNodes,t.columns).forEach(function(f){return f.flashCell({flashDelay:s,fadeDelay:p})})},i.prototype.refreshCells=function(t){void 0===t&&(t={});var s={forceRefresh:t.force,newData:!1,suppressFlash:t.suppressFlash};this.getCellCtrls(t.rowNodes,t.columns).forEach(function(p){if(p.refreshShouldDestroy()){var f=p.getRowCtrl();f&&f.refreshCell(p)}else p.refreshCell(s)})},i.prototype.getCellRendererInstances=function(t){return this.getCellCtrls(t.rowNodes,t.columns).map(function(p){return p.getCellRenderer()}).filter(function(p){return null!=p})},i.prototype.getCellEditorInstances=function(t){var s=[];return this.getCellCtrls(t.rowNodes,t.columns).forEach(function(p){var f=p.getCellEditor();f&&s.push(f)}),s},i.prototype.getEditingCells=function(){var t=[];return this.getAllCellCtrls().forEach(function(s){if(s.isEditing()){var p=s.getCellPosition();t.push(p)}}),t},i.prototype.getCellCtrls=function(t,s){var f,b,p=this,_=[];J(t)&&(f={top:{},bottom:{},normal:{}},t.forEach(function(M){var L=M.id;M.rowPinned===me.PINNED_TOP?f.top[L]=!0:M.rowPinned===me.PINNED_BOTTOM?f.bottom[L]=!0:f.normal[L]=!0})),J(s)&&(b={},s.forEach(function(M){var L=p.columnModel.getGridColumn(M);J(L)&&(b[L.getId()]=!0)}));var A=function(M){var L=M.getRowNode(),G=L.id,U=L.rowPinned;if(J(f))if(U===me.PINNED_BOTTOM){if(!f.bottom[G])return}else if(U===me.PINNED_TOP){if(!f.top[G])return}else if(!f.normal[G])return;M.getAllCellCtrls().forEach(function(te){var le=te.getColumn().getId();b&&!b[le]||_.push(te)})};return Sn(this.rowCtrlsByRowIndex,function(M,L){A(L)}),this.topRowCtrls&&this.topRowCtrls.forEach(A),this.bottomRowCtrls&&this.bottomRowCtrls.forEach(A),_},i.prototype.destroy=function(){this.removeAllRowComps(),g.prototype.destroy.call(this)},i.prototype.removeAllRowComps=function(){var t=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(t)},i.prototype.recycleRows=function(){var t=[];Sn(this.rowCtrlsByRowIndex,function(p,f){null==f.getRowNode().id&&t.push(p)}),this.removeRowCtrls(t);var s={};return Sn(this.rowCtrlsByRowIndex,function(p,f){var _=f.getRowNode();s[_.id]=f}),this.rowCtrlsByRowIndex={},s},i.prototype.removeRowCtrls=function(t){var s=this;t.forEach(function(p){var f=s.rowCtrlsByRowIndex[p];f&&(f.destroyFirstPass(),f.destroySecondPass()),delete s.rowCtrlsByRowIndex[p]})},i.prototype.redrawAfterScroll=function(){this.getLockOnRefresh(),this.redraw(null,!1,!0),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged()},i.prototype.removeRowCompsNotToDraw=function(t){var s={};t.forEach(function(_){return s[_]=!0});var f=Object.keys(this.rowCtrlsByRowIndex).filter(function(_){return!s[_]});this.removeRowCtrls(f)},i.prototype.calculateIndexesToDraw=function(t){var s=this,p=$n(this.firstRenderedRow,this.lastRenderedRow),f=function(_,b){var A=b.getRowNode().rowIndex;null!=A&&(A<s.firstRenderedRow||A>s.lastRenderedRow)&&s.doNotUnVirtualiseRow(b)&&p.push(A)};return Sn(this.rowCtrlsByRowIndex,f),Sn(t,f),p.sort(function(_,b){return _-b}),p},i.prototype.redraw=function(t,s,p){var f=this;void 0===s&&(s=!1),void 0===p&&(p=!1),this.rowContainerHeightService.updateOffset(),this.workOutFirstAndLastRowsToRender();var _=this.calculateIndexesToDraw(t);this.removeRowCompsNotToDraw(_),this.printLayout&&(s=!1),_.forEach(function(A){J(f.createOrUpdateRowCtrl(A,t,s,p))}),t&&(!p||this.gridOptionsWrapper.isSuppressAnimationFrame()||this.printLayout?this.destroyRowCtrls(t,s):this.beans.animationFrameService.addDestroyTask(function(){f.destroyRowCtrls(t,s),f.updateAllRowCtrls(),f.dispatchDisplayedRowsChanged()})),this.updateAllRowCtrls(),this.checkAngularCompile(),this.gridBodyCtrl.updateRowCount()},i.prototype.dispatchDisplayedRowsChanged=function(){this.eventService.dispatchEvent({type:re.EVENT_DISPLAYED_ROWS_CHANGED})},i.prototype.onDisplayedColumnsChanged=function(){var t=this.columnModel.isPinningLeft(),s=this.columnModel.isPinningRight();(this.pinningLeft!==t||s!==this.pinningRight)&&(this.pinningLeft=t,this.pinningRight=s,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())},i.prototype.redrawFullWidthEmbeddedRows=function(){var t=[];Sn(this.rowCtrlsByRowIndex,function(s,p){if(p.isFullWidth()){var f=p.getRowNode().rowIndex;t.push(f.toString())}}),this.refreshFloatingRowComps(),this.removeRowCtrls(t),this.redrawAfterScroll()},i.prototype.refreshFullWidthRows=function(t){var s=[],p=!!t,f=p?{}:void 0;p&&f&&t.forEach(function(_){return f[_.id]=!0}),Sn(this.rowCtrlsByRowIndex,function(_,b){if(b.isFullWidth()){var A=b.getRowNode();if(p&&f&&!f[A.id]&&!f[A.level>0&&A.parent?A.parent.id:void 0])return;if(!b.refreshFullWidth()){var U=b.getRowNode().rowIndex;s.push(U.toString())}}}),this.removeRowCtrls(s),this.redrawAfterScroll()},i.prototype.createOrUpdateRowCtrl=function(t,s,p,f){var _,b=this.rowCtrlsByRowIndex[t];if(b||J(_=this.paginationProxy.getRow(t))&&J(s)&&s[_.id]&&_.alreadyRendered&&(b=s[_.id],s[_.id]=null),!b){if(_||(_=this.paginationProxy.getRow(t)),!J(_))return;b=this.createRowCon(_,p,f)}return _&&(_.alreadyRendered=!0),this.rowCtrlsByRowIndex[t]=b,b},i.prototype.destroyRowCtrls=function(t,s){var p=this,f=[];Sn(t,function(_,b){if(b){if(p.cachedRowCtrls&&b.isCacheable())return void p.cachedRowCtrls.addRow(b);b.destroyFirstPass(),s?(p.zombieRowCtrls[b.getInstanceId()]=b,f.push(function(){b.destroySecondPass(),delete p.zombieRowCtrls[b.getInstanceId()]})):b.destroySecondPass()}}),s&&(f.push(function(){p.updateAllRowCtrls(),p.dispatchDisplayedRowsChanged()}),oi(f))},i.prototype.checkAngularCompile=function(){var t=this;this.gridOptionsWrapper.isAngularCompileRows()&&window.setTimeout(function(){t.$scope.$apply()},0)},i.prototype.workOutFirstAndLastRowsToRender=function(){var s,p,t=this;if(this.paginationProxy.isRowsToRender())if(this.printLayout)s=this.paginationProxy.getPageFirstRow(),p=this.paginationProxy.getPageLastRow();else{var f=this.gridOptionsWrapper.getRowBufferInPixels(),_=this.ctrlsService.getGridBodyCtrl(),b=!1,A=void 0,M=void 0;do{var L=this.paginationProxy.getPixelOffset(),G=this.paginationProxy.getCurrentPagePixelRange(),U=G.pageFirstPixel,te=G.pageLastPixel,le=this.rowContainerHeightService.getDivStretchOffset(),ge=_.getScrollFeature().getVScrollPosition(),we=ge.bottom;A=Math.max(ge.top+L-f,U)+le,M=Math.min(we+L+f,te)+le,b=this.ensureAllRowsInRangeHaveHeightsCalculated(A,M)}while(b);var Re=this.paginationProxy.getRowIndexAtPixel(A),Fe=this.paginationProxy.getRowIndexAtPixel(M),Ye=this.paginationProxy.getPageFirstRow(),dt=this.paginationProxy.getPageLastRow();Re<Ye&&(Re=Ye),Fe>dt&&(Fe=dt),s=Re,p=Fe}else s=0,p=-1;var Cn=this.gridOptionsWrapper.getDomLayout()===me.DOM_LAYOUT_NORMAL,$t=this.gridOptionsWrapper.isSuppressMaxRenderedRowRestriction(),It=Math.max(this.gridOptionsWrapper.getRowBuffer(),500);if(Cn&&!$t&&p-s>It&&(p=s+It),(s!==this.firstRenderedRow||p!==this.lastRenderedRow)&&(this.firstRenderedRow=s,this.lastRenderedRow=p,this.eventService.dispatchEvent({type:re.EVENT_VIEWPORT_CHANGED,firstRow:s,lastRow:p,api:this.gridApi,columnApi:this.columnApi})),this.paginationProxy.isRowsToRender()){var Rr={type:re.EVENT_FIRST_DATA_RENDERED,firstRow:s,lastRow:p,api:this.gridApi,columnApi:this.columnApi};window.setTimeout(function(){return t.eventService.dispatchEventOnce(Rr)},50)}},i.prototype.ensureAllRowsInRangeHaveHeightsCalculated=function(t,s){var p=this.paginationProxy.ensureRowHeightsValid(t,s,-1,-1);return p&&this.updateContainerHeights(),p},i.prototype.getFirstVirtualRenderedRow=function(){return this.firstRenderedRow},i.prototype.getLastVirtualRenderedRow=function(){return this.lastRenderedRow},i.prototype.doNotUnVirtualiseRow=function(t){var f=t.getRowNode(),_=this.focusService.isRowNodeFocused(f),b=t.isEditing();return!!(_||b||f.detail)&&!!this.paginationProxy.isRowPresent(f)},i.prototype.createRowCon=function(t,s,p){var f=this.cachedRowCtrls?this.cachedRowCtrls.getRow(t):null;if(f)return f;var _=this.gridOptionsWrapper.isSuppressAnimationFrame();return new ss(this.$scope,t,this.beans,s,p&&!_&&!this.printLayout,this.printLayout)},i.prototype.getRenderedNodes=function(){var t=this.rowCtrlsByRowIndex;return Object.keys(t).map(function(s){return t[s].getRowNode()})},i.prototype.getRowByPosition=function(t){var s;switch(t.rowPinned){case me.PINNED_TOP:s=this.topRowCtrls[t.rowIndex];break;case me.PINNED_BOTTOM:s=this.bottomRowCtrls[t.rowIndex];break;default:s=this.rowCtrlsByRowIndex[t.rowIndex]}return s},i.prototype.getRowNode=function(t){switch(t.rowPinned){case me.PINNED_TOP:return this.pinnedRowModel.getPinnedTopRowData()[t.rowIndex];case me.PINNED_BOTTOM:return this.pinnedRowModel.getPinnedBottomRowData()[t.rowIndex];default:return this.rowModel.getRow(t.rowIndex)}},i.prototype.isRangeInRenderedViewport=function(t,s){return!(null==t||null==s||s<this.firstRenderedRow||t>this.lastRenderedRow)},Zi([$("paginationProxy")],i.prototype,"paginationProxy",void 0),Zi([$("columnModel")],i.prototype,"columnModel",void 0),Zi([$("$scope")],i.prototype,"$scope",void 0),Zi([$("pinnedRowModel")],i.prototype,"pinnedRowModel",void 0),Zi([$("rowModel")],i.prototype,"rowModel",void 0),Zi([$("focusService")],i.prototype,"focusService",void 0),Zi([$("columnApi")],i.prototype,"columnApi",void 0),Zi([$("gridApi")],i.prototype,"gridApi",void 0),Zi([$("beans")],i.prototype,"beans",void 0),Zi([$("rowContainerHeightService")],i.prototype,"rowContainerHeightService",void 0),Zi([tn("ctrlsService")],i.prototype,"ctrlsService",void 0),Zi([$e],i.prototype,"postConstruct",null),Zi([tt("rowRenderer")],i)}(Ge),Dv=function(){function g(i){this.entriesMap={},this.entriesList=[],this.maxCount=i}return g.prototype.addRow=function(i){if(this.entriesMap[i.getRowNode().id]=i,this.entriesList.push(i),i.setCached(!0),this.entriesList.length>this.maxCount){var t=this.entriesList[0];t.destroyFirstPass(),t.destroySecondPass(),this.removeFromCache(t)}},g.prototype.getRow=function(i){if(null==i||null==i.id)return null;var t=this.entriesMap[i.id];return t?(this.removeFromCache(t),t.setCached(!1),t.getRowNode()!=i?null:t):null},g.prototype.removeFromCache=function(i){var t=i.getRowNode().id;delete this.entriesMap[t],Pn(this.entriesList,i)},g.prototype.getEntries=function(){return this.entriesList},g}(),Ov=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),Np=function(g){function i(t,s){var p=g.call(this,t)||this;return p.ctrl=s,p}return Ov(i,g),i.prototype.getCtrl=function(){return this.ctrl},i}(Ut),TS=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),Lp=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},MD=function(g){function i(t){var s=g.call(this,i.TEMPLATE,t)||this;return s.headerCompVersion=0,s.column=t.getColumnGroupChild(),s.pinned=t.getPinned(),s}return TS(i,g),i.prototype.postConstruct=function(){var t=this,s=this.getGui(),p=function(b,A,M){var L=M||s;null!=A&&""!=A?L.setAttribute(b,A):L.removeAttribute(b)};this.ctrl.setComp({setWidth:function(b){return s.style.width=b},addOrRemoveCssClass:function(b,A){return t.addOrRemoveCssClass(b,A)},setAriaSort:function(b){return b?Xh(s,b):zw(s)},setColId:function(b){return p("col-id",b)},setTitle:function(b){return p("title",b)},setAriaDescribedBy:function(b){return qh(s,b)},setUserCompDetails:function(b){return t.setUserCompDetails(b)},getUserCompInstance:function(){return t.headerComp}},this.getGui(),this.eResize);var _=this.ctrl.getSelectAllGui();this.eResize.insertAdjacentElement("afterend",_)},i.prototype.destroyHeaderComp=function(){this.headerComp&&(this.getGui().removeChild(this.headerCompGui),this.headerComp=this.destroyBean(this.headerComp),this.headerCompGui=void 0)},i.prototype.setUserCompDetails=function(t){var s=this;this.headerCompVersion++;var p=this.headerCompVersion;t.newAgStackInstance().then(function(f){return s.afterCompCreated(p,f)})},i.prototype.afterCompCreated=function(t,s){t==this.headerCompVersion&&this.isAlive()?(this.destroyHeaderComp(),this.headerComp=s,this.headerCompGui=s.getGui(),this.getGui().appendChild(this.headerCompGui),this.ctrl.setDragSource(this.headerCompGui)):this.destroyBean(s)},i.TEMPLATE='<div class="ag-header-cell" role="columnheader" tabindex="-1">\n            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>\n        </div>',Lp([Ve("eResize")],i.prototype,"eResize",void 0),Lp([$e],i.prototype,"postConstruct",null),Lp([hi],i.prototype,"destroyHeaderComp",null),i}(Np),xv=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),Av=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},Jc=function(g){function i(t){return g.call(this,i.TEMPLATE,t)||this}return xv(i,g),i.prototype.postConstruct=function(){var t=this,s=this.getGui(),p=function(_,b){return null!=b?s.setAttribute(_,b):s.removeAttribute(_)};this.ctrl.setComp({addOrRemoveCssClass:function(_,b){return t.addOrRemoveCssClass(_,b)},addOrRemoveResizableCssClass:function(_,b){return t.eResize.classList.toggle(_,b)},setWidth:function(_){return s.style.width=_},setColId:function(_){return s.setAttribute("col-id",_)},setAriaExpanded:function(_){return p("aria-expanded",_)},setTitle:function(_){return p("title",_)},setUserCompDetails:function(_){return t.setUserCompDetails(_)}},s,this.eResize)},i.prototype.setUserCompDetails=function(t){var s=this;t.newAgStackInstance().then(function(p){return s.afterHeaderCompCreated(p)})},i.prototype.afterHeaderCompCreated=function(t){var s=this,p=function(){return s.destroyBean(t)};this.isAlive()?(this.getGui().appendChild(t.getGui()),this.addDestroyFunc(p),this.ctrl.setDragSource(t.getGui())):p()},i.TEMPLATE='<div class="ag-header-group-cell" role="columnheader" tabindex="-1">\n            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>\n        </div>',Av([$("userComponentFactory")],i.prototype,"userComponentFactory",void 0),Av([Ve("eResize")],i.prototype,"eResize",void 0),Av([$e],i.prototype,"postConstruct",null),i}(Np),zs=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),kf=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},Gu=function(g){function i(t){return g.call(this,i.TEMPLATE,t)||this}return zs(i,g),i.prototype.postConstruct=function(){var t=this,s=this.getGui();this.ctrl.setComp({addOrRemoveCssClass:function(f,_){return t.addOrRemoveCssClass(f,_)},addOrRemoveBodyCssClass:function(f,_){return t.eFloatingFilterBody.classList.toggle(f,_)},addOrRemoveButtonWrapperCssClass:function(f,_){return t.eButtonWrapper.classList.toggle(f,_)},setCompDetails:function(f){return t.setCompDetails(f)},getFloatingFilterComp:function(){return t.compPromise},setWidth:function(f){return s.style.width=f},setMenuIcon:function(f){return t.eButtonShowMainFilter.appendChild(f)}},s,this.eButtonShowMainFilter,this.eFloatingFilterBody)},i.prototype.setCompDetails=function(t){var s=this;this.compPromise=t.newAgStackInstance(),this.compPromise.then(function(p){return s.afterCompCreated(p)})},i.prototype.afterCompCreated=function(t){var s=this;!t||(this.addDestroyFunc(function(){return s.context.destroyBean(t)}),this.isAlive()&&(this.eFloatingFilterBody.appendChild(t.getGui()),t.afterGuiAttached&&t.afterGuiAttached()))},i.TEMPLATE='<div class="ag-header-cell ag-floating-filter" role="gridcell" tabindex="-1">\n            <div ref="eFloatingFilterBody" role="presentation"></div>\n            <div class="ag-floating-filter-button ag-hidden" ref="eButtonWrapper" role="presentation">\n                <button type="button" aria-label="Open Filter Menu" class="ag-floating-filter-button-button" ref="eButtonShowMainFilter" tabindex="-1"></button>\n            </div>\n        </div>',kf([Ve("eFloatingFilterBody")],i.prototype,"eFloatingFilterBody",void 0),kf([Ve("eButtonWrapper")],i.prototype,"eButtonWrapper",void 0),kf([Ve("eButtonShowMainFilter")],i.prototype,"eButtonShowMainFilter",void 0),kf([$e],i.prototype,"postConstruct",null),i}(Np),RS=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),kp=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f};!function(g){g.COLUMN_GROUP="group",g.COLUMN="column",g.FLOATING_FILTER="filter"}(B.HeaderRowType||(B.HeaderRowType={}));var ed=function(g){function i(t){var s=g.call(this)||this;s.headerComps={};var p=t.getType()==B.HeaderRowType.COLUMN_GROUP?"ag-header-row-column-group":t.getType()==B.HeaderRowType.FLOATING_FILTER?"ag-header-row-column-filter":"ag-header-row-column";return s.setTemplate('<div class="ag-header-row '+p+'" role="row"></div>'),s.ctrl=t,s}return RS(i,g),i.prototype.init=function(){var t=this;this.ctrl.setComp({setTransform:function(p){return t.getGui().style.transform=p},setHeight:function(p){return t.getGui().style.height=p},setTop:function(p){return t.getGui().style.top=p},setHeaderCtrls:function(p){return t.setHeaderCtrls(p)},setWidth:function(p){return t.getGui().style.width=p},setAriaRowIndex:function(p){return X_(t.getGui(),p)}})},i.prototype.destroyHeaderCtrls=function(){this.setHeaderCtrls([])},i.prototype.setHeaderCtrls=function(t){var s=this;if(this.isAlive()){var p=this.headerComps;if(this.headerComps={},t.forEach(function(A){var M=A.getInstanceId(),L=p[M];delete p[M],null==L&&(L=s.createHeaderComp(A),s.getGui().appendChild(L.getGui())),s.headerComps[M]=L}),Sn(p,function(A,M){s.getGui().removeChild(M.getGui()),s.destroyBean(M)}),this.gridOptionsWrapper.isEnsureDomOrder()){var _=Ca(this.headerComps);_.sort(function(A,M){return A.getCtrl().getColumnGroupChild().getLeft()-M.getCtrl().getColumnGroupChild().getLeft()});var b=_.map(function(A){return A.getGui()});Pr(this.getGui(),b)}}},i.prototype.createHeaderComp=function(t){var s;switch(this.ctrl.getType()){case B.HeaderRowType.COLUMN_GROUP:s=new Jc(t);break;case B.HeaderRowType.FLOATING_FILTER:s=new Gu(t);break;default:s=new MD(t)}return this.createBean(s),s.setParentComponent(this),s},kp([$e],i.prototype,"init",null),kp([hi],i.prototype,"destroyHeaderCtrls",null),i}(Ut),Gp=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),Fr=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f};!function(g){g[g.UP=0]="UP",g[g.DOWN=1]="DOWN",g[g.LEFT=2]="LEFT",g[g.RIGHT=3]="RIGHT"}(B.HeaderNavigationDirection||(B.HeaderNavigationDirection={}));var De=function(g){function i(){return null!==g&&g.apply(this,arguments)||this}return Gp(i,g),i.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady(function(s){t.gridBodyCon=s.gridBodyCtrl})},i.prototype.getHeaderRowCount=function(){var t=this.ctrlsService.getHeaderRowContainerCtrl();return t?t.getRowCount():0},i.prototype.getHeaderRowType=function(t){var s=this.ctrlsService.getHeaderRowContainerCtrl();if(s)return s.getRowType(t)},i.prototype.navigateVertically=function(t,s,p){if(s||(s=this.focusService.getFocusedHeader()),!s)return!1;var f=s.headerRowIndex,_=s.column,b=this.getHeaderRowCount(),A=t===B.HeaderNavigationDirection.UP,M=A?f-1:f+1,L=null,G=!1;M<0&&(M=0,L=_,G=!0),M>=b&&(M=-1);var U=this.getHeaderRowType(f);if(!G){if(U===B.HeaderRowType.COLUMN_GROUP){var te=_;L=A?_.getParent():te.getDisplayedChildren()[0]}else U===B.HeaderRowType.FLOATING_FILTER?L=_:(te=_,L=A?te.getParent():te);if(!L)return!1}return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:M,column:L},allowUserOverride:!0,event:p})},i.prototype.navigateHorizontally=function(t,s,p){void 0===s&&(s=!1);var A,M,f=this.focusService.getFocusedHeader();return(A=t===B.HeaderNavigationDirection.LEFT!==this.gridOptionsWrapper.isEnableRtl()?this.headerPositionUtils.findHeader(f,M="Before"):this.headerPositionUtils.findHeader(f,M="After"))?this.focusService.focusHeaderPosition({headerPosition:A,direction:M,fromTab:s,allowUserOverride:!0,event:p}):!s||this.focusNextHeaderRow(f,M,p)},i.prototype.focusNextHeaderRow=function(t,s,p){var f=t.headerRowIndex,_=null;return"Before"===s?f>0&&(_=this.headerPositionUtils.findColAtEdgeForHeaderRow(f-1,"end")):_=this.headerPositionUtils.findColAtEdgeForHeaderRow(f+1,"start"),this.focusService.focusHeaderPosition({headerPosition:_,direction:s,fromTab:!0,allowUserOverride:!0,event:p})},i.prototype.scrollToColumn=function(t,s){if(void 0===s&&(s="After"),!t.getPinned()){var p;if(t instanceof Or){var f=t.getDisplayedLeafColumns();p="Before"===s?Rn(f):f[0]}else p=t;this.gridBodyCon.getScrollFeature().ensureColumnVisible(p),this.gridBodyCon.getScrollFeature().horizontallyScrollHeaderCenterAndFloatingCenter(),this.animationFrameService.flushAllFrames()}},Fr([$("focusService")],i.prototype,"focusService",void 0),Fr([$("headerPositionUtils")],i.prototype,"headerPositionUtils",void 0),Fr([$("animationFrameService")],i.prototype,"animationFrameService",void 0),Fr([$("ctrlsService")],i.prototype,"ctrlsService",void 0),Fr([$e],i.prototype,"postConstruct",null),Fr([tt("headerNavigationService")],i)}(Ge),PS=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),Vu=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},Po=function(g){function i(){return null!==g&&g.apply(this,arguments)||this}return PS(i,g),i.prototype.setComp=function(t,s,p){this.comp=t,this.eGui=s,this.createManagedBean(new ks(p,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedListener(this.eventService,re.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onPivotModeChanged.bind(this)),this.onPivotModeChanged(),this.setupHeaderHeight(),this.ctrlsService.registerGridHeaderCtrl(this)},i.prototype.setupHeaderHeight=function(){var t=this.setHeaderHeight.bind(this);t(),this.addManagedListener(this.gridOptionsWrapper,at.PROP_HEADER_HEIGHT,t),this.addManagedListener(this.gridOptionsWrapper,at.PROP_PIVOT_HEADER_HEIGHT,t),this.addManagedListener(this.gridOptionsWrapper,at.PROP_GROUP_HEADER_HEIGHT,t),this.addManagedListener(this.gridOptionsWrapper,at.PROP_PIVOT_GROUP_HEADER_HEIGHT,t),this.addManagedListener(this.gridOptionsWrapper,at.PROP_FLOATING_FILTERS_HEIGHT,t),this.addManagedListener(this.eventService,re.EVENT_DISPLAYED_COLUMNS_CHANGED,t)},i.prototype.setHeaderHeight=function(){var b,A,M,s=this.columnModel,p=this.gridOptionsWrapper,f=0,_=s.getHeaderRowCount();s.isPivotMode()?(A=p.getPivotGroupHeaderHeight(),M=p.getPivotHeaderHeight()):(s.hasFloatingFilters()&&(_++,f=1),A=p.getGroupHeaderHeight(),M=p.getHeaderHeight());var U=_-(1+f);b=f*p.getFloatingFiltersHeight(),b+=U*A,this.comp.setHeightAndMinHeight((b+=M)+1+"px")},i.prototype.onPivotModeChanged=function(){var t=this.columnModel.isPivotMode();this.comp.addOrRemoveCssClass("ag-pivot-on",t),this.comp.addOrRemoveCssClass("ag-pivot-off",!t)},i.prototype.onTabKeyDown=function(t){var s=this.gridOptionsWrapper.isEnableRtl();(this.headerNavigationService.navigateHorizontally(t.shiftKey!==s?B.HeaderNavigationDirection.LEFT:B.HeaderNavigationDirection.RIGHT,!0,t)||this.focusService.focusNextGridCoreContainer(t.shiftKey))&&t.preventDefault()},i.prototype.handleKeyDown=function(t){var s=null;switch(t.key){case We.LEFT:s=B.HeaderNavigationDirection.LEFT;case We.RIGHT:J(s)||(s=B.HeaderNavigationDirection.RIGHT),this.headerNavigationService.navigateHorizontally(s,!1,t);break;case We.UP:s=B.HeaderNavigationDirection.UP;case We.DOWN:J(s)||(s=B.HeaderNavigationDirection.DOWN),this.headerNavigationService.navigateVertically(s,null,t)&&t.preventDefault();break;default:return}},i.prototype.onFocusOut=function(t){var s=this.gridOptionsWrapper.getDocument(),p=t.relatedTarget;!p&&this.eGui.contains(s.activeElement)||this.eGui.contains(p)||this.focusService.clearFocusedHeader()},Vu([$("headerNavigationService")],i.prototype,"headerNavigationService",void 0),Vu([$("focusService")],i.prototype,"focusService",void 0),Vu([$("columnModel")],i.prototype,"columnModel",void 0),Vu([$("ctrlsService")],i.prototype,"ctrlsService",void 0),i}(Ge),dr=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},td=function(){function g(i,t){this.needToMoveLeft=!1,this.needToMoveRight=!1,this.pinned=i,this.eContainer=t,this.centerContainer=!J(i)}return g.prototype.init=function(){var i=this;this.ctrlsService.whenReady(function(){i.gridBodyCon=i.ctrlsService.getGridBodyCtrl()})},g.prototype.getIconName=function(){return this.pinned?sr.ICON_PINNED:sr.ICON_MOVE},g.prototype.onDragEnter=function(i){var t=i.dragItem.columns;if(i.dragSource.type===B.DragSourceType.ToolPanel)this.setColumnsVisible(t,!0,"uiColumnDragged");else{var p=i.dragItem.visibleState,f=(t||[]).filter(function(_){return p[_.getId()]});this.setColumnsVisible(f,!0,"uiColumnDragged")}this.setColumnsPinned(t,this.pinned,"uiColumnDragged"),this.onDragging(i,!0)},g.prototype.onDragLeave=function(i){if(!this.gridOptionsWrapper.isSuppressDragLeaveHidesColumns()&&!i.fromNudge){var s=i.dragSource.getDragItem();this.setColumnsVisible(s.columns,!1,"uiColumnDragged")}this.ensureIntervalCleared()},g.prototype.setColumnsVisible=function(i,t,s){if(void 0===s&&(s="api"),i){var p=i.filter(function(f){return!f.getColDef().lockVisible});this.columnModel.setColumnsVisible(p,t,s)}},g.prototype.setColumnsPinned=function(i,t,s){if(void 0===s&&(s="api"),i){var p=i.filter(function(f){return!f.getColDef().lockPinned});this.columnModel.setColumnsPinned(p,t,s)}},g.prototype.onDragStop=function(){this.ensureIntervalCleared()},g.prototype.normaliseX=function(i){return this.gridOptionsWrapper.isEnableRtl()&&(i=this.eContainer.clientWidth-i),this.centerContainer&&(i+=this.ctrlsService.getCenterRowContainerCtrl().getCenterViewportScrollLeft()),i},g.prototype.checkCenterForScrolling=function(i){if(this.centerContainer){var t=this.ctrlsService.getCenterRowContainerCtrl().getCenterViewportScrollLeft(),s=t+this.ctrlsService.getCenterRowContainerCtrl().getCenterWidth();this.gridOptionsWrapper.isEnableRtl()?(this.needToMoveRight=i<t+50,this.needToMoveLeft=i>s-50):(this.needToMoveLeft=i<t+50,this.needToMoveRight=i>s-50),this.needToMoveLeft||this.needToMoveRight?this.ensureIntervalStarted():this.ensureIntervalCleared()}},g.prototype.onDragging=function(i,t){var s=this;if(void 0===t&&(t=!1),this.lastDraggingEvent=i,!E(i.hDirection)){var p=this.normaliseX(i.x);t||this.checkCenterForScrolling(p);var f=this.normaliseDirection(i.hDirection),_=i.dragSource.type,b=i.dragSource.getDragItem().columns;b=b.filter(function(A){return!A.getColDef().lockPinned||A.getPinned()==s.pinned}),this.attemptMoveColumns(_,b,f,p,t)}},g.prototype.normaliseDirection=function(i){if(!this.gridOptionsWrapper.isEnableRtl())return i;switch(i){case B.HorizontalDirection.Left:return B.HorizontalDirection.Right;case B.HorizontalDirection.Right:return B.HorizontalDirection.Left;default:console.error("AG Grid: Unknown direction "+i)}},g.prototype.calculateOldIndex=function(i){var t=this.columnModel.getAllGridColumns(),s=qd(i.map(function(A){return t.indexOf(A)})),p=s[0];return Rn(s)-p!=s.length-1?null:p},g.prototype.attemptMoveColumns=function(i,t,s,p,f){var _=s===B.HorizontalDirection.Left,b=s===B.HorizontalDirection.Right,A=t.slice();this.columnModel.sortColumnsLikeGridColumns(A);var M=this.calculateValidMoves(A,b,p),L=this.calculateOldIndex(A);if(0!==M.length){var G=M[0],U=null!==L&&!f;if(i==B.DragSourceType.HeaderCell&&(U=null!==L),!U||!(_&&G>=L||b&&G<=L))for(var te=0;te<M.length;te++){var le=M[te];if(this.columnModel.doesMovePassRules(A,le))return void this.columnModel.moveColumns(A,le,"uiColumnDragged")}}},g.prototype.calculateValidMoves=function(i,t,s){if(this.gridOptionsWrapper.isSuppressMovableColumns()||i.some(function($t){return $t.getColDef().suppressMovable}))return[];var ge,f=this.columnModel.getDisplayedColumns(this.pinned),_=this.columnModel.getAllGridColumns(),b=f.filter(function($t){return ho(i,$t)}),A=f.filter(function($t){return!ho(i,$t)}),M=_.filter(function($t){return!ho(i,$t)}),L=0,G=s;if(t){var U=0;b.forEach(function($t){return U+=$t.getActualWidth()}),G-=U}if(G>0){for(var te=0;te<A.length&&!((G-=A[te].getActualWidth())<0);te++)L++;t&&L++}L>0?ge=M.indexOf(A[L-1])+1:-1===(ge=M.indexOf(A[0]))&&(ge=0);var we=[ge],Re=function($t,It){return $t-It};if(t){for(var Fe=ge+1,Ye=_.length-1;Fe<=Ye;)we.push(Fe),Fe++;we.sort(Re)}else{Ye=_.length-1;for(var dt=_[Fe=ge];Fe<=Ye&&this.isColumnHidden(f,dt);)Fe++,we.push(Fe),dt=_[Fe];for(Fe=ge-1;Fe>=0;)we.push(Fe),Fe--;we.sort(Re).reverse()}return we},g.prototype.isColumnHidden=function(i,t){return i.indexOf(t)<0},g.prototype.ensureIntervalStarted=function(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),100),this.dragAndDropService.setGhostIcon(this.needToMoveLeft?sr.ICON_LEFT:sr.ICON_RIGHT,!0))},g.prototype.ensureIntervalCleared=function(){this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.dragAndDropService.setGhostIcon(sr.ICON_MOVE))},g.prototype.moveInterval=function(){var i;this.intervalCount++,(i=10+5*this.intervalCount)>100&&(i=100);var t=null,s=this.gridBodyCon.getScrollFeature();if(this.needToMoveLeft?t=s.scrollHorizontally(-i):this.needToMoveRight&&(t=s.scrollHorizontally(i)),0!==t)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;var f=this.lastDraggingEvent.dragItem.columns.filter(function(b){return!b.getColDef().lockPinned});f.length>0&&(this.dragAndDropService.setGhostIcon(sr.ICON_PINNED),this.failedMoveAttempts>7)&&(this.setColumnsPinned(f,this.needToMoveLeft?me.PINNED_LEFT:me.PINNED_RIGHT,"uiColumnDragged"),this.dragAndDropService.nudge())}},dr([$("columnModel")],g.prototype,"columnModel",void 0),dr([$("dragAndDropService")],g.prototype,"dragAndDropService",void 0),dr([$("gridOptionsWrapper")],g.prototype,"gridOptionsWrapper",void 0),dr([$("ctrlsService")],g.prototype,"ctrlsService",void 0),dr([$e],g.prototype,"init",null),g}(),$s=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},Jo=function(){function g(i){this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[],this.pinned=i}return g.prototype.onDragEnter=function(i){var t=this;if(this.clearColumnsList(),!this.gridOptionsWrapper.isFunctionsReadOnly()){var s=i.dragItem.columns;!s||s.forEach(function(p){!p.isPrimary()||p.isAnyFunctionActive()||(p.isAllowValue()?t.columnsToAggregate.push(p):p.isAllowRowGroup()?t.columnsToGroup.push(p):p.isAllowPivot()&&t.columnsToPivot.push(p))})}},g.prototype.getIconName=function(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?sr.ICON_PINNED:sr.ICON_MOVE:null},g.prototype.onDragLeave=function(i){this.clearColumnsList()},g.prototype.clearColumnsList=function(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0},g.prototype.onDragging=function(i){},g.prototype.onDragStop=function(i){this.columnsToAggregate.length>0&&this.columnModel.addValueColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&this.columnModel.addRowGroupColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&this.columnModel.addPivotColumns(this.columnsToPivot,"toolPanelDragAndDrop")},$s([$("columnModel")],g.prototype,"columnModel",void 0),$s([$("gridOptionsWrapper")],g.prototype,"gridOptionsWrapper",void 0),g}(),ls=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),Pi=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},Ks=function(g){function i(t,s){var p=g.call(this)||this;return p.pinned=t,p.eContainer=s,p}return ls(i,g),i.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady(function(s){switch(t.pinned){case me.PINNED_LEFT:t.eSecondaryContainers=[[s.gridBodyCtrl.getBodyViewportElement(),s.leftRowContainerCtrl.getContainerElement()],[s.bottomLeftRowContainerCtrl.getContainerElement()],[s.topLeftRowContainerCtrl.getContainerElement()]];break;case me.PINNED_RIGHT:t.eSecondaryContainers=[[s.gridBodyCtrl.getBodyViewportElement(),s.rightRowContainerCtrl.getContainerElement()],[s.bottomRightRowContainerCtrl.getContainerElement()],[s.topRightRowContainerCtrl.getContainerElement()]];break;default:t.eSecondaryContainers=[[s.gridBodyCtrl.getBodyViewportElement(),s.centerRowContainerCtrl.getViewportElement()],[s.bottomCenterRowContainerCtrl.getViewportElement()],[s.topCenterRowContainerCtrl.getViewportElement()]]}})},i.prototype.isInterestedIn=function(t){return t===B.DragSourceType.HeaderCell||t===B.DragSourceType.ToolPanel&&this.gridOptionsWrapper.isAllowDragFromColumnsToolPanel()},i.prototype.getSecondaryContainers=function(){return this.eSecondaryContainers},i.prototype.getContainer=function(){return this.eContainer},i.prototype.init=function(){this.moveColumnFeature=this.createManagedBean(new td(this.pinned,this.eContainer)),this.bodyDropPivotTarget=this.createManagedBean(new Jo(this.pinned)),this.dragAndDropService.addDropTarget(this)},i.prototype.getIconName=function(){return this.currentDropListener.getIconName()},i.prototype.isDropColumnInPivotMode=function(t){return this.columnModel.isPivotMode()&&t.dragSource.type===B.DragSourceType.ToolPanel},i.prototype.onDragEnter=function(t){this.currentDropListener=this.isDropColumnInPivotMode(t)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(t)},i.prototype.onDragLeave=function(t){this.currentDropListener.onDragLeave(t)},i.prototype.onDragging=function(t){this.currentDropListener.onDragging(t)},i.prototype.onDragStop=function(t){this.currentDropListener.onDragStop(t)},Pi([$("dragAndDropService")],i.prototype,"dragAndDropService",void 0),Pi([$("columnModel")],i.prototype,"columnModel",void 0),Pi([$("ctrlsService")],i.prototype,"ctrlsService",void 0),Pi([$e],i.prototype,"postConstruct",null),Pi([$e],i.prototype,"init",null),i}(Ge),Vp=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),Mo=0,Ma=function(g){function i(t,s){var p=g.call(this)||this;return p.lastFocusEvent=null,p.columnGroupChild=t,p.parentRowCtrl=s,p.instanceId=t.getUniqueId()+"-"+Mo++,p}return Vp(i,g),i.prototype.shouldStopEventPropagation=function(t){var s=this.focusService.getFocusedHeader();return _n(this.gridOptionsWrapper,t,s.headerRowIndex,s.column)},i.prototype.setGui=function(t){this.eGui=t,this.addDomData()},i.prototype.addDomData=function(){var t=this,s=i.DOM_DATA_KEY_HEADER_CTRL;this.gridOptionsWrapper.setDomData(this.eGui,s,this),this.addDestroyFunc(function(){return t.gridOptionsWrapper.setDomData(t.eGui,s,null)})},i.prototype.getGui=function(){return this.eGui},i.prototype.focus=function(t){return!!this.eGui&&(this.lastFocusEvent=t||null,this.eGui.focus(),!0)},i.prototype.getRowIndex=function(){return this.parentRowCtrl.getRowIndex()},i.prototype.getParentRowCtrl=function(){return this.parentRowCtrl},i.prototype.getPinned=function(){return this.parentRowCtrl.getPinned()},i.prototype.getInstanceId=function(){return this.instanceId},i.prototype.getColumnGroupChild=function(){return this.columnGroupChild},i.DOM_DATA_KEY_HEADER_CTRL="headerCtrl",function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);p>3&&f&&Object.defineProperty(i,t,f)}([$("focusService")],i.prototype,"focusService",void 0),i}(Ge);!function(g){g[g.SINGLE_SHEET=0]="SINGLE_SHEET",g[g.MULTI_SHEET=1]="MULTI_SHEET"}(B.ExcelFactoryMode||(B.ExcelFactoryMode={})),function(g){g.EVERYTHING="group",g.FILTER="filter",g.SORT="sort",g.MAP="map",g.AGGREGATE="aggregate",g.PIVOT="pivot",g.NOTHING="nothing"}(B.ClientSideRowModelSteps||(B.ClientSideRowModelSteps={}));var cn=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f};function Nl(g){return null!=g&&null!=g.getFrameworkComponentInstance?g.getFrameworkComponentInstance():g}var Bu=function(){function g(){this.detailGridInfoMap={},this.destroyCalled=!1}return g.prototype.registerOverlayWrapperComp=function(i){this.overlayWrapperComp=i},g.prototype.registerSideBarComp=function(i){this.sideBarComp=i},g.prototype.init=function(){var i=this;switch(this.rowModel.getType()){case me.ROW_MODEL_TYPE_CLIENT_SIDE:this.clientSideRowModel=this.rowModel;break;case me.ROW_MODEL_TYPE_INFINITE:this.infiniteRowModel=this.rowModel;break;case me.ROW_MODEL_TYPE_SERVER_SIDE:this.serverSideRowModel=this.rowModel}this.ctrlsService.whenReady(function(){i.gridBodyCon=i.ctrlsService.getGridBodyCtrl()})},g.prototype.__getAlignedGridService=function(){return this.alignedGridsService},g.prototype.__getContext=function(){return this.context},g.prototype.addDetailGridInfo=function(i,t){this.detailGridInfoMap[i]=t},g.prototype.removeDetailGridInfo=function(i){this.detailGridInfoMap[i]=void 0},g.prototype.getDetailGridInfo=function(i){return this.detailGridInfoMap[i]},g.prototype.forEachDetailGridInfo=function(i){var t=0;Sn(this.detailGridInfoMap,function(s,p){J(p)&&(i(p,t),t++)})},g.prototype.getDataAsCsv=function(i){if(Vt.assertRegistered(B.ModuleNames.CsvExportModule,"api.getDataAsCsv"))return this.csvCreator.getDataAsCsv(i)},g.prototype.exportDataAsCsv=function(i){Vt.assertRegistered(B.ModuleNames.CsvExportModule,"api.exportDataAsCSv")&&this.csvCreator.exportDataAsCsv(i)},g.prototype.getExcelExportMode=function(i){var t=this.gridOptionsWrapper.getDefaultExportParams("excel");return Object.assign({exportMode:"xlsx"},t,i).exportMode},g.prototype.getDataAsExcel=function(i){if(Vt.assertRegistered(B.ModuleNames.ExcelExportModule,"api.getDataAsExcel")){var t=this.getExcelExportMode(i);return this.excelCreator.getFactoryMode(t)===B.ExcelFactoryMode.MULTI_SHEET?void console.warn("AG Grid: The Excel Exporter is currently on Multi Sheet mode. End that operation by calling `api.getMultipleSheetAsExcel()` or `api.exportMultipleSheetsAsExcel()`"):this.excelCreator.getDataAsExcel(i)}},g.prototype.exportDataAsExcel=function(i){if(Vt.assertRegistered(B.ModuleNames.ExcelExportModule,"api.exportDataAsExcel")){var t=this.getExcelExportMode(i);if(this.excelCreator.getFactoryMode(t)===B.ExcelFactoryMode.MULTI_SHEET)return void console.warn("AG Grid: The Excel Exporter is currently on Multi Sheet mode. End that operation by calling `api.getMultipleSheetAsExcel()` or `api.exportMultipleSheetsAsExcel()`");this.excelCreator.exportDataAsExcel(i)}},g.prototype.getSheetDataForExcel=function(i){if(Vt.assertRegistered(B.ModuleNames.ExcelExportModule,"api.getSheetDataForExcel")){var t=this.getExcelExportMode(i);return this.excelCreator.setFactoryMode(B.ExcelFactoryMode.MULTI_SHEET,t),this.excelCreator.getSheetDataForExcel(i)}},g.prototype.getMultipleSheetsAsExcel=function(i){if(Vt.assertRegistered(B.ModuleNames.ExcelExportModule,"api.getMultipleSheetsAsExcel"))return this.excelCreator.getMultipleSheetsAsExcel(i)},g.prototype.exportMultipleSheetsAsExcel=function(i){if(Vt.assertRegistered(B.ModuleNames.ExcelExportModule,"api.exportMultipleSheetsAsExcel"))return this.excelCreator.exportMultipleSheetsAsExcel(i)},g.prototype.setEnterpriseDatasource=function(i){console.warn("AG Grid: since version 18.x, api.setEnterpriseDatasource() should be replaced with api.setServerSideDatasource()"),this.setServerSideDatasource(i)},g.prototype.setGridAriaProperty=function(i,t){if(i){var s=this.ctrlsService.getGridBodyCtrl().getGui(),p="aria-"+i;null===t?s.removeAttribute(p):s.setAttribute(p,t)}},g.prototype.setServerSideDatasource=function(i){this.serverSideRowModel?this.serverSideRowModel.setDatasource(i):console.warn("AG Grid: you can only use an enterprise datasource when gridOptions.rowModelType is '"+me.ROW_MODEL_TYPE_SERVER_SIDE+"'")},g.prototype.setDatasource=function(i){this.gridOptionsWrapper.isRowModelInfinite()?this.rowModel.setDatasource(i):console.warn("AG Grid: you can only use a datasource when gridOptions.rowModelType is '"+me.ROW_MODEL_TYPE_INFINITE+"'")},g.prototype.setViewportDatasource=function(i){this.gridOptionsWrapper.isRowModelViewport()?this.rowModel.setViewportDatasource(i):console.warn("AG Grid: you can only use a viewport datasource when gridOptions.rowModelType is '"+me.ROW_MODEL_TYPE_VIEWPORT+"'")},g.prototype.setRowData=function(i){if(this.gridOptionsWrapper.isRowModelDefault())if(this.gridOptionsWrapper.isImmutableData()){var t=this.immutableService.createTransactionForRowData(i);if(!t)return;var s=function(g,i){var t="function"==typeof Symbol&&g[Symbol.iterator];if(!t)return g;var p,_,s=t.call(g),f=[];try{for(;(void 0===i||i-- >0)&&!(p=s.next()).done;)f.push(p.value)}catch(b){_={error:b}}finally{try{p&&!p.done&&(t=s.return)&&t.call(s)}finally{if(_)throw _.error}}return f}(t,2),_=this.clientSideRowModel.updateRowData(s[0],s[1]);_&&this.rowRenderer.refreshFullWidthRows(_.update)}else this.selectionService.reset(),this.clientSideRowModel.setRowData(i);else console.warn("AG Grid: cannot call setRowData unless using normal row model")},g.prototype.setFloatingTopRowData=function(i){console.warn("AG Grid: since v12, api.setFloatingTopRowData() is now api.setPinnedTopRowData()"),this.setPinnedTopRowData(i)},g.prototype.setFloatingBottomRowData=function(i){console.warn("AG Grid: since v12, api.setFloatingBottomRowData() is now api.setPinnedBottomRowData()"),this.setPinnedBottomRowData(i)},g.prototype.getFloatingTopRowCount=function(){return console.warn("AG Grid: since v12, api.getFloatingTopRowCount() is now api.getPinnedTopRowCount()"),this.getPinnedTopRowCount()},g.prototype.getFloatingBottomRowCount=function(){return console.warn("AG Grid: since v12, api.getFloatingBottomRowCount() is now api.getPinnedBottomRowCount()"),this.getPinnedBottomRowCount()},g.prototype.getFloatingTopRow=function(i){return console.warn("AG Grid: since v12, api.getFloatingTopRow() is now api.getPinnedTopRow()"),this.getPinnedTopRow(i)},g.prototype.getFloatingBottomRow=function(i){return console.warn("AG Grid: since v12, api.getFloatingBottomRow() is now api.getPinnedBottomRow()"),this.getPinnedBottomRow(i)},g.prototype.setPinnedTopRowData=function(i){this.pinnedRowModel.setPinnedTopRowData(i)},g.prototype.setPinnedBottomRowData=function(i){this.pinnedRowModel.setPinnedBottomRowData(i)},g.prototype.getPinnedTopRowCount=function(){return this.pinnedRowModel.getPinnedTopRowCount()},g.prototype.getPinnedBottomRowCount=function(){return this.pinnedRowModel.getPinnedBottomRowCount()},g.prototype.getPinnedTopRow=function(i){return this.pinnedRowModel.getPinnedTopRow(i)},g.prototype.getPinnedBottomRow=function(i){return this.pinnedRowModel.getPinnedBottomRow(i)},g.prototype.setColumnDefs=function(i,t){void 0===t&&(t="api"),this.columnModel.setColumnDefs(i,t)},g.prototype.setAutoGroupColumnDef=function(i,t){this.gridOptionsWrapper.setProperty("autoGroupColumnDef",i,!0)},g.prototype.expireValueCache=function(){this.valueCache.expire()},g.prototype.getVerticalPixelRange=function(){return this.gridBodyCon.getScrollFeature().getVScrollPosition()},g.prototype.getHorizontalPixelRange=function(){return this.gridBodyCon.getScrollFeature().getHScrollPosition()},g.prototype.setAlwaysShowHorizontalScroll=function(i){this.gridOptionsWrapper.setProperty("alwaysShowHorizontalScroll",i)},g.prototype.setAlwaysShowVerticalScroll=function(i){this.gridOptionsWrapper.setProperty("alwaysShowVerticalScroll",i)},g.prototype.refreshToolPanel=function(){!this.sideBarComp||this.sideBarComp.refresh()},g.prototype.refreshCells=function(i){void 0===i&&(i={}),Array.isArray(i)?console.warn("since AG Grid v11.1, refreshCells() now takes parameters, please see the documentation."):this.rowRenderer.refreshCells(i)},g.prototype.flashCells=function(i){void 0===i&&(i={}),this.rowRenderer.flashCells(i)},g.prototype.redrawRows=function(i){void 0===i&&(i={}),this.rowRenderer.redrawRows(i?i.rowNodes:void 0)},g.prototype.setFunctionsReadOnly=function(i){this.gridOptionsWrapper.setProperty("functionsReadOnly",i)},g.prototype.refreshHeader=function(){this.ctrlsService.getHeaderRowContainerCtrls().forEach(function(i){return i.refresh()})},g.prototype.isAnyFilterPresent=function(){return this.filterManager.isAnyFilterPresent()},g.prototype.isColumnFilterPresent=function(){return this.filterManager.isAdvancedFilterPresent()},g.prototype.isQuickFilterPresent=function(){return this.filterManager.isQuickFilterPresent()},g.prototype.getModel=function(){return this.rowModel},g.prototype.setRowNodeExpanded=function(i,t){i&&i.setExpanded(t)},g.prototype.onGroupExpandedOrCollapsed=function(i){E(this.clientSideRowModel)&&console.warn("AG Grid: cannot call onGroupExpandedOrCollapsed unless using normal row model"),J(i)&&console.warn("AG Grid: api.onGroupExpandedOrCollapsed - refreshFromIndex parameter is no longer used, the grid will refresh all rows"),this.clientSideRowModel.refreshModel({step:B.ClientSideRowModelSteps.MAP})},g.prototype.refreshInMemoryRowModel=function(i){console.warn("ag-grid: since version 18.x, api.refreshInMemoryRowModel() should be replaced with api.refreshClientSideRowModel()"),this.refreshClientSideRowModel(i)},g.prototype.refreshClientSideRowModel=function(i){E(this.clientSideRowModel)&&console.warn("cannot call refreshClientSideRowModel unless using normal row model");var t=B.ClientSideRowModelSteps.EVERYTHING,s={group:B.ClientSideRowModelSteps.EVERYTHING,filter:B.ClientSideRowModelSteps.FILTER,map:B.ClientSideRowModelSteps.MAP,aggregate:B.ClientSideRowModelSteps.AGGREGATE,sort:B.ClientSideRowModelSteps.SORT,pivot:B.ClientSideRowModelSteps.PIVOT};if(J(i)&&(t=s[i]),E(t))console.error("AG Grid: invalid step "+i+", available steps are "+Object.keys(s).join(", "));else{var p=!this.gridOptionsWrapper.isSuppressAnimationFrame();this.clientSideRowModel.refreshModel({step:t,keepRenderedRows:!0,keepEditingRows:!0,animate:p})}},g.prototype.isAnimationFrameQueueEmpty=function(){return this.animationFrameService.isQueueEmpty()},g.prototype.flushAllAnimationFrames=function(){this.animationFrameService.flushAllFrames()},g.prototype.getRowNode=function(i){return this.rowModel.getRowNode(i)},g.prototype.getSizesForCurrentTheme=function(){return{rowHeight:this.gridOptionsWrapper.getRowHeightAsNumber(),headerHeight:this.gridOptionsWrapper.getHeaderHeight()}},g.prototype.expandAll=function(){this.clientSideRowModel?this.clientSideRowModel.expandOrCollapseAll(!0):this.serverSideRowModel?this.serverSideRowModel.expandAll(!0):console.warn("AG Grid: expandAll only works with Client Side Row Model and Server Side Row Model")},g.prototype.collapseAll=function(){this.clientSideRowModel?this.clientSideRowModel.expandOrCollapseAll(!1):this.serverSideRowModel?this.serverSideRowModel.expandAll(!1):console.warn("AG Grid: collapseAll only works with Client Side Row Model and Server Side Row Model")},g.prototype.getToolPanelInstance=function(i){if(this.sideBarComp)return Nl(this.sideBarComp.getToolPanelInstance(i));console.warn("AG Grid: toolPanel is only available in AG Grid Enterprise")},g.prototype.addVirtualRowListener=function(i,t,s){"string"!=typeof i&&console.warn("AG Grid: addVirtualRowListener is deprecated, please use addRenderedRowListener."),this.addRenderedRowListener(i,t,s)},g.prototype.addRenderedRowListener=function(i,t,s){"virtualRowSelected"===i&&console.warn("AG Grid: event virtualRowSelected is deprecated, to register for individual row\n                selection events, add a listener directly to the row node."),this.rowRenderer.addRenderedRowListener(i,t,s)},g.prototype.setQuickFilter=function(i){this.filterManager.setQuickFilter(i)},g.prototype.selectIndex=function(i,t,s){console.warn("AG Grid: do not use api for selection, call node.setSelected(value) instead"),s&&console.warn("AG Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),this.selectionService.selectIndex(i,t)},g.prototype.deselectIndex=function(i,t){void 0===t&&(t=!1),console.warn("AG Grid: do not use api for selection, call node.setSelected(value) instead"),t&&console.warn("AG Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),this.selectionService.deselectIndex(i)},g.prototype.selectNode=function(i,t,s){void 0===t&&(t=!1),void 0===s&&(s=!1),console.warn("AG Grid: API for selection is deprecated, call node.setSelected(value) instead"),s&&console.warn("AG Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),i.setSelectedParams({newValue:!0,clearSelection:!t})},g.prototype.deselectNode=function(i,t){void 0===t&&(t=!1),console.warn("AG Grid: API for selection is deprecated, call node.setSelected(value) instead"),t&&console.warn("AG Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),i.setSelectedParams({newValue:!1})},g.prototype.selectAll=function(){this.selectionService.selectAllRowNodes()},g.prototype.deselectAll=function(){this.selectionService.deselectAllRowNodes()},g.prototype.selectAllFiltered=function(){this.selectionService.selectAllRowNodes(!0)},g.prototype.deselectAllFiltered=function(){this.selectionService.deselectAllRowNodes(!0)},g.prototype.recomputeAggregates=function(){E(this.clientSideRowModel)&&console.warn("cannot call recomputeAggregates unless using normal row model"),console.warn("recomputeAggregates is deprecated, please call api.refreshClientSideRowModel('aggregate') instead"),this.clientSideRowModel.refreshModel({step:B.ClientSideRowModelSteps.AGGREGATE})},g.prototype.sizeColumnsToFit=function(){this.gridBodyCon.sizeColumnsToFit()},g.prototype.showLoadingOverlay=function(){this.overlayWrapperComp.showLoadingOverlay()},g.prototype.showNoRowsOverlay=function(){this.overlayWrapperComp.showNoRowsOverlay()},g.prototype.hideOverlay=function(){this.overlayWrapperComp.hideOverlay()},g.prototype.isNodeSelected=function(i){return console.warn("AG Grid: no need to call api.isNodeSelected(), just call node.isSelected() instead"),i.isSelected()},g.prototype.getSelectedNodesById=function(){return console.error("AG Grid: since version 3.4, getSelectedNodesById no longer exists, use getSelectedNodes() instead"),null},g.prototype.getSelectedNodes=function(){return this.selectionService.getSelectedNodes()},g.prototype.getSelectedRows=function(){return this.selectionService.getSelectedRows()},g.prototype.getBestCostNodeSelection=function(){return this.selectionService.getBestCostNodeSelection()},g.prototype.getRenderedNodes=function(){return this.rowRenderer.getRenderedNodes()},g.prototype.ensureColIndexVisible=function(i){console.warn("AG Grid: ensureColIndexVisible(index) no longer supported, use ensureColumnVisible(colKey) instead.")},g.prototype.ensureColumnVisible=function(i,t){void 0===t&&(t="auto"),this.gridBodyCon.getScrollFeature().ensureColumnVisible(i,t)},g.prototype.ensureIndexVisible=function(i,t){this.gridBodyCon.getScrollFeature().ensureIndexVisible(i,t)},g.prototype.ensureNodeVisible=function(i,t){void 0===t&&(t=null),this.gridBodyCon.getScrollFeature().ensureNodeVisible(i,t)},g.prototype.forEachLeafNode=function(i){E(this.clientSideRowModel)&&console.warn("cannot call forEachNode unless using normal row model"),this.clientSideRowModel.forEachLeafNode(i)},g.prototype.forEachNode=function(i){this.rowModel.forEachNode(i)},g.prototype.forEachNodeAfterFilter=function(i){E(this.clientSideRowModel)&&console.warn("cannot call forEachNodeAfterFilter unless using normal row model"),this.clientSideRowModel.forEachNodeAfterFilter(i)},g.prototype.forEachNodeAfterFilterAndSort=function(i){E(this.clientSideRowModel)&&console.warn("cannot call forEachNodeAfterFilterAndSort unless using normal row model"),this.clientSideRowModel.forEachNodeAfterFilterAndSort(i)},g.prototype.getFilterInstance=function(i,t){var s=this.getFilterInstanceImpl(i,function(f){if(t){var _=Nl(f);t(_)}});return Nl(s)},g.prototype.getFilterInstanceImpl=function(i,t){var s=this.columnModel.getPrimaryColumn(i);if(s){var p=this.filterManager.getFilterComponent(s,"NO_UI"),f=p&&p.resolveNow(null,function(_){return _});return f?setTimeout(t,0,f):p&&p.then(function(_){t(_)}),f}},g.prototype.destroyFilter=function(i){var t=this.columnModel.getPrimaryColumn(i);if(t)return this.filterManager.destroyFilter(t,"filterDestroyed")},g.prototype.getStatusPanel=function(i){if(this.statusBarService)return Nl(this.statusBarService.getStatusPanel(i))},g.prototype.getColumnDef=function(i){var t=this.columnModel.getPrimaryColumn(i);return t?t.getColDef():null},g.prototype.getColumnDefs=function(){return this.columnModel.getColumnDefs()},g.prototype.onFilterChanged=function(){this.filterManager.onFilterChanged()},g.prototype.onSortChanged=function(){this.sortController.onSortChanged()},g.prototype.setFilterModel=function(i){this.filterManager.setFilterModel(i)},g.prototype.getFilterModel=function(){return this.filterManager.getFilterModel()},g.prototype.getFocusedCell=function(){return this.focusService.getFocusedCell()},g.prototype.clearFocusedCell=function(){return this.focusService.clearFocusedCell()},g.prototype.setFocusedCell=function(i,t,s){this.focusService.setFocusedCell(i,t,s,!0)},g.prototype.setSuppressRowDrag=function(i){this.gridOptionsWrapper.setProperty(at.PROP_SUPPRESS_ROW_DRAG,i)},g.prototype.setSuppressMoveWhenRowDragging=function(i){this.gridOptionsWrapper.setProperty(at.PROP_SUPPRESS_MOVE_WHEN_ROW_DRAG,i)},g.prototype.setSuppressRowClickSelection=function(i){this.gridOptionsWrapper.setProperty(at.PROP_SUPPRESS_ROW_CLICK_SELECTION,i)},g.prototype.addRowDropZone=function(i){this.gridBodyCon.getRowDragFeature().addRowDropZone(i)},g.prototype.removeRowDropZone=function(i){var t=this.dragAndDropService.findExternalZone(i);t&&this.dragAndDropService.removeDropTarget(t)},g.prototype.getRowDropZoneParams=function(i){return this.gridBodyCon.getRowDragFeature().getRowDropZone(i)},g.prototype.setHeaderHeight=function(i){this.gridOptionsWrapper.setProperty(at.PROP_HEADER_HEIGHT,i)},g.prototype.setDomLayout=function(i){this.gridOptionsWrapper.setProperty(at.PROP_DOM_LAYOUT,i)},g.prototype.setEnableCellTextSelection=function(i){this.gridBodyCon.setCellTextSelection(i)},g.prototype.setFillHandleDirection=function(i){this.gridOptionsWrapper.setProperty(at.PROP_FILL_HANDLE_DIRECTION,i)},g.prototype.setGroupHeaderHeight=function(i){this.gridOptionsWrapper.setProperty(at.PROP_GROUP_HEADER_HEIGHT,i)},g.prototype.setFloatingFiltersHeight=function(i){this.gridOptionsWrapper.setProperty(at.PROP_FLOATING_FILTERS_HEIGHT,i)},g.prototype.setPivotHeaderHeight=function(i){this.gridOptionsWrapper.setProperty(at.PROP_PIVOT_HEADER_HEIGHT,i)},g.prototype.setPivotGroupHeaderHeight=function(i){this.gridOptionsWrapper.setProperty(at.PROP_PIVOT_GROUP_HEADER_HEIGHT,i)},g.prototype.setIsExternalFilterPresent=function(i){this.gridOptionsWrapper.setProperty(at.PROP_IS_EXTERNAL_FILTER_PRESENT,i)},g.prototype.setDoesExternalFilterPass=function(i){this.gridOptionsWrapper.setProperty(at.PROP_DOES_EXTERNAL_FILTER_PASS,i)},g.prototype.setNavigateToNextCell=function(i){this.gridOptionsWrapper.setProperty(at.PROP_NAVIGATE_TO_NEXT_CELL,i)},g.prototype.setTabToNextCell=function(i){this.gridOptionsWrapper.setProperty(at.PROP_TAB_TO_NEXT_CELL,i)},g.prototype.setTabToNextHeader=function(i){this.gridOptionsWrapper.setProperty(at.PROP_TAB_TO_NEXT_HEADER,i)},g.prototype.setNavigateToNextHeader=function(i){this.gridOptionsWrapper.setProperty(at.PROP_NAVIGATE_TO_NEXT_HEADER,i)},g.prototype.setGroupRowAggNodes=function(i){this.gridOptionsWrapper.setProperty(at.PROP_GROUP_ROW_AGG_NODES,i)},g.prototype.setGetBusinessKeyForNode=function(i){this.gridOptionsWrapper.setProperty(at.PROP_GET_BUSINESS_KEY_FOR_NODE,i)},g.prototype.setGetChildCount=function(i){this.gridOptionsWrapper.setProperty(at.PROP_GET_CHILD_COUNT,i)},g.prototype.setProcessRowPostCreate=function(i){this.gridOptionsWrapper.setProperty(at.PROP_PROCESS_ROW_POST_CREATE,i)},g.prototype.setGetRowNodeId=function(i){this.gridOptionsWrapper.setProperty(at.PROP_GET_ROW_NODE_ID,i)},g.prototype.setGetRowClass=function(i){this.gridOptionsWrapper.setProperty(at.PROP_GET_ROW_CLASS,i)},g.prototype.setIsFullWidthCell=function(i){this.gridOptionsWrapper.setProperty(at.PROP_IS_FULL_WIDTH_CELL,i)},g.prototype.setIsRowSelectable=function(i){this.gridOptionsWrapper.setProperty(at.PROP_IS_ROW_SELECTABLE,i)},g.prototype.setIsRowMaster=function(i){this.gridOptionsWrapper.setProperty(at.PROP_IS_ROW_MASTER,i)},g.prototype.setPostSort=function(i){this.gridOptionsWrapper.setProperty(at.PROP_POST_SORT,i)},g.prototype.setGetDocument=function(i){this.gridOptionsWrapper.setProperty(at.PROP_GET_DOCUMENT,i)},g.prototype.setGetContextMenuItems=function(i){this.gridOptionsWrapper.setProperty(at.PROP_GET_CONTEXT_MENU_ITEMS,i)},g.prototype.setGetMainMenuItems=function(i){this.gridOptionsWrapper.setProperty(at.PROP_GET_MAIN_MENU_ITEMS,i)},g.prototype.setProcessCellForClipboard=function(i){this.gridOptionsWrapper.setProperty(at.PROP_PROCESS_CELL_FOR_CLIPBOARD,i)},g.prototype.setSendToClipboard=function(i){this.gridOptionsWrapper.setProperty(at.PROP_SEND_TO_CLIPBOARD,i)},g.prototype.setProcessCellFromClipboard=function(i){this.gridOptionsWrapper.setProperty(at.PROP_PROCESS_CELL_FROM_CLIPBOARD,i)},g.prototype.setProcessSecondaryColDef=function(i){this.gridOptionsWrapper.setProperty(at.PROP_PROCESS_TO_SECONDARY_COLDEF,i)},g.prototype.setProcessSecondaryColGroupDef=function(i){this.gridOptionsWrapper.setProperty(at.PROP_PROCESS_SECONDARY_COL_GROUP_DEF,i)},g.prototype.setPostProcessPopup=function(i){this.gridOptionsWrapper.setProperty(at.PROP_POST_PROCESS_POPUP,i)},g.prototype.setDefaultGroupOrderComparator=function(i){this.gridOptionsWrapper.setProperty(at.PROP_DEFAULT_GROUP_ORDER_COMPARATOR,i)},g.prototype.setGetChartToolbarItems=function(i){this.gridOptionsWrapper.setProperty(at.PROP_GET_CHART_TOOLBAR_ITEMS,i)},g.prototype.setPaginationNumberFormatter=function(i){this.gridOptionsWrapper.setProperty(at.PROP_PAGINATION_NUMBER_FORMATTER,i)},g.prototype.setGetServerSideStoreParams=function(i){this.gridOptionsWrapper.setProperty(at.PROP_GET_SERVER_SIDE_STORE_PARAMS,i)},g.prototype.setIsServerSideGroupOpenByDefault=function(i){this.gridOptionsWrapper.setProperty(at.PROP_IS_SERVER_SIDE_GROUPS_OPEN_BY_DEFAULT,i)},g.prototype.setIsApplyServerSideTransaction=function(i){this.gridOptionsWrapper.setProperty(at.PROP_IS_APPLY_SERVER_SIDE_TRANSACTION,i)},g.prototype.setIsServerSideGroup=function(i){this.gridOptionsWrapper.setProperty(at.PROP_IS_SERVER_SIDE_GROUP,i)},g.prototype.setGetServerSideGroupKey=function(i){this.gridOptionsWrapper.setProperty(at.PROP_GET_SERVER_SIDE_GROUP_KEY,i)},g.prototype.setGetRowStyle=function(i){this.gridOptionsWrapper.setProperty(at.PROP_GET_ROW_STYLE,i)},g.prototype.setGetRowHeight=function(i){this.gridOptionsWrapper.setProperty(at.PROP_GET_ROW_HEIGHT,i)},g.prototype.isSideBarVisible=function(){return!!this.sideBarComp&&this.sideBarComp.isDisplayed()},g.prototype.setSideBarVisible=function(i){this.sideBarComp?this.sideBarComp.setDisplayed(i):i&&console.warn("AG Grid: sideBar is not loaded")},g.prototype.setSideBarPosition=function(i){this.sideBarComp?this.sideBarComp.setSideBarPosition(i):console.warn("AG Grid: sideBar is not loaded")},g.prototype.openToolPanel=function(i){this.sideBarComp?this.sideBarComp.openToolPanel(i):console.warn("AG Grid: toolPanel is only available in AG Grid Enterprise")},g.prototype.closeToolPanel=function(){this.sideBarComp?this.sideBarComp.close():console.warn("AG Grid: toolPanel is only available in AG Grid Enterprise")},g.prototype.getOpenedToolPanel=function(){return this.sideBarComp?this.sideBarComp.openedItem():null},g.prototype.getSideBar=function(){return this.gridOptionsWrapper.getSideBar()},g.prototype.setSideBar=function(i){this.gridOptionsWrapper.setProperty("sideBar",Tp.parse(i))},g.prototype.setSuppressClipboardPaste=function(i){this.gridOptionsWrapper.setProperty(at.PROP_SUPPRESS_CLIPBOARD_PASTE,i)},g.prototype.isToolPanelShowing=function(){return this.sideBarComp.isToolPanelShowing()},g.prototype.doLayout=function(){En(function(){return console.warn("AG Grid - since version 25.1, doLayout was taken out, as it's not needed. The grid responds to grid size changes automatically")},"doLayoutDeprecated")},g.prototype.resetRowHeights=function(){if(J(this.clientSideRowModel)){if(this.columnModel.isAutoRowHeightActive())return void console.warn("AG Grid: calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.");this.clientSideRowModel.resetRowHeights()}},g.prototype.setGroupRemoveSingleChildren=function(i){this.gridOptionsWrapper.setProperty(at.PROP_GROUP_REMOVE_SINGLE_CHILDREN,i)},g.prototype.setGroupRemoveLowestSingleChildren=function(i){this.gridOptionsWrapper.setProperty(at.PROP_GROUP_REMOVE_LOWEST_SINGLE_CHILDREN,i)},g.prototype.onRowHeightChanged=function(){this.clientSideRowModel?this.clientSideRowModel.onRowHeightChanged():this.serverSideRowModel&&this.serverSideRowModel.onRowHeightChanged()},g.prototype.getValue=function(i,t){var s=this.columnModel.getPrimaryColumn(i);return E(s)&&(s=this.columnModel.getGridColumn(i)),E(s)?null:this.valueService.getValue(s,t)},g.prototype.addEventListener=function(i,t){var s=this.gridOptionsWrapper.useAsyncEvents();this.eventService.addEventListener(i,t,s)},g.prototype.addGlobalListener=function(i){var t=this.gridOptionsWrapper.useAsyncEvents();this.eventService.addGlobalListener(i,t)},g.prototype.removeEventListener=function(i,t){var s=this.gridOptionsWrapper.useAsyncEvents();this.eventService.removeEventListener(i,t,s)},g.prototype.removeGlobalListener=function(i){var t=this.gridOptionsWrapper.useAsyncEvents();this.eventService.removeGlobalListener(i,t)},g.prototype.dispatchEvent=function(i){this.eventService.dispatchEvent(i)},g.prototype.destroy=function(){if(!this.destroyCalled){this.destroyCalled=!0;var i=this.ctrlsService.getGridCtrl();i&&i.destroyGridUi(),this.context.destroy()}},g.prototype.cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid=function(){setTimeout(ur.bind(window,this,"Grid API"),100)},g.prototype.warnIfDestroyed=function(i){return this.destroyCalled&&console.warn("AG Grid: Grid API method "+i+" was called on a grid that was destroyed."),this.destroyCalled},g.prototype.resetQuickFilter=function(){this.warnIfDestroyed("resetQuickFilter")||this.rowModel.forEachNode(function(i){return i.quickFilterAggregateText=null})},g.prototype.getRangeSelections=function(){return console.warn("AG Grid: in v20.1.x, api.getRangeSelections() is gone, please use getCellRanges() instead.\n        We had to change how cell selections works a small bit to allow charting to integrate. The return type of\n        getCellRanges() is a bit different, please check the AG Grid documentation."),null},g.prototype.getCellRanges=function(){return this.rangeService?this.rangeService.getCellRanges():(console.warn("AG Grid: cell range selection is only available in AG Grid Enterprise"),null)},g.prototype.camelCaseToHumanReadable=function(i){return G_(i)},g.prototype.addRangeSelection=function(i){console.warn("AG Grid: As of version 21.x, range selection changed slightly to allow charting integration. Please call api.addCellRange() instead of api.addRangeSelection()")},g.prototype.addCellRange=function(i){this.rangeService||console.warn("AG Grid: cell range selection is only available in AG Grid Enterprise"),this.rangeService.addCellRange(i)},g.prototype.clearRangeSelection=function(){this.rangeService||console.warn("AG Grid: cell range selection is only available in AG Grid Enterprise"),this.rangeService.removeAllCellRanges()},g.prototype.undoCellEditing=function(){this.undoRedoService.undo()},g.prototype.redoCellEditing=function(){this.undoRedoService.redo()},g.prototype.getCurrentUndoSize=function(){return this.undoRedoService.getCurrentUndoStackSize()},g.prototype.getCurrentRedoSize=function(){return this.undoRedoService.getCurrentRedoStackSize()},g.prototype.getChartModels=function(){if(Vt.assertRegistered(B.ModuleNames.RangeSelectionModule,"api.getChartModels")&&Vt.assertRegistered(B.ModuleNames.GridChartsModule,"api.getChartModels"))return this.chartService.getChartModels()},g.prototype.getChartRef=function(i){if(Vt.assertRegistered(B.ModuleNames.RangeSelectionModule,"api.getChartRef")&&Vt.assertRegistered(B.ModuleNames.GridChartsModule,"api.getChartRef"))return this.chartService.getChartRef(i)},g.prototype.getChartImageDataURL=function(i){if(Vt.assertRegistered(B.ModuleNames.RangeSelectionModule,"api.getChartImageDataURL")&&Vt.assertRegistered(B.ModuleNames.GridChartsModule,"api.getChartImageDataURL"))return this.chartService.getChartImageDataURL(i)},g.prototype.createRangeChart=function(i){if(Vt.assertRegistered(B.ModuleNames.RangeSelectionModule,"api.createRangeChart")&&Vt.assertRegistered(B.ModuleNames.GridChartsModule,"api.createRangeChart"))return this.chartService.createRangeChart(i)},g.prototype.createCrossFilterChart=function(i){if(Vt.assertRegistered(B.ModuleNames.RangeSelectionModule,"api.createCrossFilterChart")&&Vt.assertRegistered(B.ModuleNames.GridChartsModule,"api.createCrossFilterChart"))return this.chartService.createCrossFilterChart(i)},g.prototype.restoreChart=function(i,t){if(Vt.assertRegistered(B.ModuleNames.RangeSelectionModule,"api.restoreChart")&&Vt.assertRegistered(B.ModuleNames.GridChartsModule,"api.restoreChart"))return this.chartService.restoreChart(i,t)},g.prototype.createPivotChart=function(i){if(Vt.assertRegistered(B.ModuleNames.RangeSelectionModule,"api.createPivotChart")&&Vt.assertRegistered(B.ModuleNames.GridChartsModule,"api.createPivotChart"))return this.chartService.createPivotChart(i)},g.prototype.copySelectedRowsToClipboard=function(i){this.clipboardService||console.warn("AG Grid: clipboard is only available in AG Grid Enterprise"),this.clipboardService.copySelectedRowsToClipboard(i)},g.prototype.copySelectedRangeToClipboard=function(i){this.clipboardService||console.warn("AG Grid: clipboard is only available in AG Grid Enterprise"),this.clipboardService.copySelectedRangeToClipboard(i)},g.prototype.copySelectedRangeDown=function(){this.clipboardService||console.warn("AG Grid: clipboard is only available in AG Grid Enterprise"),this.clipboardService.copyRangeDown()},g.prototype.showColumnMenuAfterButtonClick=function(i,t){var s=this.columnModel.getGridColumn(i);this.menuFactory.showMenuAfterButtonClick(s,t,"columnMenu")},g.prototype.showColumnMenuAfterMouseClick=function(i,t){var s=this.columnModel.getGridColumn(i);s||(s=this.columnModel.getPrimaryColumn(i)),s?this.menuFactory.showMenuAfterMouseEvent(s,t):console.error("AG Grid: column '"+i+"' not found")},g.prototype.hidePopupMenu=function(){this.contextMenuFactory&&this.contextMenuFactory.hideActiveMenu(),this.menuFactory.hideActiveMenu()},g.prototype.setPopupParent=function(i){this.gridOptionsWrapper.setProperty(at.PROP_POPUP_PARENT,i)},g.prototype.tabToNextCell=function(){return this.navigationService.tabToNextCell(!1)},g.prototype.tabToPreviousCell=function(){return this.navigationService.tabToNextCell(!0)},g.prototype.getCellRendererInstances=function(i){return void 0===i&&(i={}),this.rowRenderer.getCellRendererInstances(i).map(Nl)},g.prototype.getCellEditorInstances=function(i){return void 0===i&&(i={}),this.rowRenderer.getCellEditorInstances(i).map(Nl)},g.prototype.getEditingCells=function(){return this.rowRenderer.getEditingCells()},g.prototype.stopEditing=function(i){void 0===i&&(i=!1),this.rowRenderer.stopEditing(i)},g.prototype.startEditingCell=function(i){var t=this.columnModel.getGridColumn(i.colKey);if(t){var s={rowIndex:i.rowIndex,rowPinned:i.rowPinned||null,column:t};null==i.rowPinned&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(i.rowIndex);var f=this.navigationService.getCellByPosition(s);!f||f.startRowOrCellEdit(i.key,i.charPress)}else console.warn("AG Grid: no column found for "+i.colKey)},g.prototype.addAggFunc=function(i,t){this.aggFuncService&&this.aggFuncService.addAggFunc(i,t)},g.prototype.addAggFuncs=function(i){this.aggFuncService&&this.aggFuncService.addAggFuncs(i)},g.prototype.clearAggFuncs=function(){this.aggFuncService&&this.aggFuncService.clear()},g.prototype.applyServerSideTransaction=function(i){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.applyTransaction(i);console.warn("AG Grid: Cannot apply Server Side Transaction if not using the Server Side Row Model.")},g.prototype.applyServerSideTransactionAsync=function(i,t){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.applyTransactionAsync(i,t);console.warn("AG Grid: Cannot apply Server Side Transaction if not using the Server Side Row Model.")},g.prototype.retryServerSideLoads=function(){this.serverSideRowModel?this.serverSideRowModel.retryLoads():console.warn("AG Grid: API retryServerSideLoads() can only be used when using Server-Side Row Model.")},g.prototype.flushServerSideAsyncTransactions=function(){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.flushAsyncTransactions();console.warn("AG Grid: Cannot flush Server Side Transaction if not using the Server Side Row Model.")},g.prototype.applyTransaction=function(i){if(this.clientSideRowModel){var t=this.clientSideRowModel.updateRowData(i);return this.rowRenderer.refreshFullWidthRows(t.update),this.gridOptionsWrapper.isSuppressChangeDetection()||this.rowRenderer.refreshCells(),t}console.error("AG Grid: updateRowData() only works with ClientSideRowModel. Working with InfiniteRowModel was deprecated in v23.1 and removed in v24.1")},g.prototype.updateRowData=function(i){return En(function(){return console.warn("AG Grid: as of v23.1, grid API updateRowData(transaction) is now called applyTransaction(transaction). updateRowData is deprecated and will be removed in a future major release.")},"updateRowData deprecated"),this.applyTransaction(i)},g.prototype.applyTransactionAsync=function(i,t){this.clientSideRowModel?this.clientSideRowModel.batchUpdateRowData(i,t):console.error("AG Grid: api.applyTransactionAsync() only works with ClientSideRowModel.")},g.prototype.flushAsyncTransactions=function(){this.clientSideRowModel?this.clientSideRowModel.flushAsyncTransactions():console.error("AG Grid: api.applyTransactionAsync() only works with ClientSideRowModel.")},g.prototype.batchUpdateRowData=function(i,t){En(function(){return console.warn("AG Grid: as of v23.1, grid API batchUpdateRowData(transaction, callback) is now called applyTransactionAsync(transaction, callback). batchUpdateRowData is deprecated and will be removed in a future major release.")},"batchUpdateRowData deprecated"),this.applyTransactionAsync(i,t)},g.prototype.insertItemsAtIndex=function(i,t,s){console.warn("AG Grid: insertItemsAtIndex() is deprecated, use updateRowData(transaction) instead."),this.updateRowData({add:t,addIndex:i,update:null,remove:null})},g.prototype.removeItems=function(i,t){console.warn("AG Grid: removeItems() is deprecated, use updateRowData(transaction) instead.");var s=i.map(function(p){return p.data});this.updateRowData({add:null,addIndex:null,update:null,remove:s})},g.prototype.addItems=function(i,t){console.warn("AG Grid: addItems() is deprecated, use updateRowData(transaction) instead."),this.updateRowData({add:i,addIndex:null,update:null,remove:null})},g.prototype.refreshVirtualPageCache=function(){console.warn("AG Grid: refreshVirtualPageCache() is now called refreshInfiniteCache(), please call refreshInfiniteCache() instead"),this.refreshInfiniteCache()},g.prototype.refreshInfinitePageCache=function(){console.warn("AG Grid: refreshInfinitePageCache() is now called refreshInfiniteCache(), please call refreshInfiniteCache() instead"),this.refreshInfiniteCache()},g.prototype.refreshInfiniteCache=function(){this.infiniteRowModel?this.infiniteRowModel.refreshCache():console.warn("AG Grid: api.refreshInfiniteCache is only available when rowModelType='infinite'.")},g.prototype.purgeVirtualPageCache=function(){console.warn("AG Grid: purgeVirtualPageCache() is now called purgeInfiniteCache(), please call purgeInfiniteCache() instead"),this.purgeInfinitePageCache()},g.prototype.purgeInfinitePageCache=function(){console.warn("AG Grid: purgeInfinitePageCache() is now called purgeInfiniteCache(), please call purgeInfiniteCache() instead"),this.purgeInfiniteCache()},g.prototype.purgeInfiniteCache=function(){this.infiniteRowModel?this.infiniteRowModel.purgeCache():console.warn("AG Grid: api.purgeInfiniteCache is only available when rowModelType='infinite'.")},g.prototype.purgeEnterpriseCache=function(i){console.warn("ag-grid: since version 18.x, api.purgeEnterpriseCache() should be replaced with api.purgeServerSideCache()"),this.purgeServerSideCache(i)},g.prototype.purgeServerSideCache=function(i){void 0===i&&(i=[]),this.serverSideRowModel?(console.warn("AG Grid: since v25.0, api.purgeServerSideCache is deprecated. Please use api.refreshServerSideStore({purge: true}) instead."),this.refreshServerSideStore({route:i,purge:!0})):console.warn("AG Grid: api.purgeServerSideCache is only available when rowModelType='serverSide'.")},g.prototype.refreshServerSideStore=function(i){this.serverSideRowModel?this.serverSideRowModel.refreshStore(i):console.warn("AG Grid: api.refreshServerSideStore is only available when rowModelType='serverSide'.")},g.prototype.getServerSideStoreState=function(){return this.serverSideRowModel?this.serverSideRowModel.getStoreState():(console.warn("AG Grid: api.getServerSideStoreState is only available when rowModelType='serverSide'."),[])},g.prototype.getVirtualRowCount=function(){return console.warn("AG Grid: getVirtualRowCount() is now called getInfiniteRowCount(), please call getInfiniteRowCount() instead"),this.getInfiniteRowCount()},g.prototype.getInfiniteRowCount=function(){if(this.infiniteRowModel)return this.infiniteRowModel.getRowCount();console.warn("AG Grid: api.getVirtualRowCount is only available when rowModelType='virtual'.")},g.prototype.isMaxRowFound=function(){return console.warn("AG Grid: api.isLastRowIndexKnown is deprecated, please use api.isLastRowIndexKnown()"),this.isLastRowIndexKnown()},g.prototype.isLastRowIndexKnown=function(){if(this.infiniteRowModel)return this.infiniteRowModel.isLastRowIndexKnown();console.warn("AG Grid: api.isMaxRowFound is only available when rowModelType='virtual'.")},g.prototype.setVirtualRowCount=function(i,t){console.warn("AG Grid: setVirtualRowCount() is now called setInfiniteRowCount(), please call setInfiniteRowCount() instead"),this.setRowCount(i,t)},g.prototype.setInfiniteRowCount=function(i,t){console.warn("AG Grid: setInfiniteRowCount() is now called setRowCount(), please call setRowCount() instead"),this.setRowCount(i,t)},g.prototype.setRowCount=function(i,t){this.infiniteRowModel?this.infiniteRowModel.setRowCount(i,t):console.warn("AG Grid: api.setRowCount is only available for Infinite Row Model.")},g.prototype.getVirtualPageState=function(){return console.warn("AG Grid: getVirtualPageState() is now called getCacheBlockState(), please call getCacheBlockState() instead"),this.getCacheBlockState()},g.prototype.getInfinitePageState=function(){return console.warn("AG Grid: getInfinitePageState() is now called getCacheBlockState(), please call getCacheBlockState() instead"),this.getCacheBlockState()},g.prototype.getCacheBlockState=function(){return this.rowNodeBlockLoader.getBlockState()},g.prototype.checkGridSize=function(){console.warn("in AG Grid v25.2.0, checkGridSize() was removed, as it was legacy and didn't do anything uesful.")},g.prototype.getFirstRenderedRow=function(){return console.warn("in AG Grid v12, getFirstRenderedRow() was renamed to getFirstDisplayedRow()"),this.getFirstDisplayedRow()},g.prototype.getFirstDisplayedRow=function(){return this.rowRenderer.getFirstVirtualRenderedRow()},g.prototype.getLastRenderedRow=function(){return console.warn("in AG Grid v12, getLastRenderedRow() was renamed to getLastDisplayedRow()"),this.getLastDisplayedRow()},g.prototype.getLastDisplayedRow=function(){return this.rowRenderer.getLastVirtualRenderedRow()},g.prototype.getDisplayedRowAtIndex=function(i){return this.rowModel.getRow(i)},g.prototype.getDisplayedRowCount=function(){return this.rowModel.getRowCount()},g.prototype.paginationIsLastPageFound=function(){return this.paginationProxy.isLastPageFound()},g.prototype.paginationGetPageSize=function(){return this.paginationProxy.getPageSize()},g.prototype.paginationSetPageSize=function(i){this.gridOptionsWrapper.setProperty("paginationPageSize",i)},g.prototype.paginationGetCurrentPage=function(){return this.paginationProxy.getCurrentPage()},g.prototype.paginationGetTotalPages=function(){return this.paginationProxy.getTotalPages()},g.prototype.paginationGetRowCount=function(){return this.paginationProxy.getMasterRowCount()},g.prototype.paginationGoToNextPage=function(){this.paginationProxy.goToNextPage()},g.prototype.paginationGoToPreviousPage=function(){this.paginationProxy.goToPreviousPage()},g.prototype.paginationGoToFirstPage=function(){this.paginationProxy.goToFirstPage()},g.prototype.paginationGoToLastPage=function(){this.paginationProxy.goToLastPage()},g.prototype.paginationGoToPage=function(i){this.paginationProxy.goToPage(i)},cn([tn("immutableService")],g.prototype,"immutableService",void 0),cn([tn("csvCreator")],g.prototype,"csvCreator",void 0),cn([tn("excelCreator")],g.prototype,"excelCreator",void 0),cn([$("rowRenderer")],g.prototype,"rowRenderer",void 0),cn([$("navigationService")],g.prototype,"navigationService",void 0),cn([$("filterManager")],g.prototype,"filterManager",void 0),cn([$("columnModel")],g.prototype,"columnModel",void 0),cn([$("selectionService")],g.prototype,"selectionService",void 0),cn([$("gridOptionsWrapper")],g.prototype,"gridOptionsWrapper",void 0),cn([$("valueService")],g.prototype,"valueService",void 0),cn([$("alignedGridsService")],g.prototype,"alignedGridsService",void 0),cn([$("eventService")],g.prototype,"eventService",void 0),cn([$("pinnedRowModel")],g.prototype,"pinnedRowModel",void 0),cn([$("context")],g.prototype,"context",void 0),cn([$("rowModel")],g.prototype,"rowModel",void 0),cn([$("sortController")],g.prototype,"sortController",void 0),cn([$("paginationProxy")],g.prototype,"paginationProxy",void 0),cn([$("focusService")],g.prototype,"focusService",void 0),cn([$("dragAndDropService")],g.prototype,"dragAndDropService",void 0),cn([tn("rangeService")],g.prototype,"rangeService",void 0),cn([tn("clipboardService")],g.prototype,"clipboardService",void 0),cn([tn("aggFuncService")],g.prototype,"aggFuncService",void 0),cn([$("menuFactory")],g.prototype,"menuFactory",void 0),cn([tn("contextMenuFactory")],g.prototype,"contextMenuFactory",void 0),cn([$("valueCache")],g.prototype,"valueCache",void 0),cn([$("animationFrameService")],g.prototype,"animationFrameService",void 0),cn([tn("statusBarService")],g.prototype,"statusBarService",void 0),cn([tn("chartService")],g.prototype,"chartService",void 0),cn([tn("undoRedoService")],g.prototype,"undoRedoService",void 0),cn([tn("rowNodeBlockLoader")],g.prototype,"rowNodeBlockLoader",void 0),cn([tn("ssrmTransactionManager")],g.prototype,"serverSideTransactionManager",void 0),cn([$("ctrlsService")],g.prototype,"ctrlsService",void 0),cn([tn("frameworkComponentWrapper")],g.prototype,"frameworkComponentWrapper",void 0),cn([$e],g.prototype,"init",null),cn([hi],g.prototype,"cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid",null),cn([tt("gridApi")],g)}(),Tv=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),nd=function(g){function i(t,s,p,f){var _=g.call(this)||this;return _.columnOrGroup=t,_.eCell=s,_.ariaEl=_.eCell.querySelector("[role=columnheader]")||_.eCell,_.colsSpanning=f,_.beans=p,_}return Tv(i,g),i.prototype.setColsSpanning=function(t){this.colsSpanning=t,this.onLeftChanged()},i.prototype.getColumnOrGroup=function(){return this.beans.gridOptionsWrapper.isEnableRtl()&&this.colsSpanning?Rn(this.colsSpanning):this.columnOrGroup},i.prototype.postConstruct=function(){this.addManagedListener(this.columnOrGroup,pn.EVENT_LEFT_CHANGED,this.onLeftChanged.bind(this)),this.setLeftFirstTime(),this.addManagedListener(this.eventService,re.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onLeftChanged.bind(this)),this.addManagedListener(this.beans.gridOptionsWrapper,at.PROP_DOM_LAYOUT,this.onLeftChanged.bind(this))},i.prototype.setLeftFirstTime=function(){var t=this.beans.gridOptionsWrapper.isSuppressColumnMoveAnimation(),s=J(this.columnOrGroup.getOldLeft());this.beans.columnAnimationService.isActive()&&s&&!t?this.animateInLeft():this.onLeftChanged()},i.prototype.animateInLeft=function(){var t=this,s=this.getColumnOrGroup(),p=s.getLeft(),f=s.getOldLeft(),_=this.modifyLeftForPrintLayout(s,f),b=this.modifyLeftForPrintLayout(s,p);this.setLeft(_),this.actualLeft=b,this.beans.columnAnimationService.executeNextVMTurn(function(){t.actualLeft===b&&t.setLeft(b)})},i.prototype.onLeftChanged=function(){var t=this.getColumnOrGroup(),s=t.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(t,s),this.setLeft(this.actualLeft)},i.prototype.modifyLeftForPrintLayout=function(t,s){if(this.beans.gridOptionsWrapper.getDomLayout()!==me.DOM_LAYOUT_PRINT||t.getPinned()===me.PINNED_LEFT)return s;var f=this.beans.columnModel.getDisplayedColumnsLeftWidth();return t.getPinned()===me.PINNED_RIGHT?f+this.beans.columnModel.getBodyContainerWidth()+s:f+s},i.prototype.setLeft=function(t){var s;if(J(t)&&(this.eCell.style.left=t+"px"),this.columnOrGroup instanceof pn)s=this.columnOrGroup;else{var f=this.columnOrGroup.getLeafColumns();if(!f.length)return;f.length>1&&jm(this.ariaEl,f.length),s=f[0]}var _=this.beans.columnModel.getAriaColumnIndex(s);Q_(this.ariaEl,_)},function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);p>3&&f&&Object.defineProperty(i,t,f)}([$e],i.prototype,"postConstruct",null),i}(Ge),Gf=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),Rv=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},BC=function(g){function i(t,s){var p=g.call(this)||this;return p.columns=t,p.element=s,p}return Gf(i,g),i.prototype.postConstruct=function(){this.gridOptionsWrapper.isColumnHoverHighlight()&&this.addMouseHoverListeners()},i.prototype.addMouseHoverListeners=function(){this.addManagedListener(this.element,"mouseout",this.onMouseOut.bind(this)),this.addManagedListener(this.element,"mouseover",this.onMouseOver.bind(this))},i.prototype.onMouseOut=function(){this.columnHoverService.clearMouseOver()},i.prototype.onMouseOver=function(){this.columnHoverService.setMouseOver(this.columns)},Rv([$("columnHoverService")],i.prototype,"columnHoverService",void 0),Rv([$e],i.prototype,"postConstruct",null),i}(Ge),lr=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),Mi=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},Pv=function(g){function i(t,s){var p=g.call(this,t,s)||this;return p.column=t,p}return lr(i,g),i.prototype.setComp=function(t,s,p,f){g.prototype.setGui.call(this,s),this.comp=t,this.eButtonShowMainFilter=p,this.eFloatingFilterBody=f;var _=this.column.getColDef();this.active=!(!_.filter&&!_.filterFramework||!_.floatingFilter),this.setupWidth(),this.setupLeft(),this.setupHover(),this.setupFocus(),this.setupUserComp(),this.setupSyncWithFilter(),this.setupUi(),this.addManagedListener(this.eButtonShowMainFilter,"click",this.showParentFilter.bind(this))},i.prototype.setupUi=function(){if(this.comp.addOrRemoveButtonWrapperCssClass("ag-hidden",!this.active||this.suppressFilterButton),this.active){this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton);var t=Mr("filter",this.gridOptionsWrapper,this.column);t&&this.eButtonShowMainFilter.appendChild(t)}},i.prototype.setupFocus=function(){this.createManagedBean(new ks(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))},i.prototype.onTabKeyDown=function(t){if(this.gridOptionsWrapper.getDocument().activeElement!==this.eGui){var _=this.focusService.findNextFocusableElement(this.eGui,null,t.shiftKey);if(_)return t.preventDefault(),void _.focus();var b=this.findNextColumnWithFloatingFilter(t.shiftKey);!b||this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:this.getParentRowCtrl().getRowIndex(),column:b},event:t})&&t.preventDefault()}},i.prototype.findNextColumnWithFloatingFilter=function(t){var s=this.beans.columnModel,p=this.column;do{if(!(p=t?s.getDisplayedColBefore(p):s.getDisplayedColAfter(p)))break}while(!p.getColDef().filter||!p.getColDef().floatingFilter);return p},i.prototype.handleKeyDown=function(t){var f=this.gridOptionsWrapper.getDocument().activeElement===this.eGui;switch(t.key){case We.UP:case We.DOWN:f||t.preventDefault();case We.LEFT:case We.RIGHT:if(f)return;t.stopPropagation();case We.ENTER:f&&this.focusService.focusInto(this.eGui)&&t.preventDefault();break;case We.ESCAPE:f||this.eGui.focus()}},i.prototype.onFocusIn=function(t){if(!this.eGui.contains(t.relatedTarget)){var p=!!t.relatedTarget&&!t.relatedTarget.classList.contains("ag-floating-filter"),f=!!t.relatedTarget&&Kh(t.relatedTarget,"ag-floating-filter");if(p&&f&&t.target===this.eGui){var _=this.lastFocusEvent;_&&_&&_.key===We.TAB&&this.focusService.focusInto(this.eGui,_.shiftKey)}var M=this.getRowIndex();this.beans.focusService.setFocusedHeader(M,this.column)}},i.prototype.setupHover=function(){var t=this;this.createManagedBean(new BC([this.column],this.eGui));var s=function(){if(t.gridOptionsWrapper.isColumnHoverHighlight()){var p=t.columnHoverService.isHovered(t.column);t.comp.addOrRemoveCssClass("ag-column-hover",p)}};this.addManagedListener(this.eventService,re.EVENT_COLUMN_HOVER_CHANGED,s),s()},i.prototype.setupLeft=function(){var t=new nd(this.column,this.eGui,this.beans);this.createManagedBean(t)},i.prototype.setupUserComp=function(){var t=this;if(this.active){var s=this.column.getColDef(),p=this.filterManager.createFilterParams(this.column,s),f=this.userComponentFactory.mergeParamsWithApplicationProvidedParams(s,fv,p),_=this.userComponentFactory.getDefaultFloatingFilterType(s);null==_&&(_="agReadOnlyFloatingFilter");var b={api:this.gridApi,column:this.column,filterParams:f,currentParentModel:function(){return t.currentParentModel()},parentFilterInstance:function(M){return t.parentFilterInstance(M)},showParentFilter:function(){return t.showParentFilter()},suppressFilterButton:!1};this.suppressFilterButton=!!s.floatingFilterComponentParams&&!!s.floatingFilterComponentParams.suppressFilterButton;var A=this.userComponentFactory.getFloatingFilterCompDetails(s,b,_);A&&this.comp.setCompDetails(A)}},i.prototype.currentParentModel=function(){var t=this.getFilterComponent(!1);return t?t.resolveNow(null,function(s){return s&&s.getModel()}):null},i.prototype.getFilterComponent=function(t){return void 0===t&&(t=!0),this.filterManager.getFilterComponent(this.column,"NO_UI",t)},i.prototype.parentFilterInstance=function(t){var s=this.getFilterComponent();null!=s&&s.then(function(p){t(Nl(p))})},i.prototype.showParentFilter=function(){this.menuFactory.showMenuAfterButtonClick(this.column,this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter,"floatingFilter","filterMenuTab",["filterMenuTab"])},i.prototype.setupSyncWithFilter=function(){var t=this;if(this.active){var s=function(p){var f=t.comp.getFloatingFilterComp();if(f){var _=t.currentParentModel();f.then(function(b){return b&&b.onParentModelChanged(_,p)})}};this.addManagedListener(this.column,pn.EVENT_FILTER_CHANGED,s),this.filterManager.isFilterActive(this.column)&&s(null)}},i.prototype.setupWidth=function(){var t=this,s=function(){var p=t.column.getActualWidth()+"px";t.comp.setWidth(p)};this.addManagedListener(this.column,pn.EVENT_WIDTH_CHANGED,s),s()},Mi([$("userComponentFactory")],i.prototype,"userComponentFactory",void 0),Mi([$("filterManager")],i.prototype,"filterManager",void 0),Mi([$("columnHoverService")],i.prototype,"columnHoverService",void 0),Mi([$("gridApi")],i.prototype,"gridApi",void 0),Mi([$("menuFactory")],i.prototype,"menuFactory",void 0),Mi([$("beans")],i.prototype,"beans",void 0),i}(Ma),us=function(){function g(){}return g.getHeaderClassesFromColDef=function(i,t,s,p){return E(i)?[]:this.getColumnClassesFromCollDef(i.headerClass,i,t,s,p)},g.getToolPanelClassesFromColDef=function(i,t,s,p){return E(i)?[]:this.getColumnClassesFromCollDef(i.toolPanelClass,i,t,s,p)},g.getClassParams=function(i,t,s,p){return{colDef:i,column:s,columnGroup:p,context:t.getContext(),api:t.getApi()}},g.getColumnClassesFromCollDef=function(i,t,s,p,f){return E(i)?[]:"string"==typeof(_="function"==typeof i?i(this.getClassParams(t,s,p,f)):i)?[_]:Array.isArray(_)?_:[];var _},g}(),Ys=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),Mv=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},Ji=function(g){function i(t,s,p,f,_){var b=g.call(this)||this;return b.pinned=t,b.column=s,b.eResize=p,b.comp=f,b.ctrl=_,b}return Ys(i,g),i.prototype.postConstruct=function(){var f,_,t=this,s=this.column.getColDef(),p=[],A=function(){p.forEach(function(L){return L()}),p.length=0},M=function(){var L=t.column.isResizable(),G=!t.gridOptionsWrapper.isSuppressAutoSize()&&!s.suppressAutoSize;(L!==f||G!==_)&&(f=L,_=G,A(),function(){if(Mn(t.eResize,f),f){var L=t.horizontalResizeService.addResizeBar({eResizeBar:t.eResize,onResizeStart:t.onResizeStart.bind(t),onResizing:t.onResizing.bind(t,!1),onResizeEnd:t.onResizing.bind(t,!0)});if(p.push(L),_){var G=t.gridOptionsWrapper.isSkipHeaderOnAutoSize(),U=function(){t.columnModel.autoSizeColumn(t.column,G,"uiColumnResized")};t.eResize.addEventListener("dblclick",U);var te=new xi(t.eResize);te.addEventListener(xi.EVENT_DOUBLE_TAP,U),t.addDestroyFunc(function(){t.eResize.removeEventListener("dblclick",U),te.removeEventListener(xi.EVENT_DOUBLE_TAP,U),te.destroy()})}}}())};M(),this.addDestroyFunc(A),this.ctrl.addRefreshFunction(M)},i.prototype.onResizing=function(t,s){var p=this.normaliseResizeAmount(s);this.columnModel.setColumnWidths([{key:this.column,newWidth:this.resizeStartWidth+p}],this.resizeWithShiftKey,t,"uiColumnDragged"),t&&this.comp.addOrRemoveCssClass("ag-column-resizing",!1)},i.prototype.onResizeStart=function(t){this.resizeStartWidth=this.column.getActualWidth(),this.resizeWithShiftKey=t,this.comp.addOrRemoveCssClass("ag-column-resizing",!0)},i.prototype.normaliseResizeAmount=function(t){var s=t,p=this.pinned!==me.PINNED_LEFT,f=this.pinned===me.PINNED_RIGHT;return this.gridOptionsWrapper.isEnableRtl()?p&&(s*=-1):f&&(s*=-1),s},Mv([$("horizontalResizeService")],i.prototype,"horizontalResizeService",void 0),Mv([$("columnModel")],i.prototype,"columnModel",void 0),Mv([$e],i.prototype,"postConstruct",null),i}(Ge),HC=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),rd=function(g){function i(t,s,p){void 0===s&&(s="ag-checkbox"),void 0===p&&(p="checkbox");var f=g.call(this,t,s,p)||this;return f.labelAlignment="right",f.selected=!1,f.readOnly=!1,f.passive=!1,f}return HC(i,g),i.prototype.addInputListeners=function(){this.addManagedListener(this.eInput,"click",this.onCheckboxClick.bind(this)),this.addManagedListener(this.eLabel,"click",this.toggle.bind(this))},i.prototype.getNextValue=function(){return void 0===this.selected||!this.selected},i.prototype.setPassive=function(t){this.passive=t},i.prototype.isReadOnly=function(){return this.readOnly},i.prototype.setReadOnly=function(t){this.eWrapper.classList.toggle("ag-disabled",t),this.eInput.disabled=t,this.readOnly=t},i.prototype.setDisabled=function(t){return this.eWrapper.classList.toggle("ag-disabled",t),g.prototype.setDisabled.call(this,t)},i.prototype.toggle=function(){if(!this.eInput.disabled){var t=this.isSelected(),s=this.getNextValue();this.passive?this.dispatchChange(s,t):this.setValue(s)}},i.prototype.getValue=function(){return this.isSelected()},i.prototype.setValue=function(t,s){return this.refreshSelectedClass(t),this.setSelected(t,s),this},i.prototype.setName=function(t){return this.getInputElement().name=t,this},i.prototype.isSelected=function(){return this.selected},i.prototype.setSelected=function(t,s){this.isSelected()!==t&&(this.previousValue=this.isSelected(),t=this.selected="boolean"==typeof t?t:void 0,this.eInput.checked=t,this.eInput.indeterminate=void 0===t,s||this.dispatchChange(this.selected,this.previousValue))},i.prototype.dispatchChange=function(t,s,p){this.dispatchEvent({type:i.EVENT_CHANGED,selected:t,previousValue:s,event:p});var f=this.getInputElement();this.eventService.dispatchEvent({type:re.EVENT_CHECKBOX_CHANGED,id:f.id,name:f.name,selected:t,previousValue:s})},i.prototype.onCheckboxClick=function(t){if(!this.passive&&!this.eInput.disabled){var s=this.isSelected(),p=this.selected=t.target.checked;this.refreshSelectedClass(p),this.dispatchChange(p,s,t)}},i.prototype.refreshSelectedClass=function(t){this.eWrapper.classList.toggle("ag-checked",!0===t),this.eWrapper.classList.toggle("ag-indeterminate",null==t)},i}(mi),WC=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),Hu=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},jC=function(g){function i(t){var s=g.call(this)||this;s.cbSelectAllVisible=!1,s.processingEventFromCheckbox=!1,s.column=t;var p=t.getColDef();return s.filteredOnly=!!p&&!!p.headerCheckboxSelectionFilteredOnly,s}return WC(i,g),i.prototype.onSpaceKeyPressed=function(t){var s=this.cbSelectAll,p=this.gridOptionsWrapper.getDocument();s.isDisplayed()&&!s.getGui().contains(p.activeElement)&&(t.preventDefault(),s.setValue(!s.getValue()))},i.prototype.getCheckboxGui=function(){return this.cbSelectAll.getGui()},i.prototype.setComp=function(t){this.comp=t,this.cbSelectAll=this.createManagedBean(new rd),this.cbSelectAll.addCssClass("ag-header-select-all"),Qn(this.cbSelectAll.getGui(),"presentation"),this.showOrHideSelectAll(),this.addManagedListener(this.eventService,re.EVENT_NEW_COLUMNS_LOADED,this.showOrHideSelectAll.bind(this)),this.addManagedListener(this.eventService,re.EVENT_DISPLAYED_COLUMNS_CHANGED,this.showOrHideSelectAll.bind(this)),this.addManagedListener(this.eventService,re.EVENT_SELECTION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,re.EVENT_MODEL_UPDATED,this.onModelChanged.bind(this)),this.addManagedListener(this.cbSelectAll,rd.EVENT_CHANGED,this.onCbSelectAll.bind(this)),this.cbSelectAll.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()},i.prototype.showOrHideSelectAll=function(){this.cbSelectAllVisible=this.isCheckboxSelection(),this.cbSelectAll.setDisplayed(this.cbSelectAllVisible),this.cbSelectAllVisible&&(this.checkRightRowModelType(),this.updateStateOfCheckbox()),this.refreshHeaderAriaDescribedBy(this.cbSelectAllVisible)},i.prototype.refreshHeaderAriaDescribedBy=function(t){var s=t?this.cbSelectAll.getInputElement().id:void 0;this.comp.setAriaDescribedBy(s)},i.prototype.onModelChanged=function(){!this.cbSelectAllVisible||this.updateStateOfCheckbox()},i.prototype.onSelectionChanged=function(){!this.cbSelectAllVisible||this.updateStateOfCheckbox()},i.prototype.getNextCheckboxState=function(t){return(0!==t.selected||0!==t.notSelected)&&(t.selected>0&&t.notSelected>0?null:t.selected>0)},i.prototype.updateStateOfCheckbox=function(){if(!this.processingEventFromCheckbox){this.processingEventFromCheckbox=!0;var t=this.getSelectionCount(),s=this.getNextCheckboxState(t);this.cbSelectAll.setValue(s),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}},i.prototype.refreshSelectAllLabel=function(){var t=this.gridOptionsWrapper.getLocaleTextFunc(),p=this.cbSelectAll.getValue()?t("ariaChecked","checked"):t("ariaUnchecked","unchecked"),f=t("ariaRowSelectAll","Press Space to toggle all rows selection");this.cbSelectAll.setInputAriaLabel(f+" ("+p+")")},i.prototype.getSelectionCount=function(){var t=this,s=0,p=0,f=function(_){t.gridOptionsWrapper.isGroupSelectsChildren()&&_.group||(_.isSelected()?s++:_.selectable&&p++)};return this.filteredOnly?this.gridApi.forEachNodeAfterFilter(f):this.gridApi.forEachNode(f),{notSelected:p,selected:s}},i.prototype.checkRightRowModelType=function(){var t=this.rowModel.getType();t===me.ROW_MODEL_TYPE_CLIENT_SIDE||console.warn("AG Grid: selectAllCheckbox is only available if using normal row model, you are using "+t)},i.prototype.onCbSelectAll=function(){!this.processingEventFromCheckbox&&this.cbSelectAllVisible&&(this.cbSelectAll.getValue()?this.selectionService.selectAllRowNodes(this.filteredOnly):this.selectionService.deselectAllRowNodes(this.filteredOnly))},i.prototype.isCheckboxSelection=function(){var t=this.column.getColDef().headerCheckboxSelection;return"function"==typeof t&&(t=t({column:this.column,colDef:this.column.getColDef(),columnApi:this.columnApi,api:this.gridApi})),!(!t||(this.gridOptionsWrapper.isRowModelServerSide()?(console.warn("AG Grid: headerCheckboxSelection is not supported for Server Side Row Model"),1):this.gridOptionsWrapper.isRowModelInfinite()?(console.warn("AG Grid: headerCheckboxSelection is not supported for Infinite Row Model"),1):this.gridOptionsWrapper.isRowModelViewport()&&(console.warn("AG Grid: headerCheckboxSelection is not supported for Viewport Row Model"),1)))},Hu([$("gridApi")],i.prototype,"gridApi",void 0),Hu([$("columnApi")],i.prototype,"columnApi",void 0),Hu([$("rowModel")],i.prototype,"rowModel",void 0),Hu([$("selectionService")],i.prototype,"selectionService",void 0),i}(Ge),id=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),Fo=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},od=function(g){function i(t,s){var p=g.call(this,t,s)||this;return p.refreshFunctions=[],p.userHeaderClasses=new Set,p.column=t,p}return id(i,g),i.prototype.setComp=function(t,s,p){var f=this;g.prototype.setGui.call(this,s),this.comp=t,this.colDefVersion=this.columnModel.getColDefVersion(),this.updateState(),this.setupWidth(),this.setupMovingCss(),this.setupMenuClass(),this.setupSortableClass(),this.addColumnHoverListener(),this.setupFilterCss(),this.setupColId(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(),this.setupSelectAll(),this.setupUserComp(),this.createManagedBean(new Ji(this.getPinned(),this.column,p,t,this)),this.createManagedBean(new BC([this.column],s)),this.createManagedBean(new nd(this.column,s,this.beans)),this.createManagedBean(new ks(s,{shouldStopEventPropagation:function(_){return f.shouldStopEventPropagation(_)},onTabKeyDown:function(){return null},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedListener(this.eventService,re.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.addManagedListener(this.eventService,re.EVENT_COLUMN_VALUE_CHANGED,this.onColumnValueChanged.bind(this)),this.addManagedListener(this.eventService,re.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onColumnRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,re.EVENT_COLUMN_PIVOT_CHANGED,this.onColumnPivotChanged.bind(this))},i.prototype.setupUserComp=function(){var t=this.lookupUserCompDetails();this.setCompDetails(t)},i.prototype.setCompDetails=function(t){this.userCompDetails=t,this.comp.setUserCompDetails(t)},i.prototype.lookupUserCompDetails=function(){var t=this.createParams(),s=this.column.getColDef();return this.userComponentFactory.getHeaderCompDetails(s,t)},i.prototype.createParams=function(){var t=this,s=this.column.getColDef();return{column:this.column,displayName:this.displayName,enableSorting:s.sortable,enableMenu:this.menuEnabled,showColumnMenu:function(f){t.gridApi.showColumnMenuAfterButtonClick(t.column,f)},progressSort:function(f){t.sortController.progressSort(t.column,!!f,"uiColumnSorted")},setSort:function(f,_){t.sortController.setSortForColumn(t.column,f,!!_,"uiColumnSorted")},api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext(),eGridHeader:this.getGui()}},i.prototype.setupSelectAll=function(){this.selectAllFeature=this.createManagedBean(new jC(this.column)),this.selectAllFeature.setComp(this.comp)},i.prototype.getSelectAllGui=function(){return this.selectAllFeature.getCheckboxGui()},i.prototype.handleKeyDown=function(t){t.key===We.SPACE&&this.selectAllFeature.onSpaceKeyPressed(t),t.key===We.ENTER&&this.onEnterKeyPressed(t)},i.prototype.onEnterKeyPressed=function(t){var s=this.comp.getUserCompInstance();s&&(t.ctrlKey||t.metaKey?this.menuEnabled&&s.showMenu&&(t.preventDefault(),s.showMenu()):this.sortable&&this.sortController.progressSort(this.column,t.shiftKey,"uiColumnSorted"))},i.prototype.isMenuEnabled=function(){return this.menuEnabled},i.prototype.onFocusIn=function(t){if(!this.getGui().contains(t.relatedTarget)){var s=this.getRowIndex();this.focusService.setFocusedHeader(s,this.column)}this.setActiveHeader(!0)},i.prototype.onFocusOut=function(t){this.getGui().contains(t.relatedTarget)||this.setActiveHeader(!1)},i.prototype.setupTooltip=function(){var t=this,p=this.createManagedBean(new Rf({getColumn:function(){return t.column},getColDef:function(){return t.column.getColDef()},getGui:function(){return t.eGui},getLocation:function(){return"header"},getTooltipValue:function(){return t.column.getColDef().headerTooltip}},this.beans));p.setComp(this.comp),this.refreshFunctions.push(function(){return p.refreshToolTip()})},i.prototype.setupClassesFromColDef=function(){var t=this,s=function(){var p=t.column.getColDef(),_=us.getHeaderClassesFromColDef(p,t.gridOptionsWrapper,t.column,null),b=t.userHeaderClasses;t.userHeaderClasses=new Set(_),_.forEach(function(A){b.has(A)?b.delete(A):t.comp.addOrRemoveCssClass(A,!0)}),b.forEach(function(A){return t.comp.addOrRemoveCssClass(A,!1)})};this.refreshFunctions.push(s),s()},i.prototype.setDragSource=function(t){var s=this;this.dragSourceElement=t,this.removeDragSource(),t&&(!this.draggable||(this.moveDragSource={type:B.DragSourceType.HeaderCell,eElement:t,defaultIconName:sr.ICON_HIDE,getDragItem:function(){return s.createDragItem()},dragItemName:this.displayName,onDragStarted:function(){return s.column.setMoving(!0,"uiColumnMoved")},onDragStopped:function(){return s.column.setMoving(!1,"uiColumnMoved")}},this.dragAndDropService.addDragSource(this.moveDragSource,!0)))},i.prototype.createDragItem=function(){var t={};return t[this.column.getId()]=this.column.isVisible(),{columns:[this.column],visibleState:t}},i.prototype.removeDragSource=function(){this.moveDragSource&&(this.dragAndDropService.removeDragSource(this.moveDragSource),this.moveDragSource=void 0)},i.prototype.onNewColumnsLoaded=function(){var t=this.columnModel.getColDefVersion();t!=this.colDefVersion&&(this.colDefVersion=t,this.refresh())},i.prototype.updateState=function(){var t=this.column.getColDef();this.menuEnabled=this.menuFactory.isMenuEnabled(this.column)&&!t.suppressMenu,this.sortable=t.sortable,this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()},i.prototype.addRefreshFunction=function(t){this.refreshFunctions.push(t)},i.prototype.refresh=function(){this.updateState(),this.refreshHeaderComp(),this.refreshFunctions.forEach(function(t){return t()})},i.prototype.refreshHeaderComp=function(){var t=this.lookupUserCompDetails();null!=this.comp.getUserCompInstance()&&this.userCompDetails.componentClass==t.componentClass&&this.attemptHeaderCompRefresh(t.params)?this.setDragSource(this.dragSourceElement):this.setCompDetails(t)},i.prototype.attemptHeaderCompRefresh=function(t){var s=this.comp.getUserCompInstance();return!(!s||!s.refresh)&&s.refresh(t)},i.prototype.calculateDisplayName=function(){return this.columnModel.getDisplayNameForColumn(this.column,"header",!0)},i.prototype.checkDisplayName=function(){this.displayName!==this.calculateDisplayName()&&this.refresh()},i.prototype.workOutDraggable=function(){var t=this.column.getColDef();return!(this.gridOptionsWrapper.isSuppressMovableColumns()||t.suppressMovable||t.lockPosition)||!!t.enableRowGroup||!!t.enablePivot},i.prototype.onColumnRowGroupChanged=function(){this.checkDisplayName()},i.prototype.onColumnPivotChanged=function(){this.checkDisplayName()},i.prototype.onColumnValueChanged=function(){this.checkDisplayName()},i.prototype.setupWidth=function(){var t=this,s=function(){t.comp.setWidth(t.column.getActualWidth()+"px")};this.addManagedListener(this.column,pn.EVENT_WIDTH_CHANGED,s),s()},i.prototype.setupMovingCss=function(){var t=this,s=function(){t.comp.addOrRemoveCssClass("ag-header-cell-moving",t.column.isMoving())};this.addManagedListener(this.column,pn.EVENT_MOVING_CHANGED,s),s()},i.prototype.setupMenuClass=function(){var t=this,s=function(){t.comp.addOrRemoveCssClass("ag-column-menu-visible",t.column.isMenuVisible())};this.addManagedListener(this.column,pn.EVENT_MENU_VISIBLE_CHANGED,s),s()},i.prototype.setupSortableClass=function(){var t=this,s=function(){t.comp.addOrRemoveCssClass("ag-header-cell-sortable",!!t.sortable)},p=function(){t.comp.setAriaSort(t.sortable?Cu(t.column):void 0)};s(),p(),this.addRefreshFunction(s),this.addRefreshFunction(p),this.addManagedListener(this.column,pn.EVENT_SORT_CHANGED,p)},i.prototype.addColumnHoverListener=function(){var t=this,s=function(){if(t.gridOptionsWrapper.isColumnHoverHighlight()){var p=t.columnHoverService.isHovered(t.column);t.comp.addOrRemoveCssClass("ag-column-hover",p)}};this.addManagedListener(this.eventService,re.EVENT_COLUMN_HOVER_CHANGED,s),s()},i.prototype.setupFilterCss=function(){var t=this,s=function(){t.comp.addOrRemoveCssClass("ag-header-cell-filtered",t.column.isFilterActive())};this.addManagedListener(this.column,pn.EVENT_FILTER_ACTIVE_CHANGED,s),s()},i.prototype.setupColId=function(){this.comp.setColId(this.column.getColId())},i.prototype.addActiveHeaderMouseListeners=function(){var t=this,s=function(p){return t.setActiveHeader("mouseenter"===p.type)};this.addManagedListener(this.getGui(),"mouseenter",s),this.addManagedListener(this.getGui(),"mouseleave",s)},i.prototype.setActiveHeader=function(t){this.comp.addOrRemoveCssClass("ag-header-active",t)},Fo([$("columnModel")],i.prototype,"columnModel",void 0),Fo([$("columnHoverService")],i.prototype,"columnHoverService",void 0),Fo([$("beans")],i.prototype,"beans",void 0),Fo([$("sortController")],i.prototype,"sortController",void 0),Fo([$("menuFactory")],i.prototype,"menuFactory",void 0),Fo([$("dragAndDropService")],i.prototype,"dragAndDropService",void 0),Fo([$("gridApi")],i.prototype,"gridApi",void 0),Fo([$("columnApi")],i.prototype,"columnApi",void 0),Fo([$("userComponentFactory")],i.prototype,"userComponentFactory",void 0),Fo([hi],i.prototype,"removeDragSource",null),i}(Ma),Fv=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),Ll=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},Vf=function(g){function i(t,s,p,f){var _=g.call(this)||this;return _.eResize=s,_.comp=t,_.pinned=p,_.columnGroup=f,_}return Fv(i,g),i.prototype.postConstruct=function(){var t=this;if(this.columnGroup.isResizable()){var s=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(this.addDestroyFunc(s),!this.gridOptionsWrapper.isSuppressAutoSize()){var p=this.gridOptionsWrapper.isSkipHeaderOnAutoSize();this.eResize.addEventListener("dblclick",function(){var f=[];t.columnGroup.getDisplayedLeafColumns().forEach(function(b){b.getColDef().suppressAutoSize||f.push(b.getColId())}),f.length>0&&t.columnModel.autoSizeColumns({columns:f,skipHeader:p,stopAtGroup:t.columnGroup,source:"uiColumnResized"}),t.resizeLeafColumnsToFit()})}}else this.comp.addOrRemoveResizableCssClass("ag-hidden",!0)},i.prototype.onResizeStart=function(t){var s=this;this.calculateInitialValues();var p=null;if(t&&(p=this.columnModel.getDisplayedGroupAfter(this.columnGroup)),p){var f=p.getDisplayedLeafColumns();this.resizeTakeFromCols=f.filter(function(_){return _.isResizable()}),this.resizeTakeFromStartWidth=0,this.resizeTakeFromCols.forEach(function(_){return s.resizeTakeFromStartWidth+=_.getActualWidth()}),this.resizeTakeFromRatios=[],this.resizeTakeFromCols.forEach(function(_){return s.resizeTakeFromRatios.push(_.getActualWidth()/s.resizeTakeFromStartWidth)})}else this.resizeTakeFromCols=null,this.resizeTakeFromStartWidth=null,this.resizeTakeFromRatios=null;this.comp.addOrRemoveCssClass("ag-column-resizing",!0)},i.prototype.onResizing=function(t,s){var p=this.normaliseDragChange(s);this.resizeColumns(this.resizeStartWidth+p,t)},i.prototype.resizeLeafColumnsToFit=function(){var t=this.autoWidthCalculator.getPreferredWidthForColumnGroup(this.columnGroup);this.calculateInitialValues(),t>this.resizeStartWidth&&this.resizeColumns(t,!0)},i.prototype.resizeColumns=function(t,s){void 0===s&&(s=!0);var p=[];p.push({columns:this.resizeCols,ratios:this.resizeRatios,width:t}),this.resizeTakeFromCols&&p.push({columns:this.resizeTakeFromCols,ratios:this.resizeTakeFromRatios,width:this.resizeTakeFromStartWidth-(t-this.resizeStartWidth)}),this.columnModel.resizeColumnSets({resizeSets:p,finished:s,source:"uiColumnDragged"}),s&&this.comp.addOrRemoveCssClass("ag-column-resizing",!1)},i.prototype.calculateInitialValues=function(){var t=this,s=this.columnGroup.getDisplayedLeafColumns();this.resizeCols=s.filter(function(p){return p.isResizable()}),this.resizeStartWidth=0,this.resizeCols.forEach(function(p){return t.resizeStartWidth+=p.getActualWidth()}),this.resizeRatios=[],this.resizeCols.forEach(function(p){return t.resizeRatios.push(p.getActualWidth()/t.resizeStartWidth)})},i.prototype.normaliseDragChange=function(t){var s=t;return this.gridOptionsWrapper.isEnableRtl()?this.pinned!==me.PINNED_LEFT&&(s*=-1):this.pinned===me.PINNED_RIGHT&&(s*=-1),s},Ll([$("horizontalResizeService")],i.prototype,"horizontalResizeService",void 0),Ll([$("autoWidthCalculator")],i.prototype,"autoWidthCalculator",void 0),Ll([$("columnModel")],i.prototype,"columnModel",void 0),Ll([$e],i.prototype,"postConstruct",null),i}(Ge),Iv=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),UC=function(g){function i(t,s){var p=g.call(this)||this;return p.removeChildListenersFuncs=[],p.columnGroup=s,p.comp=t,p}return Iv(i,g),i.prototype.postConstruct=function(){this.addListenersToChildrenColumns(),this.addManagedListener(this.columnGroup,Or.EVENT_DISPLAYED_CHILDREN_CHANGED,this.onDisplayedChildrenChanged.bind(this)),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))},i.prototype.addListenersToChildrenColumns=function(){var t=this;this.removeListenersOnChildrenColumns();var s=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach(function(p){p.addEventListener(pn.EVENT_WIDTH_CHANGED,s),p.addEventListener(pn.EVENT_VISIBLE_CHANGED,s),t.removeChildListenersFuncs.push(function(){p.removeEventListener(pn.EVENT_WIDTH_CHANGED,s),p.removeEventListener(pn.EVENT_VISIBLE_CHANGED,s)})})},i.prototype.removeListenersOnChildrenColumns=function(){this.removeChildListenersFuncs.forEach(function(t){return t()}),this.removeChildListenersFuncs=[]},i.prototype.onDisplayedChildrenChanged=function(){this.addListenersToChildrenColumns(),this.onWidthChanged()},i.prototype.onWidthChanged=function(){this.comp.setWidth(this.columnGroup.getActualWidth()+"px")},function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);p>3&&f&&Object.defineProperty(i,t,f)}([$e],i.prototype,"postConstruct",null),i}(Ge),zC=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),ad=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},Bp=function(g){function i(t,s){var p=g.call(this,t,s)||this;return p.columnGroup=t,p}return zC(i,g),i.prototype.setComp=function(t,s,p){g.prototype.setGui.call(this,s),this.comp=t,this.displayName=this.columnModel.getDisplayNameForColumnGroup(this.columnGroup,"header"),this.addClasses(),this.addAttributes(),this.setupMovingCss(),this.setupExpandable(),this.setupTooltip(),this.setupUserComp();var f=this.getParentRowCtrl().getPinned(),_=this.columnGroup.getProvidedColumnGroup().getLeafColumns();this.createManagedBean(new BC(_,s)),this.createManagedBean(new nd(this.columnGroup,s,this.beans)),this.createManagedBean(new UC(t,this.columnGroup)),this.groupResizeFeature=this.createManagedBean(new Vf(t,p,f,this.columnGroup)),this.createManagedBean(new ks(s,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:function(){},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))},i.prototype.resizeLeafColumnsToFit=function(){this.groupResizeFeature.onResizeStart(!1),this.groupResizeFeature.resizeLeafColumnsToFit()},i.prototype.setupUserComp=function(){var t=this,s=this.displayName,p={displayName:this.displayName,columnGroup:this.columnGroup,setExpanded:function(M){t.columnModel.setColumnGroupOpened(t.columnGroup.getProvidedColumnGroup(),M,"gridInitializing")},api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext()};if(!s){for(var f=this.columnGroup,_=f.getLeafColumns();f.getParent()&&f.getParent().getLeafColumns().length===_.length;)f=f.getParent();var b=f.getColGroupDef();b&&(s=b.headerName),s||(s=_?this.columnModel.getDisplayNameForColumn(_[0],"header",!0):"")}var A=this.userComponentFactory.getHeaderGroupCompDetails(p);this.comp.setUserCompDetails(A)},i.prototype.setupTooltip=function(){var t=this,s=this.columnGroup.getColGroupDef(),p={getColumn:function(){return t.columnGroup},getGui:function(){return t.eGui},getLocation:function(){return"headerGroup"},getTooltipValue:function(){return s&&s.headerTooltip}};s&&(p.getColDef=function(){return s}),this.createManagedBean(new Rf(p,this.beans)).setComp(this.comp)},i.prototype.setupExpandable=function(){var t=this.columnGroup.getProvidedColumnGroup();this.refreshExpanded(),this.addManagedListener(t,cr.EVENT_EXPANDABLE_CHANGED,this.refreshExpanded.bind(this)),this.addManagedListener(t,cr.EVENT_EXPANDED_CHANGED,this.refreshExpanded.bind(this))},i.prototype.refreshExpanded=function(){var t=this.columnGroup;this.expandable=t.isExpandable();var s=t.isExpanded();this.comp.setAriaExpanded(this.expandable?s?"true":"false":void 0)},i.prototype.addAttributes=function(){this.comp.setColId(this.columnGroup.getUniqueId())},i.prototype.addClasses=function(){var t=this,s=this.columnGroup.getColGroupDef(),p=us.getHeaderClassesFromColDef(s,this.gridOptionsWrapper,null,this.columnGroup);p.push(this.columnGroup.isPadding()?"ag-header-group-cell-no-group":"ag-header-group-cell-with-group"),p.forEach(function(f){return t.comp.addOrRemoveCssClass(f,!0)})},i.prototype.setupMovingCss=function(){var t=this,p=this.columnGroup.getProvidedColumnGroup().getLeafColumns(),f=function(){return t.comp.addOrRemoveCssClass("ag-header-cell-moving",t.columnGroup.isMoving())};p.forEach(function(_){t.addManagedListener(_,pn.EVENT_MOVING_CHANGED,f)}),f()},i.prototype.onFocusIn=function(t){if(!this.eGui.contains(t.relatedTarget)){var s=this.getRowIndex();this.beans.focusService.setFocusedHeader(s,this.columnGroup)}},i.prototype.handleKeyDown=function(t){var s=this.gridOptionsWrapper.getDocument();if(this.expandable&&s.activeElement===this.eGui&&t.key===We.ENTER){var _=this.columnGroup,b=!_.isExpanded();this.columnModel.setColumnGroupOpened(_.getProvidedColumnGroup(),b,"uiColumnExpanded")}},i.prototype.setDragSource=function(t){var s=this;if(!this.isSuppressMoving()){var p=this.columnGroup.getProvidedColumnGroup().getLeafColumns(),f={type:B.DragSourceType.HeaderCell,eElement:t,defaultIconName:sr.ICON_HIDE,dragItemName:this.displayName,getDragItem:this.getDragItemForGroup.bind(this),onDragStarted:function(){return p.forEach(function(_){return _.setMoving(!0,"uiColumnDragged")})},onDragStopped:function(){return p.forEach(function(_){return _.setMoving(!1,"uiColumnDragged")})}};this.dragAndDropService.addDragSource(f,!0),this.addDestroyFunc(function(){return s.dragAndDropService.removeDragSource(f)})}},i.prototype.getDragItemForGroup=function(){var t=this.columnGroup.getProvidedColumnGroup().getLeafColumns(),s={};t.forEach(function(f){return s[f.getId()]=f.isVisible()});var p=[];return this.columnModel.getAllDisplayedColumns().forEach(function(f){t.indexOf(f)>=0&&(p.push(f),Pn(t,f))}),t.forEach(function(f){return p.push(f)}),{columns:p,visibleState:s}},i.prototype.isSuppressMoving=function(){var t=!1;return this.columnGroup.getLeafColumns().forEach(function(p){(p.getColDef().suppressMovable||p.getColDef().lockPosition)&&(t=!0)}),t||this.gridOptionsWrapper.isSuppressMovableColumns()},ad([$("beans")],i.prototype,"beans",void 0),ad([$("columnModel")],i.prototype,"columnModel",void 0),ad([$("dragAndDropService")],i.prototype,"dragAndDropService",void 0),ad([$("userComponentFactory")],i.prototype,"userComponentFactory",void 0),ad([$("gridApi")],i.prototype,"gridApi",void 0),ad([$("columnApi")],i.prototype,"columnApi",void 0),i}(Ma),FS=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),Bf=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},kl=0,Hp=function(g){function i(t,s,p){var f=g.call(this)||this;return f.instanceId=kl++,f.headerCellCtrls={},f.rowIndex=t,f.pinned=s,f.type=p,f}return FS(i,g),i.prototype.getInstanceId=function(){return this.instanceId},i.prototype.setComp=function(t){this.comp=t,this.onRowHeightChanged(),this.onVirtualColumnsChanged(),this.setWidth(),this.addEventListeners(),Gm()&&this.comp.setTransform("translateZ(0)"),t.setAriaRowIndex(this.rowIndex+1)},i.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,re.EVENT_COLUMN_RESIZED,this.onColumnResized.bind(this)),this.addManagedListener(this.gridOptionsWrapper,at.PROP_DOM_LAYOUT,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,re.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,re.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,at.PROP_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,at.PROP_PIVOT_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,at.PROP_GROUP_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,at.PROP_PIVOT_GROUP_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,at.PROP_FLOATING_FILTERS_HEIGHT,this.onRowHeightChanged.bind(this))},i.prototype.getHeaderCellCtrl=function(t){return Ya(this.headerCellCtrls).find(function(s){return s.getColumnGroupChild()===t})},i.prototype.onDisplayedColumnsChanged=function(){this.onVirtualColumnsChanged(),this.setWidth()},i.prototype.getType=function(){return this.type},i.prototype.onColumnResized=function(){this.setWidth()},i.prototype.setWidth=function(){var t=this.getWidthForRow();this.comp.setWidth(t+"px")},i.prototype.getWidthForRow=function(){return this.gridOptionsWrapper.getDomLayout()===me.DOM_LAYOUT_PRINT?null!=this.pinned?0:this.columnModel.getContainerWidth(me.PINNED_RIGHT)+this.columnModel.getContainerWidth(me.PINNED_LEFT)+this.columnModel.getContainerWidth(null):this.columnModel.getContainerWidth(this.pinned)},i.prototype.onRowHeightChanged=function(){var f,_,t=this.columnModel.getHeaderRowCount(),s=[],p=0;this.columnModel.isPivotMode()?(f=this.gridOptionsWrapper.getPivotGroupHeaderHeight(),_=this.gridOptionsWrapper.getPivotHeaderHeight()):(this.columnModel.hasFloatingFilters()&&(t++,p=1),f=this.gridOptionsWrapper.getGroupHeaderHeight(),_=this.gridOptionsWrapper.getHeaderHeight());for(var A=t-(1+p),M=0;M<A;M++)s.push(f);for(s.push(_),M=0;M<p;M++)s.push(this.gridOptionsWrapper.getFloatingFiltersHeight());var L=0;for(M=0;M<this.rowIndex;M++)L+=s[M];this.comp.setTop(L+"px"),this.comp.setHeight(s[this.rowIndex]+"px")},i.prototype.getPinned=function(){return this.pinned},i.prototype.getRowIndex=function(){return this.rowIndex},i.prototype.onVirtualColumnsChanged=function(){var t=this,s=this.headerCellCtrls;this.headerCellCtrls={},this.getColumnsInViewport().forEach(function(b){if(!b.isEmptyGroup()){var A=b.getUniqueId(),M=s[A];if(delete s[A],M&&M.getColumnGroupChild()!=b&&(t.destroyBean(M),M=void 0),null==M)switch(t.type){case B.HeaderRowType.FLOATING_FILTER:M=t.createBean(new Pv(b,t));break;case B.HeaderRowType.COLUMN_GROUP:M=t.createBean(new Bp(b,t));break;default:M=t.createBean(new od(b,t))}t.headerCellCtrls[A]=M}}),Sn(s,function(b,A){var M=function(b){return!!t.focusService.isHeaderWrapperFocused(b)&&t.columnModel.isDisplayed(b.getColumnGroupChild())}(A);M?t.headerCellCtrls[b]=A:t.destroyBean(A)});var _=Ca(this.headerCellCtrls);this.comp.setHeaderCtrls(_)},i.prototype.destroyCtrls=function(){var t=this;Sn(this.headerCellCtrls,function(s,p){t.destroyBean(p)}),this.headerCellCtrls={}},i.prototype.getColumnsInViewport=function(){return this.gridOptionsWrapper.getDomLayout()===me.DOM_LAYOUT_PRINT?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()},i.prototype.getColumnsInViewportPrintLayout=function(){var t=this;if(null!=this.pinned)return[];var s=[],p=this.getActualDepth();return[me.PINNED_LEFT,null,me.PINNED_RIGHT].forEach(function(f){var _=t.columnModel.getVirtualHeaderGroupRow(f,p);s=s.concat(_)}),s},i.prototype.getActualDepth=function(){return this.type==B.HeaderRowType.FLOATING_FILTER?this.rowIndex-1:this.rowIndex},i.prototype.getColumnsInViewportNormalLayout=function(){return this.columnModel.getVirtualHeaderGroupRow(this.pinned,this.getActualDepth())},i.prototype.focusHeader=function(t,s){var f=Ca(this.headerCellCtrls).find(function(_){return _.getColumnGroupChild()==t});return!!f&&(f.focus(s),!0)},Bf([$("columnModel")],i.prototype,"columnModel",void 0),Bf([$("focusService")],i.prototype,"focusService",void 0),Bf([hi],i.prototype,"destroyCtrls",null),i}(Ge),Nv=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),sd=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},Wp=function(g,i){var t="function"==typeof Symbol&&g[Symbol.iterator];if(!t)return g;var p,_,s=t.call(g),f=[];try{for(;(void 0===i||i-- >0)&&!(p=s.next()).done;)f.push(p.value)}catch(b){_={error:b}}finally{try{p&&!p.done&&(t=s.return)&&t.call(s)}finally{if(_)throw _.error}}return f},Hf=function(g){function i(t){var s=g.call(this)||this;return s.groupsRowCtrls=[],s.pinned=t,s}return Nv(i,g),i.prototype.setComp=function(t,s){this.comp=t,this.setupCenterWidth(),this.setupPinnedWidth(),this.setupDragAndDrop(s),this.addManagedListener(this.eventService,re.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.ctrlsService.registerHeaderContainer(this,this.pinned),this.columnModel.isReady()&&this.refresh()},i.prototype.setupDragAndDrop=function(t){var s=new Ks(this.pinned,t);this.createManagedBean(s)},i.prototype.refresh=function(t){var s=this;void 0===t&&(t=!1);var L,p=new ai,f=this.focusService.getFocusHeaderToUseAfterRefresh();(function(){var L=s.columnModel.getHeaderRowCount()-1;s.groupsRowCtrls=s.destroyBeans(s.groupsRowCtrls);for(var G=0;G<L;G++){var U=s.createBean(new Hp(p.next(),s.pinned,B.HeaderRowType.COLUMN_GROUP));s.groupsRowCtrls.push(U)}})(),L=p.next(),(null==s.columnsRowCtrl||!t||s.columnsRowCtrl.getRowIndex()!==L)&&(s.destroyBean(s.columnsRowCtrl),s.columnsRowCtrl=s.createBean(new Hp(L,s.pinned,B.HeaderRowType.COLUMN))),function(){var G=function(){s.filtersRowCtrl=s.destroyBean(s.filtersRowCtrl)};if(!s.columnModel.isPivotMode()&&s.columnModel.hasFloatingFilters()){var U=p.next();if(s.filtersRowCtrl){var te=s.filtersRowCtrl.getRowIndex()!==U;(!t||te)&&G()}s.filtersRowCtrl||(s.filtersRowCtrl=s.createBean(new Hp(U,s.pinned,B.HeaderRowType.FLOATING_FILTER)))}else G()}();var M=this.getAllCtrls();this.comp.setCtrls(M),this.restoreFocusOnHeader(f)},i.prototype.restoreFocusOnHeader=function(t){null==t||t.column.getPinned()!=this.pinned||this.focusService.focusHeaderPosition({headerPosition:t})},i.prototype.getAllCtrls=function(){var t=function(){for(var g=[],i=0;i<arguments.length;i++)g=g.concat(Wp(arguments[i]));return g}(this.groupsRowCtrls,[this.columnsRowCtrl]);return this.filtersRowCtrl&&t.push(this.filtersRowCtrl),t},i.prototype.onGridColumnsChanged=function(){this.refresh(!0)},i.prototype.setupCenterWidth=function(){var t=this;null==this.pinned&&this.createManagedBean(new Sv(function(s){return t.comp.setCenterWidth(s+"px")}))},i.prototype.setHorizontalScroll=function(t){this.comp.setContainerTransform("translateX("+t+"px)")},i.prototype.setupPinnedWidth=function(){var t=this;if(null!=this.pinned){var s=this.pinned===me.PINNED_LEFT,p=this.pinned===me.PINNED_RIGHT,f=function(){var _=s?t.pinnedWidthService.getPinnedLeftWidth():t.pinnedWidthService.getPinnedRightWidth();if(null!=_){var b=0==_,A=t.gridOptionsWrapper.isEnableRtl(),M=t.gridOptionsWrapper.getScrollbarWidth(),L=t.scrollVisibleService.isVerticalScrollShowing()&&(A&&s||!A&&p);t.comp.setPinnedContainerWidth((L?_+M:_)+"px"),t.comp.addOrRemoveCssClass("ag-hidden",b)}};this.addManagedListener(this.eventService,re.EVENT_LEFT_PINNED_WIDTH_CHANGED,f),this.addManagedListener(this.eventService,re.EVENT_RIGHT_PINNED_WIDTH_CHANGED,f),this.addManagedListener(this.eventService,re.EVENT_SCROLL_VISIBILITY_CHANGED,f),this.addManagedListener(this.eventService,re.EVENT_SCROLLBAR_WIDTH_CHANGED,f)}},i.prototype.getHeaderCtrlForColumn=function(t){if(t instanceof pn)return this.columnsRowCtrl?this.columnsRowCtrl.getHeaderCellCtrl(t):void 0;if(0!==this.groupsRowCtrls.length)for(var s=0;s<this.groupsRowCtrls.length;s++){var p=this.groupsRowCtrls[s].getHeaderCellCtrl(t);if(p)return p}},i.prototype.getHtmlElementForColumnHeader=function(t){var s=this.getHeaderCtrlForColumn(t);return s?s.getGui():null},i.prototype.getRowType=function(t){var p=this.getAllCtrls()[t];return p?p.getType():void 0},i.prototype.focusHeader=function(t,s,p){var _=this.getAllCtrls()[t];return!!_&&_.focusHeader(s,p)},i.prototype.getRowCount=function(){return this.getAllCtrls().length},sd([$("ctrlsService")],i.prototype,"ctrlsService",void 0),sd([$("scrollVisibleService")],i.prototype,"scrollVisibleService",void 0),sd([$("pinnedWidthService")],i.prototype,"pinnedWidthService",void 0),sd([$("columnModel")],i.prototype,"columnModel",void 0),sd([$("focusService")],i.prototype,"focusService",void 0),i}(Ge),jp=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),Up=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},ld=function(g){function i(t){var s=g.call(this)||this;return s.headerRowComps={},s.rowCompsList=[],s.pinned=t,s}return jp(i,g),i.prototype.init=function(){var t=this;this.selectAndSetTemplate();var s={addOrRemoveCssClass:function(f,_){return t.addOrRemoveCssClass(f,_)},setCtrls:function(f){return t.setCtrls(f)},setCenterWidth:function(f){return t.eCenterContainer.style.width=f},setContainerTransform:function(f){return t.eCenterContainer.style.transform=f},setPinnedContainerWidth:function(f){var _=t.getGui();_.style.width=f,_.style.maxWidth=f,_.style.minWidth=f}};this.createManagedBean(new Hf(this.pinned)).setComp(s,this.getGui())},i.prototype.selectAndSetTemplate=function(){this.setTemplate(this.pinned==me.PINNED_LEFT?i.PINNED_LEFT_TEMPLATE:this.pinned==me.PINNED_RIGHT?i.PINNED_RIGHT_TEMPLATE:i.CENTER_TEMPLATE),this.eRowContainer=this.eCenterContainer?this.eCenterContainer:this.getGui()},i.prototype.destroyRowComps=function(){this.setCtrls([])},i.prototype.destroyRowComp=function(t){this.destroyBean(t),this.eRowContainer.removeChild(t.getGui())},i.prototype.setCtrls=function(t){var f,s=this,p=this.headerRowComps;this.headerRowComps={},this.rowCompsList=[],t.forEach(function(b){var A=b.getInstanceId(),M=p[A];delete p[A];var L=M||s.createBean(new ed(b));s.headerRowComps[A]=L,s.rowCompsList.push(L),function(b){var A=b.getGui();A.parentElement!=s.eRowContainer&&s.eRowContainer.appendChild(A),f&&Ms(s.eRowContainer,A,f),f=A}(L)}),Ca(p).forEach(function(b){return s.destroyRowComp(b)})},i.PINNED_LEFT_TEMPLATE='<div class="ag-pinned-left-header" role="presentation"/>',i.PINNED_RIGHT_TEMPLATE='<div class="ag-pinned-right-header" role="presentation"/>',i.CENTER_TEMPLATE='<div class="ag-header-viewport" role="presentation">\n            <div class="ag-header-container" ref="eCenterContainer" role="rowgroup"></div>\n        </div>',Up([Ve("eCenterContainer")],i.prototype,"eCenterContainer",void 0),Up([$e],i.prototype,"init",null),Up([hi],i.prototype,"destroyRowComps",null),i}(Ut),zp=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),Lv=function(g){function i(){return g.call(this,i.TEMPLATE)||this}return zp(i,g),i.prototype.postConstruct=function(){var t=this,s={addOrRemoveCssClass:function(_,b){return t.addOrRemoveCssClass(_,b)},setHeightAndMinHeight:function(_){t.getGui().style.height=_,t.getGui().style.minHeight=_}};this.createManagedBean(new Po).setComp(s,this.getGui(),this.getFocusableElement());var f=function(_){t.createManagedBean(_),t.appendChild(_)};f(new ld(me.PINNED_LEFT)),f(new ld(null)),f(new ld(me.PINNED_RIGHT))},i.TEMPLATE='<div class="ag-header" role="presentation"/>',function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);p>3&&f&&Object.defineProperty(i,t,f)}([$e],i.prototype,"postConstruct",null),i}(Ut),NS=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),qs=function(){return qs=Object.assign||function(g){for(var i,t=1,s=arguments.length;t<s;t++)for(var p in i=arguments[t])Object.prototype.hasOwnProperty.call(i,p)&&(g[p]=i[p]);return g},qs.apply(this,arguments)},eo=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},Fi=function(g){function i(){var s=null!==g&&g.apply(this,arguments)||this;return s.allAdvancedFilters=new Map,s.activeAdvancedFilters=[],s.quickFilter=null,s.quickFilterParts=null,s.processingFilterChange=!1,s}var t;return NS(i,g),t=i,i.prototype.init=function(){var s=this;this.addManagedListener(this.eventService,re.EVENT_ROW_DATA_CHANGED,function(p){return s.onNewRowsLoaded(p)}),this.addManagedListener(this.eventService,re.EVENT_GRID_COLUMNS_CHANGED,function(){return s.onColumnsChanged()}),this.quickFilter=this.parseQuickFilter(this.gridOptionsWrapper.getQuickFilterText()),this.setQuickFilterParts(),this.allowShowChangeAfterFilter=this.gridOptionsWrapper.isAllowShowChangeAfterFilter()},i.prototype.setQuickFilterParts=function(){this.quickFilterParts=this.quickFilter?this.quickFilter.split(" "):null},i.prototype.setFilterModel=function(s){var p=this,f=[],_=this.getFilterModel();if(s){var b=Bt(Object.keys(s));this.allAdvancedFilters.forEach(function(A,M){f.push(p.setModelOnFilterWrapper(A.filterPromise,s[M])),b.delete(M)}),b.forEach(function(A){var M=p.columnModel.getPrimaryColumn(A);if(M)if(M.isFilterAllowed()){var L=p.getOrCreateFilterWrapper(M,"NO_UI");L?f.push(p.setModelOnFilterWrapper(L.filterPromise,s[A])):console.warn("AG-Grid: setFilterModel() - unable to fully apply model, unable to create filter for colId: "+A)}else console.warn("AG Grid: setFilterModel() - unable to fully apply model, filtering disabled for colId: "+A);else console.warn("AG Grid: setFilterModel() - no column found for colId: "+A)})}else this.allAdvancedFilters.forEach(function(A){f.push(p.setModelOnFilterWrapper(A.filterPromise,null))});go.all(f).then(function(){var A=p.getFilterModel(),M=[];p.allAdvancedFilters.forEach(function(L,G){gt.jsonEquals(_?_[G]:null,A?A[G]:null)||M.push(L.column)}),M.length>0&&p.onFilterChanged({columns:M})})},i.prototype.setModelOnFilterWrapper=function(s,p){return new go(function(f){s.then(function(_){"function"!=typeof _.setModel&&(console.warn("AG Grid: filter missing setModel method, which is needed for setFilterModel"),f()),(_.setModel(p)||go.resolve()).then(function(){return f()})})})},i.prototype.getFilterModel=function(){var s={};return this.allAdvancedFilters.forEach(function(p,f){var b=p.filterPromise.resolveNow(null,function(M){return M});if(null==b)return null;if("function"==typeof b.getModel){var A=b.getModel();J(A)&&(s[f]=A)}else console.warn("AG Grid: filter API missing getModel method, which is needed for getFilterModel")}),s},i.prototype.isAdvancedFilterPresent=function(){return this.activeAdvancedFilters.length>0},i.prototype.updateActiveFilters=function(){var s=this;this.activeAdvancedFilters.length=0;var p=function(f){return!!f&&(f.isFilterActive?f.isFilterActive():(console.warn("AG Grid: Filter is missing isFilterActive() method"),!1))};this.allAdvancedFilters.forEach(function(f){if(f.filterPromise.resolveNow(!1,p)){var _=f.filterPromise.resolveNow(null,function(b){return b});s.activeAdvancedFilters.push(_)}})},i.prototype.updateFilterFlagInColumns=function(s,p){this.allAdvancedFilters.forEach(function(f){var _=f.filterPromise.resolveNow(!1,function(b){return b.isFilterActive()});f.column.setFilterActive(_,s,p)})},i.prototype.isAnyFilterPresent=function(){return this.isQuickFilterPresent()||this.isAdvancedFilterPresent()||this.gridOptionsWrapper.isExternalFilterPresent()},i.prototype.doAdvancedFiltersPass=function(s,p){for(var f=s.data,_=0;_<this.activeAdvancedFilters.length;_++){var b=this.activeAdvancedFilters[_];if(null!=b&&b!==p){if("function"!=typeof b.doesFilterPass)throw new Error("Filter is missing method doesFilterPass");if(!b.doesFilterPass({node:s,data:f}))return!1}}return!0},i.prototype.parseQuickFilter=function(s){return J(s)?this.gridOptionsWrapper.isRowModelDefault()?s.toUpperCase():(console.warn("AG Grid - Quick filtering only works with the Client-Side Row Model"),null):null},i.prototype.setQuickFilter=function(s){if(null==s||"string"==typeof s){var p=this.parseQuickFilter(s);this.quickFilter!==p&&(this.quickFilter=p,this.setQuickFilterParts(),this.onFilterChanged())}else console.warn("AG Grid - setQuickFilter() only supports string inputs, received: "+typeof s)},i.prototype.onFilterChanged=function(s){void 0===s&&(s={});var p=s.filterInstance,f=s.additionalEventAttributes,_=s.columns;this.updateActiveFilters(),this.updateFilterFlagInColumns("filterChanged",f),this.allAdvancedFilters.forEach(function(A){!A.filterPromise||A.filterPromise.then(function(M){M&&M!==p&&M.onAnyFilterChanged&&M.onAnyFilterChanged()})});var b={type:re.EVENT_FILTER_CHANGED,api:this.gridApi,columnApi:this.columnApi,columns:_||[]};f&&Hi(b,f),this.processingFilterChange=!0,this.eventService.dispatchEvent(b),this.processingFilterChange=!1},i.prototype.isSuppressFlashingCellsBecauseFiltering=function(){return!this.allowShowChangeAfterFilter&&this.processingFilterChange},i.prototype.isQuickFilterPresent=function(){return null!==this.quickFilter},i.prototype.doesRowPassOtherFilters=function(s,p){return this.doesRowPassFilter({rowNode:p,filterInstanceToSkip:s})},i.prototype.doesRowPassQuickFilterNoCache=function(s,p){var f=this;return this.columnModel.getAllColumnsForQuickFilter().some(function(b){var A=f.getQuickFilterTextForColumn(b,s);return J(A)&&A.indexOf(p)>=0})},i.prototype.doesRowPassQuickFilterCache=function(s,p){return s.quickFilterAggregateText||this.aggregateRowForQuickFilter(s),s.quickFilterAggregateText.indexOf(p)>=0},i.prototype.doesRowPassQuickFilter=function(s){var p=this,f=this.gridOptionsWrapper.isCacheQuickFilter();return this.quickFilterParts.every(function(_){return f?p.doesRowPassQuickFilterCache(s,_):p.doesRowPassQuickFilterNoCache(s,_)})},i.prototype.doesRowPassFilter=function(s){return!(this.isQuickFilterPresent()&&!this.doesRowPassQuickFilter(s.rowNode)||this.gridOptionsWrapper.isExternalFilterPresent()&&!this.gridOptionsWrapper.doesExternalFilterPass(s.rowNode)||this.isAdvancedFilterPresent()&&!this.doAdvancedFiltersPass(s.rowNode,s.filterInstanceToSkip))},i.prototype.getQuickFilterTextForColumn=function(s,p){var f=this.valueService.getValue(s,p,!0),_=s.getColDef();if(_.getQuickFilterText){var b={value:f,node:p,data:p.data,column:s,colDef:_,context:this.gridOptionsWrapper.getContext()};f=_.getQuickFilterText(b)}return J(f)?f.toString().toUpperCase():null},i.prototype.aggregateRowForQuickFilter=function(s){var p=this,f=[];this.columnModel.getAllColumnsForQuickFilter().forEach(function(b){var A=p.getQuickFilterTextForColumn(b,s);J(A)&&f.push(A)}),s.quickFilterAggregateText=f.join(t.QUICK_FILTER_SEPARATOR)},i.prototype.onNewRowsLoaded=function(s){this.allAdvancedFilters.forEach(function(p){p.filterPromise.then(function(f){f.onNewRowsLoaded&&f.onNewRowsLoaded()})}),this.updateFilterFlagInColumns(s),this.updateActiveFilters()},i.prototype.createValueGetter=function(s){var p=this;return function(f){return p.valueService.getValue(s,f.node,!0)}},i.prototype.getFilterComponent=function(s,p,f){var _;if(void 0===f&&(f=!0),f)return(null===(_=this.getOrCreateFilterWrapper(s,p))||void 0===_?void 0:_.filterPromise)||null;var b=this.cachedFilter(s);return b?b.filterPromise:null},i.prototype.isFilterActive=function(s){var p=this.cachedFilter(s);return!!p&&p.filterPromise.resolveNow(!1,function(f){return f.isFilterActive()})},i.prototype.getOrCreateFilterWrapper=function(s,p){if(!s.isFilterAllowed())return null;var f=this.cachedFilter(s);return f?"NO_UI"!==p&&this.putIntoGui(f,p):(f=this.createFilterWrapper(s,p),this.allAdvancedFilters.set(s.getColId(),f)),f},i.prototype.cachedFilter=function(s){return this.allAdvancedFilters.get(s.getColId())},i.prototype.createFilterInstance=function(s,p){var A,f=this,_=Vt.isRegistered(B.ModuleNames.SetFilterModule)?"agSetColumnFilter":"agTextColumnFilter",b=s.getColDef(),M=qs(qs({},this.createFilterParams(s,b,p)),{filterModifiedCallback:function(){f.eventService.dispatchEvent({type:re.EVENT_FILTER_MODIFIED,api:f.gridApi,columnApi:f.columnApi,column:s,filterInstance:A})},filterChangedCallback:function(U){return f.onFilterChanged({filterInstance:A,additionalEventAttributes:U,columns:[s]})},doesRowPassOtherFilter:function(U){return f.doesRowPassOtherFilters(A,U)}}),L=this.userComponentFactory.getFilterDetails(b,M,_);if(!L)return null;var G=L.newAgStackInstance();return G&&G.then(function(U){return A=U}),G},i.prototype.createFilterParams=function(s,p,f){void 0===f&&(f=null);var _={api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),column:s,colDef:su(p),rowModel:this.rowModel,filterChangedCallback:function(){},filterModifiedCallback:function(){},valueGetter:this.createValueGetter(s),context:this.gridOptionsWrapper.getContext(),doesRowPassOtherFilter:function(){return!0}};return f&&(_.$scope=f),_},i.prototype.createFilterWrapper=function(s,p){var f={column:s,filterPromise:null,scope:null,compiledElement:null,guiPromise:go.resolve(null)};return f.scope=this.gridOptionsWrapper.isAngularCompileFilters()?this.$scope.$new():null,f.filterPromise=this.createFilterInstance(s,f.scope),f.filterPromise&&this.putIntoGui(f,p),f},i.prototype.putIntoGui=function(s,p){var f=this,_=document.createElement("div");_.className="ag-filter",s.guiPromise=new go(function(b){s.filterPromise.then(function(A){var M=A.getGui();if(J(M)||console.warn("AG Grid: getGui method from filter returned "+M+", it should be a DOM element or an HTML template string."),"string"==typeof M&&(M=zn(M)),_.appendChild(M),s.scope){var L=f.$compile(_)(s.scope);s.compiledElement=L,window.setTimeout(function(){return s.scope.$apply()},0)}b(_),f.eventService.dispatchEvent({type:re.EVENT_FILTER_OPENED,column:s.column,source:p,eGui:_,api:f.gridApi,columnApi:f.columnApi})})})},i.prototype.onColumnsChanged=function(){var s=this,p=[];this.allAdvancedFilters.forEach(function(f,_){s.columnModel.getPrimaryColumn(_)||(p.push(f.column),s.disposeFilterWrapper(f,"filterDestroyed"))}),p.length>0&&this.onFilterChanged({columns:p})},i.prototype.destroyFilter=function(s,p){void 0===p&&(p="api");var f=this.allAdvancedFilters.get(s.getColId());f&&(this.disposeFilterWrapper(f,p),this.onFilterChanged({columns:[s]}))},i.prototype.disposeFilterWrapper=function(s,p){var f=this;s.filterPromise.then(function(_){(_.setModel(null)||go.resolve()).then(function(){f.getContext().destroyBean(_),s.column.setFilterActive(!1,p),s.scope&&(s.compiledElement&&s.compiledElement.remove(),s.scope.$destroy()),f.allAdvancedFilters.delete(s.column.getColId())})})},i.prototype.destroy=function(){var s=this;g.prototype.destroy.call(this),this.allAdvancedFilters.forEach(function(p){return s.disposeFilterWrapper(p,"filterDestroyed")})},i.QUICK_FILTER_SEPARATOR="\n",eo([$("$compile")],i.prototype,"$compile",void 0),eo([$("$scope")],i.prototype,"$scope",void 0),eo([$("valueService")],i.prototype,"valueService",void 0),eo([$("columnModel")],i.prototype,"columnModel",void 0),eo([$("rowModel")],i.prototype,"rowModel",void 0),eo([$("columnApi")],i.prototype,"columnApi",void 0),eo([$("gridApi")],i.prototype,"gridApi",void 0),eo([$("userComponentFactory")],i.prototype,"userComponentFactory",void 0),eo([$e],i.prototype,"init",null),eo([hi],i.prototype,"destroy",null),t=eo([tt("filterManager")],i)}(Ge),$C=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),$p=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},Wf=function(g){function i(){var t=null!==g&&g.apply(this,arguments)||this;return t.initialised=!1,t}return $C(i,g),i.prototype.init=function(){this.cellExpressions=this.gridOptionsWrapper.isEnableCellExpressions(),this.initialised=!0},i.prototype.getValue=function(t,s,p,f){if(void 0===p&&(p=!1),void 0===f&&(f=!1),this.initialised||this.init(),s){var L,_=t.getColDef(),b=_.field,A=t.getId(),M=s.data,G=s.groupData&&void 0!==s.groupData[A],U=!f&&s.aggData&&void 0!==s.aggData[A];if(p&&_.filterValueGetter?L=this.executeFilterValueGetter(_.filterValueGetter,M,t,s):this.gridOptionsWrapper.isTreeData()&&U?L=s.aggData[A]:this.gridOptionsWrapper.isTreeData()&&_.valueGetter?L=this.executeValueGetter(_.valueGetter,M,t,s):this.gridOptionsWrapper.isTreeData()&&b&&M?L=lu(M,b,t.isFieldContainsDots()):G?L=s.groupData[A]:U?L=s.aggData[A]:_.valueGetter?L=this.executeValueGetter(_.valueGetter,M,t,s):b&&M&&(L=lu(M,b,t.isFieldContainsDots())),this.cellExpressions&&"string"==typeof L&&0===L.indexOf("=")){var te=L.substring(1);L=this.executeValueGetter(te,M,t,s)}if(null==L){var le=this.getOpenedGroup(s,t);if(null!=le)return le}return L}},i.prototype.getOpenedGroup=function(t,s){if(this.gridOptionsWrapper.isShowOpenedGroup()&&s.getColDef().showRowGroup)for(var f=s.getColDef().showRowGroup,_=t.parent;null!=_;){if(_.rowGroupColumn&&(!0===f||f===_.rowGroupColumn.getId()))return _.key;_=_.parent}},i.prototype.setValue=function(t,s,p,f){var _=this.columnModel.getPrimaryColumn(s);if(t&&_){E(t.data)&&(t.data={});var b=_.getColDef(),A=b.field,M=b.newValueHandler,L=b.valueSetter;if(E(A)&&E(M)&&E(L))return void console.warn("AG Grid: you need either field or valueSetter set on colDef for editing to work");var U,G={node:t,data:t.data,oldValue:this.getValue(_,t),newValue:p,colDef:_.getColDef(),column:_,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};if(G.newValue=p,void 0===(U=M&&J(M)?M(G):J(L)?this.expressionService.evaluate(L,G):this.setValueUsingField(t.data,A,p,_.isFieldContainsDots()))&&(U=!0),U){t.resetQuickFilterAggregateText(),this.valueCache.onDataChanged(),G.newValue=this.getValue(_,t);var te=_.getColDef().onCellValueChanged;"function"==typeof te&&setTimeout(function(){return te(G)},0),this.eventService.dispatchEvent({type:re.EVENT_CELL_VALUE_CHANGED,event:null,rowIndex:t.rowIndex,rowPinned:t.rowPinned,column:G.column,api:G.api,columnApi:G.columnApi,colDef:G.colDef,context:G.context,data:t.data,node:t,oldValue:G.oldValue,newValue:G.newValue,value:G.newValue,source:f})}}},i.prototype.setValueUsingField=function(t,s,p,f){if(!s)return!1;if(f)for(var b=s.split("."),A=t;b.length>0&&A;){var M=b.shift();0===b.length?A[M]=p:A=A[M]}else t[s]=p;return!0},i.prototype.executeFilterValueGetter=function(t,s,p,f){var _={data:s,node:f,column:p,colDef:p.getColDef(),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),getValue:this.getValueCallback.bind(this,f)};return this.expressionService.evaluate(t,_)},i.prototype.executeValueGetter=function(t,s,p,f){var _=p.getId(),b=this.valueCache.getValue(f,_);if(void 0!==b)return b;var A={data:s,node:f,column:p,colDef:p.getColDef(),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),getValue:this.getValueCallback.bind(this,f)},M=this.expressionService.evaluate(t,A);return this.valueCache.setValue(f,_,M),M},i.prototype.getValueCallback=function(t,s){var p=this.columnModel.getPrimaryColumn(s);return p?this.getValue(p,t):null},i.prototype.getKeyForNode=function(t,s){var p=this.getValue(t,s),f=t.getColDef().keyCreator,_=p;return f&&(_=f({value:p,colDef:t.getColDef(),column:t,node:s,data:s.data,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()})),"string"==typeof _||null==_||"[object Object]"===(_=String(_))&&En(function(){console.warn("AG Grid: a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (se AG Grid docs) or b) to toString() on the object to return a key")},"getKeyForNode - warn about [object,object]"),_},$p([$("expressionService")],i.prototype,"expressionService",void 0),$p([$("columnModel")],i.prototype,"columnModel",void 0),$p([$("valueCache")],i.prototype,"valueCache",void 0),$p([$e],i.prototype,"init",null),$p([tt("valueService")],i)}(Ge),kv=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),Gv=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f};!function(g){g.AUTO_HEIGHT="ag-layout-auto-height",g.NORMAL="ag-layout-normal",g.PRINT="ag-layout-print"}(B.LayoutCssClasses||(B.LayoutCssClasses={}));var jf=function(g){function i(t){var s=g.call(this)||this;return s.view=t,s}return kv(i,g),i.prototype.postConstruct=function(){this.addManagedListener(this.gridOptionsWrapper,at.PROP_DOM_LAYOUT,this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()},i.prototype.updateLayoutClasses=function(){var t=this.gridOptionsWrapper.getDomLayout(),s={autoHeight:t===me.DOM_LAYOUT_AUTO_HEIGHT,normal:t===me.DOM_LAYOUT_NORMAL,print:t===me.DOM_LAYOUT_PRINT};this.view.updateLayoutClasses(s.autoHeight?B.LayoutCssClasses.AUTO_HEIGHT:s.print?B.LayoutCssClasses.PRINT:B.LayoutCssClasses.NORMAL,s)},Gv([$("gridOptionsWrapper")],i.prototype,"gridOptionsWrapper",void 0),Gv([$e],i.prototype,"postConstruct",null),i}(Ge),Vv=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),Ir=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},Bv=function(g){function i(t){var s=g.call(this)||this;return s.scrollLeft=-1,s.nextScrollTop=-1,s.scrollTop=-1,s.eBodyViewport=t,s.resetLastHorizontalScrollElementDebounced=pu(s.resetLastHorizontalScrollElement.bind(s),500),s}return Vv(i,g),i.prototype.postConstruct=function(){var t=this;this.enableRtl=this.gridOptionsWrapper.isEnableRtl(),this.addManagedListener(this.eventService,re.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this)),this.ctrlsService.whenReady(function(s){t.centerRowContainerCon=s.centerRowContainerCtrl,t.onDisplayedColumnsWidthChanged(),t.addScrollListener()})},i.prototype.addScrollListener=function(){var t=this.ctrlsService.getFakeHScrollCtrl();this.addManagedListener(this.centerRowContainerCon.getViewportElement(),"scroll",this.onCenterViewportScroll.bind(this)),this.addManagedListener(t.getViewport(),"scroll",this.onFakeHorizontalScroll.bind(this));var s=this.gridOptionsWrapper.isDebounceVerticalScrollbar()?pu(this.onVerticalScroll.bind(this),100):this.onVerticalScroll.bind(this);this.addManagedListener(this.eBodyViewport,"scroll",s)},i.prototype.onDisplayedColumnsWidthChanged=function(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()},i.prototype.horizontallyScrollHeaderCenterAndFloatingCenter=function(t){if(null!=this.centerRowContainerCon){void 0===t&&(t=this.centerRowContainerCon.getCenterViewportScrollLeft());var p=this.enableRtl?t:-t,f=this.ctrlsService.getTopCenterRowContainerCtrl(),_=this.ctrlsService.getBottomCenterRowContainerCtrl(),b=this.ctrlsService.getFakeHScrollCtrl();this.ctrlsService.getHeaderRowContainerCtrl().setHorizontalScroll(p),_.setContainerTranslateX(p),f.setContainerTranslateX(p),Ur(this.lastHorizontalScrollElement===this.centerRowContainerCon.getViewportElement()?b.getViewport():this.centerRowContainerCon.getViewportElement(),Math.abs(t),this.enableRtl)}},i.prototype.isControllingScroll=function(t){return this.lastHorizontalScrollElement?t===this.lastHorizontalScrollElement:(this.lastHorizontalScrollElement=t,!0)},i.prototype.onFakeHorizontalScroll=function(){var t=this.ctrlsService.getFakeHScrollCtrl().getViewport();!this.isControllingScroll(t)||this.onBodyHorizontalScroll(t)},i.prototype.onCenterViewportScroll=function(){var t=this.centerRowContainerCon.getViewportElement();!this.isControllingScroll(t)||this.onBodyHorizontalScroll(t)},i.prototype.onBodyHorizontalScroll=function(t){var s=this.centerRowContainerCon.getViewportElement();this.shouldBlockScrollUpdate("horizontal",s.scrollLeft,!0)||(this.doHorizontalScroll(Math.round(Ke(t,this.enableRtl))),this.resetLastHorizontalScrollElementDebounced())},i.prototype.onVerticalScroll=function(){var t=this.eBodyViewport.scrollTop;this.shouldBlockScrollUpdate("vertical",t,!0)||(this.animationFrameService.setScrollTop(t),this.nextScrollTop=t,this.gridOptionsWrapper.isSuppressAnimationFrame()?(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()):this.animationFrameService.schedule())},i.prototype.resetLastHorizontalScrollElement=function(){this.lastHorizontalScrollElement=null},i.prototype.doHorizontalScroll=function(t){var p=Ke(this.ctrlsService.getFakeHScrollCtrl().getViewport(),this.enableRtl);this.scrollLeft===t&&t===p||(this.scrollLeft=t,this.fireScrollEvent("horizontal"),this.horizontallyScrollHeaderCenterAndFloatingCenter(t),this.onHorizontalViewportChanged())},i.prototype.fireScrollEvent=function(t){var s=this,p={type:re.EVENT_BODY_SCROLL,api:this.gridApi,columnApi:this.columnApi,direction:t,left:this.scrollLeft,top:this.scrollTop};this.eventService.dispatchEvent(p),window.clearTimeout(this.scrollTimer),this.scrollTimer=void 0,this.scrollTimer=window.setTimeout(function(){var f=Object.assign({},p,{type:re.EVENT_BODY_SCROLL_END});s.eventService.dispatchEvent(f)},100)},i.prototype.shouldBlockScrollUpdate=function(t,s,p){if(void 0===p&&(p=!1),p&&!Dc())return!1;if("vertical"===t){var f=xc(this.eBodyViewport);if(s<0||s+f>this.eBodyViewport.scrollHeight)return!0}if("horizontal"===t){var b=this.centerRowContainerCon.getCenterWidth(),A=this.centerRowContainerCon.getViewportElement().scrollWidth;if(this.enableRtl&&Ps()){if(s>0)return!0}else if(s<0)return!0;if(Math.abs(s)+b>A)return!0}return!1},i.prototype.redrawRowsAfterScroll=function(){this.fireScrollEvent("vertical")},i.prototype.onHorizontalViewportChanged=function(){this.centerRowContainerCon.onHorizontalViewportChanged()},i.prototype.checkScrollLeft=function(){this.scrollLeft!==this.centerRowContainerCon.getCenterViewportScrollLeft()&&this.onBodyHorizontalScroll(this.centerRowContainerCon.getViewportElement())},i.prototype.executeAnimationFrameScroll=function(){var t=this.scrollTop!=this.nextScrollTop;return t&&(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()),t},i.prototype.setHorizontalScrollPosition=function(t){var p=this.centerRowContainerCon.getViewportElement().scrollWidth-this.centerRowContainerCon.getCenterWidth();this.shouldBlockScrollUpdate("horizontal",t)&&(t=this.enableRtl&&Ps()?t>0?0:p:Math.min(Math.max(t,0),p)),Ur(this.centerRowContainerCon.getViewportElement(),Math.abs(t),this.enableRtl),this.doHorizontalScroll(t)},i.prototype.setVerticalScrollPosition=function(t){this.eBodyViewport.scrollTop=t},i.prototype.getVScrollPosition=function(){return{top:this.eBodyViewport.scrollTop,bottom:this.eBodyViewport.scrollTop+this.eBodyViewport.offsetHeight}},i.prototype.getHScrollPosition=function(){return this.centerRowContainerCon.getHScrollPosition()},i.prototype.isHorizontalScrollShowing=function(){return this.centerRowContainerCon.isHorizontalScrollShowing()},i.prototype.scrollHorizontally=function(t){var s=this.centerRowContainerCon.getViewportElement().scrollLeft;return this.setHorizontalScrollPosition(s+t),this.centerRowContainerCon.getViewportElement().scrollLeft-s},i.prototype.scrollToTop=function(){this.eBodyViewport.scrollTop=0},i.prototype.ensureNodeVisible=function(t,s){void 0===s&&(s=null);for(var p=this.rowModel.getRowCount(),f="function"==typeof t,_=-1,b=0;b<p;b++){var A=this.rowModel.getRow(b);if(f){if(t(A)){_=b;break}}else if(t===A||t===A.data){_=b;break}}_>=0&&this.ensureIndexVisible(_,s)},i.prototype.ensureIndexVisible=function(t,s){if(this.gridOptionsWrapper.getDomLayout()!==me.DOM_LAYOUT_PRINT){var p=this.paginationProxy.getRowCount();if("number"!=typeof t||t<0||t>=p)return void console.warn("invalid row index for ensureIndexVisible: "+t);this.gridOptionsWrapper.isPagination()&&!this.gridOptionsWrapper.isSuppressPaginationPanel()||this.paginationProxy.goToPageWithIndex(t);var A,b=this.paginationProxy.getRow(t);do{var M=b.rowTop,L=b.rowHeight,G=this.paginationProxy.getPixelOffset(),U=b.rowTop-G,te=U+b.rowHeight,le=this.getVScrollPosition(),ge=this.heightScaler.getDivStretchOffset(),ve=le.top+ge,we=le.bottom+ge,Re=we-ve,Fe=this.heightScaler.getScrollPositionForPixel(U),Ye=this.heightScaler.getScrollPositionForPixel(te-Re),dt=Math.min((Fe+Ye)/2,U),It=null;"top"===s?It=Fe:"bottom"===s?It=Ye:"middle"===s?It=dt:ve>U?It=Fe:we<te&&(It=Ye),null!==It&&(this.eBodyViewport.scrollTop=It,this.rowRenderer.redrawAfterScroll()),A=M!==b.rowTop||L!==b.rowHeight}while(A);this.animationFrameService.flushAllFrames()}},i.prototype.ensureColumnVisible=function(t,s){void 0===s&&(s="auto");var p=this.columnModel.getGridColumn(t);if(p&&!p.isPinned()&&this.columnModel.isColumnDisplayed(p)){var f=this.getPositionedHorizontalScroll(p,s);null!==f&&this.centerRowContainerCon.setCenterViewportScrollLeft(f),this.centerRowContainerCon.onHorizontalViewportChanged(),this.animationFrameService.flushAllFrames()}},i.prototype.getPositionedHorizontalScroll=function(t,s){var p=this.isColumnOutsideViewport(t),f=p.columnBeforeStart,_=p.columnAfterEnd,b=this.centerRowContainerCon.getCenterWidth()<t.getActualWidth(),A=this.centerRowContainerCon.getCenterWidth(),M=this.enableRtl,L=(M?f:_)||b,G=M?_:f;"auto"!==s&&(L="start"===s,G="end"===s);var U="middle"===s;if(L||G||U){var te=this.getColumnBounds(t),le=te.colLeft,ve=te.colRight;return U?te.colMiddle-A/2:L?M?ve:le:M?le-A:ve-A}return null},i.prototype.isColumnOutsideViewport=function(t){var s=this.getViewportBounds(),p=s.start,f=s.end,_=this.getColumnBounds(t),b=_.colLeft,A=_.colRight,M=this.enableRtl;return{columnBeforeStart:M?p>A:f<A,columnAfterEnd:M?f<b:p>b}},i.prototype.getColumnBounds=function(t){var s=this.enableRtl,p=this.columnModel.getBodyContainerWidth(),f=t.getActualWidth(),_=t.getLeft(),b=s?-1:1,A=s?p-_:_;return{colLeft:A,colMiddle:A+f/2*b,colRight:A+f*b}},i.prototype.getViewportBounds=function(){var t=this.centerRowContainerCon.getCenterWidth(),s=this.centerRowContainerCon.getCenterViewportScrollLeft();return{start:s,end:t+s,width:t}},Ir([$("ctrlsService")],i.prototype,"ctrlsService",void 0),Ir([$("animationFrameService")],i.prototype,"animationFrameService",void 0),Ir([$("columnApi")],i.prototype,"columnApi",void 0),Ir([$("gridApi")],i.prototype,"gridApi",void 0),Ir([$("paginationProxy")],i.prototype,"paginationProxy",void 0),Ir([$("rowModel")],i.prototype,"rowModel",void 0),Ir([$("rowContainerHeightService")],i.prototype,"heightScaler",void 0),Ir([$("rowRenderer")],i.prototype,"rowRenderer",void 0),Ir([$("columnModel")],i.prototype,"columnModel",void 0),Ir([$e],i.prototype,"postConstruct",null),i}(Ge),Hv=function(){function g(i){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=i.scrollContainer,this.scrollHorizontally=-1!==i.scrollAxis.indexOf("x"),this.scrollVertically=-1!==i.scrollAxis.indexOf("y"),this.scrollByTick=null!=i.scrollByTick?i.scrollByTick:20,i.onScrollCallback&&(this.onScrollCallback=i.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=i.getVerticalPosition,this.setVerticalPosition=i.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=i.getHorizontalPosition,this.setHorizontalPosition=i.setHorizontalPosition),this.shouldSkipVerticalScroll=i.shouldSkipVerticalScroll||function(){return!1},this.shouldSkipHorizontalScroll=i.shouldSkipHorizontalScroll||function(){return!1}}return g.prototype.check=function(i,t){void 0===t&&(t=!1);var s=t||this.shouldSkipVerticalScroll();if(!s||!this.shouldSkipHorizontalScroll()){var p=this.scrollContainer.getBoundingClientRect(),f=this.scrollByTick;this.tickLeft=i.clientX<p.left+f,this.tickRight=i.clientX>p.right-f,this.tickUp=i.clientY<p.top+f&&!s,this.tickDown=i.clientY>p.bottom-f&&!s,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}},g.prototype.ensureTickingStarted=function(){null===this.tickingInterval&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)},g.prototype.doTick=function(){var i;if(this.tickCount++,i=this.tickCount>20?200:this.tickCount>10?80:40,this.scrollVertically){var t=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(t-i),this.tickDown&&this.setVerticalPosition(t+i)}if(this.scrollHorizontally){var s=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(s-i),this.tickRight&&this.setHorizontalPosition(s+i)}this.onScrollCallback&&this.onScrollCallback()},g.prototype.ensureCleared=function(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)},g}(),LS=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),Wv=function(){return Wv=Object.assign||function(g){for(var i,t=1,s=arguments.length;t<s;t++)for(var p in i=arguments[t])Object.prototype.hasOwnProperty.call(i,p)&&(g[p]=i[p]);return g},Wv.apply(this,arguments)},ta=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},kS=function(g,i){var t="function"==typeof Symbol&&g[Symbol.iterator];if(!t)return g;var p,_,s=t.call(g),f=[];try{for(;(void 0===i||i-- >0)&&!(p=s.next()).done;)f.push(p.value)}catch(b){_={error:b}}finally{try{p&&!p.done&&(t=s.return)&&t.call(s)}finally{if(_)throw _.error}}return f},Uf=function(){for(var g=[],i=0;i<arguments.length;i++)g=g.concat(kS(arguments[i]));return g},zf=function(g){function i(t){var s=g.call(this)||this;return s.isMultiRowDrag=!1,s.isGridSorted=!1,s.isGridFiltered=!1,s.isRowGroupActive=!1,s.eContainer=t,s}return LS(i,g),i.prototype.postConstruct=function(){var t=this;this.gridOptionsWrapper.isRowModelDefault()&&(this.clientSideRowModel=this.rowModel);var s=function(){t.onSortChanged(),t.onFilterChanged(),t.onRowGroupChanged()};this.addManagedListener(this.eventService,re.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,re.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,re.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,re.EVENT_MODEL_UPDATED,function(){s()}),s(),this.ctrlsService.whenReady(function(){var p=t.ctrlsService.getGridBodyCtrl();t.autoScrollService=new Hv({scrollContainer:p.getBodyViewportElement(),scrollAxis:"y",getVerticalPosition:function(){return p.getScrollFeature().getVScrollPosition().top},setVerticalPosition:function(f){return p.getScrollFeature().setVerticalScrollPosition(f)},onScrollCallback:function(){t.onDragging(t.lastDraggingEvent)}})})},i.prototype.onSortChanged=function(){this.isGridSorted=this.sortController.isSortActive()},i.prototype.onFilterChanged=function(){this.isGridFiltered=this.filterManager.isAnyFilterPresent()},i.prototype.onRowGroupChanged=function(){var t=this.columnModel.getRowGroupColumns();this.isRowGroupActive=!Bi(t)},i.prototype.getContainer=function(){return this.eContainer},i.prototype.isInterestedIn=function(t){return t===B.DragSourceType.RowDrag},i.prototype.getIconName=function(){return this.gridOptionsWrapper.isRowDragManaged()&&this.shouldPreventRowMove()?sr.ICON_NOT_ALLOWED:sr.ICON_MOVE},i.prototype.shouldPreventRowMove=function(){return this.isGridSorted||this.isGridFiltered||this.isRowGroupActive},i.prototype.getRowNodes=function(t){if(!this.isFromThisGrid(t))return t.dragItem.rowNodes||[];var s=this.gridOptionsWrapper.isRowDragMultiRow(),p=this.selectionService.getSelectedNodes(),f=t.dragItem.rowNode;return s&&-1!==p.indexOf(f)?(this.isMultiRowDrag=!0,Uf(p)):(this.isMultiRowDrag=!1,[f])},i.prototype.onDragEnter=function(t){this.dispatchGridEvent(re.EVENT_ROW_DRAG_ENTER,t),this.getRowNodes(t).forEach(function(s){s.setDragging(!0)}),this.onEnterOrDragging(t)},i.prototype.onDragging=function(t){this.onEnterOrDragging(t)},i.prototype.isFromThisGrid=function(t){return t.dragSource.dragSourceDomDataKey===this.gridOptionsWrapper.getDomDataKey()},i.prototype.isDropZoneWithinThisGrid=function(t){return!this.ctrlsService.getGridBodyCtrl().getGui().contains(t.dropZoneTarget)},i.prototype.onEnterOrDragging=function(t){this.dispatchGridEvent(re.EVENT_ROW_DRAG_MOVE,t),this.lastDraggingEvent=t;var s=this.mouseEventService.getNormalisedPosition(t).y;this.gridOptionsWrapper.isRowDragManaged()&&this.doManagedDrag(t,s),this.autoScrollService.check(t.event)},i.prototype.doManagedDrag=function(t,s){var f,p=this,_=this.isFromThisGrid(t);_?(f=[t.dragItem.rowNode],this.isMultiRowDrag&&(f=Uf(this.selectionService.getSelectedNodes()).sort(function(A,M){return p.getRowIndexNumber(A)-p.getRowIndexNumber(M)})),t.dragItem.rowNodes=f):f=t.dragItem.rowNodes,this.gridOptionsWrapper.isRowDragManaged()&&this.shouldPreventRowMove()||(this.gridOptionsWrapper.isSuppressMoveWhenRowDragging()||!_?this.isDropZoneWithinThisGrid(t)||this.clientSideRowModel.highlightRowAtPixel(f[0],s):this.moveRows(f,s))},i.prototype.getRowIndexNumber=function(t){return parseInt(Rn(t.getRowIndexString().split("-")),10)},i.prototype.moveRowAndClearHighlight=function(t){var s=this,p=this.clientSideRowModel.getLastHighlightedRowNode(),f=p&&p.highlighted===B.RowHighlightPosition.Below,_=this.mouseEventService.getNormalisedPosition(t).y,b=t.dragItem.rowNodes,A=f?1:0;if(this.isFromThisGrid(t))b.forEach(function(G){G.rowTop<_&&(A-=1)}),this.moveRows(b,_,A);else{var M=this.gridOptionsWrapper.getRowNodeIdFunc(),L=this.clientSideRowModel.getRowIndexAtPixel(_)+1;this.clientSideRowModel.getHighlightPosition(_)===B.RowHighlightPosition.Above&&L--,this.clientSideRowModel.updateRowData({add:b.map(function(G){return G.data}).filter(function(G){return!s.clientSideRowModel.getRowNode(M?M(G):G.id)}),addIndex:L})}this.clearRowHighlight()},i.prototype.clearRowHighlight=function(){this.clientSideRowModel.highlightRowAtPixel(null)},i.prototype.moveRows=function(t,s,p){void 0===p&&(p=0),this.clientSideRowModel.ensureRowsAtPixel(t,s,p)&&(this.focusService.clearFocusedCell(),this.rangeService&&this.rangeService.removeAllCellRanges())},i.prototype.addRowDropZone=function(t){var s=this;if(t.getContainer())if(this.dragAndDropService.findExternalZone(t))console.warn("AG Grid: addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.");else{var p={getContainer:t.getContainer};t.fromGrid?(t.fromGrid=void 0,p=t):(t.onDragEnter&&(p.onDragEnter=function(f){t.onDragEnter(s.draggingToRowDragEvent(re.EVENT_ROW_DRAG_ENTER,f))}),t.onDragLeave&&(p.onDragLeave=function(f){t.onDragLeave(s.draggingToRowDragEvent(re.EVENT_ROW_DRAG_LEAVE,f))}),t.onDragging&&(p.onDragging=function(f){t.onDragging(s.draggingToRowDragEvent(re.EVENT_ROW_DRAG_MOVE,f))}),t.onDragStop&&(p.onDragStop=function(f){t.onDragStop(s.draggingToRowDragEvent(re.EVENT_ROW_DRAG_END,f))})),this.dragAndDropService.addDropTarget(Wv({isInterestedIn:function(f){return f===B.DragSourceType.RowDrag},getIconName:function(){return sr.ICON_MOVE},external:!0},p))}else En(function(){return console.warn("AG Grid: addRowDropZone - A container target needs to be provided")},"add-drop-zone-empty-target")},i.prototype.getRowDropZone=function(t){var s=this,p=this.getContainer.bind(this),f=this.onDragEnter.bind(this),_=this.onDragLeave.bind(this),b=this.onDragging.bind(this),A=this.onDragStop.bind(this);return t?{getContainer:p,onDragEnter:t.onDragEnter?function(M){f(M),t.onDragEnter(s.draggingToRowDragEvent(re.EVENT_ROW_DRAG_ENTER,M))}:f,onDragLeave:t.onDragLeave?function(M){_(M),t.onDragLeave(s.draggingToRowDragEvent(re.EVENT_ROW_DRAG_LEAVE,M))}:_,onDragging:t.onDragging?function(M){b(M),t.onDragging(s.draggingToRowDragEvent(re.EVENT_ROW_DRAG_MOVE,M))}:b,onDragStop:t.onDragStop?function(M){A(M),t.onDragStop(s.draggingToRowDragEvent(re.EVENT_ROW_DRAG_END,M))}:A,fromGrid:!0}:{getContainer:p,onDragEnter:f,onDragLeave:_,onDragging:b,onDragStop:A,fromGrid:!0}},i.prototype.draggingToRowDragEvent=function(t,s){var b,A,p=this.mouseEventService.getNormalisedPosition(s).y,_=-1;switch(p>this.paginationProxy.getCurrentPageHeight()||(_=this.rowModel.getRowIndexAtPixel(p),b=this.rowModel.getRow(_)),s.vDirection){case B.VerticalDirection.Down:A="down";break;case B.VerticalDirection.Up:A="up";break;default:A=null}return{type:t,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),event:s.event,node:s.dragItem.rowNode,nodes:s.dragItem.rowNodes,overIndex:_,overNode:b,y:p,vDirection:A}},i.prototype.dispatchGridEvent=function(t,s){var p=this.draggingToRowDragEvent(t,s);this.eventService.dispatchEvent(p)},i.prototype.onDragLeave=function(t){this.dispatchGridEvent(re.EVENT_ROW_DRAG_LEAVE,t),this.stopDragging(t),this.gridOptionsWrapper.isRowDragManaged()&&this.clearRowHighlight(),this.isFromThisGrid(t)&&(this.isMultiRowDrag=!1)},i.prototype.onDragStop=function(t){this.dispatchGridEvent(re.EVENT_ROW_DRAG_END,t),this.stopDragging(t),this.gridOptionsWrapper.isRowDragManaged()&&(this.gridOptionsWrapper.isSuppressMoveWhenRowDragging()||!this.isFromThisGrid(t))&&!this.isDropZoneWithinThisGrid(t)&&this.moveRowAndClearHighlight(t)},i.prototype.stopDragging=function(t){this.autoScrollService.ensureCleared(),this.getRowNodes(t).forEach(function(s){s.setDragging(!1)})},ta([$("dragAndDropService")],i.prototype,"dragAndDropService",void 0),ta([$("rowModel")],i.prototype,"rowModel",void 0),ta([$("paginationProxy")],i.prototype,"paginationProxy",void 0),ta([$("columnModel")],i.prototype,"columnModel",void 0),ta([$("focusService")],i.prototype,"focusService",void 0),ta([$("sortController")],i.prototype,"sortController",void 0),ta([$("filterManager")],i.prototype,"filterManager",void 0),ta([$("selectionService")],i.prototype,"selectionService",void 0),ta([$("mouseEventService")],i.prototype,"mouseEventService",void 0),ta([$("ctrlsService")],i.prototype,"ctrlsService",void 0),ta([tn("rangeService")],i.prototype,"rangeService",void 0),ta([$e],i.prototype,"postConstruct",null),i}(Ge),KC=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),to=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f};!function(g){g.ANIMATION_ON="ag-row-animation",g.ANIMATION_OFF="ag-row-no-animation"}(B.RowAnimationCssClasses||(B.RowAnimationCssClasses={}));var Ht="ag-selectable",Be="ag-force-vertical-scroll",jv="ag-column-moving",Gl=function(g){function i(){var t=null!==g&&g.apply(this,arguments)||this;return t.angularApplyTriggered=!1,t}return KC(i,g),i.prototype.getScrollFeature=function(){return this.bodyScrollFeature},i.prototype.getBodyViewportElement=function(){return this.eBodyViewport},i.prototype.setComp=function(t,s,p,f,_){this.comp=t,this.eGridBody=s,this.eBodyViewport=p,this.eTop=f,this.eBottom=_,this.setCellTextSelection(this.gridOptionsWrapper.isEnableCellTextSelect()),this.createManagedBean(new jf(this.comp)),this.bodyScrollFeature=this.createManagedBean(new Bv(this.eBodyViewport)),this.addRowDragListener(),this.setupRowAnimationCssClass(),this.ctrlsService.registerGridBodyCtrl(this),this.addEventListeners(),this.addFocusListeners([f,p,_]),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.$scope&&this.addAngularApplyCheck()},i.prototype.getComp=function(){return this.comp},i.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,re.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eventService,re.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.addManagedListener(this.eventService,re.EVENT_PINNED_ROW_DATA_CHANGED,this.setFloatingHeights.bind(this))},i.prototype.addFocusListeners=function(t){var s=this;t.forEach(function(p){s.addManagedListener(p,"focusin",function(){p.classList.add("ag-has-focus")}),s.addManagedListener(p,"focusout",function(f){p.contains(f.relatedTarget)||p.classList.remove("ag-has-focus")})})},i.prototype.setColumnMovingCss=function(t){this.comp.setColumnMovingCss(t?jv:null,t)},i.prototype.setCellTextSelection=function(t){void 0===t&&(t=!1),this.comp.setCellSelectableCss(t?Ht:null,t)},i.prototype.onScrollVisibilityChanged=function(){var t=this.scrollVisibleService.isVerticalScrollShowing();this.setVerticalScrollPaddingVisible(t)},i.prototype.onGridColumnsChanged=function(){var t=this.columnModel.getAllGridColumns();this.comp.setColumnCount(t?t.length:0)},i.prototype.disableBrowserDragging=function(){this.addManagedListener(this.eGridBody,"dragstart",function(t){if(t.target instanceof HTMLImageElement)return t.preventDefault(),!1})},i.prototype.addStopEditingWhenGridLosesFocus=function(){var t=this;if(this.gridOptionsWrapper.isStopEditingWhenCellsLoseFocus()){var s=function(f){var _=f.relatedTarget;if(null!==$h(_)){var b=p.some(function(M){return M.contains(_)})&&t.mouseEventService.isElementInThisGrid(_);if(!b){var A=t.popupService;b=A.getActivePopups().some(function(M){return M.contains(_)})||A.isElementWithinCustomPopup(_)}b||t.rowRenderer.stopEditing()}else t.rowRenderer.stopEditing()},p=[this.eBodyViewport,this.eBottom,this.eTop];p.forEach(function(f){return t.addManagedListener(f,"focusout",s)})}},i.prototype.updateRowCount=function(){var t=this.headerNavigationService.getHeaderRowCount(),s=this.paginationProxy.getType(),p=-1;s===me.ROW_MODEL_TYPE_CLIENT_SIDE&&(p=0,this.paginationProxy.forEachNode(function(_){_.group||p++})),this.comp.setRowCount(-1===p?-1:t+p)},i.prototype.registerBodyViewportResizeListener=function(t){this.comp.registerBodyViewportResizeListener(t)},i.prototype.setVerticalScrollPaddingVisible=function(t){this.comp.setPinnedTopBottomOverflowY(t?"scroll":"hidden")},i.prototype.isVerticalScrollShowing=function(){var t=this.gridOptionsWrapper.isAlwaysShowVerticalScroll();return this.comp.setAlwaysVerticalScrollClass(t?Be:null,t),t||qt(this.eBodyViewport)},i.prototype.setupRowAnimationCssClass=function(){var t=this,s=function(){var p=t.gridOptionsWrapper.isAnimateRows()&&!t.rowContainerHeightService.isStretching();t.comp.setRowAnimationCssOnBodyViewport(p?B.RowAnimationCssClasses.ANIMATION_ON:B.RowAnimationCssClasses.ANIMATION_OFF,p)};s(),this.addManagedListener(this.eventService,re.EVENT_HEIGHT_SCALE_CHANGED,s)},i.prototype.getGridBodyElement=function(){return this.eGridBody},i.prototype.addBodyViewportListener=function(){var t=this;this.addManagedListener(this.eBodyViewport,"contextmenu",function(p){t.gridOptionsWrapper.isPreventDefaultOnContextMenu()&&p.preventDefault();var f=p.target;(f===t.eBodyViewport||f===t.ctrlsService.getCenterRowContainerCtrl().getViewportElement())&&t.contextMenuFactory&&t.contextMenuFactory.onContextMenu(p,null,null,null,null,t.eGridBody)}),this.addManagedListener(this.eBodyViewport,"wheel",this.onWheel.bind(this))},i.prototype.onWheel=function(t){!this.gridOptionsWrapper.isSuppressScrollWhenPopupsAreOpen()||this.popupService.hasAnchoredPopup()&&t.preventDefault()},i.prototype.getGui=function(){return this.eGridBody},i.prototype.scrollVertically=function(t){var s=this.eBodyViewport.scrollTop;return this.bodyScrollFeature.setVerticalScrollPosition(s+t),this.eBodyViewport.scrollTop-s},i.prototype.addRowDragListener=function(){this.rowDragFeature=this.createManagedBean(new zf(this.eBodyViewport)),this.dragAndDropService.addDropTarget(this.rowDragFeature)},i.prototype.getRowDragFeature=function(){return this.rowDragFeature},i.prototype.setFloatingHeights=function(){var t=this.pinnedRowModel,s=t.getPinnedTopTotalHeight();s&&(s+=1);var p=t.getPinnedBottomTotalHeight();p&&(p+=1),this.comp.setTopHeight(s),this.comp.setBottomHeight(p),this.comp.setTopDisplay(s?"inherit":"none"),this.comp.setBottomDisplay(p?"inherit":"none")},i.prototype.sizeColumnsToFit=function(t){var s=this,f=this.isVerticalScrollShowing()?this.gridOptionsWrapper.getScrollbarWidth():0,b=Rs(this.eBodyViewport)-f;b>0?this.columnModel.sizeColumnsToFit(b,"sizeColumnsToFit"):void 0===t?window.setTimeout(function(){s.sizeColumnsToFit(100)},0):100===t?window.setTimeout(function(){s.sizeColumnsToFit(500)},100):500===t?window.setTimeout(function(){s.sizeColumnsToFit(-1)},500):console.warn("AG Grid: tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?")},i.prototype.addScrollEventListener=function(t){this.eBodyViewport.addEventListener("scroll",t)},i.prototype.removeScrollEventListener=function(t){this.eBodyViewport.removeEventListener("scroll",t)},i.prototype.requestAngularApply=function(){var t=this;this.angularApplyTriggered||(this.angularApplyTriggered=!0,window.setTimeout(function(){t.angularApplyTriggered=!1,t.$scope.$apply()},0))},i.prototype.addAngularApplyCheck=function(){var t=this;this.addManagedListener(this.eventService,re.EVENT_DISPLAYED_COLUMNS_CHANGED,function(){return t.requestAngularApply()}),this.addManagedListener(this.eventService,re.EVENT_VIRTUAL_COLUMNS_CHANGED,function(){return t.requestAngularApply()})},to([$("rowContainerHeightService")],i.prototype,"rowContainerHeightService",void 0),to([$("ctrlsService")],i.prototype,"ctrlsService",void 0),to([$("columnModel")],i.prototype,"columnModel",void 0),to([$("scrollVisibleService")],i.prototype,"scrollVisibleService",void 0),to([tn("contextMenuFactory")],i.prototype,"contextMenuFactory",void 0),to([$("headerNavigationService")],i.prototype,"headerNavigationService",void 0),to([$("paginationProxy")],i.prototype,"paginationProxy",void 0),to([$("dragAndDropService")],i.prototype,"dragAndDropService",void 0),to([$("pinnedRowModel")],i.prototype,"pinnedRowModel",void 0),to([$("rowRenderer")],i.prototype,"rowRenderer",void 0),to([$("popupService")],i.prototype,"popupService",void 0),to([$("mouseEventService")],i.prototype,"mouseEventService",void 0),to([$("$scope")],i.prototype,"$scope",void 0),i}(Ge),$f=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),vi=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},YC='<div class="ag-root ag-unselectable" role="grid">\n        <ag-header-root ref="gridHeader"></ag-header-root>\n        <div class="ag-floating-top" ref="eTop" role="presentation">\n            <ag-row-container ref="topLeftContainer" name="'+B.RowContainerName.TOP_LEFT+'"></ag-row-container>\n            <ag-row-container ref="topCenterContainer" name="'+B.RowContainerName.TOP_CENTER+'"></ag-row-container>\n            <ag-row-container ref="topRightContainer" name="'+B.RowContainerName.TOP_RIGHT+'"></ag-row-container>\n            <ag-row-container ref="topFullWidthContainer" name="'+B.RowContainerName.TOP_FULL_WIDTH+'"></ag-row-container>\n        </div>\n        <div class="ag-body-viewport" ref="eBodyViewport" role="presentation">\n            <ag-row-container ref="leftContainer" name="'+B.RowContainerName.LEFT+'"></ag-row-container>\n            <ag-row-container ref="centerContainer" name="'+B.RowContainerName.CENTER+'"></ag-row-container>\n            <ag-row-container ref="rightContainer" name="'+B.RowContainerName.RIGHT+'"></ag-row-container>\n            <ag-row-container ref="fullWidthContainer" name="'+B.RowContainerName.FULL_WIDTH+'"></ag-row-container>\n        </div>\n        <div class="ag-floating-bottom" ref="eBottom" role="presentation">\n            <ag-row-container ref="bottomLeftContainer" name="'+B.RowContainerName.BOTTOM_LEFT+'"></ag-row-container>\n            <ag-row-container ref="bottomCenterContainer" name="'+B.RowContainerName.BOTTOM_CENTER+'"></ag-row-container>\n            <ag-row-container ref="bottomRightContainer" name="'+B.RowContainerName.BOTTOM_RIGHT+'"></ag-row-container>\n            <ag-row-container ref="bottomFullWidthContainer" name="'+B.RowContainerName.BOTTOM_FULL_WIDTH+'"></ag-row-container>\n        </div>\n        <ag-fake-horizontal-scroll></ag-fake-horizontal-scroll>\n        <ag-overlay-wrapper></ag-overlay-wrapper>\n    </div>',qC=function(g){function i(){return g.call(this,YC)||this}return $f(i,g),i.prototype.init=function(){var t=this,s=function(f,_){var b=f+"px";_.style.minHeight=b,_.style.height=b},p={setRowAnimationCssOnBodyViewport:function(f,_){return t.setRowAnimationCssOnBodyViewport(f,_)},setColumnCount:function(f){return Uw(t.getGui(),f)},setRowCount:function(f){return jw(t.getGui(),f)},setTopHeight:function(f){return s(f,t.eTop)},setBottomHeight:function(f){return s(f,t.eBottom)},setTopDisplay:function(f){return t.eTop.style.display=f},setBottomDisplay:function(f){return t.eBottom.style.display=f},setColumnMovingCss:function(f,_){return t.addOrRemoveCssClass(jv,_)},updateLayoutClasses:function(f,_){var b=t.eBodyViewport.classList;b.toggle(B.LayoutCssClasses.AUTO_HEIGHT,_.autoHeight),b.toggle(B.LayoutCssClasses.NORMAL,_.normal),b.toggle(B.LayoutCssClasses.PRINT,_.print),t.addOrRemoveCssClass(B.LayoutCssClasses.AUTO_HEIGHT,_.autoHeight),t.addOrRemoveCssClass(B.LayoutCssClasses.NORMAL,_.normal),t.addOrRemoveCssClass(B.LayoutCssClasses.PRINT,_.print)},setAlwaysVerticalScrollClass:function(f,_){return t.eBodyViewport.classList.toggle(Be,_)},registerBodyViewportResizeListener:function(f){var _=t.resizeObserverService.observeResize(t.eBodyViewport,f);t.addDestroyFunc(function(){return _()})},setPinnedTopBottomOverflowY:function(f){return t.eTop.style.overflowY=t.eBottom.style.overflowY=f},setCellSelectableCss:function(f,_){[t.eTop,t.eBodyViewport,t.eBottom].forEach(function(b){return b.classList.toggle(Ht,_)})}};this.ctrl=this.createManagedBean(new Gl),this.ctrl.setComp(p,this.getGui(),this.eBodyViewport,this.eTop,this.eBottom),(this.rangeService||this.gridOptionsWrapper.isRowSelectionMulti())&&Ww(this.getGui(),!0)},i.prototype.setRowAnimationCssOnBodyViewport=function(t,s){var p=this.eBodyViewport.classList;p.toggle(B.RowAnimationCssClasses.ANIMATION_ON,s),p.toggle(B.RowAnimationCssClasses.ANIMATION_OFF,!s)},i.prototype.getFloatingTopBottom=function(){return[this.eTop,this.eBottom]},vi([$("resizeObserverService")],i.prototype,"resizeObserverService",void 0),vi([tn("rangeService")],i.prototype,"rangeService",void 0),vi([Ve("eBodyViewport")],i.prototype,"eBodyViewport",void 0),vi([Ve("eTop")],i.prototype,"eTop",void 0),vi([Ve("eBottom")],i.prototype,"eBottom",void 0),vi([Ve("gridHeader")],i.prototype,"headerRootComp",void 0),vi([$e],i.prototype,"init",null),i}(Ut),Uv=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),Jn=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},zv=function(g,i){return function(t,s){i(t,s,g)}},ud=function(g){function i(){var t=null!==g&&g.apply(this,arguments)||this;return t.expressionToFunctionCache={},t}return Uv(i,g),i.prototype.setBeans=function(t){this.logger=t.create("ExpressionService")},i.prototype.evaluate=function(t,s){return"function"==typeof t?t(s):"string"==typeof t?this.evaluateExpression(t,s):void console.error("AG Grid: value should be either a string or a function",t)},i.prototype.evaluateExpression=function(t,s){try{return this.createExpressionFunction(t)(s.value,s.context,s.oldValue,s.newValue,s.value,s.node,s.data,s.colDef,s.rowIndex,s.api,s.columnApi,s.getValue,s.column,s.columnGroup)}catch(_){return console.log("Processing of the expression failed"),console.log("Expression = "+t),console.log("Params =",s),console.log("Exception = "+_),null}},i.prototype.createExpressionFunction=function(t){if(this.expressionToFunctionCache[t])return this.expressionToFunctionCache[t];var s=this.createFunctionBody(t),p=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, columnApi, getValue, column, columnGroup",s);return this.expressionToFunctionCache[t]=p,p},i.prototype.createFunctionBody=function(t){return t.indexOf("return")>=0?t:"return "+t+";"},Jn([zv(0,bi("loggerFactory"))],i.prototype,"setBeans",null),Jn([tt("expressionService")],i)}(Ge),$v=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),cs=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},Kf=function(g){function i(){var t=null!==g&&g.apply(this,arguments)||this;return t.templateCache={},t.waitingCallbacks={},t}return $v(i,g),i.prototype.getTemplate=function(t,s){var p=this.templateCache[t];if(p)return p;var f=this.waitingCallbacks[t],_=this;if(!f){this.waitingCallbacks[t]=f=[];var b=new XMLHttpRequest;b.onload=function(){_.handleHttpResult(this,t)},b.open("GET",t),b.send()}return s&&f.push(s),null},i.prototype.handleHttpResult=function(t,s){if(200===t.status&&null!==t.response){this.templateCache[s]=t.response||t.responseText;for(var p=this.waitingCallbacks[s],f=0;f<p.length;f++)(0,p[f])();if(this.$scope){var b=this;window.setTimeout(function(){b.$scope.$apply()},0)}}else console.warn("AG Grid: Unable to get template error "+t.status+" - "+s)},cs([$("$scope")],i.prototype,"$scope",void 0),cs([tt("templateService")],i)}(Ge),GS=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),br=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},Yf=function(g,i){var t="function"==typeof Symbol&&g[Symbol.iterator];if(!t)return g;var p,_,s=t.call(g),f=[];try{for(;(void 0===i||i-- >0)&&!(p=s.next()).done;)f.push(p.value)}catch(b){_={error:b}}finally{try{p&&!p.done&&(t=s.return)&&t.call(s)}finally{if(_)throw _.error}}return f},Vl=function(g){function i(){return null!==g&&g.apply(this,arguments)||this}var t;return GS(i,g),t=i,i.addKeyboardModeEvents=function(s,p){var f=t.instancesMonitored.get(s);f&&f.length>0?-1===f.indexOf(p)&&f.push(p):(t.instancesMonitored.set(s,[p]),s.addEventListener("keydown",t.toggleKeyboardMode),s.addEventListener("mousedown",t.toggleKeyboardMode))},i.removeKeyboardModeEvents=function(s,p){var f=t.instancesMonitored.get(s),_=[];f&&f.length&&(_=function(){for(var g=[],i=0;i<arguments.length;i++)g=g.concat(Yf(arguments[i]));return g}(f).filter(function(b){return b!==p}),t.instancesMonitored.set(s,_)),0===_.length&&(s.removeEventListener("keydown",t.toggleKeyboardMode),s.removeEventListener("mousedown",t.toggleKeyboardMode))},i.toggleKeyboardMode=function(s){var p=t.keyboardModeActive,f="keydown"===s.type;if(!(f&&(s.ctrlKey||s.metaKey||s.altKey)||p&&f||!p&&!f)){t.keyboardModeActive=f;var _=s.target.ownerDocument;if(_){var b=t.instancesMonitored.get(_);b&&b.forEach(function(A){A.dispatchEvent({type:f?re.EVENT_KEYBOARD_FOCUS:re.EVENT_MOUSE_FOCUS})})}}},i.prototype.init=function(){var s=this,p=this.clearFocusedCell.bind(this);this.addManagedListener(this.eventService,re.EVENT_COLUMN_PIVOT_MODE_CHANGED,p),this.addManagedListener(this.eventService,re.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverythingChanged.bind(this)),this.addManagedListener(this.eventService,re.EVENT_COLUMN_GROUP_OPENED,p),this.addManagedListener(this.eventService,re.EVENT_COLUMN_ROW_GROUP_CHANGED,p),this.ctrlsService.whenReady(function(f){s.gridCtrl=f.gridCtrl;var _=s.gridOptionsWrapper.getDocument();t.addKeyboardModeEvents(_,s.gridCtrl),s.addDestroyFunc(function(){return s.unregisterGridCompController(s.gridCtrl)})})},i.prototype.unregisterGridCompController=function(s){var p=this.gridOptionsWrapper.getDocument();t.removeKeyboardModeEvents(p,s)},i.prototype.onColumnEverythingChanged=function(){if(this.focusedCellPosition){var s=this.focusedCellPosition.column,p=this.columnModel.getGridColumn(s.getId());s!==p&&this.clearFocusedCell()}},i.prototype.isKeyboardMode=function(){return t.keyboardModeActive},i.prototype.getFocusCellToUseAfterRefresh=function(){var s=this.gridOptionsWrapper.getDocument();return this.gridOptionsWrapper.isSuppressFocusAfterRefresh()||!this.focusedCellPosition||this.isDomDataMissingInHierarchy(s.activeElement,ss.DOM_DATA_KEY_ROW_CTRL)?null:this.focusedCellPosition},i.prototype.getFocusHeaderToUseAfterRefresh=function(){var s=this.gridOptionsWrapper.getDocument();return this.gridOptionsWrapper.isSuppressFocusAfterRefresh()||!this.focusedHeaderPosition||this.isDomDataMissingInHierarchy(s.activeElement,Ma.DOM_DATA_KEY_HEADER_CTRL)?null:this.focusedHeaderPosition},i.prototype.isDomDataMissingInHierarchy=function(s,p){for(var f=s;f;){if(this.gridOptionsWrapper.getDomData(f,p))return!1;f=f.parentNode}return!0},i.prototype.clearFocusedCell=function(){this.focusedCellPosition=null,this.onCellFocused(!1)},i.prototype.getFocusedCell=function(){return this.focusedCellPosition},i.prototype.setFocusedCell=function(s,p,f,_){void 0===_&&(_=!1);var b=this.columnModel.getGridColumn(p);b?(this.focusedCellPosition=b?{rowIndex:s,rowPinned:jr(f),column:b}:null,this.onCellFocused(_)):this.focusedCellPosition=null},i.prototype.isCellFocused=function(s){return null!=this.focusedCellPosition&&this.focusedCellPosition.column===s.column&&this.isRowFocused(s.rowIndex,s.rowPinned)},i.prototype.isRowNodeFocused=function(s){return this.isRowFocused(s.rowIndex,s.rowPinned)},i.prototype.isHeaderWrapperFocused=function(s){if(null==this.focusedHeaderPosition)return!1;var p=s.getColumnGroupChild(),f=s.getRowIndex(),_=s.getPinned(),b=this.focusedHeaderPosition,A=b.column;return p===A&&f===b.headerRowIndex&&_==A.getPinned()},i.prototype.clearFocusedHeader=function(){this.focusedHeaderPosition=null},i.prototype.getFocusedHeader=function(){return this.focusedHeaderPosition},i.prototype.setFocusedHeader=function(s,p){this.focusedHeaderPosition={headerRowIndex:s,column:p}},i.prototype.focusHeaderPosition=function(s){var p=s.direction,f=s.fromTab,b=s.event,A=s.headerPosition;if(s.allowUserOverride){var U,M=this.gridOptionsWrapper,L=this.getFocusedHeader(),G=this.headerNavigationService.getHeaderRowCount();f?(U=M.getTabToNextHeaderFunc())&&(A=U({backwards:"Before"===p,previousHeaderPosition:L,nextHeaderPosition:A,headerRowCount:G,api:M.getApi(),columnApi:M.getColumnApi()})):(U=M.getNavigateToNextHeaderFunc())&&b&&(A=U({key:b.key,previousHeaderPosition:L,nextHeaderPosition:A,headerRowCount:G,event:b,api:M.getApi(),columnApi:M.getColumnApi()}))}return!!A&&(-1===A.headerRowIndex?this.focusGridView(A.column):(this.headerNavigationService.scrollToColumn(A.column,p),this.ctrlsService.getHeaderRowContainerCtrl(A.column.getPinned()).focusHeader(A.headerRowIndex,A.column,b)))},i.prototype.focusFirstHeader=function(){var s=this.columnModel.getAllDisplayedColumns()[0];return!!s&&(s.getParent()&&(s=this.columnModel.getColumnGroupAtLevel(s,0)),this.focusHeaderPosition({headerPosition:{headerRowIndex:0,column:s}}))},i.prototype.focusLastHeader=function(s){var p=this.headerNavigationService.getHeaderRowCount()-1,f=Rn(this.columnModel.getAllDisplayedColumns());return this.focusHeaderPosition({headerPosition:{headerRowIndex:p,column:f},event:s})},i.prototype.isAnyCellFocused=function(){return!!this.focusedCellPosition},i.prototype.isRowFocused=function(s,p){return null!=this.focusedCellPosition&&this.focusedCellPosition.rowIndex===s&&this.focusedCellPosition.rowPinned===jr(p)},i.prototype.findFocusableElements=function(s,p,f){void 0===f&&(f=!1);var b=me.FOCUSABLE_EXCLUDE;p&&(b+=", "+p),f&&(b+=', [tabindex="-1"]');var U,A=Array.prototype.slice.apply(s.querySelectorAll(me.FOCUSABLE_SELECTOR)),M=Array.prototype.slice.apply(s.querySelectorAll(b));return M.length?(U=M,A.filter(function(te){return-1===U.indexOf(te)})):A},i.prototype.focusInto=function(s,p,f){void 0===p&&(p=!1),void 0===f&&(f=!1);var _=this.findFocusableElements(s,null,f),b=p?Rn(_):_[0];return!!b&&(b.focus(),!0)},i.prototype.findNextFocusableElement=function(s,p,f){void 0===s&&(s=this.eGridDiv);var _=this.findFocusableElements(s,p?':not([tabindex="-1"])':null),A=this.gridOptionsWrapper.getDocument().activeElement,L=(p?_.findIndex(function(G){return G.contains(A)}):_.indexOf(A))+(f?-1:1);return L<0||L>=_.length?null:_[L]},i.prototype.isFocusUnderManagedComponent=function(s){var p=this.gridOptionsWrapper.getDocument(),f=s.querySelectorAll("."+ks.FOCUS_MANAGED_CLASS);if(!f.length)return!1;for(var _=0;_<f.length;_++)if(f[_].contains(p.activeElement))return!0;return!1},i.prototype.findTabbableParent=function(s,p){void 0===p&&(p=5);for(var f=0;s&&null===$h(s)&&++f<=p;)s=s.parentElement;return null===$h(s)?null:s},i.prototype.onCellFocused=function(s){var p={type:re.EVENT_CELL_FOCUSED,forceBrowserFocus:s,rowIndex:null,column:null,floating:null,api:this.gridApi,columnApi:this.columnApi,rowPinned:null,isFullWidthCell:!1};if(this.focusedCellPosition){var f=p.rowIndex=this.focusedCellPosition.rowIndex,_=p.rowPinned=this.focusedCellPosition.rowPinned;p.column=this.focusedCellPosition.column;var b=this.rowRenderer.getRowByPosition({rowIndex:f,rowPinned:_});b&&(p.isFullWidthCell=b.isFullWidth())}this.eventService.dispatchEvent(p)},i.prototype.focusGridView=function(s,p){if(this.gridOptionsWrapper.isSuppressCellFocus())return p?this.focusLastHeader():this.focusNextGridCoreContainer(!1);var f=p?this.rowPositionUtils.getLastRow():this.rowPositionUtils.getFirstRow();if(!f)return!1;var _=f.rowIndex,b=f.rowPinned,A=this.getFocusedHeader();return!s&&A&&(s=A.column),!(null==_||!s)&&(this.navigationService.ensureCellVisible({rowIndex:_,column:s,rowPinned:b}),this.setFocusedCell(_,s,jr(b),!0),this.rangeService&&this.rangeService.setRangeToCell({rowIndex:_,rowPinned:b,column:s}),!0)},i.prototype.focusNextGridCoreContainer=function(s){return!!this.gridCtrl.focusNextInnerContainer(s)||(s||this.gridCtrl.forceFocusOutOfContainer(),!1)},i.AG_KEYBOARD_FOCUS="ag-keyboard-focus",i.keyboardModeActive=!1,i.instancesMonitored=new Map,br([$("eGridDiv")],i.prototype,"eGridDiv",void 0),br([$("columnModel")],i.prototype,"columnModel",void 0),br([$("headerNavigationService")],i.prototype,"headerNavigationService",void 0),br([$("columnApi")],i.prototype,"columnApi",void 0),br([$("gridApi")],i.prototype,"gridApi",void 0),br([$("rowRenderer")],i.prototype,"rowRenderer",void 0),br([$("rowPositionUtils")],i.prototype,"rowPositionUtils",void 0),br([tn("rangeService")],i.prototype,"rangeService",void 0),br([$("navigationService")],i.prototype,"navigationService",void 0),br([$("ctrlsService")],i.prototype,"ctrlsService",void 0),br([$e],i.prototype,"init",null),t=br([tt("focusService")],i)}(Ge),qf=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),Xf=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},Io=(()=>(function(g){g[g.vertical=0]="vertical",g[g.horizontal=1]="horizontal"}(Io||(Io={})),Io))(),na=0,XC=function(g){function i(){var t=null!==g&&g.apply(this,arguments)||this;return t.popupList=[],t}return qf(i,g),i.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady(function(s){t.gridCtrl=s.gridCtrl,t.addManagedListener(t.gridCtrl,re.EVENT_KEYBOARD_FOCUS,function(){t.popupList.forEach(function(p){return p.element.classList.add(Vl.AG_KEYBOARD_FOCUS)})}),t.addManagedListener(t.gridCtrl,re.EVENT_MOUSE_FOCUS,function(){t.popupList.forEach(function(p){return p.element.classList.remove(Vl.AG_KEYBOARD_FOCUS)})})})},i.prototype.getPopupParent=function(){return this.gridOptionsWrapper.getPopupParent()||this.gridCtrl.getGui()},i.prototype.positionPopupForMenu=function(t){var s=t.eventSource.getBoundingClientRect(),p=this.getParentRect(),f=this.keepXYWithinBounds(t.ePopup,s.top-p.top,Io.vertical),_=t.ePopup.clientWidth>0?t.ePopup.clientWidth:200;t.ePopup.style.minWidth=_+"px";var M,A=p.right-p.left-_;function L(){return s.right-p.left-2}function G(){return s.left-p.left-_}this.gridOptionsWrapper.isEnableRtl()?((M=G())<0&&(M=L()),M>A&&(M=0)):((M=L())>A&&(M=G()),M<0&&(M=0)),t.ePopup.style.left=M+"px",t.ePopup.style.top=f+"px"},i.prototype.positionPopupUnderMouseEvent=function(t){var s=t.ePopup,p=t.nudgeX,f=t.nudgeY,_=this.calculatePointerAlign(t.mouseEvent);this.positionPopup({ePopup:s,x:_.x,y:_.y,nudgeX:p,nudgeY:f,keepWithinBounds:!0}),this.callPostProcessPopup(t.type,t.ePopup,null,t.mouseEvent,t.column,t.rowNode)},i.prototype.calculatePointerAlign=function(t){var s=this.getParentRect();return{x:t.clientX-s.left,y:t.clientY-s.top}},i.prototype.positionPopupUnderComponent=function(t){var s=t.eventSource.getBoundingClientRect(),p=t.alignSide||"left",f=this.getParentRect(),_=s.left-f.left;"right"===p&&(_-=t.ePopup.offsetWidth-s.width),this.positionPopup({ePopup:t.ePopup,nudgeX:t.nudgeX,nudgeY:t.nudgeY,x:_,y:s.top-f.top+s.height,keepWithinBounds:t.keepWithinBounds}),this.callPostProcessPopup(t.type,t.ePopup,t.eventSource,null,t.column,t.rowNode)},i.prototype.positionPopupOverComponent=function(t){var s=t.eventSource.getBoundingClientRect(),p=this.getParentRect();this.positionPopup({ePopup:t.ePopup,nudgeX:t.nudgeX,nudgeY:t.nudgeY,x:s.left-p.left,y:s.top-p.top,keepWithinBounds:t.keepWithinBounds}),this.callPostProcessPopup(t.type,t.ePopup,t.eventSource,null,t.column,t.rowNode)},i.prototype.callPostProcessPopup=function(t,s,p,f,_,b){var A=this.gridOptionsWrapper.getPostProcessPopupFunc();A&&A({column:_,rowNode:b,ePopup:s,type:t,eventSource:p,mouseEvent:f})},i.prototype.positionPopup=function(t){var s=t.ePopup,f=t.nudgeX,_=t.nudgeY,b=t.x,A=t.y;f&&(b+=f),_&&(A+=_),t.keepWithinBounds&&(b=this.keepXYWithinBounds(s,b,Io.horizontal),A=this.keepXYWithinBounds(s,A,Io.vertical)),s.style.left=b+"px",s.style.top=A+"px"},i.prototype.getActivePopups=function(){return this.popupList.map(function(t){return t.element})},i.prototype.getPopupList=function(){return this.popupList},i.prototype.getParentRect=function(){var t=this.gridOptionsWrapper.getDocument(),s=this.getPopupParent();s===t.body&&(s=t.documentElement);var p=getComputedStyle(s),f=s.getBoundingClientRect();return{top:f.top+parseFloat(p.borderTopWidth)||0,left:f.left+parseFloat(p.borderLeftWidth)||0,right:f.right+parseFloat(p.borderRightWidth)||0,bottom:f.bottom+parseFloat(p.borderBottomWidth)||0}},i.prototype.keepXYWithinBounds=function(t,s,p){var f=p===Io.vertical,_=f?"clientHeight":"clientWidth",b=f?"top":"left",A=f?"offsetHeight":"offsetWidth",M=f?"scrollTop":"scrollLeft",L=this.gridOptionsWrapper.getDocument(),G=L.documentElement,U=this.getPopupParent(),te=U.getBoundingClientRect(),le=L.documentElement.getBoundingClientRect(),ge=U===L.body,ve=t[A],Re=ge?(f?Tt:Ac)(G)+G[M]:U[_];ge&&(Re-=Math.abs(le[b]-te[b]));var Fe=Re-ve;return Math.min(Math.max(s,0),Math.abs(Fe))},i.prototype.keepPopupPositionedRelativeTo=function(t){var s=this,p=this.getPopupParent(),f=p.getBoundingClientRect(),_=t.element.getBoundingClientRect(),b=f.top-_.top,A=f.left-_.left,M=b,L=A,G=t.ePopup.style.top,U=parseInt(G.substring(0,G.length-1),10),te=t.ePopup.style.left,le=parseInt(te.substring(0,te.length-1),10);return new go(function(ge){s.getFrameworkOverrides().setInterval(function(){var ve=p.getBoundingClientRect(),we=t.element.getBoundingClientRect();if(0==we.top&&0==we.left&&0==we.height&&0==we.width)t.hidePopup();else{var Fe=ve.top-we.top;if(Fe!=M){var Ye=s.keepXYWithinBounds(t.ePopup,U+b-Fe,Io.vertical);t.ePopup.style.top=Ye+"px"}M=Fe;var dt=ve.left-we.left;if(dt!=L){var Cn=s.keepXYWithinBounds(t.ePopup,le+A-dt,Io.horizontal);t.ePopup.style.left=Cn+"px"}L=dt}},200).then(function(ve){ge(function(){null!=ve&&window.clearInterval(ve)})})})},i.prototype.addPopup=function(t){var s=this,p=t.modal,f=t.eChild,_=t.closeOnEsc,b=t.closedCallback,A=t.click,M=t.alwaysOnTop,L=t.afterGuiAttached,G=t.positionCallback,U=t.anchorToElement,te=t.ariaLabel,le=this.gridOptionsWrapper.getDocument(),ge=new go(function(nn){return nn(function(){})});if(!le)return console.warn("ag-grid: could not find the document, document is empty"),{hideFunc:function(){},stopAnchoringPromise:ge};var ve=this.popupList.findIndex(function(nn){return nn.element===f});if(-1!==ve){var we=this.popupList[ve];return{hideFunc:we.hideFunc,stopAnchoringPromise:we.stopAnchoringPromise}}var Re=this.getPopupParent();null==f.style.top&&(f.style.top="0px"),null==f.style.left&&(f.style.left="0px");var Fe=document.createElement("div"),Ye=this.environment.getTheme().theme;Ye&&Fe.classList.add(Ye),Fe.classList.add("ag-popup"),f.classList.add(this.gridOptionsWrapper.isEnableRtl()?"ag-rtl":"ag-ltr","ag-popup-child"),f.hasAttribute("role")||Qn(f,"dialog"),bu(f,te),this.focusService.isKeyboardMode()&&f.classList.add(Vl.AG_KEYBOARD_FOCUS),Fe.appendChild(f),Re.appendChild(Fe),M?this.setAlwaysOnTop(Fe,!0):this.bringPopupToFront(Fe);var dt=!1,Cn=function(nn){Fe.contains(le.activeElement)&&nn.key===We.ESCAPE&&sn({keyboardEvent:nn})},$t=function(nn){return sn({mouseEvent:nn})},It=function(nn){return sn({touchEvent:nn})},sn=function(nn){void 0===nn&&(nn={});var ui=nn.mouseEvent,Rr=nn.touchEvent,ko=nn.keyboardEvent;s.isEventFromCurrentPopup({mouseEvent:ui,touchEvent:Rr},f)||s.isEventSameChainAsOriginalEvent({originalMouseEvent:A,mouseEvent:ui,touchEvent:Rr})||dt||(dt=!0,Re.removeChild(Fe),le.removeEventListener("keydown",Cn),le.removeEventListener("mousedown",$t),le.removeEventListener("touchstart",It),le.removeEventListener("contextmenu",$t),s.eventService.removeEventListener(re.EVENT_DRAG_STARTED,$t),b&&b(ui||Rr||ko),s.popupList=s.popupList.filter(function(Go){return Go.element!==f}),ge&&ge.then(function(Go){return Go&&Go()}))};return L&&L({hidePopup:sn}),window.setTimeout(function(){_&&le.addEventListener("keydown",Cn),p&&(le.addEventListener("mousedown",$t),s.eventService.addEventListener(re.EVENT_DRAG_STARTED,$t),le.addEventListener("touchstart",It),le.addEventListener("contextmenu",$t))},0),G&&G(),U&&(ge=this.keepPopupPositionedRelativeTo({element:U,ePopup:f,hidePopup:sn})),this.popupList.push({element:f,wrapper:Fe,hideFunc:sn,stopAnchoringPromise:ge,instanceId:na++,isAnchored:!!U}),{hideFunc:sn,stopAnchoringPromise:ge}},i.prototype.hasAnchoredPopup=function(){return this.popupList.some(function(t){return t.isAnchored})},i.prototype.isEventFromCurrentPopup=function(t,s){var _=t.mouseEvent||t.touchEvent;if(!_)return!1;var b=this.popupList.findIndex(function(L){return L.element===s});if(-1===b)return!1;for(var A=b;A<this.popupList.length;A++)if(ep(this.popupList[A].element,_))return!0;return this.isElementWithinCustomPopup(_.target)},i.prototype.isElementWithinCustomPopup=function(t){for(var s=this.gridOptionsWrapper.getDocument();t&&t!==s.body;){if(t.classList.contains("ag-custom-component-popup")||null===t.parentElement)return!0;t=t.parentElement}return!1},i.prototype.isEventSameChainAsOriginalEvent=function(t){var s=t.originalMouseEvent,p=t.mouseEvent,f=t.touchEvent,_=null;if(p?_=p:f&&(_=f.touches[0]),_&&s){var A=p?p.screenY:0,M=Math.abs(s.screenX-(p?p.screenX:0))<5,L=Math.abs(s.screenY-A)<5;if(M&&L)return!0}return!1},i.prototype.getWrapper=function(t){for(;!t.classList.contains("ag-popup")&&t.parentElement;)t=t.parentElement;return t.classList.contains("ag-popup")?t:null},i.prototype.setAlwaysOnTop=function(t,s){var p=this.getWrapper(t);!p||(p.classList.toggle("ag-always-on-top",!!s),s&&this.bringPopupToFront(p))},i.prototype.bringPopupToFront=function(t){var s=this.getPopupParent(),p=Array.prototype.slice.call(s.querySelectorAll(".ag-popup")),f=p.length,_=Array.prototype.slice.call(s.querySelectorAll(".ag-popup.ag-always-on-top")),b=_.length,A=this.getWrapper(t);if(A&&!(f<=1)&&s.contains(t)){var M=p.indexOf(A),L=A.querySelectorAll("div"),G=[];for(L.forEach(function(ge){0!==ge.scrollTop&&G.push([ge,ge.scrollTop])}),b?A.classList.contains("ag-always-on-top")?M!==f-1&&Rn(_).insertAdjacentElement("afterend",A):M!==f-b-1&&_[0].insertAdjacentElement("beforebegin",A):M!==f-1&&Rn(p).insertAdjacentElement("afterend",A);G.length;){var te=G.pop();te[0].scrollTop=te[1]}var le={type:"popupToFront",api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),eWrapper:A};this.eventService.dispatchEvent(le)}},Xf([$("environment")],i.prototype,"environment",void 0),Xf([$("focusService")],i.prototype,"focusService",void 0),Xf([$("ctrlsService")],i.prototype,"ctrlsService",void 0),Xf([$e],i.prototype,"postConstruct",null),Xf([tt("popupService")],i)}(Ge),Nr=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),Qf=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},si=function(g,i){return function(t,s){i(t,s,g)}},QC=function(g){function i(){return null!==g&&g.apply(this,arguments)||this}return Nr(i,g),i.prototype.setBeans=function(t){this.logging=t.isDebug()},i.prototype.create=function(t){return new Fa(t,this.isLogging.bind(this))},i.prototype.isLogging=function(){return this.logging},Qf([si(0,bi("gridOptionsWrapper"))],i.prototype,"setBeans",null),Qf([tt("loggerFactory")],i)}(Ge),Fa=function(){function g(i,t){this.name=i,this.isLoggingFunc=t}return g.prototype.isLogging=function(){return this.isLoggingFunc()},g.prototype.log=function(i){this.isLoggingFunc()&&console.log("AG Grid."+this.name+": "+i)},g}(),Yv=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),cd=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},ZC=function(g){function i(){return null!==g&&g.apply(this,arguments)||this}return Yv(i,g),i.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady(function(s){t.centerRowContainerCon=s.centerRowContainerCtrl})},i.prototype.getPreferredWidthForColumn=function(t,s){var p=this.getHeaderCellForColumn(t);if(!p)return-1;var f=this.rowRenderer.getAllCellsForColumn(t);return s||f.push(p),this.addElementsToContainerAndGetWidth(f)},i.prototype.getPreferredWidthForColumnGroup=function(t){var s=this.getHeaderCellForColumn(t);return s?this.addElementsToContainerAndGetWidth([s]):-1},i.prototype.addElementsToContainerAndGetWidth=function(t){var s=this,p=document.createElement("span");p.style.position="fixed";var f=this.centerRowContainerCon.getContainerElement();f.appendChild(p),t.forEach(function(A){return s.cloneItemIntoDummy(A,p)});var _=p.offsetWidth;return f.removeChild(p),_+this.gridOptionsWrapper.getAutoSizePadding()},i.prototype.getHeaderCellForColumn=function(t){var s=null;return this.ctrlsService.getHeaderRowContainerCtrls().forEach(function(p){var f=p.getHtmlElementForColumnHeader(t);null!=f&&(s=f)}),s},i.prototype.cloneItemIntoDummy=function(t,s){var p=t.cloneNode(!0);p.style.width="",p.style.position="static",p.style.left="";var f=document.createElement("div"),_=f.classList;["ag-header-cell","ag-header-group-cell"].some(function(U){return p.classList.contains(U)})?(_.add("ag-header","ag-header-row"),f.style.position="static"):_.add("ag-row");for(var A=t.parentElement;A;){if(["ag-header-row","ag-row"].some(function(U){return A.classList.contains(U)})){for(var L=0;L<A.classList.length;L++){var G=A.classList[L];"ag-row-position-absolute"!=G&&_.add(G)}break}A=A.parentElement}f.appendChild(p),s.appendChild(f)},cd([$("rowRenderer")],i.prototype,"rowRenderer",void 0),cd([$("ctrlsService")],i.prototype,"ctrlsService",void 0),cd([$("rowCssClassCalculator")],i.prototype,"rowCssClassCalculator",void 0),cd([$e],i.prototype,"postConstruct",null),cd([tt("autoWidthCalculator")],i)}(Ge),qv=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),Zf=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},VS=function(g){function i(){return null!==g&&g.apply(this,arguments)||this}return qv(i,g),i.prototype.addResizeBar=function(t){var s=this,p={dragStartPixels:t.dragStartPixels||0,eElement:t.eResizeBar,onDragStart:this.onDragStart.bind(this,t),onDragStop:this.onDragStop.bind(this,t),onDragging:this.onDragging.bind(this,t)};return this.dragService.addDragSource(p,!0),function(){return s.dragService.removeDragSource(p)}},i.prototype.onDragStart=function(t,s){this.dragStartX=s.clientX,this.setResizeIcons();var p=s instanceof MouseEvent&&!0===s.shiftKey;t.onResizeStart(p)},i.prototype.setResizeIcons=function(){var t=this.ctrlsService.getGridCtrl();t.setResizeCursor(!0),t.disableUserSelect(!0)},i.prototype.onDragStop=function(t,s){t.onResizeEnd(this.resizeAmount),this.resetIcons()},i.prototype.resetIcons=function(){var t=this.ctrlsService.getGridCtrl();t.setResizeCursor(!1),t.disableUserSelect(!1)},i.prototype.onDragging=function(t,s){this.resizeAmount=s.clientX-this.dragStartX,t.onResizing(this.resizeAmount)},Zf([$("dragService")],i.prototype,"dragService",void 0),Zf([$("ctrlsService")],i.prototype,"ctrlsService",void 0),Zf([tt("horizontalResizeService")],i)}(Ge),BS=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),Bl=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},HS=function(g){function i(){return null!==g&&g.apply(this,arguments)||this}return BS(i,g),i.prototype.postConstruct=function(){this.ctrlsService.registerGridCtrl(this)},i.prototype.setComp=function(t,s,p){var f=this;this.view=t,this.eGridHostDiv=s,this.eGui=p,this.mouseEventService.stampTopLevelGridCompWithGridInstance(s),this.createManagedBean(new jf(this.view)),this.addRtlSupport(),this.addManagedListener(this,re.EVENT_KEYBOARD_FOCUS,function(){f.view.addOrRemoveKeyboardFocusClass(!0)}),this.addManagedListener(this,re.EVENT_MOUSE_FOCUS,function(){f.view.addOrRemoveKeyboardFocusClass(!1)});var _=this.resizeObserverService.observeResize(this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(function(){return _()})},i.prototype.showDropZones=function(){return Vt.isRegistered(B.ModuleNames.RowGroupingModule)},i.prototype.showSideBar=function(){return Vt.isRegistered(B.ModuleNames.SideBarModule)},i.prototype.showStatusBar=function(){return Vt.isRegistered(B.ModuleNames.StatusBarModule)},i.prototype.showWatermark=function(){return Vt.isRegistered(B.ModuleNames.EnterpriseCoreModule)},i.prototype.onGridSizeChanged=function(){this.eventService.dispatchEvent({type:re.EVENT_GRID_SIZE_CHANGED,api:this.gridApi,columnApi:this.columnApi,clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight})},i.prototype.addRtlSupport=function(){var t=this.gridOptionsWrapper.isEnableRtl()?"ag-rtl":"ag-ltr";this.view.setRtlClass(t)},i.prototype.destroyGridUi=function(){this.view.destroyGridUi()},i.prototype.getGui=function(){return this.eGui},i.prototype.setResizeCursor=function(t){this.view.setCursor(t?"ew-resize":null)},i.prototype.disableUserSelect=function(t){this.view.setUserSelect(t?"none":null)},i.prototype.focusNextInnerContainer=function(t){var s=this.gridOptionsWrapper.getDocument(),p=this.view.getFocusableContainers(),_=p.findIndex(function(b){return b.contains(s.activeElement)})+(t?-1:1);return!(_<=0||_>=p.length)&&this.focusService.focusInto(p[_])},i.prototype.focusInnerElement=function(t){var s=this.view.getFocusableContainers();if(t){if(s.length>1)return this.focusService.focusInto(Rn(s),!0);var p=Rn(this.columnModel.getAllDisplayedColumns());if(this.focusService.focusGridView(p,!0))return!0}return this.focusService.focusFirstHeader()},i.prototype.forceFocusOutOfContainer=function(t){void 0===t&&(t=!1),this.view.forceFocusOutOfContainer(t)},Bl([$("columnApi")],i.prototype,"columnApi",void 0),Bl([$("gridApi")],i.prototype,"gridApi",void 0),Bl([$("focusService")],i.prototype,"focusService",void 0),Bl([$("resizeObserverService")],i.prototype,"resizeObserverService",void 0),Bl([$("columnModel")],i.prototype,"columnModel",void 0),Bl([$("ctrlsService")],i.prototype,"ctrlsService",void 0),Bl([$("mouseEventService")],i.prototype,"mouseEventService",void 0),Bl([$e],i.prototype,"postConstruct",null),i}(Ge),Ia=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),ds=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},Na=function(g){function i(t){var s=g.call(this)||this;s.skipTabGuardFocus=!1;var f=t.eTopGuard,_=t.eBottomGuard,b=t.focusInnerElement,A=t.onFocusIn,M=t.onFocusOut,L=t.shouldStopEventPropagation,G=t.onTabKeyDown,U=t.handleKeyDown,te=t.eFocusableElement;return s.comp=t.comp,s.eTopGuard=f,s.eBottomGuard=_,s.providedFocusInnerElement=b,s.eFocusableElement=te,s.providedFocusIn=A,s.providedFocusOut=M,s.providedShouldStopEventPropagation=L,s.providedOnTabKeyDown=G,s.providedHandleKeyDown=U,s}return Ia(i,g),i.prototype.postConstruct=function(){var t=this;this.createManagedBean(new ks(this.eFocusableElement,{shouldStopEventPropagation:function(){return t.shouldStopEventPropagation()},onTabKeyDown:function(s){return t.onTabKeyDown(s)},handleKeyDown:function(s){return t.handleKeyDown(s)},onFocusIn:function(s){return t.onFocusIn(s)},onFocusOut:function(s){return t.onFocusOut(s)}})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach(function(s){return t.addManagedListener(s,"focus",t.onFocus.bind(t))})},i.prototype.handleKeyDown=function(t){this.providedHandleKeyDown&&this.providedHandleKeyDown(t)},i.prototype.tabGuardsAreActive=function(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")},i.prototype.shouldStopEventPropagation=function(){return!!this.providedShouldStopEventPropagation&&this.providedShouldStopEventPropagation()},i.prototype.activateTabGuards=function(){this.comp.setTabIndex(this.getGridTabIndex())},i.prototype.deactivateTabGuards=function(){this.comp.setTabIndex()},i.prototype.onFocus=function(t){if(this.skipTabGuardFocus)this.skipTabGuardFocus=!1;else{var s=t.target===this.eBottomGuard;this.providedFocusInnerElement?this.providedFocusInnerElement(s):this.focusInnerElement(s)}},i.prototype.onFocusIn=function(t){this.providedFocusIn&&this.providedFocusIn(t)||this.deactivateTabGuards()},i.prototype.onFocusOut=function(t){this.providedFocusOut&&this.providedFocusOut(t)||this.eFocusableElement.contains(t.relatedTarget)||this.activateTabGuards()},i.prototype.onTabKeyDown=function(t){var s=this;if(this.providedOnTabKeyDown)this.providedOnTabKeyDown(t);else if(!t.defaultPrevented){var p=this.tabGuardsAreActive();p&&this.deactivateTabGuards();var f=this.getNextFocusableElement(t.shiftKey);p&&setTimeout(function(){return s.activateTabGuards()},0),f&&(f.focus(),t.preventDefault())}},i.prototype.getGridTabIndex=function(){return this.gridOptionsWrapper.getGridTabIndex()},i.prototype.focusInnerElement=function(t){void 0===t&&(t=!1);var s=this.focusService.findFocusableElements(this.eFocusableElement);this.tabGuardsAreActive()&&(s.splice(0,1),s.splice(s.length-1,1)),s.length&&s[t?s.length-1:0].focus()},i.prototype.getNextFocusableElement=function(t){return this.focusService.findNextFocusableElement(this.eFocusableElement,!1,t)},i.prototype.forceFocusOutOfContainer=function(t){void 0===t&&(t=!1);var s=t?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,s.focus()},ds([$("focusService")],i.prototype,"focusService",void 0),ds([$e],i.prototype,"postConstruct",null),i}(Ge),FD=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),ID=function(g,i){var t="function"==typeof Symbol&&g[Symbol.iterator];if(!t)return g;var p,_,s=t.call(g),f=[];try{for(;(void 0===i||i-- >0)&&!(p=s.next()).done;)f.push(p.value)}catch(b){_={error:b}}finally{try{p&&!p.done&&(t=s.return)&&t.call(s)}finally{if(_)throw _.error}}return f},Hl=function(g){function i(){return null!==g&&g.apply(this,arguments)||this}return FD(i,g),i.prototype.initialiseTabGuard=function(t){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.getFocusableElement();var s=[this.eTopGuard,this.eBottomGuard],p={setTabIndex:function(f){s.forEach(function(_){return null!=f?_.setAttribute("tabIndex",f):_.removeAttribute("tabIndex")})}};this.addTabGuards(this.eTopGuard,this.eBottomGuard),this.tabGuardCtrl=this.createManagedBean(new Na({comp:p,eTopGuard:this.eTopGuard,eBottomGuard:this.eBottomGuard,eFocusableElement:this.eFocusableElement,onFocusIn:t.onFocusIn,onFocusOut:t.onFocusOut,focusInnerElement:t.focusInnerElement,handleKeyDown:t.handleKeyDown,onTabKeyDown:t.onTabKeyDown,shouldStopEventPropagation:t.shouldStopEventPropagation}))},i.prototype.createTabGuard=function(t){var s=document.createElement("div");return s.classList.add("ag-tab-guard","ag-tab-guard-"+t),Qn(s,"presentation"),s},i.prototype.addTabGuards=function(t,s){this.eFocusableElement.insertAdjacentElement("afterbegin",t),this.eFocusableElement.insertAdjacentElement("beforeend",s)},i.prototype.removeAllChildrenExceptTabGuards=function(){var t=[this.eTopGuard,this.eBottomGuard];Bn(this.getFocusableElement()),this.addTabGuards.apply(this,function(){for(var g=[],i=0;i<arguments.length;i++)g=g.concat(ID(arguments[i]));return g}(t))},i.prototype.forceFocusOutOfContainer=function(t){void 0===t&&(t=!1),this.tabGuardCtrl.forceFocusOutOfContainer(t)},i.prototype.appendChild=function(t,s){yr(t)||(t=t.getGui());var p=this.eBottomGuard;p?p.insertAdjacentElement("beforebegin",t):g.prototype.appendChild.call(this,t,s)},i}(Ut),Xv=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),dd=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},ps=function(g){function i(t){var s=g.call(this,void 0)||this;return s.eGridDiv=t,s}return Xv(i,g),i.prototype.postConstruct=function(){var t=this;this.logger=this.loggerFactory.create("GridComp");var s={destroyGridUi:function(){return t.destroyBean(t)},setRtlClass:function(f){return t.addCssClass(f)},addOrRemoveKeyboardFocusClass:function(f){return t.addOrRemoveCssClass(Vl.AG_KEYBOARD_FOCUS,f)},forceFocusOutOfContainer:this.forceFocusOutOfContainer.bind(this),updateLayoutClasses:this.updateLayoutClasses.bind(this),getFocusableContainers:this.getFocusableContainers.bind(this),setUserSelect:function(f){t.getGui().style.userSelect=null!=f?f:"",t.getGui().style.webkitUserSelect=null!=f?f:""},setCursor:function(f){t.getGui().style.cursor=null!=f?f:""}};this.ctrl=this.createManagedBean(new HS);var p=this.createTemplate();this.setTemplate(p),this.ctrl.setComp(s,this.eGridDiv,this.getGui()),this.insertGridIntoDom(),this.initialiseTabGuard({onTabKeyDown:function(){},focusInnerElement:function(f){return t.ctrl.focusInnerElement(f)}})},i.prototype.insertGridIntoDom=function(){var t=this,s=this.getGui();this.eGridDiv.appendChild(s),this.addDestroyFunc(function(){t.eGridDiv.removeChild(s),t.logger.log("Grid removed from DOM")})},i.prototype.updateLayoutClasses=function(t,s){var p=this.eRootWrapperBody.classList;p.toggle(B.LayoutCssClasses.AUTO_HEIGHT,s.autoHeight),p.toggle(B.LayoutCssClasses.NORMAL,s.normal),p.toggle(B.LayoutCssClasses.PRINT,s.print),this.addOrRemoveCssClass(B.LayoutCssClasses.AUTO_HEIGHT,s.autoHeight),this.addOrRemoveCssClass(B.LayoutCssClasses.NORMAL,s.normal),this.addOrRemoveCssClass(B.LayoutCssClasses.PRINT,s.print)},i.prototype.createTemplate=function(){return'<div class="ag-root-wrapper">\n                '+(this.ctrl.showDropZones()?"<ag-grid-header-drop-zones></ag-grid-header-drop-zones>":"")+'\n                <div class="ag-root-wrapper-body" ref="rootWrapperBody">\n                    <ag-grid-body ref="gridBody"></ag-grid-body>\n                    '+(this.ctrl.showSideBar()?'<ag-side-bar ref="sideBar"></ag-side-bar>':"")+"\n                </div>\n                "+(this.ctrl.showStatusBar()?'<ag-status-bar ref="statusBar"></ag-status-bar>':"")+"\n                <ag-pagination></ag-pagination>\n                "+(this.ctrl.showWatermark()?"<ag-watermark></ag-watermark>":"")+"\n            </div>"},i.prototype.getFocusableElement=function(){return this.eRootWrapperBody},i.prototype.getFocusableContainers=function(){var t=[this.gridBodyComp.getGui()];return this.sideBarComp&&t.push(this.sideBarComp.getGui()),t.filter(function(s){return gi(s)})},dd([$("loggerFactory")],i.prototype,"loggerFactory",void 0),dd([Ve("gridBody")],i.prototype,"gridBodyComp",void 0),dd([Ve("sideBar")],i.prototype,"sideBarComp",void 0),dd([Ve("rootWrapperBody")],i.prototype,"eRootWrapperBody",void 0),dd([$e],i.prototype,"postConstruct",null),i}(Hl),Jf=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),Wl=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},hs=function(g){function i(){var t=null!==g&&g.apply(this,arguments)||this;return t.dragEndFunctions=[],t.dragSources=[],t}return Jf(i,g),i.prototype.init=function(){this.logger=this.loggerFactory.create("DragService")},i.prototype.removeAllListeners=function(){this.dragSources.forEach(this.removeListener.bind(this)),this.dragSources.length=0},i.prototype.removeListener=function(t){var s=t.dragSource.eElement;s.removeEventListener("mousedown",t.mouseDownListener),t.touchEnabled&&s.removeEventListener("touchstart",t.touchStartListener,{passive:!0})},i.prototype.removeDragSource=function(t){var s=this.dragSources.find(function(p){return p.dragSource===t});!s||(this.removeListener(s),Pn(this.dragSources,s))},i.prototype.isDragging=function(){return this.dragging},i.prototype.addDragSource=function(t,s){var p=this;void 0===s&&(s=!1);var f=this.onMouseDown.bind(this,t);t.eElement.addEventListener("mousedown",f);var _=null,b=this.gridOptionsWrapper.isSuppressTouch();s&&!b&&t.eElement.addEventListener("touchstart",_=function(A){A.cancelable&&A.preventDefault(),p.onTouchStart(t,A)},{passive:!0}),this.dragSources.push({dragSource:t,mouseDownListener:f,touchStartListener:_,touchEnabled:s})},i.prototype.onTouchStart=function(t,s){var p=this;this.currentDragParams=t,this.dragging=!1;var f=s.touches[0];this.touchLastTime=f,this.touchStart=f;var b=function(G){return p.onTouchUp(G,t.eElement)},M=t.eElement,L=[{target:document,type:"touchmove",listener:function(G){G.cancelable&&G.preventDefault()},options:{passive:!1}},{target:M,type:"touchmove",listener:function(G){return p.onTouchMove(G,t.eElement)},options:{passive:!0}},{target:M,type:"touchend",listener:b,options:{passive:!0}},{target:M,type:"touchcancel",listener:b,options:{passive:!0}}];this.addTemporaryEvents(L),0===t.dragStartPixels&&this.onCommonMove(f,this.touchStart,t.eElement)},i.prototype.onMouseDown=function(t,s){var p=this,f=s;if(!(t.skipMouseEvent&&t.skipMouseEvent(s)||f._alreadyProcessedByDragService||(f._alreadyProcessedByDragService=!0,0!==s.button))){this.currentDragParams=t,this.dragging=!1,this.mouseStartEvent=s;var _=this.gridOptionsWrapper.getDocument();this.addTemporaryEvents([{target:_,type:"mousemove",listener:function(U){return p.onMouseMove(U,t.eElement)}},{target:_,type:"mouseup",listener:function(U){return p.onMouseUp(U,t.eElement)}},{target:_,type:"contextmenu",listener:function(U){return U.preventDefault()}}]),0===t.dragStartPixels&&this.onMouseMove(s,t.eElement)}},i.prototype.addTemporaryEvents=function(t){t.forEach(function(s){s.target.addEventListener(s.type,s.listener,s.options)}),this.dragEndFunctions.push(function(){t.forEach(function(s){s.target.removeEventListener(s.type,s.listener,s.options)})})},i.prototype.isEventNearStartEvent=function(t,s){var p=this.currentDragParams.dragStartPixels;return hp(t,s,J(p)?p:4)},i.prototype.getFirstActiveTouch=function(t){for(var s=0;s<t.length;s++)if(t[s].identifier===this.touchStart.identifier)return t[s];return null},i.prototype.onCommonMove=function(t,s,p){if(!this.dragging){if(!this.dragging&&this.isEventNearStartEvent(t,s))return;this.dragging=!0,this.eventService.dispatchEvent({type:re.EVENT_DRAG_STARTED,api:this.gridApi,columnApi:this.columnApi,target:p}),this.currentDragParams.onDragStart(s),this.currentDragParams.onDragging(s)}this.currentDragParams.onDragging(t)},i.prototype.onTouchMove=function(t,s){var p=this.getFirstActiveTouch(t.touches);!p||this.onCommonMove(p,this.touchStart,s)},i.prototype.onMouseMove=function(t,s){"mousemove"===t.type&&t.cancelable&&t.preventDefault(),this.onCommonMove(t,this.mouseStartEvent,s)},i.prototype.onTouchUp=function(t,s){var p=this.getFirstActiveTouch(t.changedTouches);p||(p=this.touchLastTime),this.onUpCommon(p,s)},i.prototype.onMouseUp=function(t,s){this.onUpCommon(t,s)},i.prototype.onUpCommon=function(t,s){this.dragging&&(this.dragging=!1,this.currentDragParams.onDragStop(t),this.eventService.dispatchEvent({type:re.EVENT_DRAG_STOPPED,api:this.gridApi,columnApi:this.columnApi,target:s})),this.mouseStartEvent=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null,this.dragEndFunctions.forEach(function(f){return f()}),this.dragEndFunctions.length=0},Wl([$("loggerFactory")],i.prototype,"loggerFactory",void 0),Wl([$("columnApi")],i.prototype,"columnApi",void 0),Wl([$("gridApi")],i.prototype,"gridApi",void 0),Wl([$e],i.prototype,"init",null),Wl([hi],i.prototype,"removeAllListeners",null),Wl([tt("dragService")],i)}(Ge),Xs=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),ju=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},JC=function(g){function i(){return null!==g&&g.apply(this,arguments)||this}var t;return Xs(i,g),t=i,i.prototype.progressSort=function(s,p,f){void 0===f&&(f="api");var _=this.getNextSortDirection(s);this.setSortForColumn(s,_,p,f)},i.prototype.setSortForColumn=function(s,p,f,_){void 0===_&&(_="api"),p!==me.SORT_ASC&&p!==me.SORT_DESC&&(p=null),s.setSort(p,_),f&&!this.gridOptionsWrapper.isSuppressMultiSort()||this.clearSortBarThisColumn(s,_),this.updateSortIndex(s),this.dispatchSortChangedEvents()},i.prototype.updateSortIndex=function(s){var p=this.getColumnsWithSortingOrdered(),f=0;p.forEach(function(b){b!==s&&(b.setSortIndex(f),f++)}),s.getSort()&&s.setSortIndex(f),this.columnModel.getPrimaryAndSecondaryAndAutoColumns().filter(function(b){return null==b.getSort()}).forEach(function(b){return b.setSortIndex()})},i.prototype.onSortChanged=function(){this.dispatchSortChangedEvents()},i.prototype.isSortActive=function(){var p=this.columnModel.getPrimaryAndSecondaryAndAutoColumns().filter(function(f){return!!f.getSort()});return p&&p.length>0},i.prototype.dispatchSortChangedEvents=function(){this.eventService.dispatchEvent({type:re.EVENT_SORT_CHANGED,api:this.gridApi,columnApi:this.columnApi})},i.prototype.clearSortBarThisColumn=function(s,p){this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach(function(f){f!==s&&f.setSort(void 0,p)})},i.prototype.getNextSortDirection=function(s){var p;if(p=s.getColDef().sortingOrder?s.getColDef().sortingOrder:this.gridOptionsWrapper.getSortingOrder()?this.gridOptionsWrapper.getSortingOrder():t.DEFAULT_SORTING_ORDER,!Array.isArray(p)||p.length<=0)return console.warn("AG Grid: sortingOrder must be an array with at least one element, currently it's "+p),null;var A,f=p.indexOf(s.getSort());return t.DEFAULT_SORTING_ORDER.indexOf(A=f<0||f==p.length-1?p[0]:p[f+1])<0?(console.warn("AG Grid: invalid sort type "+A),null):A},i.prototype.getColumnsWithSortingOrdered=function(){var s=this.columnModel.getPrimaryAndSecondaryAndAutoColumns(),p=s.filter(function(_){return!!_.getSort()}),f={};return s.forEach(function(_,b){return f[_.getId()]=b}),p.sort(function(_,b){var A=_.getSortIndex(),M=b.getSortIndex();return null!=A&&null!=M?A-M:null==A&&null==M?f[_.getId()]>f[b.getId()]?1:-1:null==M?-1:1}),p},i.prototype.getSortModel=function(){return this.getColumnsWithSortingOrdered().map(function(s){return{sort:s.getSort(),colId:s.getId()}})},i.prototype.getSortOptions=function(){return this.getColumnsWithSortingOrdered().map(function(s){return{sort:s.getSort(),column:s}})},i.DEFAULT_SORTING_ORDER=[me.SORT_ASC,me.SORT_DESC,null],ju([$("columnModel")],i.prototype,"columnModel",void 0),ju([$("columnApi")],i.prototype,"columnApi",void 0),ju([$("gridApi")],i.prototype,"gridApi",void 0),t=ju([tt("sortController")],i)}(Ge),Qv=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),kn=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},eg=function(g){function i(){var s=null!==g&&g.apply(this,arguments)||this;return s.gridInstanceId=t.gridInstanceSequence.next(),s}var t;return Qv(i,g),t=i,i.prototype.stampTopLevelGridCompWithGridInstance=function(s){s[t.GRID_DOM_KEY]=this.gridInstanceId},i.prototype.getRenderedCellForEvent=function(s){return Jd(this.gridOptionsWrapper,s,Nu.DOM_DATA_KEY_CELL_CTRL)},i.prototype.isEventFromThisGrid=function(s){return this.isElementInThisGrid(s.target)},i.prototype.isElementInThisGrid=function(s){for(var p=s;p;){var f=p[t.GRID_DOM_KEY];if(J(f))return f===this.gridInstanceId;p=p.parentElement}return!1},i.prototype.getCellPositionForEvent=function(s){var p=this.getRenderedCellForEvent(s);return p?p.getCellPosition():null},i.prototype.getNormalisedPosition=function(s){var _,b,p=this.gridOptionsWrapper.getDomLayout()===me.DOM_LAYOUT_NORMAL;if(null!=s.clientX||null!=s.clientY?(_=s.clientX,b=s.clientY):(_=s.x,b=s.y),p){var A=this.ctrlsService.getGridBodyCtrl(),M=A.getScrollFeature().getVScrollPosition();_+=A.getScrollFeature().getHScrollPosition().left,b+=M.top}return{x:_,y:b}},i.gridInstanceSequence=new ai,i.GRID_DOM_KEY="__ag_grid_instance",kn([$("ctrlsService")],i.prototype,"ctrlsService",void 0),t=kn([tt("mouseEventService")],i)}(Ge),dn=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),jl=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},pd=function(g){function i(){return null!==g&&g.apply(this,arguments)||this}return dn(i,g),i.prototype.getNextCellToFocus=function(t,s){for(var p=s,f=!1;!f;){switch(t){case We.UP:p=this.getCellAbove(p);break;case We.DOWN:p=this.getCellBelow(p);break;case We.RIGHT:p=this.gridOptionsWrapper.isEnableRtl()?this.getCellToLeft(p):this.getCellToRight(p);break;case We.LEFT:p=this.gridOptionsWrapper.isEnableRtl()?this.getCellToRight(p):this.getCellToLeft(p);break;default:p=null,console.warn("AG Grid: unknown key for navigation "+t)}f=!p||this.isCellGoodToFocusOn(p)}return p},i.prototype.isCellGoodToFocusOn=function(t){var p,s=t.column;switch(t.rowPinned){case me.PINNED_TOP:p=this.pinnedRowModel.getPinnedTopRow(t.rowIndex);break;case me.PINNED_BOTTOM:p=this.pinnedRowModel.getPinnedBottomRow(t.rowIndex);break;default:p=this.rowModel.getRow(t.rowIndex)}return!!p&&!s.isSuppressNavigable(p)},i.prototype.getCellToLeft=function(t){if(!t)return null;var s=this.columnModel.getDisplayedColBefore(t.column);return s?{rowIndex:t.rowIndex,column:s,rowPinned:t.rowPinned}:null},i.prototype.getCellToRight=function(t){if(!t)return null;var s=this.columnModel.getDisplayedColAfter(t.column);return s?{rowIndex:t.rowIndex,column:s,rowPinned:t.rowPinned}:null},i.prototype.getRowBelow=function(t){var s=t.rowIndex,p=t.rowPinned;if(this.isLastRowInContainer(t))switch(p){case me.PINNED_BOTTOM:return null;case me.PINNED_TOP:return this.rowModel.isRowsToRender()?{rowIndex:this.paginationProxy.getPageFirstRow(),rowPinned:null}:this.pinnedRowModel.isRowsToRender(me.PINNED_BOTTOM)?{rowIndex:0,rowPinned:me.PINNED_BOTTOM}:null;default:return this.pinnedRowModel.isRowsToRender(me.PINNED_BOTTOM)?{rowIndex:0,rowPinned:me.PINNED_BOTTOM}:null}return{rowIndex:s+1,rowPinned:p}},i.prototype.getCellBelow=function(t){if(!t)return null;var s=this.getRowBelow(t);return s?{rowIndex:s.rowIndex,column:t.column,rowPinned:s.rowPinned}:null},i.prototype.isLastRowInContainer=function(t){var s=t.rowPinned,p=t.rowIndex;return s===me.PINNED_TOP?this.pinnedRowModel.getPinnedTopRowData().length-1<=p:s===me.PINNED_BOTTOM?this.pinnedRowModel.getPinnedBottomRowData().length-1<=p:this.paginationProxy.getPageLastRow()<=p},i.prototype.getRowAbove=function(t){var s=t.rowIndex,p=t.rowPinned;return(p?0===s:s===this.paginationProxy.getPageFirstRow())?p===me.PINNED_TOP?null:p&&this.rowModel.isRowsToRender()?this.getLastBodyCell():this.pinnedRowModel.isRowsToRender(me.PINNED_TOP)?this.getLastFloatingTopRow():null:{rowIndex:s-1,rowPinned:p}},i.prototype.getCellAbove=function(t){if(!t)return null;var s=this.getRowAbove({rowIndex:t.rowIndex,rowPinned:t.rowPinned});return s?{rowIndex:s.rowIndex,column:t.column,rowPinned:s.rowPinned}:null},i.prototype.getLastBodyCell=function(){return{rowIndex:this.paginationProxy.getPageLastRow(),rowPinned:null}},i.prototype.getLastFloatingTopRow=function(){return{rowIndex:this.pinnedRowModel.getPinnedTopRowData().length-1,rowPinned:me.PINNED_TOP}},i.prototype.getNextTabbedCell=function(t,s){return s?this.getNextTabbedCellBackwards(t):this.getNextTabbedCellForwards(t)},i.prototype.getNextTabbedCellForwards=function(t){var s=this.columnModel.getAllDisplayedColumns(),p=t.rowIndex,f=t.rowPinned,_=this.columnModel.getDisplayedColAfter(t.column);if(!_){_=s[0];var b=this.getRowBelow(t);if(E(b)||!b.rowPinned&&!this.paginationProxy.isRowInPage(b))return null;p=b?b.rowIndex:null,f=b?b.rowPinned:null}return{rowIndex:p,column:_,rowPinned:f}},i.prototype.getNextTabbedCellBackwards=function(t){var s=this.columnModel.getAllDisplayedColumns(),p=t.rowIndex,f=t.rowPinned,_=this.columnModel.getDisplayedColBefore(t.column);if(!_){_=Rn(s);var b=this.getRowAbove({rowIndex:t.rowIndex,rowPinned:t.rowPinned});if(E(b)||!b.rowPinned&&!this.paginationProxy.isRowInPage(b))return null;p=b?b.rowIndex:null,f=b?b.rowPinned:null}return{rowIndex:p,column:_,rowPinned:f}},jl([$("columnModel")],i.prototype,"columnModel",void 0),jl([$("rowModel")],i.prototype,"rowModel",void 0),jl([$("pinnedRowModel")],i.prototype,"pinnedRowModel",void 0),jl([$("paginationProxy")],i.prototype,"paginationProxy",void 0),jl([tt("cellNavigationService")],i)}(Ge),Uu=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),Kp=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},ra=function(g){function i(){return null!==g&&g.apply(this,arguments)||this}return Uu(i,g),i.prototype.formatValue=function(t,s,p,f,_,b){void 0===b&&(b=!0);var M,A=null,L=t.getColDef();if(_?M=_:b&&(M=s&&s.rowPinned&&L.pinnedRowValueFormatter?L.pinnedRowValueFormatter:L.valueFormatter),M){var G={value:f,node:s,data:s?s.data:null,colDef:L,column:t,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};G.$scope=p,A=this.expressionService.evaluate(M,G)}else if(L.refData)return L.refData[f]||"";return null==A&&Array.isArray(f)&&(A=f.join(", ")),A},Kp([$("expressionService")],i.prototype,"expressionService",void 0),Kp([tt("valueFormatterService")],i)}(Ge),hd=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),no=function(g){function i(t){return g.call(this,t,"ag-radio-button","radio")||this}return hd(i,g),i.prototype.isSelected=function(){return this.eInput.checked},i.prototype.toggle=function(){this.eInput.disabled||this.isSelected()||this.setValue(!0)},i.prototype.addInputListeners=function(){g.prototype.addInputListeners.call(this),this.addManagedListener(this.eventService,re.EVENT_CHECKBOX_CHANGED,this.onChange.bind(this))},i.prototype.onChange=function(t){t.selected&&t.name&&this.eInput.name&&this.eInput.name===t.name&&t.id&&this.eInput.id!==t.id&&this.setValue(!1,!0)},i}(rd),WS=["mouseover","mouseout","mouseenter","mouseleave"],Ul=["touchstart","touchend","touchmove","touchcancel"],tg=function(){function g(){this.isOutsideAngular=function(i){return ho(WS,i)}}return g.prototype.setTimeout=function(i,t){window.setTimeout(i,t)},g.prototype.setInterval=function(i,t){return new go(function(s){s(window.setInterval(i,t))})},g.prototype.addEventListener=function(i,t,s,p){var f=ho(Ul,t);i.addEventListener(t,s,{capture:!!p,passive:f})},g.prototype.dispatchEvent=function(i,t,s){t()},g.prototype.frameworkComponent=function(i){return null},g.prototype.isFrameworkComponent=function(i){return!1},g}(),Zv=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),zu=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},Jv=function(g){function i(){return null!==g&&g.apply(this,arguments)||this}return Zv(i,g),i.prototype.postConstruct=function(){this.addManagedListener(this.eventService,re.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,re.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this))},i.prototype.onDisplayedColumnsChanged=function(){this.update()},i.prototype.onDisplayedColumnsWidthChanged=function(){this.update()},i.prototype.update=function(){this.updateImpl(),setTimeout(this.updateImpl.bind(this),500)},i.prototype.updateImpl=function(){var t=this.ctrlsService.getCenterRowContainerCtrl();if(t){var s={horizontalScrollShowing:t.isHorizontalScrollShowing(),verticalScrollShowing:this.isVerticalScrollShowing()};this.setScrollsVisible(s)}},i.prototype.setScrollsVisible=function(t){this.horizontalScrollShowing===t.horizontalScrollShowing&&this.verticalScrollShowing===t.verticalScrollShowing||(this.horizontalScrollShowing=t.horizontalScrollShowing,this.verticalScrollShowing=t.verticalScrollShowing,this.eventService.dispatchEvent({type:re.EVENT_SCROLL_VISIBILITY_CHANGED,api:this.gridApi,columnApi:this.columnApi}))},i.prototype.isHorizontalScrollShowing=function(){return this.horizontalScrollShowing},i.prototype.isVerticalScrollShowing=function(){return this.verticalScrollShowing},zu([$("columnApi")],i.prototype,"columnApi",void 0),zu([$("gridApi")],i.prototype,"gridApi",void 0),zu([$("ctrlsService")],i.prototype,"ctrlsService",void 0),zu([$e],i.prototype,"postConstruct",null),zu([tt("scrollVisibleService")],i)}(Ge),ng=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),eb=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},ey=function(g){function i(){return null!==g&&g.apply(this,arguments)||this}return ng(i,g),i.prototype.processAllCellClasses=function(t,s,p,f){this.processClassRules(t.cellClassRules,s,p,f),this.processStaticCellClasses(t,s,p)},i.prototype.processClassRules=function(t,s,p,f){if(null!=t){for(var _=Object.keys(t),b={},A={},M=function(U){var ge,te=_[U],le=t[te];"string"==typeof le?ge=L.expressionService.evaluate(le,s):"function"==typeof le&&(ge=le(s)),te.split(" ").forEach(function(ve){null==ve||""==ve.trim()||(ge?b[ve]=!0:A[ve]=!0)})},L=this,G=0;G<_.length;G++)M(G);f&&Object.keys(A).forEach(f),Object.keys(b).forEach(p)}},i.prototype.getStaticCellClasses=function(t,s){var f,p=t.cellClass;return p?("string"==typeof(f="function"==typeof p?p(s):p)&&(f=[f]),f||[]):[]},i.prototype.processStaticCellClasses=function(t,s,p){this.getStaticCellClasses(t,s).forEach(function(_){p(_)})},eb([$("expressionService")],i.prototype,"expressionService",void 0),eb([tt("stylingService")],i)}(Ge),jS=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),Yp=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},ty=function(g){function i(){return null!==g&&g.apply(this,arguments)||this}return jS(i,g),i.prototype.setMouseOver=function(t){this.selectedColumns=t,this.eventService.dispatchEvent({type:re.EVENT_COLUMN_HOVER_CHANGED,api:this.gridApi,columnApi:this.columnApi})},i.prototype.clearMouseOver=function(){this.selectedColumns=null,this.eventService.dispatchEvent({type:re.EVENT_COLUMN_HOVER_CHANGED,api:this.gridApi,columnApi:this.columnApi})},i.prototype.isHovered=function(t){return!!this.selectedColumns&&this.selectedColumns.indexOf(t)>=0},Yp([$("columnApi")],i.prototype,"columnApi",void 0),Yp([$("gridApi")],i.prototype,"gridApi",void 0),Yp([tt("columnHoverService")],i)}(Ge),tb=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),rg=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},US=function(g){function i(){var t=null!==g&&g.apply(this,arguments)||this;return t.executeNextFuncs=[],t.executeLaterFuncs=[],t.active=!1,t.animationThreadCount=0,t}return tb(i,g),i.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady(function(s){return t.gridBodyCtrl=s.gridBodyCtrl})},i.prototype.isActive=function(){return this.active},i.prototype.start=function(){this.active||this.gridOptionsWrapper.isSuppressColumnMoveAnimation()||this.gridOptionsWrapper.isEnableRtl()||(this.ensureAnimationCssClassPresent(),this.active=!0)},i.prototype.finish=function(){!this.active||(this.flush(),this.active=!1)},i.prototype.executeNextVMTurn=function(t){this.active?this.executeNextFuncs.push(t):t()},i.prototype.executeLaterVMTurn=function(t){this.active?this.executeLaterFuncs.push(t):t()},i.prototype.ensureAnimationCssClassPresent=function(){var t=this;this.animationThreadCount++;var s=this.animationThreadCount;this.gridBodyCtrl.setColumnMovingCss(!0),this.executeLaterFuncs.push(function(){t.animationThreadCount===s&&t.gridBodyCtrl.setColumnMovingCss(!1)})},i.prototype.flush=function(){var t=this.executeNextFuncs;this.executeNextFuncs=[];var s=this.executeLaterFuncs;this.executeLaterFuncs=[],(0!==t.length||0!==s.length)&&(window.setTimeout(function(){return t.forEach(function(p){return p()})},0),window.setTimeout(function(){return s.forEach(function(p){return p()})},300))},rg([$("ctrlsService")],i.prototype,"ctrlsService",void 0),rg([$e],i.prototype,"postConstruct",null),rg([tt("columnAnimationService")],i)}(Ge),nb=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),ro=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},fd=function(g){function i(){return null!==g&&g.apply(this,arguments)||this}var t;return nb(i,g),t=i,i.prototype.createAutoGroupColumns=function(s){var p=this,f=[],_=this.gridOptionsWrapper.isTreeData(),b=this.gridOptionsWrapper.isGroupMultiAutoColumn();return _&&b&&(console.warn("AG Grid: you cannot mix groupMultiAutoColumn with treeData, only one column can be used to display groups when doing tree data"),b=!1),b?s.forEach(function(A,M){f.push(p.createOneAutoGroupColumn(A,M))}):f.push(this.createOneAutoGroupColumn()),f},i.prototype.createOneAutoGroupColumn=function(s,p){var _,f=this.generateDefaultColDef(s);_=s?me.GROUP_AUTO_COLUMN_ID+"-"+s.getId():t.GROUP_AUTO_COLUMN_BUNDLE_ID,Hi(f,this.gridOptionsWrapper.getAutoGroupColumnDef()),(f=this.columnFactory.mergeColDefs(f)).colId=_,this.gridOptionsWrapper.isTreeData()||E(f.field)&&E(f.valueGetter)&&E(f.filterValueGetter)&&(f.filter=!1),p&&p>0&&(f.headerCheckboxSelection=!1);var M=new pn(f,null,_,!0);return this.context.createBean(M),M},i.prototype.generateDefaultColDef=function(s){var p=this.gridOptionsWrapper.getAutoGroupColumnDef(),_={headerName:this.gridOptionsWrapper.getLocaleTextFunc()("group","Group")};if(p&&(p.cellRenderer||p.cellRendererFramework||p.cellRendererSelector)||(_.cellRenderer="agGroupCellRenderer"),s){var A=s.getColDef();Object.assign(_,{headerName:this.columnModel.getDisplayNameForColumn(s,"header"),headerValueGetter:A.headerValueGetter}),(A.cellRenderer||A.cellRendererFramework)&&Object.assign(_,{cellRendererParams:{innerRenderer:A.cellRenderer,innerRendererFramework:A.cellRendererFramework,innerRendererParams:A.cellRendererParams}}),_.showRowGroup=s.getColId()}else _.showRowGroup=!0;return _},i.GROUP_AUTO_COLUMN_BUNDLE_ID=me.GROUP_AUTO_COLUMN_ID,ro([$("columnModel")],i.prototype,"columnModel",void 0),ro([$("columnFactory")],i.prototype,"columnFactory",void 0),t=ro([tt("autoGroupColService")],i)}(Ge),zS=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),gd=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},ny=function(g){function i(){var t=null!==g&&g.apply(this,arguments)||this;return t.currentPage=0,t.topDisplayedRowIndex=0,t.bottomDisplayedRowIndex=0,t.pixelOffset=0,t.masterRowCount=0,t}return zS(i,g),i.prototype.postConstruct=function(){this.active=this.gridOptionsWrapper.isPagination(),this.paginateChildRows=this.gridOptionsWrapper.isPaginateChildRows(),this.addManagedListener(this.eventService,re.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedListener(this.gridOptionsWrapper,"paginationPageSize",this.onPaginationPageSizeChanged.bind(this)),this.onModelUpdated()},i.prototype.ensureRowHeightsValid=function(t,s,p,f){var _=this.rowModel.ensureRowHeightsValid(t,s,this.getPageFirstRow(),this.getPageLastRow());return _&&this.calculatePages(),_},i.prototype.onModelUpdated=function(t){this.calculatePages(),this.eventService.dispatchEvent({type:re.EVENT_PAGINATION_CHANGED,animate:!!t&&t.animate,newData:!!t&&t.newData,newPage:!!t&&t.newPage,keepRenderedRows:!!t&&t.keepRenderedRows,api:this.gridApi,columnApi:this.columnApi})},i.prototype.onPaginationPageSizeChanged=function(){this.calculatePages(),this.eventService.dispatchEvent({type:re.EVENT_PAGINATION_CHANGED,animate:!1,newData:!1,newPage:!1,keepRenderedRows:!0,api:this.gridApi,columnApi:this.columnApi})},i.prototype.goToPage=function(t){this.active&&this.currentPage!==t&&(this.currentPage=t,this.onModelUpdated({type:re.EVENT_MODEL_UPDATED,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!0,api:this.gridApi,columnApi:this.columnApi}))},i.prototype.getPixelOffset=function(){return this.pixelOffset},i.prototype.getRow=function(t){return this.rowModel.getRow(t)},i.prototype.getRowNode=function(t){return this.rowModel.getRowNode(t)},i.prototype.getRowIndexAtPixel=function(t){return this.rowModel.getRowIndexAtPixel(t)},i.prototype.getCurrentPageHeight=function(){return E(this.topRowBounds)||E(this.bottomRowBounds)?0:Math.max(this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight-this.topRowBounds.rowTop,0)},i.prototype.getCurrentPagePixelRange=function(){return{pageFirstPixel:this.topRowBounds?this.topRowBounds.rowTop:0,pageLastPixel:this.bottomRowBounds?this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight:0}},i.prototype.isRowPresent=function(t){return!!this.rowModel.isRowPresent(t)&&t.rowIndex>=this.topDisplayedRowIndex&&t.rowIndex<=this.bottomDisplayedRowIndex},i.prototype.isEmpty=function(){return this.rowModel.isEmpty()},i.prototype.isRowsToRender=function(){return this.rowModel.isRowsToRender()},i.prototype.getNodesInRangeForSelection=function(t,s){return this.rowModel.getNodesInRangeForSelection(t,s)},i.prototype.forEachNode=function(t){return this.rowModel.forEachNode(t)},i.prototype.getType=function(){return this.rowModel.getType()},i.prototype.getRowBounds=function(t){var s=this.rowModel.getRowBounds(t);return s.rowIndex=t,s},i.prototype.getPageFirstRow=function(){return this.topRowBounds?this.topRowBounds.rowIndex:-1},i.prototype.getPageLastRow=function(){return this.bottomRowBounds?this.bottomRowBounds.rowIndex:-1},i.prototype.getRowCount=function(){return this.rowModel.getRowCount()},i.prototype.getPageForIndex=function(t){return Math.floor(t/this.pageSize)},i.prototype.goToPageWithIndex=function(t){if(this.active){var s=this.getPageForIndex(t);this.goToPage(s)}},i.prototype.isRowInPage=function(t){return!this.active||this.getPageForIndex(t.rowIndex)===this.currentPage},i.prototype.isLastPageFound=function(){return this.rowModel.isLastRowIndexKnown()},i.prototype.getCurrentPage=function(){return this.currentPage},i.prototype.goToNextPage=function(){this.goToPage(this.currentPage+1)},i.prototype.goToPreviousPage=function(){this.goToPage(this.currentPage-1)},i.prototype.goToFirstPage=function(){this.goToPage(0)},i.prototype.goToLastPage=function(){var t=this.rowModel.getRowCount(),s=Math.floor(t/this.pageSize);this.goToPage(s)},i.prototype.getPageSize=function(){return this.pageSize},i.prototype.getTotalPages=function(){return this.totalPages},i.prototype.setPageSize=function(){this.pageSize=this.gridOptionsWrapper.getPaginationPageSize(),(null==this.pageSize||this.pageSize<1)&&(this.pageSize=100)},i.prototype.calculatePages=function(){this.active?(this.setPageSize(),this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly()):this.calculatedPagesNotActive(),this.topRowBounds=this.rowModel.getRowBounds(this.topDisplayedRowIndex),this.topRowBounds&&(this.topRowBounds.rowIndex=this.topDisplayedRowIndex),this.bottomRowBounds=this.rowModel.getRowBounds(this.bottomDisplayedRowIndex),this.bottomRowBounds&&(this.bottomRowBounds.rowIndex=this.bottomDisplayedRowIndex),this.setPixelOffset(J(this.topRowBounds)?this.topRowBounds.rowTop:0)},i.prototype.setPixelOffset=function(t){this.pixelOffset!==t&&(this.pixelOffset=t,this.eventService.dispatchEvent({type:re.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED}))},i.prototype.setZeroRows=function(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0},i.prototype.calculatePagesMasterRowsOnly=function(){if(this.masterRowCount=this.rowModel.getTopLevelRowCount(),this.masterRowCount<=0)this.setZeroRows();else{var t=this.masterRowCount-1;this.totalPages=Math.floor(t/this.pageSize)+1,this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!dp(this.currentPage)||this.currentPage<0)&&(this.currentPage=0);var p=this.pageSize*(this.currentPage+1)-1;if(p>t&&(p=t),this.topDisplayedRowIndex=this.rowModel.getTopLevelRowDisplayedIndex(this.pageSize*this.currentPage),p===t)this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1;else{var f=this.rowModel.getTopLevelRowDisplayedIndex(p+1);this.bottomDisplayedRowIndex=f-1}}},i.prototype.getMasterRowCount=function(){return this.masterRowCount},i.prototype.calculatePagesAllRows=function(){if(this.masterRowCount=this.rowModel.getRowCount(),0!==this.masterRowCount){var t=this.masterRowCount-1;this.totalPages=Math.floor(t/this.pageSize)+1,this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!dp(this.currentPage)||this.currentPage<0)&&(this.currentPage=0),this.topDisplayedRowIndex=this.pageSize*this.currentPage,this.bottomDisplayedRowIndex=this.pageSize*(this.currentPage+1)-1,this.bottomDisplayedRowIndex>t&&(this.bottomDisplayedRowIndex=t)}else this.setZeroRows()},i.prototype.calculatedPagesNotActive=function(){this.pageSize=this.rowModel.getRowCount(),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1},gd([$("rowModel")],i.prototype,"rowModel",void 0),gd([$("columnApi")],i.prototype,"columnApi",void 0),gd([$("gridApi")],i.prototype,"gridApi",void 0),gd([$e],i.prototype,"postConstruct",null),gd([tt("paginationProxy")],i)}(Ge),ry=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),io=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},$S=function(g){function i(){return null!==g&&g.apply(this,arguments)||this}return ry(i,g),i.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady(function(s){t.centerRowContainerCon=s.centerRowContainerCtrl,t.addManagedListener(t.eventService,re.EVENT_BODY_HEIGHT_CHANGED,t.onBodyHeightChanged.bind(t)),t.addManagedListener(t.eventService,re.EVENT_SCROLL_VISIBILITY_CHANGED,t.onScrollVisibilityChanged.bind(t)),t.checkPageSize()})},i.prototype.notActive=function(){return!this.gridOptionsWrapper.isPaginationAutoPageSize()},i.prototype.onScrollVisibilityChanged=function(){this.checkPageSize()},i.prototype.onBodyHeightChanged=function(){this.checkPageSize()},i.prototype.checkPageSize=function(){if(!this.notActive()){var t=this.gridOptionsWrapper.getRowHeightAsNumber(),s=this.centerRowContainerCon.getViewportSizeFeature().getBodyHeight();if(s>0){var p=Math.floor(s/t);this.gridOptionsWrapper.setProperty("paginationPageSize",p)}}},io([$("ctrlsService")],i.prototype,"ctrlsService",void 0),io([$e],i.prototype,"postConstruct",null),io([tt("paginationAutoPageSizeService")],i)}(Ge),iy=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),oy=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},rb=function(g){function i(){var t=null!==g&&g.apply(this,arguments)||this;return t.cacheVersion=0,t}return iy(i,g),i.prototype.init=function(){this.active=this.gridOptionsWrapper.isValueCache(),this.neverExpires=this.gridOptionsWrapper.isValueCacheNeverExpires()},i.prototype.onDataChanged=function(){this.neverExpires||this.expire()},i.prototype.expire=function(){this.cacheVersion++},i.prototype.setValue=function(t,s,p){this.active&&(t.__cacheVersion!==this.cacheVersion&&(t.__cacheVersion=this.cacheVersion,t.__cacheData={}),t.__cacheData[s]=p)},i.prototype.getValue=function(t,s){if(this.active&&t.__cacheVersion===this.cacheVersion)return t.__cacheData[s]},oy([$e],i.prototype,"init",null),oy([tt("valueCache")],i)}(Ge),Qs=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),oo=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},fs=function(g){function i(){return null!==g&&g.apply(this,arguments)||this}return Qs(i,g),i.prototype.init=function(){this.rowModel.getType()===me.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideRowModel=this.rowModel),this.addManagedListener(this.eventService,re.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged.bind(this))},i.prototype.onCellValueChanged=function(t){t.source!==me.SOURCE_PASTE&&this.doChangeDetection(t.node,t.column)},i.prototype.doChangeDetection=function(t,s){if(!this.gridOptionsWrapper.isSuppressChangeDetection()){if(this.clientSideRowModel&&!t.isRowPinned()){var p=this.gridOptionsWrapper.isAggregateOnlyChangedColumns(),f=new xf(p,this.clientSideRowModel.getRootNode());f.addParentNode(t.parent,[s]),this.clientSideRowModel.doAggregate(f)}this.rowRenderer.refreshCells()}},oo([$("rowModel")],i.prototype,"rowModel",void 0),oo([$("rowRenderer")],i.prototype,"rowRenderer",void 0),oo([$e],i.prototype,"init",null),oo([tt("changeDetectionService")],i)}(Ge),$u=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),zl=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},ib=function(g,i){return function(t,s){i(t,s,g)}},ig=function(g){function i(){var t=null!==g&&g.apply(this,arguments)||this;return t.consuming=!1,t}return $u(i,g),i.prototype.setBeans=function(t){this.logger=t.create("AlignedGridsService")},i.prototype.init=function(){this.addManagedListener(this.eventService,re.EVENT_COLUMN_MOVED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,re.EVENT_COLUMN_VISIBLE,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,re.EVENT_COLUMN_PINNED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,re.EVENT_COLUMN_GROUP_OPENED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,re.EVENT_COLUMN_RESIZED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,re.EVENT_BODY_SCROLL,this.fireScrollEvent.bind(this))},i.prototype.fireEvent=function(t){if(!this.consuming){var s=this.gridOptionsWrapper.getAlignedGrids();s&&s.forEach(function(p){if(p.api){var f=p.api.__getAlignedGridService();t(f)}})}},i.prototype.onEvent=function(t){this.consuming=!0,t(),this.consuming=!1},i.prototype.fireColumnEvent=function(t){this.fireEvent(function(s){s.onColumnEvent(t)})},i.prototype.fireScrollEvent=function(t){"horizontal"===t.direction&&this.fireEvent(function(s){s.onScrollEvent(t)})},i.prototype.onScrollEvent=function(t){var s=this;this.onEvent(function(){s.ctrlsService.getGridBodyCtrl().getScrollFeature().setHorizontalScrollPosition(t.left)})},i.prototype.getMasterColumns=function(t){var s=[];return t.columns?t.columns.forEach(function(p){s.push(p)}):t.column&&s.push(t.column),s},i.prototype.getColumnIds=function(t){var s=[];return t.columns?t.columns.forEach(function(p){s.push(p.getColId())}):t.column&&s.push(t.column.getColId()),s},i.prototype.onColumnEvent=function(t){var s=this;this.onEvent(function(){switch(t.type){case re.EVENT_COLUMN_MOVED:case re.EVENT_COLUMN_VISIBLE:case re.EVENT_COLUMN_PINNED:case re.EVENT_COLUMN_RESIZED:s.processColumnEvent(t);break;case re.EVENT_COLUMN_GROUP_OPENED:s.processGroupOpenedEvent(t);break;case re.EVENT_COLUMN_PIVOT_CHANGED:console.warn("AG Grid: pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.")}})},i.prototype.processGroupOpenedEvent=function(t){var s=t.columnGroup,p=null;if(s){var f=s.getGroupId();p=this.columnModel.getProvidedColumnGroup(f)}s&&!p||(this.logger.log("onColumnEvent-> processing "+t+" expanded = "+s.isExpanded()),this.columnModel.setColumnGroupOpened(p,s.isExpanded(),"alignedGridChanged"))},i.prototype.processColumnEvent=function(t){var s=this,p=t.column,f=null;if(p&&(f=this.columnModel.getPrimaryColumn(p.getColId())),!p||f){var _=this.getMasterColumns(t);switch(t.type){case re.EVENT_COLUMN_MOVED:var b=t,M=t.columnApi.getColumnState().map(function(ve){return{colId:ve.colId}});this.columnModel.applyColumnState({state:M,applyOrder:!0},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing "+t.type+" toIndex = "+b.toIndex);break;case re.EVENT_COLUMN_VISIBLE:var L=t;M=t.columnApi.getColumnState().map(function(Re){return{colId:Re.colId,hide:Re.hide}}),this.columnModel.applyColumnState({state:M},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing "+t.type+" visible = "+L.visible);break;case re.EVENT_COLUMN_PINNED:var G=t;M=t.columnApi.getColumnState().map(function(Re){return{colId:Re.colId,pinned:Re.pinned}}),this.columnModel.applyColumnState({state:M},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing "+t.type+" pinned = "+G.pinned);break;case re.EVENT_COLUMN_RESIZED:var U=t;_.forEach(function(ve){s.logger.log("onColumnEvent-> processing "+t.type+" actualWidth = "+ve.getActualWidth());var we=[{key:ve.getColId(),newWidth:ve.getActualWidth()}];s.columnModel.setColumnWidths(we,!1,U.finished,"alignedGridChanged")})}var le=this.ctrlsService.getGridBodyCtrl().isVerticalScrollShowing(),ge=this.gridOptionsWrapper.getAlignedGrids();ge&&ge.forEach(function(ve){ve.api&&ve.api.setAlwaysShowVerticalScroll(le)})}},zl([$("columnModel")],i.prototype,"columnModel",void 0),zl([$("ctrlsService")],i.prototype,"ctrlsService",void 0),zl([ib(0,bi("loggerFactory"))],i.prototype,"setBeans",null),zl([$e],i.prototype,"init",null),zl([tt("alignedGridsService")],i)}(Ge),ob=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),ay=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},KS=function(g){function i(){return null!==g&&g.apply(this,arguments)||this}return ob(i,g),i.prototype.adaptFunction=function(t,s){var p=this.componentMetadataProvider.retrieve(t);return p&&p.functionAdapter?p.functionAdapter(s):null},i.prototype.adaptCellRendererFunction=function(t){return function(){function p(){}return p.prototype.refresh=function(f){return!1},p.prototype.getGui=function(){return this.eGui},p.prototype.init=function(f){var _=t(f),b=typeof _;this.eGui="string"!==b&&"number"!==b&&"boolean"!==b?null!=_?_:zn("<span></span>"):zn("<span>"+_+"</span>")},p}()},i.prototype.doesImplementIComponent=function(t){return!!t&&t.prototype&&"getGui"in t.prototype},ay([$("componentMetadataProvider")],i.prototype,"componentMetadataProvider",void 0),ay([tt("agComponentUtils")],i)}(Ge),gs=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),qp=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},YS=function(g){function i(){return null!==g&&g.apply(this,arguments)||this}return gs(i,g),i.prototype.postConstruct=function(){this.componentMetaData={dateComponent:{mandatoryMethodList:["getDate","setDate"],optionalMethodList:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel"]},detailCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},headerComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},headerGroupComponent:{mandatoryMethodList:[],optionalMethodList:[]},loadingCellRenderer:{mandatoryMethodList:[],optionalMethodList:[]},loadingOverlayComponent:{mandatoryMethodList:[],optionalMethodList:[]},noRowsOverlayComponent:{mandatoryMethodList:[],optionalMethodList:[]},floatingFilterComponent:{mandatoryMethodList:["onParentModelChanged"],optionalMethodList:["afterGuiAttached"]},floatingFilterWrapperComponent:{mandatoryMethodList:[],optionalMethodList:[]},cellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},cellEditor:{mandatoryMethodList:["getValue"],optionalMethodList:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached"]},innerRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},fullWidthCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},pinnedRowCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},groupRowRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},filter:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged"]},filterComponent:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged"]},statusPanel:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"]},toolPanel:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"]},tooltipComponent:{mandatoryMethodList:[],optionalMethodList:[]}}},i.prototype.retrieve=function(t){return this.componentMetaData[t]},qp([$("agComponentUtils")],i.prototype,"agComponentUtils",void 0),qp([$e],i.prototype,"postConstruct",null),qp([tt("componentMetadataProvider")],i)}(Ge),qS=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),XS=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},uy={"ag-theme-custom":{headerHeight:25,headerCellMinWidth:24,listItemHeight:20,rowHeight:25,chartMenuPanelWidth:220},"ag-theme-material":{headerHeight:56,headerCellMinWidth:48,listItemHeight:32,rowHeight:48,chartMenuPanelWidth:240},"ag-theme-balham":{headerHeight:32,headerCellMinWidth:24,listItemHeight:24,rowHeight:28,chartMenuPanelWidth:220},"ag-theme-alpine":{headerHeight:48,headerCellMinWidth:36,listItemHeight:24,rowHeight:42,chartMenuPanelWidth:240}},ab={headerHeight:["ag-header-row"],headerCellMinWidth:["ag-header-cell"],listItemHeight:["ag-virtual-list-item"],rowHeight:["ag-row"],chartMenuPanelWidth:["ag-chart-docked-container"]},Xp={},Qp=function(g){function i(){return null!==g&&g.apply(this,arguments)||this}return qS(i,g),i.prototype.getSassVariable=function(t,s){var p="ag-theme-"+(t.match("material")?"material":t.match("balham")?"balham":t.match("alpine")?"alpine":"custom"),f=uy[p][s],_=0;Xp[t]||(Xp[t]={});var b=Xp[t][s];if(null!=b)return b;if(ab[s]){var A=ab[s],M=document.createElement("div");M.classList.add(t),M.style.position="absolute";var L=A.reduce(function(U,te){var le=document.createElement("div");return le.style.position="static",le.classList.add(te),U.appendChild(le),le},M);if(document.body){document.body.appendChild(M);var G=-1!==s.toLowerCase().indexOf("height")?"height":"width";_=parseInt(window.getComputedStyle(L)[G],10),document.body.removeChild(M)}}return Xp[t][s]=_||f,Xp[t][s]},i.prototype.isThemeDark=function(){var t=this.getTheme().theme;return!!t&&t.indexOf("dark")>=0},i.prototype.chartMenuPanelWidth=function(){var t=this.getTheme().themeFamily;return this.getSassVariable(t,"chartMenuPanelWidth")},i.prototype.getTheme=function(){for(var t=/\bag-(material|(?:theme-([\w\-]*)))\b/,s=this.eGridDiv,p=null;s&&!(p=t.exec(s.className));)s=s.parentElement||void 0;if(!p)return{};var f=p[0];if(void 0===p[2]){var b=f.replace("ag-","ag-theme-");En(function(){return console.warn("AG Grid: As of v19 old theme are no longer provided. Please replace "+f+" with "+b+".")},"using-old-theme")}return{theme:f,el:s,themeFamily:f.replace(/-dark$/,"")}},XS([$("eGridDiv")],i.prototype,"eGridDiv",void 0),XS([tt("environment")],i)}(Ge),cy=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),dy=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},md=function(g){function i(){var t=null!==g&&g.apply(this,arguments)||this;return t.createTasksP1={list:[],sorted:!1},t.createTasksP2={list:[],sorted:!1},t.destroyTasks=[],t.ticking=!1,t.scrollGoingDown=!0,t.lastScrollTop=0,t.taskCount=0,t.cancelledTasks=new Set,t}return cy(i,g),i.prototype.setScrollTop=function(t){this.scrollGoingDown=t>this.lastScrollTop,this.lastScrollTop=t},i.prototype.init=function(){this.useAnimationFrame=!this.gridOptionsWrapper.isSuppressAnimationFrame()},i.prototype.isOn=function(){return this.useAnimationFrame},i.prototype.verifyAnimationFrameOn=function(t){!1===this.useAnimationFrame&&console.warn("AG Grid: AnimationFrameService."+t+" called but animation frames are off")},i.prototype.createTask=function(t,s,p){this.verifyAnimationFrameOn(p);var f={task:t,index:s,createOrder:++this.taskCount};this.addTaskToList(this[p],f),this.schedule()},i.prototype.cancelTask=function(t){this.cancelledTasks.add(t)},i.prototype.addTaskToList=function(t,s){t.list.push(s),t.sorted=!1},i.prototype.sortTaskList=function(t){if(!t.sorted){var s=this.scrollGoingDown?1:-1;t.list.sort(function(p,f){return p.index!==f.index?s*(f.index-p.index):f.createOrder-p.createOrder}),t.sorted=!0}},i.prototype.addDestroyTask=function(t){this.verifyAnimationFrameOn("createTasksP3"),this.destroyTasks.push(t),this.schedule()},i.prototype.executeFrame=function(t){this.verifyAnimationFrameOn("executeFrame");for(var s=this.createTasksP1,p=s.list,f=this.createTasksP2,_=f.list,b=this.destroyTasks,A=(new Date).getTime(),M=(new Date).getTime()-A,L=t<=0,G=this.ctrlsService.getGridBodyCtrl();L||M<t;){if(!G.getScrollFeature().executeAnimationFrameScroll()){var te=void 0;if(p.length)this.sortTaskList(s),te=p.pop().task;else if(_.length)this.sortTaskList(f),te=_.pop().task;else{if(!b.length){this.cancelledTasks.clear();break}te=b.pop()}this.cancelledTasks.has(te)||te()}M=(new Date).getTime()-A}p.length||_.length||b.length?this.requestFrame():this.stopTicking()},i.prototype.stopTicking=function(){this.ticking=!1},i.prototype.flushAllFrames=function(){!this.useAnimationFrame||this.executeFrame(-1)},i.prototype.schedule=function(){!this.useAnimationFrame||this.ticking||(this.ticking=!0,this.requestFrame())},i.prototype.requestFrame=function(){var t=this.executeFrame.bind(this,60),p=this.gridOptionsWrapper.getDocument().defaultView||window;p.requestAnimationFrame?p.requestAnimationFrame(t):p.webkitRequestAnimationFrame?p.webkitRequestAnimationFrame(t):p.setTimeout(t,0)},i.prototype.isQueueEmpty=function(){return!this.ticking},i.prototype.debounce=function(t){var s=this,p=!1;return function(){s.isOn()?p||(p=!0,s.addDestroyTask(function(){p=!1,t()})):s.getFrameworkOverrides().setTimeout(t,0)}},dy([$("ctrlsService")],i.prototype,"ctrlsService",void 0),dy([$e],i.prototype,"init",null),dy([tt("animationFrameService")],i)}(Ge),Zs=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),vd=function(){return vd=Object.assign||function(g){for(var i,t=1,s=arguments.length;t<s;t++)for(var p in i=arguments[t])Object.prototype.hasOwnProperty.call(i,p)&&(g[p]=i[p]);return g},vd.apply(this,arguments)},Ii=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},ZS=function(g){function i(){var t=null!==g&&g.apply(this,arguments)||this;return t.timeLastPageEventProcessed=0,t}return Zs(i,g),i.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady(function(s){t.gridBodyCon=s.gridBodyCtrl})},i.prototype.handlePageScrollingKey=function(t){var s=t.key,p=t.altKey,f=t.ctrlKey||t.metaKey,_=this.mouseEventService.getCellPositionForEvent(t);if(!_)return!1;var b=!1;switch(s){case We.PAGE_HOME:case We.PAGE_END:!f&&!p&&(this.onHomeOrEndKey(s),b=!0);break;case We.LEFT:case We.RIGHT:f&&!p&&(this.onCtrlLeftOrRight(s,_),b=!0);break;case We.UP:case We.DOWN:f&&!p&&(this.onCtrlUpOrDown(s,_),b=!0);break;case We.PAGE_DOWN:!f&&!p&&(this.onPageDown(_),b=!0);break;case We.PAGE_UP:!f&&!p&&(this.onPageUp(_),b=!0)}return b&&t.preventDefault(),b},i.prototype.isTimeSinceLastPageEventToRecent=function(){return(new Date).getTime()-this.timeLastPageEventProcessed<100},i.prototype.setTimeLastPageEventProcessed=function(){this.timeLastPageEventProcessed=(new Date).getTime()},i.prototype.navigateTo=function(t){var s=t.scrollIndex,p=t.scrollType,f=t.scrollColumn,_=t.focusIndex,b=t.focusColumn;J(f)&&!f.isPinned()&&this.gridBodyCon.getScrollFeature().ensureColumnVisible(f),J(s)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(s,p),this.animationFrameService.flushAllFrames(),this.focusService.setFocusedCell(_,b,null,!0),this.rangeService&&this.rangeService.setRangeToCell({rowIndex:_,rowPinned:null,column:b})},i.prototype.onPageDown=function(t){if(!this.isTimeSinceLastPageEventToRecent()){var p=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),f=this.getViewportHeight(),_=this.paginationProxy.getPixelOffset(),M=this.paginationProxy.getRowIndexAtPixel(p.top+f+_),L=this.paginationProxy.getRow(t.rowIndex).rowTop,U=this.paginationProxy.getRowIndexAtPixel(L+f-_+_),te=this.paginationProxy.getPageLastRow();U===t.rowIndex&&(M=U=t.rowIndex+1),U>te&&(U=te),M>te&&(M=te),this.isRowTallerThanView(U)&&(M=U),this.navigateTo({scrollIndex:M,scrollType:"top",scrollColumn:null,focusIndex:U,focusColumn:t.column}),this.setTimeLastPageEventProcessed()}},i.prototype.onPageUp=function(t){if(!this.isTimeSinceLastPageEventToRecent()){var p=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),f=this.getViewportHeight(),_=this.paginationProxy.getPixelOffset(),M=this.paginationProxy.getRowIndexAtPixel(p.top+_),L=this.paginationProxy.getRow(t.rowIndex),U=this.paginationProxy.getRowIndexAtPixel(L.rowTop+L.rowHeight-f-_+_),te=this.paginationProxy.getPageFirstRow();U===t.rowIndex&&(M=U=t.rowIndex-1),U<te&&(U=te),M<te&&(M=te);var le="bottom";this.isRowTallerThanView(U)&&(M=U,le="top"),this.navigateTo({scrollIndex:M,scrollType:le,scrollColumn:null,focusIndex:U,focusColumn:t.column}),this.setTimeLastPageEventProcessed()}},i.prototype.getViewportHeight=function(){var s=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),p=this.gridOptionsWrapper.getScrollbarWidth(),f=s.bottom-s.top;return this.ctrlsService.getCenterRowContainerCtrl().isHorizontalScrollShowing()&&(f-=p),f},i.prototype.isRowTallerThanView=function(t){var s=this.paginationProxy.getRow(t);if(!s)return!1;var p=s.rowHeight;return"number"==typeof p&&p>this.getViewportHeight()},i.prototype.getIndexToFocus=function(t,s){var p=t;if(s){var f=this.paginationProxy.getRow(t);f&&f.stub&&(p-=1)}return p},i.prototype.onCtrlUpOrDown=function(t,s){var p=t===We.UP,f=p?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow();this.navigateTo({scrollIndex:f,scrollType:null,scrollColumn:s.column,focusIndex:this.getIndexToFocus(f,!p),focusColumn:s.column})},i.prototype.onCtrlLeftOrRight=function(t,s){var p=t===We.LEFT,f=this.columnModel.getAllDisplayedColumns(),b=p!==this.gridOptionsWrapper.isEnableRtl()?f[0]:Rn(f);this.navigateTo({scrollIndex:s.rowIndex,scrollType:null,scrollColumn:b,focusIndex:s.rowIndex,focusColumn:b})},i.prototype.onHomeOrEndKey=function(t){var s=t===We.PAGE_HOME,p=this.columnModel.getAllDisplayedColumns(),f=s?p[0]:Rn(p),_=s?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow();this.navigateTo({scrollIndex:_,scrollType:null,scrollColumn:f,focusIndex:this.getIndexToFocus(_,!s),focusColumn:f})},i.prototype.onTabKeyDown=function(t,s){var p=s.shiftKey;if(this.tabToNextCellCommon(t,p))s.preventDefault();else if(p){var _=t.getRowPosition(),b=_.rowIndex;(_.rowPinned?0===b:b===this.paginationProxy.getPageFirstRow())&&(s.preventDefault(),this.focusService.focusLastHeader(s))}else t instanceof Nu&&t.focusCell(!0),this.focusService.focusNextGridCoreContainer(p)&&s.preventDefault()},i.prototype.tabToNextCell=function(t){var s=this.focusService.getFocusedCell();if(!s)return!1;var p=this.getCellByPosition(s);return!!(p||(p=this.rowRenderer.getRowByPosition(s),p&&p.isFullWidth()))&&this.tabToNextCellCommon(p,t)},i.prototype.tabToNextCellCommon=function(t,s){var p=t.isEditing();if(!p&&t instanceof Nu){var _=t.getRowCtrl();_&&(p=_.isEditing())}return(p?this.gridOptionsWrapper.isFullRowEdit()?this.moveToNextEditingRow(t,s):this.moveToNextEditingCell(t,s):this.moveToNextCellNotEditing(t,s))||!!this.focusService.getFocusedHeader()},i.prototype.moveToNextEditingCell=function(t,s){var p=t.getCellPosition();t.stopEditing();var f=this.findNextCellToFocusOn(p,s,!0);return null!=f&&(f.startEditing(null,null,!0),f.focusCell(!1),!0)},i.prototype.moveToNextEditingRow=function(t,s){var p=t.getCellPosition(),f=this.findNextCellToFocusOn(p,s,!0);if(null==f)return!1;var _=f.getCellPosition(),b=this.isCellEditable(p),A=this.isCellEditable(_),M=_&&p.rowIndex===_.rowIndex&&p.rowPinned===_.rowPinned;return b&&t.setFocusOutOnEditor(),M||(t.getRowCtrl().stopEditing(),f.getRowCtrl().startRowEditing()),A?(f.setFocusInOnEditor(),f.focusCell()):f.focusCell(!0),!0},i.prototype.moveToNextCellNotEditing=function(t,s){var f,p=this.columnModel.getAllDisplayedColumns();f=t instanceof ss?vd(vd({},t.getRowPosition()),{column:s?p[0]:Rn(p)}):t.getCellPosition();var _=this.findNextCellToFocusOn(f,s,!1);if(_ instanceof Nu)_.focusCell(!0);else if(_)return this.tryToFocusFullWidthRow(_.getRowPosition(),s);return J(_)},i.prototype.findNextCellToFocusOn=function(t,s,p){for(var f=t;;){s||(f=this.getLastCellOfColSpan(f)),f=this.cellNavigationService.getNextTabbedCell(f,s);var _=this.gridOptionsWrapper.getTabToNextCellFunc();if(J(_)){var A=_({backwards:s,editing:p,previousCellPosition:t,nextCellPosition:f||null,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()});J(A)?(A.floating&&(En(function(){console.warn("AG Grid: tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?")},"no floating in userCell"),A.rowPinned=A.floating),f={rowIndex:A.rowIndex,column:A.column,rowPinned:A.rowPinned}):f=null}if(!f)return null;if(f.rowIndex<0){var M=this.headerNavigationService.getHeaderRowCount();return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:M+f.rowIndex,column:f.column}}),null}var L=this.gridOptionsWrapper.isFullRowEdit();if(!p||L||this.isCellEditable(f)){this.ensureCellVisible(f);var U=this.getCellByPosition(f);if(!U){var te=this.rowRenderer.getRowByPosition(f);if(!te||!te.isFullWidth())continue;return te}if(!U.isSuppressNavigable())return this.rangeService&&this.rangeService.setRangeToCell(f),U}}},i.prototype.isCellEditable=function(t){var s=this.lookupRowNodeForCell(t);return!!s&&t.column.isCellEditable(s)},i.prototype.getCellByPosition=function(t){var s=this.rowRenderer.getRowByPosition(t);return s?s.getCellCtrl(t.column):null},i.prototype.lookupRowNodeForCell=function(t){return t.rowPinned===me.PINNED_TOP?this.pinnedRowModel.getPinnedTopRow(t.rowIndex):t.rowPinned===me.PINNED_BOTTOM?this.pinnedRowModel.getPinnedBottomRow(t.rowIndex):this.paginationProxy.getRow(t.rowIndex)},i.prototype.navigateToNextCell=function(t,s,p,f){for(var _=p,b=!1;_&&(_===p||!this.isValidNavigateCell(_));)this.gridOptionsWrapper.isEnableRtl()?s===We.LEFT&&(_=this.getLastCellOfColSpan(_)):s===We.RIGHT&&(_=this.getLastCellOfColSpan(_)),b=E(_=this.cellNavigationService.getNextCellToFocus(s,_));if(b&&t&&t.key===We.UP&&(_={rowIndex:-1,rowPinned:null,column:p.column}),f){var A=this.gridOptionsWrapper.getNavigateToNextCellFunc();if(J(A)){var L=A({key:s,previousCellPosition:p,nextCellPosition:_||null,event:t,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()});J(L)?(L.floating&&(En(function(){console.warn("AG Grid: tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?")},"no floating in userCell"),L.rowPinned=L.floating),_={rowPinned:L.rowPinned,rowIndex:L.rowIndex,column:L.column}):_=null}}if(_){if(_.rowIndex<0){var G=this.headerNavigationService.getHeaderRowCount();return void this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:G+_.rowIndex,column:p.column},event:t||void 0})}var U=this.getNormalisedPosition(_);U?this.focusPosition(U):this.tryToFocusFullWidthRow(_)}},i.prototype.getNormalisedPosition=function(t){this.ensureCellVisible(t);var s=this.getCellByPosition(t);return s?(t=s.getCellPosition(),this.ensureCellVisible(t),t):null},i.prototype.tryToFocusFullWidthRow=function(t,s){void 0===s&&(s=!1);var p=this.columnModel.getAllDisplayedColumns(),f=this.rowRenderer.getRowByPosition(t);if(!f||!f.isFullWidth())return!1;var _={rowIndex:t.rowIndex,rowPinned:t.rowPinned,column:t.column||(s?Rn(p):p[0])};return this.focusPosition(_),!0},i.prototype.focusPosition=function(t){this.focusService.setFocusedCell(t.rowIndex,t.column,t.rowPinned,!0),this.rangeService&&this.rangeService.setRangeToCell(t)},i.prototype.isValidNavigateCell=function(t){return!!this.rowPositionUtils.getRowNode(t)},i.prototype.getLastCellOfColSpan=function(t){var s=this.getCellByPosition(t);if(!s)return t;var p=s.getColSpanningList();return 1===p.length?t:{rowIndex:t.rowIndex,column:Rn(p),rowPinned:t.rowPinned}},i.prototype.ensureCellVisible=function(t){E(t.rowPinned)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(t.rowIndex),t.column.isPinned()||this.gridBodyCon.getScrollFeature().ensureColumnVisible(t.column),this.gridBodyCon.getScrollFeature().horizontallyScrollHeaderCenterAndFloatingCenter(),this.animationFrameService.flushAllFrames()},Ii([$("mouseEventService")],i.prototype,"mouseEventService",void 0),Ii([$("paginationProxy")],i.prototype,"paginationProxy",void 0),Ii([$("focusService")],i.prototype,"focusService",void 0),Ii([$("animationFrameService")],i.prototype,"animationFrameService",void 0),Ii([tn("rangeService")],i.prototype,"rangeService",void 0),Ii([$("columnModel")],i.prototype,"columnModel",void 0),Ii([$("ctrlsService")],i.prototype,"ctrlsService",void 0),Ii([$("rowRenderer")],i.prototype,"rowRenderer",void 0),Ii([$("headerNavigationService")],i.prototype,"headerNavigationService",void 0),Ii([$("rowPositionUtils")],i.prototype,"rowPositionUtils",void 0),Ii([$("cellNavigationService")],i.prototype,"cellNavigationService",void 0),Ii([$("pinnedRowModel")],i.prototype,"pinnedRowModel",void 0),Ii([$e],i.prototype,"postConstruct",null),Ii([tt("navigationService")],i)}(Ge),sb=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),Zp=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},ND=function(g,i){return function(t,s){i(t,s,g)}},JS=function(g){function i(){var t=null!==g&&g.apply(this,arguments)||this;return t.scrollY=0,t.uiBodyHeight=0,t}return sb(i,g),i.prototype.agWire=function(t){this.logger=t.create("RowContainerHeightService")},i.prototype.postConstruct=function(){this.addManagedListener(this.eventService,re.EVENT_BODY_HEIGHT_CHANGED,this.updateOffset.bind(this)),this.maxDivHeight=Gw(),this.logger.log("maxDivHeight = "+this.maxDivHeight)},i.prototype.isStretching=function(){return this.stretching},i.prototype.getDivStretchOffset=function(){return this.divStretchOffset},i.prototype.updateOffset=function(){if(this.stretching){var s=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition().top,p=this.getUiBodyHeight();(s!==this.scrollY||p!==this.uiBodyHeight)&&(this.scrollY=s,this.uiBodyHeight=p,this.calculateOffset())}},i.prototype.calculateOffset=function(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;var t=this.scrollY/this.maxScrollY,s=t*this.pixelsToShave;this.logger.log("Div Stretch Offset = "+s+" ("+this.pixelsToShave+" * "+t+")"),this.setDivStretchOffset(s)},i.prototype.setUiContainerHeight=function(t){t!==this.uiContainerHeight&&(this.uiContainerHeight=t,this.eventService.dispatchEvent({type:re.EVENT_ROW_CONTAINER_HEIGHT_CHANGED}))},i.prototype.clearOffset=function(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)},i.prototype.setDivStretchOffset=function(t){var s="number"==typeof t?Math.floor(t):null;this.divStretchOffset!==s&&(this.divStretchOffset=s,this.eventService.dispatchEvent({type:re.EVENT_HEIGHT_SCALE_CHANGED}))},i.prototype.setModelHeight=function(t){this.modelHeight=t,this.stretching=null!=t&&this.maxDivHeight>0&&t>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()},i.prototype.getUiContainerHeight=function(){return this.uiContainerHeight},i.prototype.getRealPixelPosition=function(t){return t-this.divStretchOffset},i.prototype.getUiBodyHeight=function(){var s=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition();return s.bottom-s.top},i.prototype.getScrollPositionForPixel=function(t){if(this.pixelsToShave<=0)return t;var s=this.modelHeight-this.getUiBodyHeight();return this.maxScrollY*(t/s)},Zp([$("ctrlsService")],i.prototype,"ctrlsService",void 0),Zp([ND(0,bi("loggerFactory"))],i.prototype,"agWire",null),Zp([$e],i.prototype,"postConstruct",null),Zp([tt("rowContainerHeightService")],i)}(Ge),lb=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),py=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},hy=function(g){function i(){return null!==g&&g.apply(this,arguments)||this}return lb(i,g),i.prototype.init=function(){this.groupSelectsChildren=this.gridOptionsWrapper.isGroupSelectsChildren(),this.isRowSelectableFunc=this.gridOptionsWrapper.getIsRowSelectableFunc()},i.prototype.updateSelectableAfterGrouping=function(t){this.isRowSelectableFunc&&this.recurseDown(t.childrenAfterGroup,function(p){return p.childrenAfterGroup})},i.prototype.updateSelectableAfterFiltering=function(t){this.isRowSelectableFunc&&this.recurseDown(t.childrenAfterGroup,function(p){return p.childrenAfterFilter})},i.prototype.recurseDown=function(t,s){var p=this;!t||t.forEach(function(f){var _;f.group&&(f.hasChildren()&&p.recurseDown(s(f),s),_=p.groupSelectsChildren?J((s(f)||[]).find(function(A){return!0===A.selectable})):!!p.isRowSelectableFunc&&p.isRowSelectableFunc(f),f.setRowSelectable(_))})},py([$e],i.prototype,"init",null),py([tt("selectableService")],i)}(Ge),ub=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),Lr=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},ag=function(g){function i(){var t=g.call(this)||this;return t.previousAndFirstButtonsDisabled=!1,t.nextButtonDisabled=!1,t.lastButtonDisabled=!1,t}return ub(i,g),i.prototype.postConstruct=function(){var t=this,s=this.gridOptionsWrapper.isEnableRtl();this.setTemplate(this.getTemplate()),this.btFirst.insertAdjacentElement("afterbegin",Mr(s?"last":"first",this.gridOptionsWrapper)),this.btPrevious.insertAdjacentElement("afterbegin",Mr(s?"next":"previous",this.gridOptionsWrapper)),this.btNext.insertAdjacentElement("afterbegin",Mr(s?"previous":"next",this.gridOptionsWrapper)),this.btLast.insertAdjacentElement("afterbegin",Mr(s?"first":"last",this.gridOptionsWrapper)),this.gridOptionsWrapper.isPagination()&&!this.gridOptionsWrapper.isSuppressPaginationPanel()?(this.addManagedListener(this.eventService,re.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach(function(_){var b=_.el,A=_.fn;t.addManagedListener(b,"click",A),t.addManagedListener(b,"keydown",function(M){(M.key===We.ENTER||M.key===We.SPACE)&&(M.preventDefault(),A())})}),this.onPaginationChanged()):this.setDisplayed(!1)},i.prototype.onPaginationChanged=function(){this.enableOrDisableButtons(),this.updateRowLabels(),this.setCurrentPageLabel(),this.setTotalLabels()},i.prototype.onBtFirst=function(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToFirstPage()},i.prototype.setCurrentPageLabel=function(){var t=this.paginationProxy.getTotalPages()>0,s=this.paginationProxy.getCurrentPage();this.lbCurrent.innerHTML=this.formatNumber(t?s+1:0)},i.prototype.formatNumber=function(t){var s=this.gridOptionsWrapper.getPaginationNumberFormatterFunc();if(s)return s({value:t});var p=this.gridOptionsWrapper.getLocaleTextFunc();return Qh(t,p("thousandSeparator",","),p("decimalSeparator","."))},i.prototype.getTemplate=function(){var t=this.gridOptionsWrapper.getLocaleTextFunc(),s=t("page","Page"),p=t("to","to"),f=t("of","of"),_=t("firstPage","First Page"),b=t("previousPage","Previous Page"),A=t("nextPage","Next Page"),M=t("lastPage","Last Page"),L=this.getCompId();return'<div class="ag-paging-panel ag-unselectable" id="ag-'+L+'">\n                <span class="ag-paging-row-summary-panel" role="status">\n                    <span id="ag-'+L+'-first-row" ref="lbFirstRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    <span id="ag-'+L+'-to">'+p+'</span>\n                    <span id="ag-'+L+'-last-row" ref="lbLastRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    <span id="ag-'+L+'-of">'+f+'</span>\n                    <span id="ag-'+L+'-row-count" ref="lbRecordCount" class="ag-paging-row-summary-panel-number"></span>\n                </span>\n                <span class="ag-paging-page-summary-panel" role="presentation">\n                    <div ref="btFirst" class="ag-paging-button" role="button" aria-label="'+_+'" tabindex="0"></div>\n                    <div ref="btPrevious" class="ag-paging-button" role="button" aria-label="'+b+'" tabindex="0"></div>\n                    <span class="ag-paging-description" role="status">\n                        <span id="ag-'+L+'-start-page">'+s+'</span>\n                        <span id="ag-'+L+'-start-page-number" ref="lbCurrent" class="ag-paging-number"></span>\n                        <span id="ag-'+L+'-of-page">'+f+'</span>\n                        <span id="ag-'+L+'-of-page-number" ref="lbTotal" class="ag-paging-number"></span>\n                    </span>\n                    <div ref="btNext" class="ag-paging-button" role="button" aria-label="'+A+'" tabindex="0"></div>\n                    <div ref="btLast" class="ag-paging-button" role="button" aria-label="'+M+'" tabindex="0"></div>\n                </span>\n            </div>'},i.prototype.onBtNext=function(){this.nextButtonDisabled||this.paginationProxy.goToNextPage()},i.prototype.onBtPrevious=function(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToPreviousPage()},i.prototype.onBtLast=function(){this.lastButtonDisabled||this.paginationProxy.goToLastPage()},i.prototype.enableOrDisableButtons=function(){var t=this.paginationProxy.getCurrentPage(),s=this.paginationProxy.isLastPageFound(),p=this.paginationProxy.getTotalPages();this.previousAndFirstButtonsDisabled=0===t,this.btFirst.classList.toggle("ag-disabled",this.previousAndFirstButtonsDisabled),Pc(this.btFirst,this.previousAndFirstButtonsDisabled),this.btPrevious.classList.toggle("ag-disabled",this.previousAndFirstButtonsDisabled),Pc(this.btPrevious,this.previousAndFirstButtonsDisabled);var f=this.isZeroPagesToDisplay();this.nextButtonDisabled=s&&t===p-1||f,this.btNext.classList.toggle("ag-disabled",this.nextButtonDisabled),Pc(this.btNext,this.nextButtonDisabled),this.lastButtonDisabled=!s||f||t===p-1,this.btLast.classList.toggle("ag-disabled",this.lastButtonDisabled),Pc(this.btLast,this.lastButtonDisabled)},i.prototype.updateRowLabels=function(){var _,b,t=this.paginationProxy.getCurrentPage(),s=this.paginationProxy.getPageSize(),p=this.paginationProxy.isLastPageFound(),f=this.paginationProxy.isLastPageFound()?this.paginationProxy.getMasterRowCount():null;this.isZeroPagesToDisplay()?_=b=0:(b=(_=s*t+1)+s-1,p&&b>f&&(b=f)),this.lbFirstRowOnPage.innerHTML=this.formatNumber(_),this.lbLastRowOnPage.innerHTML=this.rowNodeBlockLoader.isLoading()?"?":this.formatNumber(b)},i.prototype.isZeroPagesToDisplay=function(){var t=this.paginationProxy.isLastPageFound(),s=this.paginationProxy.getTotalPages();return t&&0===s},i.prototype.setTotalLabels=function(){var t=this.paginationProxy.isLastPageFound(),s=this.paginationProxy.getTotalPages(),p=t?this.paginationProxy.getMasterRowCount():null;if(1===p){var f=this.paginationProxy.getRow(0);if(f&&f.group&&!f.groupData&&!f.aggData)return void this.setTotalLabelsToZero()}if(t)this.lbTotal.innerHTML=this.formatNumber(s),this.lbRecordCount.innerHTML=this.formatNumber(p);else{var b=this.gridOptionsWrapper.getLocaleTextFunc()("more","more");this.lbTotal.innerHTML=b,this.lbRecordCount.innerHTML=b}},i.prototype.setTotalLabelsToZero=function(){this.lbFirstRowOnPage.innerHTML=this.formatNumber(0),this.lbCurrent.innerHTML=this.formatNumber(0),this.lbLastRowOnPage.innerHTML=this.formatNumber(0),this.lbTotal.innerHTML=this.formatNumber(0),this.lbRecordCount.innerHTML=this.formatNumber(0)},Lr([$("paginationProxy")],i.prototype,"paginationProxy",void 0),Lr([$("rowNodeBlockLoader")],i.prototype,"rowNodeBlockLoader",void 0),Lr([Ve("btFirst")],i.prototype,"btFirst",void 0),Lr([Ve("btPrevious")],i.prototype,"btPrevious",void 0),Lr([Ve("btNext")],i.prototype,"btNext",void 0),Lr([Ve("btLast")],i.prototype,"btLast",void 0),Lr([Ve("lbRecordCount")],i.prototype,"lbRecordCount",void 0),Lr([Ve("lbFirstRowOnPage")],i.prototype,"lbFirstRowOnPage",void 0),Lr([Ve("lbLastRowOnPage")],i.prototype,"lbLastRowOnPage",void 0),Lr([Ve("lbCurrent")],i.prototype,"lbCurrent",void 0),Lr([Ve("lbTotal")],i.prototype,"lbTotal",void 0),Lr([$e],i.prototype,"postConstruct",null),i}(Ut),eE=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),$l=function(g){function i(){var t=null!==g&&g.apply(this,arguments)||this;return t.polyfillFunctions=[],t}return eE(i,g),i.prototype.observeResize=function(t,s){var U,p=this,_=this.gridOptionsWrapper.getDocument().defaultView||window,b=pu(s,50),L=this.gridOptionsWrapper.isSuppressBrowserResizeObserver();return _.ResizeObserver&&!L?((U=new _.ResizeObserver(b)).observe(t),function(){return U.disconnect()}):function(){var U=zi(t),te=nr(t),le=!0,ge=function(){if(le){var ve=zi(t),we=nr(t);(ve!==U||we!==te)&&(U=ve,te=we,s()),p.doNextPolyfillTurn(ge)}};return ge(),function(){return le=!1}}()},i.prototype.doNextPolyfillTurn=function(t){this.polyfillFunctions.push(t),this.schedulePolyfill()},i.prototype.schedulePolyfill=function(){var t=this;this.polyfillScheduled||(this.polyfillScheduled=!0,this.getFrameworkOverrides().setTimeout(function(){var p=t.polyfillFunctions;t.polyfillScheduled=!1,t.polyfillFunctions=[],p.forEach(function(f){return f()})},50))},i=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f}([tt("resizeObserverService")],i),i}(Ge),cb=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),Kl=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},La=(()=>(function(g){g[g.Loading=0]="Loading",g[g.NoRows=1]="NoRows"}(La||(La={})),La))(),rE=function(g){function i(){var t=g.call(this,i.TEMPLATE)||this;return t.inProgress=!1,t.destroyRequested=!1,t}return cb(i,g),i.prototype.updateLayoutClasses=function(t,s){var p=this.eOverlayWrapper.classList;p.toggle(B.LayoutCssClasses.AUTO_HEIGHT,s.autoHeight),p.toggle(B.LayoutCssClasses.NORMAL,s.normal),p.toggle(B.LayoutCssClasses.PRINT,s.print)},i.prototype.postConstruct=function(){this.createManagedBean(new jf(this)),this.setDisplayed(!1),this.addManagedListener(this.eventService,re.EVENT_ROW_DATA_CHANGED,this.onRowDataChanged.bind(this)),this.addManagedListener(this.eventService,re.EVENT_ROW_DATA_UPDATED,this.onRowDataChanged.bind(this)),this.addManagedListener(this.eventService,re.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.gridOptionsWrapper.isRowModelDefault()&&!this.gridOptionsWrapper.getRowData()&&this.showLoadingOverlay(),this.gridApi.registerOverlayWrapperComp(this)},i.prototype.setWrapperTypeClass=function(t){var s=this.eOverlayWrapper.classList;s.toggle("ag-overlay-loading-wrapper",t===La.Loading),s.toggle("ag-overlay-no-rows-wrapper",t===La.NoRows)},i.prototype.showLoadingOverlay=function(){if(!this.gridOptionsWrapper.isSuppressLoadingOverlay()){var t={api:this.gridOptionsWrapper.getApi()},p=this.userComponentFactory.getLoadingOverlayCompDetails(t).newAgStackInstance();this.showOverlay(p,La.Loading)}},i.prototype.showNoRowsOverlay=function(){if(!this.gridOptionsWrapper.isSuppressNoRowsOverlay()){var t={api:this.gridOptionsWrapper.getApi()},p=this.userComponentFactory.getNoRowsOverlayCompDetails(t).newAgStackInstance();this.showOverlay(p,La.NoRows)}},i.prototype.showOverlay=function(t,s){var p=this;this.inProgress||(this.setWrapperTypeClass(s),this.destroyActiveOverlay(),this.inProgress=!0,t&&t.then(function(f){p.inProgress=!1,p.eOverlayWrapper.appendChild(f.getGui()),p.activeOverlay=f,p.destroyRequested&&(p.destroyRequested=!1,p.destroyActiveOverlay())}),this.setDisplayed(!0))},i.prototype.destroyActiveOverlay=function(){this.inProgress?this.destroyRequested=!0:!this.activeOverlay||(this.activeOverlay=this.getContext().destroyBean(this.activeOverlay),Bn(this.eOverlayWrapper))},i.prototype.hideOverlay=function(){this.destroyActiveOverlay(),this.setDisplayed(!1)},i.prototype.destroy=function(){this.destroyActiveOverlay(),g.prototype.destroy.call(this)},i.prototype.showOrHideOverlay=function(){var t=this.paginationProxy.isEmpty(),s=this.gridOptionsWrapper.isSuppressNoRowsOverlay();t&&!s?this.showNoRowsOverlay():this.hideOverlay()},i.prototype.onRowDataChanged=function(){this.showOrHideOverlay()},i.prototype.onNewColumnsLoaded=function(){this.columnModel.isReady()&&!this.paginationProxy.isEmpty()&&this.hideOverlay()},i.TEMPLATE='\n        <div class="ag-overlay" aria-hidden="true">\n            <div class="ag-overlay-panel">\n                <div class="ag-overlay-wrapper" ref="eOverlayWrapper"></div>\n            </div>\n        </div>',Kl([$("userComponentFactory")],i.prototype,"userComponentFactory",void 0),Kl([$("paginationProxy")],i.prototype,"paginationProxy",void 0),Kl([$("gridApi")],i.prototype,"gridApi",void 0),Kl([$("columnModel")],i.prototype,"columnModel",void 0),Kl([Ve("eOverlayWrapper")],i.prototype,"eOverlayWrapper",void 0),Kl([$e],i.prototype,"postConstruct",null),i}(Ut),sg=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),Js=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},fy=function(g){function i(t){void 0===t&&(t={});var s=g.call(this,i.getTemplate(t))||this;s.suppressEnabledCheckbox=!0,s.suppressOpenCloseIcons=!1;var f=t.enabled,_=t.items,b=t.suppressEnabledCheckbox,A=t.suppressOpenCloseIcons;return s.title=t.title,s.cssIdentifier=t.cssIdentifier||"default",s.enabled=null==f||f,s.items=_||[],s.alignItems=t.alignItems||"center",null!=b&&(s.suppressEnabledCheckbox=b),null!=A&&(s.suppressOpenCloseIcons=A),s}return sg(i,g),i.getTemplate=function(t){var s=t.cssIdentifier||"default";return'<div class="ag-group ag-'+s+'-group" role="presentation">\n            <div class="ag-group-title-bar ag-'+s+'-group-title-bar ag-unselectable" ref="eTitleBar" role="button">\n                <span class="ag-group-title-bar-icon ag-'+s+'-group-title-bar-icon" ref="eGroupOpenedIcon" role="presentation"></span>\n                <span class="ag-group-title-bar-icon ag-'+s+'-group-title-bar-icon" ref="eGroupClosedIcon" role="presentation"></span>\n                <span ref="eTitle" class="ag-group-title ag-'+s+'-group-title"></span>\n            </div>\n            <div ref="eToolbar" class="ag-group-toolbar ag-'+s+'-group-toolbar">\n                <ag-checkbox ref="cbGroupEnabled"></ag-checkbox>\n            </div>\n            <div ref="eContainer" class="ag-group-container ag-group-container-'+(t.direction||"vertical")+" ag-"+s+'-group-container"></div>\n        </div>'},i.prototype.postConstruct=function(){if(this.items.length){var t=this.items;this.items=[],this.addItems(t)}var s=this.gridOptionsWrapper.getLocaleTextFunc();this.cbGroupEnabled.setLabel(s("enabled","Enabled")),this.title&&this.setTitle(this.title),this.enabled&&this.setEnabled(this.enabled),this.setAlignItems(this.alignItems),this.hideEnabledCheckbox(this.suppressEnabledCheckbox),this.hideOpenCloseIcons(this.suppressOpenCloseIcons),this.setupExpandContract(),this.refreshAriaStatus(),this.refreshChildDisplay()},i.prototype.setupExpandContract=function(){var t=this;this.eGroupClosedIcon.appendChild(Fn("columnSelectClosed",this.gridOptionsWrapper,null)),this.eGroupOpenedIcon.appendChild(Fn("columnSelectOpen",this.gridOptionsWrapper,null)),this.addManagedListener(this.eTitleBar,"click",function(){return t.toggleGroupExpand()}),this.addManagedListener(this.eTitleBar,"keydown",function(s){switch(s.key){case We.ENTER:case We.SPACE:s.preventDefault(),t.toggleGroupExpand();break;case We.RIGHT:case We.LEFT:s.preventDefault(),t.toggleGroupExpand(s.key===We.RIGHT)}})},i.prototype.refreshAriaStatus=function(){this.suppressOpenCloseIcons||qo(this.eTitleBar,this.expanded)},i.prototype.refreshChildDisplay=function(){var t=!this.suppressOpenCloseIcons;Mn(this.eToolbar,this.expanded&&!this.suppressEnabledCheckbox),Mn(this.eGroupOpenedIcon,t&&this.expanded),Mn(this.eGroupClosedIcon,t&&!this.expanded)},i.prototype.isExpanded=function(){return this.expanded},i.prototype.setAlignItems=function(t){return this.alignItems!==t&&this.removeCssClass("ag-group-item-alignment-"+this.alignItems),this.alignItems=t,this.addCssClass("ag-group-item-alignment-"+this.alignItems),this},i.prototype.toggleGroupExpand=function(t){return this.suppressOpenCloseIcons?(this.expanded=!0,this.refreshChildDisplay(),Mn(this.eContainer,!0),this):(this.expanded===(t=null!=t?t:!this.expanded)||(this.expanded=t,this.refreshAriaStatus(),this.refreshChildDisplay(),Mn(this.eContainer,t),this.dispatchEvent({type:this.expanded?i.EVENT_EXPANDED:i.EVENT_COLLAPSED})),this)},i.prototype.addItems=function(t){var s=this;t.forEach(function(p){return s.addItem(p)})},i.prototype.addItem=function(t){var s=this.eContainer,p=t instanceof Ut?t.getGui():t;p.classList.add("ag-group-item","ag-"+this.cssIdentifier+"-group-item"),s.appendChild(p),this.items.push(p)},i.prototype.hideItem=function(t,s){this.items[s].classList.toggle("ag-hidden",t)},i.prototype.setTitle=function(t){return this.eTitle.innerText=t,this},i.prototype.addCssClassToTitleBar=function(t){this.eTitleBar.classList.add(t)},i.prototype.setEnabled=function(t,s){return this.enabled=t,this.refreshDisabledStyles(),this.toggleGroupExpand(t),s||this.cbGroupEnabled.setValue(t),this},i.prototype.isEnabled=function(){return this.enabled},i.prototype.onEnableChange=function(t){var s=this;return this.cbGroupEnabled.onValueChange(function(p){s.setEnabled(p,!0),t(p)}),this},i.prototype.hideEnabledCheckbox=function(t){return this.suppressEnabledCheckbox=t,this.refreshChildDisplay(),this.refreshDisabledStyles(),this},i.prototype.hideOpenCloseIcons=function(t){return this.suppressOpenCloseIcons=t,t&&this.toggleGroupExpand(!0),this},i.prototype.refreshDisabledStyles=function(){this.addOrRemoveCssClass("ag-disabled",!this.enabled),this.suppressEnabledCheckbox&&!this.enabled?(this.eTitleBar.classList.add("ag-disabled-group-title-bar"),this.eTitleBar.removeAttribute("tabindex")):(this.eTitleBar.classList.remove("ag-disabled-group-title-bar"),this.eTitleBar.setAttribute("tabindex","0")),this.eContainer.classList.toggle("ag-disabled-group-container",!this.enabled)},i.EVENT_EXPANDED="expanded",i.EVENT_COLLAPSED="collapsed",Js([Ve("eTitleBar")],i.prototype,"eTitleBar",void 0),Js([Ve("eGroupOpenedIcon")],i.prototype,"eGroupOpenedIcon",void 0),Js([Ve("eGroupClosedIcon")],i.prototype,"eGroupClosedIcon",void 0),Js([Ve("eToolbar")],i.prototype,"eToolbar",void 0),Js([Ve("cbGroupEnabled")],i.prototype,"cbGroupEnabled",void 0),Js([Ve("eTitle")],i.prototype,"eTitle",void 0),Js([Ve("eContainer")],i.prototype,"eContainer",void 0),Js([$e],i.prototype,"postConstruct",null),i}(Ut),db=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),pb=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},hb=function(g){function i(t,s){var p=g.call(this)||this;return p.element=t,p.dragStartPosition={x:0,y:0},p.position={x:0,y:0},p.lastSize={width:-1,height:-1},p.positioned=!1,p.resizersAdded=!1,p.resizeListeners=[],p.boundaryEl=null,p.isResizing=!1,p.isMoving=!1,p.resizable={},p.movable=!1,p.currentResizer=null,p.config=Object.assign({},{popup:!1},s),p}return db(i,g),i.prototype.center=function(){var t=this.offsetParent,s=t.clientHeight,f=t.clientWidth/2-this.getWidth()/2,_=s/2-this.getHeight()/2;this.offsetElement(f,_)},i.prototype.initialisePosition=function(){var t=this.config,s=t.centered,p=t.forcePopupParentAsOffsetParent,f=t.minWidth,_=t.width,b=t.minHeight,A=t.height,M=t.x,L=t.y;this.offsetParent||this.setOffsetParent();var G=0,U=0,te=!!this.element.offsetParent;if(te){var le=this.findBoundaryElement(),ge=window.getComputedStyle(le);if(null!=ge.minWidth){var ve=le.offsetWidth-this.element.offsetWidth;U=parseInt(ge.minWidth,10)-ve}if(null!=ge.minHeight){var we=le.offsetHeight-this.element.offsetHeight;G=parseInt(ge.minHeight,10)-we}}if(this.minHeight=b||G,this.minWidth=f||U,_&&this.setWidth(_),A&&this.setHeight(A),(!_||!A)&&this.refreshSize(),s)this.center();else if(M||L)this.offsetElement(M,L);else if(te&&p&&this.boundaryEl){var Re=parseFloat(this.boundaryEl.style.top),Fe=parseFloat(this.boundaryEl.style.left);this.offsetElement(isNaN(Fe)?0:Fe,isNaN(Re)?0:Re)}this.positioned=!!this.offsetParent},i.prototype.isPositioned=function(){return this.positioned},i.prototype.getPosition=function(){return this.position},i.prototype.setMovable=function(t,s){if(this.config.popup&&t!==this.movable){this.movable=t;var p=this.moveElementDragListener||{eElement:s,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};t?(this.dragService.addDragSource(p),this.moveElementDragListener=p):(this.dragService.removeDragSource(p),this.moveElementDragListener=void 0)}},i.prototype.setResizable=function(t){var s=this;if(this.clearResizeListeners(),t?this.addResizers():this.removeResizers(),"boolean"==typeof t){if(!1===t)return;t={topLeft:t,top:t,topRight:t,right:t,bottomRight:t,bottom:t,bottomLeft:t,left:t}}Object.keys(t).forEach(function(p){var _=!!t[p],b=s.getResizerElement(p),A={dragStartPixels:0,eElement:b,onDragStart:function(M){return s.onResizeStart(M,p)},onDragging:s.onResize.bind(s),onDragStop:function(M){return s.onResizeEnd(M,p)}};(!!s.resizable[p]!==_||!s.isAlive()&&!_)&&(_?(s.dragService.addDragSource(A),s.resizeListeners.push(A),b.style.pointerEvents="all"):b.style.pointerEvents="none")})},i.prototype.removeSizeFromEl=function(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")},i.prototype.restoreLastSize=function(){this.element.style.flex="0 0 auto";var t=this.lastSize,s=t.height,p=t.width;-1!==p&&(this.element.style.width=p+"px"),-1!==s&&(this.element.style.height=s+"px")},i.prototype.getHeight=function(){return this.element.offsetHeight},i.prototype.setHeight=function(t){var s=this.config.popup,p=this.element,f=!1;if("string"==typeof t&&-1!==t.indexOf("%"))Ko(p,t),t=Tt(p),f=!0;else if(this.positioned){var _=this.element.getBoundingClientRect(),b=this.offsetParent.getBoundingClientRect();t=Math.max(this.minHeight,t);var A=this.offsetParent.clientHeight,M=s?this.position.y:_.top;A&&t+M>A+(s?0:b.top)&&(t=A-M)}this.getHeight()!==t&&(f?(p.style.maxHeight="unset",p.style.minHeight="unset"):s?Ko(p,t):(p.style.height=t+"px",p.style.flex="0 0 auto",this.lastSize.height="number"==typeof t?t:parseFloat(t)))},i.prototype.getWidth=function(){return this.element.offsetWidth},i.prototype.setWidth=function(t){var s=this.element,p=this.config.popup,f=!1;if("string"==typeof t&&-1!==t.indexOf("%"))$i(s,t),t=Ac(s),f=!0;else if(this.positioned){t=Math.max(this.minWidth,t);var _=this.offsetParent.clientWidth,b=p?this.position.x:this.element.getBoundingClientRect().left;_&&t+b>_&&(t=_-b)}this.getWidth()!==t&&(f?(s.style.maxWidth="unset",s.style.minWidth="unset"):this.config.popup?$i(s,t):(s.style.width=t+"px",s.style.flex=" unset",this.lastSize.width="number"==typeof t?t:parseFloat(t)))},i.prototype.offsetElement=function(t,s){void 0===t&&(t=0),void 0===s&&(s=0);var p=this.config.forcePopupParentAsOffsetParent?this.boundaryEl:this.element;this.popupService.positionPopup({ePopup:p,x:t,y:s,keepWithinBounds:!0}),this.setPosition(parseFloat(p.style.left),parseFloat(p.style.top))},i.prototype.setPosition=function(t,s){this.position.x=t,this.position.y=s},i.prototype.updateDragStartPosition=function(t,s){this.dragStartPosition={x:t,y:s}},i.prototype.calculateMouseMovement=function(t){var s=t.e,f=t.isTop,b=t.topBuffer,A=s.clientX-this.dragStartPosition.x,M=s.clientY-this.dragStartPosition.y;return{movementX:this.shouldSkipX(s,!!t.isLeft,!!t.anywhereWithin,A)?0:A,movementY:this.shouldSkipY(s,!!f,b,M)?0:M}},i.prototype.shouldSkipX=function(t,s,p,f){var _=this.element.getBoundingClientRect(),b=this.offsetParent.getBoundingClientRect(),A=this.boundaryEl.getBoundingClientRect(),M=this.config.popup?this.position.x:_.left,L=M<=0&&b.left>=t.clientX||b.right<=t.clientX&&b.right<=A.right;return!!L||(s?f<0&&t.clientX>M+b.left||f>0&&t.clientX<M+b.left:p?f<0&&t.clientX>A.right||f>0&&t.clientX<M+b.left:f<0&&t.clientX>A.right||f>0&&t.clientX<A.right)},i.prototype.shouldSkipY=function(t,s,p,f){void 0===p&&(p=0);var _=this.element.getBoundingClientRect(),b=this.offsetParent.getBoundingClientRect(),A=this.boundaryEl.getBoundingClientRect(),M=this.config.popup?this.position.y:_.top,L=M<=0&&b.top>=t.clientY||b.bottom<=t.clientY&&b.bottom<=A.bottom;return!!L||(s?f<0&&t.clientY>M+b.top+p||f>0&&t.clientY<M+b.top:f<0&&t.clientY>A.bottom||f>0&&t.clientY<A.bottom)},i.prototype.createResizeMap=function(){var t=this.element;this.resizerMap={topLeft:{element:t.querySelector("[ref=eTopLeftResizer]")},top:{element:t.querySelector("[ref=eTopResizer]")},topRight:{element:t.querySelector("[ref=eTopRightResizer]")},right:{element:t.querySelector("[ref=eRightResizer]")},bottomRight:{element:t.querySelector("[ref=eBottomRightResizer]")},bottom:{element:t.querySelector("[ref=eBottomResizer]")},bottomLeft:{element:t.querySelector("[ref=eBottomLeftResizer]")},left:{element:t.querySelector("[ref=eLeftResizer]")}}},i.prototype.addResizers=function(){if(!this.resizersAdded){var t=this.element;if(t){var p=(new DOMParser).parseFromString('<div class="ag-resizer-wrapper">\n        <div ref="eTopLeftResizer" class="ag-resizer ag-resizer-topLeft"></div>\n        <div ref="eTopResizer" class="ag-resizer ag-resizer-top"></div>\n        <div ref="eTopRightResizer" class="ag-resizer ag-resizer-topRight"></div>\n        <div ref="eRightResizer" class="ag-resizer ag-resizer-right"></div>\n        <div ref="eBottomRightResizer" class="ag-resizer ag-resizer-bottomRight"></div>\n        <div ref="eBottomResizer" class="ag-resizer ag-resizer-bottom"></div>\n        <div ref="eBottomLeftResizer" class="ag-resizer ag-resizer-bottomLeft"></div>\n        <div ref="eLeftResizer" class="ag-resizer ag-resizer-left"></div>\n    </div>',"text/html").body;t.appendChild(p.firstChild),this.createResizeMap(),this.resizersAdded=!0}}},i.prototype.removeResizers=function(){this.resizerMap=void 0;var t=this.element.querySelector(".ag-resizer-wrapper");t&&this.element.removeChild(t),this.resizersAdded=!1},i.prototype.getResizerElement=function(t){return this.resizerMap[t].element},i.prototype.onResizeStart=function(t,s){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!s.match(/top/i),isRight:!!s.match(/right/i),isBottom:!!s.match(/bottom/i),isLeft:!!s.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[s].element.classList.add("ag-active");var p=this.config;!p.popup&&!p.forcePopupParentAsOffsetParent&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(t.clientX,t.clientY)},i.prototype.getSiblings=function(){var s=this.element.parentElement;return s?Array.prototype.slice.call(s.children).filter(function(p){return!p.classList.contains("ag-hidden")}):null},i.prototype.getMinSizeOfSiblings=function(){for(var t=this.getSiblings()||[],s=0,p=0,f=0;f<t.length;f++){var _=t[f];if(_!==this.element){var A=this.minHeight||0,M=this.minWidth||0;if(_.style.flex&&"0 0 auto"!==_.style.flex){var L=window.getComputedStyle(_);L.minHeight&&(A=parseInt(L.minHeight,10)),L.minWidth&&(M=parseInt(L.minWidth,10))}else A=_.offsetHeight,M=_.offsetWidth;s+=A,p+=M}}return{height:s,width:p}},i.prototype.applySizeToSiblings=function(t){var s=null,p=this.getSiblings();if(p){for(var f=0;f<p.length;f++){var _=p[f];_!==s&&(t?_.style.height=_.offsetHeight+"px":_.style.width=_.offsetWidth+"px",_.style.flex="0 0 auto",_===this.element&&(s=p[f+1]))}s&&(s.style.removeProperty("height"),s.style.removeProperty("min-height"),s.style.removeProperty("max-height"),s.style.flex="1 1 auto")}},i.prototype.onResize=function(t){if(this.isResizing&&this.currentResizer){var s=this.config,p=s.popup,f=s.forcePopupParentAsOffsetParent,_=this.currentResizer,b=_.isTop,L=_.isLeft,G=_.isRight||L,U=_.isBottom||b,te=this.calculateMouseMovement({e:t,isLeft:L,isTop:b}),le=te.movementX,ge=te.movementY,ve=this.position.x,we=this.position.y,Re=0,Fe=0;if(G&&le){var Ye=L?-1:1,dt=this.getWidth(),Cn=dt+le*Ye,$t=!1;L&&(ve+(Re=dt-Cn)<=0||Cn<=this.minWidth)&&($t=!0,Re=0),$t||this.setWidth(Cn)}if(U&&ge){Ye=b?-1:1;var It=this.getHeight(),sn=It+ge*Ye,nn=!1;b?(we+(Fe=It-sn)<=0||sn<=this.minHeight)&&(nn=!0,Fe=0):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&It<sn&&this.getMinSizeOfSiblings().height+sn>this.element.parentElement.offsetHeight&&(nn=!0),nn||this.setHeight(sn)}this.updateDragStartPosition(t.clientX,t.clientY),((p||f)&&Re||Fe)&&this.offsetElement(ve+Re,we+Fe)}},i.prototype.onResizeEnd=function(t,s){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null;var p={type:"resize",api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()};this.element.classList.remove("ag-resizing"),this.resizerMap[s].element.classList.remove("ag-active"),this.dispatchEvent(p)},i.prototype.refreshSize=function(){var t=this.element;this.config.popup&&(this.config.width||this.setWidth(t.offsetWidth),this.config.height||this.setHeight(t.offsetHeight))},i.prototype.onMoveStart=function(t){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(t.clientX,t.clientY)},i.prototype.onMove=function(t){if(this.isMoving){var _,s=this.position,p=s.x,f=s.y;this.config.calculateTopBuffer&&(_=this.config.calculateTopBuffer());var b=this.calculateMouseMovement({e:t,isTop:!0,anywhereWithin:!0,topBuffer:_});this.offsetElement(p+b.movementX,f+b.movementY),this.updateDragStartPosition(t.clientX,t.clientY)}},i.prototype.onMoveEnd=function(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")},i.prototype.setOffsetParent=function(){this.offsetParent=this.config.forcePopupParentAsOffsetParent?this.popupService.getPopupParent():this.element.offsetParent},i.prototype.findBoundaryElement=function(){for(var t=this.element;t;){if("static"!==window.getComputedStyle(t).position)return t;t=t.parentElement}return this.element},i.prototype.clearResizeListeners=function(){for(;this.resizeListeners.length;){var t=this.resizeListeners.pop();this.dragService.removeDragSource(t)}},i.prototype.destroy=function(){g.prototype.destroy.call(this),this.moveElementDragListener&&this.dragService.removeDragSource(this.moveElementDragListener),this.clearResizeListeners(),this.removeResizers()},pb([$("popupService")],i.prototype,"popupService",void 0),pb([$("dragService")],i.prototype,"dragService",void 0),i}(Ge),lg=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),el=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},gy=function(g){function i(t){var s=g.call(this,i.getTemplate(t))||this;return s.closable=!0,s.config=t,s}return lg(i,g),i.getTemplate=function(t){var s=t&&t.cssIdentifier||"default";return'<div class="ag-panel ag-'+s+'-panel" tabindex="-1">\n            <div ref="eTitleBar" class="ag-panel-title-bar ag-'+s+'-panel-title-bar ag-unselectable">\n                <span ref="eTitle" class="ag-panel-title-bar-title ag-'+s+'-panel-title-bar-title"></span>\n                <div ref="eTitleBarButtons" class="ag-panel-title-bar-buttons ag-'+s+'-panel-title-bar-buttons"></div>\n            </div>\n            <div ref="eContentWrapper" class="ag-panel-content-wrapper ag-'+s+'-panel-content-wrapper"></div>\n        </div>'},i.prototype.postConstruct=function(){var t=this,s=this.config,p=s.component,f=s.closable,_=s.hideTitleBar,b=s.title,A=s.minWidth,M=void 0===A?250:A,L=s.width,G=s.minHeight,U=void 0===G?250:G,te=s.height,le=s.centered,ge=s.popup,ve=s.x,we=s.y;this.positionableFeature=new hb(this.getGui(),{minWidth:M,width:L,minHeight:U,height:te,centered:le,x:ve,y:we,popup:ge,calculateTopBuffer:function(){return t.positionableFeature.getHeight()-t.getBodyHeight()}}),this.createManagedBean(this.positionableFeature);var Re=this.getGui();p&&this.setBodyComponent(p),_?this.eTitleBar.classList.add("ag-hidden"):(b&&this.setTitle(b),this.setClosable(null!=f?f:this.closable)),this.addManagedListener(this.eTitleBar,"mousedown",function(Fe){var Ye=t.gridOptionsWrapper.getDocument();if(Re.contains(Fe.relatedTarget)||Re.contains(Ye.activeElement)||t.eTitleBarButtons.contains(Fe.target))Fe.preventDefault();else{var dt=t.eContentWrapper.querySelector("button, [href], input, select, textarea, [tabindex]");dt&&dt.focus()}}),(!ge||!this.positionableFeature.isPositioned())&&(this.renderComponent&&this.renderComponent(),this.positionableFeature.initialisePosition(),this.eContentWrapper.style.height="0")},i.prototype.renderComponent=function(){var t=this,s=this.getGui();s.focus(),this.close=function(){s.parentElement.removeChild(s),t.destroy()}},i.prototype.getHeight=function(){return this.positionableFeature.getHeight()},i.prototype.setHeight=function(t){this.positionableFeature.setHeight(t)},i.prototype.getWidth=function(){return this.positionableFeature.getWidth()},i.prototype.setWidth=function(t){this.positionableFeature.setWidth(t)},i.prototype.setClosable=function(t){if(t!==this.closable&&(this.closable=t),t){var s=this.closeButtonComp=new Ut(i.CLOSE_BTN_TEMPLATE);this.getContext().createBean(s);var p=s.getGui(),f=Mr("close",this.gridOptionsWrapper);f.classList.add("ag-panel-title-bar-button-icon"),p.appendChild(f),this.addTitleBarButton(s),s.addManagedListener(p,"click",this.onBtClose.bind(this))}else this.closeButtonComp&&((p=this.closeButtonComp.getGui()).parentElement.removeChild(p),this.closeButtonComp=this.destroyBean(this.closeButtonComp))},i.prototype.setBodyComponent=function(t){t.setParentComponent(this),this.eContentWrapper.appendChild(t.getGui())},i.prototype.addTitleBarButton=function(t,s){var p=this.eTitleBarButtons,f=p.children,_=f.length;null==s&&(s=_),s=Math.max(0,Math.min(s,_)),t.addCssClass("ag-panel-title-bar-button");var b=t.getGui();0===s?p.insertAdjacentElement("afterbegin",b):s===_?p.insertAdjacentElement("beforeend",b):f[s-1].insertAdjacentElement("afterend",b),t.setParentComponent(this)},i.prototype.getBodyHeight=function(){return xc(this.eContentWrapper)},i.prototype.getBodyWidth=function(){return Rs(this.eContentWrapper)},i.prototype.setTitle=function(t){this.eTitle.innerText=t},i.prototype.onBtClose=function(){this.close()},i.prototype.destroy=function(){this.closeButtonComp&&(this.closeButtonComp=this.destroyBean(this.closeButtonComp));var t=this.getGui();t&&t.offsetParent&&this.close(),g.prototype.destroy.call(this)},i.CLOSE_BTN_TEMPLATE='<div class="ag-button"></div>',el([Ve("eContentWrapper")],i.prototype,"eContentWrapper",void 0),el([Ve("eTitleBar")],i.prototype,"eTitleBar",void 0),el([Ve("eTitleBarButtons")],i.prototype,"eTitleBarButtons",void 0),el([Ve("eTitle")],i.prototype,"eTitle",void 0),el([$e],i.prototype,"postConstruct",null),i}(Ut),my=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),vy=function(){return vy=Object.assign||function(g){for(var i,t=1,s=arguments.length;t<s;t++)for(var p in i=arguments[t])Object.prototype.hasOwnProperty.call(i,p)&&(g[p]=i[p]);return g},vy.apply(this,arguments)},yy=function(g){function i(t){var s=g.call(this,vy(vy({},t),{popup:!0}))||this;return s.isMaximizable=!1,s.isMaximized=!1,s.maximizeListeners=[],s.resizeListenerDestroy=null,s.lastPosition={x:0,y:0,width:0,height:0},s}return my(i,g),i.prototype.postConstruct=function(){var t=this,s=this.getGui(),p=this.config,f=p.movable,_=p.resizable,b=p.maximizable;this.addCssClass("ag-dialog"),g.prototype.postConstruct.call(this),this.addManagedListener(s,"focusin",function(A){s.contains(A.relatedTarget)||t.popupService.bringPopupToFront(s)}),f&&this.setMovable(f),b&&this.setMaximizable(b),_&&this.setResizable(_)},i.prototype.renderComponent=function(){var t=this.getGui(),s=this.config,p=s.alwaysOnTop,f=s.modal,_=s.title,b=this.gridOptionsWrapper.getLocaleTextFunc(),A=this.popupService.addPopup({modal:f,eChild:t,closeOnEsc:!0,closedCallback:this.destroy.bind(this),alwaysOnTop:p,ariaLabel:_||b("ariaLabelDialog","Dialog")});A&&(this.close=A.hideFunc)},i.prototype.toggleMaximize=function(){var t=this.positionableFeature.getPosition();if(this.isMaximized){var s=this.lastPosition,p=s.x,f=s.y,b=s.height;this.setWidth(s.width),this.setHeight(b),this.positionableFeature.offsetElement(p,f)}else this.lastPosition.width=this.getWidth(),this.lastPosition.height=this.getHeight(),this.lastPosition.x=t.x,this.lastPosition.y=t.y,this.positionableFeature.offsetElement(0,0),this.setHeight("100%"),this.setWidth("100%");this.isMaximized=!this.isMaximized,this.refreshMaximizeIcon()},i.prototype.refreshMaximizeIcon=function(){Mn(this.maximizeIcon,!this.isMaximized),Mn(this.minimizeIcon,this.isMaximized)},i.prototype.clearMaximizebleListeners=function(){this.maximizeListeners.length&&(this.maximizeListeners.forEach(function(t){return t()}),this.maximizeListeners.length=0),this.resizeListenerDestroy&&(this.resizeListenerDestroy(),this.resizeListenerDestroy=null)},i.prototype.destroy=function(){this.maximizeButtonComp=this.destroyBean(this.maximizeButtonComp),this.clearMaximizebleListeners(),g.prototype.destroy.call(this)},i.prototype.setResizable=function(t){this.positionableFeature.setResizable(t)},i.prototype.setMovable=function(t){this.positionableFeature.setMovable(t,this.eTitleBar)},i.prototype.setMaximizable=function(t){var s=this;if(!t)return this.clearMaximizebleListeners(),void(this.maximizeButtonComp&&(this.destroyBean(this.maximizeButtonComp),this.maximizeButtonComp=this.maximizeIcon=this.minimizeIcon=void 0));var p=this.eTitleBar;if(p&&t!==this.isMaximizable){var f=this.maximizeButtonComp=this.createBean(new Ut('<div class="ag-dialog-button"></span>')),_=f.getGui();_.appendChild(this.maximizeIcon=Mr("maximize",this.gridOptionsWrapper)),this.maximizeIcon.classList.add("ag-panel-title-bar-button-icon"),_.appendChild(this.minimizeIcon=Mr("minimize",this.gridOptionsWrapper)),this.minimizeIcon.classList.add("ag-panel-title-bar-button-icon","ag-hidden"),f.addManagedListener(_,"click",this.toggleMaximize.bind(this)),this.addTitleBarButton(f,0),this.maximizeListeners.push(this.addManagedListener(p,"dblclick",this.toggleMaximize.bind(this))),this.resizeListenerDestroy=this.addManagedListener(this,"resize",function(){s.isMaximized=!1,s.refreshMaximizeIcon()})}},function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);p>3&&f&&Object.defineProperty(i,t,f)}([$("popupService")],i.prototype,"popupService",void 0),i}(gy),ug=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),qu=function(g){function i(t,s,p){return void 0===s&&(s="ag-text-field"),void 0===p&&(p="text"),g.call(this,t,s,p)||this}return ug(i,g),i.prototype.postConstruct=function(){g.prototype.postConstruct.call(this),this.config.allowedCharPattern&&this.preventDisallowedCharacters()},i.prototype.setValue=function(t,s){var p=g.prototype.setValue.call(this,t,s);return this.eInput.value!==t&&(this.eInput.value=J(t)?t:""),p},i.prototype.preventDisallowedCharacters=function(){var t=new RegExp("["+this.config.allowedCharPattern+"]");this.addManagedListener(this.eInput,"keypress",function(p){p.key&&!t.test(p.key)&&p.preventDefault()}),this.addManagedListener(this.eInput,"paste",function(p){p.clipboardData.getData("text").some(function(_){return!t.test(_)})&&p.preventDefault()})},i}(mi),eh=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),kr=function(g){function i(t){return g.call(this,t,"ag-text-area",null,"textarea")||this}return eh(i,g),i.prototype.setValue=function(t,s){var p=g.prototype.setValue.call(this,t,s);return this.eInput.value=t,p},i.prototype.setCols=function(t){return this.eInput.cols=t,this},i.prototype.setRows=function(t){return this.eInput.rows=t,this},i}(mi),Xr=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),th=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},_y=function(g){function i(t){var s=g.call(this,t,i.TEMPLATE)||this;return s.labelAlignment="top",s}return Xr(i,g),i.prototype.init=function(){this.eSlider.addCssClass("ag-slider-field")},i.prototype.onValueChange=function(t){var s=this,p=ns.EVENT_CHANGED;return this.addManagedListener(this.eText,p,function(){var f=parseFloat(s.eText.getValue());s.eSlider.setValue(f.toString(),!0),t(f||0)}),this.addManagedListener(this.eSlider,p,function(){var f=s.eSlider.getValue();s.eText.setValue(f,!0),t(parseFloat(f))}),this},i.prototype.setSliderWidth=function(t){return this.eSlider.setWidth(t),this},i.prototype.setTextFieldWidth=function(t){return this.eText.setWidth(t),this},i.prototype.setMinValue=function(t){return this.eSlider.setMinValue(t),this.eText.setMin(t),this},i.prototype.setMaxValue=function(t){return this.eSlider.setMaxValue(t),this.eText.setMax(t),this},i.prototype.getValue=function(){return this.eText.getValue()},i.prototype.setValue=function(t){return this.getValue()===t||(this.eText.setValue(t,!0),this.eSlider.setValue(t,!0),this.dispatchEvent({type:ns.EVENT_CHANGED})),this},i.prototype.setStep=function(t){return this.eSlider.setStep(t),this.eText.setStep(t),this},i.TEMPLATE='<div class="ag-slider">\n            <label ref="eLabel"></label>\n            <div class="ag-wrapper ag-slider-wrapper">\n                <ag-input-range ref="eSlider"></ag-input-range>\n                <ag-input-number-field ref="eText"></ag-input-number-field>\n            </div>\n        </div>',th([Ve("eLabel")],i.prototype,"eLabel",void 0),th([Ve("eSlider")],i.prototype,"eSlider",void 0),th([Ve("eText")],i.prototype,"eText",void 0),th([$e],i.prototype,"init",null),i}(uf),fb=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),yo=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},Zn=function(g){function i(t){var s=g.call(this,i.TEMPLATE)||this;return s.H=1,s.S=1,s.B=1,s.A=1,s.isSpectrumDragging=!1,s.isSpectrumHueDragging=!1,s.isSpectrumAlphaDragging=!1,s.colorChanged=!1,s.picker=t.picker,s}return fb(i,g),i.prototype.postConstruct=function(){var t=this.getGui();this.initRecentColors(),this.addManagedListener(this.spectrumVal,"mousedown",this.onSpectrumDraggerDown.bind(this)),this.addManagedListener(t,"mousemove",this.onSpectrumDraggerMove.bind(this)),this.addManagedListener(this.spectrumHue,"mousedown",this.onSpectrumHueDown.bind(this)),this.addManagedListener(t,"mousemove",this.onSpectrumHueMove.bind(this)),this.addManagedListener(this.spectrumAlpha,"mousedown",this.onSpectrumAlphaDown.bind(this)),this.addManagedListener(t,"mousemove",this.onSpectrumAlphaMove.bind(this)),this.addManagedListener(document,"mouseup",this.onMouseUp.bind(this)),this.addManagedListener(this.recentColors,"click",this.onRecentColorClick.bind(this))},i.prototype.refreshSpectrumRect=function(){return this.spectrumValRect=this.spectrumVal.getBoundingClientRect()},i.prototype.refreshHueRect=function(){return this.spectrumHueRect=this.spectrumHue.getBoundingClientRect()},i.prototype.refreshAlphaRect=function(){return this.spectrumAlphaRect=this.spectrumAlpha.getBoundingClientRect()},i.prototype.onSpectrumDraggerDown=function(t){this.refreshSpectrumRect(),this.isSpectrumDragging=!0,this.moveDragger(t)},i.prototype.onSpectrumDraggerMove=function(t){this.isSpectrumDragging&&this.moveDragger(t)},i.prototype.onSpectrumHueDown=function(t){this.refreshHueRect(),this.isSpectrumHueDragging=!0,this.moveHueSlider(t)},i.prototype.onSpectrumHueMove=function(t){this.isSpectrumHueDragging&&this.moveHueSlider(t)},i.prototype.onSpectrumAlphaDown=function(t){this.refreshAlphaRect(),this.isSpectrumAlphaDragging=!0,this.moveAlphaSlider(t)},i.prototype.onSpectrumAlphaMove=function(t){this.isSpectrumAlphaDragging&&this.moveAlphaSlider(t)},i.prototype.onMouseUp=function(){this.isSpectrumDragging=!1,this.isSpectrumHueDragging=!1,this.isSpectrumAlphaDragging=!1},i.prototype.moveDragger=function(t){var s=this.spectrumValRect;if(s){var p=t.clientX-s.left,f=t.clientY-s.top;p=Math.max(p,0),p=Math.min(p,s.width),f=Math.max(f,0),f=Math.min(f,s.height),this.setSpectrumValue(p/s.width,1-f/s.height)}},i.prototype.moveHueSlider=function(t){var s=this.spectrumHueRect;if(s){var p=this.spectrumHueSlider,f=p.getBoundingClientRect(),_=t.clientX-s.left;_=Math.max(_,0),_=Math.min(_,s.width),this.H=1-_/s.width,p.style.left=_+f.width/2+"px",this.update()}},i.prototype.moveAlphaSlider=function(t){var s=this.spectrumAlphaRect;if(s){var p=this.spectrumAlphaSlider,f=p.getBoundingClientRect(),_=t.clientX-s.left;_=Math.max(_,0),_=Math.min(_,s.width),this.A=_/s.width,p.style.left=_+f.width/2+"px",this.update()}},i.prototype.update=function(){var t=fu.fromHSB(360*this.H,this.S,this.B,this.A),s=fu.fromHSB(360*this.H,1,1),p=t.toRgbaString(),f=this.picker;fu.fromString(f.getValue()).toRgbaString()!==p&&(this.colorChanged=!0),f.setValue(p),this.spectrumColor.style.backgroundColor=s.toRgbaString(),this.spectrumDragger.style.backgroundColor=p},i.prototype.setSpectrumValue=function(t,s){var p=this.spectrumValRect||this.refreshSpectrumRect();if(p){var f=this.spectrumDragger,_=f.getBoundingClientRect();t=Math.max(0,t),t=Math.min(1,t),s=Math.max(0,s),s=Math.min(1,s),this.S=t,this.B=s,f.style.left=t*p.width-_.width/2+"px",f.style.top=(1-s)*p.height-_.height/2+"px",this.update()}},i.prototype.initRecentColors=function(){var s=i.recentColors.map(function(p,f){return'<div class="ag-recent-color" id='+f+' style="background-color: '+p+'; width: 15px; height: 15px;" recent-color="'+p+'"></div>'});this.recentColors.innerHTML=s.join("")},i.prototype.setValue=function(t){var s=fu.fromString(t),p=function(g,i){var t="function"==typeof Symbol&&g[Symbol.iterator];if(!t)return g;var p,_,s=t.call(g),f=[];try{for(;(void 0===i||i-- >0)&&!(p=s.next()).done;)f.push(p.value)}catch(b){_={error:b}}finally{try{p&&!p.done&&(t=s.return)&&t.call(s)}finally{if(_)throw _.error}}return f}(s.toHSB(),3),f=p[0],_=p[1],b=p[2];this.H=(isNaN(f)?0:f)/360,this.A=s.a;var A=this.spectrumHueRect||this.refreshHueRect(),M=this.spectrumAlphaRect||this.refreshAlphaRect();this.spectrumHueSlider.style.left=(this.H-1)*-A.width+"px",this.spectrumAlphaSlider.style.left=this.A*M.width+"px",this.setSpectrumValue(_,b)},i.prototype.onRecentColorClick=function(t){var s=t.target;if(J(s.id)){var p=parseInt(s.id,10);this.setValue(i.recentColors[p]),this.destroy()}},i.prototype.addRecentColor=function(){var s=fu.fromHSB(360*this.H,this.S,this.B,this.A).toRgbaString(),p=i.recentColors;!this.colorChanged||p[0]===s||(p=p.filter(function(f){return f!=s}),(p=[s].concat(p)).length>i.maxRecentColors&&(p=p.slice(0,i.maxRecentColors)),i.recentColors=p)},i.prototype.destroy=function(){this.addRecentColor(),g.prototype.destroy.call(this)},i.maxRecentColors=8,i.recentColors=[],i.TEMPLATE='<div class="ag-color-panel">\n            <div ref="spectrumColor" class="ag-spectrum-color">\n                <div class="ag-spectrum-sat ag-spectrum-fill">\n                    <div ref="spectrumVal" class="ag-spectrum-val ag-spectrum-fill">\n                        <div ref="spectrumDragger" class="ag-spectrum-dragger"></div>\n                    </div>\n                </div>\n            </div>\n            <div class="ag-spectrum-tools">\n                <div ref="spectrumHue" class="ag-spectrum-hue ag-spectrum-tool">\n                    <div class="ag-spectrum-hue-background"></div>\n                    <div ref="spectrumHueSlider" class="ag-spectrum-slider"></div>\n                </div>\n                <div ref="spectrumAlpha" class="ag-spectrum-alpha ag-spectrum-tool">\n                    <div class="ag-spectrum-alpha-background"></div>\n                    <div ref="spectrumAlphaSlider" class="ag-spectrum-slider"></div>\n                </div>\n                <div ref="recentColors" class="ag-recent-colors"></div>\n            </div>\n        </div>',yo([Ve("spectrumColor")],i.prototype,"spectrumColor",void 0),yo([Ve("spectrumVal")],i.prototype,"spectrumVal",void 0),yo([Ve("spectrumDragger")],i.prototype,"spectrumDragger",void 0),yo([Ve("spectrumHue")],i.prototype,"spectrumHue",void 0),yo([Ve("spectrumHueSlider")],i.prototype,"spectrumHueSlider",void 0),yo([Ve("spectrumAlpha")],i.prototype,"spectrumAlpha",void 0),yo([Ve("spectrumAlphaSlider")],i.prototype,"spectrumAlphaSlider",void 0),yo([Ve("recentColors")],i.prototype,"recentColors",void 0),yo([$e],i.prototype,"postConstruct",null),i}(Ut),iE=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),cg=function(g){function i(t){var s=g.call(this,t,"ag-color-picker","colorPicker")||this;return t&&t.color&&(s.value=t.color),s}return iE(i,g),i.prototype.postConstruct=function(){g.prototype.postConstruct.call(this),this.value&&this.setValue(this.value)},i.prototype.showPicker=function(){var t=this,s=this.getGui().getBoundingClientRect(),p=this.createBean(new yy({closable:!1,modal:!0,hideTitleBar:!0,minWidth:190,width:190,height:250,x:s.right-190,y:s.top-250}));this.isPickerDisplayed=!0,p.addCssClass("ag-color-dialog"),qo(this.eWrapper,!0);var f=this.createBean(new Zn({picker:this}));return f.addDestroyFunc(function(){p.isAlive()&&t.destroyBean(p)}),p.setParentComponent(this),p.setBodyComponent(f),f.setValue(this.getValue()),p.addDestroyFunc(function(){t.isDestroyingPicker?t.isDestroyingPicker=!1:(t.isDestroyingPicker=!0,f.isAlive()&&t.destroyBean(f)),t.isAlive()&&(qo(t.eWrapper,!1),t.getFocusableElement().focus()),t.isPickerDisplayed=!1}),p},i.prototype.setValue=function(t){return this.value===t?this:(this.eDisplayField.style.backgroundColor=t,g.prototype.setValue.call(this,t))},i.prototype.getValue=function(){return this.value},i}(Oi),mb=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),oE=function(g){function i(t){return g.call(this,t,"ag-number-field","number")||this}return mb(i,g),i.prototype.postConstruct=function(){var t=this;g.prototype.postConstruct.call(this),this.addManagedListener(this.eInput,"blur",function(){var s=parseFloat(t.eInput.value),p=isNaN(s)?"":t.normalizeValue(s.toString());t.value!==p&&t.setValue(p)})},i.prototype.normalizeValue=function(t){if(""===t)return"";this.precision&&(t=this.adjustPrecision(t));var s=parseFloat(t);return null!=this.min&&s<this.min?t=this.min.toString():null!=this.max&&s>this.max&&(t=this.max.toString()),t},i.prototype.adjustPrecision=function(t){if(this.precision){var s=parseFloat(t).toFixed(this.precision);t=parseFloat(s).toString()}return t},i.prototype.setMin=function(t){return this.min===t||(this.min=t,Yo(this.eInput,"min",t)),this},i.prototype.setMax=function(t){return this.max===t||(this.max=t,Yo(this.eInput,"max",t)),this},i.prototype.setPrecision=function(t){return this.precision=t,this},i.prototype.setStep=function(t){return this.step===t||(this.step=t,Yo(this.eInput,"step",t)),this},i.prototype.setValue=function(t,s){return(t=this.adjustPrecision(t))!=this.normalizeValue(t)?this:g.prototype.setValue.call(this,t,s)},i}(qu),dg=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),vb=function(g){function i(t){return g.call(this,t,"ag-range-field","range")||this}return dg(i,g),i.prototype.postConstruct=function(){g.prototype.postConstruct.call(this);var t=this.config,s=t.min,p=t.max,f=t.step;null!=s&&this.setMinValue(s),null!=p&&this.setMaxValue(p),this.setStep(f||1)},i.prototype.addInputListeners=function(){var t=this;this.addManagedListener(this.eInput,"input",function(s){t.setValue(s.target.value)})},i.prototype.setMinValue=function(t){return this.min=t,this.eInput.setAttribute("min",t.toString()),this},i.prototype.setMaxValue=function(t){return this.max=t,this.eInput.setAttribute("max",t.toString()),this},i.prototype.setStep=function(t){return this.eInput.setAttribute("step",t.toString()),this},i.prototype.setValue=function(t,s){null!=this.min&&(t=Math.max(parseFloat(t),this.min).toString()),null!=this.max&&(t=Math.min(parseFloat(t),this.max).toString());var p=g.prototype.setValue.call(this,t,s);return this.eInput.value=t,p},i}(mi),aE=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),Xu=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},sE=function(g){function i(t){var s=g.call(this,t,i.TEMPLATE)||this;return s.radius=0,s.offsetX=0,s.offsetY=0,s}return aE(i,g),i.prototype.postConstruct=function(){var t=this;g.prototype.postConstruct.call(this),this.dragListener={eElement:this.eParentCircle,dragStartPixels:0,onDragStart:function(s){t.parentCircleRect=t.eParentCircle.getBoundingClientRect()},onDragging:function(s){return t.calculateAngleDrag(s)},onDragStop:function(){}},this.dragService.addDragSource(this.dragListener),this.eAngleValue.setLabel("").setLabelWidth(5).setInputWidth(45).setMin(0).setMax(360).setValue(""+this.degrees).onValueChange(function(s){(null==s||""===s)&&(s="0"),s=t.eAngleValue.normalizeValue(s);var p=parseFloat(s);p>180&&(p-=360),t.setValue(p)}),this.updateNumberInput(),J(this.getValue())&&this.eAngleValue.setValue(this.normalizeNegativeValue(this.getValue()).toString()),this.addManagedListener(this,ns.EVENT_CHANGED,function(){var s=t.gridOptionsWrapper.getDocument();t.eAngleValue.getInputElement().contains(s.activeElement)||t.updateNumberInput()})},i.prototype.updateNumberInput=function(){var t=this.normalizeNegativeValue(this.getValue());this.eAngleValue.setValue(t.toString())},i.prototype.positionChildCircle=function(t){var s=this.parentCircleRect||{width:24,height:24},p=this.eChildCircle,_=s.height/2;p.style.left=s.width/2+8*Math.cos(t)+"px",p.style.top=_+8*Math.sin(t)+"px"},i.prototype.calculatePolar=function(){var t=this.offsetX,s=this.offsetY,p=Math.atan2(s,t);this.degrees=this.toDegrees(p),this.radius=Math.sqrt(t*t+s*s),this.positionChildCircle(p)},i.prototype.calculateCartesian=function(){var t=this.toRadians(this.getValue()),s=this.getRadius();this.setOffsetX(Math.cos(t)*s).setOffsetY(Math.sin(t)*s)},i.prototype.setOffsetX=function(t){return this.offsetX!==t&&(this.offsetX=t,this.calculatePolar()),this},i.prototype.setOffsetY=function(t){return this.offsetY!==t&&(this.offsetY=t,this.calculatePolar()),this},i.prototype.calculateAngleDrag=function(t){var s=this.parentCircleRect,L=Math.atan2(t.clientY-s.top-s.height/2,t.clientX-s.left-s.width/2);this.setValue(L,!0)},i.prototype.toDegrees=function(t){return t/Math.PI*180},i.prototype.toRadians=function(t){return t/180*Math.PI},i.prototype.normalizeNegativeValue=function(t){return t<0?360+t:t},i.prototype.normalizeAngle180=function(t){return(t%=2*Math.PI)<-Math.PI?t+=2*Math.PI:t>=Math.PI&&(t-=2*Math.PI),t},i.prototype.getRadius=function(){return this.radius},i.prototype.setRadius=function(t){return this.radius===t||(this.radius=t,this.calculateCartesian()),this},i.prototype.onValueChange=function(t){var s=this;return this.addManagedListener(this,ns.EVENT_CHANGED,function(){t(s.degrees)}),this},i.prototype.getValue=function(t){return t?this.toRadians(this.degrees):this.degrees},i.prototype.setValue=function(t,s){var p;return p=s?t:this.normalizeAngle180(this.toRadians(t)),t=this.toDegrees(p),this.degrees!==t&&(this.degrees=Math.floor(t),this.calculateCartesian(),this.positionChildCircle(p),this.dispatchEvent({type:ns.EVENT_CHANGED})),this},i.prototype.setWidth=function(t){return $i(this.getGui(),t),this},i.prototype.destroy=function(){this.dragService.removeDragSource(this.dragListener),g.prototype.destroy.call(this)},i.TEMPLATE='<div class="ag-angle-select">\n            <div ref="eLabel"></div>\n            <div class="ag-wrapper ag-angle-select-wrapper">\n                <div ref="eAngleSelectField" class="ag-angle-select-field">\n                    <div ref="eParentCircle" class="ag-angle-select-parent-circle">\n                        <div ref="eChildCircle" class="ag-angle-select-child-circle"></div>\n                    </div>\n                </div>\n                <ag-input-number-field ref="eAngleValue"></ag-input-number-field>\n            </div>\n        </div>',Xu([Ve("eLabel")],i.prototype,"eLabel",void 0),Xu([Ve("eParentCircle")],i.prototype,"eParentCircle",void 0),Xu([Ve("eChildCircle")],i.prototype,"eChildCircle",void 0),Xu([Ve("eAngleValue")],i.prototype,"eAngleValue",void 0),Xu([$("dragService")],i.prototype,"dragService",void 0),i}(uf),Cy=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),by=function(g){function i(t){return g.call(this,t,"ag-toggle-button")||this}return Cy(i,g),i.prototype.setValue=function(t,s){return g.prototype.setValue.call(this,t,s),this.addOrRemoveCssClass("ag-selected",this.getValue()),this},i}(rd),yb=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),nh=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},lE=function(g){function i(){return null!==g&&g.apply(this,arguments)||this}return yb(i,g),i.prototype.getFirstRow=function(){var s,t=0;return this.pinnedRowModel.getPinnedTopRowCount()?s=me.PINNED_TOP:this.rowModel.getRowCount()?(s=null,t=this.paginationProxy.getPageFirstRow()):this.pinnedRowModel.getPinnedBottomRowCount()&&(s=me.PINNED_BOTTOM),void 0===s?null:{rowIndex:t,rowPinned:s}},i.prototype.getLastRow=function(){var t,s=null,p=this.pinnedRowModel.getPinnedBottomRowCount(),f=this.pinnedRowModel.getPinnedTopRowCount();return p?(s=me.PINNED_BOTTOM,t=p-1):this.rowModel.getRowCount()?(s=null,t=this.paginationProxy.getPageLastRow()):f&&(s=me.PINNED_TOP,t=f-1),void 0===t?null:{rowIndex:t,rowPinned:s}},i.prototype.getRowNode=function(t){switch(t.rowPinned){case me.PINNED_TOP:return this.pinnedRowModel.getPinnedTopRowData()[t.rowIndex];case me.PINNED_BOTTOM:return this.pinnedRowModel.getPinnedBottomRowData()[t.rowIndex];default:return this.rowModel.getRow(t.rowIndex)}},i.prototype.sameRow=function(t,s){return!t&&!s||!(t&&!s||!t&&s)&&t.rowIndex===s.rowIndex&&t.rowPinned==s.rowPinned},i.prototype.before=function(t,s){switch(t.rowPinned){case me.PINNED_TOP:if(s.rowPinned!==me.PINNED_TOP)return!0;break;case me.PINNED_BOTTOM:if(s.rowPinned!==me.PINNED_BOTTOM)return!1;break;default:if(J(s.rowPinned))return s.rowPinned!==me.PINNED_TOP}return t.rowIndex<s.rowIndex},nh([$("rowModel")],i.prototype,"rowModel",void 0),nh([$("pinnedRowModel")],i.prototype,"pinnedRowModel",void 0),nh([$("paginationProxy")],i.prototype,"paginationProxy",void 0),nh([tt("rowPositionUtils")],i)}(Ge),ka=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),tl=function(g){function i(){return null!==g&&g.apply(this,arguments)||this}return ka(i,g),i.prototype.createId=function(t){return this.createIdFromValues(t.rowIndex,t.column,t.rowPinned)},i.prototype.createIdFromValues=function(t,s,p){return t+"."+(null==p?"null":p)+"."+s.getId()},i.prototype.equals=function(t,s){return t.column===s.column&&t.rowPinned===s.rowPinned&&t.rowIndex===s.rowIndex},i=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f}([tt("cellPositionUtils")],i),i}(Ge),_b=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),ia=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},wy=function(g){function i(){return null!==g&&g.apply(this,arguments)||this}return _b(i,g),i.prototype.init=function(){this.setPinnedTopRowData(this.gridOptionsWrapper.getPinnedTopRowData()),this.setPinnedBottomRowData(this.gridOptionsWrapper.getPinnedBottomRowData())},i.prototype.isEmpty=function(t){return Bi(t===me.PINNED_TOP?this.pinnedTopRows:this.pinnedBottomRows)},i.prototype.isRowsToRender=function(t){return!this.isEmpty(t)},i.prototype.getRowAtPixel=function(t,s){var p=s===me.PINNED_TOP?this.pinnedTopRows:this.pinnedBottomRows;if(Bi(p))return 0;for(var f=0;f<p.length;f++){var _=p[f];if(_.rowTop+_.rowHeight-1>=t)return f}return p.length-1},i.prototype.setPinnedTopRowData=function(t){this.pinnedTopRows=this.createNodesFromData(t,!0),this.eventService.dispatchEvent({type:re.EVENT_PINNED_ROW_DATA_CHANGED,api:this.gridApi,columnApi:this.columnApi})},i.prototype.setPinnedBottomRowData=function(t){this.pinnedBottomRows=this.createNodesFromData(t,!1),this.eventService.dispatchEvent({type:re.EVENT_PINNED_ROW_DATA_CHANGED,api:this.gridApi,columnApi:this.columnApi})},i.prototype.createNodesFromData=function(t,s){var p=this,f=[];if(t){var _=0;t.forEach(function(b,A){var M=new Rt(p.beans);M.data=b,M.id=(s?Rt.ID_PREFIX_TOP_PINNED:Rt.ID_PREFIX_BOTTOM_PINNED)+A,M.rowPinned=s?me.PINNED_TOP:me.PINNED_BOTTOM,M.setRowTop(_),M.setRowHeight(p.gridOptionsWrapper.getRowHeightForNode(M).height),M.setRowIndex(A),_+=M.rowHeight,f.push(M)})}return f},i.prototype.getPinnedTopRowData=function(){return this.pinnedTopRows},i.prototype.getPinnedBottomRowData=function(){return this.pinnedBottomRows},i.prototype.getPinnedTopTotalHeight=function(){return this.getTotalHeight(this.pinnedTopRows)},i.prototype.getPinnedTopRowCount=function(){return this.pinnedTopRows?this.pinnedTopRows.length:0},i.prototype.getPinnedBottomRowCount=function(){return this.pinnedBottomRows?this.pinnedBottomRows.length:0},i.prototype.getPinnedTopRow=function(t){return this.pinnedTopRows[t]},i.prototype.getPinnedBottomRow=function(t){return this.pinnedBottomRows[t]},i.prototype.forEachPinnedTopRow=function(t){Bi(this.pinnedTopRows)||this.pinnedTopRows.forEach(t)},i.prototype.forEachPinnedBottomRow=function(t){Bi(this.pinnedBottomRows)||this.pinnedBottomRows.forEach(t)},i.prototype.getPinnedBottomTotalHeight=function(){return this.getTotalHeight(this.pinnedBottomRows)},i.prototype.getTotalHeight=function(t){if(!t||0===t.length)return 0;var s=Rn(t);return s.rowTop+s.rowHeight},ia([$("columnApi")],i.prototype,"columnApi",void 0),ia([$("gridApi")],i.prototype,"gridApi",void 0),ia([$("beans")],i.prototype,"beans",void 0),ia([$e],i.prototype,"init",null),ia([tt("pinnedRowModel")],i)}(Ge),pg=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),Sy=function(i){this.cellValueChanges=i},hg=function(g){function i(t,s,p){var f=g.call(this,t)||this;return f.initialRange=s,f.finalRange=p,f}return pg(i,g),i}(Sy),Pt=function(){function g(i){this.actionStack=[],this.maxStackSize=i||g.DEFAULT_STACK_SIZE,this.actionStack=new Array(this.maxStackSize)}return g.prototype.pop=function(){return this.actionStack.pop()},g.prototype.push=function(i){!(i.cellValueChanges&&i.cellValueChanges.length>0)||(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(i))},g.prototype.clear=function(){this.actionStack=[]},g.prototype.getCurrentStackSize=function(){return this.actionStack.length},g.DEFAULT_STACK_SIZE=10,g}(),Cb=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),ms=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},uE=function(g){function i(){var t=null!==g&&g.apply(this,arguments)||this;return t.cellValueChanges=[],t.activeCellEdit=null,t.activeRowEdit=null,t.isPasting=!1,t.isFilling=!1,t.onCellValueChanged=function(s){var p={column:s.column,rowIndex:s.rowIndex,rowPinned:s.rowPinned},f=null!==t.activeCellEdit&&t.cellPositionUtils.equals(t.activeCellEdit,p),_=null!==t.activeRowEdit&&t.rowPositionUtils.sameRow(t.activeRowEdit,p);if(f||_||t.isPasting||t.isFilling){var G=s.oldValue,U=s.value,te={rowPinned:s.rowPinned,rowIndex:s.rowIndex,columnId:s.column.getColId(),newValue:U,oldValue:G};t.cellValueChanges.push(te)}},t.clearStacks=function(){t.undoStack.clear(),t.redoStack.clear()},t}return Cb(i,g),i.prototype.init=function(){if(this.gridOptionsWrapper.isUndoRedoCellEditing()){var t=this.gridOptionsWrapper.getUndoRedoCellEditingLimit();t<=0||(this.undoStack=new Pt(t),this.redoStack=new Pt(t),this.addRowEditingListeners(),this.addCellEditingListeners(),this.addPasteListeners(),this.addFillListeners(),this.addManagedListener(this.eventService,re.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged),this.addManagedListener(this.eventService,re.EVENT_MODEL_UPDATED,this.clearStacks),this.addManagedListener(this.eventService,re.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,re.EVENT_NEW_COLUMNS_LOADED,this.clearStacks),this.addManagedListener(this.eventService,re.EVENT_COLUMN_GROUP_OPENED,this.clearStacks),this.addManagedListener(this.eventService,re.EVENT_COLUMN_ROW_GROUP_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,re.EVENT_COLUMN_MOVED,this.clearStacks),this.addManagedListener(this.eventService,re.EVENT_COLUMN_PINNED,this.clearStacks),this.addManagedListener(this.eventService,re.EVENT_COLUMN_VISIBLE,this.clearStacks),this.addManagedListener(this.eventService,re.EVENT_ROW_DRAG_END,this.clearStacks))}},i.prototype.getCurrentUndoStackSize=function(){return this.undoStack?this.undoStack.getCurrentStackSize():0},i.prototype.getCurrentRedoStackSize=function(){return this.redoStack?this.redoStack.getCurrentStackSize():0},i.prototype.undo=function(){if(this.undoStack){var t=this.undoStack.pop();!t||!t.cellValueChanges||(this.processAction(t,function(s){return s.oldValue}),t instanceof hg?this.processRangeAndCellFocus(t.cellValueChanges,t.initialRange):this.processRangeAndCellFocus(t.cellValueChanges),this.redoStack.push(t))}},i.prototype.redo=function(){if(this.redoStack){var t=this.redoStack.pop();!t||!t.cellValueChanges||(this.processAction(t,function(s){return s.newValue}),t instanceof hg?this.processRangeAndCellFocus(t.cellValueChanges,t.finalRange):this.processRangeAndCellFocus(t.cellValueChanges),this.undoStack.push(t))}},i.prototype.processAction=function(t,s){var p=this;t.cellValueChanges.forEach(function(f){var A=f.columnId,L=p.getRowNode({rowIndex:f.rowIndex,rowPinned:f.rowPinned});!L.displayed||L.setDataValue(A,s(f))})},i.prototype.processRangeAndCellFocus=function(t,s){var p;if(s){var f=s.startRow,_=s.endRow;return p={rowPinned:f.rowPinned,rowIndex:f.rowIndex,columnId:s.startColumn.getColId()},this.setLastFocusedCell(p),void this.gridApi.addCellRange({rowStartIndex:f.rowIndex,rowStartPinned:f.rowPinned,rowEndIndex:_.rowIndex,rowEndPinned:_.rowPinned,columnStart:s.startColumn,columns:s.columns})}var A=t[0],U=this.getRowNode({rowIndex:A.rowIndex,rowPinned:A.rowPinned});this.setLastFocusedCell(p={rowPinned:A.rowPinned,rowIndex:U.rowIndex,columnId:A.columnId})},i.prototype.setLastFocusedCell=function(t){var s=t.rowIndex,p=t.columnId,f=t.rowPinned;this.gridApi.ensureIndexVisible(s),this.gridApi.ensureColumnVisible(p),Vt.isRegistered(B.ModuleNames.RangeSelectionModule)&&this.gridApi.clearRangeSelection(),this.focusService.setFocusedCell(s,p,f,!0)},i.prototype.addRowEditingListeners=function(){var t=this;this.addManagedListener(this.eventService,re.EVENT_ROW_EDITING_STARTED,function(s){t.activeRowEdit={rowIndex:s.rowIndex,rowPinned:s.rowPinned}}),this.addManagedListener(this.eventService,re.EVENT_ROW_EDITING_STOPPED,function(){var s=new Sy(t.cellValueChanges);t.pushActionsToUndoStack(s),t.activeRowEdit=null})},i.prototype.addCellEditingListeners=function(){var t=this;this.addManagedListener(this.eventService,re.EVENT_CELL_EDITING_STARTED,function(s){t.activeCellEdit={column:s.column,rowIndex:s.rowIndex,rowPinned:s.rowPinned}}),this.addManagedListener(this.eventService,re.EVENT_CELL_EDITING_STOPPED,function(){if(t.activeCellEdit=null,!t.activeRowEdit&&!t.isPasting&&!t.isFilling){var p=new Sy(t.cellValueChanges);t.pushActionsToUndoStack(p)}})},i.prototype.addPasteListeners=function(){var t=this;this.addManagedListener(this.eventService,re.EVENT_PASTE_START,function(){t.isPasting=!0}),this.addManagedListener(this.eventService,re.EVENT_PASTE_END,function(){var s=new Sy(t.cellValueChanges);t.pushActionsToUndoStack(s),t.isPasting=!1})},i.prototype.addFillListeners=function(){var t=this;this.addManagedListener(this.eventService,re.EVENT_FILL_START,function(){t.isFilling=!0}),this.addManagedListener(this.eventService,re.EVENT_FILL_END,function(s){var p=new hg(t.cellValueChanges,s.initialRange,s.finalRange);t.pushActionsToUndoStack(p),t.isFilling=!1})},i.prototype.pushActionsToUndoStack=function(t){this.undoStack.push(t),this.cellValueChanges=[],this.redoStack.clear()},i.prototype.getRowNode=function(t){switch(t.rowPinned){case me.PINNED_TOP:return this.pinnedRowModel.getPinnedTopRowData()[t.rowIndex];case me.PINNED_BOTTOM:return this.pinnedRowModel.getPinnedBottomRowData()[t.rowIndex];default:return this.rowModel.getRow(t.rowIndex)}},ms([$("focusService")],i.prototype,"focusService",void 0),ms([$("gridApi")],i.prototype,"gridApi",void 0),ms([$("rowModel")],i.prototype,"rowModel",void 0),ms([$("pinnedRowModel")],i.prototype,"pinnedRowModel",void 0),ms([$("cellPositionUtils")],i.prototype,"cellPositionUtils",void 0),ms([$("rowPositionUtils")],i.prototype,"rowPositionUtils",void 0),ms([$e],i.prototype,"init",null),ms([tt("undoRedoService")],i)}(Ge),cE=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),Ey=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},bb=function(g){function i(){return null!==g&&g.apply(this,arguments)||this}return cE(i,g),i.prototype.findHeader=function(t,s){var p;if(p=t.column instanceof Or?this.columnModel["getDisplayedGroup"+s](t.column):this.columnModel["getDisplayedCol"+s](t.column))return{column:p,headerRowIndex:t.headerRowIndex}},i.prototype.findColAtEdgeForHeaderRow=function(t,s){var p=this.columnModel.getAllDisplayedColumns(),f=p["start"===s?0:p.length-1];if(f){var b=this.ctrlsService.getHeaderRowContainerCtrl(f.getPinned()).getRowType(t);return b==B.HeaderRowType.COLUMN_GROUP?{headerRowIndex:t,column:this.columnModel.getColumnGroupAtLevel(f,t)}:{headerRowIndex:null==b?-1:t,column:f}}},Ey([$("columnModel")],i.prototype,"columnModel",void 0),Ey([$("ctrlsService")],i.prototype,"ctrlsService",void 0),Ey([tt("headerPositionUtils")],i)}(Ge),pE=function(){function g(){}return g.prototype.buildColumnDefs=function(i,t,s){var p=this,f=[],_={};return i.forEach(function(b){for(var M=!0,L=p.createDefFromColumn(b,t,s),G=b.getOriginalParent();G;){var U=null;if(G.isPadding())G=G.getOriginalParent();else{var te=_[G.getGroupId()];if(te){te.children.push(L),M=!1;break}(U=p.createDefFromGroup(G))&&(U.children=[L],_[U.groupId]=U,L=U,G=G.getOriginalParent())}}M&&f.push(L)}),f},g.prototype.createDefFromGroup=function(i){var t=qa(i.getColGroupDef(),["children"]);return t&&(t.groupId=i.getGroupId()),t},g.prototype.createDefFromColumn=function(i,t,s){var p=qa(i.getColDef());return p.colId=i.getColId(),p.width=i.getActualWidth(),p.rowGroup=i.isRowGroupActive(),p.rowGroupIndex=i.isRowGroupActive()?t.indexOf(i):null,p.pivot=i.isPivotActive(),p.pivotIndex=i.isPivotActive()?s.indexOf(i):null,p.aggFunc=i.isValueActive()?i.getAggFunc():null,p.hide=!i.isVisible()||void 0,p.pinned=i.isPinned()?i.getPinned():null,p.sort=i.getSort()?i.getSort():null,p.sortIndex=null!=i.getSortIndex()?i.getSortIndex():null,p},g=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f}([tt("columnDefFactory")],g),g}(),yd=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},_d=function(){function g(){}return g.prototype.getInitialRowClasses=function(i){var t=[];return J(i.extraCssClass)&&t.push(i.extraCssClass),t.push("ag-row"),t.push(i.rowFocused?"ag-row-focus":"ag-row-no-focus"),i.fadeRowIn&&t.push("ag-opacity-zero"),t.push(i.rowIsEven?"ag-row-even":"ag-row-odd"),i.rowNode.isRowPinned()&&t.push("ag-row-pinned"),i.rowNode.isSelected()&&t.push("ag-row-selected"),i.rowNode.footer&&t.push("ag-row-footer"),t.push("ag-row-level-"+i.rowLevel),i.rowNode.stub&&t.push("ag-row-loading"),i.fullWidthRow&&t.push("ag-full-width-row"),i.expandable&&(t.push("ag-row-group"),t.push(i.rowNode.expanded?"ag-row-group-expanded":"ag-row-group-contracted")),i.rowNode.dragging&&t.push("ag-row-dragging"),Om(t,this.processClassesFromGridOptions(i.rowNode,i.scope)),Om(t,this.preProcessRowClassRules(i.rowNode,i.scope)),t.push(i.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),i.firstRowOnPage&&t.push("ag-row-first"),i.lastRowOnPage&&t.push("ag-row-last"),i.fullWidthRow&&(i.pinned===me.PINNED_LEFT&&t.push("ag-cell-last-left-pinned"),i.pinned===me.PINNED_RIGHT&&t.push("ag-cell-first-right-pinned")),t},g.prototype.processClassesFromGridOptions=function(i,t){var s=[],p=function(M){"string"==typeof M?s.push(M):Array.isArray(M)&&M.forEach(function(L){return s.push(L)})},f=this.gridOptionsWrapper.getRowClass();if(f){if("function"==typeof f)return console.warn("AG Grid: rowClass should not be a function, please use getRowClass instead"),[];p(f)}var _=this.gridOptionsWrapper.getRowClassFunc();return _&&p(_({data:i.data,node:i,rowIndex:i.rowIndex,$scope:t,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()})),s},g.prototype.preProcessRowClassRules=function(i,t){var s=[];return this.processRowClassRules(i,t,function(p){s.push(p)},function(p){}),s},g.prototype.processRowClassRules=function(i,t,s,p){var f={data:i.data,node:i,rowIndex:i.rowIndex,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),$scope:t,context:this.gridOptionsWrapper.getContext()};this.stylingService.processClassRules(this.gridOptionsWrapper.rowClassRules(),f,s,p)},g.prototype.calculateRowLevel=function(i){return i.group?i.level:i.parent?i.parent.level+1:0},yd([$("stylingService")],g.prototype,"stylingService",void 0),yd([$("gridOptionsWrapper")],g.prototype,"gridOptionsWrapper",void 0),yd([tt("rowCssClassCalculator")],g)}(),hE=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),No=function(g){function i(t){var s=g.call(this)||this;return s.state=i.STATE_WAITING_TO_LOAD,s.version=0,s.id=t,s}return hE(i,g),i.prototype.getId=function(){return this.id},i.prototype.load=function(){this.state=i.STATE_LOADING,this.loadFromDatasource()},i.prototype.getVersion=function(){return this.version},i.prototype.setStateWaitingToLoad=function(){this.version++,this.state=i.STATE_WAITING_TO_LOAD},i.prototype.getState=function(){return this.state},i.prototype.pageLoadFailed=function(t){this.isRequestMostRecentAndLive(t)&&(this.state=i.STATE_FAILED,this.processServerFail()),this.dispatchLoadCompleted(!1)},i.prototype.success=function(t,s){this.successCommon(t,s)},i.prototype.pageLoaded=function(t,s,p){this.successCommon(t,{rowData:s,rowCount:p})},i.prototype.isRequestMostRecentAndLive=function(t){var s=t===this.version,p=this.isAlive();return s&&p},i.prototype.successCommon=function(t,s){this.dispatchLoadCompleted(),this.isRequestMostRecentAndLive(t)&&(this.state=i.STATE_LOADED,this.processServerResult(s))},i.prototype.dispatchLoadCompleted=function(t){void 0===t&&(t=!0),this.dispatchEvent({type:i.EVENT_LOAD_COMPLETE,success:t,block:this})},i.EVENT_LOAD_COMPLETE="loadComplete",i.STATE_WAITING_TO_LOAD="needsLoading",i.STATE_LOADING="loading",i.STATE_LOADED="loaded",i.STATE_FAILED="failed",i}(Ge),fg=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),Qr=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},vs=function(g,i){return function(t,s){i(t,s,g)}},Zr=function(g){function i(){var s=null!==g&&g.apply(this,arguments)||this;return s.activeBlockLoadsCount=0,s.blocks=[],s.active=!0,s}var t;return fg(i,g),t=i,i.prototype.postConstruct=function(){this.maxConcurrentRequests=this.gridOptionsWrapper.getMaxConcurrentDatasourceRequests();var s=this.gridOptionsWrapper.getBlockLoadDebounceMillis();s&&s>0&&(this.checkBlockToLoadDebounce=gt.debounce(this.performCheckBlocksToLoad.bind(this),s))},i.prototype.setBeans=function(s){this.logger=s.create("RowNodeBlockLoader")},i.prototype.addBlock=function(s){this.blocks.push(s),s.addEventListener(No.EVENT_LOAD_COMPLETE,this.loadComplete.bind(this)),this.checkBlockToLoad()},i.prototype.removeBlock=function(s){gt.removeFromArray(this.blocks,s)},i.prototype.destroy=function(){g.prototype.destroy.call(this),this.active=!1},i.prototype.loadComplete=function(){this.activeBlockLoadsCount--,this.checkBlockToLoad(),0==this.activeBlockLoadsCount&&this.dispatchEvent({type:t.BLOCK_LOADER_FINISHED_EVENT})},i.prototype.checkBlockToLoad=function(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()},i.prototype.performCheckBlocksToLoad=function(){if(this.active){if(this.printCacheStatus(),null!=this.maxConcurrentRequests&&this.activeBlockLoadsCount>=this.maxConcurrentRequests)return void this.logger.log("checkBlockToLoad: max loads exceeded");var s=null;this.blocks.forEach(function(p){p.getState()===No.STATE_WAITING_TO_LOAD&&(s=p)}),s&&(s.load(),this.activeBlockLoadsCount++,this.printCacheStatus())}},i.prototype.getBlockState=function(){var s={};return this.blocks.forEach(function(p){var f=p.getBlockStateJson();s[f.id]=f.state}),s},i.prototype.printCacheStatus=function(){this.logger.isLogging()&&this.logger.log("printCacheStatus: activePageLoadsCount = "+this.activeBlockLoadsCount+", blocks = "+JSON.stringify(this.getBlockState()))},i.prototype.isLoading=function(){return this.activeBlockLoadsCount>0},i.BLOCK_LOADER_FINISHED_EVENT="blockLoaderFinished",Qr([$e],i.prototype,"postConstruct",null),Qr([vs(0,bi("loggerFactory"))],i.prototype,"setBeans",null),t=Qr([tt("rowNodeBlockLoader")],i)}(Ge),nl=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},Gr=function(){function g(){}return g.prototype.doFullSort=function(i,t){var p=i.map(function(f,_){return{currentPos:_,rowNode:f}});return p.sort(this.compareRowNodes.bind(this,t)),p.map(function(f){return f.rowNode})},g.prototype.compareRowNodes=function(i,t,s){for(var p=t.rowNode,f=s.rowNode,_=0,b=i.length;_<b;_++){var U,A=i[_],M=A.sort===me.SORT_DESC,L=this.getValue(p,A.column),G=this.getValue(f,A.column),te=this.getComparator(A,p);if(U=te?te(L,G,p,f,M):gt.defaultComparator(L,G,this.gridOptionsWrapper.isAccentedSort()),!isNaN(U)&&0!==U)return A.sort===me.SORT_ASC?U:-1*U}return t.currentPos-s.currentPos},g.prototype.getComparator=function(i,t){var s=i.column,p=s.getColDef().comparator;if(null!=p)return p;if(t.rowGroupColumn)return t.rowGroupColumn.getColDef().comparator;if(s.getColDef().showRowGroup){var f=!t.group&&s.getColDef().field;if(f){var _=this.columnModel.getPrimaryColumn(f);if(_)return _.getColDef().comparator}}},g.prototype.getValue=function(i,t){return this.valueService.getValue(t,i,!1,!1)},nl([$("gridOptionsWrapper")],g.prototype,"gridOptionsWrapper",void 0),nl([$("valueService")],g.prototype,"valueService",void 0),nl([$("columnModel")],g.prototype,"columnModel",void 0),nl([tt("rowNodeSorter")],g)}(),Yl=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),Lo=function(g){function i(){var s=null!==g&&g.apply(this,arguments)||this;return s.ready=!1,s.readyCallbacks=[],s}var t;return Yl(i,g),t=i,i.prototype.checkReady=function(){if(this.ready=null!=this.gridCtrl&&null!=this.gridBodyCtrl&&null!=this.centerRowContainerCtrl&&null!=this.leftRowContainerCtrl&&null!=this.rightRowContainerCtrl&&null!=this.bottomCenterRowContainerCtrl&&null!=this.bottomLeftRowContainerCtrl&&null!=this.bottomRightRowContainerCtrl&&null!=this.topCenterRowContainerCtrl&&null!=this.topLeftRowContainerCtrl&&null!=this.topRightRowContainerCtrl&&null!=this.centerHeaderRowContainerCtrl&&null!=this.leftHeaderRowContainerCtrl&&null!=this.rightHeaderRowContainerCtrl&&null!=this.fakeHScrollCtrl&&null!=this.gridHeaderCtrl,this.ready){var s=this.createReadyParams();this.readyCallbacks.forEach(function(p){return p(s)}),this.readyCallbacks.length=0}},i.prototype.whenReady=function(s){this.ready?s(this.createReadyParams()):this.readyCallbacks.push(s)},i.prototype.createReadyParams=function(){return{centerRowContainerCtrl:this.centerRowContainerCtrl,leftRowContainerCtrl:this.leftRowContainerCtrl,rightRowContainerCtrl:this.rightRowContainerCtrl,bottomCenterRowContainerCtrl:this.bottomCenterRowContainerCtrl,bottomLeftRowContainerCtrl:this.bottomLeftRowContainerCtrl,bottomRightRowContainerCtrl:this.bottomRightRowContainerCtrl,topCenterRowContainerCtrl:this.topCenterRowContainerCtrl,topLeftRowContainerCtrl:this.topLeftRowContainerCtrl,topRightRowContainerCtrl:this.topRightRowContainerCtrl,centerHeaderRowContainerCtrl:this.centerHeaderRowContainerCtrl,leftHeaderRowContainerCtrl:this.leftHeaderRowContainerCtrl,rightHeaderRowContainerCtrl:this.rightHeaderRowContainerCtrl,fakeHScrollCtrl:this.fakeHScrollCtrl,gridBodyCtrl:this.gridBodyCtrl,gridCtrl:this.gridCtrl,gridHeaderCtrl:this.gridHeaderCtrl}},i.prototype.registerFakeHScrollCtrl=function(s){this.fakeHScrollCtrl=s,this.checkReady()},i.prototype.registerGridHeaderCtrl=function(s){this.gridHeaderCtrl=s,this.checkReady()},i.prototype.registerCenterRowContainerCtrl=function(s){this.centerRowContainerCtrl=s,this.checkReady()},i.prototype.registerLeftRowContainerCtrl=function(s){this.leftRowContainerCtrl=s,this.checkReady()},i.prototype.registerRightRowContainerCtrl=function(s){this.rightRowContainerCtrl=s,this.checkReady()},i.prototype.registerTopCenterRowContainerCtrl=function(s){this.topCenterRowContainerCtrl=s,this.checkReady()},i.prototype.registerTopLeftRowContainerCon=function(s){this.topLeftRowContainerCtrl=s,this.checkReady()},i.prototype.registerTopRightRowContainerCtrl=function(s){this.topRightRowContainerCtrl=s,this.checkReady()},i.prototype.registerBottomCenterRowContainerCtrl=function(s){this.bottomCenterRowContainerCtrl=s,this.checkReady()},i.prototype.registerBottomLeftRowContainerCtrl=function(s){this.bottomLeftRowContainerCtrl=s,this.checkReady()},i.prototype.registerBottomRightRowContainerCtrl=function(s){this.bottomRightRowContainerCtrl=s,this.checkReady()},i.prototype.registerHeaderContainer=function(s,p){switch(p){case me.PINNED_LEFT:this.leftHeaderRowContainerCtrl=s;break;case me.PINNED_RIGHT:this.rightHeaderRowContainerCtrl=s;break;default:this.centerHeaderRowContainerCtrl=s}this.checkReady()},i.prototype.registerGridBodyCtrl=function(s){this.gridBodyCtrl=s,this.checkReady()},i.prototype.registerGridCtrl=function(s){this.gridCtrl=s,this.checkReady()},i.prototype.getFakeHScrollCtrl=function(){return this.fakeHScrollCtrl},i.prototype.getGridHeaderCtrl=function(){return this.gridHeaderCtrl},i.prototype.getGridCtrl=function(){return this.gridCtrl},i.prototype.getCenterRowContainerCtrl=function(){return this.centerRowContainerCtrl},i.prototype.getTopCenterRowContainerCtrl=function(){return this.topCenterRowContainerCtrl},i.prototype.getBottomCenterRowContainerCtrl=function(){return this.bottomCenterRowContainerCtrl},i.prototype.getGridBodyCtrl=function(){return this.gridBodyCtrl},i.prototype.getHeaderRowContainerCtrls=function(){return[this.leftHeaderRowContainerCtrl,this.rightHeaderRowContainerCtrl,this.centerHeaderRowContainerCtrl]},i.prototype.getHeaderRowContainerCtrl=function(s){switch(s){case me.PINNED_LEFT:return this.leftHeaderRowContainerCtrl;case me.PINNED_RIGHT:return this.rightHeaderRowContainerCtrl;default:return this.centerHeaderRowContainerCtrl}},i.NAME="ctrlsService",i=t=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f}([tt(t.NAME)],i),i}(Ge),zt=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),bd=function(g){function i(){var t=null!==g&&g.apply(this,arguments)||this;return t.registry={},t}return zt(i,g),i.prototype.register=function(t){this.registry[t.controllerName]=t.controllerClass},i.prototype.getInstance=function(t){var s=this.registry[t];if(null!=s)return new s},i=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f}([tt("ctrlsFactory")],i),i}(Ge),wd=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),rl=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},Qu=function(g){function i(){return g.call(this)||this}return wd(i,g),i.prototype.setComp=function(t,s,p,f){this.view=t,this.eViewport=p,this.eContainer=f,this.eGui=s,this.addManagedListener(this.eventService,re.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.onScrollVisibilityChanged();var _=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedListener(this.eventService,re.EVENT_DISPLAYED_COLUMNS_CHANGED,_),this.addManagedListener(this.eventService,re.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,_),this.addManagedListener(this.gridOptionsWrapper,at.PROP_DOM_LAYOUT,_),this.setFakeHScrollSpacerWidths(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()),this.ctrlsService.registerFakeHScrollCtrl(this)},i.prototype.addActiveListenerToggles=function(){var t=this;["mouseenter","mousedown","touchstart"].forEach(function(f){return t.addManagedListener(t.eGui,f,function(){return t.view.addOrRemoveCssClass("ag-scrollbar-active",!0)})}),["mouseleave","mouseup","touchend"].forEach(function(f){return t.addManagedListener(t.eGui,f,function(){return t.view.addOrRemoveCssClass("ag-scrollbar-active",!1)})})},i.prototype.postConstruct=function(){this.enableRtl=this.gridOptionsWrapper.isEnableRtl(),this.invisibleScrollbar=Bw()},i.prototype.onScrollVisibilityChanged=function(){this.setScrollVisible(),this.setFakeHScrollSpacerWidths()},i.prototype.hideAndShowInvisibleScrollAsNeeded=function(){var t=this;this.addManagedListener(this.eventService,re.EVENT_BODY_SCROLL,function(s){"horizontal"===s.direction&&t.view.addOrRemoveCssClass("ag-scrollbar-scrolling",!0)}),this.addManagedListener(this.eventService,re.EVENT_BODY_SCROLL_END,function(){return t.view.addOrRemoveCssClass("ag-scrollbar-scrolling",!1)})},i.prototype.setFakeHScrollSpacerWidths=function(){var t=this.scrollVisibleService.isVerticalScrollShowing(),s=this.columnModel.getDisplayedColumnsRightWidth(),p=!this.enableRtl&&t,f=this.gridOptionsWrapper.getScrollbarWidth();p&&(s+=f),this.view.setRightSpacerFixedWidth(s),this.view.includeRightSpacerScrollerCss("ag-scroller-corner",s<=f);var _=this.columnModel.getDisplayedColumnsLeftWidth();this.enableRtl&&t&&(_+=f),this.view.setLeftSpacerFixedWidth(_),this.view.includeLeftSpacerScrollerCss("ag-scroller-corner",_<=f)},i.prototype.setScrollVisible=function(){var t=this.scrollVisibleService.isHorizontalScrollShowing(),s=this.invisibleScrollbar,p=this.gridOptionsWrapper.isSuppressHorizontalScroll(),f=t&&this.gridOptionsWrapper.getScrollbarWidth()||0,b=p?0:0===f&&s?15:f;this.view.addOrRemoveCssClass("ag-scrollbar-invisible",s),this.view.setHeight(b),this.view.setViewportHeight(b),this.view.setContainerHeight(b)},i.prototype.getViewport=function(){return this.eViewport},i.prototype.getContainer=function(){return this.eContainer},rl([$("scrollVisibleService")],i.prototype,"scrollVisibleService",void 0),rl([$("columnModel")],i.prototype,"columnModel",void 0),rl([$("ctrlsService")],i.prototype,"ctrlsService",void 0),rl([$e],i.prototype,"postConstruct",null),i}(Ge),il=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),ao=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},Sd=function(g){function i(){return g.call(this,i.TEMPLATE)||this}return il(i,g),i.prototype.postConstruct=function(){var t=this,s={addOrRemoveCssClass:function(f,_){return t.addOrRemoveCssClass(f,_)},setHeight:function(f){return Ko(t.getGui(),f)},setContainerHeight:function(f){return Ko(t.eContainer,f)},setViewportHeight:function(f){return Ko(t.eViewport,f)},setRightSpacerFixedWidth:function(f){return $i(t.eRightSpacer,f)},setLeftSpacerFixedWidth:function(f){return $i(t.eLeftSpacer,f)},includeLeftSpacerScrollerCss:function(f,_){return t.eLeftSpacer.classList.toggle(f,_)},includeRightSpacerScrollerCss:function(f,_){return t.eRightSpacer.classList.toggle(f,_)}};this.createManagedBean(new Qu).setComp(s,this.getGui(),this.eViewport,this.eContainer),this.createManagedBean(new Sv(function(f){return t.eContainer.style.width=f+"px"}))},i.TEMPLATE='<div class="ag-body-horizontal-scroll" aria-hidden="true">\n            <div class="ag-horizontal-left-spacer" ref="eLeftSpacer"></div>\n            <div class="ag-body-horizontal-scroll-viewport" ref="eViewport">\n                <div class="ag-body-horizontal-scroll-container" ref="eContainer"></div>\n            </div>\n            <div class="ag-horizontal-right-spacer" ref="eRightSpacer"></div>\n        </div>',ao([Ve("eLeftSpacer")],i.prototype,"eLeftSpacer",void 0),ao([Ve("eRightSpacer")],i.prototype,"eRightSpacer",void 0),ao([Ve("eViewport")],i.prototype,"eViewport",void 0),ao([Ve("eContainer")],i.prototype,"eContainer",void 0),ao([$e],i.prototype,"postConstruct",null),i}(Ut),Ed=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),Jr=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},wb=function(g){function i(){return null!==g&&g.apply(this,arguments)||this}return Ed(i,g),i.prototype.postConstruct=function(){var t=this.checkContainerWidths.bind(this);this.addManagedListener(this.eventService,re.EVENT_DISPLAYED_COLUMNS_CHANGED,t),this.addManagedListener(this.eventService,re.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,t),this.addManagedListener(this.gridOptionsWrapper,at.PROP_DOM_LAYOUT,t)},i.prototype.checkContainerWidths=function(){var t=this.gridOptionsWrapper.getDomLayout()===me.DOM_LAYOUT_PRINT,s=t?0:this.columnModel.getDisplayedColumnsLeftWidth(),p=t?0:this.columnModel.getDisplayedColumnsRightWidth();s!=this.leftWidth&&(this.leftWidth=s,this.eventService.dispatchEvent({type:re.EVENT_LEFT_PINNED_WIDTH_CHANGED})),p!=this.rightWidth&&(this.rightWidth=p,this.eventService.dispatchEvent({type:re.EVENT_RIGHT_PINNED_WIDTH_CHANGED}))},i.prototype.getPinnedRightWidth=function(){return this.rightWidth},i.prototype.getPinnedLeftWidth=function(){return this.leftWidth},Jr([$("columnModel")],i.prototype,"columnModel",void 0),Jr([$e],i.prototype,"postConstruct",null),Jr([tt("pinnedWidthService")],i)}(Ge),so=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),Zu=function(g){function i(t){var s=g.call(this,'<div class="ag-popup-editor" tabindex="-1"/>')||this;return s.params=t,s}return so(i,g),i.prototype.postConstruct=function(){this.gridOptionsWrapper.setDomData(this.getGui(),i.DOM_KEY_POPUP_EDITOR_WRAPPER,!0),this.addKeyDownListener()},i.prototype.addKeyDownListener=function(){var t=this,s=this.getGui(),p=this.params;this.addManagedListener(s,"keydown",function(_){Mc(t.gridOptionsWrapper,_,p.node,p.column,!0)||p.onKeyDown(_)})},i.DOM_KEY_POPUP_EDITOR_WRAPPER="popupEditorWrapper",function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);p>3&&f&&Object.defineProperty(i,t,f)}([$e],i.prototype,"postConstruct",null),i}(Hs),Eb=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),oh=function(){return oh=Object.assign||function(g){for(var i,t=1,s=arguments.length;t<s;t++)for(var p in i=arguments[t])Object.prototype.hasOwnProperty.call(i,p)&&(g[p]=i[p]);return g},oh.apply(this,arguments)},Dy=function(g){function i(t,s,p,f,_,b){var A=g.call(this)||this;A.scope=null,A.rendererVersion=0,A.editorVersion=0,A.scope=t,A.beans=s,A.column=p.getColumn(),A.rowNode=p.getRowNode(),A.rowCtrl=p.getRowCtrl(),A.eRow=_,A.setTemplate('<div comp-id="'+A.getCompId()+'"/>');var M=A.getGui();A.forceWrapper=p.isForceWrapper(),A.refreshWrapper(!1);var L=function(U,te,le){var ge=le||M;null!=te&&""!=te?ge.setAttribute(U,te):ge.removeAttribute(U)},G={addOrRemoveCssClass:function(U,te){return A.addOrRemoveCssClass(U,te)},setUserStyles:function(U){return vu(M,U)},setAriaSelected:function(U){return cp(M,U)},setAriaExpanded:function(U){return qo(M,U)},getFocusableElement:function(){return A.getFocusableElement()},setAriaColIndex:function(U){return Q_(A.getGui(),U)},setTabIndex:function(U){return L("tabindex",U.toString())},setRole:function(U){return Qn(M,U)},setColId:function(U){return L("col-id",U)},setTitle:function(U){return L("title",U)},setIncludeSelection:function(U){return A.includeSelection=U},setIncludeRowDrag:function(U){return A.includeRowDrag=U},setIncludeDndSource:function(U){return A.includeDndSource=U},setRenderDetails:function(U,te,le){return A.setRenderDetails(U,te,le)},setEditDetails:function(U,te,le){return A.setEditDetails(U,te,le)},getCellEditor:function(){return A.cellEditor||null},getCellRenderer:function(){return A.cellRenderer||null},getParentOfValue:function(){return A.getParentOfValue()}};return A.cellCtrl=p,p.setComp(G,A.scope,A.getGui(),A.eCellWrapper,f,b),A}return Eb(i,g),i.prototype.getParentOfValue=function(){return this.eCellValue?this.eCellValue:this.eCellWrapper?this.eCellWrapper:this.getGui()},i.prototype.setRenderDetails=function(t,s,p){if(!this.cellEditor||this.cellEditorPopupWrapper){this.firstRender=null==this.firstRender;var _=this.isUsingAngular1Template(),b=this.refreshWrapper(!1);t?!p&&!b&&this.refreshCellRenderer(t)||(this.destroyRenderer(),this.createCellRendererInstance(t)):(this.destroyRenderer(),_?this.insertValueUsingAngular1Template():this.insertValueWithoutCellRenderer(s))}},i.prototype.setEditDetails=function(t,s,p){t?this.createCellEditorInstance(t,s,p):this.destroyEditor()},i.prototype.removeControls=function(){this.checkboxSelectionComp=this.beans.context.destroyBean(this.checkboxSelectionComp),this.dndSourceComp=this.beans.context.destroyBean(this.dndSourceComp),this.rowDraggingComp=this.beans.context.destroyBean(this.rowDraggingComp)},i.prototype.refreshWrapper=function(t){var s=this.includeRowDrag||this.includeDndSource||this.includeSelection,p=s||this.forceWrapper,f=p&&null==this.eCellWrapper;f&&(this.eCellWrapper=zn('<div class="ag-cell-wrapper" role="presentation"></div>'),this.getGui().appendChild(this.eCellWrapper));var _=!p&&null!=this.eCellWrapper;_&&(fi(this.eCellWrapper),this.eCellWrapper=void 0),this.addOrRemoveCssClass("ag-cell-value",!p);var b=!t&&p,A=b&&null==this.eCellValue;A&&(this.eCellValue=zn('<span class="ag-cell-value" role="presentation"></span>'),this.eCellWrapper.appendChild(this.eCellValue));var M=!b&&null!=this.eCellValue;M&&(fi(this.eCellValue),this.eCellValue=void 0);var L=f||_||A||M;return L&&this.removeControls(),!t&&s&&this.addControls(),L},i.prototype.addControls=function(){var t=this.eCellValue.id="cell-"+this.getCompId(),s=[];this.includeRowDrag&&null==this.rowDraggingComp&&(this.rowDraggingComp=this.cellCtrl.createRowDragComp(),this.rowDraggingComp&&this.eCellWrapper.insertBefore(this.rowDraggingComp.getGui(),this.eCellValue)),this.includeDndSource&&null==this.dndSourceComp&&(this.dndSourceComp=this.cellCtrl.createDndSource(),this.eCellWrapper.insertBefore(this.dndSourceComp.getGui(),this.eCellValue)),this.includeSelection&&(null==this.checkboxSelectionComp&&(this.checkboxSelectionComp=this.cellCtrl.createSelectionCheckbox(),this.eCellWrapper.insertBefore(this.checkboxSelectionComp.getGui(),this.eCellValue)),s.push(this.checkboxSelectionComp.getCheckboxId())),s.push(t),qh(this.getGui(),s.join(" "))},i.prototype.createCellEditorInstance=function(t,s,p){var f=this,_=this.editorVersion,b=t.newAgStackInstance();if(b){var A=t.params;b.then(function(L){return f.afterCellEditorCreated(_,L,A,s,p)}),E(this.cellEditor)&&A.cellStartedEdit&&this.cellCtrl.focusCell(!0)}},i.prototype.insertValueWithoutCellRenderer=function(t){var s=this.getParentOfValue();Bn(s);var p=null!=t?mr(t):null;null!=p&&(s.innerHTML=p)},i.prototype.insertValueUsingAngular1Template=function(){var _,t=this,s=this.column.getColDef(),p=s.template,f=s.templateUrl;null!=p?_=p:null!=f&&(_=this.beans.templateService.getTemplate(f,function(){return t.cellCtrl.refreshCell({forceRefresh:!0})})),null!=_&&(this.getParentOfValue().innerHTML=_,this.updateAngular1ScopeAndCompile())},i.prototype.destroyEditorAndRenderer=function(){this.destroyRenderer(),this.destroyEditor()},i.prototype.destroyRenderer=function(){this.cellRenderer=this.beans.context.destroyBean(this.cellRenderer),fi(this.cellRendererGui),this.cellRendererGui=null,this.rendererVersion++},i.prototype.destroyEditor=function(){var t=this.beans.context;this.hideEditorPopup&&this.hideEditorPopup(),this.hideEditorPopup=void 0,this.cellEditor=t.destroyBean(this.cellEditor),this.cellEditorPopupWrapper=t.destroyBean(this.cellEditorPopupWrapper),fi(this.cellEditorGui),this.cellEditorGui=null,this.editorVersion++},i.prototype.refreshCellRenderer=function(t){if(null==this.cellRenderer||null==this.cellRenderer.refresh||this.cellRendererClass!==t.componentClass)return!1;var s=this.cellRenderer.refresh(t.params);return!0===s||void 0===s},i.prototype.createCellRendererInstance=function(t){var s=this,p=this.beans.gridOptionsWrapper.isAngularCompileRows(),f=this.beans.gridOptionsWrapper.isSuppressAnimationFrame(),b=this.rendererVersion,A=t.componentClass,M=function(){if(s.rendererVersion===b&&s.isAlive()){var G=t.newAgStackInstance(),U=s.afterCellRendererCreated.bind(s,b,A);G&&G.then(U)}};p||f||!this.firstRender?M():this.beans.animationFrameService.createTask(M,this.rowNode.rowIndex,"createTasksP2")},i.prototype.isUsingAngular1Template=function(){var t=this.column.getColDef();return null!=t.template||null!=t.templateUrl},i.prototype.getCtrl=function(){return this.cellCtrl},i.prototype.getRowCtrl=function(){return this.rowCtrl},i.prototype.getCellRenderer=function(){return this.cellRenderer},i.prototype.getCellEditor=function(){return this.cellEditor},i.prototype.afterCellRendererCreated=function(t,s,p){if(this.isAlive()&&t===this.rendererVersion){if(this.cellRenderer=p,this.cellRendererClass=s,this.cellRendererGui=this.cellRenderer.getGui(),null!=this.cellRendererGui){var _=this.getParentOfValue();Bn(_),_.appendChild(this.cellRendererGui),this.updateAngular1ScopeAndCompile()}}else this.beans.context.destroyBean(p)},i.prototype.afterCellEditorCreated=function(t,s,p,f,_){if(t!==this.editorVersion)this.beans.context.destroyBean(s);else{if(s.isCancelBeforeStart&&s.isCancelBeforeStart())return this.beans.context.destroyBean(s),void this.cellCtrl.stopEditing();if(!s.getGui)return console.warn("AG Grid: cellEditor for column "+this.column.getId()+" is missing getGui() method"),void this.beans.context.destroyBean(s);this.cellEditor=s,this.cellEditorGui=s.getGui(),f||void 0!==s.isPopup&&s.isPopup()?(f||this.cellCtrl.hackSayEditingInPopup(),this.addPopupCellEditor(p,_)):this.addInCellEditor(),s.afterGuiAttached&&s.afterGuiAttached()}},i.prototype.addInCellEditor=function(){var t=this.getGui(),s=this.beans.gridOptionsWrapper.getDocument();t.contains(s.activeElement)&&t.focus(),this.destroyRenderer(),this.refreshWrapper(!0),this.clearParentOfValue(),this.cellEditorGui&&this.getParentOfValue().appendChild(this.cellEditorGui)},i.prototype.addPopupCellEditor=function(t,s){var p=this;this.beans.gridOptionsWrapper.isFullRowEdit()&&console.warn("AG Grid: popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.");var f=this.cellEditor;this.cellEditorPopupWrapper=this.beans.context.createBean(new Zu(t));var _=this.cellEditorPopupWrapper.getGui();this.cellEditorGui&&_.appendChild(this.cellEditorGui);var b=this.beans.popupService,A=this.beans.gridOptionsWrapper.isStopEditingWhenCellsLoseFocus(),M=null!=s?s:f.getPopupPosition?f.getPopupPosition():"over",L={column:this.column,rowNode:this.rowNode,type:"popupCellEditor",eventSource:this.getGui(),ePopup:_,keepWithinBounds:!0},G="under"===M?b.positionPopupUnderComponent.bind(b,L):b.positionPopupOverComponent.bind(b,L),U=this.beans.gridOptionsWrapper.getLocaleTextFunc(),te=b.addPopup({modal:A,eChild:_,closeOnEsc:!0,closedCallback:function(){p.cellCtrl.onPopupEditorClosed()},anchorToElement:this.getGui(),positionCallback:G,ariaLabel:U("ariaLabelCellEditor","Cell Editor")});te&&(this.hideEditorPopup=te.hideFunc)},i.prototype.detach=function(){this.eRow.removeChild(this.getGui())},i.prototype.destroy=function(){this.cellCtrl.stopEditing(),this.destroyEditorAndRenderer(),this.removeControls(),this.angularCompiledElement&&(this.angularCompiledElement.remove(),this.angularCompiledElement=void 0),g.prototype.destroy.call(this)},i.prototype.clearParentOfValue=function(){var t=this.getGui(),s=this.beans.gridOptionsWrapper.getDocument();t.contains(s.activeElement)&&t.focus({preventScroll:!0}),Bn(this.getParentOfValue())},i.prototype.updateAngular1ScopeAndCompile=function(){if(this.beans.gridOptionsWrapper.isAngularCompileRows()&&this.scope){this.scope.data=oh({},this.rowNode.data),this.angularCompiledElement&&this.angularCompiledElement.remove();var t=this.getParentOfValue();this.angularCompiledElement=this.beans.$compile(t.children)(this.scope),this.beans.ctrlsService.getGridBodyCtrl().requestAngularApply()}},i}(Ut),Db=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),fE=function(g){function i(t,s,p){var f=g.call(this)||this;f.cellComps={},f.beans=s,f.rowCtrl=t,f.setTemplate('<div comp-id="'+f.getCompId()+'" style="'+f.getInitialStyle()+'"/>');var _=f.getGui(),b=_.style;return t.setComp({setDomOrder:function(M){return f.domOrder=M},setCellCtrls:function(M){return f.setCellCtrls(M)},showFullWidth:function(M){return f.showFullWidth(M)},getFullWidthCellRenderer:function(){return f.getFullWidthCellRenderer()},addOrRemoveCssClass:function(M,L){return f.addOrRemoveCssClass(M,L)},setAriaExpanded:function(M){return qo(_,M)},setUserStyles:function(M){return vu(_,M)},setAriaSelected:function(M){return cp(_,M)},setAriaLabel:function(M){bu(_,null==M?"":M)},setTop:function(M){return b.top=M},setTransform:function(M){return b.transform=M},setRowIndex:function(M){return _.setAttribute("row-index",M)},setRole:function(M){return Qn(_,M)},setAriaRowIndex:function(M){return X_(f.getGui(),M)},setRowId:function(M){return _.setAttribute("row-id",M)},setRowBusinessKey:function(M){return _.setAttribute("row-business-key",M)},setTabIndex:function(M){return _.setAttribute("tabindex",M.toString())}},f.getGui(),p),f}return Db(i,g),i.prototype.getInitialStyle=function(){var t=this.rowCtrl.getInitialTransform(),s=this.rowCtrl.getInitialRowTop();return t?"transform: "+t:"top: "+s},i.prototype.showFullWidth=function(t){var s=this,f=t.newAgStackInstance();!f||f.then(function(_){if(s.isAlive()){var b=_.getGui();s.getGui().appendChild(b),s.rowCtrl.setupDetailRowAutoHeight(b),s.setFullWidthRowComp(_)}else s.beans.context.destroyBean(_)})},i.prototype.setCellCtrls=function(t){var s=this,p=Object.assign({},this.cellComps);t.forEach(function(_){var b=_.getInstanceId();null==s.cellComps[b]?s.newCellComp(_):p[b]=null});var f=Ca(p).filter(function(_){return null!=_});this.destroyCells(f),this.ensureDomOrder(t)},i.prototype.ensureDomOrder=function(t){var s=this;if(this.domOrder){var p=[];t.forEach(function(f){var _=s.cellComps[f.getInstanceId()];_&&p.push(_.getGui())}),Pr(this.getGui(),p)}},i.prototype.newCellComp=function(t){var s=new Dy(this.rowCtrl.getScope(),this.beans,t,this.rowCtrl.isPrintLayout(),this.getGui(),this.rowCtrl.isEditing());this.cellComps[t.getInstanceId()]=s,this.getGui().appendChild(s.getGui())},i.prototype.destroy=function(){g.prototype.destroy.call(this),this.destroyAllCells()},i.prototype.destroyAllCells=function(){var t=Ca(this.cellComps).filter(function(s){return null!=s});this.destroyCells(t)},i.prototype.setFullWidthRowComp=function(t){var s=this;this.fullWidthCellRenderer&&console.error("AG Grid - should not be setting fullWidthRowComponent twice"),this.fullWidthCellRenderer=t,this.addDestroyFunc(function(){s.fullWidthCellRenderer=s.beans.context.destroyBean(s.fullWidthCellRenderer)})},i.prototype.getFullWidthCellRenderer=function(){return this.fullWidthCellRenderer},i.prototype.destroyCells=function(t){var s=this;t.forEach(function(p){if(p){var f=p.getCtrl().getInstanceId();s.cellComps[f]===p&&(p.detach(),p.destroy(),s.cellComps[f]=null)}})},i}(Ut),ut=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),gg=function(){return gg=Object.assign||function(g){for(var i,t=1,s=arguments.length;t<s;t++)for(var p in i=arguments[t])Object.prototype.hasOwnProperty.call(i,p)&&(g[p]=i[p]);return g},gg.apply(this,arguments)},Tr=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},Ob=function(g){function i(){var t=g.call(this,function(){var g=Ut.elementGettingCreated.getAttribute("name"),i=Zc.getRowContainerCssClasses(g);return g===B.RowContainerName.CENTER?'<div class="'+i.wrapper+'" ref="eWrapper" role="presentation">\n                <div class="'+i.viewport+'" ref="eViewport" role="presentation">\n                    <div class="'+i.container+'" ref="eContainer" role="rowgroup"></div>\n                </div>\n            </div>':g===B.RowContainerName.TOP_CENTER||g===B.RowContainerName.BOTTOM_CENTER?'<div class="'+i.viewport+'" ref="eViewport" role="presentation">\n                <div class="'+i.container+'" ref="eContainer" role="presentation"></div>\n            </div>':'<div class="'+i.container+'" ref="eContainer" role="presentation"></div>'}())||this;return t.rowComps={},t.name=Ut.elementGettingCreated.getAttribute("name"),t.type=ku(t.name),t}return ut(i,g),i.prototype.postConstruct=function(){var t=this,s={setViewportHeight:function(f){return t.eViewport.style.height=f},setRowCtrls:function(f){return t.setRowCtrls(f)},setDomOrder:function(f){t.domOrder=f},setContainerWidth:function(f){return t.eContainer.style.width=f}};this.createManagedBean(new Zc(this.name)).setComp(s,this.eContainer,this.eViewport,this.eWrapper)},i.prototype.preDestroy=function(){this.setRowCtrls([])},i.prototype.setRowCtrls=function(t){var s=this,p=gg({},this.rowComps);this.rowComps={},this.lastPlacedElement=null,t.forEach(function(_){var b=_.getInstanceId(),A=p[b];if(A)s.rowComps[b]=A,delete p[b],s.ensureDomOrder(A.getGui());else{var M=s.newRowComp(_);s.rowComps[b]=M,s.appendRow(M.getGui())}}),Ca(p).forEach(function(_){s.eContainer.removeChild(_.getGui()),_.destroy()})},i.prototype.appendRow=function(t){this.domOrder?Dl(this.eContainer,t,this.lastPlacedElement):this.eContainer.appendChild(t),this.lastPlacedElement=t},i.prototype.ensureDomOrder=function(t){this.domOrder&&(Ms(this.eContainer,t,this.lastPlacedElement),this.lastPlacedElement=t)},i.prototype.newRowComp=function(t){return Zc.getPinned(this.name),new fE(t,this.beans,this.type)},Tr([$("beans")],i.prototype,"beans",void 0),Tr([Ve("eViewport")],i.prototype,"eViewport",void 0),Tr([Ve("eContainer")],i.prototype,"eContainer",void 0),Tr([Ve("eWrapper")],i.prototype,"eWrapper",void 0),Tr([$e],i.prototype,"postConstruct",null),Tr([hi],i.prototype,"preDestroy",null),i}(Ut),gE=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),ah=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},xy=function(g){function i(){var t=null!==g&&g.apply(this,arguments)||this;return t.events=[],t}return gE(i,g),i.prototype.postConstruct=function(){this.rowModel.getType()==me.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideRowModel=this.rowModel)},i.prototype.dispatchExpanded=function(t){var s=this;null!=this.clientSideRowModel?(this.events.push(t),null==this.dispatchExpandedDebounced&&(this.dispatchExpandedDebounced=this.animationFrameService.debounce(function(){s.clientSideRowModel&&s.clientSideRowModel.onRowGroupOpened(),s.events.forEach(function(f){return s.eventService.dispatchEvent(f)}),s.events=[]})),this.dispatchExpandedDebounced()):this.eventService.dispatchEvent(t)},ah([$("animationFrameService")],i.prototype,"animationFrameService",void 0),ah([$("rowModel")],i.prototype,"rowModel",void 0),ah([$e],i.prototype,"postConstruct",null),ah([tt("rowNodeEventThrottle")],i)}(Ge),xb=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),Dd=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},Ab=function(g){function i(){return null!==g&&g.apply(this,arguments)||this}return xb(i,g),i.prototype.hideActiveMenu=function(){this.hidePopup&&this.hidePopup()},i.prototype.showMenuAfterMouseEvent=function(t,s){var p=this;this.showPopup(t,function(f){p.popupService.positionPopupUnderMouseEvent({column:t,type:"columnMenu",mouseEvent:s,ePopup:f})},s.target)},i.prototype.showMenuAfterButtonClick=function(t,s,p){var f=this;this.showPopup(t,function(_){f.popupService.positionPopupUnderComponent({type:p,eventSource:s,ePopup:_,keepWithinBounds:!0,column:t})},s)},i.prototype.showPopup=function(t,s,p){var f=this,_=this.filterManager.getOrCreateFilterWrapper(t,"COLUMN_MENU");if(!_)throw new Error("AG Grid - unable to show popup filter, filter instantiation failed");var b=document.createElement("div");Qn(b,"presentation"),b.classList.add("ag-menu"),this.tabListener=this.addManagedListener(b,"keydown",function(te){return f.trapFocusWithin(te,b)}),_.guiPromise.then(function(te){return b.appendChild(te)});var A,M=p||this.ctrlsService.getGridBodyCtrl().getGui(),G=this.gridOptionsWrapper.getLocaleTextFunc(),U=this.popupService.addPopup({modal:!0,eChild:b,closeOnEsc:!0,closedCallback:function(te){t.setMenuVisible(!1,"contextMenu");var le=te instanceof KeyboardEvent;if(f.tabListener&&(f.tabListener=f.tabListener()),le&&p&&gi(p)){var ge=f.focusService.findTabbableParent(p);ge&&ge.focus()}},positionCallback:function(){return s(b)},anchorToElement:M,ariaLabel:G("ariaLabelColumnMenu","Column Menu")});U&&(this.hidePopup=A=U.hideFunc),_.filterPromise.then(function(te){s(b),te.afterGuiAttached&&te.afterGuiAttached({container:"columnMenu",hidePopup:A})}),t.setMenuVisible(!0,"contextMenu")},i.prototype.trapFocusWithin=function(t,s){t.key!==We.TAB||t.defaultPrevented||this.focusService.findNextFocusableElement(s,!1,t.shiftKey)||(t.preventDefault(),this.focusService.focusInto(s,t.shiftKey))},i.prototype.isMenuEnabled=function(t){return t.isFilterAllowed()},Dd([$("filterManager")],i.prototype,"filterManager",void 0),Dd([$("popupService")],i.prototype,"popupService",void 0),Dd([$("focusService")],i.prototype,"focusService",void 0),Dd([$("ctrlsService")],i.prototype,"ctrlsService",void 0),Dd([tt("menuFactory")],i)}(Ge),LD=function(g,i){var t="function"==typeof Symbol&&g[Symbol.iterator];if(!t)return g;var p,_,s=t.call(g),f=[];try{for(;(void 0===i||i-- >0)&&!(p=s.next()).done;)f.push(p.value)}catch(b){_={error:b}}finally{try{p&&!p.done&&(t=s.return)&&t.call(s)}finally{if(_)throw _.error}}return f},Tb=function(){for(var g=[],i=0;i<arguments.length;i++)g=g.concat(LD(arguments[i]));return g},sh=function(){function g(i,t,s){t?(this.gridOptions=t,(new mg).create(i,t,function(p){var f=new ps(i);p.createBean(f)},void 0,s)):console.error("AG Grid: no gridOptions provided to the grid")}return g.prototype.destroy=function(){this.gridOptions&&this.gridOptions.api&&this.gridOptions.api.destroy()},g}(),mg=function(){function g(){}return g.prototype.create=function(i,t,s,p,f){var _=this,b=!!t.debug,A=this.getRegisteredModules(f),M=this.createBeansList(t.rowModelType,A),L=this.createProvidedBeans(i,t,f);if(M){var G={providedBeanInstances:L,beanClasses:M,debug:b},U=new Fa("AG Grid",function(){return t.debug}),te=new Fa("Context",function(){return G.debug}),le=new Em(G,te),ge=le.getBean("beans");this.registerModuleUserComponents(ge,A),this.registerStackComponents(ge,A),this.registerControllers(ge,A),s(le),ge.ctrlsService.whenReady(function(){_.setColumnsAndData(ge),_.dispatchGridReadyEvent(ge,t);var ve=Vt.isRegistered(B.ModuleNames.EnterpriseCoreModule);U.log("initialised successfully, enterprise = "+ve)}),p&&p(le)}},g.prototype.registerControllers=function(i,t){t.forEach(function(s){s.controllers&&s.controllers.forEach(function(p){return i.ctrlsFactory.register(p)})})},g.prototype.registerStackComponents=function(i,t){var s=this.createAgStackComponentsList(t);i.agStackComponentsRegistry.setupComponents(s)},g.prototype.getRegisteredModules=function(i){var t=i?i.modules:null,s=Vt.getRegisteredModules(),p=[],f={};function _(b,A){var L;f[(L=A).moduleName]||(f[L.moduleName]=!0,p.push(L),Vt.register(L,b)),A.dependantModules&&A.dependantModules.forEach(_.bind(null,b))}return t&&t.forEach(_.bind(null,!0)),s&&s.forEach(_.bind(null,!Vt.isPackageBased())),p},g.prototype.registerModuleUserComponents=function(i,t){this.extractModuleEntity(t,function(p){return p.userComponents?p.userComponents:[]}).forEach(function(p){i.userComponentRegistry.registerDefaultComponent(p.componentName,p.componentClass)})},g.prototype.createProvidedBeans=function(i,t,s){var p=s?s.frameworkOverrides:null;E(p)&&(p=new tg);var f={gridOptions:t,eGridDiv:i,$scope:s?s.$scope:null,$compile:s?s.$compile:null,globalEventListener:s?s.globalEventListener:null,frameworkOverrides:p};return s&&s.providedBeanInstances&&Object.assign(f,s.providedBeanInstances),f},g.prototype.createAgStackComponentsList=function(i){var t=[{componentName:"AgCheckbox",componentClass:rd},{componentName:"AgRadioButton",componentClass:no},{componentName:"AgToggleButton",componentClass:by},{componentName:"AgInputTextField",componentClass:qu},{componentName:"AgInputTextArea",componentClass:kr},{componentName:"AgInputNumberField",componentClass:oE},{componentName:"AgInputRange",componentClass:vb},{componentName:"AgSelect",componentClass:Xm},{componentName:"AgSlider",componentClass:_y},{componentName:"AgAngleSelect",componentClass:sE},{componentName:"AgColorPicker",componentClass:cg},{componentName:"AgGridBody",componentClass:qC},{componentName:"AgHeaderRoot",componentClass:Lv},{componentName:"AgPagination",componentClass:ag},{componentName:"AgOverlayWrapper",componentClass:rE},{componentName:"AgGroupComponent",componentClass:fy},{componentName:"AgPanel",componentClass:gy},{componentName:"AgDialog",componentClass:yy},{componentName:"AgRowContainer",componentClass:Ob},{componentName:"AgFakeHorizontalScroll",componentClass:Sd}],s=this.extractModuleEntity(i,function(p){return p.agStackComponents?p.agStackComponents:[]});return t.concat(s)},g.prototype.createBeansList=function(i,t){var s=this.getRowModelClass(i,t);if(s){var p=[s,Zo,lE,tl,bb,$S,Bu,xp,KS,YS,$l,vC,JS,VS,wy,hs,H_,wl,at,XC,$c,Fi,$o,De,ny,kC,ud,jn,Kf,ig,ZS,rb,Wf,QC,Nw,ZC,Ab,sr,Ar,Vl,eg,Qp,pd,ra,ey,Jv,JC,ty,US,hy,fd,fs,md,uE,_t,pE,_d,Zr,Gr,Lo,wb,xy,bd],f=this.extractModuleEntity(t,function(b){return b.beans?b.beans:[]});p.push.apply(p,Tb(f));var _=[];return p.forEach(function(b){_.indexOf(b)<0&&_.push(b)}),_}},g.prototype.extractModuleEntity=function(i,t){return[].concat.apply([],Tb(i.map(t)))},g.prototype.setColumnsAndData=function(i){var t=i.gridOptionsWrapper.getColumnDefs();i.columnModel.setColumnDefs(t||[],"gridInitializing"),i.rowModel.start()},g.prototype.dispatchGridReadyEvent=function(i,t){i.eventService.dispatchEvent({type:re.EVENT_GRID_READY,api:t.api,columnApi:t.columnApi})},g.prototype.getRowModelClass=function(i,t){i||(i=me.ROW_MODEL_TYPE_CLIENT_SIDE);var s={};t.forEach(function(f){Sn(f.rowModels,function(_,b){s[_]=b})});var p=s[i];if(J(p))return p;i===me.ROW_MODEL_TYPE_INFINITE&&console.error('AG Grid: Row Model "Infinite" not found. Please ensure the '+B.ModuleNames.InfiniteRowModelModule+" is registered.';"),console.error("AG Grid: could not find matching row model for rowModelType "+i),i===me.ROW_MODEL_TYPE_VIEWPORT&&console.error('AG Grid: Row Model "Viewport" not found. Please ensure the AG Grid Enterprise Module '+B.ModuleNames.ViewportRowModelModule+" is registered.';"),i===me.ROW_MODEL_TYPE_SERVER_SIDE&&console.error('AG Grid: Row Model "Server Side" not found. Please ensure the AG Grid Enterprise Module '+B.ModuleNames.ServerSideRowModelModule+" is registered.';"),i===me.ROW_MODEL_TYPE_CLIENT_SIDE&&console.error('AG Grid: Row Model "Client Side" not found. Please ensure the '+B.ModuleNames.ClientSideRowModelModule+" is registered.';")},g}();function lo(g,i,t,s){var p,f=s.agGrid;if(p=i.$eval(f)){var A=new sh(g[0],p,{$scope:i,$compile:t}),L=i.$watch(f+".quickFilterText",function(G){p.api.setQuickFilter(G)});i.$on("$destroy",function(){L(),A&&A.destroy(),A=null})}else console.warn("WARNING - grid options for AG Grid not found. Please ensure the attribute ag-grid points to a valid object on the scope")}var mE=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),xd=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},Rb=function(g){function i(t){var s=g.call(this,i.getTemplate(t.cssClass))||this;return s.items=[],s.tabbedItemScrollMap=new Map,s.params=t,t.items&&t.items.forEach(function(p){return s.addItem(p)}),s}return mE(i,g),i.prototype.postConstruct=function(){this.createManagedBean(new ks(this.getFocusableElement(),{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this)}))},i.getTemplate=function(t){return'<div class="ag-tabs '+t+'">\n            <div ref="eHeader" role="tablist" class="ag-tabs-header '+(t?t+"-header":"")+'"></div>\n            <div ref="eBody" role="presentation" class="ag-tabs-body '+(t?t+"-body":"")+'"></div>\n        </div>'},i.prototype.handleKeyDown=function(t){var s=this.gridOptionsWrapper.getDocument();switch(t.key){case We.RIGHT:case We.LEFT:if(!this.eHeader.contains(s.activeElement))return;var p=this.items.indexOf(this.activeItem),f=t.key===We.RIGHT?Math.min(p+1,this.items.length-1):Math.max(p-1,0);if(p===f)return;t.preventDefault();var _=this.items[f];this.showItemWrapper(_),_.eHeaderButton.focus();break;case We.UP:case We.DOWN:t.stopPropagation()}},i.prototype.onTabKeyDown=function(t){if(!t.defaultPrevented){var s=this,p=s.focusService,f=s.eHeader,_=s.eBody,b=s.activeItem,M=this.gridOptionsWrapper.getDocument().activeElement;if(t.preventDefault(),f.contains(M))p.focusInto(_,t.shiftKey);else if(p.isFocusUnderManagedComponent(_))b.eHeaderButton.focus();else{var L=p.findNextFocusableElement(_,!1,t.shiftKey);L?L.focus():b.eHeaderButton.focus()}}},i.prototype.setAfterAttachedParams=function(t){this.afterAttachedParams=t},i.prototype.showFirstItem=function(){this.items.length>0&&this.showItemWrapper(this.items[0])},i.prototype.addItem=function(t){var s=document.createElement("span");Qn(s,"tab"),s.setAttribute("tabIndex","-1"),s.appendChild(t.title),s.classList.add("ag-tab"),this.eHeader.appendChild(s),bu(s,t.titleLabel);var p={tabbedItem:t,eHeaderButton:s};this.items.push(p),s.addEventListener("click",this.showItemWrapper.bind(this,p))},i.prototype.showItem=function(t){var s=this.items.find(function(p){return p.tabbedItem===t});s&&this.showItemWrapper(s)},i.prototype.showItemWrapper=function(t){var s=this,p=t.tabbedItem,f=t.eHeaderButton;this.params.onItemClicked&&this.params.onItemClicked({item:p}),this.activeItem!==t?(this.lastScrollListener&&(this.lastScrollListener=this.lastScrollListener()),Bn(this.eBody),p.bodyPromise.then(function(_){s.eBody.appendChild(_);var b=!s.focusService.isKeyboardMode();if(s.focusService.focusInto(s.eBody,!1,b),p.afterAttachedCallback&&p.afterAttachedCallback(s.afterAttachedParams),s.params.keepScrollPosition){var A=p.getScrollableContainer&&p.getScrollableContainer()||_;s.lastScrollListener=s.addManagedListener(A,"scroll",function(){s.tabbedItemScrollMap.set(p.name,A.scrollTop)});var M=s.tabbedItemScrollMap.get(p.name);void 0!==M&&setTimeout(function(){A.scrollTop=M},0)}}),this.activeItem&&this.activeItem.eHeaderButton.classList.remove("ag-tab-selected"),f.classList.add("ag-tab-selected"),this.activeItem=t):bl(this.params.onActiveItemClicked)},xd([$("focusService")],i.prototype,"focusService",void 0),xd([Ve("eHeader")],i.prototype,"eHeader",void 0),xd([Ve("eBody")],i.prototype,"eBody",void 0),xd([$e],i.prototype,"postConstruct",null),i}(Ut);!function(g){g.Applied="Applied",g.StoreNotFound="StoreNotFound",g.StoreLoading="StoreLoading",g.StoreWaitingToLoad="StoreWaitingToLoad",g.StoreLoadingFailed="StoreLoadingFailed",g.StoreWrongType="StoreWrongType",g.Cancelled="Cancelled"}(B.ServerSideTransactionResultStatus||(B.ServerSideTransactionResultStatus={}));var kD=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),vg=function(){return vg=Object.assign||function(g){for(var i,t=1,s=arguments.length;t<s;t++)for(var p in i=arguments[t])Object.prototype.hasOwnProperty.call(i,p)&&(g[p]=i[p]);return g},vg.apply(this,arguments)},ql=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},Xl=function(g){function i(t){void 0===t&&(t=1);var s=g.call(this,'<div class="ag-menu-list" role="tree"></div>')||this;return s.level=t,s.menuItems=[],s}return kD(i,g),i.prototype.postConstruct=function(){var t=this;this.initialiseTabGuard({onTabKeyDown:function(s){return t.onTabKeyDown(s)},handleKeyDown:function(s){return t.handleKeyDown(s)}})},i.prototype.onTabKeyDown=function(t){var s=this.getParentComponent(),p=s&&s.getGui();p&&p.classList.contains("ag-focus-managed")||t.preventDefault(),t.shiftKey&&this.closeIfIsChild(t)},i.prototype.handleKeyDown=function(t){switch(t.key){case We.UP:case We.RIGHT:case We.DOWN:case We.LEFT:t.preventDefault(),this.handleNavKey(t.key);break;case We.ESCAPE:var s=this.findTopMenu();s&&this.focusService.focusInto(s.getGui())}},i.prototype.clearActiveItem=function(){this.activeMenuItem&&(this.activeMenuItem.deactivate(),this.activeMenuItem=null)},i.prototype.addMenuItems=function(t){var s=this;null!=t&&t.forEach(function(p){"separator"===p?s.addSeparator():"string"==typeof p?console.warn("AG Grid: unrecognised menu item "+p):s.addItem(p)})},i.prototype.addItem=function(t){var s=this,p=this.createManagedBean(new Zl(vg(vg({},t),{isAnotherSubMenuOpen:function(){return s.menuItems.some(function(f){return f.isSubMenuOpen()})}})));p.setParentComponent(this),Wm(p.getGui(),this.level),this.menuItems.push(p),this.appendChild(p.getGui()),this.addManagedListener(p,Zl.EVENT_MENU_ITEM_SELECTED,function(f){s.dispatchEvent(f)}),this.addManagedListener(p,Zl.EVENT_MENU_ITEM_ACTIVATED,function(f){s.activeMenuItem&&s.activeMenuItem!==f.menuItem&&s.activeMenuItem.deactivate(),s.activeMenuItem=f.menuItem})},i.prototype.activateFirstItem=function(){var t=this.menuItems.filter(function(s){return!s.isDisabled()})[0];!t||t.activate()},i.prototype.addSeparator=function(){this.appendChild(zn('\n            <div class="ag-menu-separator" aria-hidden="true">\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n            </div>'))},i.prototype.findTopMenu=function(){var t=this.getParentComponent();if(!t&&this instanceof i)return this;for(;;){var s=t&&t.getParentComponent&&t.getParentComponent();if(!s||!(s instanceof i||s instanceof Zl))break;t=s}return t instanceof i?t:void 0},i.prototype.handleNavKey=function(t){switch(t){case We.UP:case We.DOWN:var s=this.findNextItem(t===We.UP);return void(s&&s!==this.activeMenuItem&&s.activate())}t===(this.gridOptionsWrapper.isEnableRtl()?We.RIGHT:We.LEFT)?this.closeIfIsChild():this.openChild()},i.prototype.closeIfIsChild=function(t){var s=this.getParentComponent();s&&s instanceof Zl&&(t&&t.preventDefault(),s.closeSubMenu(),s.getGui().focus())},i.prototype.openChild=function(){this.activeMenuItem&&this.activeMenuItem.openSubMenu(!0)},i.prototype.findNextItem=function(t){var s=this.menuItems.filter(function(A){return!A.isDisabled()});if(s.length){if(!this.activeMenuItem)return t?Rn(s):s[0];t&&s.reverse();for(var p,f=!1,_=0;_<s.length;_++){var b=s[_];if(f){p=b;break}b===this.activeMenuItem&&(f=!0)}return p||this.activeMenuItem}},i.prototype.destroy=function(){this.clearActiveItem(),g.prototype.destroy.call(this)},ql([$("focusService")],i.prototype,"focusService",void 0),ql([$e],i.prototype,"postConstruct",null),i}(Hl),Ql=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),oa=function(g){function i(t){var s=g.call(this)||this;return s.wrappedComponent=t,s.setTemplateFromElement(t.getGui()),s}return Ql(i,g),i.prototype.postConstruct=function(){var t=this;this.initialiseTabGuard({onTabKeyDown:function(s){return t.onTabKeyDown(s)},handleKeyDown:function(s){return t.handleKeyDown(s)}})},i.prototype.handleKeyDown=function(t){t.key===We.ESCAPE&&this.closePanel()},i.prototype.onTabKeyDown=function(t){t.defaultPrevented||(this.closePanel(),t.preventDefault())},i.prototype.closePanel=function(){var t=this.parentComponent;t.closeSubMenu(),setTimeout(function(){return t.getGui().focus()},0)},function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);p>3&&f&&Object.defineProperty(i,t,f)}([$e],i.prototype,"postConstruct",null),i}(Hl),lh=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),Ay=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},Zl=function(g){function i(t){var s=g.call(this)||this;return s.params=t,s.isActive=!1,s.subMenuIsOpen=!1,s.setTemplate('<div class="'+s.getClassName()+'" tabindex="-1" role="treeitem"></div>'),s}return lh(i,g),i.prototype.init=function(){var t=this;this.addIcon(),this.addName(),this.addShortcut(),this.addSubMenu(),this.addTooltip();var s=this.getGui();this.params.disabled?(this.addCssClass(this.getClassName("disabled")),Pc(s,!0)):(this.addGuiEventListener("click",function(p){return t.onItemSelected(p)}),this.addGuiEventListener("keydown",function(p){(p.key===We.ENTER||p.key===We.SPACE)&&(p.preventDefault(),t.onItemSelected(p))}),this.addGuiEventListener("mousedown",function(p){p.stopPropagation(),p.preventDefault()}),this.addGuiEventListener("mouseenter",function(){return t.onMouseEnter()}),this.addGuiEventListener("mouseleave",function(){return t.onMouseLeave()})),this.params.cssClasses&&this.params.cssClasses.forEach(function(p){return t.addCssClass(p)})},i.prototype.isDisabled=function(){return!!this.params.disabled},i.prototype.openSubMenu=function(t){var s=this;if(void 0===t&&(t=!1),this.closeSubMenu(),this.params.subMenu){var f,p=zn('<div class="ag-menu" role="presentation"></div>');if(this.params.subMenu instanceof Array){var _=sp(this.getGui()),b=isNaN(_)?1:_+1,A=this.createBean(new Xl(b));A.setParentComponent(this),A.addMenuItems(this.params.subMenu),p.appendChild(A.getGui()),this.addManagedListener(A,i.EVENT_MENU_ITEM_SELECTED,function(Re){return s.dispatchEvent(Re)}),A.addGuiEventListener("mouseenter",function(){return s.cancelDeactivate()}),f=function(){return s.destroyBean(A)},t&&setTimeout(function(){return A.activateFirstItem()},0)}else{var M=this.params.subMenu,L=this.createBean(new oa(M));L.setParentComponent(this);var G=L.getGui(),U="mouseenter",te=function(){return s.cancelDeactivate()};G.addEventListener(U,te),f=function(){return G.removeEventListener(U,te)},p.appendChild(G),M.afterGuiAttached&&setTimeout(function(){return M.afterGuiAttached()},0)}var le=this.getGui(),ge=this.popupService.positionPopupForMenu.bind(this.popupService,{eventSource:le,ePopup:p}),ve=this.gridOptionsWrapper.getLocaleTextFunc(),we=this.popupService.addPopup({modal:!0,eChild:p,positionCallback:ge,anchorToElement:le,ariaLabel:ve("ariaLabelSubMenu","SubMenu")});this.subMenuIsOpen=!0,qo(le,!0),this.hideSubMenu=function(){we&&we.hideFunc(),s.subMenuIsOpen=!1,qo(le,!1),f()}}},i.prototype.closeSubMenu=function(){!this.hideSubMenu||(this.hideSubMenu(),this.hideSubMenu=null,qo(this.getGui(),!1))},i.prototype.isSubMenuOpen=function(){return this.subMenuIsOpen},i.prototype.activate=function(t){var s=this;this.cancelActivate(),!this.params.disabled&&(this.isActive=!0,this.addCssClass(this.getClassName("active")),this.getGui().focus(),t&&this.params.subMenu&&window.setTimeout(function(){s.isAlive()&&s.isActive&&s.openSubMenu()},300),this.onItemActivated())},i.prototype.deactivate=function(){this.cancelDeactivate(),this.removeCssClass(this.getClassName("active")),this.isActive=!1,this.subMenuIsOpen&&this.hideSubMenu()},i.prototype.addIcon=function(){if(this.params.checked||this.params.icon||!this.params.isCompact){var t=zn('<span ref="eIcon" class="'+this.getClassName("part")+" "+this.getClassName("icon")+'" role="presentation"></span>');this.params.checked?t.appendChild(Mr("check",this.gridOptionsWrapper)):this.params.icon&&(yr(this.params.icon)?t.appendChild(this.params.icon):"string"==typeof this.params.icon?t.innerHTML=this.params.icon:console.warn("AG Grid: menu item icon must be DOM node or string")),this.getGui().appendChild(t)}},i.prototype.addName=function(){if(this.params.name||!this.params.isCompact){var t=zn('<span ref="eName" class="'+this.getClassName("part")+" "+this.getClassName("text")+'">'+(this.params.name||"")+"</span>");this.getGui().appendChild(t)}},i.prototype.addTooltip=function(){!this.params.tooltip||(this.tooltip=this.params.tooltip,this.gridOptionsWrapper.isEnableBrowserTooltips()?this.getGui().setAttribute("title",this.tooltip):this.createManagedBean(new ts(this)))},i.prototype.getTooltipParams=function(){return{location:"menu",value:this.tooltip}},i.prototype.addShortcut=function(){if(this.params.shortcut||!this.params.isCompact){var t=zn('<span ref="eShortcut" class="'+this.getClassName("part")+" "+this.getClassName("shortcut")+'">'+(this.params.shortcut||"")+"</span>");this.getGui().appendChild(t)}},i.prototype.addSubMenu=function(){if(this.params.subMenu||!this.params.isCompact){var t=zn('<span ref="ePopupPointer" class="'+this.getClassName("part")+" "+this.getClassName("popup-pointer")+'"></span>'),s=this.getGui();if(this.params.subMenu){var p=this.gridOptionsWrapper.isEnableRtl()?"smallLeft":"smallRight";qo(s,!1),t.appendChild(Mr(p,this.gridOptionsWrapper))}s.appendChild(t)}},i.prototype.onItemSelected=function(t){this.params.action?this.params.action():this.openSubMenu(t&&"keydown"===t.type),(!this.params.subMenu||this.params.action)&&this.dispatchEvent({type:i.EVENT_MENU_ITEM_SELECTED,action:this.params.action,checked:this.params.checked,cssClasses:this.params.cssClasses,disabled:this.params.disabled,icon:this.params.icon,name:this.params.name,shortcut:this.params.shortcut,subMenu:this.params.subMenu,tooltip:this.params.tooltip,event:t})},i.prototype.onItemActivated=function(){this.dispatchEvent({type:i.EVENT_MENU_ITEM_ACTIVATED,menuItem:this})},i.prototype.cancelActivate=function(){this.activateTimeoutId&&(window.clearTimeout(this.activateTimeoutId),this.activateTimeoutId=0)},i.prototype.cancelDeactivate=function(){this.deactivateTimeoutId&&(window.clearTimeout(this.deactivateTimeoutId),this.deactivateTimeoutId=0)},i.prototype.onMouseEnter=function(){var t=this;this.cancelDeactivate(),this.params.isAnotherSubMenuOpen()?this.activateTimeoutId=window.setTimeout(function(){return t.activate(!0)},i.ACTIVATION_DELAY):this.activate(!0)},i.prototype.onMouseLeave=function(){var t=this;this.cancelActivate(),this.isSubMenuOpen()?this.deactivateTimeoutId=window.setTimeout(function(){return t.deactivate()},i.ACTIVATION_DELAY):this.deactivate()},i.prototype.getClassName=function(t){var s=this.params.isCompact?"ag-compact-menu-option":"ag-menu-option";return t?s+"-"+t:s},i.EVENT_MENU_ITEM_SELECTED="menuItemSelected",i.EVENT_MENU_ITEM_ACTIVATED="menuItemActivated",i.ACTIVATION_DELAY=80,Ay([$("popupService")],i.prototype,"popupService",void 0),Ay([$e],i.prototype,"init",null),i}(Ut),GD=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),yg=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},Mb=function(g){function i(t,s,p){void 0===t&&(t="default"),void 0===s&&(s="listbox");var f=g.call(this,i.getTemplate(t))||this;return f.cssIdentifier=t,f.ariaRole=s,f.listName=p,f.renderedRows=new Map,f.rowHeight=20,f.isDestroyed=!1,f}return GD(i,g),i.prototype.postConstruct=function(){var t=this;this.addScrollListener(),this.rowHeight=this.getItemHeight(),this.addResizeObserver(),this.initialiseTabGuard({onFocusIn:function(s){return t.onFocusIn(s)},onFocusOut:function(s){return t.onFocusOut(s)},focusInnerElement:function(s){return t.focusInnerElement(s)},onTabKeyDown:function(s){return t.onTabKeyDown(s)},handleKeyDown:function(s){return t.handleKeyDown(s)}}),this.setAriaProperties()},i.prototype.setAriaProperties=function(){var s=this.gridOptionsWrapper.getLocaleTextFunc()("ariaDefaultListName",this.listName||"List"),p=this.eContainer;Qn(p,this.ariaRole),bu(p,s)},i.prototype.addResizeObserver=function(){var t=this.drawVirtualRows.bind(this),s=this.resizeObserverService.observeResize(this.getGui(),t);this.addDestroyFunc(s)},i.prototype.focusInnerElement=function(t){this.focusRow(t?this.model.getRowCount()-1:0)},i.prototype.onFocusIn=function(t){var s=t.target;return s.classList.contains("ag-virtual-list-item")&&(this.lastFocusedRowIndex=Rc(s)-1),!1},i.prototype.onFocusOut=function(t){return this.getFocusableElement().contains(t.relatedTarget)||(this.lastFocusedRowIndex=null),!1},i.prototype.handleKeyDown=function(t){switch(t.key){case We.UP:case We.DOWN:this.navigate(t.key===We.UP)&&t.preventDefault()}},i.prototype.onTabKeyDown=function(t){this.navigate(t.shiftKey)?t.preventDefault():this.focusService.focusInto(this.getGui(),!t.shiftKey)},i.prototype.navigate=function(t){if(null==this.lastFocusedRowIndex)return!1;var s=this.lastFocusedRowIndex+(t?-1:1);return!(s<0||s>=this.model.getRowCount()||(this.focusRow(s),0))},i.prototype.getLastFocusedRow=function(){return this.lastFocusedRowIndex},i.prototype.focusRow=function(t){var s=this;this.ensureIndexVisible(t),window.setTimeout(function(){var p=s.renderedRows.get(t);p&&p.eDiv.focus()},10)},i.prototype.getComponentAt=function(t){var s=this.renderedRows.get(t);return s&&s.rowComponent},i.getTemplate=function(t){return'\n            <div class="ag-virtual-list-viewport ag-'+t+'-virtual-list-viewport" role="presentation">\n                <div class="ag-virtual-list-container ag-'+t+'-virtual-list-container" ref="eContainer"></div>\n            </div>'},i.prototype.getItemHeight=function(){return this.gridOptionsWrapper.getListItemHeight()},i.prototype.ensureIndexVisible=function(t){var s=this.model.getRowCount();if("number"!=typeof t||t<0||t>=s)console.warn("AG Grid: invalid row index for ensureIndexVisible: "+t);else{var p=t*this.rowHeight,f=p+this.rowHeight,_=this.getGui(),b=_.scrollTop,A=_.offsetHeight,G=b+A<f;b>p?_.scrollTop=p:G&&(_.scrollTop=f-A)}},i.prototype.setComponentCreator=function(t){this.componentCreator=t},i.prototype.getRowHeight=function(){return this.rowHeight},i.prototype.getScrollTop=function(){return this.getGui().scrollTop},i.prototype.setRowHeight=function(t){this.rowHeight=t,this.refresh()},i.prototype.refresh=function(){var t=this;if(null!=this.model&&!this.isDestroyed){var s=this.model.getRowCount();this.eContainer.style.height=s*this.rowHeight+"px",Sm(function(){return t.eContainer.clientHeight>=s*t.rowHeight},function(){t.isDestroyed||(t.clearVirtualRows(),t.drawVirtualRows())})}},i.prototype.clearVirtualRows=function(){var t=this;this.renderedRows.forEach(function(s,p){return t.removeRow(p)})},i.prototype.drawVirtualRows=function(){var t=this.getGui(),s=t.scrollTop,p=s+t.offsetHeight,f=Math.floor(s/this.rowHeight),_=Math.floor(p/this.rowHeight);this.ensureRowsRendered(f,_)},i.prototype.ensureRowsRendered=function(t,s){var p=this;this.renderedRows.forEach(function(_,b){(b<t||b>s)&&b!==p.lastFocusedRowIndex&&p.removeRow(b)});for(var f=t;f<=s;f++)this.renderedRows.has(f)||f<this.model.getRowCount()&&this.insertRow(f)},i.prototype.insertRow=function(t){var s=this,p=this.model.getRow(t),f=document.createElement("div");if(f.classList.add("ag-virtual-list-item","ag-"+this.cssIdentifier+"-virtual-list-item"),Qn(f,"tree"===this.ariaRole?"treeitem":"option"),Y_(f,this.model.getRowCount()),q_(f,t+1),f.setAttribute("tabindex","-1"),"function"==typeof this.model.isRowSelected){var _=this.model.isRowSelected(t);cp(f,!!_),$w(f,_)}f.style.height=this.rowHeight+"px",f.style.top=this.rowHeight*t+"px";var b=this.componentCreator(p,f);b.addGuiEventListener("focusin",function(){return s.lastFocusedRowIndex=t}),f.appendChild(b.getGui()),this.renderedRows.has(t-1)?this.renderedRows.get(t-1).eDiv.insertAdjacentElement("afterend",f):this.renderedRows.has(t+1)?this.renderedRows.get(t+1).eDiv.insertAdjacentElement("beforebegin",f):this.eContainer.appendChild(f),this.renderedRows.set(t,{rowComponent:b,eDiv:f})},i.prototype.removeRow=function(t){var s=this.renderedRows.get(t);this.eContainer.removeChild(s.eDiv),this.destroyBean(s.rowComponent),this.renderedRows.delete(t)},i.prototype.addScrollListener=function(){var t=this;this.addGuiEventListener("scroll",function(){return t.drawVirtualRows()})},i.prototype.setModel=function(t){this.model=t},i.prototype.destroy=function(){this.isDestroyed||(this.clearVirtualRows(),this.isDestroyed=!0,g.prototype.destroy.call(this))},yg([$("resizeObserverService")],i.prototype,"resizeObserverService",void 0),yg([$("focusService")],i.prototype,"focusService",void 0),yg([Ve("eContainer")],i.prototype,"eContainer",void 0),yg([$e],i.prototype,"postConstruct",null),i}(Hl),uh=function(){function g(){}return g.prototype.wrap=function(i,t,s,p){var f=this;void 0===s&&(s=[]);var _=this.createWrapper(i,p);return t.forEach(function(b){f.createMethod(_,b,!0)}),s.forEach(function(b){f.createMethod(_,b,!1)}),_},g.prototype.unwrap=function(i){return i},g.prototype.createMethod=function(i,t,s){i.addMethod(t,this.createMethodProxy(i,t,s))},g.prototype.createMethodProxy=function(i,t,s){return function(){return i.hasMethod(t)?i.callMethod(t,arguments):(s&&console.warn("AG Grid: Framework component is missing the method "+t+"()"),null)}},g}();!function(g){g.InsideBase="insideBase",g.InsideEnd="insideEnd",g.Center="center",g.OutsideEnd="outsideEnd"}(B.BarColumnLabelPlacement||(B.BarColumnLabelPlacement={}));var aa="undefined"==typeof global?{}:global;aa.HTMLElement="undefined"==typeof HTMLElement?{}:HTMLElement,aa.HTMLButtonElement="undefined"==typeof HTMLButtonElement?{}:HTMLButtonElement,aa.HTMLSelectElement="undefined"==typeof HTMLSelectElement?{}:HTMLSelectElement,aa.HTMLInputElement="undefined"==typeof HTMLInputElement?{}:HTMLInputElement,aa.Node="undefined"==typeof Node?{}:Node,aa.MouseEvent="undefined"==typeof MouseEvent?{}:MouseEvent;var _g=function(g,i){var t="function"==typeof Symbol&&g[Symbol.iterator];if(!t)return g;var p,_,s=t.call(g),f=[];try{for(;(void 0===i||i-- >0)&&!(p=s.next()).done;)f.push(p.value)}catch(b){_={error:b}}finally{try{p&&!p.done&&(t=s.return)&&t.call(s)}finally{if(_)throw _.error}}return f},Ty=function(){for(var g=[],i=0;i<arguments.length;i++)g=g.concat(_g(arguments[i]));return g},Ib=function(){function g(i,t,s,p,f,_,b,A){this.nextId=0,this.allNodesMap={},this.rootNode=i,this.gridOptionsWrapper=t,this.eventService=s,this.columnModel=p,this.gridApi=f,this.columnApi=_,this.beans=A,this.selectionService=b,this.rootNode.group=!0,this.rootNode.level=-1,this.rootNode.id=g.ROOT_NODE_ID,this.rootNode.allLeafChildren=[],this.rootNode.childrenAfterGroup=[],this.rootNode.childrenAfterSort=[],this.rootNode.childrenAfterFilter=[],this.postConstruct()}return g.prototype.postConstruct=function(){this.suppressParentsInRowNodes=this.gridOptionsWrapper.isSuppressParentsInRowNodes(),this.isRowMasterFunc=this.gridOptionsWrapper.getIsRowMasterFunc(),this.doingTreeData=this.gridOptionsWrapper.isTreeData(),this.doingMasterDetail=this.gridOptionsWrapper.isMasterDetail()},g.prototype.getCopyOfNodesMap=function(){return gt.cloneObject(this.allNodesMap)},g.prototype.getRowNode=function(i){return this.allNodesMap[i]},g.prototype.setRowData=function(i){var t=this;if("string"!=typeof i){var s=this.rootNode,p=this.rootNode.sibling;s.childrenAfterFilter=null,s.childrenAfterGroup=null,s.childrenAfterSort=null,s.childrenMapped=null,s.updateHasChildren(),this.nextId=0,this.allNodesMap={},i?s.allLeafChildren=i.map(function(f){return t.createNode(f,t.rootNode,g.TOP_LEVEL)}):(s.allLeafChildren=[],s.childrenAfterGroup=[]),p&&(p.childrenAfterFilter=s.childrenAfterFilter,p.childrenAfterGroup=s.childrenAfterGroup,p.childrenAfterSort=s.childrenAfterSort,p.childrenMapped=s.childrenMapped,p.allLeafChildren=s.allLeafChildren)}else console.warn("AG Grid: rowData must be an array, however you passed in a string. If you are loading JSON, make sure you convert the JSON string to JavaScript objects first")},g.prototype.updateRowData=function(i,t){var s={remove:[],update:[],add:[]},p=[];return this.executeRemove(i,s,p),this.executeUpdate(i,s,p),this.executeAdd(i,s),this.updateSelection(p),t&&gt.sortRowNodesByOrder(this.rootNode.allLeafChildren,t),s},g.prototype.updateSelection=function(i){var t=i.length>0;t&&i.forEach(function(p){p.setSelected(!1,!1,!0)}),this.selectionService.updateGroupsFromChildrenSelections(),t&&this.eventService.dispatchEvent({type:re.EVENT_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi})},g.prototype.executeAdd=function(i,t){var s=this,p=i.add,f=i.addIndex;if(!gt.missingOrEmpty(p)){var _=p.map(function(G){return s.createNode(G,s.rootNode,g.TOP_LEVEL)});if("number"==typeof f&&f>=0){var A=this.rootNode.allLeafChildren,M=A.slice(0,f),L=A.slice(f,A.length);this.rootNode.allLeafChildren=Ty(M,_,L)}else this.rootNode.allLeafChildren=Ty(this.rootNode.allLeafChildren,_);this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren),t.add=_}},g.prototype.executeRemove=function(i,t,s){var p=this,f=i.remove;if(!gt.missingOrEmpty(f)){var _={};f.forEach(function(b){var A=p.lookupRowNode(b);!A||(A.isSelected()&&s.push(A),A.clearRowTopAndRowIndex(),_[A.id]=!0,delete p.allNodesMap[A.id],t.remove.push(A))}),this.rootNode.allLeafChildren=this.rootNode.allLeafChildren.filter(function(b){return!_[b.id]}),this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren)}},g.prototype.executeUpdate=function(i,t,s){var p=this,f=i.update;gt.missingOrEmpty(f)||f.forEach(function(_){var b=p.lookupRowNode(_);!b||(b.updateData(_),!b.selectable&&b.isSelected()&&s.push(b),p.setMasterForRow(b,_,g.TOP_LEVEL,!1),t.update.push(b))})},g.prototype.lookupRowNode=function(i){var s,t=this.gridOptionsWrapper.getRowNodeIdFunc();if(gt.exists(t)){var p=t(i);if(!(s=this.allNodesMap[p]))return console.error("AG Grid: could not find row id="+p+", data item was not found for this id"),null}else if(!(s=this.rootNode.allLeafChildren.find(function(f){return f.data===i})))return console.error("AG Grid: could not find data item as object was not found",i),console.error("Consider using getRowNodeId to help the Grid find matching row data"),null;return s||null},g.prototype.createNode=function(i,t,s){var p=new Rt(this.beans);return p.group=!1,this.setMasterForRow(p,i,s,!0),t&&!this.suppressParentsInRowNodes&&(p.parent=t),p.level=s,p.setDataAndId(i,this.nextId.toString()),this.allNodesMap[p.id]&&console.warn("AG Grid: duplicate node id '"+p.id+"' detected from getRowNodeId callback, this could cause issues in your grid."),this.allNodesMap[p.id]=p,this.nextId++,p},g.prototype.setMasterForRow=function(i,t,s,p){if(this.doingTreeData)i.setMaster(!1),p&&(i.expanded=!1);else if(i.setMaster(!!this.doingMasterDetail&&(!this.isRowMasterFunc||this.isRowMasterFunc(t))),p){var f=this.columnModel.getRowGroupColumns();i.expanded=!!i.master&&this.isExpanded(s+(f?f.length:0))}},g.prototype.isExpanded=function(i){var t=this.gridOptionsWrapper.getGroupDefaultExpanded();return-1===t||i<t},g.TOP_LEVEL=0,g.ROOT_NODE_ID="ROOT_NODE_ID",g}(),Cg=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),li=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},Kn=(()=>(function(g){g[g.Normal=0]="Normal",g[g.AfterFilter=1]="AfterFilter",g[g.AfterFilterAndSort=2]="AfterFilterAndSort",g[g.PivotNodes=3]="PivotNodes"}(Kn||(Kn={})),Kn))(),Ry=function(g){function i(){return null!==g&&g.apply(this,arguments)||this}return Cg(i,g),i.prototype.init=function(){var t=this.refreshModel.bind(this,{step:B.ClientSideRowModelSteps.EVERYTHING}),s=!this.gridOptionsWrapper.isSuppressAnimationFrame(),p=this.refreshModel.bind(this,{step:B.ClientSideRowModelSteps.EVERYTHING,afterColumnsChanged:!0,keepRenderedRows:!0,animate:s});this.addManagedListener(this.eventService,re.EVENT_NEW_COLUMNS_LOADED,p),this.addManagedListener(this.eventService,re.EVENT_COLUMN_ROW_GROUP_CHANGED,t),this.addManagedListener(this.eventService,re.EVENT_COLUMN_VALUE_CHANGED,this.onValueChanged.bind(this)),this.addManagedListener(this.eventService,re.EVENT_COLUMN_PIVOT_CHANGED,this.refreshModel.bind(this,{step:B.ClientSideRowModelSteps.PIVOT})),this.addManagedListener(this.eventService,re.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,re.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,re.EVENT_COLUMN_PIVOT_MODE_CHANGED,t);var f=this.refreshModel.bind(this,{step:B.ClientSideRowModelSteps.MAP,keepRenderedRows:!0,animate:s});this.addManagedListener(this.gridOptionsWrapper,at.PROP_GROUP_REMOVE_SINGLE_CHILDREN,f),this.addManagedListener(this.gridOptionsWrapper,at.PROP_GROUP_REMOVE_LOWEST_SINGLE_CHILDREN,f),this.rootNode=new Rt(this.beans),this.nodeManager=new Ib(this.rootNode,this.gridOptionsWrapper,this.eventService,this.columnModel,this.gridApi,this.columnApi,this.selectionService,this.beans)},i.prototype.start=function(){var t=this.gridOptionsWrapper.getRowData();t&&this.setRowData(t)},i.prototype.ensureRowHeightsValid=function(t,s,p,f){var _,b=!1;do{_=!1;for(var A=this.getRowIndexAtPixel(t),M=this.getRowIndexAtPixel(s),L=Math.max(A,p),G=Math.min(M,f),U=L;U<=G;U++){var te=this.getRow(U);if(te.rowHeightEstimated){var le=this.gridOptionsWrapper.getRowHeightForNode(te);te.setRowHeight(le.height),_=!0,b=!0}}_&&this.setRowTopAndRowIndex()}while(_);return b},i.prototype.setRowTopAndRowIndex=function(){for(var t=this.gridOptionsWrapper.getDefaultRowHeight(),s=0,p=new Set,f=this.gridOptionsWrapper.getDomLayout()===me.DOM_LAYOUT_NORMAL,_=0;_<this.rowsToDisplay.length;_++){var b=this.rowsToDisplay[_];if(null!=b.id&&p.add(b.id),null==b.rowHeight){var A=this.gridOptionsWrapper.getRowHeightForNode(b,f,t);b.setRowHeight(A.height,A.estimated)}b.setRowTop(s),b.setRowIndex(_),s+=b.rowHeight}return p},i.prototype.clearRowTopAndRowIndex=function(t,s){var p=t.isActive(),f=function(b){b&&null!=b.id&&!s.has(b.id)&&b.clearRowTopAndRowIndex()},_=function(b){f(b),f(b.detailNode),f(b.sibling),b.hasChildren()&&b.childrenAfterGroup&&(p&&-1!=b.level&&!b.expanded||b.childrenAfterGroup.forEach(_))};_(this.rootNode)},i.prototype.ensureRowsAtPixel=function(t,s,p){var f=this;void 0===p&&(p=0);var _=this.getRowIndexAtPixel(s),b=this.getRow(_),A=!this.gridOptionsWrapper.isSuppressAnimationFrame();return b!==t[0]&&(t.forEach(function(M){gt.removeFromArray(f.rootNode.allLeafChildren,M)}),t.forEach(function(M,L){gt.insertIntoArray(f.rootNode.allLeafChildren,M,Math.max(_+p,0)+L)}),this.refreshModel({step:B.ClientSideRowModelSteps.EVERYTHING,keepRenderedRows:!0,keepEditingRows:!0,animate:A}),!0)},i.prototype.highlightRowAtPixel=function(t,s){var p=null!=s?this.getRowIndexAtPixel(s):null,f=null!=p?this.getRow(p):null;if(f&&t&&f!==t&&null!=s){var _=this.getHighlightPosition(s,f);this.lastHighlightedRow&&this.lastHighlightedRow!==f&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null),f.setHighlighted(_),this.lastHighlightedRow=f}else this.lastHighlightedRow&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null)},i.prototype.getHighlightPosition=function(t,s){if(!s){var p=this.getRowIndexAtPixel(t);if(!(s=this.getRow(p||0)))return B.RowHighlightPosition.Below}return t-s.rowTop<s.rowHeight/2?B.RowHighlightPosition.Above:B.RowHighlightPosition.Below},i.prototype.getLastHighlightedRowNode=function(){return this.lastHighlightedRow},i.prototype.isLastRowIndexKnown=function(){return!0},i.prototype.getRowCount=function(){return this.rowsToDisplay?this.rowsToDisplay.length:0},i.prototype.getTopLevelRowCount=function(){return this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode?1:this.rootNode.childrenAfterFilter?this.rootNode.childrenAfterFilter.length:0},i.prototype.getTopLevelRowDisplayedIndex=function(t){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return t;var p=this.rootNode.childrenAfterSort[t];if(this.gridOptionsWrapper.isGroupHideOpenParents())for(;p.expanded&&p.childrenAfterSort&&p.childrenAfterSort.length>0;)p=p.childrenAfterSort[0];return p.rowIndex},i.prototype.getRowBounds=function(t){if(gt.missing(this.rowsToDisplay))return null;var s=this.rowsToDisplay[t];return s?{rowTop:s.rowTop,rowHeight:s.rowHeight}:null},i.prototype.onRowGroupOpened=function(){var t=this.gridOptionsWrapper.isAnimateRows();this.refreshModel({step:B.ClientSideRowModelSteps.MAP,keepRenderedRows:!0,animate:t})},i.prototype.onFilterChanged=function(t){if(!t.afterDataChange){var s=this.gridOptionsWrapper.isAnimateRows();this.refreshModel({step:B.ClientSideRowModelSteps.FILTER,keepRenderedRows:!0,animate:s})}},i.prototype.onSortChanged=function(){var t=this.gridOptionsWrapper.isAnimateRows();this.refreshModel({step:B.ClientSideRowModelSteps.SORT,keepRenderedRows:!0,animate:t,keepEditingRows:!0})},i.prototype.getType=function(){return me.ROW_MODEL_TYPE_CLIENT_SIDE},i.prototype.onValueChanged=function(){this.columnModel.isPivotActive()?this.refreshModel({step:B.ClientSideRowModelSteps.PIVOT}):this.refreshModel({step:B.ClientSideRowModelSteps.AGGREGATE})},i.prototype.createChangePath=function(t){var s=gt.missingOrEmpty(t),p=new xf(!1,this.rootNode);return(s||this.gridOptionsWrapper.isTreeData())&&p.setInactive(),p},i.prototype.isSuppressModelUpdateAfterUpdateTransaction=function(t){if(!this.gridOptionsWrapper.isSuppressModelUpdateAfterUpdateTransaction()||null==t.rowNodeTransactions)return!1;var s=t.rowNodeTransactions.filter(function(f){return null!=f.add&&f.add.length>0||null!=f.remove&&f.remove.length>0});return null==s||0==s.length},i.prototype.refreshModel=function(t){var s=this;if(!this.isSuppressModelUpdateAfterUpdateTransaction(t)){var p=this.createChangePath(t.rowNodeTransactions);switch(t.step){case B.ClientSideRowModelSteps.EVERYTHING:this.doRowGrouping(t.groupState,t.rowNodeTransactions,t.rowNodeOrder,p,!!t.afterColumnsChanged);case B.ClientSideRowModelSteps.FILTER:this.doFilter(p);case B.ClientSideRowModelSteps.PIVOT:this.doPivot(p);case B.ClientSideRowModelSteps.AGGREGATE:this.doAggregate(p);case B.ClientSideRowModelSteps.SORT:this.doSort(t.rowNodeTransactions,p);case B.ClientSideRowModelSteps.MAP:this.doRowsToDisplay()}var f=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(p,f),this.eventService.dispatchEvent({type:re.EVENT_MODEL_UPDATED,api:this.gridApi,columnApi:this.columnApi,animate:t.animate,keepRenderedRows:t.keepRenderedRows,newData:t.newData,newPage:!1}),this.$scope&&window.setTimeout(function(){s.$scope.$apply()},0)}},i.prototype.isEmpty=function(){var t=gt.missing(this.rootNode.allLeafChildren)||0===this.rootNode.allLeafChildren.length;return gt.missing(this.rootNode)||t||!this.columnModel.isReady()},i.prototype.isRowsToRender=function(){return gt.exists(this.rowsToDisplay)&&this.rowsToDisplay.length>0},i.prototype.getNodesInRangeForSelection=function(t,s){var _,p=!s,f=!1,b=[],A=this.gridOptionsWrapper.isGroupSelectsChildren();return this.forEachNodeAfterFilterAndSort(function(M){var L=p&&!f;if(p||(M===s||M===t)&&(p=!0),!M.group||!A){var U=p&&!f,te=M.isParentOfNode(_);(U||te)&&b.push(M)}L&&(M===s||M===t)&&(f=!0,_=M===s?s:t)}),b},i.prototype.setDatasource=function(t){console.error("AG Grid: should never call setDatasource on clientSideRowController")},i.prototype.getTopLevelNodes=function(){return this.rootNode?this.rootNode.childrenAfterGroup:null},i.prototype.getRootNode=function(){return this.rootNode},i.prototype.getRow=function(t){return this.rowsToDisplay[t]},i.prototype.isRowPresent=function(t){return this.rowsToDisplay.indexOf(t)>=0},i.prototype.getRowIndexAtPixel=function(t){if(this.isEmpty())return-1;var s=0,p=this.rowsToDisplay.length-1;if(t<=0)return 0;if(gt.last(this.rowsToDisplay).rowTop<=t)return this.rowsToDisplay.length-1;for(;;){var _=Math.floor((s+p)/2),b=this.rowsToDisplay[_];if(this.isRowInPixel(b,t))return _;b.rowTop<t?s=_+1:b.rowTop>t&&(p=_-1)}},i.prototype.isRowInPixel=function(t,s){return t.rowTop<=s&&t.rowTop+t.rowHeight>s},i.prototype.forEachLeafNode=function(t){this.rootNode.allLeafChildren&&this.rootNode.allLeafChildren.forEach(function(s,p){return t(s,p)})},i.prototype.forEachNode=function(t){this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterGroup,t,Kn.Normal,0)},i.prototype.forEachNodeAfterFilter=function(t){this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterFilter,t,Kn.AfterFilter,0)},i.prototype.forEachNodeAfterFilterAndSort=function(t){this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterSort,t,Kn.AfterFilterAndSort,0)},i.prototype.forEachPivotNode=function(t){this.recursivelyWalkNodesAndCallback([this.rootNode],t,Kn.PivotNodes,0)},i.prototype.recursivelyWalkNodesAndCallback=function(t,s,p,f){if(!t)return f;for(var _=0;_<t.length;_++){var b=t[_];if(s(b,f++),b.hasChildren()){var A=null;switch(p){case Kn.Normal:A=b.childrenAfterGroup;break;case Kn.AfterFilter:A=b.childrenAfterFilter;break;case Kn.AfterFilterAndSort:A=b.childrenAfterSort;break;case Kn.PivotNodes:A=b.leafGroup?null:b.childrenAfterSort}A&&(f=this.recursivelyWalkNodesAndCallback(A,s,p,f))}}return f},i.prototype.doAggregate=function(t){this.aggregationStage&&this.aggregationStage.execute({rowNode:this.rootNode,changedPath:t})},i.prototype.expandOrCollapseAll=function(t){var s=this.gridOptionsWrapper.isTreeData();this.rootNode&&function p(b){!b||b.forEach(function(A){(s?gt.exists(A.childrenAfterGroup):A.group)&&(A.expanded=t,p(A.childrenAfterGroup))})}(this.rootNode.childrenAfterGroup),this.refreshModel({step:B.ClientSideRowModelSteps.MAP}),this.eventService.dispatchEvent({api:this.gridApi,columnApi:this.columnApi,type:re.EVENT_EXPAND_COLLAPSE_ALL,source:t?"expandAll":"collapseAll"})},i.prototype.doSort=function(t,s){this.sortStage.execute({rowNode:this.rootNode,rowNodeTransactions:t,changedPath:s})},i.prototype.doRowGrouping=function(t,s,p,f,_){this.groupStage?(s?this.groupStage.execute({rowNode:this.rootNode,rowNodeTransactions:s,rowNodeOrder:p,changedPath:f}):(this.groupStage.execute({rowNode:this.rootNode,changedPath:f,afterColumnsChanged:_}),this.restoreGroupState(t)),this.gridOptionsWrapper.isGroupSelectsChildren()&&this.selectionService.updateGroupsFromChildrenSelections(f)):(this.rootNode.childrenAfterGroup=this.rootNode.allLeafChildren,this.rootNode.sibling&&(this.rootNode.sibling.childrenAfterGroup=this.rootNode.childrenAfterGroup),this.rootNode.updateHasChildren())},i.prototype.restoreGroupState=function(t){!t||gt.traverseNodesWithKey(this.rootNode.childrenAfterGroup,function(s,p){"boolean"==typeof t[p]&&(s.expanded=t[p])})},i.prototype.doFilter=function(t){this.filterStage.execute({rowNode:this.rootNode,changedPath:t})},i.prototype.doPivot=function(t){this.pivotStage&&this.pivotStage.execute({rowNode:this.rootNode,changedPath:t})},i.prototype.getGroupState=function(){if(!this.rootNode.childrenAfterGroup||!this.gridOptionsWrapper.isRememberGroupStateWhenNewData())return null;var t={};return gt.traverseNodesWithKey(this.rootNode.childrenAfterGroup,function(s,p){return t[p]=s.expanded}),t},i.prototype.getCopyOfNodesMap=function(){return this.nodeManager.getCopyOfNodesMap()},i.prototype.getRowNode=function(t){if("string"==typeof t&&0==t.indexOf(Rt.ID_PREFIX_ROW_GROUP)){var p=void 0;return this.forEachNode(function(f){f.id===t&&(p=f)}),p}return this.nodeManager.getRowNode(t)},i.prototype.setRowData=function(t){var s=this.getGroupState();this.nodeManager.setRowData(t),this.eventService.dispatchEvent({type:re.EVENT_ROW_DATA_CHANGED,api:this.gridApi,columnApi:this.columnApi}),this.refreshModel({step:B.ClientSideRowModelSteps.EVERYTHING,groupState:s,newData:!0})},i.prototype.batchUpdateRowData=function(t,s){var p=this;if(null==this.applyAsyncTransactionsTimeout){this.rowDataTransactionBatch=[];var f=this.gridOptionsWrapper.getAsyncTransactionWaitMillis();this.applyAsyncTransactionsTimeout=window.setTimeout(function(){p.executeBatchUpdateRowData()},f)}this.rowDataTransactionBatch.push({rowDataTransaction:t,callback:s})},i.prototype.flushAsyncTransactions=function(){null!=this.applyAsyncTransactionsTimeout&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())},i.prototype.executeBatchUpdateRowData=function(){var t=this;this.valueCache.onDataChanged();var s=[],p=[],f=!1;if(this.rowDataTransactionBatch&&this.rowDataTransactionBatch.forEach(function(b){var A=t.nodeManager.updateRowData(b.rowDataTransaction,void 0);p.push(A),b.callback&&s.push(b.callback.bind(null,A)),"number"==typeof b.rowDataTransaction.addIndex&&(f=!0)}),this.commonUpdateRowData(p,void 0,f),s.length>0&&window.setTimeout(function(){s.forEach(function(b){return b()})},0),p.length>0){var _={api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),type:re.EVENT_ASYNC_TRANSACTIONS_FLUSHED,results:p};this.eventService.dispatchEvent(_)}this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0},i.prototype.updateRowData=function(t,s){this.valueCache.onDataChanged();var p=this.nodeManager.updateRowData(t,s);return this.commonUpdateRowData([p],s,"number"==typeof t.addIndex),p},i.prototype.createRowNodeOrder=function(){if(!this.gridOptionsWrapper.isSuppressMaintainUnsortedOrder()){var s={};if(this.rootNode&&this.rootNode.allLeafChildren)for(var p=0;p<this.rootNode.allLeafChildren.length;p++)s[this.rootNode.allLeafChildren[p].id]=p;return s}},i.prototype.commonUpdateRowData=function(t,s,p){var f=!this.gridOptionsWrapper.isSuppressAnimationFrame();p&&(s=this.createRowNodeOrder()),this.refreshModel({step:B.ClientSideRowModelSteps.EVERYTHING,rowNodeTransactions:t,rowNodeOrder:s,keepRenderedRows:!0,keepEditingRows:!0,animate:f}),this.eventService.dispatchEvent({type:re.EVENT_ROW_DATA_UPDATED,api:this.gridApi,columnApi:this.columnApi})},i.prototype.doRowsToDisplay=function(){this.rowsToDisplay=this.flattenStage.execute({rowNode:this.rootNode})},i.prototype.onRowHeightChanged=function(){this.refreshModel({step:B.ClientSideRowModelSteps.MAP,keepRenderedRows:!0,keepEditingRows:!0})},i.prototype.resetRowHeights=function(){var t=!1;this.forEachNode(function(s){s.setRowHeight(s.rowHeight,!0);var p=s.detailNode;p&&p.setRowHeight(p.rowHeight,!0),t=!0}),t&&this.onRowHeightChanged()},li([$("columnModel")],i.prototype,"columnModel",void 0),li([$("$scope")],i.prototype,"$scope",void 0),li([$("selectionService")],i.prototype,"selectionService",void 0),li([$("valueCache")],i.prototype,"valueCache",void 0),li([$("columnApi")],i.prototype,"columnApi",void 0),li([$("gridApi")],i.prototype,"gridApi",void 0),li([$("animationFrameService")],i.prototype,"animationFrameService",void 0),li([$("beans")],i.prototype,"beans",void 0),li([$("filterStage")],i.prototype,"filterStage",void 0),li([$("sortStage")],i.prototype,"sortStage",void 0),li([$("flattenStage")],i.prototype,"flattenStage",void 0),li([tn("groupStage")],i.prototype,"groupStage",void 0),li([tn("aggregationStage")],i.prototype,"aggregationStage",void 0),li([tn("pivotStage")],i.prototype,"pivotStage",void 0),li([$e],i.prototype,"init",null),li([tt("rowModel")],i)}(Ge),sa=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),ne=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},Nb=function(g){function i(){return null!==g&&g.apply(this,arguments)||this}return sa(i,g),i.prototype.execute=function(t){var s=t.rowNode;this.filterService.filter(t.changedPath),this.selectableService.updateSelectableAfterFiltering(s)},ne([$("selectableService")],i.prototype,"selectableService",void 0),ne([$("filterService")],i.prototype,"filterService",void 0),ne([tt("filterStage")],i)}(Ge),ze=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),ol=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},Py=function(g){function i(){return null!==g&&g.apply(this,arguments)||this}return ze(i,g),i.prototype.execute=function(t){var s=this.sortController.getSortOptions(),p=gt.exists(s)&&s.length>0,f=p&&gt.exists(t.rowNodeTransactions)&&this.gridOptionsWrapper.isDeltaSort(),_=f?this.calculateDirtyNodes(t.rowNodeTransactions):null,b=gt.missingOrEmpty(this.columnModel.getValueColumns()),A=s.some(function(M){return!!M.column.getColDef().showRowGroup});this.sortService.sort(s,p,f,_,t.changedPath,b,A)},i.prototype.calculateDirtyNodes=function(t){var s={},p=function(f){f&&f.forEach(function(_){return s[_.id]=!0})};return t&&t.forEach(function(f){p(f.add),p(f.update),p(f.remove)}),s},ol([$("sortService")],i.prototype,"sortService",void 0),ol([$("sortController")],i.prototype,"sortController",void 0),ol([$("columnModel")],i.prototype,"columnModel",void 0),ol([tt("sortStage")],i)}(Ge),Ce=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),be=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},Wt=function(g){function i(){return null!==g&&g.apply(this,arguments)||this}return Ce(i,g),i.prototype.execute=function(t){var s=t.rowNode,p=[],f={value:0},_=this.columnModel.isPivotMode(),b=_&&s.leafGroup;return this.recursivelyAddToRowsToDisplay(b?[s]:s.childrenAfterSort,p,f,_,0),!b&&p.length>0&&this.gridOptionsWrapper.isGroupIncludeTotalFooter()&&(this.ensureFooterNodeExists(s),this.addRowNodeToRowsToDisplay(s.sibling,p,f,0)),p},i.prototype.recursivelyAddToRowsToDisplay=function(t,s,p,f,_){if(!gt.missingOrEmpty(t))for(var b=this.gridOptionsWrapper.isGroupHideOpenParents(),A=this.gridOptionsWrapper.isGroupRemoveSingleChildren(),M=!A&&this.gridOptionsWrapper.isGroupRemoveLowestSingleChildren(),L=0;L<t.length;L++){var G=t[L],U=G.hasChildren(),le=A&&U&&1===G.childrenAfterGroup.length,ge=M&&U&&G.leafGroup&&1===G.childrenAfterGroup.length;if(!(f&&!U||b&&G.expanded&&(!f||!G.leafGroup)||le||ge)&&this.addRowNodeToRowsToDisplay(G,s,p,_),!f||!G.leafGroup)if(U){var Fe=le||ge;(G.expanded||Fe)&&(this.recursivelyAddToRowsToDisplay(G.childrenAfterSort,s,p,f,Fe?_:_+1),this.gridOptionsWrapper.isGroupIncludeFooter()&&(this.ensureFooterNodeExists(G),this.addRowNodeToRowsToDisplay(G.sibling,s,p,_)))}else if(G.master&&G.expanded){var dt=this.createDetailNode(G);this.addRowNodeToRowsToDisplay(dt,s,p,_)}}},i.prototype.addRowNodeToRowsToDisplay=function(t,s,p,f){var _=this.gridOptionsWrapper.isGroupMultiAutoColumn();s.push(t),t.setUiLevel(_?0:f)},i.prototype.ensureFooterNodeExists=function(t){if(!gt.exists(t.sibling)){var s=new Rt(this.beans);Object.keys(t).forEach(function(p){s[p]=t[p]}),s.footer=!0,s.setRowTop(null),s.setRowIndex(null),s.oldRowTop=null,gt.exists(s.id)&&(s.id="rowGroupFooter_"+s.id),s.sibling=t,t.sibling=s}},i.prototype.createDetailNode=function(t){if(gt.exists(t.detailNode))return t.detailNode;var s=new Rt(this.beans);return s.detail=!0,s.selectable=!1,s.parent=t,gt.exists(t.id)&&(s.id="detail_"+t.id),s.data=t.data,s.level=t.level+1,t.detailNode=s,s},be([$("columnModel")],i.prototype,"columnModel",void 0),be([$("beans")],i.prototype,"beans",void 0),be([tt("flattenStage")],i)}(Ge),Ju=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),bg=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},ys=function(g){function i(){return null!==g&&g.apply(this,arguments)||this}return Ju(i,g),i.prototype.init=function(){this.postSortFunc=this.gridOptionsWrapper.getPostSortFunc()},i.prototype.sort=function(t,s,p,f,_,b,A){var M=this,L=this.gridOptionsWrapper.isGroupMaintainOrder(),G=this.columnModel.getAllGridColumns().some(function(te){return te.isRowGroupActive()});_&&_.forEachChangedNodeDepthFirst(function(te){M.pullDownGroupDataForHideOpenParents(te.childrenAfterFilter,!0),te.childrenAfterSort=s?L&&G&&!te.leafGroup&&!A?te.childrenAfterFilter.slice(0):p?M.doDeltaSort(te,t,f,_,b):M.rowNodeSorter.doFullSort(te.childrenAfterFilter,t):te.childrenAfterFilter.slice(0),te.sibling&&(te.sibling.childrenAfterSort=te.childrenAfterSort),M.updateChildIndexes(te),M.postSortFunc&&M.postSortFunc(te.childrenAfterSort)}),this.updateGroupDataForHideOpenParents(_)},i.prototype.mapNodeToSortedNode=function(t,s){return{currentPos:s,rowNode:t}},i.prototype.doDeltaSort=function(t,s,p,f,_){var b=t.childrenAfterSort.filter(function(G){var U=!p[G.id],te=_||f&&f.canSkip(G);return U&&te}).map(this.mapNodeToSortedNode.bind(this)),A={};b.forEach(function(G){return A[G.rowNode.id]=G.rowNode});var M=t.childrenAfterFilter.filter(function(G){return!A[G.id]}).map(this.mapNodeToSortedNode.bind(this));return M.sort(this.rowNodeSorter.compareRowNodes.bind(this,s)),(0===M.length?b:0===b.length?M:this.mergeSortedArrays(s,b,M)).map(function(G){return G.rowNode})},i.prototype.mergeSortedArrays=function(t,s,p){for(var f=[],_=0,b=0;_<s.length&&b<p.length;){var A=this.rowNodeSorter.compareRowNodes(t,s[_],p[b]);f.push(A<0?s[_++]:p[b++])}for(;_<s.length;)f.push(s[_++]);for(;b<p.length;)f.push(p[b++]);return f},i.prototype.updateChildIndexes=function(t){if(!gt.missing(t.childrenAfterSort))for(var s=t.childrenAfterSort,p=0;p<s.length;p++){var f=s[p],b=p===t.childrenAfterSort.length-1;f.setFirstChild(0===p),f.setLastChild(b),f.setChildIndex(p)}},i.prototype.updateGroupDataForHideOpenParents=function(t){var s=this;if(this.gridOptionsWrapper.isGroupHideOpenParents()){if(this.gridOptionsWrapper.isTreeData())return gt.doOnce(function(){return console.warn("AG Grid: The property hideOpenParents dose not work with Tree Data. This is because Tree Data has values at the group level, it doesn't make sense to hide them (as opposed to Row Grouping, which only has Aggregated Values at the group level).")},"sortService.hideOpenParentsWithTreeData"),!1;var f=function(_){s.pullDownGroupDataForHideOpenParents(_.childrenAfterSort,!1),_.childrenAfterSort.forEach(function(b){b.hasChildren()&&f(b)})};t&&t.executeFromRootNode(function(_){return f(_)})}},i.prototype.pullDownGroupDataForHideOpenParents=function(t,s){var p=this;!this.gridOptionsWrapper.isGroupHideOpenParents()||gt.missing(t)||t.forEach(function(f){p.columnModel.getGroupDisplayColumns().forEach(function(b){var A=b.getColDef().showRowGroup;if("string"==typeof A){var L=p.columnModel.getPrimaryColumn(A);if(L!==f.rowGroupColumn)if(s)f.setGroupValue(b.getId(),void 0);else{var U=f.getFirstChildOfFirstChild(L);U&&f.setGroupValue(b.getId(),U.key)}}else console.error("AG Grid: groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup")})})},bg([$("columnModel")],i.prototype,"columnModel",void 0),bg([$("rowNodeSorter")],i.prototype,"rowNodeSorter",void 0),bg([$e],i.prototype,"init",null),bg([tt("sortService")],i)}(Ge),Ga=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),ch=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},Vr=function(g){function i(){return null!==g&&g.apply(this,arguments)||this}return Ga(i,g),i.prototype.postConstruct=function(){this.doingTreeData=this.gridOptionsWrapper.isTreeData()},i.prototype.filter=function(t){var s=this.filterManager.isAnyFilterPresent();this.filterNodes(s,t)},i.prototype.filterNodes=function(t,s){var p=this,f=function(M,L){M.hasChildren()?(M.childrenAfterFilter=t&&!L?M.childrenAfterGroup.filter(function(G){var U=G.childrenAfterFilter&&G.childrenAfterFilter.length>0,te=G.data&&p.filterManager.doesRowPassFilter({rowNode:G});return U||te}):M.childrenAfterGroup,p.setAllChildrenCount(M)):(M.childrenAfterFilter=M.childrenAfterGroup,M.setAllChildrenCount(null)),M.sibling&&(M.sibling.childrenAfterFilter=M.childrenAfterFilter)};if(this.doingTreeDataFiltering()){var _=function(M,L){if(M.childrenAfterGroup)for(var G=0;G<M.childrenAfterGroup.length;G++){var U=M.childrenAfterGroup[G],te=L||p.filterManager.doesRowPassFilter({rowNode:U});U.childrenAfterGroup?_(M.childrenAfterGroup[G],te):f(U,te)}f(M,L)};s.executeFromRootNode(function(M){return _(M,!1)})}else s.forEachChangedNodeDepthFirst(function(M){return f(M,!1)},!0)},i.prototype.setAllChildrenCountTreeData=function(t){var s=0;t.childrenAfterFilter.forEach(function(p){s++,s+=p.allChildrenCount}),t.setAllChildrenCount(s)},i.prototype.setAllChildrenCountGridGrouping=function(t){var s=0;t.childrenAfterFilter.forEach(function(p){p.group?s+=p.allChildrenCount:s++}),t.setAllChildrenCount(s)},i.prototype.setAllChildrenCount=function(t){this.doingTreeData?this.setAllChildrenCountTreeData(t):this.setAllChildrenCountGridGrouping(t)},i.prototype.doingTreeDataFiltering=function(){return this.gridOptionsWrapper.isTreeData()&&!this.gridOptionsWrapper.isExcludeChildrenWhenTreeDataFiltering()},ch([$("filterManager")],i.prototype,"filterManager",void 0),ch([$e],i.prototype,"postConstruct",null),ch([tt("filterService")],i)}(Ge),Ad=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),_o=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},Lb=function(g){function i(){return null!==g&&g.apply(this,arguments)||this}return Ad(i,g),i.prototype.postConstruct=function(){this.rowModel.getType()===me.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideRowModel=this.rowModel)},i.prototype.createTransactionForRowData=function(t){if(gt.missing(this.clientSideRowModel))console.error("AG Grid: ImmutableService only works with ClientSideRowModel");else{var s=this.gridOptionsWrapper.getRowNodeIdFunc();if(s&&!gt.missing(s)){var p={remove:[],update:[],add:[]},f=this.clientSideRowModel.getCopyOfNodesMap(),b=this.gridOptionsWrapper.isSuppressMaintainUnsortedOrder()?null:{};return gt.exists(t)&&t.forEach(function(A,M){var L=s(A),G=f[L];b&&(b[L]=M),G?(G.data!==A&&p.update.push(A),f[L]=void 0):p.add.push(A)}),gt.iterateObject(f,function(A,M){M&&p.remove.push(M.data)}),[p,b]}console.error("AG Grid: ImmutableService requires getRowNodeId() callback to be implemented, your row data need IDs!")}},_o([$("rowModel")],i.prototype,"rowModel",void 0),_o([$e],i.prototype,"postConstruct",null),_o([tt("immutableService")],i)}(Ge),Ct={moduleName:B.ModuleNames.ClientSideRowModelModule,beans:[Nb,Py,Wt,ys,Vr,Lb],rowModels:{clientSide:Ry}},wg=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),Td=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},Sg=function(g){function i(t,s,p){var f=g.call(this,t)||this;return f.parentCache=s,f.params=p,f.startRow=t*p.blockSize,f.endRow=f.startRow+p.blockSize,f}return wg(i,g),i.prototype.postConstruct=function(){this.createRowNodes()},i.prototype.getBlockStateJson=function(){return{id:""+this.getId(),state:{blockNumber:this.getId(),startRow:this.getStartRow(),endRow:this.getEndRow(),pageStatus:this.getState()}}},i.prototype.setDataAndId=function(t,s,p){!t.id&&t.alreadyRendered&&(t.alreadyRendered=!1),gt.exists(s)?t.setDataAndId(s,p.toString()):t.setDataAndId(void 0,void 0)},i.prototype.loadFromDatasource=function(){var t=this,s=this.createLoadParams();gt.missing(this.params.datasource.getRows)?console.warn("AG Grid: datasource is missing getRows method"):window.setTimeout(function(){t.params.datasource.getRows(s)},0)},i.prototype.processServerFail=function(){},i.prototype.createLoadParams=function(){return{startRow:this.getStartRow(),endRow:this.getEndRow(),successCallback:this.pageLoaded.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),sortModel:this.params.sortModel,filterModel:this.params.filterModel,context:this.gridOptionsWrapper.getContext()}},i.prototype.forEachNode=function(t,s,p){var f=this;this.rowNodes.forEach(function(_,b){f.startRow+b<p&&t(_,s.next())})},i.prototype.getLastAccessed=function(){return this.lastAccessed},i.prototype.getRow=function(t,s){return void 0===s&&(s=!1),s||(this.lastAccessed=this.params.lastAccessedSequence.next()),this.rowNodes[t-this.startRow]},i.prototype.getStartRow=function(){return this.startRow},i.prototype.getEndRow=function(){return this.endRow},i.prototype.createRowNodes=function(){this.rowNodes=[];for(var t=0;t<this.params.blockSize;t++){var s=this.startRow+t,p=new Rt(this.beans);p.setRowHeight(this.params.rowHeight),p.uiLevel=0,p.setRowIndex(s),p.setRowTop(this.params.rowHeight*s),this.rowNodes.push(p)}},i.prototype.processServerResult=function(t){var s=this;this.rowNodes.forEach(function(f,_){s.setDataAndId(f,t.rowData?t.rowData[_]:void 0,s.startRow+_)}),this.parentCache.pageLoaded(this,null!=t.rowCount&&t.rowCount>=0?t.rowCount:void 0)},i.prototype.destroyRowNodes=function(){this.rowNodes.forEach(function(t){t.clearRowTopAndRowIndex()})},Td([$("beans")],i.prototype,"beans",void 0),Td([$e],i.prototype,"postConstruct",null),Td([hi],i.prototype,"destroyRowNodes",null),i}(No),Eg=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),Va=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},ct=function(g,i){return function(t,s){i(t,s,g)}},My=function(g){function i(t){var s=g.call(this)||this;return s.lastRowIndexKnown=!1,s.blocks={},s.blockCount=0,s.rowCount=t.initialRowCount,s.params=t,s}return Eg(i,g),i.prototype.setBeans=function(t){this.logger=t.create("InfiniteCache")},i.prototype.getRow=function(t,s){void 0===s&&(s=!1);var p=Math.floor(t/this.params.blockSize),f=this.blocks[p];if(!f){if(s)return;f=this.createBlock(p)}return f.getRow(t)},i.prototype.createBlock=function(t){var s=this.createBean(new Sg(t,this,this.params));return this.blocks[s.getId()]=s,this.blockCount++,this.purgeBlocksIfNeeded(s),this.params.rowNodeBlockLoader.addBlock(s),s},i.prototype.refreshCache=function(){0==this.blockCount?this.purgeCache():(this.getBlocksInOrder().forEach(function(s){return s.setStateWaitingToLoad()}),this.params.rowNodeBlockLoader.checkBlockToLoad())},i.prototype.destroyAllBlocks=function(){var t=this;this.getBlocksInOrder().forEach(function(s){return t.destroyBlock(s)})},i.prototype.getRowCount=function(){return this.rowCount},i.prototype.isLastRowIndexKnown=function(){return this.lastRowIndexKnown},i.prototype.pageLoaded=function(t,s){!this.isAlive()||(this.logger.log("onPageLoaded: page = "+t.getId()+", lastRow = "+s),this.checkRowCount(t,s),this.onCacheUpdated())},i.prototype.purgeBlocksIfNeeded=function(t){var s=this,p=this.getBlocksInOrder().filter(function(M){return M!=t});p.sort(function(M,L){return L.getLastAccessed()-M.getLastAccessed()});var _=this.params.maxBlocksInCache>0,b=_?this.params.maxBlocksInCache-1:null,A=i.MAX_EMPTY_BLOCKS_TO_KEEP-1;p.forEach(function(M,L){if(M.getState()===Sg.STATE_WAITING_TO_LOAD&&L>=A||_&&L>=b){if(s.isBlockCurrentlyDisplayed(M)||s.isBlockFocused(M))return;s.removeBlockFromCache(M)}})},i.prototype.isBlockFocused=function(t){var s=this.focusService.getFocusCellToUseAfterRefresh();if(!s||null!=s.rowPinned)return!1;var p=t.getStartRow(),f=t.getEndRow();return s.rowIndex>=p&&s.rowIndex<f},i.prototype.isBlockCurrentlyDisplayed=function(t){var s=t.getStartRow(),p=t.getEndRow()-1;return this.rowRenderer.isRangeInRenderedViewport(s,p)},i.prototype.removeBlockFromCache=function(t){!t||this.destroyBlock(t)},i.prototype.checkRowCount=function(t,s){if("number"==typeof s&&s>=0)this.rowCount=s,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){var f=(t.getId()+1)*this.params.blockSize+this.params.overflowSize;this.rowCount<f&&(this.rowCount=f)}},i.prototype.setRowCount=function(t,s){this.rowCount=t,gt.exists(s)&&(this.lastRowIndexKnown=s),this.lastRowIndexKnown||this.rowCount%this.params.blockSize==0&&this.rowCount++,this.onCacheUpdated()},i.prototype.forEachNodeDeep=function(t){var s=this,p=new ai;this.getBlocksInOrder().forEach(function(f){return f.forEachNode(t,p,s.rowCount)})},i.prototype.getBlocksInOrder=function(){return gt.getAllValuesInObject(this.blocks).sort(function(p,f){return p.getId()-f.getId()})},i.prototype.destroyBlock=function(t){delete this.blocks[t.getId()],this.destroyBean(t),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(t)},i.prototype.onCacheUpdated=function(){this.isAlive()&&(this.destroyAllBlocksPastVirtualRowCount(),this.eventService.dispatchEvent({type:re.EVENT_STORE_UPDATED}))},i.prototype.destroyAllBlocksPastVirtualRowCount=function(){var t=this,s=[];this.getBlocksInOrder().forEach(function(p){p.getId()*t.params.blockSize>=t.rowCount&&s.push(p)}),s.length>0&&s.forEach(function(p){return t.destroyBlock(p)})},i.prototype.purgeCache=function(){var t=this;this.getBlocksInOrder().forEach(function(s){return t.removeBlockFromCache(s)}),this.lastRowIndexKnown=!1,0===this.rowCount&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()},i.prototype.getRowNodesInRange=function(t,s){var p=this,f=[],_=-1,b=!1,A=new ai;gt.missing(t)&&(b=!0);var M=!1;return this.getBlocksInOrder().forEach(function(G){if(!M){if(b&&_+1!==G.getId())return void(M=!0);_=G.getId(),G.forEachNode(function(U){var te=U===t||U===s;(b||te)&&f.push(U),te&&(b=!b)},A,p.rowCount)}}),M||b?[]:f},i.MAX_EMPTY_BLOCKS_TO_KEEP=2,Va([$("rowRenderer")],i.prototype,"rowRenderer",void 0),Va([$("focusService")],i.prototype,"focusService",void 0),Va([ct(0,bi("loggerFactory"))],i.prototype,"setBeans",null),Va([hi],i.prototype,"destroyAllBlocks",null),i}(Ge),ir=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),vt=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},ec=function(g){function i(){return null!==g&&g.apply(this,arguments)||this}return ir(i,g),i.prototype.getRowBounds=function(t){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*t}},i.prototype.ensureRowHeightsValid=function(t,s,p,f){return!1},i.prototype.init=function(){var t=this;!this.gridOptionsWrapper.isRowModelInfinite()||(this.rowHeight=this.gridOptionsWrapper.getRowHeightAsNumber(),this.addEventListeners(),this.addDestroyFunc(function(){return t.destroyCache()}),this.verifyProps())},i.prototype.verifyProps=function(){null!=this.gridOptionsWrapper.getDefaultGroupOrderComparator()&&gt.doOnce(function(){return console.warn("AG Grid: defaultGroupOrderComparator cannot be used with Infinite Row Model. If using Infinite Row Model, then sorting is done on the server side, nothing to do with the client.")},"IRM.DefaultGroupOrderComparator")},i.prototype.start=function(){this.setDatasource(this.gridOptionsWrapper.getDatasource())},i.prototype.destroyDatasource=function(){this.datasource&&(this.getContext().destroyBean(this.datasource),this.rowRenderer.datasourceChanged(),this.datasource=null)},i.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,re.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,re.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,re.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverything.bind(this)),this.addManagedListener(this.eventService,re.EVENT_STORE_UPDATED,this.onCacheUpdated.bind(this))},i.prototype.onFilterChanged=function(){this.reset()},i.prototype.onSortChanged=function(){this.reset()},i.prototype.onColumnEverything=function(){(!this.cacheParams||this.isSortModelDifferent())&&this.reset()},i.prototype.isSortModelDifferent=function(){return!gt.jsonEquals(this.cacheParams.sortModel,this.sortController.getSortModel())},i.prototype.getType=function(){return me.ROW_MODEL_TYPE_INFINITE},i.prototype.setDatasource=function(t){this.destroyDatasource(),this.datasource=t,t&&this.reset()},i.prototype.isEmpty=function(){return!this.infiniteCache},i.prototype.isRowsToRender=function(){return!!this.infiniteCache},i.prototype.getNodesInRangeForSelection=function(t,s){return this.infiniteCache?this.infiniteCache.getRowNodesInRange(t,s):[]},i.prototype.reset=function(){if(this.datasource){gt.exists(this.gridOptionsWrapper.getRowNodeIdFunc())||this.selectionService.reset(),this.resetCache();var s=this.createModelUpdatedEvent();this.eventService.dispatchEvent(s)}},i.prototype.createModelUpdatedEvent=function(){return{type:re.EVENT_MODEL_UPDATED,api:this.gridApi,columnApi:this.columnApi,newPage:!1,newData:!1,keepRenderedRows:!0,animate:!1}},i.prototype.resetCache=function(){this.destroyCache(),this.cacheParams={datasource:this.datasource,filterModel:this.filterManager.getFilterModel(),sortModel:this.sortController.getSortModel(),rowNodeBlockLoader:this.rowNodeBlockLoader,initialRowCount:this.defaultIfInvalid(this.gridOptionsWrapper.getInfiniteInitialRowCount(),1),maxBlocksInCache:this.gridOptionsWrapper.getMaxBlocksInCache(),rowHeight:this.gridOptionsWrapper.getRowHeightAsNumber(),overflowSize:this.defaultIfInvalid(this.gridOptionsWrapper.getCacheOverflowSize(),1),blockSize:this.defaultIfInvalid(this.gridOptionsWrapper.getCacheBlockSize(),100),lastAccessedSequence:new ai},this.infiniteCache=this.createBean(new My(this.cacheParams))},i.prototype.defaultIfInvalid=function(t,s){return t>0?t:s},i.prototype.destroyCache=function(){this.infiniteCache&&(this.infiniteCache=this.destroyBean(this.infiniteCache))},i.prototype.onCacheUpdated=function(){var t=this.createModelUpdatedEvent();this.eventService.dispatchEvent(t)},i.prototype.getRow=function(t){if(this.infiniteCache&&!(t>=this.infiniteCache.getRowCount()))return this.infiniteCache.getRow(t)},i.prototype.getRowNode=function(t){var s;return this.forEachNode(function(p){p.id===t&&(s=p)}),s},i.prototype.forEachNode=function(t){this.infiniteCache&&this.infiniteCache.forEachNodeDeep(t)},i.prototype.getTopLevelRowCount=function(){return this.getRowCount()},i.prototype.getTopLevelRowDisplayedIndex=function(t){return t},i.prototype.getRowIndexAtPixel=function(t){if(0!==this.rowHeight){var s=Math.floor(t/this.rowHeight),p=this.getRowCount()-1;return s>p?p:s}return 0},i.prototype.getRowCount=function(){return this.infiniteCache?this.infiniteCache.getRowCount():0},i.prototype.isRowPresent=function(t){return!!this.getRowNode(t.id)},i.prototype.refreshCache=function(){this.infiniteCache&&this.infiniteCache.refreshCache()},i.prototype.purgeCache=function(){this.infiniteCache&&this.infiniteCache.purgeCache()},i.prototype.isLastRowIndexKnown=function(){return!!this.infiniteCache&&this.infiniteCache.isLastRowIndexKnown()},i.prototype.setRowCount=function(t,s){this.infiniteCache&&this.infiniteCache.setRowCount(t,s)},vt([$("filterManager")],i.prototype,"filterManager",void 0),vt([$("sortController")],i.prototype,"sortController",void 0),vt([$("selectionService")],i.prototype,"selectionService",void 0),vt([$("gridApi")],i.prototype,"gridApi",void 0),vt([$("columnApi")],i.prototype,"columnApi",void 0),vt([$("rowRenderer")],i.prototype,"rowRenderer",void 0),vt([$("rowNodeBlockLoader")],i.prototype,"rowNodeBlockLoader",void 0),vt([$e],i.prototype,"init",null),vt([hi],i.prototype,"destroyDatasource",null),vt([tt("rowModel")],i)}(Ge),Dg={moduleName:B.ModuleNames.InfiniteRowModelModule,rowModels:{infinite:ec}},tc=function(){function g(){}return g.prototype.setBeans=function(i){this.beans=i},g.prototype.getFileName=function(i){var t=this.getDefaultFileExtension();return(null==i||!i.length)&&(i=this.getDefaultFileName()),-1===i.indexOf(".")?i+"."+t:i},g.prototype.getData=function(i){var t=this.createSerializingSession(i);return this.beans.gridSerializer.serialize(t,i)},g}(),Fy=function(){function g(i){this.groupColumns=[];var s=i.valueService,p=i.gridOptionsWrapper,f=i.processCellCallback,_=i.processHeaderCallback,b=i.processGroupHeaderCallback,A=i.processRowGroupCallback;this.columnModel=i.columnModel,this.valueService=s,this.gridOptionsWrapper=p,this.processCellCallback=f,this.processHeaderCallback=_,this.processGroupHeaderCallback=b,this.processRowGroupCallback=A}return g.prototype.prepare=function(i){this.groupColumns=i.filter(function(t){return!!t.getColDef().showRowGroup})},g.prototype.extractHeaderValue=function(i){var t=this.getHeaderName(this.processHeaderCallback,i);return null!=t?t:""},g.prototype.extractRowCellValue=function(i,t,s,p,f){var A,_=this.gridOptionsWrapper.isGroupMultiAutoColumn()?f.rowGroupIndex:0;A=f&&f.group&&(t===_&&-1!==this.groupColumns.indexOf(i)||0===t&&this.gridOptionsWrapper.isGroupUseEntireRow(this.columnModel.isPivotMode()))?this.createValueForGroupNode(f):this.valueService.getValue(i,f);var M=this.processCell(s,f,i,A,this.processCellCallback,p);return null!=M?M:""},g.prototype.getHeaderName=function(i,t){return i?i({column:t,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()}):this.columnModel.getDisplayNameForColumn(t,"csv",!0)},g.prototype.createValueForGroupNode=function(i){if(this.processRowGroupCallback)return this.processRowGroupCallback({node:i,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()});var t=[i.key];if(!this.gridOptionsWrapper.isGroupMultiAutoColumn())for(;i.parent;)t.push((i=i.parent).key);return t.reverse().join(" -> ")},g.prototype.processCell=function(i,t,s,p,f,_){return f?f({accumulatedRowIndex:i,column:s,node:t,value:p,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),type:_}):null!=p?p:""},g}(),Og=function(){function g(){}return g.download=function(i,t){var s=document.defaultView||window;if(s){var p=document.createElement("a"),f=s.URL.createObjectURL(t);p.setAttribute("href",f),p.setAttribute("download",i),p.style.display="none",document.body.appendChild(p),p.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:s})),document.body.removeChild(p),s.setTimeout(function(){s.URL.revokeObjectURL(f)},0)}else console.warn("AG Grid: There is no `window` associated with the current `document`")},g}(),xg=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),kb=function(g){function i(t){var s=g.call(this,t)||this;s.isFirstLine=!0,s.result="";var f=t.columnSeparator;return s.suppressQuotes=t.suppressQuotes,s.columnSeparator=f,s}return xg(i,g),i.prototype.addCustomContent=function(t){var s=this;!t||("string"==typeof t?(/^\s*\n/.test(t)||this.beginNewLine(),t=t.replace(/\r?\n/g,"\r\n"),this.result+=t):t.forEach(function(p){s.beginNewLine(),p.forEach(function(f,_){0!==_&&(s.result+=s.columnSeparator),s.result+=s.putInQuotes(f.data.value||""),f.mergeAcross&&s.appendEmptyCells(f.mergeAcross)})}))},i.prototype.onNewHeaderGroupingRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}},i.prototype.onNewHeaderGroupingRowColumn=function(t,s,p){0!=s&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(t),this.appendEmptyCells(p)},i.prototype.appendEmptyCells=function(t){for(var s=1;s<=t;s++)this.result+=this.columnSeparator+this.putInQuotes("")},i.prototype.onNewHeaderRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}},i.prototype.onNewHeaderRowColumn=function(t,s){0!=s&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(t))},i.prototype.onNewBodyRow=function(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}},i.prototype.onNewBodyRowColumn=function(t,s,p){0!=s&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractRowCellValue(t,s,s,me.EXPORT_TYPE_CSV,p))},i.prototype.putInQuotes=function(t){return this.suppressQuotes?t:null==t?'""':("string"==typeof t?s=t:"function"==typeof t.toString?s=t.toString():(console.warn("AG Grid: unknown value type during csv conversion"),s=""),'"'+s.replace(/"/g,'""')+'"');var s},i.prototype.parse=function(){return this.result},i.prototype.beginNewLine=function(){this.isFirstLine||(this.result+="\r\n"),this.isFirstLine=!1},i}(Fy),Tg=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),nc=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f},yE=function(g){function i(){return null!==g&&g.apply(this,arguments)||this}return Tg(i,g),i.prototype.postConstruct=function(){this.setBeans({gridSerializer:this.gridSerializer,gridOptionsWrapper:this.gridOptionsWrapper})},i.prototype.getMergedParams=function(t){var s=this.gridOptionsWrapper.getDefaultExportParams("csv");return Object.assign({},s,t)},i.prototype.export=function(t){if(this.isExportSuppressed())return console.warn("AG Grid: Export cancelled. Export is not allowed as per your configuration."),"";var s=this.getMergedParams(t),p=this.getData(s),f=new Blob(["\ufeff",p],{type:"text/plain"});return Og.download(this.getFileName(s.fileName),f),p},i.prototype.exportDataAsCsv=function(t){return this.export(t)},i.prototype.getDataAsCsv=function(t){var s=this.getMergedParams(t);return this.getData(s)},i.prototype.getDefaultFileName=function(){return"export.csv"},i.prototype.getDefaultFileExtension=function(){return"csv"},i.prototype.createSerializingSession=function(t){var s=this;return new kb({columnModel:s.columnModel,valueService:s.valueService,gridOptionsWrapper:s.gridOptionsWrapper,processCellCallback:t.processCellCallback||void 0,processHeaderCallback:t.processHeaderCallback||void 0,processGroupHeaderCallback:t.processGroupHeaderCallback||void 0,processRowGroupCallback:t.processRowGroupCallback||void 0,suppressQuotes:t.suppressQuotes||!1,columnSeparator:t.columnSeparator||","})},i.prototype.isExportSuppressed=function(){return this.gridOptionsWrapper.isSuppressCsvExport()},nc([$("columnModel")],i.prototype,"columnModel",void 0),nc([$("valueService")],i.prototype,"valueService",void 0),nc([$("gridSerializer")],i.prototype,"gridSerializer",void 0),nc([$("gridOptionsWrapper")],i.prototype,"gridOptionsWrapper",void 0),nc([$e],i.prototype,"postConstruct",null),nc([tt("csvCreator")],i)}(tc),_E=function(){var g=function(i,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var f in p)p.hasOwnProperty(f)&&(s[f]=p[f])})(i,t)};return function(i,t){function s(){this.constructor=i}g(i,t),i.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),rc=function(g,i,t,s){var _,p=arguments.length,f=p<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(g,i,t,s);else for(var b=g.length-1;b>=0;b--)(_=g[b])&&(f=(p<3?_(f):p>3?_(i,t,f):_(i,t))||f);return p>3&&f&&Object.defineProperty(i,t,f),f};!function(g){g[g.HEADER_GROUPING=0]="HEADER_GROUPING",g[g.HEADER=1]="HEADER",g[g.BODY=2]="BODY"}(B.RowType||(B.RowType={}));var ic=function(g){function i(){return null!==g&&g.apply(this,arguments)||this}return _E(i,g),i.prototype.serialize=function(t,s){void 0===s&&(s={});var p=this.getColumnsToExport(s.allColumns,s.columnKeys);return gt.compose(this.prepareSession(p),this.prependContent(s),this.exportColumnGroups(s,p),this.exportHeaders(s,p),this.processPinnedTopRows(s,p),this.processRows(s,p),this.processPinnedBottomRows(s,p),this.appendContent(s))(t).parse()},i.prototype.processRow=function(t,s,p,f){var _=this,b=s.shouldRowBeSkipped||function(){return!1},A=this.gridOptionsWrapper,M=A.getContext(),L=A.getApi(),G=A.getColumnApi(),U=A.isGroupRemoveSingleChildren(),te=A.isGroupHideOpenParents(),le=A.isGroupRemoveLowestSingleChildren(),ge=this.columnModel.isPivotMode()?f.leafGroup:!f.group,Re=1===f.allChildrenCount&&(U||le&&f.leafGroup);(s.skipGroups||s.skipRowGroups)&&s.skipGroups&&gt.doOnce(function(){return console.warn("AG Grid: Since v25.2 `skipGroups` has been renamed to `skipRowGroups`.")},"gridSerializer-skipGroups");var Fe={rowIndex:f.rowIndex,rowPinned:f.rowPinned};if(!(!ge&&(s.skipRowGroups||Re||te)||s.onlySelected&&!f.isSelected()||s.rowNodes&&!s.rowNodes.some(function(It){return _.rowPositionUtils.sameRow(It,Fe)})||s.skipPinnedTop&&"top"===f.rowPinned||s.skipPinnedBottom&&"bottom"===f.rowPinned)&&(-1!==f.level||f.leafGroup)&&!b({node:f,api:L,context:M})){var Cn=t.onNewBodyRow();if(p.forEach(function(It,sn){Cn.onColumn(It,sn,f)}),s.getCustomContentBelowRow){var $t=s.getCustomContentBelowRow({node:f,api:L,columnApi:G,context:M});$t&&t.addCustomContent($t)}}},i.prototype.appendContent=function(t){return function(s){var p=t.customFooter||t.appendContent;return p&&(t.customFooter&&gt.doOnce(function(){return console.warn("AG Grid: Since version 25.2.0 the `customFooter` param has been deprecated. Use `appendContent` instead.")},"gridSerializer-customFooter"),s.addCustomContent(p)),s}},i.prototype.prependContent=function(t){return function(s){var p=t.customHeader||t.prependContent;return p&&(t.customHeader&&gt.doOnce(function(){return console.warn("AG Grid: Since version 25.2.0 the `customHeader` param has been deprecated. Use `prependContent` instead.")},"gridSerializer-customHeader"),s.addCustomContent(p)),s}},i.prototype.prepareSession=function(t){return function(s){return s.prepare(t),s}},i.prototype.exportColumnGroups=function(t,s){var p=this;return function(f){if(t.skipColumnGroupHeaders)t.columnGroups&&gt.doOnce(function(){return console.warn("AG Grid: Since v25.2 the `columnGroups` param has deprecated, and groups are exported by default.")},"gridSerializer-columnGroups");else{var _=new ln,b=p.displayedGroupCreator.createDisplayedGroups(s,p.columnModel.getGridBalancedTree(),_,null);p.recursivelyAddHeaderGroups(b,f,t.processGroupHeaderCallback)}return f}},i.prototype.exportHeaders=function(t,s){return function(p){if(t.skipHeader||t.skipColumnHeaders)t.skipHeader&&gt.doOnce(function(){return console.warn("AG Grid: Since v25.2 the `skipHeader` param has been renamed to `skipColumnHeaders`.")},"gridSerializer-skipHeader");else{var f=p.onNewHeaderRow();s.forEach(function(_,b){f.onColumn(_,b,void 0)})}return p}},i.prototype.processPinnedTopRows=function(t,s){var p=this;return function(f){var _=p.processRow.bind(p,f,t,s);return p.pinnedRowModel.forEachPinnedTopRow(_),f}},i.prototype.processRows=function(t,s){var p=this;return function(f){var _=p.rowModel,b=_.getType(),A=b===me.ROW_MODEL_TYPE_CLIENT_SIDE,M=b===me.ROW_MODEL_TYPE_SERVER_SIDE,L=!A&&t.onlySelected,G=p.processRow.bind(p,f,t,s);return p.columnModel.isPivotMode()?A?_.forEachPivotNode(G):_.forEachNode(G):t.onlySelectedAllPages||L?p.selectionService.getSelectedNodes().forEach(G):A||M?_.forEachNodeAfterFilterAndSort(G):_.forEachNode(G),f}},i.prototype.processPinnedBottomRows=function(t,s){var p=this;return function(f){var _=p.processRow.bind(p,f,t,s);return p.pinnedRowModel.forEachPinnedBottomRow(_),f}},i.prototype.getColumnsToExport=function(t,s){void 0===t&&(t=!1);var p=this.columnModel.isPivotMode();return s&&s.length?this.columnModel.getGridColumns(s):t&&!p?(this.gridOptionsWrapper.isTreeData()?this.columnModel.getGridColumns([me.GROUP_AUTO_COLUMN_ID]):[]).concat(this.columnModel.getAllPrimaryColumns()||[]):this.columnModel.getAllDisplayedColumns()},i.prototype.recursivelyAddHeaderGroups=function(t,s,p){var f=[];t.forEach(function(_){!_.getChildren||_.getChildren().forEach(function(A){return f.push(A)})}),t.length>0&&t[0]instanceof Or&&this.doAddHeaderHeader(s,t,p),f&&f.length>0&&this.recursivelyAddHeaderGroups(f,s,p)},i.prototype.doAddHeaderHeader=function(t,s,p){var f=this,_=t.onNewHeaderGroupingRow(),b=0;s.forEach(function(A){var L,M=A;L=p?p({columnGroup:M,api:f.gridOptionsWrapper.getApi(),columnApi:f.gridOptionsWrapper.getColumnApi(),context:f.gridOptionsWrapper.getContext()}):f.columnModel.getDisplayNameForColumnGroup(M,"header");var G=M.getLeafColumns().reduce(function(U,te,le,ge){var ve=gt.last(U);return"open"===te.getColumnGroupShow()?(!ve||null!=ve[1])&&U.push(ve=[le]):ve&&null==ve[1]&&(ve[1]=le-1),le===ge.length-1&&ve&&null==ve[1]&&(ve[1]=le),U},[]);_.onColumn(L||"",b++,M.getLeafColumns().length-1,G)})},rc([$("displayedGroupCreator")],i.prototype,"displayedGroupCreator",void 0),rc([$("columnModel")],i.prototype,"columnModel",void 0),rc([$("rowModel")],i.prototype,"rowModel",void 0),rc([$("pinnedRowModel")],i.prototype,"pinnedRowModel",void 0),rc([$("selectionService")],i.prototype,"selectionService",void 0),rc([$("rowPositionUtils")],i.prototype,"rowPositionUtils",void 0),rc([tt("gridSerializer")],i)}(Ge),Iy={moduleName:B.ModuleNames.CsvExportModule,beans:[yE,ic]},Gb=function(){function g(){}return g.createHeader=function(i){void 0===i&&(i={});var p=["version"];return i.version||(i.version="1.0"),i.encoding&&p.push("encoding"),i.standalone&&p.push("standalone"),"<?xml "+p.map(function(_){return _+'="'+i[_]+'"'}).join(" ")+" ?>"},g.createXml=function(i,t){var s=this,p="";i.properties&&(i.properties.prefixedAttributes&&i.properties.prefixedAttributes.forEach(function(_){Object.keys(_.map).forEach(function(b){p+=s.returnAttributeIfPopulated(_.prefix+b,_.map[b],t)})}),i.properties.rawMap&&Object.keys(i.properties.rawMap).forEach(function(_){p+=s.returnAttributeIfPopulated(_,i.properties.rawMap[_],t)}));var f="<"+i.name+p;return i.children||null!=i.textNode?null!=i.textNode?f+">"+i.textNode+"</"+i.name+">\r\n":(f+=">\r\n",i.children&&i.children.forEach(function(_){f+=s.createXml(_,t)}),f+"</"+i.name+">\r\n"):f+"/>\r\n"},g.returnAttributeIfPopulated=function(i,t,s){if(!t&&""!==t&&0!==t)return"";var p=t;return"boolean"==typeof t&&s&&(p=s(t))," "+i+'="'+p+'"'},g}(),bE=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]),Vb=function(){function g(){}return g.addFolders=function(i){i.forEach(this.addFolder.bind(this))},g.addFolder=function(i){this.folders.push({path:i,created:new Date,isBase64:!1})},g.addFile=function(i,t,s){void 0===s&&(s=!1),this.files.push({path:i,created:new Date,content:t,isBase64:s})},g.getContent=function(i){void 0===i&&(i="application/zip");var t=this.buildFileStream(),s=this.buildUint8Array(t);return this.clearStream(),new Blob([s],{type:i})},g.clearStream=function(){this.folders=[],this.files=[]},g.buildFileStream=function(i){var t,s;void 0===i&&(i="");var p=this.folders.concat(this.files),f=p.length,_="",b=0,A=0;try{for(var M=function(g){var i="function"==typeof Symbol&&Symbol.iterator,t=i&&g[i],s=0;if(t)return t.call(g);if(g&&"number"==typeof g.length)return{next:function(){return g&&s>=g.length&&(g=void 0),{value:g&&g[s++],done:!g}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")}(p),L=M.next();!L.done;L=M.next()){var U=this.getHeader(L.value,b),te=U.fileHeader,le=U.folderHeader,ge=U.content;b+=te.length+ge.length,A+=le.length,i+=te+ge,_+=le}}catch(we){t={error:we}}finally{try{L&&!L.done&&(s=M.return)&&s.call(M)}finally{if(t)throw t.error}}return i+_+this.buildFolderEnd(f,A,b)},g.getHeader=function(i,t){var s=i.content,p=i.path,f=i.created,_=i.isBase64,A=gt.decToHex,M=(0,gt.utf8_encode)(p),L=M!==p,G=this.convertTime(f),U=this.convertDate(f),te="";if(L){var le=A(1,1)+A(this.getFromCrc32Table(M),4)+M;te="up"+A(le.length,2)+le}var ge=s?this.getConvertedContent(s,_):{size:0,content:""},ve=ge.size,we=ge.content,Re="\n\0"+(L?"\0\b":"\0\0")+"\0\0"+A(G,2)+A(U,2)+A(ve?this.getFromCrc32Table(we):0,4)+A(ve,4)+A(ve,4)+A(M.length,2)+A(te.length,2);return{fileHeader:"PK\x03\x04"+Re+M+te,folderHeader:"PK\x01\x02\x14\0"+Re+"\0\0\0\0\0\0"+(s?"\0\0\0\0":"\x10\0\0\0")+A(t,4)+M+te,content:we||""}},g.getConvertedContent=function(i,t){return void 0===t&&(t=!1),t&&(i=i.split(";base64,")[1]),{size:(i=t?atob(i):i).length,content:i}},g.buildFolderEnd=function(i,t,s){var p=gt.decToHex;return"PK\x05\x06\0\0\0\0"+p(i,2)+p(i,2)+p(t,4)+p(s,4)+"\0\0"},g.buildUint8Array=function(i){for(var t=new Uint8Array(i.length),s=0;s<t.length;s++)t[s]=i.charCodeAt(s);return t},g.getFromCrc32Table=function(i){if(!i.length)return 0;for(var t=i.length,s=new Uint8Array(t),p=0;p<t;p++)s[p]=i.charCodeAt(p);var f=-1;for(p=0;p<t;p++)f=f>>>8^bE[255&(f^s[p])];return-1^f},g.convertTime=function(i){var t=i.getHours();return t<<=6,t|=i.getMinutes(),(t<<=5)|i.getSeconds()/2},g.convertDate=function(i){var t=i.getFullYear()-1980;return t<<=4,t|=i.getMonth()+1,(t<<=5)|i.getDate()},g.folders=[],g.files=[],g}();Vt.register(Ct,!1),Vt.register(Dg,!1),Vt.register(Iy,!1),B.AbstractHeaderCellCtrl=Ma,B.AgAbstractField=ns,B.AgAngleSelect=sE,B.AgCheckbox=rd,B.AgColorPicker=cg,B.AgDialog=yy,B.AgGroupComponent=fy,B.AgInputNumberField=oE,B.AgInputRange=vb,B.AgInputTextArea=kr,B.AgInputTextField=qu,B.AgMenuItemComponent=Zl,B.AgMenuList=Xl,B.AgMenuPanel=oa,B.AgPanel=gy,B.AgPromise=go,B.AgRadioButton=no,B.AgSelect=Xm,B.AgSlider=_y,B.AgStackComponentsRegistry=_t,B.AgToggleButton=by,B.AlignedGridsService=ig,B.AnimateShowChangeCellRenderer=lv,B.AnimateSlideCellRenderer=dv,B.AnimationFrameService=md,B.AutoScrollService=Hv,B.AutoWidthCalculator=ZC,B.Autowired=$,B.BaseComponentWrapper=uh,B.BaseCreator=tc,B.BaseGridSerializingSession=Fy,B.Bean=tt,B.BeanStub=Ge,B.Beans=Zo,B.BodyDropPivotTarget=Jo,B.BodyDropTarget=Ks,B.CellComp=Dy,B.CellCtrl=Nu,B.CellNavigationService=pd,B.CellPositionUtils=tl,B.ChangedPath=xf,B.CheckboxSelectionComponent=Au,B.ColDefUtil=zh,B.Color=fu,B.Column=pn,B.ColumnApi=Ar,B.ColumnFactory=jn,B.ColumnGroup=Or,B.ColumnKeyCreator=ii,B.ColumnModel=$o,B.ColumnUtils=Nw,B.Component=Ut,B.ComponentUtil=Ts,B.Constants=me,B.Context=Em,B.CssClassApplier=us,B.CssClassManager=nf,B.CsvCreator=yE,B.CsvExportModule=Iy,B.CtrlsService=Lo,B.CustomTooltipFeature=ts,B.DateFilter=Zm,B.DisplayedGroupCreator=H_,B.Downloader=Og,B.DragAndDropService=sr,B.DragService=hs,B.Environment=Qp,B.EventService=wl,B.Events=re,B.ExpressionService=ud,B.FilterManager=Fi,B.FloatingFilterMapper=Uc,B.FocusService=Vl,B.Grid=sh,B.GridApi=Bu,B.GridBodyComp=qC,B.GridBodyCtrl=Gl,B.GridComp=ps,B.GridCoreCreator=mg,B.GridCtrl=HS,B.GridHeaderComp=Lv,B.GridHeaderCtrl=Po,B.GridOptionsWrapper=at,B.GridSerializer=ic,B.GroupCellRenderer=bf,B.GroupCellRendererCtrl=pC,B.GroupInstanceIdCreator=ln,B.HeaderCellCtrl=od,B.HeaderFilterCellComp=Gu,B.HeaderFilterCellCtrl=Pv,B.HeaderGroupCellCtrl=Bp,B.HeaderNavigationService=De,B.HeaderPositionUtils=bb,B.HeaderRowComp=ed,B.HeaderRowContainerComp=ld,B.HeaderRowContainerCtrl=Hf,B.HeaderRowCtrl=Hp,B.HorizontalResizeService=VS,B.KeyCode=We,B.LargeTextCellEditor=ov,B.Logger=Fa,B.LoggerFactory=QC,B.ManagedFocusFeature=ks,B.ModuleRegistry=Vt,B.MouseEventService=eg,B.MoveColumnFeature=td,B.NavigationService=ZS,B.NumberFilter=Bs,B.NumberSequence=ai,B.Optional=tn,B.PaginationProxy=ny,B.PinnedRowModel=wy,B.PopupComponent=Hs,B.PopupEditorWrapper=Zu,B.PopupSelectCellEditor=Qo,B.PopupService=XC,B.PopupTextCellEditor=yf,B.PositionableFeature=hb,B.PostConstruct=$e,B.PreConstruct=kh,B.PreDestroy=hi,B.PropertyKeys=Un,B.ProvidedColumnGroup=cr,B.ProvidedFilter=Fc,B.Qualifier=bi,B.QuerySelector=function(g){return Oa.bind(this,g,void 0)},B.RefSelector=Ve,B.ResizeObserverService=$l,B.RowContainerComp=Ob,B.RowContainerCtrl=Zc,B.RowCtrl=ss,B.RowNode=Rt,B.RowNodeBlock=No,B.RowNodeBlockLoader=Zr,B.RowNodeSorter=Gr,B.RowPositionUtils=lE,B.RowRenderer=kC,B.ScalarFilter=ar,B.ScrollVisibleService=Jv,B.SelectCellEditor=fr,B.SelectableService=hy,B.SelectionService=$c,B.SetLeftFeature=nd,B.SimpleFilter=Cr,B.SortController=JC,B.StandardMenuFactory=Ab,B.StylingService=ey,B.TabGuardComp=Hl,B.TabGuardCtrl=Na,B.TabbedLayout=Rb,B.TemplateService=Kf,B.TextCellEditor=vo,B.TextFilter=Ou,B.TextFloatingFilter=Gc,B.Timer=Zw,B.TouchListener=xi,B.UserComponentFactory=vC,B.UserComponentRegistry=xp,B.ValueCache=rb,B.ValueFormatterService=ra,B.ValueService=Wf,B.VanillaFrameworkOverrides=tg,B.VirtualList=Mb,B.XmlFactory=Gb,B.ZipContainer=Vb,B._=gt,B.defaultGroupComparator=function(g,i,t,s,p){void 0===p&&(p=!1),console.warn("AG Grid: Since ag-grid 11.0.0 defaultGroupComparator is not necessary. You can remove this from your colDef");var f=J(t)&&t.group,_=J(s)&&s.group,A=!f&&!_;return f&&_?_c(t.key,s.key,p):A?_c(g,i,p):f?1:-1},B.getRowContainerTypeForName=ku,B.initialiseAgGridWithAngular1=function(g){g.module("agGrid",[]).directive("agGrid",function(){return{restrict:"A",controller:["$element","$scope","$compile","$attrs",lo],scope:!0}})},B.simpleHttpRequest=function(g){return new go(function(i){var t=new XMLHttpRequest;t.open("GET",g.url),t.send(),t.onreadystatechange=function(){4===t.readyState&&200===t.status&&i(JSON.parse(t.responseText))}})},B.stringToArray=Qa},69:(ya,B,jr)=>{var h,E=jr(564),Bi=(h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)},function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),Cl=function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);return u>3&&c&&Object.defineProperty(n,e,c),c},_a=function(h){function n(){var o=null!==h&&h.apply(this,arguments)||this;return o.watermarkMessage=void 0,o}var e;return Bi(n,h),e=n,n.prototype.validateLicense=function(){if(E._.missingOrEmpty(e.licenseKey))this.outputMissingLicenseKey();else if(e.licenseKey.length>32){var o=e.extractLicenseComponents(e.licenseKey),c=o.license,m=o.version,y=o.isTrial;o.md5===this.md5.md5(c)?E._.exists(m)&&m?this.validateLicenseKeyForVersion(m,!!y,c):this.validateLegacyKey(c):this.outputInvalidLicenseKey()}else this.outputInvalidLicenseKey()},n.extractExpiry=function(o){var u=o.substring(o.lastIndexOf("_")+1,o.length);return new Date(parseInt(e.decode(u),10))},n.extractLicenseComponents=function(o){var u=o.replace(/[\u200B-\u200D\uFEFF]/g,""),c=(u=u.replace(/\r?\n|\r/g,"")).length-32,m=u.substring(c),y=u.substring(0,c),w=function(h,n){var e="function"==typeof Symbol&&h[Symbol.iterator];if(!e)return h;var u,m,o=e.call(h),c=[];try{for(;(void 0===n||n-- >0)&&!(u=o.next()).done;)c.push(u.value)}catch(y){m={error:y}}finally{try{u&&!u.done&&(e=o.return)&&e.call(o)}finally{if(m)throw m.error}}return c}(e.extractBracketedInformation(u),2);return{md5:m,license:y,version:w[0],isTrial:w[1]}},n.prototype.getLicenseDetails=function(o){var u=e.extractLicenseComponents(o),m=u.license,y=u.version,w=u.isTrial,D=u.md5===this.md5.md5(m),x=null;return D&&(x=e.extractExpiry(m),D=!isNaN(x.getTime())),{licenseKey:o,valid:D,expiry:D?e.formatDate(x):null,version:y||"legacy",isTrial:w}},n.prototype.isDisplayWatermark=function(){return!E._.missingOrEmpty(this.watermarkMessage)},n.prototype.getWatermarkMessage=function(){return this.watermarkMessage||""},n.formatDate=function(o){var c=o.getDate(),m=o.getMonth(),y=o.getFullYear();return c+" "+["January","February","March","April","May","June","July","August","September","October","November","December"][m]+" "+y},n.getGridReleaseDate=function(){return new Date(parseInt(e.decode(e.RELEASE_INFORMATION),10))},n.decode=function(o){for(var y,w,D,x,P,R,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c="",I=0,N=o.replace(/[^A-Za-z0-9+/=]/g,"");I<N.length;)D=u.indexOf(N.charAt(I++)),y=(15&(x=u.indexOf(N.charAt(I++))))<<4|(P=u.indexOf(N.charAt(I++)))>>2,w=(3&P)<<6|(R=u.indexOf(N.charAt(I++))),c+=String.fromCharCode(D<<2|x>>4),64!=P&&(c+=String.fromCharCode(y)),64!=R&&(c+=String.fromCharCode(w));return e.utf8_decode(c)},n.utf8_decode=function(o){o=o.replace(/rn/g,"n");for(var u="",c=0;c<o.length;c++){var m=o.charCodeAt(c);m<128?u+=String.fromCharCode(m):m>127&&m<2048?(u+=String.fromCharCode(m>>6|192),u+=String.fromCharCode(63&m|128)):(u+=String.fromCharCode(m>>12|224),u+=String.fromCharCode(m>>6&63|128),u+=String.fromCharCode(63&m|128))}return u},n.setLicenseKey=function(o){e.licenseKey=o},n.extractBracketedInformation=function(o){var u=o.split("[").filter(function(y){return y.indexOf("]")>-1}).map(function(y){return y.split("]")[0]});if(!u||0===u.length)return[null,null];var c=1===u.filter(function(y){return"TRIAL"===y}).length;return[u.filter(function(y){return 0===y.indexOf("v")}).map(function(y){return y.replace(/^v/,"")})[0],c]},n.prototype.validateLicenseKeyForVersion=function(o,u,c){"2"===o&&(u?this.validateForTrial(c):this.validateLegacyKey(c))},n.prototype.validateLegacyKey=function(o){var u=e.getGridReleaseDate(),c=e.extractExpiry(o),m=!1,y=!1;if(isNaN(c.getTime())||(m=!0,y=u<c),m){if(!y){var w=e.formatDate(c),D=e.formatDate(u);this.outputIncompatibleVersion(w,D)}}else this.outputInvalidLicenseKey()},n.prototype.validateForTrial=function(o){var u=e.extractExpiry(o),c=new Date,m=!1,y=!1;if(isNaN(u.getTime())||(m=!0,y=u>c),m){if(!y){var w=e.formatDate(u);this.outputExpiredTrialKey(w)}}else this.outputInvalidLicenseKey()},n.prototype.outputInvalidLicenseKey=function(){console.error("*****************************************************************************************************************"),console.error("***************************************** AG Grid Enterprise License ********************************************"),console.error("********************************************* Invalid License ***************************************************"),console.error("* Your license for AG Grid Enterprise is not valid - please contact info@ag-grid.com to obtain a valid license. *"),console.error("*****************************************************************************************************************"),console.error("*****************************************************************************************************************"),this.watermarkMessage="Invalid License"},n.prototype.outputExpiredTrialKey=function(o){console.error("****************************************************************************************************************"),console.error("***************************************** AG Grid Enterprise License *******************************************"),console.error("*****************************************   Trial Period Expired.    *******************************************"),console.error("* Your license for AG Grid Enterprise expired on "+o+".                                                *"),console.error("* Please email info@ag-grid.com to purchase a license.                                                         *"),console.error("****************************************************************************************************************"),console.error("****************************************************************************************************************"),this.watermarkMessage="Trial Period Expired"},n.prototype.outputMissingLicenseKey=function(){console.error("****************************************************************************************************************"),console.error("***************************************** AG Grid Enterprise License *******************************************"),console.error("****************************************** License Key Not Found ***********************************************"),console.error("* All AG Grid Enterprise features are unlocked.                                                                *"),console.error("* This is an evaluation only version, it is not licensed for development projects intended for production.     *"),console.error("* If you want to hide the watermark, please email info@ag-grid.com for a trial license.                        *"),console.error("****************************************************************************************************************"),console.error("****************************************************************************************************************"),this.watermarkMessage="For Trial Use Only"},n.prototype.outputIncompatibleVersion=function(o,u){console.error("****************************************************************************************************************************"),console.error("****************************************************************************************************************************"),console.error("*                                             AG Grid Enterprise License                                                   *"),console.error("*                           License not compatible with installed version of AG Grid Enterprise.                           *"),console.error("*                                                                                                                          *"),console.error("* Your AG Grid License entitles you to all versions of AG Grid that we release within the time covered by your license     *"),console.error("* - typically we provide one year licenses which entitles you to all releases / updates of AG Grid within that year.       *"),console.error("* Your license has an end (expiry) date which stops the license key working with versions of AG Grid released after the    *"),console.error("* license end date. The license key that you have expires on "+o+", however the version of AG Grid you    *"),console.error("* are trying to use was released on "+u+".                                                               *"),console.error("*                                                                                                                          *"),console.error("* Please contact info@ag-grid.com to renew your subscription to new versions and get a new license key to work with this   *"),console.error("* version of AG Grid.                                                                                                      *"),console.error("****************************************************************************************************************************"),console.error("****************************************************************************************************************************"),this.watermarkMessage="License Expired"},n.RELEASE_INFORMATION="MTY0NDU2NjA5MTkzNw==",Cl([E.Autowired("md5")],n.prototype,"md5",void 0),Cl([E.PreConstruct],n.prototype,"validateLicense",null),e=Cl([E.Bean("licenseManager")],n)}(E.BeanStub),x_=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),bm=function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);return u>3&&c&&Object.defineProperty(n,e,c),c},au=function(h){function n(){var e=null!==h&&h.apply(this,arguments)||this;return e.ieCompatibility=!1,e}return x_(n,h),n.prototype.init=function(){this.ieCompatibility="5d41402abc4b2a76b9719d911017c592"!=this.md5("hello")},n.prototype.md5cycle=function(e,o){var u=e[0],c=e[1],m=e[2],y=e[3];u=this.ff(u,c,m,y,o[0],7,-680876936),y=this.ff(y,u,c,m,o[1],12,-389564586),m=this.ff(m,y,u,c,o[2],17,606105819),c=this.ff(c,m,y,u,o[3],22,-1044525330),u=this.ff(u,c,m,y,o[4],7,-176418897),y=this.ff(y,u,c,m,o[5],12,1200080426),m=this.ff(m,y,u,c,o[6],17,-1473231341),c=this.ff(c,m,y,u,o[7],22,-45705983),u=this.ff(u,c,m,y,o[8],7,1770035416),y=this.ff(y,u,c,m,o[9],12,-1958414417),m=this.ff(m,y,u,c,o[10],17,-42063),c=this.ff(c,m,y,u,o[11],22,-1990404162),u=this.ff(u,c,m,y,o[12],7,1804603682),y=this.ff(y,u,c,m,o[13],12,-40341101),m=this.ff(m,y,u,c,o[14],17,-1502002290),c=this.ff(c,m,y,u,o[15],22,1236535329),u=this.gg(u,c,m,y,o[1],5,-165796510),y=this.gg(y,u,c,m,o[6],9,-1069501632),m=this.gg(m,y,u,c,o[11],14,643717713),c=this.gg(c,m,y,u,o[0],20,-373897302),u=this.gg(u,c,m,y,o[5],5,-701558691),y=this.gg(y,u,c,m,o[10],9,38016083),m=this.gg(m,y,u,c,o[15],14,-660478335),c=this.gg(c,m,y,u,o[4],20,-405537848),u=this.gg(u,c,m,y,o[9],5,568446438),y=this.gg(y,u,c,m,o[14],9,-1019803690),m=this.gg(m,y,u,c,o[3],14,-187363961),c=this.gg(c,m,y,u,o[8],20,1163531501),u=this.gg(u,c,m,y,o[13],5,-1444681467),y=this.gg(y,u,c,m,o[2],9,-51403784),m=this.gg(m,y,u,c,o[7],14,1735328473),c=this.gg(c,m,y,u,o[12],20,-1926607734),u=this.hh(u,c,m,y,o[5],4,-378558),y=this.hh(y,u,c,m,o[8],11,-2022574463),m=this.hh(m,y,u,c,o[11],16,1839030562),c=this.hh(c,m,y,u,o[14],23,-35309556),u=this.hh(u,c,m,y,o[1],4,-1530992060),y=this.hh(y,u,c,m,o[4],11,1272893353),m=this.hh(m,y,u,c,o[7],16,-155497632),c=this.hh(c,m,y,u,o[10],23,-1094730640),u=this.hh(u,c,m,y,o[13],4,681279174),y=this.hh(y,u,c,m,o[0],11,-358537222),m=this.hh(m,y,u,c,o[3],16,-722521979),c=this.hh(c,m,y,u,o[6],23,76029189),u=this.hh(u,c,m,y,o[9],4,-640364487),y=this.hh(y,u,c,m,o[12],11,-421815835),m=this.hh(m,y,u,c,o[15],16,530742520),c=this.hh(c,m,y,u,o[2],23,-995338651),u=this.ii(u,c,m,y,o[0],6,-198630844),y=this.ii(y,u,c,m,o[7],10,1126891415),m=this.ii(m,y,u,c,o[14],15,-1416354905),c=this.ii(c,m,y,u,o[5],21,-57434055),u=this.ii(u,c,m,y,o[12],6,1700485571),y=this.ii(y,u,c,m,o[3],10,-1894986606),m=this.ii(m,y,u,c,o[10],15,-1051523),c=this.ii(c,m,y,u,o[1],21,-2054922799),u=this.ii(u,c,m,y,o[8],6,1873313359),y=this.ii(y,u,c,m,o[15],10,-30611744),m=this.ii(m,y,u,c,o[6],15,-1560198380),c=this.ii(c,m,y,u,o[13],21,1309151649),u=this.ii(u,c,m,y,o[4],6,-145523070),y=this.ii(y,u,c,m,o[11],10,-1120210379),m=this.ii(m,y,u,c,o[2],15,718787259),c=this.ii(c,m,y,u,o[9],21,-343485551),e[0]=this.add32(u,e[0]),e[1]=this.add32(c,e[1]),e[2]=this.add32(m,e[2]),e[3]=this.add32(y,e[3])},n.prototype.cmn=function(e,o,u,c,m,y){return o=this.add32(this.add32(o,e),this.add32(c,y)),this.add32(o<<m|o>>>32-m,u)},n.prototype.ff=function(e,o,u,c,m,y,w){return this.cmn(o&u|~o&c,e,o,m,y,w)},n.prototype.gg=function(e,o,u,c,m,y,w){return this.cmn(o&c|u&~c,e,o,m,y,w)},n.prototype.hh=function(e,o,u,c,m,y,w){return this.cmn(o^u^c,e,o,m,y,w)},n.prototype.ii=function(e,o,u,c,m,y,w){return this.cmn(u^(o|~c),e,o,m,y,w)},n.prototype.md51=function(e){var c,o=e.length,u=[1732584193,-271733879,-1732584194,271733878];for(c=64;c<=e.length;c+=64)this.md5cycle(u,this.md5blk(e.substring(c-64,c)));e=e.substring(c-64);var m=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(c=0;c<e.length;c++)m[c>>2]|=e.charCodeAt(c)<<(c%4<<3);if(m[c>>2]|=128<<(c%4<<3),c>55)for(this.md5cycle(u,m),c=0;c<16;c++)m[c]=0;return m[14]=8*o,this.md5cycle(u,m),u},n.prototype.md5blk=function(e){for(var o=[],u=0;u<64;u+=4)o[u>>2]=e.charCodeAt(u)+(e.charCodeAt(u+1)<<8)+(e.charCodeAt(u+2)<<16)+(e.charCodeAt(u+3)<<24);return o},n.prototype.rhex=function(e){for(var o="0123456789abcdef".split(""),u="",c=0;c<4;c++)u+=o[e>>8*c+4&15]+o[e>>8*c&15];return u},n.prototype.hex=function(e){for(var o=0;o<e.length;o++)e[o]=this.rhex(e[o]);return e.join("")},n.prototype.md5=function(e){return this.hex(this.md51(e))},n.prototype.add32=function(e,o){return this.ieCompatibility?this.add32Compat(e,o):this.add32Std(e,o)},n.prototype.add32Std=function(e,o){return e+o&4294967295},n.prototype.add32Compat=function(e,o){var u=(65535&e)+(65535&o);return(e>>16)+(o>>16)+(u>>16)<<16|65535&u},bm([E.PostConstruct],n.prototype,"init",null),bm([E.Bean("md5")],n)}(E.BeanStub),_c=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Ya=function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);return u>3&&c&&Object.defineProperty(n,e,c),c},$d=function(h){function n(){return h.call(this,'<div class="ag-watermark">\n                    <div ref="eLicenseTextRef" class="ag-watermark-text"></div>\n               </div>')||this}return _c(n,h),n.prototype.postConstruct=function(){var e=this,o=this.shouldDisplayWatermark();this.addOrRemoveCssClass("ag-hidden",!o),o&&(this.eLicenseTextRef.innerText=this.licenseManager.getWatermarkMessage(),window.setTimeout(function(){return e.addCssClass("ag-opacity-zero")},0),window.setTimeout(function(){return e.addCssClass("ag-hidden")},5e3))},n.prototype.shouldDisplayWatermark=function(){var u=(this.gridOptionsWrapper.getDocument().defaultView||window).location,c=u.hostname,m=void 0===c?"":c,y=u.pathname,w=this.licenseManager.isDisplayWatermark(),D=null!=m.match("^(?:127.0.0.1|localhost|(?:w+.)?ag-grid.com)$");return!!y&&-1!==y.indexOf("forceWatermark")||w&&!D},Ya([E.Autowired("licenseManager")],n.prototype,"licenseManager",void 0),Ya([E.RefSelector("eLicenseTextRef")],n.prototype,"eLicenseTextRef",void 0),Ya([E.PostConstruct],n.prototype,"postConstruct",null),n}(E.Component),ii={moduleName:E.ModuleNames.EnterpriseCoreModule,beans:[_a,au],agStackComponents:[{componentName:"AgWatermark",componentClass:$d}]},Sn=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),su=function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);return u>3&&c&&Object.defineProperty(n,e,c),c},wo=(()=>(function(h){h[h.EXPANDED=0]="EXPANDED",h[h.COLLAPSED=1]="COLLAPSED",h[h.INDETERMINATE=2]="INDETERMINATE"}(wo||(wo={})),wo))(),qa=function(h){function n(){return h.call(this,n.TEMPLATE)||this}return Sn(n,h),n.prototype.postConstruct=function(){var e=this;this.createExpandIcons(),this.addManagedListener(this.eExpand,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eExpand,"keydown",function(u){u.key===E.KeyCode.SPACE&&e.onExpandClicked()}),this.addManagedListener(this.eSelect.getInputElement(),"click",this.onSelectClicked.bind(this)),this.eFilterTextField.onValueChange(function(){return e.onFilterTextChanged()}),this.addManagedListener(this.eFilterTextField.getInputElement(),"keypress",this.onMiniFilterKeyPress.bind(this)),this.addManagedListener(this.eventService,E.Events.EVENT_NEW_COLUMNS_LOADED,this.showOrHideOptions.bind(this));var o=this.gridOptionsWrapper.getLocaleTextFunc();this.eSelect.setInputAriaLabel(o("ariaColumnSelectAll","Toggle Select All Columns")),this.eFilterTextField.setInputAriaLabel(o("ariaFilterColumnsInput","Filter Columns Input"))},n.prototype.init=function(e){this.params=e,this.columnModel.isReady()&&this.showOrHideOptions()},n.prototype.createExpandIcons=function(){this.eExpand.appendChild(this.eExpandChecked=E._.createIconNoSpan("columnSelectOpen",this.gridOptionsWrapper)),this.eExpand.appendChild(this.eExpandUnchecked=E._.createIconNoSpan("columnSelectClosed",this.gridOptionsWrapper)),this.eExpand.appendChild(this.eExpandIndeterminate=E._.createIconNoSpan("columnSelectIndeterminate",this.gridOptionsWrapper)),this.setExpandState(wo.EXPANDED)},n.prototype.showOrHideOptions=function(){var e=!this.params.suppressColumnFilter,o=!this.params.suppressColumnSelectAll,u=!this.params.suppressColumnExpandAll,c=this.columnModel.isPrimaryColumnGroupsPresent(),m=this.gridOptionsWrapper.getLocaleTextFunc();this.eFilterTextField.setInputPlaceholder(m("searchOoo","Search...")),E._.setDisplayed(this.eFilterTextField.getGui(),e),E._.setDisplayed(this.eSelect.getGui(),o),E._.setDisplayed(this.eExpand,u&&c)},n.prototype.onFilterTextChanged=function(){var e=this;this.onFilterTextChangedDebounced||(this.onFilterTextChangedDebounced=E._.debounce(function(){var o=e.eFilterTextField.getValue();e.dispatchEvent({type:"filterChanged",filterText:o})},n.DEBOUNCE_DELAY)),this.onFilterTextChangedDebounced()},n.prototype.onMiniFilterKeyPress=function(e){var o=this;e.key===E.KeyCode.ENTER&&setTimeout(function(){return o.onSelectClicked()},n.DEBOUNCE_DELAY)},n.prototype.onSelectClicked=function(){this.dispatchEvent({type:this.selectState?"unselectAll":"selectAll"})},n.prototype.onExpandClicked=function(){this.dispatchEvent({type:this.expandState===wo.EXPANDED?"collapseAll":"expandAll"})},n.prototype.setExpandState=function(e){this.expandState=e,E._.setDisplayed(this.eExpandChecked,this.expandState===wo.EXPANDED),E._.setDisplayed(this.eExpandUnchecked,this.expandState===wo.COLLAPSED),E._.setDisplayed(this.eExpandIndeterminate,this.expandState===wo.INDETERMINATE)},n.prototype.setSelectionState=function(e){this.selectState=e,this.eSelect.setValue(this.selectState)},n.DEBOUNCE_DELAY=300,n.TEMPLATE='<div class="ag-column-select-header" role="presentation" tabindex="-1">\n            <div ref="eExpand" class="ag-column-select-header-icon" tabindex="0"></div>\n            <ag-checkbox ref="eSelect" class="ag-column-select-header-checkbox"></ag-checkbox>\n            <ag-input-text-field class="ag-column-select-header-filter-wrapper" ref="eFilterTextField"></ag-input-text-field>\n        </div>',su([E.Autowired("columnModel")],n.prototype,"columnModel",void 0),su([E.RefSelector("eExpand")],n.prototype,"eExpand",void 0),su([E.RefSelector("eSelect")],n.prototype,"eSelect",void 0),su([E.RefSelector("eFilterTextField")],n.prototype,"eFilterTextField",void 0),su([E.PostConstruct],n.prototype,"postConstruct",null),n}(E.Component),Es=function(){function h(n,e,o,u,c){void 0===u&&(u=!1),this.eventService=new E.EventService,this.displayName=n,this.dept=o,this.group=u,u?(this.columnGroup=e,this.expanded=c,this.children=[]):this.column=e}return h.prototype.isGroup=function(){return this.group},h.prototype.getDisplayName=function(){return this.displayName},h.prototype.getColumnGroup=function(){return this.columnGroup},h.prototype.getColumn=function(){return this.column},h.prototype.getDept=function(){return this.dept},h.prototype.isExpanded=function(){return!!this.expanded},h.prototype.getChildren=function(){return this.children},h.prototype.isPassesFilter=function(){return this.passesFilter},h.prototype.setExpanded=function(n){n!==this.expanded&&(this.expanded=n,this.eventService.dispatchEvent({type:h.EVENT_EXPANDED_CHANGED}))},h.prototype.setPassesFilter=function(n){this.passesFilter=n},h.prototype.addEventListener=function(n,e){this.eventService.addEventListener(n,e)},h.prototype.removeEventListener=function(n,e){this.eventService.removeEventListener(n,e)},h.EVENT_EXPANDED_CHANGED="expandedChanged",h}(),A_=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Cc=function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);return u>3&&c&&Object.defineProperty(n,e,c),c},Fh=function(h,n){var e="function"==typeof Symbol&&h[Symbol.iterator];if(!e)return h;var u,m,o=e.call(h),c=[];try{for(;(void 0===n||n-- >0)&&!(u=o.next()).done;)c.push(u.value)}catch(y){m={error:y}}finally{try{u&&!u.done&&(e=o.return)&&e.call(o)}finally{if(m)throw m.error}}return c},Hi=function(h){function n(e,o,u){var c=h.call(this,'<div class="ag-menu"></div>')||this;return c.column=e,c.mouseEvent=o,c.parentEl=u,c.displayName=null,c}return A_(n,h),n.prototype.postConstruct=function(){this.initializeProperties(this.column),this.buildMenuItemMap(),this.displayName=this.column instanceof E.Column?this.columnModel.getDisplayNameForColumn(this.column,"columnToolPanel"):this.columnModel.getDisplayNameForProvidedColumnGroup(null,this.column,"columnToolPanel"),this.isActive()&&(this.mouseEvent.preventDefault(),this.displayContextMenu())},n.prototype.initializeProperties=function(e){this.columns=e instanceof E.ProvidedColumnGroup?e.getLeafColumns():[e],this.allowGrouping=this.columns.some(function(o){return o.isPrimary()&&o.isAllowRowGroup()}),this.allowValues=this.columns.some(function(o){return o.isPrimary()&&o.isAllowValue()}),this.allowPivoting=this.columnModel.isPivotMode()&&this.columns.some(function(o){return o.isPrimary()&&o.isAllowPivot()})},n.prototype.buildMenuItemMap=function(){var e=this,o=this.gridOptionsWrapper.getLocaleTextFunc();this.menuItemMap=new Map,this.menuItemMap.set("rowGroup",{allowedFunction:function(u){return u.isPrimary()&&u.isAllowRowGroup()},activeFunction:function(u){return u.isRowGroupActive()},activateLabel:function(){return o("groupBy","Group by")+" "+e.displayName},deactivateLabel:function(){return o("ungroupBy","Un-Group by")+" "+e.displayName},activateFunction:function(){var u=e.columnModel.getRowGroupColumns();e.columnModel.setRowGroupColumns(e.addColumnsToList(u),"toolPanelUi")},deActivateFunction:function(){var u=e.columnModel.getRowGroupColumns();e.columnModel.setRowGroupColumns(e.removeColumnsFromList(u),"toolPanelUi")},addIcon:"menuAddRowGroup",removeIcon:"menuRemoveRowGroup"}),this.menuItemMap.set("value",{allowedFunction:function(u){return u.isPrimary()&&u.isAllowValue()},activeFunction:function(u){return u.isValueActive()},activateLabel:function(){return o("addToValues","Add "+e.displayName+" to values",[e.displayName])},deactivateLabel:function(){return o("removeFromValues","Remove "+e.displayName+" from values",[e.displayName])},activateFunction:function(){var u=e.columnModel.getValueColumns();e.columnModel.setValueColumns(e.addColumnsToList(u),"toolPanelUi")},deActivateFunction:function(){var u=e.columnModel.getValueColumns();e.columnModel.setValueColumns(e.removeColumnsFromList(u),"toolPanelUi")},addIcon:"valuePanel",removeIcon:"valuePanel"}),this.menuItemMap.set("pivot",{allowedFunction:function(u){return e.columnModel.isPivotMode()&&u.isPrimary()&&u.isAllowPivot()},activeFunction:function(u){return u.isPivotActive()},activateLabel:function(){return o("addToLabels","Add "+e.displayName+" to labels",[e.displayName])},deactivateLabel:function(){return o("removeFromLabels","Remove "+e.displayName+" from labels",[e.displayName])},activateFunction:function(){var u=e.columnModel.getPivotColumns();e.columnModel.setPivotColumns(e.addColumnsToList(u),"toolPanelUi")},deActivateFunction:function(){var u=e.columnModel.getPivotColumns();e.columnModel.setPivotColumns(e.removeColumnsFromList(u),"toolPanelUi")},addIcon:"pivotPanel",removeIcon:"pivotPanel"})},n.prototype.addColumnsToList=function(e){return function(){for(var h=[],n=0;n<arguments.length;n++)h=h.concat(Fh(arguments[n]));return h}(e).concat(this.columns.filter(function(o){return-1===e.indexOf(o)}))},n.prototype.removeColumnsFromList=function(e){var o=this;return e.filter(function(u){return-1===o.columns.indexOf(u)})},n.prototype.displayContextMenu=function(){var e=this,o=this.getGui(),u=this.createBean(new E.AgMenuList),c=this.getMappedMenuItems(),m=function(){};o.appendChild(u.getGui()),u.addMenuItems(c),u.addManagedListener(u,E.AgMenuItemComponent.EVENT_MENU_ITEM_SELECTED,function(){e.parentEl.focus(),m()});var y=this.popupService.addPopup({modal:!0,eChild:o,closeOnEsc:!0,afterGuiAttached:function(){return e.focusService.focusInto(u.getGui())},ariaLabel:"Foo",closedCallback:function(w){w instanceof KeyboardEvent&&e.parentEl.focus(),e.destroyBean(u)}});y&&(m=y.hideFunc),this.popupService.positionPopupUnderMouseEvent({type:"columnContextMenu",mouseEvent:this.mouseEvent,ePopup:o})},n.prototype.isActive=function(){return this.allowGrouping||this.allowValues||this.allowPivoting},n.prototype.getMappedMenuItems=function(){var e,o,u=[],c=function(x){var P=m.columns.some(function(I){return x.allowedFunction(I)&&!x.activeFunction(I)}),R=m.columns.some(function(I){return x.allowedFunction(I)&&x.activeFunction(I)});P&&u.push({name:x.activateLabel(m.displayName),icon:E._.createIconNoSpan(x.addIcon,m.gridOptionsWrapper,null),action:function(){return x.activateFunction()}}),R&&u.push({name:x.deactivateLabel(m.displayName),icon:E._.createIconNoSpan(x.removeIcon,m.gridOptionsWrapper,null),action:function(){return x.deActivateFunction()}})},m=this;try{for(var y=function(h){var n="function"==typeof Symbol&&Symbol.iterator,e=n&&h[n],o=0;if(e)return e.call(h);if(h&&"number"==typeof h.length)return{next:function(){return h&&o>=h.length&&(h=void 0),{value:h&&h[o++],done:!h}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(this.menuItemMap.values()),w=y.next();!w.done;w=y.next())c(w.value)}catch(x){e={error:x}}finally{try{w&&!w.done&&(o=y.return)&&o.call(y)}finally{if(e)throw e.error}}return u},Cc([E.Autowired("columnModel")],n.prototype,"columnModel",void 0),Cc([E.Autowired("popupService")],n.prototype,"popupService",void 0),Cc([E.Autowired("focusService")],n.prototype,"focusService",void 0),Cc([E.PostConstruct],n.prototype,"postConstruct",null),n}(E.Component),Ew=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),ba=function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);return u>3&&c&&Object.defineProperty(n,e,c),c},Kd=function(h){function n(e,o,u,c){var m=h.call(this)||this;return m.modelItem=e,m.allowDragging=o,m.eventType=u,m.focusWrapper=c,m.processingColumnStateChange=!1,m.modelItem=e,m.columnGroup=e.getColumnGroup(),m.columnDept=e.getDept(),m.allowDragging=o,m}return Ew(n,h),n.prototype.init=function(){var e=this;this.setTemplate(n.TEMPLATE),this.eDragHandle=E._.createIconNoSpan("columnDrag",this.gridOptionsWrapper),this.eDragHandle.classList.add("ag-drag-handle","ag-column-select-column-group-drag-handle");var o=this.cbSelect.getGui(),u=this.cbSelect.getInputElement();o.insertAdjacentElement("afterend",this.eDragHandle),u.setAttribute("tabindex","-1"),this.displayName=this.columnModel.getDisplayNameForProvidedColumnGroup(null,this.columnGroup,this.eventType),E._.missing(this.displayName)&&(this.displayName=">>"),this.eLabel.innerHTML=this.displayName?this.displayName:"",this.setupExpandContract(),this.addCssClass("ag-column-select-indent-"+this.columnDept),this.addManagedListener(this.eventService,E.Events.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.eLabel,"click",this.onLabelClicked.bind(this)),this.addManagedListener(this.cbSelect,E.AgCheckbox.EVENT_CHANGED,this.onCheckboxChanged.bind(this)),this.addManagedListener(this.modelItem,Es.EVENT_EXPANDED_CHANGED,this.onExpandChanged.bind(this)),this.addManagedListener(this.focusWrapper,"keydown",this.handleKeyDown.bind(this)),this.addManagedListener(this.focusWrapper,"contextmenu",this.onContextMenu.bind(this)),this.setOpenClosedIcons(),this.setupDragging(),this.onColumnStateChanged(),this.addVisibilityListenersToAllChildren(),this.refreshAriaExpanded(),this.refreshAriaLabel(),this.setupTooltip(),E.CssClassApplier.getToolPanelClassesFromColDef(this.columnGroup.getColGroupDef(),this.gridOptionsWrapper,null,this.columnGroup).forEach(function(m){return e.addOrRemoveCssClass(m,!0)})},n.prototype.getColumns=function(){return this.columnGroup.getLeafColumns()},n.prototype.setupTooltip=function(){var e=this,o=this.columnGroup.getColGroupDef();if(o){var u=function(){e.setTooltip(o.headerTooltip)};u(),this.addManagedListener(this.eventService,E.Events.EVENT_NEW_COLUMNS_LOADED,u)}},n.prototype.getTooltipParams=function(){var e=h.prototype.getTooltipParams.call(this);return e.location="columnToolPanelColumnGroup",e},n.prototype.handleKeyDown=function(e){switch(e.key){case E.KeyCode.LEFT:e.preventDefault(),this.modelItem.setExpanded(!1);break;case E.KeyCode.RIGHT:e.preventDefault(),this.modelItem.setExpanded(!0);break;case E.KeyCode.SPACE:e.preventDefault(),this.isSelectable()&&this.onSelectAllChanged(!this.isSelected())}},n.prototype.onContextMenu=function(e){var o=this,c=this.columnGroup;if(!this.gridOptionsWrapper.isFunctionsReadOnly()){var y=this.createBean(new Hi(c,e,this.focusWrapper));this.addDestroyFunc(function(){y.isAlive()&&o.destroyBean(y)})}},n.prototype.addVisibilityListenersToAllChildren=function(){var e=this;this.columnGroup.getLeafColumns().forEach(function(o){e.addManagedListener(o,E.Column.EVENT_VISIBLE_CHANGED,e.onColumnStateChanged.bind(e)),e.addManagedListener(o,E.Column.EVENT_VALUE_CHANGED,e.onColumnStateChanged.bind(e)),e.addManagedListener(o,E.Column.EVENT_PIVOT_CHANGED,e.onColumnStateChanged.bind(e)),e.addManagedListener(o,E.Column.EVENT_ROW_GROUP_CHANGED,e.onColumnStateChanged.bind(e))})},n.prototype.setupDragging=function(){var e=this;if(this.allowDragging){var o={type:E.DragSourceType.ToolPanel,eElement:this.eDragHandle,dragItemName:this.displayName,getDragItem:function(){return e.createDragItem()},onDragStarted:function(){e.eventService.dispatchEvent({type:E.Events.EVENT_COLUMN_PANEL_ITEM_DRAG_START,column:e.columnGroup})},onDragStopped:function(){e.eventService.dispatchEvent({type:E.Events.EVENT_COLUMN_PANEL_ITEM_DRAG_END})}};this.dragAndDropService.addDragSource(o,!0),this.addDestroyFunc(function(){return e.dragAndDropService.removeDragSource(o)})}else E._.setDisplayed(this.eDragHandle,!1)},n.prototype.createDragItem=function(){var e={};return this.columnGroup.getLeafColumns().forEach(function(o){e[o.getId()]=o.isVisible()}),{columns:this.columnGroup.getLeafColumns(),visibleState:e}},n.prototype.setupExpandContract=function(){this.eGroupClosedIcon.appendChild(E._.createIcon("columnSelectClosed",this.gridOptionsWrapper,null)),this.eGroupOpenedIcon.appendChild(E._.createIcon("columnSelectOpen",this.gridOptionsWrapper,null)),this.addManagedListener(this.eGroupClosedIcon,"click",this.onExpandOrContractClicked.bind(this)),this.addManagedListener(this.eGroupOpenedIcon,"click",this.onExpandOrContractClicked.bind(this));var e=new E.TouchListener(this.eColumnGroupIcons,!0);this.addManagedListener(e,E.TouchListener.EVENT_TAP,this.onExpandOrContractClicked.bind(this)),this.addDestroyFunc(e.destroy.bind(e))},n.prototype.onLabelClicked=function(){var e=!this.cbSelect.getValue();this.onChangeCommon(e)},n.prototype.onCheckboxChanged=function(e){this.onChangeCommon(e.selected)},n.prototype.getVisibleLeafColumns=function(){var e=[],o=function(u){u.forEach(function(c){!c.isPassesFilter()||(c.isGroup()?o(c.getChildren()):e.push(c.getColumn()))})};return o(this.modelItem.getChildren()),e},n.prototype.onChangeCommon=function(e){this.refreshAriaLabel(),!this.processingColumnStateChange&&this.modelItemUtils.selectAllChildren(this.modelItem.getChildren(),e,this.eventType)},n.prototype.refreshAriaLabel=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc(),o=e("ariaColumnGroup","Column Group"),u=this.cbSelect.getValue()?e("ariaVisible","visible"):e("ariaHidden","hidden"),c=e("ariaToggleVisibility","Press SPACE to toggle visibility");E._.setAriaLabel(this.focusWrapper,this.displayName+" "+o),this.cbSelect.setInputAriaLabel(c+" ("+u+")"),E._.setAriaDescribedBy(this.focusWrapper,this.cbSelect.getInputElement().id)},n.prototype.onColumnStateChanged=function(){var e=this.workOutSelectedValue(),o=this.workOutReadOnlyValue();this.processingColumnStateChange=!0,this.cbSelect.setValue(e),this.cbSelect.setReadOnly(o),this.addOrRemoveCssClass("ag-column-select-column-group-readonly",o),this.processingColumnStateChange=!1},n.prototype.workOutSelectedValue=function(){var e=this,o=this.columnModel.isPivotMode(),u=this.getVisibleLeafColumns(),c=0,m=0;if(u.forEach(function(y){!o&&y.getColDef().lockVisible||(e.isColumnChecked(y,o)?c++:m++)}),!(c>0&&m>0))return c>0},n.prototype.workOutReadOnlyValue=function(){var e=this.columnModel.isPivotMode(),o=0;return this.columnGroup.getLeafColumns().forEach(function(u){e?u.isAnyFunctionAllowed()&&o++:u.getColDef().lockVisible||o++}),0===o},n.prototype.isColumnChecked=function(e,o){if(o){var u=e.isPivotActive(),c=e.isRowGroupActive(),m=e.isValueActive();return u||c||m}return e.isVisible()},n.prototype.onExpandOrContractClicked=function(){var e=this.modelItem.isExpanded();this.modelItem.setExpanded(!e)},n.prototype.onExpandChanged=function(){this.setOpenClosedIcons(),this.refreshAriaExpanded()},n.prototype.setOpenClosedIcons=function(){var e=this.modelItem.isExpanded();E._.setDisplayed(this.eGroupClosedIcon,!e),E._.setDisplayed(this.eGroupOpenedIcon,e)},n.prototype.refreshAriaExpanded=function(){E._.setAriaExpanded(this.focusWrapper,this.modelItem.isExpanded())},n.prototype.getDisplayName=function(){return this.displayName},n.prototype.onSelectAllChanged=function(e){var o=this.cbSelect.getValue();!this.cbSelect.isReadOnly()&&(e&&!o||!e&&o)&&this.cbSelect.toggle()},n.prototype.isSelected=function(){return this.cbSelect.getValue()},n.prototype.isSelectable=function(){return!this.cbSelect.isReadOnly()},n.prototype.setSelected=function(e){this.cbSelect.setValue(e,!0)},n.TEMPLATE='<div class="ag-column-select-column-group" aria-hidden="true">\n            <span class="ag-column-group-icons" ref="eColumnGroupIcons" >\n                <span class="ag-column-group-closed-icon" ref="eGroupClosedIcon"></span>\n                <span class="ag-column-group-opened-icon" ref="eGroupOpenedIcon"></span>\n            </span>\n            <ag-checkbox ref="cbSelect" class="ag-column-select-checkbox"></ag-checkbox>\n            <span class="ag-column-select-column-label" ref="eLabel"></span>\n        </div>',ba([E.Autowired("columnModel")],n.prototype,"columnModel",void 0),ba([E.Autowired("dragAndDropService")],n.prototype,"dragAndDropService",void 0),ba([E.Autowired("modelItemUtils")],n.prototype,"modelItemUtils",void 0),ba([E.RefSelector("cbSelect")],n.prototype,"cbSelect",void 0),ba([E.RefSelector("eLabel")],n.prototype,"eLabel",void 0),ba([E.RefSelector("eGroupOpenedIcon")],n.prototype,"eGroupOpenedIcon",void 0),ba([E.RefSelector("eGroupClosedIcon")],n.prototype,"eGroupClosedIcon",void 0),ba([E.RefSelector("eColumnGroupIcons")],n.prototype,"eColumnGroupIcons",void 0),ba([E.PostConstruct],n.prototype,"init",null),n}(E.Component),Dw=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),lu=function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);return u>3&&c&&Object.defineProperty(n,e,c),c},ur="ag-list-item-hovered",uu=function(h){function n(e,o){var u=h.call(this)||this;return u.comp=e,u.virtualList=o,u.currentDragColumn=null,u.lastHoveredColumnItem=null,u}return Dw(n,h),n.prototype.postConstruct=function(){this.addManagedListener(this.eventService,E.Events.EVENT_COLUMN_PANEL_ITEM_DRAG_START,this.columnPanelItemDragStart.bind(this)),this.addManagedListener(this.eventService,E.Events.EVENT_COLUMN_PANEL_ITEM_DRAG_END,this.columnPanelItemDragEnd.bind(this)),this.createDropTarget(),this.createAutoScrollService()},n.prototype.columnPanelItemDragStart=function(e){this.currentDragColumn=e.column,this.getCurrentColumns().find(function(m){var y=m.getColDef();return!!y.suppressMovable||!!y.lockPosition})&&(this.moveBlocked=!0)},n.prototype.columnPanelItemDragEnd=function(){var e=this;window.setTimeout(function(){e.currentDragColumn=null,e.moveBlocked=!1},10)},n.prototype.createDropTarget=function(){var e=this;this.dragAndDropService.addDropTarget({isInterestedIn:function(u){return u===E.DragSourceType.ToolPanel},getIconName:function(){return E.DragAndDropService[e.moveBlocked?"ICON_NOT_ALLOWED":"ICON_MOVE"]},getContainer:function(){return e.comp.getGui()},onDragging:function(u){return e.onDragging(u)},onDragStop:function(){return e.onDragStop()},onDragLeave:function(){return e.onDragLeave()}})},n.prototype.createAutoScrollService=function(){var e=this.virtualList.getGui();this.autoScrollService=new E.AutoScrollService({scrollContainer:e,scrollAxis:"y",getVerticalPosition:function(){return e.scrollTop},setVerticalPosition:function(o){return e.scrollTop=o}})},n.prototype.onDragging=function(e){if(this.currentDragColumn&&!this.moveBlocked){var o=this.getDragColumnItem(e),u=this.virtualList.getComponentAt(o.rowIndex);if(u){var c=u.getGui().parentElement;this.lastHoveredColumnItem&&this.lastHoveredColumnItem.rowIndex===o.rowIndex&&this.lastHoveredColumnItem.position===o.position||(this.autoScrollService.check(e.event),this.clearHoveredItems(),this.lastHoveredColumnItem=o,E._.radioCssClass(c,""+ur),E._.radioCssClass(c,"ag-item-highlight-"+o.position))}}},n.prototype.getDragColumnItem=function(e){var o=this.virtualList.getGui(),u=parseFloat(window.getComputedStyle(o).paddingTop),c=this.virtualList.getRowHeight(),m=this.virtualList.getScrollTop(),y=Math.max(0,(e.y-u+m)/c),w=this.comp.getDisplayedColsList().length-1,D=0|Math.min(w,y);return{rowIndex:D,position:Math.round(y)>y||y>w?"bottom":"top",component:this.virtualList.getComponentAt(D)}},n.prototype.onDragStop=function(){if(!this.moveBlocked){var e=this.getTargetIndex(),o=this.getCurrentColumns();null!=e&&this.columnModel.moveColumns(o,e),this.clearHoveredItems(),this.autoScrollService.ensureCleared()}},n.prototype.getMoveDiff=function(e){var o=this.columnModel.getAllGridColumns(),u=this.getCurrentColumns(),m=u.length;return o.indexOf(u[0])<e?m:0},n.prototype.getCurrentColumns=function(){return this.currentDragColumn instanceof E.ProvidedColumnGroup?this.currentDragColumn.getLeafColumns():[this.currentDragColumn]},n.prototype.getTargetIndex=function(){if(!this.lastHoveredColumnItem)return null;var u,e=this.lastHoveredColumnItem.component,o="top"===this.lastHoveredColumnItem.position;e instanceof Kd?(u=e.getColumns()[0],o=!0):u=e.getColumn();var m=this.columnModel.getAllGridColumns().indexOf(u),y=o?m:m+1;return y-this.getMoveDiff(y)},n.prototype.onDragLeave=function(){this.clearHoveredItems(),this.autoScrollService.ensureCleared()},n.prototype.clearHoveredItems=function(){this.virtualList.getGui().querySelectorAll("."+ur).forEach(function(o){[ur,"ag-item-highlight-top","ag-item-highlight-bottom"].forEach(function(u){o.classList.remove(u)})}),this.lastHoveredColumnItem=null},lu([E.Autowired("columnModel")],n.prototype,"columnModel",void 0),lu([E.Autowired("dragAndDropService")],n.prototype,"dragAndDropService",void 0),lu([E.PostConstruct],n.prototype,"postConstruct",null),n}(E.BeanStub),Ow=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),bc=function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);return u>3&&c&&Object.defineProperty(n,e,c),c},xw=function(h){function n(e,o,u,c,m){var y=h.call(this)||this;return y.column=e,y.columnDept=o,y.allowDragging=u,y.groupsExist=c,y.focusWrapper=m,y.processingColumnStateChange=!1,y}return Ow(n,h),n.prototype.init=function(){var e=this;this.setTemplate(n.TEMPLATE),this.eDragHandle=E._.createIconNoSpan("columnDrag",this.gridOptionsWrapper),this.eDragHandle.classList.add("ag-drag-handle","ag-column-select-column-drag-handle");var o=this.cbSelect.getGui(),u=this.cbSelect.getInputElement();o.insertAdjacentElement("afterend",this.eDragHandle),u.setAttribute("tabindex","-1"),this.displayName=this.columnModel.getDisplayNameForColumn(this.column,"columnToolPanel");var c=E._.escapeString(this.displayName);this.eLabel.innerHTML=c;var m=this.columnDept;this.groupsExist&&this.addCssClass("ag-column-select-add-group-indent"),this.addCssClass("ag-column-select-indent-"+m),this.setupDragging(),this.addManagedListener(this.eventService,E.Events.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.column,E.Column.EVENT_VALUE_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.column,E.Column.EVENT_PIVOT_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.column,E.Column.EVENT_ROW_GROUP_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.column,E.Column.EVENT_VISIBLE_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.focusWrapper,"keydown",this.handleKeyDown.bind(this)),this.addManagedListener(this.focusWrapper,"contextmenu",this.onContextMenu.bind(this)),this.addManagedListener(this.gridOptionsWrapper,"functionsReadOnly",this.onColumnStateChanged.bind(this)),this.addManagedListener(this.cbSelect,E.AgCheckbox.EVENT_CHANGED,this.onCheckboxChanged.bind(this)),this.addManagedListener(this.eLabel,"click",this.onLabelClicked.bind(this)),this.onColumnStateChanged(),this.refreshAriaLabel(),this.setupTooltip(),E.CssClassApplier.getToolPanelClassesFromColDef(this.column.getColDef(),this.gridOptionsWrapper,this.column,null).forEach(function(w){return e.addOrRemoveCssClass(w,!0)})},n.prototype.getColumn=function(){return this.column},n.prototype.setupTooltip=function(){var e=this,o=function(){var u=e.column.getColDef().headerTooltip;e.setTooltip(u)};o(),this.addManagedListener(this.eventService,E.Events.EVENT_NEW_COLUMNS_LOADED,o)},n.prototype.getTooltipParams=function(){var e=h.prototype.getTooltipParams.call(this);return e.location="columnToolPanelColumn",e.colDef=this.column.getColDef(),e},n.prototype.onContextMenu=function(e){var o=this,c=this.column;if(!this.gridOptionsWrapper.isFunctionsReadOnly()){var y=this.createBean(new Hi(c,e,this.focusWrapper));this.addDestroyFunc(function(){y.isAlive()&&o.destroyBean(y)})}},n.prototype.handleKeyDown=function(e){e.key===E.KeyCode.SPACE&&(e.preventDefault(),this.isSelectable()&&this.onSelectAllChanged(!this.isSelected()))},n.prototype.onLabelClicked=function(){if(!this.gridOptionsWrapper.isFunctionsReadOnly()){var e=!this.cbSelect.getValue();this.onChangeCommon(e)}},n.prototype.onCheckboxChanged=function(e){this.onChangeCommon(e.selected)},n.prototype.onChangeCommon=function(e){this.cbSelect.isReadOnly()||(this.refreshAriaLabel(),!this.processingColumnStateChange&&this.modelItemUtils.setColumn(this.column,e,"toolPanelUi"))},n.prototype.refreshAriaLabel=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc(),o=e("ariaColumn","Column"),u=this.cbSelect.getValue()?e("ariaVisible","visible"):e("ariaHidden","hidden"),c=e("ariaToggleVisibility","Press SPACE to toggle visibility");E._.setAriaLabel(this.focusWrapper,this.displayName+" "+o),this.cbSelect.setInputAriaLabel(c+" ("+u+")"),E._.setAriaDescribedBy(this.focusWrapper,this.cbSelect.getInputElement().id)},n.prototype.setupDragging=function(){var e=this;if(this.allowDragging){var o={type:E.DragSourceType.ToolPanel,eElement:this.eDragHandle,dragItemName:this.displayName,getDragItem:function(){return e.createDragItem()},onDragStarted:function(){e.eventService.dispatchEvent({type:E.Events.EVENT_COLUMN_PANEL_ITEM_DRAG_START,column:e.column})},onDragStopped:function(){e.eventService.dispatchEvent({type:E.Events.EVENT_COLUMN_PANEL_ITEM_DRAG_END})}};this.dragAndDropService.addDragSource(o,!0),this.addDestroyFunc(function(){return e.dragAndDropService.removeDragSource(o)})}else E._.setDisplayed(this.eDragHandle,!1)},n.prototype.createDragItem=function(){var e={};return e[this.column.getId()]=this.column.isVisible(),{columns:[this.column],visibleState:e}},n.prototype.onColumnStateChanged=function(){this.processingColumnStateChange=!0;var e=this.columnModel.isPivotMode();if(e){var o=this.column.isAnyFunctionActive();this.cbSelect.setValue(o)}else this.cbSelect.setValue(this.column.isVisible());var u=!0,c=!0;if(e){var m=this.gridOptionsWrapper.isFunctionsReadOnly(),y=!this.column.isAnyFunctionAllowed();u=!m&&!y}else u=!this.column.getColDef().lockVisible,c=!this.column.getColDef().lockPosition;this.cbSelect.setReadOnly(!u),this.eDragHandle.classList.toggle("ag-column-select-column-readonly",!c),this.addOrRemoveCssClass("ag-column-select-column-readonly",!c&&!u);var w=e&&this.gridOptionsWrapper.isFunctionsPassive();this.cbSelect.setPassive(w),this.processingColumnStateChange=!1},n.prototype.getDisplayName=function(){return this.displayName},n.prototype.onSelectAllChanged=function(e){e!==this.cbSelect.getValue()&&(this.cbSelect.isReadOnly()||this.cbSelect.toggle())},n.prototype.isSelected=function(){return this.cbSelect.getValue()},n.prototype.isSelectable=function(){return!this.cbSelect.isReadOnly()},n.prototype.isExpandable=function(){return!1},n.prototype.setExpanded=function(e){console.warn("AG Grid: can not expand a column item that does not represent a column group header")},n.TEMPLATE='<div class="ag-column-select-column" aria-hidden="true">\n            <ag-checkbox ref="cbSelect" class="ag-column-select-checkbox"></ag-checkbox>\n            <span class="ag-column-select-column-label" ref="eLabel"></span>\n        </div>',bc([E.Autowired("columnModel")],n.prototype,"columnModel",void 0),bc([E.Autowired("dragAndDropService")],n.prototype,"dragAndDropService",void 0),bc([E.Autowired("modelItemUtils")],n.prototype,"modelItemUtils",void 0),bc([E.RefSelector("eLabel")],n.prototype,"eLabel",void 0),bc([E.RefSelector("cbSelect")],n.prototype,"cbSelect",void 0),bc([E.PostConstruct],n.prototype,"init",null),n}(E.Component),Mt=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),En=function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);return u>3&&c&&Object.defineProperty(n,e,c),c},Nh=function(){function h(n){this.items=n}return h.prototype.getRowCount=function(){return this.items.length},h.prototype.getRow=function(n){return this.items[n]},h}(),Ci=function(h){function n(){var e=h.call(this,n.TEMPLATE)||this;return e.destroyColumnItemFuncs=[],e}return Mt(n,h),n.prototype.destroyColumnTree=function(){this.allColsTree=[],this.destroyColumnItemFuncs.forEach(function(e){return e()}),this.destroyColumnItemFuncs=[]},n.prototype.init=function(e,o,u){var c=this;this.params=e,this.allowDragging=o,this.eventType=u,this.params.suppressSyncLayoutWithGrid||this.addManagedListener(this.eventService,E.Events.EVENT_COLUMN_MOVED,this.onColumnsChanged.bind(this)),this.addManagedListener(this.eventService,E.Events.EVENT_NEW_COLUMNS_LOADED,this.onColumnsChanged.bind(this)),[E.Events.EVENT_COLUMN_PIVOT_CHANGED,E.Events.EVENT_COLUMN_PIVOT_MODE_CHANGED,E.Events.EVENT_COLUMN_ROW_GROUP_CHANGED,E.Events.EVENT_COLUMN_VALUE_CHANGED,E.Events.EVENT_COLUMN_VISIBLE,E.Events.EVENT_NEW_COLUMNS_LOADED].forEach(function(D){c.addManagedListener(c.eventService,D,c.fireSelectionChangedEvent.bind(c))}),this.expandGroupsByDefault=!this.params.contractColumnSelection;var w=this.gridOptionsWrapper.getLocaleTextFunc()("ariaColumnList","Column List");this.virtualList=this.createManagedBean(new E.VirtualList("column-select","tree",w)),this.appendChild(this.virtualList.getGui()),this.virtualList.setComponentCreator(function(D,x){return E._.setAriaLevel(x,D.getDept()+1),c.createComponentFromItem(D,x)}),this.columnModel.isReady()&&this.onColumnsChanged(),!e.suppressColumnMove&&!this.gridOptionsWrapper.isSuppressMovableColumns()&&this.createManagedBean(new uu(this,this.virtualList))},n.prototype.createComponentFromItem=function(e,o){if(e.isGroup()){var u=new Kd(e,this.allowDragging,this.eventType,o);return this.getContext().createBean(u),u}var c=new xw(e.getColumn(),e.getDept(),this.allowDragging,this.groupsExist,o);return this.getContext().createBean(c),c},n.prototype.onColumnsChanged=function(){var e=this.getExpandedStates(),o=this.columnModel.isPivotMode();this.params.suppressSyncLayoutWithGrid||o?this.buildTreeFromProvidedColumnDefs():this.buildTreeFromWhatGridIsDisplaying(),this.setExpandedStates(e),this.markFilteredColumns(),this.flattenAndFilterModel()},n.prototype.getDisplayedColsList=function(){return this.displayedColsList},n.prototype.getExpandedStates=function(){if(!this.allColsTree)return{};var e={};return this.forEachItem(function(o){if(o.isGroup()){var u=o.getColumnGroup();u&&(e[u.getId()]=o.isExpanded())}}),e},n.prototype.setExpandedStates=function(e){!this.allColsTree||this.forEachItem(function(o){if(o.isGroup()){var u=o.getColumnGroup();if(u){var c=e[u.getId()];null!=c&&o.setExpanded(c)}}})},n.prototype.buildTreeFromWhatGridIsDisplaying=function(){this.colDefService.syncLayoutWithGrid(this.setColumnLayout.bind(this))},n.prototype.setColumnLayout=function(e){var o=this.colDefService.createColumnTree(e);this.buildListModel(o),this.groupsExist=e.some(function(u){return u&&void 0!==u.children}),this.markFilteredColumns(),this.flattenAndFilterModel()},n.prototype.buildTreeFromProvidedColumnDefs=function(){this.buildListModel(this.columnModel.getPrimaryColumnTree()),this.groupsExist=this.columnModel.isPrimaryColumnGroupsPresent()},n.prototype.buildListModel=function(e){var o=this,u=this.onColumnExpanded.bind(this),m=function(D,x,P){D.forEach(function(R){R instanceof E.ProvidedColumnGroup?y(R,x,P):w(R,x,P)})},y=function(D,x,P){var R=D.getColGroupDef();if(!R||!R.suppressColumnsToolPanel){if(D.isPadding())return void m(D.getChildren(),x,P);var N=o.columnModel.getDisplayNameForProvidedColumnGroup(null,D,o.eventType),V=new Es(N,D,x,!0,o.expandGroupsByDefault);P.push(V),function(D){D.addEventListener(Es.EVENT_EXPANDED_CHANGED,u);var x=D.removeEventListener.bind(D,Es.EVENT_EXPANDED_CHANGED,u);o.destroyColumnItemFuncs.push(x)}(V),m(D.getChildren(),x+1,V.getChildren())}},w=function(D,x,P){if(!D.getColDef()||!D.getColDef().suppressColumnsToolPanel){var I=o.columnModel.getDisplayNameForColumn(D,"columnToolPanel");P.push(new Es(I,D,x))}};this.destroyColumnTree(),m(e,0,this.allColsTree)},n.prototype.onColumnExpanded=function(){this.flattenAndFilterModel()},n.prototype.flattenAndFilterModel=function(){var e=this;this.displayedColsList=[];var o=function(c){!c.isPassesFilter()||(e.displayedColsList.push(c),c.isGroup()&&c.isExpanded()&&c.getChildren().forEach(o))};this.allColsTree.forEach(o),this.virtualList.setModel(new Nh(this.displayedColsList));var u=this.virtualList.getLastFocusedRow();this.virtualList.refresh(),null!=u&&this.focusRowIfAlive(u),this.notifyListeners()},n.prototype.focusRowIfAlive=function(e){var o=this;window.setTimeout(function(){o.isAlive()&&o.virtualList.focusRow(e)},0)},n.prototype.forEachItem=function(e){var o=function(u){u.forEach(function(c){e(c),c.isGroup()&&o(c.getChildren())})};o(this.allColsTree)},n.prototype.doSetExpandedAll=function(e){this.forEachItem(function(o){o.isGroup()&&o.setExpanded(e)})},n.prototype.setGroupsExpanded=function(e,o){if(o){var u=[];this.forEachItem(function(m){if(m.isGroup()){var y=m.getColumnGroup().getId();o.indexOf(y)>=0&&(m.setExpanded(e),u.push(y))}});var c=o.filter(function(m){return!E._.includes(u,m)});c.length>0&&console.warn("AG Grid: unable to find group(s) for supplied groupIds:",c)}else this.doSetExpandedAll(e)},n.prototype.getExpandState=function(){var e=0,o=0;return this.forEachItem(function(u){!u.isGroup()||(u.isExpanded()?e++:o++)}),e>0&&o>0?wo.INDETERMINATE:o>0?wo.COLLAPSED:wo.EXPANDED},n.prototype.doSetSelectedAll=function(e){this.modelItemUtils.selectAllChildren(this.allColsTree,e,this.eventType)},n.prototype.getSelectionState=function(){var e=0,o=0,u=this.columnModel.isPivotMode();if(this.forEachItem(function(c){if(!c.isGroup()&&c.isPassesFilter()){var w,m=c.getColumn(),y=m.getColDef();if(u){if(!m.isAllowPivot()&&!m.isAllowRowGroup()&&!m.isAllowValue())return;w=m.isValueActive()||m.isPivotActive()||m.isRowGroupActive()}else{if(y.lockVisible)return;w=m.isVisible()}w?e++:o++}}),!(e>0&&o>0))return!(0===e||o>0)},n.prototype.setFilterText=function(e){this.filterText=E._.exists(e)?e.toLowerCase():null,this.markFilteredColumns(),this.flattenAndFilterModel()},n.prototype.markFilteredColumns=function(){var e=this,o=function(c){if(!E._.exists(e.filterText))return!0;var m=c.getDisplayName();return null==m||-1!==m.toLowerCase().indexOf(e.filterText)},u=function(c,m){var y=!1;if(c.isGroup()){var w=o(c);c.getChildren().forEach(function(x){var P=u(x,w||m);P&&(y=P)})}var D=!(!m&&!y)||o(c);return c.setPassesFilter(D),D};this.allColsTree.forEach(function(c){return u(c,!1)})},n.prototype.notifyListeners=function(){this.fireGroupExpandedEvent(),this.fireSelectionChangedEvent()},n.prototype.fireGroupExpandedEvent=function(){var e=this.getExpandState();this.dispatchEvent({type:"groupExpanded",state:e})},n.prototype.fireSelectionChangedEvent=function(){var e=this.getSelectionState();this.dispatchEvent({type:"selectionChanged",state:e})},n.TEMPLATE='<div class="ag-column-select-list" role="presentation"></div>',En([E.Autowired("columnModel")],n.prototype,"columnModel",void 0),En([E.Autowired("toolPanelColDefService")],n.prototype,"colDefService",void 0),En([E.Autowired("modelItemUtils")],n.prototype,"modelItemUtils",void 0),En([E.PreDestroy],n.prototype,"destroyColumnTree",null),n}(E.Component),oi=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),cu=function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);return u>3&&c&&Object.defineProperty(n,e,c),c},wm=function(h){function n(){return null!==h&&h.apply(this,arguments)||this}return oi(n,h),n.prototype.createTemplate=function(){return'<div class="ag-pivot-mode-panel">\n                <ag-toggle-button ref="cbPivotMode" class="ag-pivot-mode-select"></ag-toggle-button>\n            </div>'},n.prototype.init=function(){this.setTemplate(this.createTemplate()),this.cbPivotMode.setValue(this.columnModel.isPivotMode());var e=this.gridOptionsWrapper.getLocaleTextFunc();this.cbPivotMode.setLabel(e("pivotMode","Pivot Mode")),this.addManagedListener(this.cbPivotMode,E.AgCheckbox.EVENT_CHANGED,this.onBtPivotMode.bind(this)),this.addManagedListener(this.eventService,E.Events.EVENT_NEW_COLUMNS_LOADED,this.onPivotModeChanged.bind(this)),this.addManagedListener(this.eventService,E.Events.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onPivotModeChanged.bind(this))},n.prototype.onBtPivotMode=function(){var e=!!this.cbPivotMode.getValue();if(e!==this.columnModel.isPivotMode()){this.columnModel.setPivotMode(e,"toolPanelUi");var o=this.gridOptionsWrapper.getApi();o&&o.refreshHeader()}},n.prototype.onPivotModeChanged=function(){var e=this.columnModel.isPivotMode();this.cbPivotMode.setValue(e)},cu([E.Autowired("columnModel")],n.prototype,"columnModel",void 0),cu([E.RefSelector("cbPivotMode")],n.prototype,"cbPivotMode",void 0),cu([E.PreConstruct],n.prototype,"init",null),n}(E.Component),Lh=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),du=function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);return u>3&&c&&Object.defineProperty(n,e,c),c},pu=function(h){function n(){return null!==h&&h.apply(this,arguments)||this}return Lh(n,h),n.prototype.execute=function(e){var o=E._.missingOrEmpty(this.columnModel.getValueColumns()),u=!this.gridOptionsWrapper.getGroupRowAggNodesFunc(),c=e.changedPath&&e.changedPath.isActive();if(!(o&&u&&c)){var m=this.createAggDetails(e);this.recursivelyCreateAggData(m)}},n.prototype.createAggDetails=function(e){var o=this.columnModel.isPivotActive(),u=this.columnModel.getValueColumns(),c=o?this.columnModel.getPivotColumns():[];return{changedPath:e.changedPath,valueColumns:u,pivotColumns:c}},n.prototype.recursivelyCreateAggData=function(e){var o=this;this.filteredOnly=!this.gridOptionsWrapper.isSuppressAggFilteredOnly(),e.changedPath.forEachChangedNodeDepthFirst(function(c){if(c.hasChildren()){if(-1===c.level){var w=!o.columnModel.isPivotMode();if(o.gridOptionsWrapper.isSuppressAggAtRootLevel()&&w)return}o.aggregateRowNode(c,e)}else c.aggData&&c.setAggData(null)},!0)},n.prototype.aggregateRowNode=function(e,o){var y,u=0===o.valueColumns.length,c=0===o.pivotColumns.length,m=this.gridOptionsWrapper.getGroupRowAggNodesFunc();y=m?m(e.childrenAfterFilter):u?null:c?this.aggregateRowNodeUsingValuesOnly(e,o):this.aggregateRowNodeUsingValuesAndPivot(e),e.setAggData(y),e.sibling&&e.sibling.setAggData(y)},n.prototype.aggregateRowNodeUsingValuesAndPivot=function(e){var o=this,u={},c=this.pivotStage.getPivotColumnDefs();return c.filter(function(m){return!E._.exists(m.pivotTotalColumnIds)}).forEach(function(m){var w,D=m.pivotValueColumn,x=m.colId;w=e.leafGroup?o.getValuesFromMappedSet(e.childrenMapped,m.pivotKeys||[],D):o.getValuesPivotNonLeaf(e,x),u[x]=o.aggregateValues(w,D.getAggFunc(),D,e)}),c.filter(function(m){return E._.exists(m.pivotTotalColumnIds)}).forEach(function(m){var y=[],w=m.pivotValueColumn,D=m.pivotTotalColumnIds,x=m.colId;!D||!D.length||(D.forEach(function(P){y.push(u[P])}),u[x]=o.aggregateValues(y,w.getAggFunc(),w,e))}),u},n.prototype.aggregateRowNodeUsingValuesOnly=function(e,o){var u=this,c={},m=o.changedPath.isActive()?o.changedPath.getValueColumnsForNode(e,o.valueColumns):o.valueColumns,y=o.changedPath.isActive()?o.changedPath.getNotValueColumnsForNode(e,o.valueColumns):null,w=this.getValuesNormal(e,m),D=e.aggData;return m.forEach(function(x,P){c[x.getId()]=u.aggregateValues(w[P],x.getAggFunc(),x,e)}),y&&D&&y.forEach(function(x){c[x.getId()]=D[x.getId()]}),c},n.prototype.getValuesPivotNonLeaf=function(e,o){var u=[];return e.childrenAfterFilter.forEach(function(c){u.push(c.aggData[o])}),u},n.prototype.getValuesFromMappedSet=function(e,o,u){var c=this,m=e;if(o.forEach(function(w){return m=m?m[w]:null}),!m)return[];var y=[];return m.forEach(function(w){var D=c.valueService.getValue(u,w);y.push(D)}),y},n.prototype.getValuesNormal=function(e,o){var u=[];o.forEach(function(){return u.push([])});for(var c=o.length,m=this.filteredOnly?e.childrenAfterFilter:e.childrenAfterGroup,y=m.length,w=0;w<y;w++)for(var D=m[w],x=0;x<c;x++){var R=this.valueService.getValue(o[x],D);u[x].push(R)}return u},n.prototype.aggregateValues=function(e,o,u,c){var m="string"==typeof o?this.aggFuncService.getAggFunc(o):o;if("function"!=typeof m)return console.error("AG Grid: unrecognised aggregation function "+o),null;var y=function(){E._.doOnce(function(){console.warn("AG Grid: since v24.0, custom aggregation functions take a params object. Please alter your aggregation function to use params.values")},"aggregationStage.aggregateValues Deprecation")};return m({values:e,column:u,colDef:u?u.getColDef():void 0,rowNode:c,data:c?c.data:void 0,api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext(),forEach:function(x,P){return y(),e.forEach(x,P)},get length(){return y(),e.length},set length(x){y(),e.length=x}})},du([E.Autowired("columnModel")],n.prototype,"columnModel",void 0),du([E.Autowired("valueService")],n.prototype,"valueService",void 0),du([E.Autowired("pivotStage")],n.prototype,"pivotStage",void 0),du([E.Autowired("aggFuncService")],n.prototype,"aggFuncService",void 0),du([E.Autowired("gridApi")],n.prototype,"gridApi",void 0),du([E.Autowired("columnApi")],n.prototype,"columnApi",void 0),du([E.Bean("aggregationStage")],n)}(E.BeanStub),Sm=function(){function h(){this.allSets={},this.allParents=[]}return h.prototype.removeFromChildrenAfterGroup=function(n,e){this.getSet(n).removeFromChildrenAfterGroup[e.id]=!0},h.prototype.removeFromAllLeafChildren=function(n,e){this.getSet(n).removeFromAllLeafChildren[e.id]=!0},h.prototype.getSet=function(n){return this.allSets[n.id]||(this.allSets[n.id]={removeFromAllLeafChildren:{},removeFromChildrenAfterGroup:{}},this.allParents.push(n)),this.allSets[n.id]},h.prototype.getAllParents=function(){return this.allParents},h.prototype.flush=function(){var n=this;this.allParents.forEach(function(e){var o=n.allSets[e.id];e.childrenAfterGroup=e.childrenAfterGroup.filter(function(u){return!o.removeFromChildrenAfterGroup[u.id]}),e.allLeafChildren=e.allLeafChildren.filter(function(u){return!o.removeFromAllLeafChildren[u.id]}),e.updateHasChildren(),e.sibling&&(e.sibling.childrenAfterGroup=e.childrenAfterGroup,e.sibling.allLeafChildren=e.allLeafChildren)}),this.allSets={},this.allParents.length=0},h}(),dD=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),bl=function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);return u>3&&c&&Object.defineProperty(n,e,c),c},pD=function(h){function n(){var e=null!==h&&h.apply(this,arguments)||this;return e.groupIdSequence=new E.NumberSequence,e}return dD(n,h),n.prototype.postConstruct=function(){this.usingTreeData=this.gridOptionsWrapper.isTreeData(),this.usingTreeData&&(this.getDataPath=this.gridOptionsWrapper.getDataPathFunc())},n.prototype.execute=function(e){var o=this.createGroupingDetails(e);o.transactions?this.handleTransaction(o):this.shotgunResetEverything(o,!0===e.afterColumnsChanged),this.sortGroupsWithComparator(o.rootNode),this.selectableService.updateSelectableAfterGrouping(o.rootNode)},n.prototype.createGroupingDetails=function(e){var o=e.rowNode,u=e.changedPath,c=e.rowNodeTransactions,m=e.rowNodeOrder,y=this.usingTreeData?null:this.columnModel.getRowGroupColumns();return{includeParents:!this.gridOptionsWrapper.isSuppressParentsInRowNodes(),expandByDefault:this.gridOptionsWrapper.getGroupDefaultExpanded(),groupedCols:y,rootNode:o,pivotMode:this.columnModel.isPivotMode(),groupedColCount:this.usingTreeData||!y?0:y.length,rowNodeOrder:m,transactions:c,changedPath:u}},n.prototype.handleTransaction=function(e){var o=this;e.transactions.forEach(function(u){var c=o.usingTreeData?void 0:new Sm;if(E._.existsAndNotEmpty(u.remove)&&o.removeNodes(u.remove,e,c),E._.existsAndNotEmpty(u.update)&&o.moveNodesInWrongPath(u.update,e,c),E._.existsAndNotEmpty(u.add)&&o.insertNodes(u.add,e,!1),c){var m=c.getAllParents().slice();c.flush(),o.removeEmptyGroups(m,e)}}),e.rowNodeOrder&&this.sortChildren(e)},n.prototype.sortChildren=function(e){e.changedPath.forEachChangedNodeDepthFirst(function(o){E._.sortRowNodesByOrder(o.childrenAfterGroup,e.rowNodeOrder)})},n.prototype.sortGroupsWithComparator=function(e){if(!this.usingTreeData){var o=this.gridOptionsWrapper.getDefaultGroupOrderComparator();E._.exists(o)&&function u(c){E._.exists(c.childrenAfterGroup)&&!c.leafGroup&&(c.childrenAfterGroup.sort(o),c.childrenAfterGroup.forEach(function(y){return u(y)}))}(e)}},n.prototype.getExistingPathForNode=function(e,o){for(var u=[],c=this.usingTreeData?e:e.parent;c&&c!==o.rootNode;)u.push({key:c.key,rowGroupColumn:c.rowGroupColumn,field:c.field}),c=c.parent;return u.reverse(),u},n.prototype.moveNodesInWrongPath=function(e,o,u){var c=this;e.forEach(function(m){o.changedPath.isActive()&&o.changedPath.addParentNode(m.parent);var y=function(P){return P.key},w=c.getExistingPathForNode(m,o).map(y),D=c.getGroupInfo(m,o).map(y);E._.areEqual(w,D)||c.moveNode(m,o,u)})},n.prototype.moveNode=function(e,o,u){this.removeNodesInStages([e],o,u),this.insertOneNode(e,o,!0),e.setData(e.data),o.changedPath.isActive()&&o.changedPath.addParentNode(e.parent)},n.prototype.removeNodes=function(e,o,u){this.removeNodesInStages(e,o,u),o.changedPath.isActive()&&e.forEach(function(c){return o.changedPath.addParentNode(c.parent)})},n.prototype.removeNodesInStages=function(e,o,u){if(this.removeNodesFromParents(e,o,u),this.usingTreeData){this.postRemoveCreateFillerNodes(e,o);var c=e.map(function(m){return m.parent});this.removeEmptyGroups(c,o)}},n.prototype.forEachParentGroup=function(e,o,u){for(var c=o;c&&c!==e.rootNode;)u(c),c=c.parent},n.prototype.removeNodesFromParents=function(e,o,u){var c=this,m=null==u,y=u||new Sm;e.forEach(function(w){c.removeFromParent(w,y),c.forEachParentGroup(o,w.parent,function(D){y.removeFromAllLeafChildren(D,w)})}),m&&y.flush()},n.prototype.postRemoveCreateFillerNodes=function(e,o){var u=this;e.forEach(function(c){if(c.hasChildren()){var y=u.getExistingPathForNode(c,o),w=u.findParentForNode(c,y,o);w.expanded=c.expanded,w.allLeafChildren=c.allLeafChildren,w.childrenAfterGroup=c.childrenAfterGroup,w.childrenMapped=c.childrenMapped,w.updateHasChildren(),w.childrenAfterGroup.forEach(function(D){return D.parent=w})}})},n.prototype.removeEmptyGroups=function(e,o){for(var u=this,c=!0,y=function(){c=!1;var w=new Sm;e.forEach(function(D){u.forEachParentGroup(o,D,function(x){(function(w){var D=u.getChildrenMappedKey(w.key,w.rowGroupColumn),x=w.parent;return!!(x&&x.childrenMapped&&x.childrenMapped[D]&&w.isEmptyRowGroupNode())})(x)&&(c=!0,u.removeFromParent(x,w),x.setSelected(!1))})}),w.flush()};c;)y()},n.prototype.removeFromParent=function(e,o){e.parent&&(o?o.removeFromChildrenAfterGroup(e.parent,e):(E._.removeFromArray(e.parent.childrenAfterGroup,e),e.parent.updateHasChildren()));var u=this.getChildrenMappedKey(e.key,e.rowGroupColumn);e.parent&&e.parent.childrenMapped&&(e.parent.childrenMapped[u]=void 0),e.setRowTop(null),e.setRowIndex(null)},n.prototype.addToParent=function(e,o){var u=this.getChildrenMappedKey(e.key,e.rowGroupColumn);o&&(null!=o.childrenMapped&&(o.childrenMapped[u]=e),o.childrenAfterGroup.push(e),o.updateHasChildren())},n.prototype.areGroupColsEqual=function(e,o){return null!=e&&null!=o&&e.pivotMode===o.pivotMode&&E._.areEqual(e.groupedCols,o.groupedCols)},n.prototype.checkAllGroupDataAfterColsChanged=function(e){var o=this,u=function(c){!c||c.forEach(function(m){!o.usingTreeData&&!m.group||(o.setGroupData(m,{field:m.field,key:m.key,rowGroupColumn:m.rowGroupColumn}),u(m.childrenAfterGroup))})};u(e.rootNode.childrenAfterGroup)},n.prototype.shotgunResetEverything=function(e,o){if(!this.noChangeInGroupingColumns(e,o)){this.selectionService.removeGroupsFromSelection();var u=e.rootNode;u.leafGroup=!this.usingTreeData&&0===e.groupedCols.length,u.childrenAfterGroup=[],u.childrenMapped={},u.updateHasChildren();var m=u.sibling;m&&(m.childrenAfterGroup=u.childrenAfterGroup,m.childrenMapped=u.childrenMapped),this.insertNodes(u.allLeafChildren,e,!1)}},n.prototype.noChangeInGroupingColumns=function(e,o){var u=!1,c=this.columnModel.getGroupDisplayColumns(),m=c?c.map(function(y){return y.getId()}).join("-"):"";return o&&(u=this.usingTreeData||this.areGroupColsEqual(e,this.oldGroupingDetails),this.oldGroupDisplayColIds!==m&&this.checkAllGroupDataAfterColsChanged(e)),this.oldGroupingDetails=e,this.oldGroupDisplayColIds=m,u},n.prototype.insertNodes=function(e,o,u){var c=this;e.forEach(function(m){c.insertOneNode(m,o,u),o.changedPath.isActive()&&o.changedPath.addParentNode(m.parent)})},n.prototype.insertOneNode=function(e,o,u){var c=this.getGroupInfo(e,o),m=this.findParentForNode(e,c,o);m.group||console.warn("AG Grid: duplicate group keys for row data, keys should be unique",[m.data,e.data]),this.usingTreeData?this.swapGroupWithUserNode(m,e,u):(e.parent=m,e.level=c.length,m.childrenAfterGroup.push(e),m.updateHasChildren())},n.prototype.findParentForNode=function(e,o,u){var c=this,m=u.rootNode;return o.forEach(function(y,w){(m=c.getOrCreateNextNode(m,y,w,u)).allLeafChildren.push(e)}),m},n.prototype.swapGroupWithUserNode=function(e,o,u){o.parent=e.parent,o.key=e.key,o.field=e.field,o.groupData=e.groupData,o.level=e.level,u||(o.expanded=e.expanded),o.leafGroup=e.leafGroup,o.rowGroupIndex=e.rowGroupIndex,o.allLeafChildren=e.allLeafChildren,o.childrenAfterGroup=e.childrenAfterGroup,o.childrenMapped=e.childrenMapped,o.updateHasChildren(),this.removeFromParent(e),o.childrenAfterGroup.forEach(function(c){return c.parent=o}),this.addToParent(o,e.parent)},n.prototype.getOrCreateNextNode=function(e,o,u,c){var m=this.getChildrenMappedKey(o.key,o.rowGroupColumn),y=e.childrenMapped?e.childrenMapped[m]:void 0;return y||(y=this.createGroup(o,e,u,c),this.addToParent(y,e)),y},n.prototype.createGroup=function(e,o,u,c){var m=new E.RowNode(this.beans);return m.group=!0,m.field=e.field,m.rowGroupColumn=e.rowGroupColumn,this.setGroupData(m,e),m.id=E.RowNode.ID_PREFIX_ROW_GROUP+this.groupIdSequence.next(),m.key=e.key,m.level=u,m.leafGroup=!this.usingTreeData&&u===c.groupedColCount-1,m.allLeafChildren=[],m.setAllChildrenCount(0),m.rowGroupIndex=this.usingTreeData?null:u,m.childrenAfterGroup=[],m.childrenMapped={},m.updateHasChildren(),m.parent=c.includeParents?o:null,this.setExpandedInitialValue(c,m),m},n.prototype.setGroupData=function(e,o){var u=this;e.groupData={},this.columnModel.getGroupDisplayColumns().forEach(function(m){(u.usingTreeData||e.rowGroupColumn&&m.isRowGroupDisplayed(e.rowGroupColumn.getId()))&&(e.groupData[m.getColId()]=o.key)})},n.prototype.getChildrenMappedKey=function(e,o){return o?o.getId()+"-"+e:e},n.prototype.setExpandedInitialValue=function(e,o){if(e.pivotMode&&o.leafGroup)o.expanded=!1;else{var u=this.gridOptionsWrapper.getIsGroupOpenByDefaultFunc();o.expanded=u?1==u({rowNode:o,field:o.field,key:o.key,level:o.level,rowGroupColumn:o.rowGroupColumn}):-1===e.expandByDefault||o.level<e.expandByDefault}},n.prototype.getGroupInfo=function(e,o){return this.usingTreeData?this.getGroupInfoFromCallback(e):this.getGroupInfoFromGroupColumns(e,o)},n.prototype.getGroupInfoFromCallback=function(e){var o=this.getDataPath?this.getDataPath(e.data):null;return(null==o||0===o.length)&&E._.doOnce(function(){return console.warn("AG Grid: getDataPath() should not return an empty path for data",e.data)},"groupStage.getGroupInfoFromCallback"),o?o.map(function(c){return{key:c,field:null,rowGroupColumn:null}}):[]},n.prototype.getGroupInfoFromGroupColumns=function(e,o){var u=this,c=[];return o.groupedCols.forEach(function(m){var y=u.valueService.getKeyForNode(m,e),w=null!=y;if(o.pivotMode&&!w&&(y=" ",w=!0),w){var D={key:y,field:m.getColDef().field,rowGroupColumn:m};c.push(D)}}),c},bl([E.Autowired("columnModel")],n.prototype,"columnModel",void 0),bl([E.Autowired("selectableService")],n.prototype,"selectableService",void 0),bl([E.Autowired("valueService")],n.prototype,"valueService",void 0),bl([E.Autowired("beans")],n.prototype,"beans",void 0),bl([E.Autowired("selectionService")],n.prototype,"selectionService",void 0),bl([E.PostConstruct],n.prototype,"postConstruct",null),bl([E.Bean("groupStage")],n)}(E.BeanStub),Em=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Aw=function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);return u>3&&c&&Object.defineProperty(n,e,c),c},kh=function(h,n){var e="function"==typeof Symbol&&h[Symbol.iterator];if(!e)return h;var u,m,o=e.call(h),c=[];try{for(;(void 0===n||n-- >0)&&!(u=o.next()).done;)c.push(u.value)}catch(y){m={error:y}}finally{try{u&&!u.done&&(e=o.return)&&e.call(o)}finally{if(m)throw m.error}}return c},$e=function(){for(var h=[],n=0;n<arguments.length;n++)h=h.concat(kh(arguments[n]));return h},hi=function(h){function n(){return null!==h&&h.apply(this,arguments)||this}var e;return Em(n,h),e=n,n.prototype.createPivotColumnDefs=function(o){var u=[],c=[],m=this.columnModel.getPivotColumns(),y=this.columnModel.getValueColumns(),w=m.length,D=new E.NumberSequence;return this.recursivelyAddGroup(u,c,1,o,[],D,w,m),this.addRowGroupTotals(u,c,y,D),this.addExpandablePivotGroups(u,c,D),this.addPivotTotalsToGroups(u,c,D),{pivotColumnGroupDefs:u,pivotColumnDefs:c.map(function(P){return E._.cloneObject(P)})}},n.prototype.recursivelyAddGroup=function(o,u,c,m,y,w,D,x){var P=this;E._.iterateObject(m,function(V,z){var Y=$e(y,[V]);if(c!==D){var q={children:[],headerName:V,pivotKeys:Y,columnGroupShow:"open",groupId:"pivot"+w.next()};o.push(q),P.recursivelyAddGroup(q.children,u,c+1,z,Y,w,D,x)}else{var ie=P.columnModel.getValueColumns(),ce={children:[],headerName:V,pivotKeys:Y,columnGroupShow:"open",groupId:"pivot"+w.next()};if(0===ie.length){var se=P.createColDef(null,"-",Y,w);ce.children.push(se),u.push(se)}else ie.forEach(function(ue){var fe=P.columnModel.getDisplayNameForColumn(ue,"header"),ye=P.createColDef(ue,fe,Y,w);ye.columnGroupShow="open",ce.children.push(ye),u.push(ye)});o.push(ce)}});var R=x[c-1].getColDef(),N=this.headerNameComparator.bind(this,R.pivotComparator);o.sort(N)},n.prototype.addExpandablePivotGroups=function(o,u,c){var m=this;if(!this.gridOptionsWrapper.isSuppressExpandablePivotGroups()&&!this.gridOptionsWrapper.getPivotColumnGroupTotals()){var y=function(w,D,x,P){var R=w;if(R.children){var I=new Map;R.children.forEach(function(X){y(X,D,x,I)});var N=!R.children.some(function(X){return X.children});m.columnModel.getValueColumns().forEach(function(X){var q=m.columnModel.getDisplayNameForColumn(X,"header"),ie=m.createColDef(X,q,w.pivotKeys,x);ie.pivotTotalColumnIds=I.get(X.getColId()),ie.columnGroupShow="closed",ie.aggFunc=X.getAggFunc(),N||(w.children.push(ie),D.push(ie))}),m.merge(P,I)}else{var V=w;if(!V.pivotValueColumn)return;var z=V.pivotValueColumn.getColId(),Y=P.has(z)?P.get(z):[];Y.push(V.colId),P.set(z,Y)}};o.forEach(function(w){y(w,u,c,new Map)})}},n.prototype.addPivotTotalsToGroups=function(o,u,c){var m=this;if(this.gridOptionsWrapper.getPivotColumnGroupTotals()){var y="after"===this.gridOptionsWrapper.getPivotColumnGroupTotals(),w=this.columnModel.getValueColumns(),D=w.map(function(P){return P.getAggFunc()});if(D&&!(D.length<1)&&this.sameAggFuncs(D)){var x=w[0];o.forEach(function(P){m.recursivelyAddPivotTotal(P,u,c,x,y)})}}},n.prototype.recursivelyAddPivotTotal=function(o,u,c,m,y){var w=this,D=o;if(!D.children)return o.colId?[o.colId]:null;var P=[];if(D.children.forEach(function(z){var Y=w.recursivelyAddPivotTotal(z,u,c,m,y);Y&&(P=P.concat(Y))}),D.children.length>1){var I=this.gridOptionsWrapper.getLocaleTextFunc()("pivotColumnGroupTotals","Total"),N=this.createColDef(m,I,o.pivotKeys,c);N.pivotTotalColumnIds=P,N.aggFunc=m.getAggFunc();var V=o.children;y?V.push(N):V.unshift(N),u.push(N)}return P},n.prototype.addRowGroupTotals=function(o,u,c,m){var y=this;if(this.gridOptionsWrapper.getPivotRowTotals())for(var w="after"===this.gridOptionsWrapper.getPivotRowTotals(),D=w?c.slice():c.slice().reverse(),x=function(I){var N=D[I],V=[];o.forEach(function(z){V=V.concat(y.extractColIdsForValueColumn(z,N))}),P.createRowGroupTotal(o,u,[],m,N,V,w)},P=this,R=0;R<D.length;R++)x(R)},n.prototype.extractColIdsForValueColumn=function(o,u){var c=this;if(!o.children)return o.pivotValueColumn===u&&o.colId?[o.colId]:[];var w=[];return o.children.forEach(function(D){c.extractColIdsForValueColumn(D,u);var x=c.extractColIdsForValueColumn(D,u);w=w.concat(x)}),w},n.prototype.createRowGroupTotal=function(o,u,c,m,y,w,D){var x=c.slice(0),P=this.columnModel.getValueColumns(),R={children:[],pivotKeys:x,groupId:e.PIVOT_ROW_TOTAL_PREFIX+m.next()};if(0===P.length){var I=this.createColDef(null,"-",x,m);R.children.push(I),u.push(I)}else{var N=this.columnModel.getDisplayNameForColumn(y,"header");(I=this.createColDef(y,N,x,m)).pivotTotalColumnIds=w,R.children.push(I),u.push(I)}D?o.push(R):o.unshift(R)},n.prototype.createColDef=function(o,u,c,m){var y={};if(o){var w=o.getColDef();Object.assign(y,w),y.hide=!1}return y.headerName=u,y.colId="pivot_"+m.next(),y.field=y.colId,y.pivotKeys=c,y.pivotValueColumn=o,y.filter=!1,y},n.prototype.sameAggFuncs=function(o){if(1==o.length)return!0;for(var u=1;u<o.length;u++)if(o[u]!==o[0])return!1;return!0},n.prototype.headerNameComparator=function(o,u,c){return o?o(u.headerName,c.headerName):u.headerName&&!c.headerName?1:!u.headerName&&c.headerName?-1:u.headerName&&c.headerName?u.headerName<c.headerName?-1:u.headerName>c.headerName?1:0:0},n.prototype.merge=function(o,u){u.forEach(function(c,m,y){var w=o.has(m)?o.get(m):[],D=$e(w,c);o.set(m,D)})},n.PIVOT_ROW_TOTAL_PREFIX="PivotRowTotal_",Aw([E.Autowired("columnModel")],n.prototype,"columnModel",void 0),e=Aw([E.Bean("pivotColDefService")],n)}(E.BeanStub),tt=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),$=function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);return u>3&&c&&Object.defineProperty(n,e,c),c},tn=function(h){function n(){var e=null!==h&&h.apply(this,arguments)||this;return e.uniqueValues={},e}return tt(n,h),n.prototype.execute=function(e){var o=e.rowNode,u=e.changedPath;this.columnModel.isPivotActive()?this.executePivotOn(o,u):this.executePivotOff(u)},n.prototype.executePivotOff=function(e){this.aggregationColumnsHashLastTime=null,this.uniqueValues={},this.columnModel.isSecondaryColumnsPresent()&&(this.columnModel.setSecondaryColumns(null,"rowModelUpdated"),e&&e.setInactive())},n.prototype.executePivotOn=function(e,o){var u=this.bucketUpRowNodes(e),c=this.setUniqueValues(u),m=this.columnModel.getValueColumns(),y=m.map(function(N){return N.getId()+"-"+N.getColDef().headerName}).join("#"),w=m.map(function(N){return N.getAggFunc().toString()}).join("#"),D=this.aggregationColumnsHashLastTime!==y,x=this.aggregationFuncsHashLastTime!==w;if(this.aggregationColumnsHashLastTime=y,this.aggregationFuncsHashLastTime=w,c||D||x){var P=this.pivotColDefService.createPivotColumnDefs(this.uniqueValues),R=P.pivotColumnGroupDefs;this.pivotColumnDefs=P.pivotColumnDefs,this.columnModel.setSecondaryColumns(R,"rowModelUpdated"),o&&o.setInactive()}},n.prototype.setUniqueValues=function(e){return!(JSON.stringify(e)===JSON.stringify(this.uniqueValues)||(this.uniqueValues=e,0))},n.prototype.bucketUpRowNodes=function(e){var o=this,u={},c=function(m){m.leafGroup?o.bucketRowNode(m,u):m.childrenAfterFilter.forEach(function(y){c(y)})};return c(e),u},n.prototype.bucketRowNode=function(e,o){var u=this.columnModel.getPivotColumns();e.childrenMapped=0===u.length?null:this.bucketChildren(e.childrenAfterFilter,u,0,o),e.sibling&&(e.sibling.childrenMapped=e.childrenMapped)},n.prototype.bucketChildren=function(e,o,u,c){var m=this,y={},w=o[u];if(e.forEach(function(x){var P=m.valueService.getKeyForNode(w,x);E._.missing(P)&&(P=""),c[P]||(c[P]={}),y[P]||(y[P]=[]),y[P].push(x)}),u===o.length-1)return y;var D={};return E._.iterateObject(y,function(x,P){D[x]=m.bucketChildren(P,o,u+1,c[x])}),D},n.prototype.getPivotColumnDefs=function(){return this.pivotColumnDefs},$([E.Autowired("valueService")],n.prototype,"valueService",void 0),$([E.Autowired("columnModel")],n.prototype,"columnModel",void 0),$([E.Autowired("pivotColDefService")],n.prototype,"pivotColDefService",void 0),$([E.Bean("pivotStage")],n)}(E.BeanStub),T_=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),bi=function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);return u>3&&c&&Object.defineProperty(n,e,c),c},wi="undefined"==typeof BigInt?null:BigInt,Tw=function(h){function n(){var o=null!==h&&h.apply(this,arguments)||this;return o.aggFuncsMap={},o.initialised=!1,o}var e;return T_(n,h),e=n,n.prototype.init=function(){this.initialised||(this.initialiseWithDefaultAggregations(),this.addAggFuncs(this.gridOptionsWrapper.getAggFuncs()))},n.prototype.initialiseWithDefaultAggregations=function(){this.aggFuncsMap[e.AGG_SUM]=Gh,this.aggFuncsMap[e.AGG_FIRST]=wl,this.aggFuncsMap[e.AGG_LAST]=me,this.aggFuncsMap[e.AGG_MIN]=Vt,this.aggFuncsMap[e.AGG_MAX]=Yd,this.aggFuncsMap[e.AGG_COUNT]=Dm,this.aggFuncsMap[e.AGG_AVG]=pn,this.initialised=!0},n.prototype.getDefaultAggFunc=function(o){var u=this.getFuncNames(o),c=E._.includes(u,e.AGG_SUM),m=E._.exists(this.aggFuncsMap[e.AGG_SUM]);return c&&m?e.AGG_SUM:E._.existsAndNotEmpty(u)?u[0]:null},n.prototype.addAggFuncs=function(o){E._.iterateObject(o,this.addAggFunc.bind(this))},n.prototype.addAggFunc=function(o,u){this.init(),this.aggFuncsMap[o]=u},n.prototype.getAggFunc=function(o){return this.init(),this.aggFuncsMap[o]},n.prototype.getFuncNames=function(o){var u=o.getColDef().allowedAggFuncs;return null==u?Object.keys(this.aggFuncsMap).sort():u},n.prototype.clear=function(){this.aggFuncsMap={}},n.AGG_SUM="sum",n.AGG_FIRST="first",n.AGG_LAST="last",n.AGG_MIN="min",n.AGG_MAX="max",n.AGG_COUNT="count",n.AGG_AVG="avg",bi([E.PostConstruct],n.prototype,"init",null),e=bi([E.Bean("aggFuncService")],n)}(E.BeanStub);function Gh(h){for(var n=h.values,e=null,o=0;o<n.length;o++){var u=n[o];"number"==typeof u?null===e?e=u:e+=wi?"number"==typeof e?u:wi(u):u:"bigint"==typeof u&&(e=null===e?u:("bigint"==typeof e?e:wi(e))+u)}return e}function wl(h){return h.values.length>0?h.values[0]:null}function me(h){return h.values.length>0?E._.last(h.values):null}function Vt(h){for(var n=h.values,e=null,o=0;o<n.length;o++){var u=n[o];("number"==typeof u||"bigint"==typeof u)&&(null===e||e>u)&&(e=u)}return e}function Yd(h){for(var n=h.values,e=null,o=0;o<n.length;o++){var u=n[o];("number"==typeof u||"bigint"==typeof u)&&(null===e||e<u)&&(e=u)}return e}function Dm(h){for(var n=h.values,e=0,o=0;o<n.length;o++){var u=n[o];e+=null!=u&&"number"==typeof u.value?u.value:1}return{value:e,toString:function(){return this.value.toString()},toNumber:function(){return this.value}}}function pn(h){for(var n=h.values,e=0,o=0,u=0;u<n.length;u++){var c=n[u],m=null;"number"==typeof c||"bigint"==typeof c?(m=c,o++):null!=c&&("number"==typeof c.value||"bigint"==typeof c.value)&&"number"==typeof c.count&&(m=wi?c.value*("number"==typeof c.value?c.count:wi(c.count)):c.value*c.count,o+=c.count),"number"==typeof m?e+=wi?"number"==typeof e?m:wi(m):m:"bigint"==typeof m&&(e=("bigint"==typeof e?e:wi(e))+m)}var y=null;return o>0&&(y=wi?e/("number"==typeof e?o:wi(o)):e/o),{count:o,value:y,toString:function(){return"number"==typeof this.value||"bigint"==typeof this.value?this.value.toString():""},toNumber:function(){return this.value}}}var Qn,Cu,sp,Rc,lp,bu,up,qh,Wm,Vh=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),wa=function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);return u>3&&c&&Object.defineProperty(n,e,c),c},Rn=function(h){function n(e,o,u,c,m){var y=h.call(this)||this;return y.column=e,y.dragSourceDropTarget=o,y.ghost=u,y.valueColumn=c,y.horizontal=m,y.popupShowing=!1,y}return Vh(n,h),n.prototype.init=function(){this.setTemplate(n.TEMPLATE);var e=this.getGui(),o=this.gridOptionsWrapper.isFunctionsReadOnly();this.addElementClasses(e),this.addElementClasses(this.eDragHandle,"drag-handle"),this.addElementClasses(this.eText,"text"),this.addElementClasses(this.eButton,"button"),this.eDragHandle.appendChild(E._.createIconNoSpan("columnDrag",this.gridOptionsWrapper)),this.eButton.appendChild(E._.createIconNoSpan("cancel",this.gridOptionsWrapper)),this.displayName=this.columnModel.getDisplayNameForColumn(this.column,"columnDrop"),this.setupComponents(),!this.ghost&&!o&&this.addDragSource();var u=this.gridOptionsWrapper.getLocaleTextFunc(),c=u("ariaDropZoneColumnComponentDescription","Press DELETE to remove"),m=this.getColumnAndAggFuncName(),y=m.name,w=m.aggFuncName,D="";this.valueColumn&&!o&&(D=u("ariaDropZoneColumnValueItemDescription","Press ENTER to change the aggregation type")),E._.setAriaLabel(e,w+" "+y+" "+c+" "+D),this.setupTooltip()},n.prototype.setupTooltip=function(){var e=this,o=function(){var u=e.column.getColDef().headerTooltip;e.setTooltip(u)};o(),this.addManagedListener(this.eventService,E.Events.EVENT_NEW_COLUMNS_LOADED,o)},n.prototype.addDragSource=function(){var e=this,o={type:E.DragSourceType.ToolPanel,eElement:this.eDragHandle,defaultIconName:E.DragAndDropService.ICON_HIDE,getDragItem:function(){return e.createDragItem()},dragItemName:this.displayName,dragSourceDropTarget:this.dragSourceDropTarget};this.dragAndDropService.addDragSource(o,!0),this.addDestroyFunc(function(){return e.dragAndDropService.removeDragSource(o)})},n.prototype.createDragItem=function(){var e={};return e[this.column.getId()]=this.column.isVisible(),{columns:[this.column],visibleState:e}},n.prototype.setupComponents=function(){this.setTextValue(),this.setupRemove(),this.ghost&&this.addCssClass("ag-column-drop-cell-ghost"),this.valueColumn&&!this.gridOptionsWrapper.isFunctionsReadOnly()&&this.addGuiEventListener("click",this.onShowAggFuncSelection.bind(this))},n.prototype.setupRemove=function(){var e=this;E._.setDisplayed(this.eButton,!this.gridOptionsWrapper.isFunctionsReadOnly());var o={type:n.EVENT_COLUMN_REMOVE};this.addGuiEventListener("keydown",function(c){var m=c.key===E.KeyCode.ENTER;c.key===E.KeyCode.DELETE&&(c.preventDefault(),e.dispatchEvent(o)),m&&e.valueColumn&&!e.gridOptionsWrapper.isFunctionsReadOnly()&&(c.preventDefault(),e.onShowAggFuncSelection())}),this.addManagedListener(this.eButton,"click",function(c){e.dispatchEvent(o),c.stopPropagation()});var u=new E.TouchListener(this.eButton);this.addManagedListener(u,E.TouchListener.EVENT_TAP,function(){e.dispatchEvent(o)}),this.addDestroyFunc(u.destroy.bind(u))},n.prototype.getColumnAndAggFuncName=function(){var e=this.displayName,o="";if(this.valueColumn){var u=this.column.getAggFunc(),c="string"==typeof u?u:"agg";o=this.gridOptionsWrapper.getLocaleTextFunc()(c,c)}return{name:e,aggFuncName:o}},n.prototype.setTextValue=function(){var e=this.getColumnAndAggFuncName(),o=e.name,m=E._.escapeString(this.valueColumn?e.aggFuncName+"("+o+")":o);this.eText.innerHTML=m},n.prototype.onShowAggFuncSelection=function(){var e=this;if(!this.popupShowing){this.popupShowing=!0;var o=new E.VirtualList("select-agg-func"),u=this.aggFuncService.getFuncNames(this.column),c=this.getGui(),m=o.getGui();o.setModel({getRow:function(R){return u[R]},getRowCount:function(){return u.length}}),this.getContext().createBean(o);var y=E._.loadTemplate('<div class="ag-select-agg-func-popup"></div>');y.style.top="0px",y.style.left="0px",y.appendChild(m),y.style.width=c.clientWidth+"px";var D=this.gridOptionsWrapper.getLocaleTextFunc(),x=this.popupService.addPopup({modal:!0,eChild:y,closeOnEsc:!0,closedCallback:function(){e.destroyBean(o),e.popupShowing=!1,c.focus()},ariaLabel:D("ariaLabelAggregationFunction","Aggregation Function")});x&&o.setComponentCreator(this.createAggSelect.bind(this,x.hideFunc)),o.addGuiEventListener("keydown",function(R){if(R.key===E.KeyCode.ENTER||R.key===E.KeyCode.SPACE){var I=o.getLastFocusedRow();if(null==I)return;var N=o.getComponentAt(I);N&&N.selectItem()}}),this.popupService.positionPopupUnderComponent({type:"aggFuncSelect",eventSource:c,ePopup:y,keepWithinBounds:!0,column:this.column}),o.refresh();var P=u.findIndex(function(R){return R===e.column.getAggFunc()});-1===P&&(P=0),o.focusRow(P)}},n.prototype.createAggSelect=function(e,o){var u=this,m=this.gridOptionsWrapper.getLocaleTextFunc(),y=o.toString(),w=m(y,y);return new hu(function(){e(),u.gridOptionsWrapper.isFunctionsPassive()?u.eventService.dispatchEvent({type:E.Events.EVENT_COLUMN_AGG_FUNC_CHANGE_REQUEST,columns:[u.column],aggFunc:o,api:u.gridApi,columnApi:u.columnApi}):u.columnModel.setColumnAggFunc(u.column,o,"toolPanelDragAndDrop")},w)},n.prototype.addElementClasses=function(e,o){e.classList.add("ag-column-drop-cell"+(o=o?"-"+o:""),"ag-column-drop-"+(this.horizontal?"horizontal":"vertical")+"-cell"+o)},n.EVENT_COLUMN_REMOVE="columnRemove",n.TEMPLATE='<span role="option" tabindex="0">\n          <span ref="eDragHandle" class="ag-drag-handle ag-column-drop-cell-drag-handle" role="presentation"></span>\n          <span ref="eText" class="ag-column-drop-cell-text" aria-hidden="true"></span>\n          <span ref="eButton" class="ag-column-drop-cell-button" role="presentation"></span>\n        </span>',wa([E.Autowired("dragAndDropService")],n.prototype,"dragAndDropService",void 0),wa([E.Autowired("columnModel")],n.prototype,"columnModel",void 0),wa([E.Autowired("popupService")],n.prototype,"popupService",void 0),wa([E.Optional("aggFuncService")],n.prototype,"aggFuncService",void 0),wa([E.Autowired("columnApi")],n.prototype,"columnApi",void 0),wa([E.Autowired("gridApi")],n.prototype,"gridApi",void 0),wa([E.RefSelector("eText")],n.prototype,"eText",void 0),wa([E.RefSelector("eDragHandle")],n.prototype,"eDragHandle",void 0),wa([E.RefSelector("eButton")],n.prototype,"eButton",void 0),wa([E.PostConstruct],n.prototype,"init",null),n}(E.Component),hu=function(h){function n(e,o){var u=h.call(this,'<div class="ag-select-agg-func-item"/>')||this;return u.selectItem=e,u.getGui().innerText=o,u.addGuiEventListener("click",u.selectItem),u}return Vh(n,h),n}(E.Component),R_=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),qd=function(h){function n(e,o){var u=h.call(this,'<div class="ag-unselectable" aria-role="presentation"></div>')||this;return u.horizontal=e,u.valueColumn=o,u.state=n.STATE_NOT_DRAGGING,u.guiDestroyFunctions=[],u.childColumnComponents=[],u.resizeEnabled=!1,u.addElementClasses(u.getGui()),u.eColumnDropList=document.createElement("div"),u.addElementClasses(u.eColumnDropList,"list"),E._.setAriaRole(u.eColumnDropList,"listbox"),u}return R_(n,h),n.prototype.isHorizontal=function(){return this.horizontal},n.prototype.toggleResizable=function(e){this.positionableFeature.setResizable(!!e&&{bottom:!0}),this.resizeEnabled=e},n.prototype.setBeans=function(e){this.beans=e},n.prototype.destroy=function(){this.destroyGui(),h.prototype.destroy.call(this)},n.prototype.destroyGui=function(){this.guiDestroyFunctions.forEach(function(e){return e()}),this.guiDestroyFunctions.length=0,this.childColumnComponents.length=0,E._.clearElement(this.getGui()),E._.clearElement(this.eColumnDropList)},n.prototype.init=function(e){this.params=e,this.createManagedBean(new E.ManagedFocusFeature(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.addManagedListener(this.beans.eventService,E.Events.EVENT_NEW_COLUMNS_LOADED,this.refreshGui.bind(this)),this.addManagedListener(this.beans.gridOptionsWrapper,"functionsReadOnly",this.refreshGui.bind(this)),this.setupDropTarget(),this.positionableFeature=new E.PositionableFeature(this.getGui(),{minHeight:100}),this.createManagedBean(this.positionableFeature),this.refreshGui(),E._.setAriaLabel(this.eColumnDropList,this.getAriaLabel())},n.prototype.handleKeyDown=function(e){var u=e.key===E.KeyCode.DOWN,c=e.key===E.KeyCode.UP;if(this.horizontal){var m=this.gridOptionsWrapper.isEnableRtl();u=!m&&e.key===E.KeyCode.RIGHT||m&&e.key===E.KeyCode.LEFT,c=!m&&e.key===E.KeyCode.LEFT||m&&e.key===E.KeyCode.RIGHT}if(u||c){var y=this.focusService.findNextFocusableElement(this.getFocusableElement(),!1,c);y&&(e.preventDefault(),y.focus())}},n.prototype.addElementClasses=function(e,o){e.classList.add("ag-column-drop"+(o=o?"-"+o:""),"ag-column-drop-"+(this.horizontal?"horizontal":"vertical")+o)},n.prototype.setupDropTarget=function(){this.dropTarget={getContainer:this.getGui.bind(this),getIconName:this.getIconName.bind(this),onDragging:this.onDragging.bind(this),onDragEnter:this.onDragEnter.bind(this),onDragLeave:this.onDragLeave.bind(this),onDragStop:this.onDragStop.bind(this),isInterestedIn:this.isInterestedIn.bind(this)},this.beans.dragAndDropService.addDropTarget(this.dropTarget)},n.prototype.isInterestedIn=function(e){return e===E.DragSourceType.HeaderCell||e===E.DragSourceType.ToolPanel},n.prototype.checkInsertIndex=function(e){var o=this.horizontal?this.getNewHorizontalInsertIndex(e):this.getNewVerticalInsertIndex(e);if(o<0)return!1;var u=o!==this.insertIndex;return u&&(this.insertIndex=o),u},n.prototype.getNewHorizontalInsertIndex=function(e){if(E._.missing(e.hDirection))return-1;var o=0,u=e.event,c=this.beans.gridOptionsWrapper.isEnableRtl(),m=e.hDirection===E.HorizontalDirection.Left,y=u.clientX;return this.childColumnComponents.forEach(function(w){var D=w.getGui().getBoundingClientRect(),x=m?D.right:D.left;(c?y<=x:y>=x)&&o++}),o},n.prototype.getNewVerticalInsertIndex=function(e){if(E._.missing(e.vDirection))return-1;var o=0,u=e.event;return this.childColumnComponents.forEach(function(c){var m=c.getGui().getBoundingClientRect();u.clientY>=(e.vDirection===E.VerticalDirection.Down?m.top:m.bottom)&&o++}),o},n.prototype.checkDragStartedBySelf=function(e){this.state===n.STATE_NOT_DRAGGING&&(this.state=n.STATE_REARRANGE_COLUMNS,this.potentialDndColumns=e.dragSource.getDragItem().columns||[],this.refreshGui(),this.checkInsertIndex(e),this.refreshGui())},n.prototype.onDragging=function(e){this.checkDragStartedBySelf(e),this.checkInsertIndex(e)&&this.refreshGui()},n.prototype.onDragEnter=function(e){var o=e.dragSource.getDragItem().columns||[];this.state=n.STATE_NEW_COLUMNS_IN;var u=o.filter(this.isColumnDroppable.bind(this));u.length>0&&(this.potentialDndColumns=u,this.checkInsertIndex(e),this.refreshGui())},n.prototype.isPotentialDndColumns=function(){return E._.existsAndNotEmpty(this.potentialDndColumns)},n.prototype.onDragLeave=function(e){if(this.state===n.STATE_REARRANGE_COLUMNS){var o=e.dragSource.getDragItem().columns||[];this.removeColumns(o)}this.isPotentialDndColumns()&&(this.potentialDndColumns=[],this.refreshGui()),this.state=n.STATE_NOT_DRAGGING},n.prototype.onDragStop=function(){if(this.isPotentialDndColumns()){var e=!1;this.state===n.STATE_NEW_COLUMNS_IN?(this.addColumns(this.potentialDndColumns),e=!0):e=this.rearrangeColumns(this.potentialDndColumns),this.potentialDndColumns=[],(!this.beans.gridOptionsWrapper.isFunctionsPassive()||!e)&&this.refreshGui()}this.state=n.STATE_NOT_DRAGGING},n.prototype.removeColumns=function(e){var o=this.getExistingColumns().filter(function(u){return!E._.includes(e,u)});this.updateColumns(o)},n.prototype.addColumns=function(e){if(e){var o=this.getExistingColumns().slice(),u=e.filter(function(c){return o.indexOf(c)<0});E._.insertArrayIntoArray(o,u,this.insertIndex),this.updateColumns(o)}},n.prototype.rearrangeColumns=function(e){var o=this.getNonGhostColumns().slice();return E._.insertArrayIntoArray(o,e,this.insertIndex),!E._.areEqual(o,this.getExistingColumns())&&(this.updateColumns(o),!0)},n.prototype.refreshGui=function(){var e=this.eColumnDropList.scrollTop,o=this.resizeEnabled,u=this.getFocusedItem(),c=this.focusService.findNextFocusableElement();c||(c=this.focusService.findNextFocusableElement(void 0,!1,!0)),this.toggleResizable(!1),this.destroyGui(),this.addIconAndTitleToGui(),this.addEmptyMessageToGui(),this.addColumnsToGui(),this.isHorizontal()||(this.eColumnDropList.scrollTop=e),o&&this.toggleResizable(o),this.restoreFocus(u,c)},n.prototype.getFocusedItem=function(){var e=this.getGui(),o=this.gridOptionsWrapper.getDocument().activeElement;return e.contains(o)?Array.from(e.querySelectorAll(".ag-column-drop-cell")).indexOf(o):-1},n.prototype.restoreFocus=function(e,o){var u=this.getGui(),c=Array.from(u.querySelectorAll(".ag-column-drop-cell"));if(-1!==e){0===c.length&&o.focus();var y=c[Math.min(c.length-1,e)];y&&y.focus()}},n.prototype.getNonGhostColumns=function(){var e=this,o=this.getExistingColumns();return this.isPotentialDndColumns()?o.filter(function(u){return!E._.includes(e.potentialDndColumns,u)}):o},n.prototype.addColumnsToGui=function(){var e=this,o=this.getNonGhostColumns(),u=this.isPotentialDndColumns(),c=[];o.forEach(function(m,y){if(!(u&&y>=e.insertIndex)){var w=e.createColumnComponent(m,!1);c.push(w)}}),this.isPotentialDndColumns()&&(this.potentialDndColumns.forEach(function(m){var y=e.createColumnComponent(m,!0);c.push(y)}),o.forEach(function(m,y){if(!(y<e.insertIndex)){var w=e.createColumnComponent(m,!1);c.push(w)}})),this.appendChild(this.eColumnDropList),c.forEach(function(m,y){y>0&&e.addArrow(e.eColumnDropList),e.eColumnDropList.appendChild(m.getGui())}),this.addAriaLabelsToComponents()},n.prototype.addAriaLabelsToComponents=function(){var e=this;this.childColumnComponents.forEach(function(o,u){var c=o.getGui();E._.setAriaPosInSet(c,u+1),E._.setAriaSetSize(c,e.childColumnComponents.length)})},n.prototype.createColumnComponent=function(e,o){var u=this,c=new Rn(e,this.dropTarget,o,this.valueColumn,this.horizontal);return c.addEventListener(Rn.EVENT_COLUMN_REMOVE,this.removeColumns.bind(this,[e])),this.beans.context.createBean(c),this.guiDestroyFunctions.push(function(){return u.destroyBean(c)}),o||this.childColumnComponents.push(c),c},n.prototype.addIconAndTitleToGui=function(){var e=this.params.icon,o=document.createElement("div");if(o.setAttribute("aria-hidden","true"),this.addElementClasses(o,"title-bar"),this.addElementClasses(e,"icon"),this.addOrRemoveCssClass("ag-column-drop-empty",this.isExistingColumnsEmpty()),o.appendChild(e),!this.horizontal){var u=document.createElement("span");this.addElementClasses(u,"title"),u.innerHTML=this.params.title,o.appendChild(u)}this.appendChild(o)},n.prototype.isExistingColumnsEmpty=function(){return 0===this.getExistingColumns().length},n.prototype.addEmptyMessageToGui=function(){if(this.isExistingColumnsEmpty()&&!this.isPotentialDndColumns()){var e=document.createElement("span");e.innerHTML=this.params.emptyMessage,this.addElementClasses(e,"empty-message"),this.eColumnDropList.appendChild(e)}},n.prototype.addArrow=function(e){if(this.horizontal){var o=this.beans.gridOptionsWrapper.isEnableRtl(),u=E._.createIconNoSpan(o?"smallLeft":"smallRight",this.beans.gridOptionsWrapper);this.addElementClasses(u,"cell-separator"),e.appendChild(u)}},n.STATE_NOT_DRAGGING="notDragging",n.STATE_NEW_COLUMNS_IN="newColumnsIn",n.STATE_REARRANGE_COLUMNS="rearrangeColumns",function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);u>3&&c&&Object.defineProperty(n,e,c)}([E.Autowired("focusService")],n.prototype,"focusService",void 0),n}(E.Component),M_=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Pn=function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);return u>3&&c&&Object.defineProperty(n,e,c),c},Xd=function(h){function n(e){return h.call(this,e,!1)||this}return M_(n,h),n.prototype.passBeansUp=function(){h.prototype.setBeans.call(this,{gridOptionsWrapper:this.gridOptionsWrapper,eventService:this.eventService,context:this.getContext(),loggerFactory:this.loggerFactory,dragAndDropService:this.dragAndDropService});var e=this.gridOptionsWrapper.getLocaleTextFunc(),o=e("rowGroupColumnsEmptyMessage","Drag here to set row groups"),u=e("groups","Row Groups");h.prototype.init.call(this,{dragAndDropIcon:E.DragAndDropService.ICON_GROUP,icon:E._.createIconNoSpan("rowGroupPanel",this.gridOptionsWrapper,null),emptyMessage:o,title:u}),this.addManagedListener(this.eventService,E.Events.EVENT_COLUMN_ROW_GROUP_CHANGED,this.refreshGui.bind(this))},n.prototype.getAriaLabel=function(){return this.gridOptionsWrapper.getLocaleTextFunc()("ariaRowGroupDropZonePanelLabel","Row Groups")},n.prototype.getTooltipParams=function(){var e=h.prototype.getTooltipParams.call(this);return e.location="rowGroupColumnsList",e},n.prototype.isColumnDroppable=function(e){return!(this.gridOptionsWrapper.isFunctionsReadOnly()||!e.isPrimary())&&e.isAllowRowGroup()&&!e.isRowGroupActive()},n.prototype.updateColumns=function(e){this.gridOptionsWrapper.isFunctionsPassive()?this.eventService.dispatchEvent({type:E.Events.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST,columns:e,api:this.gridApi,columnApi:this.columnApi}):this.columnModel.setRowGroupColumns(e,"toolPanelUi")},n.prototype.getIconName=function(){return this.isPotentialDndColumns()?E.DragAndDropService.ICON_GROUP:E.DragAndDropService.ICON_NOT_ALLOWED},n.prototype.getExistingColumns=function(){return this.columnModel.getRowGroupColumns()},Pn([E.Autowired("columnModel")],n.prototype,"columnModel",void 0),Pn([E.Autowired("loggerFactory")],n.prototype,"loggerFactory",void 0),Pn([E.Autowired("dragAndDropService")],n.prototype,"dragAndDropService",void 0),Pn([E.Autowired("columnApi")],n.prototype,"columnApi",void 0),Pn([E.Autowired("gridApi")],n.prototype,"gridApi",void 0),Pn([E.PostConstruct],n.prototype,"passBeansUp",null),n}(qd),Bh=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),wc=function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);return u>3&&c&&Object.defineProperty(n,e,c),c},Qd=function(h){function n(e){return h.call(this,e,!1)||this}return Bh(n,h),n.prototype.passBeansUp=function(){h.prototype.setBeans.call(this,{gridOptionsWrapper:this.gridOptionsWrapper,eventService:this.eventService,context:this.getContext(),loggerFactory:this.loggerFactory,dragAndDropService:this.dragAndDropService});var e=this.gridOptionsWrapper.getLocaleTextFunc(),o=e("pivotColumnsEmptyMessage","Drag here to set column labels"),u=e("pivots","Column Labels");h.prototype.init.call(this,{dragAndDropIcon:E.DragAndDropService.ICON_GROUP,icon:E._.createIconNoSpan("pivotPanel",this.gridOptionsWrapper,null),emptyMessage:o,title:u}),this.addManagedListener(this.eventService,E.Events.EVENT_NEW_COLUMNS_LOADED,this.refresh.bind(this)),this.addManagedListener(this.eventService,E.Events.EVENT_COLUMN_PIVOT_CHANGED,this.refresh.bind(this)),this.addManagedListener(this.eventService,E.Events.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.checkVisibility.bind(this)),this.refresh()},n.prototype.getAriaLabel=function(){return this.gridOptionsWrapper.getLocaleTextFunc()("pivotDropZonePanelLabel","Column Labels")},n.prototype.getTooltipParams=function(){var e=h.prototype.getTooltipParams.call(this);return e.location="pivotColumnsList",e},n.prototype.refresh=function(){this.checkVisibility(),this.refreshGui()},n.prototype.checkVisibility=function(){var e=this.columnModel.isPivotMode();if(this.isHorizontal())switch(this.gridOptionsWrapper.getPivotPanelShow()){case"always":this.setDisplayed(e);break;case"onlyWhenPivoting":var o=this.columnModel.isPivotActive();this.setDisplayed(e&&o);break;default:this.setDisplayed(!1)}else this.setDisplayed(e)},n.prototype.isColumnDroppable=function(e){return!(this.gridOptionsWrapper.isFunctionsReadOnly()||!e.isPrimary())&&e.isAllowPivot()&&!e.isPivotActive()},n.prototype.updateColumns=function(e){this.gridOptionsWrapper.isFunctionsPassive()?this.eventService.dispatchEvent({type:E.Events.EVENT_COLUMN_PIVOT_CHANGE_REQUEST,columns:e,api:this.gridApi,columnApi:this.columnApi}):this.columnModel.setPivotColumns(e,"toolPanelUi")},n.prototype.getIconName=function(){return this.isPotentialDndColumns()?E.DragAndDropService.ICON_PIVOT:E.DragAndDropService.ICON_NOT_ALLOWED},n.prototype.getExistingColumns=function(){return this.columnModel.getPivotColumns()},wc([E.Autowired("columnModel")],n.prototype,"columnModel",void 0),wc([E.Autowired("loggerFactory")],n.prototype,"loggerFactory",void 0),wc([E.Autowired("dragAndDropService")],n.prototype,"dragAndDropService",void 0),wc([E.Autowired("columnApi")],n.prototype,"columnApi",void 0),wc([E.Autowired("gridApi")],n.prototype,"gridApi",void 0),wc([E.PostConstruct],n.prototype,"passBeansUp",null),n}(qd),ho=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),F_=function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);return u>3&&c&&Object.defineProperty(n,e,c),c},Om=function(h){function n(){return h.call(this)||this}return ho(n,h),n.prototype.postConstruct=function(){this.setGui(this.createNorthPanel()),this.addManagedListener(this.eventService,E.Events.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,E.Events.EVENT_NEW_COLUMNS_LOADED,this.onRowGroupChanged.bind(this)),this.onRowGroupChanged()},n.prototype.createNorthPanel=function(){var e=document.createElement("div"),o=this.onDropPanelVisible.bind(this);return e.classList.add("ag-column-drop-wrapper"),E._.setAriaRole(e,"presentation"),this.rowGroupComp=new Xd(!0),this.createManagedBean(this.rowGroupComp),this.pivotComp=new Qd(!0),this.createManagedBean(this.pivotComp),e.appendChild(this.rowGroupComp.getGui()),e.appendChild(this.pivotComp.getGui()),this.addManagedListener(this.rowGroupComp,E.Component.EVENT_DISPLAYED_CHANGED,o),this.addManagedListener(this.pivotComp,E.Component.EVENT_DISPLAYED_CHANGED,o),this.onDropPanelVisible(),e},n.prototype.onDropPanelVisible=function(){var e=this.rowGroupComp.isDisplayed()&&this.pivotComp.isDisplayed();this.rowGroupComp.addOrRemoveCssClass("ag-column-drop-horizontal-half-width",e),this.pivotComp.addOrRemoveCssClass("ag-column-drop-horizontal-half-width",e)},n.prototype.onRowGroupChanged=function(){if(this.rowGroupComp){var e=this.gridOptionsWrapper.getRowGroupPanelShow();if(e===E.Constants.ALWAYS)this.rowGroupComp.setDisplayed(!0);else if(e===E.Constants.ONLY_WHEN_GROUPING){var o=!this.columnModel.isRowGroupEmpty();this.rowGroupComp.setDisplayed(o)}else this.rowGroupComp.setDisplayed(!1)}},F_([E.Autowired("columnModel")],n.prototype,"columnModel",void 0),F_([E.PostConstruct],n.prototype,"postConstruct",null),n}(E.Component),Ds={moduleName:E.ModuleNames.RowGroupingModule,beans:[pu,pD,hi,tn,Tw],agStackComponents:[{componentName:"AgGridHeaderDropZones",componentClass:Om}],dependantModules:[ii]},Rw=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Xa=function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);return u>3&&c&&Object.defineProperty(n,e,c),c},xm=function(h){function n(e){return h.call(this,e,!0)||this}return Rw(n,h),n.prototype.passBeansUp=function(){h.prototype.setBeans.call(this,{gridOptionsWrapper:this.gridOptionsWrapper,eventService:this.eventService,context:this.getContext(),loggerFactory:this.loggerFactory,dragAndDropService:this.dragAndDropService});var e=this.gridOptionsWrapper.getLocaleTextFunc(),o=e("valueColumnsEmptyMessage","Drag here to aggregate"),u=e("values","Values");h.prototype.init.call(this,{dragAndDropIcon:E.DragAndDropService.ICON_AGGREGATE,icon:E._.createIconNoSpan("valuePanel",this.gridOptionsWrapper,null),emptyMessage:o,title:u}),this.addManagedListener(this.eventService,E.Events.EVENT_COLUMN_VALUE_CHANGED,this.refreshGui.bind(this))},n.prototype.getAriaLabel=function(){return this.gridOptionsWrapper.getLocaleTextFunc()("ariaPivotDropZonePanelLabel","Values")},n.prototype.getTooltipParams=function(){var e=h.prototype.getTooltipParams.call(this);return e.location="valueColumnsList",e},n.prototype.getIconName=function(){return this.isPotentialDndColumns()?E.DragAndDropService.ICON_AGGREGATE:E.DragAndDropService.ICON_NOT_ALLOWED},n.prototype.isColumnDroppable=function(e){return!(this.gridOptionsWrapper.isFunctionsReadOnly()||!e.isPrimary())&&e.isAllowValue()&&!e.isValueActive()},n.prototype.updateColumns=function(e){this.gridOptionsWrapper.isFunctionsPassive()?this.eventService.dispatchEvent({type:E.Events.EVENT_COLUMN_VALUE_CHANGE_REQUEST,columns:e,api:this.gridApi,columnApi:this.columnApi}):this.columnModel.setValueColumns(e,"toolPanelUi")},n.prototype.getExistingColumns=function(){return this.columnModel.getValueColumns()},Xa([E.Autowired("columnModel")],n.prototype,"columnModel",void 0),Xa([E.Autowired("loggerFactory")],n.prototype,"loggerFactory",void 0),Xa([E.Autowired("dragAndDropService")],n.prototype,"dragAndDropService",void 0),Xa([E.Autowired("columnApi")],n.prototype,"columnApi",void 0),Xa([E.Autowired("gridApi")],n.prototype,"gridApi",void 0),Xa([E.PostConstruct],n.prototype,"passBeansUp",null),n}(qd),Or=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),cr=function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);return u>3&&c&&Object.defineProperty(n,e,c),c},Am=function(h){function n(){return h.call(this,n.TEMPLATE)||this}return Or(n,h),n.prototype.postConstruct=function(){this.initialiseTabGuard({})},n.prototype.init=function(e,o,u){this.allowDragging=e,this.params=o,this.eventType=u,this.primaryColsHeaderPanel.init(this.params),this.params.suppressColumnExpandAll&&this.params.suppressColumnFilter&&this.params.suppressColumnSelectAll&&this.primaryColsHeaderPanel.setDisplayed(!1),this.addManagedListener(this.primaryColsListPanel,"groupExpanded",this.onGroupExpanded.bind(this)),this.addManagedListener(this.primaryColsListPanel,"selectionChanged",this.onSelectionChange.bind(this)),this.primaryColsListPanel.init(this.params,this.allowDragging,this.eventType),this.addManagedListener(this.primaryColsHeaderPanel,"expandAll",this.onExpandAll.bind(this)),this.addManagedListener(this.primaryColsHeaderPanel,"collapseAll",this.onCollapseAll.bind(this)),this.addManagedListener(this.primaryColsHeaderPanel,"selectAll",this.onSelectAll.bind(this)),this.addManagedListener(this.primaryColsHeaderPanel,"unselectAll",this.onUnselectAll.bind(this)),this.addManagedListener(this.primaryColsHeaderPanel,"filterChanged",this.onFilterChanged.bind(this)),this.positionableFeature=new E.PositionableFeature(this.getGui(),{minHeight:100}),this.createManagedBean(this.positionableFeature)},n.prototype.toggleResizable=function(e){this.positionableFeature.setResizable(!!e&&{bottom:!0})},n.prototype.onExpandAll=function(){this.primaryColsListPanel.doSetExpandedAll(!0)},n.prototype.onCollapseAll=function(){this.primaryColsListPanel.doSetExpandedAll(!1)},n.prototype.expandGroups=function(e){this.primaryColsListPanel.setGroupsExpanded(!0,e)},n.prototype.collapseGroups=function(e){this.primaryColsListPanel.setGroupsExpanded(!1,e)},n.prototype.setColumnLayout=function(e){this.primaryColsListPanel.setColumnLayout(e)},n.prototype.onFilterChanged=function(e){this.primaryColsListPanel.setFilterText(e.filterText)},n.prototype.syncLayoutWithGrid=function(){this.primaryColsListPanel.onColumnsChanged()},n.prototype.onSelectAll=function(){this.primaryColsListPanel.doSetSelectedAll(!0)},n.prototype.onUnselectAll=function(){this.primaryColsListPanel.doSetSelectedAll(!1)},n.prototype.onGroupExpanded=function(e){this.primaryColsHeaderPanel.setExpandState(e.state)},n.prototype.onSelectionChange=function(e){this.primaryColsHeaderPanel.setSelectionState(e.state)},n.TEMPLATE='<div class="ag-column-select">\n            <ag-primary-cols-header ref="primaryColsHeaderPanel"></ag-primary-cols-header>\n            <ag-primary-cols-list ref="primaryColsListPanel"></ag-primary-cols-list>\n        </div>',cr([E.RefSelector("primaryColsHeaderPanel")],n.prototype,"primaryColsHeaderPanel",void 0),cr([E.RefSelector("primaryColsListPanel")],n.prototype,"primaryColsListPanel",void 0),cr([E.PostConstruct],n.prototype,"postConstruct",null),n}(E.TabGuardComp),Tm=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Hh=function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);return u>3&&c&&Object.defineProperty(n,e,c),c},Rm=function(h){function n(){var e=h.call(this,n.TEMPLATE)||this;return e.initialised=!1,e.childDestroyFuncs=[],e}return Tm(n,h),n.prototype.setVisible=function(e){h.prototype.setDisplayed.call(this,e),e&&!this.initialised&&this.init(this.params)},n.prototype.init=function(e){var o=this,u={suppressColumnMove:!1,suppressColumnSelectAll:!1,suppressColumnFilter:!1,suppressColumnExpandAll:!1,contractColumnSelection:!1,suppressPivotMode:!1,suppressRowGroups:!1,suppressValues:!1,suppressPivots:!1,suppressSyncLayoutWithGrid:!1,api:this.gridApi,columnApi:this.columnApi};if(E._.mergeDeep(u,e),this.params=u,this.isRowGroupingModuleLoaded()&&!this.params.suppressPivotMode&&(this.pivotModePanel=this.createBean(new wm),this.childDestroyFuncs.push(function(){return o.destroyBean(o.pivotModePanel)}),this.appendChild(this.pivotModePanel)),this.primaryColsPanel=this.createBean(new Am),this.childDestroyFuncs.push(function(){return o.destroyBean(o.primaryColsPanel)}),this.primaryColsPanel.init(!0,this.params,"toolPanelUi"),this.primaryColsPanel.addCssClass("ag-column-panel-column-select"),this.appendChild(this.primaryColsPanel),this.isRowGroupingModuleLoaded()){this.params.suppressRowGroups||(this.rowGroupDropZonePanel=this.createBean(new Xd(!1)),this.childDestroyFuncs.push(function(){return o.destroyBean(o.rowGroupDropZonePanel)}),this.appendChild(this.rowGroupDropZonePanel)),this.params.suppressValues||(this.valuesDropZonePanel=this.createBean(new xm(!1)),this.childDestroyFuncs.push(function(){return o.destroyBean(o.valuesDropZonePanel)}),this.appendChild(this.valuesDropZonePanel)),this.params.suppressPivots||(this.pivotDropZonePanel=this.createBean(new Qd(!1)),this.childDestroyFuncs.push(function(){return o.destroyBean(o.pivotDropZonePanel)}),this.appendChild(this.pivotDropZonePanel)),this.setLastVisible();var c=this.addManagedListener(this.eventService,E.Events.EVENT_COLUMN_PIVOT_MODE_CHANGED,function(){o.resetChildrenHeight(),o.setLastVisible()});this.childDestroyFuncs.push(function(){return c()})}this.initialised=!0},n.prototype.setPivotModeSectionVisible=function(e){var o=this;!this.isRowGroupingModuleLoaded()||(this.pivotModePanel?this.pivotModePanel.setDisplayed(e):e&&(this.pivotModePanel=this.createBean(new wm),this.getGui().insertBefore(this.pivotModePanel.getGui(),this.getGui().firstChild),this.childDestroyFuncs.push(function(){return o.destroyBean(o.pivotModePanel)})),this.setLastVisible())},n.prototype.setRowGroupsSectionVisible=function(e){!this.isRowGroupingModuleLoaded()||(this.rowGroupDropZonePanel?this.rowGroupDropZonePanel.setDisplayed(e):e&&(this.rowGroupDropZonePanel=this.createManagedBean(new Xd(!1)),this.appendChild(this.rowGroupDropZonePanel)),this.setLastVisible())},n.prototype.setValuesSectionVisible=function(e){!this.isRowGroupingModuleLoaded()||(this.valuesDropZonePanel?this.valuesDropZonePanel.setDisplayed(e):e&&(this.valuesDropZonePanel=this.createManagedBean(new xm(!1)),this.appendChild(this.valuesDropZonePanel)),this.setLastVisible())},n.prototype.setPivotSectionVisible=function(e){!this.isRowGroupingModuleLoaded()||(this.pivotDropZonePanel?this.pivotDropZonePanel.setDisplayed(e):e&&(this.pivotDropZonePanel=this.createManagedBean(new Qd(!1)),this.appendChild(this.pivotDropZonePanel),this.pivotDropZonePanel.setDisplayed(e)),this.setLastVisible())},n.prototype.setResizers=function(){[this.primaryColsPanel,this.rowGroupDropZonePanel,this.valuesDropZonePanel,this.pivotDropZonePanel].forEach(function(e){if(e){var o=e.getGui();e.toggleResizable(!o.classList.contains("ag-last-column-drop")&&!o.classList.contains("ag-hidden"))}})},n.prototype.setLastVisible=function(){var e=this.getGui();Array.prototype.slice.call(e.querySelectorAll(".ag-column-drop")).forEach(function(m){return m.classList.remove("ag-last-column-drop")});var u=e.querySelectorAll(".ag-column-drop:not(.ag-hidden)"),c=E._.last(u);c&&c.classList.add("ag-last-column-drop"),this.setResizers()},n.prototype.resetChildrenHeight=function(){for(var o=this.getGui().children,u=0;u<o.length;u++){var c=o[u];c.style.removeProperty("height"),c.style.removeProperty("flex")}},n.prototype.isRowGroupingModuleLoaded=function(){return E.ModuleRegistry.assertRegistered(E.ModuleNames.RowGroupingModule,"Row Grouping")},n.prototype.expandColumnGroups=function(e){this.primaryColsPanel.expandGroups(e)},n.prototype.collapseColumnGroups=function(e){this.primaryColsPanel.collapseGroups(e)},n.prototype.setColumnLayout=function(e){this.primaryColsPanel.setColumnLayout(e)},n.prototype.syncLayoutWithGrid=function(){this.primaryColsPanel.syncLayoutWithGrid()},n.prototype.destroyChildren=function(){this.childDestroyFuncs.forEach(function(e){return e()}),this.childDestroyFuncs.length=0,E._.clearElement(this.getGui())},n.prototype.refresh=function(){this.destroyChildren(),this.init(this.params)},n.prototype.destroy=function(){this.destroyChildren(),h.prototype.destroy.call(this)},n.TEMPLATE='<div class="ag-column-panel"></div>',Hh([E.Autowired("gridApi")],n.prototype,"gridApi",void 0),Hh([E.Autowired("columnApi")],n.prototype,"columnApi",void 0),n}(E.Component),Os=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Sa=function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);return u>3&&c&&Object.defineProperty(n,e,c),c},Zd=function(h){function n(){var e=h.call(this,'<div class="ag-tool-panel-horizontal-resize"></div>')||this;return e.minWidth=100,e.maxWidth=null,e}return Os(n,h),n.prototype.setElementToResize=function(e){this.elementToResize=e},n.prototype.postConstruct=function(){var e=this.horizontalResizeService.addResizeBar({eResizeBar:this.getGui(),dragStartPixels:1,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this),onResizeEnd:this.onResizing.bind(this)});this.addDestroyFunc(e),this.setInverted(this.gridOptionsWrapper.isEnableRtl())},n.prototype.onResizeStart=function(){this.startingWidth=this.elementToResize.offsetWidth},n.prototype.onResizing=function(e){var u=Math.max(this.minWidth,Math.floor(this.startingWidth-e*(this.inverted?-1:1)));null!=this.maxWidth&&(u=Math.min(this.maxWidth,u)),this.elementToResize.style.width=u+"px"},n.prototype.setInverted=function(e){this.inverted=e},n.prototype.setMaxWidth=function(e){this.maxWidth=e},n.prototype.setMinWidth=function(e){this.minWidth=null!=e?e:100},Sa([E.Autowired("horizontalResizeService")],n.prototype,"horizontalResizeService",void 0),Sa([E.PostConstruct],n.prototype,"postConstruct",null),n}(E.Component),Jd=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Pm=function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);return u>3&&c&&Object.defineProperty(n,e,c),c},ep=function(h){function n(e){var o=h.call(this)||this;return o.toolPanelDef=e,o}return Jd(n,h),n.prototype.getToolPanelId=function(){return this.toolPanelDef.id},n.prototype.postConstruct=function(){var e=this.createTemplate();this.setTemplate(e),this.eIconWrapper.insertAdjacentElement("afterbegin",E._.createIconNoSpan(this.toolPanelDef.iconKey,this.gridOptionsWrapper)),this.addManagedListener(this.eToggleButton,"click",this.onButtonPressed.bind(this))},n.prototype.createTemplate=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc(),o=this.toolPanelDef;return'<div class="ag-side-button" role="presentation">\n                <button type="button" ref="eToggleButton" tabindex="-1" role="tab" class="ag-side-button-button">\n                    <div ref="eIconWrapper" class="ag-side-button-icon-wrapper" aria-hidden="true"></div>\n                    <span class="ag-side-button-label">'+e(o.labelKey,o.labelDefault)+"</span>\n                </button>\n            </div>"},n.prototype.onButtonPressed=function(){this.dispatchEvent({type:n.EVENT_TOGGLE_BUTTON_CLICKED})},n.prototype.setSelected=function(e){this.addOrRemoveCssClass("ag-selected",e)},n.EVENT_TOGGLE_BUTTON_CLICKED="toggleButtonClicked",Pm([E.RefSelector("eToggleButton")],n.prototype,"eToggleButton",void 0),Pm([E.RefSelector("eIconWrapper")],n.prototype,"eIconWrapper",void 0),Pm([E.PostConstruct],n.prototype,"postConstruct",null),n}(E.Component),I_=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Wh=function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);return u>3&&c&&Object.defineProperty(n,e,c),c},tp=function(h){function n(){var e=h.call(this,n.TEMPLATE)||this;return e.buttonComps=[],e}return I_(n,h),n.prototype.postConstruct=function(){this.addManagedListener(this.getFocusableElement(),"keydown",this.handleKeyDown.bind(this))},n.prototype.handleKeyDown=function(e){if(e.key===E.KeyCode.TAB&&e.shiftKey){var o=E._.last(this.columnModel.getAllDisplayedColumns());this.focusService.focusGridView(o,!0)&&e.preventDefault()}},n.prototype.setToolPanelDefs=function(e){e.forEach(this.addButtonComp.bind(this))},n.prototype.setActiveButton=function(e){this.buttonComps.forEach(function(o){o.setSelected(e===o.getToolPanelId())})},n.prototype.addButtonComp=function(e){var o=this,u=this.createBean(new ep(e));this.buttonComps.push(u),this.appendChild(u),u.addEventListener(ep.EVENT_TOGGLE_BUTTON_CLICKED,function(){o.dispatchEvent({type:n.EVENT_SIDE_BAR_BUTTON_CLICKED,toolPanelId:e.id})})},n.prototype.clearButtons=function(){this.buttonComps=this.destroyBeans(this.buttonComps),E._.clearElement(this.getGui())},n.EVENT_SIDE_BAR_BUTTON_CLICKED="sideBarButtonClicked",n.TEMPLATE='<div class="ag-side-buttons" role="tablist"></div>',Wh([E.Autowired("focusService")],n.prototype,"focusService",void 0),Wh([E.Autowired("columnModel")],n.prototype,"columnModel",void 0),Wh([E.PostConstruct],n.prototype,"postConstruct",null),Wh([E.PreDestroy],n.prototype,"clearButtons",null),n}(E.Component),N_=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),L_=function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);return u>3&&c&&Object.defineProperty(n,e,c),c},xs=function(h){function n(){return h.call(this,n.TEMPLATE)||this}return N_(n,h),n.prototype.setupResize=function(){var e=this.getGui(),o=this.resizeBar=new Zd;this.getContext().createBean(o),o.setElementToResize(e),this.appendChild(o)},n.prototype.getToolPanelId=function(){return this.toolPanelId},n.prototype.setToolPanelDef=function(e){var o=e.id,u=e.minWidth,c=e.maxWidth,m=e.width;this.toolPanelId=o,this.width=m;var y={api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()},D=this.userComponentFactory.getToolPanelCompDetails(e,y).newAgStackInstance();null!=D?(D.then(this.setToolPanelComponent.bind(this)),null!=u&&this.resizeBar.setMinWidth(u),null!=c&&this.resizeBar.setMaxWidth(c)):console.warn("AG Grid: error processing tool panel component "+o+". You need to specify either 'toolPanel' or 'toolPanelFramework'")},n.prototype.setToolPanelComponent=function(e){var o=this;this.toolPanelCompInstance=e,this.appendChild(e.getGui()),this.addDestroyFunc(function(){o.destroyBean(e)}),this.width&&(this.getGui().style.width=this.width+"px")},n.prototype.getToolPanelInstance=function(){return this.toolPanelCompInstance},n.prototype.setResizerSizerSide=function(e){var o=this.gridOptionsWrapper.isEnableRtl(),u="left"===e;this.resizeBar.setInverted(o?u:!u)},n.prototype.refresh=function(){this.toolPanelCompInstance.refresh()},n.TEMPLATE='<div class="ag-tool-panel-wrapper"/>',L_([E.Autowired("userComponentFactory")],n.prototype,"userComponentFactory",void 0),L_([E.PostConstruct],n.prototype,"setupResize",null),n}(E.Component),Ge=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),fo=function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);return u>3&&c&&Object.defineProperty(n,e,c),c},jh=function(h){function n(){var e=h.call(this,n.TEMPLATE)||this;return e.toolPanelWrappers=[],e}return Ge(n,h),n.prototype.postConstruct=function(){var e=this;this.sideBarButtonsComp.addEventListener(tp.EVENT_SIDE_BAR_BUTTON_CLICKED,this.onToolPanelButtonClicked.bind(this)),this.setSideBarDef(),this.gridOptionsWrapper.addEventListener("sideBar",function(){e.clearDownUi(),e.setSideBarDef()}),this.gridApi.registerSideBarComp(this),this.createManagedBean(new E.ManagedFocusFeature(this.getFocusableElement(),{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this)}))},n.prototype.onTabKeyDown=function(e){if(!e.defaultPrevented){var u=this.focusService,c=this.sideBarButtonsComp,m=this.getGui(),y=c.getGui(),D=this.gridOptionsWrapper.getDocument().activeElement,x=m.querySelector(".ag-tool-panel-wrapper:not(.ag-hidden)");if(x)if(y.contains(D))u.focusInto(x,e.shiftKey)&&e.preventDefault();else if(!u.isFocusUnderManagedComponent(x)&&e.shiftKey){var P=u.findFocusableElements(x)[0];if(this.gridOptionsWrapper.getDocument().activeElement===P){var I=y.querySelector(".ag-selected button");I&&(e.preventDefault(),I.focus())}}}},n.prototype.handleKeyDown=function(e){var o=this.gridOptionsWrapper.getDocument();if(this.sideBarButtonsComp.getGui().contains(o.activeElement)){var u=this.sideBarButtonsComp.getGui(),c=Array.prototype.slice.call(u.querySelectorAll(".ag-side-button")),m=o.activeElement,y=c.findIndex(function(x){return x.contains(m)}),w=null;switch(e.key){case E.KeyCode.LEFT:case E.KeyCode.UP:w=Math.max(0,y-1);break;case E.KeyCode.RIGHT:case E.KeyCode.DOWN:w=Math.min(y+1,c.length-1)}if(null!==w){var D=c[w].querySelector("button");D&&(D.focus(),e.preventDefault())}}},n.prototype.onToolPanelButtonClicked=function(e){var o=e.toolPanelId,u=this.openedItem();this.openToolPanel(u===o?void 0:o)},n.prototype.clearDownUi=function(){this.sideBarButtonsComp.clearButtons(),this.destroyToolPanelWrappers()},n.prototype.setSideBarDef=function(){this.setDisplayed(!1);var e=this.gridOptionsWrapper.getSideBar(),o=!!e&&!!e.toolPanels;if(o){this.setDisplayed(o&&!e.hiddenByDefault);var c=e.toolPanels;this.sideBarButtonsComp.setToolPanelDefs(c),this.setupToolPanels(c),this.setSideBarPosition(e.position),e.hiddenByDefault||this.openToolPanel(e.defaultToolPanel)}},n.prototype.setSideBarPosition=function(e){e||(e="right");var o="left"===e,u=o?"right":"left";return this.addOrRemoveCssClass("ag-side-bar-left",o),this.addOrRemoveCssClass("ag-side-bar-right",!o),this.toolPanelWrappers.forEach(function(c){c.setResizerSizerSide(u)}),this},n.prototype.setupToolPanels=function(e){var o=this;e.forEach(function(u){if(null!=u.id){if("agColumnsToolPanel"===u.toolPanel&&!E.ModuleRegistry.assertRegistered(E.ModuleNames.ColumnToolPanelModule,"Column Tool Panel"))return;if("agFiltersToolPanel"===u.toolPanel&&!E.ModuleRegistry.assertRegistered(E.ModuleNames.FiltersToolPanelModule,"Filters Tool Panel"))return;var m=new xs;o.getContext().createBean(m),m.setToolPanelDef(u),m.setDisplayed(!1),o.getGui().appendChild(m.getGui()),o.toolPanelWrappers.push(m)}else console.warn("AG Grid: please review all your toolPanel components, it seems like at least one of them doesn't have an id")})},n.prototype.refresh=function(){this.toolPanelWrappers.forEach(function(e){return e.refresh()})},n.prototype.openToolPanel=function(e){var o=this.openedItem();o!==e&&(this.toolPanelWrappers.forEach(function(m){var y=e===m.getToolPanelId();m.setDisplayed(y)}),o!==this.openedItem()&&(this.sideBarButtonsComp.setActiveButton(e),this.raiseToolPanelVisibleEvent(e)))},n.prototype.getToolPanelInstance=function(e){var o=this.toolPanelWrappers.filter(function(u){return u.getToolPanelId()===e})[0];if(o)return o.getToolPanelInstance();console.warn("AG Grid: unable to lookup Tool Panel as invalid key supplied: "+e)},n.prototype.raiseToolPanelVisibleEvent=function(e){var o={type:E.Events.EVENT_TOOL_PANEL_VISIBLE_CHANGED,source:e,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()};this.eventService.dispatchEvent(o)},n.prototype.close=function(){this.openToolPanel(void 0)},n.prototype.isToolPanelShowing=function(){return!!this.openedItem()},n.prototype.openedItem=function(){var e=null;return this.toolPanelWrappers.forEach(function(o){o.isDisplayed()&&(e=o.getToolPanelId())}),e},n.prototype.destroyToolPanelWrappers=function(){var e=this;this.toolPanelWrappers.forEach(function(o){E._.removeFromParent(o.getGui()),e.destroyBean(o)}),this.toolPanelWrappers.length=0},n.prototype.destroy=function(){this.destroyToolPanelWrappers(),h.prototype.destroy.call(this)},n.TEMPLATE='<div class="ag-side-bar ag-unselectable">\n            <ag-side-bar-buttons ref="sideBarButtons"></ag-side-bar-buttons>\n        </div>',fo([E.Autowired("gridApi")],n.prototype,"gridApi",void 0),fo([E.Autowired("focusService")],n.prototype,"focusService",void 0),fo([E.RefSelector("sideBarButtons")],n.prototype,"sideBarButtonsComp",void 0),fo([E.PostConstruct],n.prototype,"postConstruct",null),n}(E.Component),Mm=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),jn=function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);return u>3&&c&&Object.defineProperty(n,e,c),c},re=function(h){function n(){var e=null!==h&&h.apply(this,arguments)||this;return e.isColGroupDef=function(o){return o&&void 0!==o.children},e.getId=function(o){return e.isColGroupDef(o)?o.groupId:o.colId},e}return Mm(n,h),n.prototype.createColumnTree=function(e){var o=this,u=[],c=function(y,w){if(o.isColGroupDef(y)){var D=y,P=new E.ProvidedColumnGroup(D,void 0!==D.groupId?D.groupId:D.headerName,!1,w),R=[];return D.children.forEach(function(z){var Y=c(z,w+1);Y&&R.push(Y)}),P.setChildren(R),P}var I=y,V=o.columnModel.getPrimaryColumn(I.colId?I.colId:I.field);return V||u.push(I),V},m=[];return e.forEach(function(y){var w=c(y,0);w&&m.push(w)}),u.length>0&&console.warn("AG Grid: unable to find grid columns for the supplied colDef(s):",u),m},n.prototype.syncLayoutWithGrid=function(e){var o=this.getLeafPathTrees();e(this.mergeLeafPathTrees(o))},n.prototype.getLeafPathTrees=function(){var e=function(c,m){var y;if(c instanceof E.ProvidedColumnGroup)if(c.isPadding())y=m;else{var w=Object.assign({},c.getColGroupDef());w.groupId=c.getGroupId(),w.children=[m],y=w}else{var D=Object.assign({},c.getColDef());D.colId=c.getColId(),y=D}var x=c.getOriginalParent();return x?e(x,y):y};return this.columnModel.getAllGridColumns().filter(function(c){var m=c.getColDef();return c.isPrimary()&&!m.showRowGroup}).map(function(c){return e(c,c.getColDef())})},n.prototype.mergeLeafPathTrees=function(e){for(var o=this,c=function(x,P){if(!o.isColGroupDef(P))return x;var R=x,I=P;return I.children&&I.groupId&&o.addChildrenToGroup(R,I.groupId,I.children[0])||I.children.forEach(function(V){return c(R,V)}),R},m=[],y=1;y<=e.length;y++){var w=e[y-1],D=e[y];P=D,o.isColGroupDef(x=w)&&o.isColGroupDef(P)&&o.getId(x)===o.getId(P)?e[y]=c(w,D):m.push(w)}var x,P;return m},n.prototype.addChildrenToGroup=function(e,o,u){var c=this;if(!this.isColGroupDef(e))return!0;var P,R,I,N,V,z,y=e,w=u;if(R=w,I=(P=y).children.map(c.getId),N=E._.includes(I,c.getId(R)),z=(V=E._.last(P.children))&&c.getId(V)!==c.getId(R),N&&z)return y.children.push(w),!0;if(y.groupId===o){var D=y.children.map(this.getId);if(!E._.includes(D,this.getId(w)))return y.children.push(w),!0}return y.children.forEach(function(P){return c.addChildrenToGroup(P,o,u)}),!1},jn([E.Autowired("columnModel")],n.prototype,"columnModel",void 0),jn([E.Bean("toolPanelColDefService")],n)}(E.BeanStub),ln={moduleName:E.ModuleNames.SideBarModule,beans:[re],agStackComponents:[{componentName:"AgHorizontalResize",componentClass:Zd},{componentName:"AgSideBar",componentClass:jh},{componentName:"AgSideBarButtons",componentClass:tp}],dependantModules:[ii]},As=function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);return u>3&&c&&Object.defineProperty(n,e,c),c},Pw=function(){function h(){}return h.prototype.selectAllChildren=function(n,e,o){var u=this.extractAllLeafColumns(n);this.setAllColumns(u,e,o)},h.prototype.setColumn=function(n,e,o){this.setAllColumns([n],e,o)},h.prototype.setAllColumns=function(n,e,o){this.columnModel.isPivotMode()?this.setAllPivot(n,e,o):this.setAllVisible(n,e,o)},h.prototype.extractAllLeafColumns=function(n){var e=[],o=function(u){u.forEach(function(c){!c.isPassesFilter()||(c.isGroup()?o(c.getChildren()):e.push(c.getColumn()))})};return o(n),e},h.prototype.setAllVisible=function(n,e,o){var u=[];n.forEach(function(c){c.getColDef().lockVisible||c.isVisible()!=e&&u.push({colId:c.getId(),hide:!e})}),u.length>0&&this.columnModel.applyColumnState({state:u},o)},h.prototype.setAllPivot=function(n,e,o){this.gridOptionsWrapper.isFunctionsPassive()?this.setAllPivotPassive(n,e):this.setAllPivotActive(n,e,o)},h.prototype.setAllPivotPassive=function(n,e){var o=this.columnModel.getPivotColumns().slice(),u=this.columnModel.getValueColumns().slice(),c=this.columnModel.getRowGroupColumns().slice(),m=!1,y=!1,w=!1;n.forEach(e?function(V){V.isAnyFunctionActive()||(V.isAllowValue()?(u.push(V),y=!0):V.isAllowRowGroup()?(c.push(V),m=!0):V.isAllowPivot()&&(o.push(V),w=!0))}:function(V){!V.isAnyFunctionActive()||(o.indexOf(V)>=0&&(E._.removeFromArray(o,V),m=!0),u.indexOf(V)>=0&&(E._.removeFromArray(u,V),y=!0),c.indexOf(V)>=0&&(E._.removeFromArray(c,V),w=!0))}),m&&this.eventService.dispatchEvent({type:E.Events.EVENT_COLUMN_PIVOT_CHANGE_REQUEST,columns:o,api:this.gridApi,columnApi:this.columnApi}),w&&this.eventService.dispatchEvent({type:E.Events.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST,columns:c,api:this.gridApi,columnApi:this.columnApi}),y&&this.eventService.dispatchEvent({type:E.Events.EVENT_COLUMN_VALUE_CHANGE_REQUEST,columns:c,api:this.gridApi,columnApi:this.columnApi})},h.prototype.setAllPivotActive=function(n,e,o){var u=this,c=[];n.forEach(e?function(D){if(!D.isAnyFunctionActive())if(D.isAllowValue()){var x="string"==typeof D.getAggFunc()?D.getAggFunc():u.aggFuncService.getDefaultAggFunc(D);c.push({colId:D.getId(),aggFunc:x})}else D.isAllowRowGroup()?c.push({colId:D.getId(),rowGroup:!0}):D.isAllowPivot()&&c.push({colId:D.getId(),pivot:!0})}:function(D){(D.isPivotActive()||D.isRowGroupActive()||D.isValueActive())&&c.push({colId:D.getId(),pivot:!1,rowGroup:!1,aggFunc:null})}),c.length>0&&this.columnModel.applyColumnState({state:c},o)},As([E.Autowired("aggFuncService")],h.prototype,"aggFuncService",void 0),As([E.Autowired("columnModel")],h.prototype,"columnModel",void 0),As([E.Autowired("gridOptionsWrapper")],h.prototype,"gridOptionsWrapper",void 0),As([E.Autowired("columnApi")],h.prototype,"columnApi",void 0),As([E.Autowired("gridApi")],h.prototype,"gridApi",void 0),As([E.Autowired("eventService")],h.prototype,"eventService",void 0),As([E.Bean("modelItemUtils")],h)}(),fn={moduleName:E.ModuleNames.ColumnToolPanelModule,beans:[Pw],agStackComponents:[{componentName:"AgPrimaryColsHeader",componentClass:qa},{componentName:"AgPrimaryColsList",componentClass:Ci},{componentName:"AgPrimaryCols",componentClass:Am}],userComponents:[{componentName:"agColumnsToolPanel",componentClass:Rm}],dependantModules:[ii,Ds,ln]},ji={getTemplate:function(h){var n=h.alignment;return{name:"Alignment",properties:{prefixedAttributes:[{prefix:"ss:",map:{Vertical:n.vertical,Horizontal:n.horizontal,Indent:n.indent,ReadingOrder:n.readingOrder,Rotate:n.rotate,ShrinkToFit:n.shrinkToFit,VerticalText:n.verticalText,WrapText:n.wrapText}}]}}}},Mw={getTemplate:function(h){var n=h.borders;return{name:"Borders",children:[n.borderBottom,n.borderLeft,n.borderRight,n.borderTop].map(function(m,y){return{name:"Border",properties:{prefixedAttributes:[{prefix:"ss:",map:{Position:0==y?"Bottom":1==y?"Left":2==y?"Right":"Top",LineStyle:m.lineStyle,Weight:m.weight,Color:m.color}}]}}})}}},hD={getTemplate:function(h){var n=h.font;return{name:"Font",properties:{prefixedAttributes:[{prefix:"ss:",map:{Bold:n.bold,FontName:n.fontName,Italic:n.italic,Color:n.color,Outline:n.outline,Shadow:n.shadow,Size:n.size,StrikeThrough:n.strikeThrough,Underline:n.underline,VerticalAlign:n.verticalAlign}},{prefix:"x:",map:{CharSet:n.charSet,Family:n.family}}]}}}},fD={getTemplate:function(h){var n=h.interior;return{name:"Interior",properties:{prefixedAttributes:[{prefix:"ss:",map:{Color:n.color,Pattern:n.pattern,PatternColor:n.patternColor}}]}}}},vr={getTemplate:function(h){return{name:"Protection",properties:{prefixedAttributes:[{prefix:"ss:",map:{Protected:h.protection.protected,HideFormula:h.protection.hideFormula}}]}}}},So={getTemplate:function(h){return{name:"NumberFormat",properties:{prefixedAttributes:[{prefix:"ss:",map:{Format:h.numberFormat.format}}]}}}},V_=function(){function h(){}return h.prototype.setBeans=function(n){this.beans=n},h.prototype.getFileName=function(n){var e=this.getDefaultFileExtension();return(null==n||!n.length)&&(n=this.getDefaultFileName()),-1===n.indexOf(".")?n+"."+e:n},h.prototype.getData=function(n){var e=this.createSerializingSession(n);return this.beans.gridSerializer.serialize(e,n)},h}(),B_=function(){function h(n){this.groupColumns=[];var o=n.valueService,u=n.gridOptionsWrapper,c=n.processCellCallback,m=n.processHeaderCallback,y=n.processGroupHeaderCallback,w=n.processRowGroupCallback;this.columnModel=n.columnModel,this.valueService=o,this.gridOptionsWrapper=u,this.processCellCallback=c,this.processHeaderCallback=m,this.processGroupHeaderCallback=y,this.processRowGroupCallback=w}return h.prototype.prepare=function(n){this.groupColumns=n.filter(function(e){return!!e.getColDef().showRowGroup})},h.prototype.extractHeaderValue=function(n){var e=this.getHeaderName(this.processHeaderCallback,n);return null!=e?e:""},h.prototype.extractRowCellValue=function(n,e,o,u,c){var w,m=this.gridOptionsWrapper.isGroupMultiAutoColumn()?c.rowGroupIndex:0;w=c&&c.group&&(e===m&&-1!==this.groupColumns.indexOf(n)||0===e&&this.gridOptionsWrapper.isGroupUseEntireRow(this.columnModel.isPivotMode()))?this.createValueForGroupNode(c):this.valueService.getValue(n,c);var D=this.processCell(o,c,n,w,this.processCellCallback,u);return null!=D?D:""},h.prototype.getHeaderName=function(n,e){return n?n({column:e,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()}):this.columnModel.getDisplayNameForColumn(e,"csv",!0)},h.prototype.createValueForGroupNode=function(n){if(this.processRowGroupCallback)return this.processRowGroupCallback({node:n,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()});var e=[n.key];if(!this.gridOptionsWrapper.isGroupMultiAutoColumn())for(;n.parent;)e.push((n=n.parent).key);return e.reverse().join(" -> ")},h.prototype.processCell=function(n,e,o,u,c,m){return c?c({accumulatedRowIndex:n,column:o,node:e,value:u,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),type:m}):null!=u?u:""},h}(),$o=function(){function h(){}return h.download=function(n,e){var o=document.defaultView||window;if(o){var u=document.createElement("a"),c=o.URL.createObjectURL(e);u.setAttribute("href",c),u.setAttribute("download",n),u.style.display="none",document.body.appendChild(u),u.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:o})),document.body.removeChild(u),o.setTimeout(function(){o.URL.revokeObjectURL(c)},0)}else console.warn("AG Grid: There is no `window` associated with the current `document`")},h}(),gD=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Nw=function(h){function n(e){var o=h.call(this,e)||this;o.isFirstLine=!0,o.result="";var c=e.columnSeparator;return o.suppressQuotes=e.suppressQuotes,o.columnSeparator=c,o}return gD(n,h),n.prototype.addCustomContent=function(e){var o=this;!e||("string"==typeof e?(/^\s*\n/.test(e)||this.beginNewLine(),e=e.replace(/\r?\n/g,"\r\n"),this.result+=e):e.forEach(function(u){o.beginNewLine(),u.forEach(function(c,m){0!==m&&(o.result+=o.columnSeparator),o.result+=o.putInQuotes(c.data.value||""),c.mergeAcross&&o.appendEmptyCells(c.mergeAcross)})}))},n.prototype.onNewHeaderGroupingRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}},n.prototype.onNewHeaderGroupingRowColumn=function(e,o,u){0!=o&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(e),this.appendEmptyCells(u)},n.prototype.appendEmptyCells=function(e){for(var o=1;o<=e;o++)this.result+=this.columnSeparator+this.putInQuotes("")},n.prototype.onNewHeaderRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}},n.prototype.onNewHeaderRowColumn=function(e,o){0!=o&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(e))},n.prototype.onNewBodyRow=function(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}},n.prototype.onNewBodyRowColumn=function(e,o,u){0!=o&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractRowCellValue(e,o,o,E.Constants.EXPORT_TYPE_CSV,u))},n.prototype.putInQuotes=function(e){return this.suppressQuotes?e:null==e?'""':("string"==typeof e?o=e:"function"==typeof e.toString?o=e.toString():(console.warn("AG Grid: unknown value type during csv conversion"),o=""),'"'+o.replace(/"/g,'""')+'"');var o},n.prototype.parse=function(){return this.result},n.prototype.beginNewLine=function(){this.isFirstLine||(this.result+="\r\n"),this.isFirstLine=!1},n}(B_),mD=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Sc=function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);return u>3&&c&&Object.defineProperty(n,e,c),c},H_=function(h){function n(){return null!==h&&h.apply(this,arguments)||this}return mD(n,h),n.prototype.postConstruct=function(){this.setBeans({gridSerializer:this.gridSerializer,gridOptionsWrapper:this.gridOptionsWrapper})},n.prototype.getMergedParams=function(e){var o=this.gridOptionsWrapper.getDefaultExportParams("csv");return Object.assign({},o,e)},n.prototype.export=function(e){if(this.isExportSuppressed())return console.warn("AG Grid: Export cancelled. Export is not allowed as per your configuration."),"";var o=this.getMergedParams(e),u=this.getData(o),c=new Blob(["\ufeff",u],{type:"text/plain"});return $o.download(this.getFileName(o.fileName),c),u},n.prototype.exportDataAsCsv=function(e){return this.export(e)},n.prototype.getDataAsCsv=function(e){var o=this.getMergedParams(e);return this.getData(o)},n.prototype.getDefaultFileName=function(){return"export.csv"},n.prototype.getDefaultFileExtension=function(){return"csv"},n.prototype.createSerializingSession=function(e){var o=this;return new Nw({columnModel:o.columnModel,valueService:o.valueService,gridOptionsWrapper:o.gridOptionsWrapper,processCellCallback:e.processCellCallback||void 0,processHeaderCallback:e.processHeaderCallback||void 0,processGroupHeaderCallback:e.processGroupHeaderCallback||void 0,processRowGroupCallback:e.processRowGroupCallback||void 0,suppressQuotes:e.suppressQuotes||!1,columnSeparator:e.columnSeparator||","})},n.prototype.isExportSuppressed=function(){return this.gridOptionsWrapper.isSuppressCsvExport()},Sc([E.Autowired("columnModel")],n.prototype,"columnModel",void 0),Sc([E.Autowired("valueService")],n.prototype,"valueService",void 0),Sc([E.Autowired("gridSerializer")],n.prototype,"gridSerializer",void 0),Sc([E.Autowired("gridOptionsWrapper")],n.prototype,"gridOptionsWrapper",void 0),Sc([E.PostConstruct],n.prototype,"postConstruct",null),Sc([E.Bean("csvCreator")],n)}(V_),Lw=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Ec=function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);return u>3&&c&&Object.defineProperty(n,e,c),c},Un=(()=>(function(h){h[h.HEADER_GROUPING=0]="HEADER_GROUPING",h[h.HEADER=1]="HEADER",h[h.BODY=2]="BODY"}(Un||(Un={})),Un))(),qn=function(h){function n(){return null!==h&&h.apply(this,arguments)||this}return Lw(n,h),n.prototype.serialize=function(e,o){void 0===o&&(o={});var u=this.getColumnsToExport(o.allColumns,o.columnKeys);return E._.compose(this.prepareSession(u),this.prependContent(o),this.exportColumnGroups(o,u),this.exportHeaders(o,u),this.processPinnedTopRows(o,u),this.processRows(o,u),this.processPinnedBottomRows(o,u),this.appendContent(o))(e).parse()},n.prototype.processRow=function(e,o,u,c){var m=this,y=o.shouldRowBeSkipped||function(){return!1},w=this.gridOptionsWrapper,D=w.getContext(),x=w.getApi(),P=w.getColumnApi(),R=w.isGroupRemoveSingleChildren(),I=w.isGroupHideOpenParents(),N=w.isGroupRemoveLowestSingleChildren(),V=this.columnModel.isPivotMode()?c.leafGroup:!c.group,X=1===c.allChildrenCount&&(R||N&&c.leafGroup);(o.skipGroups||o.skipRowGroups)&&o.skipGroups&&E._.doOnce(function(){return console.warn("AG Grid: Since v25.2 `skipGroups` has been renamed to `skipRowGroups`.")},"gridSerializer-skipGroups");var q={rowIndex:c.rowIndex,rowPinned:c.rowPinned};if(!(!V&&(o.skipRowGroups||X||I)||o.onlySelected&&!c.isSelected()||o.rowNodes&&!o.rowNodes.some(function(fe){return m.rowPositionUtils.sameRow(fe,q)})||o.skipPinnedTop&&"top"===c.rowPinned||o.skipPinnedBottom&&"bottom"===c.rowPinned)&&(-1!==c.level||c.leafGroup)&&!y({node:c,api:x,context:D})){var se=e.onNewBodyRow();if(u.forEach(function(fe,ye){se.onColumn(fe,ye,c)}),o.getCustomContentBelowRow){var ue=o.getCustomContentBelowRow({node:c,api:x,columnApi:P,context:D});ue&&e.addCustomContent(ue)}}},n.prototype.appendContent=function(e){return function(o){var u=e.customFooter||e.appendContent;return u&&(e.customFooter&&E._.doOnce(function(){return console.warn("AG Grid: Since version 25.2.0 the `customFooter` param has been deprecated. Use `appendContent` instead.")},"gridSerializer-customFooter"),o.addCustomContent(u)),o}},n.prototype.prependContent=function(e){return function(o){var u=e.customHeader||e.prependContent;return u&&(e.customHeader&&E._.doOnce(function(){return console.warn("AG Grid: Since version 25.2.0 the `customHeader` param has been deprecated. Use `prependContent` instead.")},"gridSerializer-customHeader"),o.addCustomContent(u)),o}},n.prototype.prepareSession=function(e){return function(o){return o.prepare(e),o}},n.prototype.exportColumnGroups=function(e,o){var u=this;return function(c){if(e.skipColumnGroupHeaders)e.columnGroups&&E._.doOnce(function(){return console.warn("AG Grid: Since v25.2 the `columnGroups` param has deprecated, and groups are exported by default.")},"gridSerializer-columnGroups");else{var m=new E.GroupInstanceIdCreator,y=u.displayedGroupCreator.createDisplayedGroups(o,u.columnModel.getGridBalancedTree(),m,null);u.recursivelyAddHeaderGroups(y,c,e.processGroupHeaderCallback)}return c}},n.prototype.exportHeaders=function(e,o){return function(u){if(e.skipHeader||e.skipColumnHeaders)e.skipHeader&&E._.doOnce(function(){return console.warn("AG Grid: Since v25.2 the `skipHeader` param has been renamed to `skipColumnHeaders`.")},"gridSerializer-skipHeader");else{var c=u.onNewHeaderRow();o.forEach(function(m,y){c.onColumn(m,y,void 0)})}return u}},n.prototype.processPinnedTopRows=function(e,o){var u=this;return function(c){var m=u.processRow.bind(u,c,e,o);return u.pinnedRowModel.forEachPinnedTopRow(m),c}},n.prototype.processRows=function(e,o){var u=this;return function(c){var m=u.rowModel,y=m.getType(),w=y===E.Constants.ROW_MODEL_TYPE_CLIENT_SIDE,D=y===E.Constants.ROW_MODEL_TYPE_SERVER_SIDE,x=!w&&e.onlySelected,P=u.processRow.bind(u,c,e,o);return u.columnModel.isPivotMode()?w?m.forEachPivotNode(P):m.forEachNode(P):e.onlySelectedAllPages||x?u.selectionService.getSelectedNodes().forEach(P):w||D?m.forEachNodeAfterFilterAndSort(P):m.forEachNode(P),c}},n.prototype.processPinnedBottomRows=function(e,o){var u=this;return function(c){var m=u.processRow.bind(u,c,e,o);return u.pinnedRowModel.forEachPinnedBottomRow(m),c}},n.prototype.getColumnsToExport=function(e,o){void 0===e&&(e=!1);var u=this.columnModel.isPivotMode();return o&&o.length?this.columnModel.getGridColumns(o):e&&!u?(this.gridOptionsWrapper.isTreeData()?this.columnModel.getGridColumns([E.Constants.GROUP_AUTO_COLUMN_ID]):[]).concat(this.columnModel.getAllPrimaryColumns()||[]):this.columnModel.getAllDisplayedColumns()},n.prototype.recursivelyAddHeaderGroups=function(e,o,u){var c=[];e.forEach(function(m){!m.getChildren||m.getChildren().forEach(function(w){return c.push(w)})}),e.length>0&&e[0]instanceof E.ColumnGroup&&this.doAddHeaderHeader(o,e,u),c&&c.length>0&&this.recursivelyAddHeaderGroups(c,o,u)},n.prototype.doAddHeaderHeader=function(e,o,u){var c=this,m=e.onNewHeaderGroupingRow(),y=0;o.forEach(function(w){var x,D=w;x=u?u({columnGroup:D,api:c.gridOptionsWrapper.getApi(),columnApi:c.gridOptionsWrapper.getColumnApi(),context:c.gridOptionsWrapper.getContext()}):c.columnModel.getDisplayNameForColumnGroup(D,"header");var P=D.getLeafColumns().reduce(function(R,I,N,V){var z=E._.last(R);return"open"===I.getColumnGroupShow()?(!z||null!=z[1])&&R.push(z=[N]):z&&null==z[1]&&(z[1]=N-1),N===V.length-1&&z&&null==z[1]&&(z[1]=N),R},[]);m.onColumn(x||"",y++,D.getLeafColumns().length-1,P)})},Ec([E.Autowired("displayedGroupCreator")],n.prototype,"displayedGroupCreator",void 0),Ec([E.Autowired("columnModel")],n.prototype,"columnModel",void 0),Ec([E.Autowired("rowModel")],n.prototype,"rowModel",void 0),Ec([E.Autowired("pinnedRowModel")],n.prototype,"pinnedRowModel",void 0),Ec([E.Autowired("selectionService")],n.prototype,"selectionService",void 0),Ec([E.Autowired("rowPositionUtils")],n.prototype,"rowPositionUtils",void 0),Ec([E.Bean("gridSerializer")],n)}(E.BeanStub),kw={moduleName:E.ModuleNames.CsvExportModule,beans:[H_,qn]},Ts=function(){function h(){}return h.createHeader=function(n){void 0===n&&(n={});var u=["version"];return n.version||(n.version="1.0"),n.encoding&&u.push("encoding"),n.standalone&&u.push("standalone"),"<?xml "+u.map(function(m){return m+'="'+n[m]+'"'}).join(" ")+" ?>"},h.createXml=function(n,e){var o=this,u="";n.properties&&(n.properties.prefixedAttributes&&n.properties.prefixedAttributes.forEach(function(m){Object.keys(m.map).forEach(function(y){u+=o.returnAttributeIfPopulated(m.prefix+y,m.map[y],e)})}),n.properties.rawMap&&Object.keys(n.properties.rawMap).forEach(function(m){u+=o.returnAttributeIfPopulated(m,n.properties.rawMap[m],e)}));var c="<"+n.name+u;return n.children||null!=n.textNode?null!=n.textNode?c+">"+n.textNode+"</"+n.name+">\r\n":(c+=">\r\n",n.children&&n.children.forEach(function(m){c+=o.createXml(m,e)}),c+"</"+n.name+">\r\n"):c+"/>\r\n"},h.returnAttributeIfPopulated=function(n,e,o){if(!e&&""!==e&&0!==e)return"";var u=e;return"boolean"==typeof e&&o&&(u=o(e))," "+n+'="'+u+'"'},h}(),vD=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]),_t=function(){function h(){}return h.addFolders=function(n){n.forEach(this.addFolder.bind(this))},h.addFolder=function(n){this.folders.push({path:n,created:new Date,isBase64:!1})},h.addFile=function(n,e,o){void 0===o&&(o=!1),this.files.push({path:n,created:new Date,content:e,isBase64:o})},h.getContent=function(n){void 0===n&&(n="application/zip");var e=this.buildFileStream(),o=this.buildUint8Array(e);return this.clearStream(),new Blob([o],{type:n})},h.clearStream=function(){this.folders=[],this.files=[]},h.buildFileStream=function(n){var e,o;void 0===n&&(n="");var u=this.folders.concat(this.files),c=u.length,m="",y=0,w=0;try{for(var D=function(h){var n="function"==typeof Symbol&&Symbol.iterator,e=n&&h[n],o=0;if(e)return e.call(h);if(h&&"number"==typeof h.length)return{next:function(){return h&&o>=h.length&&(h=void 0),{value:h&&h[o++],done:!h}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(u),x=D.next();!x.done;x=D.next()){var R=this.getHeader(x.value,y),I=R.fileHeader,N=R.folderHeader,V=R.content;y+=I.length+V.length,w+=N.length,n+=I+V,m+=N}}catch(Y){e={error:Y}}finally{try{x&&!x.done&&(o=D.return)&&o.call(D)}finally{if(e)throw e.error}}return n+m+this.buildFolderEnd(c,w,y)},h.getHeader=function(n,e){var o=n.content,u=n.path,c=n.created,m=n.isBase64,w=E._.decToHex,D=(0,E._.utf8_encode)(u),x=D!==u,P=this.convertTime(c),R=this.convertDate(c),I="";if(x){var N=w(1,1)+w(this.getFromCrc32Table(D),4)+D;I="up"+w(N.length,2)+N}var V=o?this.getConvertedContent(o,m):{size:0,content:""},z=V.size,Y=V.content,X="\n\0"+(x?"\0\b":"\0\0")+"\0\0"+w(P,2)+w(R,2)+w(z?this.getFromCrc32Table(Y):0,4)+w(z,4)+w(z,4)+w(D.length,2)+w(I.length,2);return{fileHeader:"PK\x03\x04"+X+D+I,folderHeader:"PK\x01\x02\x14\0"+X+"\0\0\0\0\0\0"+(o?"\0\0\0\0":"\x10\0\0\0")+w(e,4)+D+I,content:Y||""}},h.getConvertedContent=function(n,e){return void 0===e&&(e=!1),e&&(n=n.split(";base64,")[1]),{size:(n=e?atob(n):n).length,content:n}},h.buildFolderEnd=function(n,e,o){var u=E._.decToHex;return"PK\x05\x06\0\0\0\0"+u(n,2)+u(n,2)+u(e,4)+u(o,4)+"\0\0"},h.buildUint8Array=function(n){for(var e=new Uint8Array(n.length),o=0;o<e.length;o++)e[o]=n.charCodeAt(o);return e},h.getFromCrc32Table=function(n){if(!n.length)return 0;for(var e=n.length,o=new Uint8Array(e),u=0;u<e;u++)o[u]=n.charCodeAt(u);var c=-1;for(u=0;u<e;u++)c=c>>>8^vD[255&(c^o[u])];return-1^c},h.convertTime=function(n){var e=n.getHours();return e<<=6,e|=n.getMinutes(),(e<<=5)|n.getSeconds()/2},h.convertDate=function(n){var e=n.getFullYear()-1980;return e<<=4,e|=n.getMonth()+1,(e<<=5)|n.getDate()},h.folders=[],h.files=[],h}(),np=function(){function h(){}return h.createExcel=function(n,e){var o=this.excelXmlHeader(),m=this.workbook({name:"DocumentProperties",properties:{rawMap:{xmlns:"urn:schemas-microsoft-com:office:office"}},children:[{name:"Version",textNode:"12.00"}]},{name:"ExcelWorkbook",properties:{rawMap:{xmlns:"urn:schemas-microsoft-com:office:excel"}},children:[{name:"WindowHeight",textNode:"8130"},{name:"WindowWidth",textNode:"15135"},{name:"WindowHeight",textNode:"8130"},{name:"WindowTopX",textNode:"120"},{name:"WindowTopY",textNode:"45"},{name:"ProtectStructure",textNode:"False"},{name:"ProtectWindow",textNode:"False"}]},n,e);return""+o+Ts.createXml(m,function(y){return y?"1":"0"})},h.workbook=function(n,e,o,u){var c=[n,e,this.stylesXmlElement(o)].concat(function(h){var n=h.table,e=h.name,u=n.rows,c=n.columns.map(function(y){return function(h){return{name:"Column",properties:{prefixedAttributes:[{prefix:"ss:",map:{Width:h.width}}]}}}(y)}),m=u.map(function(y){return function(h){return{name:"Row",children:h.cells.map(function(e){return function(h){var n=h.mergeAcross,e=h.styleId,o=h.data,u={};return n&&(u.MergeAcross=n),e&&(u.StyleID=e),{name:"Cell",properties:{prefixedAttributes:[{prefix:"ss:",map:u}]},children:[{name:"Data",properties:{prefixedAttributes:[{prefix:"ss:",map:{Type:o.type}}]},textNode:o.value}]}}(e)})}}(y)});return{name:"Worksheet",children:[{name:"Table",children:c.concat(m)}],properties:{prefixedAttributes:[{prefix:"ss:",map:{Name:e}}]}}}(u));return Object.assign({},{name:"Workbook",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",html:"http://www.w3.org/TR/REC-html40"}}],rawMap:{xmlns:"urn:schemas-microsoft-com:office:spreadsheet"}}},{children:c})},h.excelXmlHeader=function(){return'<?xml version="1.0" ?>\n        <?mso-application progid="Excel.Sheet" ?>\n        '},h.stylesXmlElement=function(n){var e=this;return{name:"Styles",children:n?n.map(function(o){return e.styleXmlElement(o)}):[]}},h.styleXmlElement=function(n){var e=E._.compose(this.addProperty("alignment",n),this.addProperty("borders",n),this.addProperty("font",n),this.addProperty("interior",n),this.addProperty("protection",n),this.addProperty("numberFormat",n))([]);return Object.assign({},function(h){var n=h.id;return{name:"Style",properties:{prefixedAttributes:[{prefix:"ss:",map:{ID:n,Name:h.name||n}}]}}}(n),{children:e})},h.addProperty=function(n,e){return function(o){return e[n]?o.concat({alignment:ji,borders:Mw,font:hD,interior:fD,numberFormat:So,protection:vr}[n].getTemplate(e)):o}},h.factoryMode=E.ExcelFactoryMode.SINGLE_SHEET,h}(),zh={0:1,"0.00":2,"#,##0":3,"#,##0.00":4,"0%":9,"0.00%":10,"0.00E+00":11,"# ?/?":12,"# ??/??":13,"mm-dd-yy":14,"d-mmm-yy":15,"d-mmm":16,"mmm-yy":17,"h:mm AM/PM":18,"h:mm:ss AM/PM":19,"h:mm":20,"h:mm:ss":21,"m/d/yy h:mm":22,"#,##0 ;(#,##0)":37,"#,##0 ;[Red](#,##0)":38,"#,##0.00;(#,##0.00)":39,"#,##0.00;[Red](#,##0.00)":40,"mm:ss":45,"[h]:mm:ss":46,"mmss.0":47,"##0.0E+0":48,"@":49},fu=function(h){return Math.round(96*h/72)},Qa=function(h){return Math.ceil(9525*h)},rp=function(h,n){if(n)return function(h){return Math.round(72*h/96)}("number"==typeof n?n:n({rowIndex:h}))},Si=function(h){return""+Ts.createHeader({encoding:"UTF-8",standalone:"yes"})+Ts.createXml(h)},gu=function(h){var o=String.fromCharCode,u=Math.floor(h/26),c=h%26;return u&&26!==h?c?u<26?o(65+u-1)+o(65+c-1):gu(u)+o(65+c-1):gu(u-1)+"Z":o(65+h-1)},Za=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Sl=function(){return Sl=Object.assign||function(h){for(var n,e=1,o=arguments.length;e<o;e++)for(var u in n=arguments[e])Object.prototype.hasOwnProperty.call(n,u)&&(h[u]=n[u]);return h},Sl.apply(this,arguments)},U_=function(h,n){var e="function"==typeof Symbol&&h[Symbol.iterator];if(!e)return h;var u,m,o=e.call(h),c=[];try{for(;(void 0===n||n-- >0)&&!(u=o.next()).done;)c.push(u.value)}catch(y){m={error:y}}finally{try{u&&!u.done&&(e=o.return)&&e.call(o)}finally{if(m)throw m.error}}return c},Ea=function(){for(var h=[],n=0;n<arguments.length;n++)h=h.concat(U_(arguments[n]));return h},Eo=function(h){function n(e){var o=h.call(this,e)||this;return o.mixedStyles={},o.mixedStyleCounter=0,o.rows=[],o.config=Object.assign({},e),o.stylesByIds={},o.config.baseExcelStyles.forEach(function(u){o.stylesByIds[u.id]=u}),o.excelStyles=Ea(o.config.baseExcelStyles),o}return Za(n,h),n.prototype.addCustomContent=function(e){var o=this;e.forEach(function(u){var c=o.rows.length+1;o.rows.push({height:rp(c,o.config.rowHeight),cells:u.map(function(m,y){var w=o.addImage(c,o.columnsToExport[y],m.data.value),D=Sl({},m);return w&&(D.data={},null!=w.value?D.data.value=w.value:(D.data.type="e",D.data.value=null)),D})})})},n.prototype.onNewHeaderGroupingRow=function(){var e=this,o=[];return this.rows.push({cells:o,height:rp(this.rows.length+1,this.config.headerRowHeight)}),{onColumn:function(u,c,m,y){var w=e.config.styleLinker(Un.HEADER_GROUPING,1,"grouping-"+u,void 0,void 0);o.push(Sl(Sl({},e.createMergedCell(e.getStyleId(w),e.getDataTypeForValue("string"),u,m)),{collapsibleRanges:y}))}}},n.prototype.onNewHeaderRow=function(){return this.onNewRow(this.onNewHeaderColumn,this.config.headerRowHeight)},n.prototype.onNewBodyRow=function(){return this.onNewRow(this.onNewBodyColumn,this.config.rowHeight)},n.prototype.prepare=function(e){var o=this;h.prototype.prepare.call(this,e),this.columnsToExport=Ea(e),this.cols=e.map(function(u,c){return o.convertColumnToExcel(u,c)})},n.prototype.parse=function(){for(var e=this.rows.reduce(function(u,c){return Math.max(u,c.cells.length)},0);this.cols.length<e;)this.cols.push(this.convertColumnToExcel(null,this.cols.length+1));return this.createExcel({name:this.config.sheetName,table:{columns:this.cols,rows:this.rows}})},n.prototype.isFormula=function(e){return null!=e&&this.config.autoConvertFormulas&&e.toString().startsWith("=")},n.prototype.getStyleById=function(e){return null==e?null:this.stylesByIds[e]||null},n.prototype.convertColumnToExcel=function(e,o){var u=this.config.columnWidth;return u?"number"==typeof u?{width:u}:{width:u({column:e,index:o})}:e?{width:Math.max(e.getActualWidth(),75)}:{}},n.prototype.onNewHeaderColumn=function(e,o){var u=this;return function(c,m){var y=u.extractHeaderValue(c),w=u.config.styleLinker(Un.HEADER,e,y,c,void 0);o.push(u.createCell(u.getStyleId(w),u.getDataTypeForValue("string"),y))}},n.prototype.onNewRow=function(e,o){var u=[];return this.rows.push({cells:u,height:rp(this.rows.length+1,o)}),{onColumn:e.bind(this,this.rows.length,u)()}},n.prototype.onNewBodyColumn=function(e,o){var u=this,c=0;return function(m,y,w){if(c>0)c-=1;else{var D=u.extractRowCellValue(m,y,e,E.Constants.EXPORT_TYPE_EXCEL,w),x=u.config.styleLinker(Un.BODY,e,D,m,w),P=u.getStyleId(x),R=m.getColSpan(w),I=u.addImage(e,m,D);I?o.push(u.createCell(P,u.getDataTypeForValue(I.value),null==I.value?"":I.value)):R>1?(c=R-1,o.push(u.createMergedCell(P,u.getDataTypeForValue(D),D,R-1))):o.push(u.createCell(P,u.getDataTypeForValue(D),D))}}},n.prototype.getStyleId=function(e){if(!e||!e.length)return null;if(1===e.length)return e[0];var o=e.join("-");return this.mixedStyles[o]||this.addNewMixedStyle(e),this.mixedStyles[o].excelID},n.prototype.addNewMixedStyle=function(e){var o=this;this.mixedStyleCounter+=1;var u="mixedStyle"+this.mixedStyleCounter,c={};e.forEach(function(y){o.excelStyles.forEach(function(w){w.id===y&&E._.mergeDeep(c,E._.deepCloneObject(w))})}),c.id=u,c.name=u;var m=e.join("-");this.mixedStyles[m]={excelID:u,key:m,result:c},this.excelStyles.push(c),this.stylesByIds[u]=c},n}(B_),km=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Gm=function(h){function n(){return null!==h&&h.apply(this,arguments)||this}return km(n,h),n.prototype.createExcel=function(e){return np.createExcel(this.excelStyles,e)},n.prototype.getDataTypeForValue=function(e){return E._.isNumeric(e)?"Number":"String"},n.prototype.getType=function(e,o,u){if(this.isFormula(u))return"Formula";if(o&&o.dataType)switch(o.dataType.toLocaleLowerCase()){case"string":return"Formula";case"number":return"Number";case"datetime":return"DateTime";case"error":return"Error";case"boolean":return"Boolean";default:console.warn("AG Grid: Unrecognized data type for excel export ["+o.id+".dataType="+o.dataType+"]")}return e},n.prototype.addImage=function(){},n.prototype.createCell=function(e,o,u){var c=this.getStyleById(e),m=this.getType(o,c,u)||o;return{styleId:c?e:void 0,data:{type:m,value:this.getValueTransformed(m,u)}}},n.prototype.getValueTransformed=function(e,o){var y,u=this;switch(e){case"String":return function(y){if(u.config.suppressTextAsCDATA)return E._.escapeString(y);var w="<![CDATA[",D="]]>",x=new RegExp(D,"g");return w+String(y).replace(x,"]]"+D+w+">")+D}(o);case"Number":return Number(o).valueOf()+"";case"Boolean":return(y=o)&&"0"!==y&&"false"!==y?"1":"0";default:return o}},n.prototype.createMergedCell=function(e,o,u,c){return{styleId:this.getStyleById(e)?e:void 0,data:{type:o,value:u},mergeAcross:c}},n}(Eo),Dc=function(h,n){var e="function"==typeof Symbol&&h[Symbol.iterator];if(!e)return h;var u,m,o=e.call(h),c=[];try{for(;(void 0===n||n-- >0)&&!(u=o.next()).done;)c.push(u.value)}catch(y){m={error:y}}finally{try{u&&!u.done&&(e=o.return)&&e.call(o)}finally{if(m)throw m.error}}return c},Vn=function(h,n){return{name:"xdr:"+h,children:[{name:"xdr:col",textNode:n.col.toString()},{name:"xdr:colOff",textNode:n.offsetX.toString()},{name:"xdr:row",textNode:n.row.toString()},{name:"xdr:rowOff",textNode:n.offsetY.toString()}]}},Vw=function(h){var n=[{name:"a:ext",properties:{rawMap:{uri:"{FF2B5EF4-FFF2-40B4-BE49-F238E27FC236}"}},children:[{name:"a16:creationId",properties:{rawMap:{id:"{822E6D20-D7BC-2841-A643-D49A6EF008A2}","xmlns:a16":"http://schemas.microsoft.com/office/drawing/2014/main"}}}]}];switch(h.recolor&&h.recolor.toLowerCase()){case"grayscale":case"sepia":case"washout":n.push({name:"a:ext",properties:{rawMap:{uri:"{C183D7F6-B498-43B3-948B-1728B52AA6E4}"}},children:[{name:"adec:decorative",properties:{rawMap:{val:"0","xmlns:adec":"http://schemas.microsoft.com/office/drawing/2017/decorative"}}}]})}return{name:"a:extLst",children:n}},Bw=function(h,n){return{name:"xdr:nvPicPr",children:[{name:"xdr:cNvPr",properties:{rawMap:{id:n,name:h.id,descr:null!=h.altText?h.altText:void 0}},children:[Vw(h)]},{name:"xdr:cNvPicPr",properties:{rawMap:{preferRelativeResize:"0"}},children:[{name:"a:picLocks"}]}]}},mu=function(h){if(h.saturation||h.tint){var n=[];return h.saturation&&n.push({name:"a:satMod",properties:{rawMap:{val:1e3*h.saturation}}}),h.tint&&n.push({name:"a:tint",properties:{rawMap:{val:1e3*h.tint}}}),n}},ip=function(h,n){var e;if(h.transparency){var o=Math.min(Math.max(h.transparency,0),100);e=[{name:"a:alphaModFix",properties:{rawMap:{amt:1e5-Math.round(1e3*o)}}}]}if(h.recolor)switch(e||(e=[]),h.recolor.toLocaleLowerCase()){case"grayscale":e.push({name:"a:grayscl"});break;case"sepia":e.push(function(h,n){return{name:"a:duotone",children:[{name:"a:prstClr",properties:{rawMap:{val:h.color}},children:mu(h)},{name:"a:srgbClr",properties:{rawMap:{val:n.color}},children:mu(n)}]}}({color:"black"},{color:"D9C3A5",tint:50,saturation:180}));break;case"washout":e.push({name:"a:lum",properties:{rawMap:{bright:"70000",contrast:"-70000"}}})}return{name:"xdr:blipFill",children:[{name:"a:blip",properties:{rawMap:{cstate:"print","r:embed":"rId"+n,"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships"}},children:e},{name:"a:stretch",children:[{name:"a:fillRect"}]}]}},Bm=function(h,n){var e={name:"a:xfrm",children:[{name:"a:off",properties:{rawMap:{x:0,y:0}}},{name:"a:ext",properties:{rawMap:{cx:n.width,cy:n.height}}}]};return h.rotation&&(e.properties={rawMap:{rot:6e4*Math.min(Math.max(h.rotation,0),360)}}),{name:"xdr:spPr",children:[e,{name:"a:prstGeom",properties:{rawMap:{prst:"rect"}},children:[{name:"a:avLst"}]}]}},z_=function(h,n,e,o){return{name:"xdr:pic",children:[Bw(h,n+1),ip(h,e+1),Bm(h,o)]}},Do=function(h){var n=function(h,n){var e="function"==typeof Symbol&&h[Symbol.iterator];if(!e)return h;var u,m,o=e.call(h),c=[];try{for(;(void 0===n||n-- >0)&&!(u=o.next()).done;)c.push(u.value)}catch(y){m={error:y}}finally{try{u&&!u.done&&(e=o.return)&&e.call(o)}finally{if(m)throw m.error}}return c}(h,4);return{name:"a:"+n[0],children:[{name:"a:"+n[1],properties:{rawMap:{val:n[2],lastClr:n[3]}}}]}},je=function(h){var n=function(h,n){var e="function"==typeof Symbol&&h[Symbol.iterator];if(!e)return h;var u,m,o=e.call(h),c=[];try{for(;(void 0===n||n-- >0)&&!(u=o.next()).done;)c.push(u.value)}catch(y){m={error:y}}finally{try{u&&!u.done&&(e=o.return)&&e.call(o)}finally{if(m)throw m.error}}return c}(h,4);return{name:"a:"+n[0],properties:{rawMap:{script:n[2],typeface:n[1],panose:n[3]}}}},xc_getTemplate=function(){var h=E._.utf8_encode;return{name:"a:fontScheme",properties:{rawMap:{name:"Office"}},children:[{name:"a:majorFont",children:[je(["latin","Calibri Light",void 0,"020F0302020204030204"]),je(["ea",""]),je(["cs",""]),je(["font",h("\u6e38\u30b4\u30b7\u30c3\u30af Light"),"Jpan"]),je(["font",h("\ub9d1\uc740 \uace0\ub515"),"Hang"]),je(["font",h("\u7b49\u7ebf Light"),"Hans"]),je(["font",h("\u65b0\u7d30\u660e\u9ad4"),"Hant"]),je(["font","Times New Roman","Arab"]),je(["font","Times New Roman","Hebr"]),je(["font","Tahoma","Thai"]),je(["font","Nyala","Ethi"]),je(["font","Vrinda","Beng"]),je(["font","Shruti","Gujr"]),je(["font","MoolBoran","Khmr"]),je(["font","Tunga","Knda"]),je(["font","Raavi","Guru"]),je(["font","Euphemia","Cans"]),je(["font","Plantagenet Cherokee","Cher"]),je(["font","Microsoft Yi Baiti","Yiii"]),je(["font","Microsoft Himalaya","Tibt"]),je(["font","MV Boli","Thaa"]),je(["font","Mangal","Deva"]),je(["font","Gautami","Telu"]),je(["font","Latha","Taml"]),je(["font","Estrangelo Edessa","Syrc"]),je(["font","Kalinga","Orya"]),je(["font","Kartika","Mlym"]),je(["font","DokChampa","Laoo"]),je(["font","Iskoola Pota","Sinh"]),je(["font","Mongolian Baiti","Mong"]),je(["font","Times New Roman","Viet"]),je(["font","Microsoft Uighur","Uigh"]),je(["font","Sylfaen","Geor"]),je(["font","Arial","Armn"]),je(["font","Leelawadee UI","Bugi"]),je(["font","Microsoft JhengHei","Bopo"]),je(["font","Javanese Text","Java"]),je(["font","Segoe UI","Lisu"]),je(["font","Myanmar Text","Mymr"]),je(["font","Ebrima","Nkoo"]),je(["font","Nirmala UI","Olck"]),je(["font","Ebrima","Osma"]),je(["font","Phagspa","Phag"]),je(["font","Estrangelo Edessa","Syrn"]),je(["font","Estrangelo Edessa","Syrj"]),je(["font","Estrangelo Edessa","Syre"]),je(["font","Nirmala UI","Sora"]),je(["font","Microsoft Tai Le","Tale"]),je(["font","Microsoft New Tai Lue","Talu"]),je(["font","Ebrima","Tfng"])]},{name:"a:minorFont",children:[je(["latin","Calibri",void 0,"020F0502020204030204"]),je(["ea",""]),je(["cs",""]),je(["font",h("\u6e38\u30b4\u30b7\u30c3\u30af"),"Jpan"]),je(["font",h("\ub9d1\uc740 \uace0\ub515"),"Hang"]),je(["font",h("\u7b49\u7ebf"),"Hans"]),je(["font",h("\u65b0\u7d30\u660e\u9ad4"),"Hant"]),je(["font","Arial","Arab"]),je(["font","Arial","Hebr"]),je(["font","Tahoma","Thai"]),je(["font","Nyala","Ethi"]),je(["font","Vrinda","Beng"]),je(["font","Shruti","Gujr"]),je(["font","DaunPenh","Khmr"]),je(["font","Tunga","Knda"]),je(["font","Raavi","Guru"]),je(["font","Euphemia","Cans"]),je(["font","Plantagenet Cherokee","Cher"]),je(["font","Microsoft Yi Baiti","Yiii"]),je(["font","Microsoft Himalaya","Tibt"]),je(["font","MV Boli","Thaa"]),je(["font","Mangal","Deva"]),je(["font","Gautami","Telu"]),je(["font","Latha","Taml"]),je(["font","Estrangelo Edessa","Syrc"]),je(["font","Kalinga","Orya"]),je(["font","Kartika","Mlym"]),je(["font","DokChampa","Laoo"]),je(["font","Iskoola Pota","Sinh"]),je(["font","Mongolian Baiti","Mong"]),je(["font","Arial","Viet"]),je(["font","Microsoft Uighur","Uigh"]),je(["font","Sylfaen","Geor"]),je(["font","Arial","Armn"]),je(["font","Leelawadee UI","Bugi"]),je(["font","Microsoft JhengHei","Bopo"]),je(["font","Javanese Text","Java"]),je(["font","Segoe UI","Lisu"]),je(["font","Myanmar Text","Mymr"]),je(["font","Ebrima","Nkoo"]),je(["font","Nirmala UI","Olck"]),je(["font","Ebrima","Osma"]),je(["font","Phagspa","Phag"]),je(["font","Estrangelo Edessa","Syrn"]),je(["font","Estrangelo Edessa","Syrj"]),je(["font","Estrangelo Edessa","Syre"]),je(["font","Nirmala UI","Sora"]),je(["font","Microsoft Tai Le","Tale"]),je(["font","Microsoft New Tai Lue","Talu"]),je(["font","Ebrima","Tfng"])]}]}},Rs=function(h,n){var e="function"==typeof Symbol&&h[Symbol.iterator];if(!e)return h;var u,m,o=e.call(h),c=[];try{for(;(void 0===n||n-- >0)&&!(u=o.next()).done;)c.push(u.value)}catch(y){m={error:y}}finally{try{u&&!u.done&&(e=o.return)&&e.call(o)}finally{if(m)throw m.error}}return c},Tt=function(h,n,e){return{name:"a:"+h,properties:{rawMap:{val:n}},children:e}},Ac=function(h){var n=Rs(h,6),e=n[0],o=n[1],c=n[3],m=n[4],y=n[5],w=[];return w.push(Tt("satMod",n[2])),c&&w.push(Tt("lumMod",c)),m&&w.push(Tt("tint",m)),y&&w.push(Tt("shade",y)),{name:"a:gs",properties:{rawMap:{pos:e}},children:[{name:"a:schemeClr",properties:{rawMap:{val:o}},children:w}]}},Ps=function(h,n){return{name:"a:solidFill",children:[Tt("schemeClr",h,n)]}},Ke=function(h){var n=Rs(h,5),e=n[0],o=n[1],u=n[2],c=n[3],y=Rs(n[4],2),w=y[0],D=y[1];return{name:"a:gradFill",properties:{rawMap:{rotWithShape:e}},children:[{name:"a:gsLst",children:[Ac(o),Ac(u),Ac(c)]},{name:"a:lin",properties:{rawMap:{ang:w,scaled:D}}}]}},Ur=function(h){var n=Rs(h,4);return{name:"a:ln",properties:{rawMap:{w:n[0],cap:n[1],cmpd:n[2],algn:n[3]}},children:[Ps("phClr"),Tt("prstDash","solid"),{name:"a:miter",properties:{rawMap:{lim:"800000"}}}]}},Bn=function(h){var n=[];if(h){var e=Rs(h,5);n.push({name:"a:outerShdw",properties:{rawMap:{blurRad:e[0],dist:e[1],dir:e[2],algn:e[3],rotWithShape:e[4]}},children:[Tt("srgbClr","000000",[Tt("alpha","63000")])]})}return{name:"a:effectStyle",children:[Object.assign({},{name:"a:effectLst"},n.length?{children:n}:{})]}},zi=function(h){var n=[];return h.forEach(function(e,o){var u=o.toString(),c={name:"t",textNode:E._.utf8_encode(E._.escapeString(u))};u.trim().length!==u.length&&(c.properties={rawMap:{"xml:space":"preserve"}}),n.push({name:"si",children:[c]})}),n},$i={None:"None",Dot:"Dotted",Dash:"Dashed",Double:"Double",DashDot:"DashDot",DashDotDot:"DashDotDot",SlantDashDot:"SlantDashDot"},Hm=["Dashed","DashDot","DashDotDot"],Ko={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinDiagStripe:"lightUp",ThinHorzCross:"lightGrid",ThinDiagCross:"lightTrellis",Gray125:"gray125",Gray0625:"gray0625"},Ei={Automatic:"general",Left:"left",Center:"center",Right:"right",Fill:"fill",Justify:"justify",CenterAcrossSelection:"centerContinuous",Distributed:"distributed",JustifyDistributed:"justify"},Tc={Automatic:void 0,Top:"top",Bottom:"bottom",Center:"center",Justify:"justify",Distributed:"distributed",JustifyDistributed:"justify"},yr=function(h){return null==h?h:("#"===h.charAt(0)&&(h=h.substr(1)),6===h.length?"FF"+h:h)},Hn=function(h,n){if(!h)return"thin";var e=function(h){switch(h){case 1:return"thin";case 2:return"medium";case 3:return"thick";default:return"hair"}}(n),o=$i[h];return"Continuous"===h?e:"medium"===e&&-1!==Hm.indexOf(o)?"medium"+o:o.charAt(0).toLowerCase()+o.substr(1)},$_=function(h){return Ei[h]||"general"},Hw=function(h){return Tc[h]||void 0},Yo=function(h){return{name:"color",properties:{rawMap:{rgb:yr(h||"#000000")}}}},ap_getTemplate=function(h){return{name:"borders",properties:{rawMap:{count:h.length}},children:h.map(function(n){return function(h){var n=h.left,e=h.right,o=h.top,u=h.bottom,c=h.diagonal,m=n?[Yo(n.color)]:void 0,y=e?[Yo(e.color)]:void 0,w=o?[Yo(o.color)]:void 0,D=u?[Yo(u.color)]:void 0,x=c?[Yo(c.color)]:void 0;return{name:"border",children:[{name:"left",properties:{rawMap:{style:n&&n.style}},children:m},{name:"right",properties:{rawMap:{style:e&&e.style}},children:y},{name:"top",properties:{rawMap:{style:o&&o.style}},children:w},{name:"bottom",properties:{rawMap:{style:u&&u.style}},children:D},{name:"diagonal",properties:{rawMap:{style:c&&c.style}},children:x}]}}(n)})}},Yh=function(h){var e=["Context","LeftToRight","RightToLeft"].indexOf(h);return Math.max(e,0)},K__getTemplate=function(h){var n=h.alignment,e=h.borderId,o=h.fillId,u=h.fontId,c=h.numFmtId,m=h.protection,y=h.xfId,w=[];return n&&w.push(function(h){var n=h.horizontal,e=h.indent,o=h.readingOrder,u=h.rotate,c=h.shrinkToFit,m=h.vertical,y=h.wrapText;return{name:"alignment",properties:{rawMap:{horizontal:n&&$_(n),indent:e,readingOrder:o&&Yh(o),textRotation:u,shrinkToFit:c,vertical:m&&Hw(m),wrapText:y}}}}(n)),m&&w.push(function(h){return{name:"protection",properties:{rawMap:{hidden:!0===h.hideFormula?1:0,locked:!1===h.protected?0:1}}}}(m)),{name:"xf",properties:{rawMap:{applyAlignment:n?1:void 0,applyProtection:m?1:void 0,applyBorder:e?1:void 0,applyFill:o?1:void 0,borderId:e,fillId:o,applyFont:u?1:void 0,fontId:u,applyNumberFormat:c?1:void 0,numFmtId:c,xfId:y}},children:w.length?w:void 0}},Al=function(){return Al=Object.assign||function(h){for(var n,e=1,o=arguments.length;e<o;e++)for(var u in n=arguments[e])Object.prototype.hasOwnProperty.call(n,u)&&(h[u]=n[u]);return h},Al.apply(this,arguments)},Pc=function(h,n){return-1!==h.indexOf("mixedStyle")&&n>1&&(h+="_"+n),h},qo=function(){Qn={base:0},Cu=[],sp=[{fontName:"Calibri",colorTheme:"1",family:"2",scheme:"minor"}],Rc=[{patternType:"none"},{patternType:"gray125"}],lp=[{left:void 0,right:void 0,top:void 0,bottom:void 0,diagonal:void 0}],bu=[{borderId:0,fillId:0,fontId:0,numFmtId:0}],up=[{borderId:0,fillId:0,fontId:0,numFmtId:0,xfId:0}],qh=[{builtinId:0,name:"Normal",xfId:0}]},jw=function(h){var n=h.alignment,e=h.borders,o=h.font,u=h.interior,c=h.numberFormat,m=h.protection,y=h.id,w=0,D=0,x=0,P=0;!y||(y=Pc(y,Wm),null==Qn[y]&&(u&&(w=function(h){var n=function(h){return h?Ko[h]||h:"none"}(h.pattern),e=yr(h.color),o=yr(h.patternColor),u=Rc.findIndex(function(c){return!(c.patternType!=n||c.fgRgb!=e||c.bgRgb!=o)});return-1===u&&(u=Rc.length,Rc.push({patternType:n,fgRgb:e,bgRgb:o})),u}(u)),e&&(D=function(h){var c,m,y,w,D,x,P,R,n=h.borderBottom,e=h.borderTop,o=h.borderLeft,u=h.borderRight;o&&(y=Hn(o.lineStyle,o.weight),P=yr(o.color)),u&&(w=Hn(u.lineStyle,u.weight),R=yr(u.color)),n&&(c=Hn(n.lineStyle,n.weight),D=yr(n.color)),e&&(m=Hn(e.lineStyle,e.weight),x=yr(e.color));var I=lp.findIndex(function(N){var V=N.left,z=N.right,Y=N.top,X=N.bottom;if(!V&&(y||P)||!z&&(w||R)||!Y&&(m||x)||!X&&(c||D))return!1;var q=V||{},se=z||{},ye=Y||{},Ne=X||{};return!(q.style!=y||q.color!=P||se.style!=w||se.color!=R||ye.style!=m||ye.color!=x||Ne.style!=c||Ne.color!=D)});return-1===I&&(I=lp.length,lp.push({left:{style:y,color:P},right:{style:w,color:R},top:{style:m,color:x},bottom:{style:c,color:D},diagonal:{style:void 0,color:void 0}})),I}(e)),o&&(x=function(h){var n=h.fontName,e=void 0===n?"Calibri":n,o=h.color,u=h.size,c=h.bold,m=h.italic,y=h.outline,w=h.shadow,D=h.strikeThrough,x=h.underline,P=h.family,R=h.verticalAlign,I=e&&E._.utf8_encode(e),N=yr(o),V=function(h){if(void 0!==h){var e=["Automatic","Roman","Swiss","Modern","Script","Decorative"].indexOf(h||"Automatic");return Math.max(e,0)}}(P),z=x?x.toLocaleLowerCase():void 0,Y=R?R.toLocaleLowerCase():void 0,X=sp.findIndex(function(q){return!(q.fontName!=I||q.color!=N||q.size!=u||q.bold!=c||q.italic!=m||q.outline!=y||q.shadow!=w||q.strikeThrough!=D||q.underline!=z||q.verticalAlign!=Y||q.family!=V)});return-1===X&&(X=sp.length,sp.push({fontName:I,color:N,size:u,bold:c,italic:m,outline:y,shadow:w,strikeThrough:D,underline:z,verticalAlign:Y,family:null!=V?V.toString():void 0})),X}(o)),c&&(P=function(h){if(h=E._.utf8_encode(h),zh[h])return zh[h];var n=Cu.findIndex(function(e){return e.formatCode===h});return-1===n?Cu.push({formatCode:h,numFmtId:n=Cu.length+164}):n=Cu[n].numFmtId,n}(c.format)),Qn[y]=up.length,up.push({alignment:n,borderId:D||0,fillId:w||0,fontId:x||0,numFmtId:P||0,protection:m,xfId:0})))},X__getTemplate=function(h){var n=function(h){return{name:"numFmts",properties:{rawMap:{count:h.length}},children:h.map(function(n){return function(h){return{name:"numFmt",properties:{rawMap:{formatCode:h.formatCode,numFmtId:h.numFmtId}}}}(n)})}}(Cu),e=function(h){return{name:"fonts",properties:{rawMap:{count:h.length}},children:h.map(function(n){return function(h){var o=h.color,c=h.fontName,y=h.family,w=h.scheme,D=h.italic,x=h.bold,P=h.strikeThrough,R=h.outline,I=h.shadow,N=h.underline,V=h.verticalAlign,z=[{name:"sz",properties:{rawMap:{val:h.size}}},{name:"color",properties:{rawMap:{theme:h.colorTheme,rgb:void 0===o?"FF000000":o}}},{name:"name",properties:{rawMap:{val:void 0===c?"Calibri":c}}}];return y&&z.push({name:"family",properties:{rawMap:{val:y}}}),w&&z.push({name:"scheme",properties:{rawMap:{val:w}}}),D&&z.push({name:"i"}),x&&z.push({name:"b"}),P&&z.push({name:"strike"}),R&&z.push({name:"outline"}),I&&z.push({name:"shadow"}),N&&z.push({name:"u",properties:{rawMap:{val:N}}}),V&&z.push({name:"vertAlign",properties:{rawMap:{val:V}}}),{name:"font",children:z}}(n)})}}(sp.map(function(w){return Al(Al({},w),{size:null!=w.size?w.size:h})})),o=function(h){return{name:"fills",properties:{rawMap:{count:h.length}},children:h.map(function(n){return function(h){var e=h.fgTheme,o=h.fgTint,u=h.fgRgb,c=h.bgRgb,m=h.bgIndexed,y={name:"patternFill",properties:{rawMap:{patternType:h.patternType}}};return(e||o||u)&&(y.children=[{name:"fgColor",properties:{rawMap:{theme:e,tint:o,rgb:u}}}]),(m||c)&&(y.children||(y.children=[]),y.children.push({name:"bgColor",properties:{rawMap:{indexed:m,rgb:c}}})),{name:"fill",children:[y]}}(n)})}}(Rc),u=ap_getTemplate(lp),c=function(h){return{name:"cellStyleXfs",properties:{rawMap:{count:h.length}},children:h.map(function(n){return K__getTemplate(n)})}}(bu),m=function(h){return{name:"cellXfs",properties:{rawMap:{count:h.length}},children:h.map(function(n){return K__getTemplate(n)})}}(up),y=function(h){return{name:"cellStyles",properties:{rawMap:{count:h.length}},children:h.map(function(n){return function(h){return{name:"cellStyle",properties:{rawMap:{builtinId:h.builtinId,name:h.name,xfId:h.xfId}}}}(n)})}}(qh);return qo(),{name:"styleSheet",properties:{rawMap:{"mc:Ignorable":"x14ac x16r2 xr",xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac","xmlns:x16r2":"http://schemas.microsoft.com/office/spreadsheetml/2015/02/main","xmlns:xr":"http://schemas.microsoft.com/office/spreadsheetml/2014/revision"}},children:[n,e,o,u,c,m,y,{name:"tableStyles",properties:{rawMap:{count:0,defaultPivotStyle:"PivotStyleLight16",defaultTableStyle:"TableStyleMedium2"}}}]}},Uw=function(h,n){return Qn[Pc(h,n)]||0},Xh_getTemplate=function(h){return{name:"sheets",children:h.map(function(n,e){return function(h,n){var e=(n+1).toString();return{name:"sheet",properties:{rawMap:{name:h,sheetId:e,"r:id":"rId"+e}}}}(n,e)})}},$n=function(h,n){var e="function"==typeof Symbol&&h[Symbol.iterator];if(!e)return h;var u,m,o=e.call(h),c=[];try{for(;(void 0===n||n-- >0)&&!(u=o.next()).done;)c.push(u.value)}catch(y){m={error:y}}finally{try{u&&!u.done&&(e=o.return)&&e.call(o)}finally{if(m)throw m.error}}return c},dp=function(){for(var h=[],n=0;n<arguments.length;n++)h=h.concat($n(arguments[n]));return h},Yw=function(h){return""!==h.data.value||void 0!==h.styleId},Z__getTemplate=function(h,n,e){var o=h.index,u=h.collapsed,c=h.hidden,m=h.height,y=h.s,w=h.cells,D=void 0===w?[]:w;return function(h,n){for(var e=[],o=0,u=0;u<h.length;u++)(c=h[u]).mergeAcross&&(e.push({pos:u,excelPos:o}),o+=c.mergeAcross),o++;if(e.length)for(u=e.length-1;u>=0;u--){for(var m=[],c=h[e[u].pos],y=1;y<=c.mergeAcross;y++)m.push({ref:""+gu(e[u].excelPos+1+y)+(n+1),styleId:c.styleId,data:{type:"empty",value:null}});m.length&&h.splice.apply(h,dp([e[u].pos+1,0],m))}}(D,n),{name:"row",properties:{rawMap:{r:o,collapsed:u,hidden:c?"1":"0",ht:m,customHeight:null!=m?"1":"0",s:y,customFormat:null!=y?"1":"0"}},children:D.filter(Yw).map(function(P,R){return function(h,n,e){var o=h.ref,u=h.data,c=h.styleId,m=u.type,y=u.value,w=m;"f"===m?w="str":m.charAt(0)===m.charAt(0).toUpperCase()&&(w=function(h){var n=h.charAt(0).toLowerCase();return"s"===n?"inlineStr":n}(m));var x,D={name:"c",properties:{rawMap:{r:o,t:"empty"===w?void 0:w,s:c?Uw(c,e):void 0}}};return"empty"===w?D:(x="str"===w&&"f"===m?[{name:"f",textNode:E._.escapeString(E._.utf8_encode(y))}]:"inlineStr"===w?[{name:"is",children:[{name:"t",textNode:E._.escapeString(E._.utf8_encode(y))}]}]:[{name:"v",textNode:y}],Object.assign({},D,{children:x}))}(P,0,e)})}},zm=function(h){return!h||"Portrait"!==h&&"Landscape"!==h?"portrait":h.toLocaleLowerCase()},$m=function(h){if(null==h)return 1;var e=["Letter","Letter Small","Tabloid","Ledger","Legal","Statement","Executive","A3","A4","A4 Small","A5","A6","B4","B5","Folio","Envelope","Envelope DL","Envelope C5","Envelope B5","Envelope C3","Envelope C4","Envelope C6","Envelope Monarch","Japanese Postcard","Japanese Double Postcard"].indexOf(h);return-1===e?1:e+1},tC=function(h){return h.reduce(function(n,e){var o=function(h){return"Center"===h?"C":"Right"===h?"R":"L"}(e.position),u=function(h,n){return n&&(h+="&amp;&quot;",h+=n.fontName||"Calibri",h+=n.bold!==n.italic?n.bold?",Bold":",Italic":n.bold?",Bold Italic":",Regular",h+="&quot;",n.size&&(h+="&amp;"+n.size),n.strikeThrough&&(h+="&amp;S"),n.underline&&(h+="&amp;"+("Double"===n.underline?"E":"U")),n.color&&(h+="&amp;K"+n.color.replace("#","").toUpperCase())),h}(n+"&amp;"+o,e.font);return""+u+E._.escapeString(function(h){return E._.iterateObject({"&[Page]":"&P","&[Pages]":"&N","&[Date]":"&D","&[Time]":"&T","&[Tab]":"&A","&[Path]":"&Z","&[File]":"&F"},function(e,o){h=h.replace(e,o)}),h}(e.value))},"")},nC=function(h){var e=[];return["all","first","even"].forEach(function(o){var u=h[o],c="all"===o?"odd":o;!u||!u.header&&!u.footer||E._.iterateObject(u,function(m,y){var w=""+m.charAt(0).toUpperCase()+m.slice(1);y&&e.push({name:""+c+w,properties:{rawMap:{"xml:space":"preserve"}},textNode:tC(y)})})}),e},_D_getTemplate=function(h){var e=h.currentSheet,o=h.margins,u=void 0===o?{}:o,c=h.pageSetup,m=h.headerFooterConfig,y=h.worksheet.table,w=y.rows,D=y.columns,x=D&&D.length?function(h,n){var e=[],o=[];h.forEach(function(m,y){var x,w=m.cells,D=0;m.index=y+1,w.forEach(function(P,R){var I=R+D+1,N=gu(I),V=y+1;if(P.mergeAcross){var z=gu(R+(D+=P.mergeAcross)+1);e.push(""+N+V+":"+z+V)}n[I-1]||(n[I-1]={});var Y=P.collapsibleRanges;Y&&Y.forEach(function(X){o.push([I+X[0],I+X[1]])}),(x=n[I-1]).min=I,x.max=I,P.ref=""+N+V})}),o.sort(function(m,y){return m[0]!==y[0]?m[0]-y[0]:y[1]-m[1]});var u=new Map,c=new Map;return o.filter(function(m){var y=m.toString();return!u.get(y)&&(u.set(y,!0),!0)}).forEach(function(m){var y=n.find(function(D){return D.min==m[0]&&D.max==m[1]}),w=c.get(m[0]);n.push({min:m[0],max:m[1],outlineLevel:w||1,width:(y||{width:100}).width}),c.set(m[0],(w||0)+1)}),e}(w,D):[],P=E._.compose(function(h){return function(n){return h.length&&n.push({name:"cols",children:h.map(function(e){return function(h){var n=h.min,e=h.max,o=h.outlineLevel,u=h.s,c=h.width,m=h.hidden,y=h.bestFit,w=1,D="0";return c>1&&(w=function(h){return Math.ceil((h-12)/7+1)}(c),D="1"),{name:"col",properties:{rawMap:{min:n,max:e,outlineLevel:null!=o?o:void 0,width:w,style:u,hidden:m?"1":"0",bestFit:y?"1":"0",customWidth:D}}}}(e)})}),n}}(D),function(h,n){return function(e){return h.length&&e.push({name:"sheetData",children:h.map(function(o,u){return Z__getTemplate(o,u,n)})}),e}}(w,e+1),function(h){return function(n){return h.length&&n.push({name:"mergeCells",properties:{rawMap:{count:h.length}},children:h.map(function(e){return function(h){return{name:"mergeCell",properties:{rawMap:{ref:h}}}}(e)})}),n}}(x),function(h){return function(n){var e=h.top,u=h.right,m=h.bottom,w=h.left,x=h.header,R=h.footer;return n.push({name:"pageMargins",properties:{rawMap:{bottom:void 0===m?.75:m,footer:void 0===R?.3:R,header:void 0===x?.3:x,left:void 0===w?.7:w,right:void 0===u?.7:u,top:void 0===e?.75:e}}}),n}}(u),function(h){return function(n){return h&&n.push({name:"pageSetup",properties:{rawMap:{horizontalDpi:0,verticalDpi:0,orientation:zm(h.orientation),paperSize:$m(h.pageSize)}}}),n}}(c),function(h){return function(n){return h?(n.push({name:"headerFooter",properties:{rawMap:{differentFirst:null!=h.first?1:0,differentOddEven:null!=h.even?1:0}},children:nC(h)}),n):n}}(m),function(h){return function(n){return _n.worksheetImages.get(h)&&n.push({name:"drawing",properties:{rawMap:{"r:id":"rId1"}}}),n}}(e));return{name:"worksheet",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships"}}],rawMap:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},children:P([])}},Ki_getTemplate=function(h){return{name:"Relationships",properties:{rawMap:{xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"}},children:h.map(function(e){return function(h){return{name:"Relationship",properties:{rawMap:{Id:h.Id,Type:h.Type,Target:h.Target}}}}(e)})}},rC=function(h,n){var e="function"==typeof Symbol&&h[Symbol.iterator];if(!e)return h;var u,m,o=e.call(h),c=[];try{for(;(void 0===n||n-- >0)&&!(u=o.next()).done;)c.push(u.value)}catch(y){m={error:y}}finally{try{u&&!u.done&&(e=o.return)&&e.call(o)}finally{if(m)throw m.error}}return c},_n=function(){function h(){}return h.createExcel=function(n,e,o,u,c){return this.addSheetName(e),function(h,n){1===(Wm=n)&&qo(),h.forEach(jw)}(n,this.sheetNames.length),this.createWorksheet(e,o,u,c)},h.buildImageMap=function(n,e,o,u,c){var m=this.sheetNames.length,y=this.images.get(n.id);(!n.position||!n.position.row||!n.position.column)&&(n.position||(n.position={}),n.position=Object.assign({},n.position,{row:e,column:u.indexOf(o)+1}));var w=n;if(function(h,n){var e=h.position,o=e.colSpan,u=e.column;if(h.width)if(o)for(var c=n.slice(u-1,u+o-1),m=0,y=0;y<c.length;y++){var w=c[y].getActualWidth();if(h.width<m+w){h.position.colSpan=y+1,h.totalWidth=h.width,h.width=h.totalWidth-m;break}m+=w}else h.totalWidth=h.width}(w,u),function(h,n){var e=h.position,o=e.rowSpan,u=e.row;if(h.height)if(o)for(var c=0,m=0,y=u;y<u+o;y++){var w=fu(rp(y,n)||20);if(h.height<c+w){h.position.rowSpan=m+1,h.totalHeight=h.height,h.height=h.totalHeight-c;break}c+=w,m++}else h.totalHeight=h.height}(w,c),y){var D=y.find(function(x){return x.sheetId===m});D?D.image.push(w):y.push({sheetId:m,image:[w]})}else this.images.set(w.id,[{sheetId:m,image:[w]}]),this.workbookImageIds.set(w.id,{type:w.imageType,index:this.workbookImageIds.size});this.buildSheetImageMap(m,w)},h.buildSheetImageMap=function(n,e){var o=this.worksheetImageIds.get(n);o||(o=new Map,this.worksheetImageIds.set(n,o));var u=this.worksheetImages.get(n);u?(u.push(e),o.get(e.id)||o.set(e.id,{index:o.size,type:e.imageType})):(this.worksheetImages.set(n,[e]),o.set(e.id,{index:0,type:e.imageType}))},h.addSheetName=function(n){for(var e=n.name,o="";-1!==this.sheetNames.indexOf(e+o);)if(""===o)o="_1";else{var u=parseInt(o.slice(1),10);o="_"+(u+1)}n.name+=o,this.sheetNames.push(n.name)},h.getStringPosition=function(n){return this.sharedStrings.has(n)?this.sharedStrings.get(n):(this.sharedStrings.set(n,this.sharedStrings.size),this.sharedStrings.size-1)},h.resetFactory=function(){this.sharedStrings=new Map,this.images=new Map,this.worksheetImages=new Map,this.workbookImageIds=new Map,this.worksheetImageIds=new Map,this.sheetNames=[],this.factoryMode=E.ExcelFactoryMode.SINGLE_SHEET},h.createWorkbook=function(){return Si(function(h){return{name:"workbook",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships"}}],rawMap:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},children:[Xh_getTemplate(h)]}}(this.sheetNames))},h.createStylesheet=function(n){return Si(X__getTemplate(n))},h.createSharedStrings=function(){return Si(function(h){return{name:"sst",properties:{rawMap:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main",count:h.size,uniqueCount:h.size}},children:zi(h)}}(this.sharedStrings))},h.createCore=function(n){return Si(function(h){var e=(new Date).toJSON();return{name:"cp:coreProperties",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{cp:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",xsi:"http://www.w3.org/2001/XMLSchema-instance"}}]},children:[{name:"dc:creator",textNode:h},{name:"dc:title",textNode:"Workbook"},{name:"dcterms:created",properties:{rawMap:{"xsi:type":"dcterms:W3CDTF"}},textNode:e},{name:"dcterms:modified",properties:{rawMap:{"xsi:type":"dcterms:W3CDTF"}},textNode:e}]}}(n))},h.createContentTypes=function(n){return Si(function(h){var n=new Array(h).fill(void 0).map(function(y,w){return{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",PartName:"/xl/worksheets/sheet"+(w+1)+".xml"}}),e=_n.worksheetImages.size,o={};_n.workbookImageIds.forEach(function(y){o[y.type]=!0});var u=new Array(e).fill(void 0).map(function(y,w){return{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.drawing+xml",PartName:"/xl/drawings/drawing"+(w+1)+".xml"}}),m=function(){for(var h=[],n=0;n<arguments.length;n++)h=h.concat(Dc(arguments[n]));return h}(Object.keys(o).map(function(y){return{name:"Default",ContentType:"image/"+y,Extension:y}}),[{name:"Default",Extension:"rels",ContentType:"application/vnd.openxmlformats-package.relationships+xml"},{name:"Default",ContentType:"application/xml",Extension:"xml"},{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",PartName:"/xl/workbook.xml"}],n,[{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.theme+xml",PartName:"/xl/theme/theme1.xml"},{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",PartName:"/xl/styles.xml"},{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",PartName:"/xl/sharedStrings.xml"}],u,[{name:"Override",ContentType:"application/vnd.openxmlformats-package.core-properties+xml",PartName:"/docProps/core.xml"}]).map(function(y){return function(h){return{name:h.name,properties:{rawMap:{Extension:h.Extension,PartName:h.PartName,ContentType:h.ContentType}}}}(y)});return{name:"Types",properties:{rawMap:{xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"}},children:m}}(n))},h.createRels=function(){var n=Ki_getTemplate([{Id:"rId1",Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",Target:"xl/workbook.xml"},{Id:"rId2",Type:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",Target:"docProps/core.xml"}]);return Si(n)},h.createTheme=function(){return Si({name:"a:theme",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{a:"http://schemas.openxmlformats.org/drawingml/2006/main"}}],rawMap:{name:"Office Theme"}},children:[{name:"a:themeElements",children:[{name:"a:clrScheme",properties:{rawMap:{name:"Office"}},children:[Do(["dk1","sysClr","windowText","000000"]),Do(["lt1","sysClr","window","FFFFFF"]),Do(["dk2","srgbClr","44546A"]),Do(["lt2","srgbClr","E7E6E6"]),Do(["accent1","srgbClr","4472C4"]),Do(["accent2","srgbClr","ED7D31"]),Do(["accent3","srgbClr","A5A5A5"]),Do(["accent4","srgbClr","FFC000"]),Do(["accent5","srgbClr","5B9BD5"]),Do(["accent6","srgbClr","70AD47"]),Do(["hlink","srgbClr","0563C1"]),Do(["folHlink","srgbClr","954F72"])]},xc_getTemplate(),{name:"a:fmtScheme",properties:{rawMap:{name:"Office"}},children:[{name:"a:fillStyleLst",children:[Ps("phClr"),Ke(["1",["0","phClr","105000","110000","67000"],["50000","phClr","103000","105000","73000"],["100000","phClr","109000","105000","81000"],["5400000","0"]]),Ke(["1",["0","phClr","103000","102000","94000"],["50000","phClr","110000","100000",void 0,"100000"],["100000","phClr","120000","99000",void 0,"78000"],["5400000","0"]])]},{name:"a:lnStyleLst",children:[Ur(["6350","flat","sng","ctr"]),Ur(["12700","flat","sng","ctr"]),Ur(["19050","flat","sng","ctr"])]},{name:"a:effectStyleLst",children:[Bn(),Bn(),Bn(["57150","19050","5400000","ctr","0"])]},{name:"a:bgFillStyleLst",children:[Ps("phClr"),Ps("phClr",[Tt("tint","95000"),Tt("satMod","170000")]),Ke(["1",["0","phClr","150000","102000","93000","98000"],["50000","phClr","130000","103000","98000","90000"],["100000","phClr","120000",void 0,void 0,"63000"],["5400000","0"]])]}]}]},{name:"a:objectDefaults"},{name:"a:extraClrSchemeLst"}]})},h.createWorkbookRels=function(n){var e=new Array(n).fill(void 0).map(function(u,c){return{Id:"rId"+(c+1),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet",Target:"worksheets/sheet"+(c+1)+".xml"}}),o=Ki_getTemplate(function(){for(var h=[],n=0;n<arguments.length;n++)h=h.concat(rC(arguments[n]));return h}(e,[{Id:"rId"+(n+1),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",Target:"theme/theme1.xml"},{Id:"rId"+(n+2),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",Target:"styles.xml"},{Id:"rId"+(n+3),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",Target:"sharedStrings.xml"}]));return Si(o)},h.createDrawing=function(n){return Si(function(h){var n=h.sheetIndex,e=_n.worksheetImages.get(n),o=_n.worksheetImageIds.get(n),u=e.map(function(c,m){var y=function(h){h.fitCell=!!h.fitCell||!h.width||!h.height;var n=h.position,e=void 0===n?{}:n,o=h.fitCell,u=h.width,c=void 0===u?0:u,m=h.height,y=void 0===m?0:m,w=h.totalHeight,D=h.totalWidth,x=e.offsetX,P=void 0===x?0:x,R=e.offsetY,I=void 0===R?0:R,N=e.row,V=void 0===N?1:N,z=e.rowSpan,Y=void 0===z?1:z,X=e.column,q=void 0===X?1:X,ie=e.colSpan,ce=void 0===ie?1:ie;return{from:{row:V-1,col:q-1,offsetX:Qa(P),offsetY:Qa(I)},to:{row:V-1+(o?1:Y-1),col:q-1+(o?1:ce-1),offsetX:Qa(c+P),offsetY:Qa(y+I)},height:Qa(w||y),width:Qa(D||c)}}(c);return{name:"xdr:twoCellAnchor",properties:{rawMap:{editAs:"absolute"}},children:[Vn("from",y.from),Vn("to",y.to),z_(c,m,o.get(c.id).index,y),{name:"xdr:clientData"}]}});return{name:"xdr:wsDr",properties:{rawMap:{"xmlns:a":"http://schemas.openxmlformats.org/drawingml/2006/main","xmlns:xdr":"http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing"}},children:u}}({sheetIndex:n}))},h.createDrawingRel=function(n){var e=this,o=this.worksheetImageIds.get(n),u=[];return o.forEach(function(c,m){u.push({Id:"rId"+(c.index+1),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",Target:"../media/image"+(e.workbookImageIds.get(m).index+1)+"."+c.type})}),Si(Ki_getTemplate(u))},h.createWorksheetDrawingRel=function(n){var e=Ki_getTemplate([{Id:"rId1",Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",Target:"../drawings/drawing"+(n+1)+".xml"}]);return Si(e)},h.createWorksheet=function(n,e,o,u){return Si(_D_getTemplate({worksheet:n,currentSheet:this.sheetNames.length-1,margins:e,pageSetup:o,headerFooterConfig:u}))},h.sharedStrings=new Map,h.sheetNames=[],h.images=new Map,h.worksheetImages=new Map,h.workbookImageIds=new Map,h.worksheetImageIds=new Map,h.factoryMode=E.ExcelFactoryMode.SINGLE_SHEET,h}(),Oo=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),iC=function(h){function n(){return null!==h&&h.apply(this,arguments)||this}return Oo(n,h),n.prototype.createExcel=function(e){var c=this.config;return _n.createExcel(this.excelStyles,e,c.margins,c.pageSetup,c.headerFooterConfig)},n.prototype.getDataTypeForValue=function(e){return void 0===e?"empty":E._.isNumeric(e)?"n":"s"},n.prototype.getType=function(e,o,u){if(this.isFormula(u))return"f";if(o&&o.dataType)switch(o.dataType.toLocaleLowerCase()){case"formula":return"f";case"string":return"s";case"number":return"n";case"datetime":return"d";case"error":return"e";case"boolean":return"b";default:console.warn("AG Grid: Unrecognized data type for excel export ["+o.id+".dataType="+o.dataType+"]")}return e},n.prototype.addImage=function(e,o,u){if(this.config.addImageToCell){var c=this.config.addImageToCell(e,o,u);if(c)return _n.buildImageMap(c.image,e,o,this.columnsToExport,this.config.rowHeight),c}},n.prototype.createCell=function(e,o,u){var c=this.getStyleById(e),m=this.getType(o,c,u)||o;return{styleId:c?e:void 0,data:{type:m,value:this.getCellValue(m,u)}}},n.prototype.createMergedCell=function(e,o,u,c){var m=null==u?"":u;return{styleId:this.getStyleById(e)?e:void 0,data:{type:o,value:"s"===o?_n.getStringPosition(m).toString():u},mergeAcross:c}},n.prototype.getCellValue=function(e,o){if(null==o)return _n.getStringPosition("").toString();switch(e){case"s":return""===o?"":_n.getStringPosition(o).toString();case"f":return o.slice(1);case"n":return Number(o).toString();default:return o}},n}(Eo),hp=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),ef=function(){return ef=Object.assign||function(h){for(var n,e=1,o=arguments.length;e<o;e++)for(var u in n=arguments[e])Object.prototype.hasOwnProperty.call(n,u)&&(h[u]=n[u]);return h},ef.apply(this,arguments)},Yi=function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);return u>3&&c&&Object.defineProperty(n,e,c),c},fp=function(h){var n=h.data,e=h.fontSize,o=void 0===e?11:e,u=h.author,c=void 0===u?"AG Grid":u,m=_n.images.size>0;if(_t.addFolders(["_rels/","docProps/","xl/","xl/theme/","xl/_rels/","xl/worksheets/"]),m){_t.addFolders(["xl/worksheets/_rels","xl/drawings/","xl/drawings/_rels","xl/media/"]);var y=0;_n.images.forEach(function(P){var R=P[0].image[0];_t.addFile("xl/media/image"+ ++y+"."+R.imageType,R.base64,!0)})}if(!n||0===n.length)return console.warn("AG Grid: Invalid params supplied to getMultipleSheetsAsExcel() - `ExcelExportParams.data` is empty."),void _n.resetFactory();var w=n.length,D=0;return n.forEach(function(P,R){_t.addFile("xl/worksheets/sheet"+(R+1)+".xml",P),m&&_n.worksheetImages.get(R)&&Bt(R,D++)}),_t.addFile("xl/workbook.xml",_n.createWorkbook()),_t.addFile("xl/styles.xml",_n.createStylesheet(o)),_t.addFile("xl/sharedStrings.xml",_n.createSharedStrings()),_t.addFile("xl/theme/theme1.xml",_n.createTheme()),_t.addFile("xl/_rels/workbook.xml.rels",_n.createWorkbookRels(w)),_t.addFile("docProps/core.xml",_n.createCore(c)),_t.addFile("[Content_Types].xml",_n.createContentTypes(w)),_t.addFile("_rels/.rels",_n.createRels()),_n.resetFactory(),_t.getContent(h.mimeType||"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet")},Bt=function(h,n){var e="xl/drawings",o=e+"/drawing"+(n+1)+".xml",c="xl/worksheets/_rels/sheet"+(h+1)+".xml.rels";_t.addFile(e+"/_rels/drawing"+(n+1)+".xml.rels",_n.createDrawingRel(h)),_t.addFile(o,_n.createDrawing(h)),_t.addFile(c,_n.createWorksheetDrawingRel(n))},CD=function(h){function n(){var e=null!==h&&h.apply(this,arguments)||this;return e.exportMode="xlsx",e}return hp(n,h),n.prototype.postConstruct=function(){this.setBeans({gridSerializer:this.gridSerializer,gridOptionsWrapper:this.gridOptionsWrapper})},n.prototype.getMergedParams=function(e){var o=this.gridOptionsWrapper.getDefaultExportParams("excel");return Object.assign({},o,e)},n.prototype.getData=function(e){return this.setExportMode(e.exportMode||"xlsx"),h.prototype.getData.call(this,e)},n.prototype.export=function(e){if(this.isExportSuppressed())return console.warn("AG Grid: Export cancelled. Export is not allowed as per your configuration."),"";var o=this.getMergedParams(e),u=this.getData(o),m=this.packageFile({data:[u],fontSize:o.fontSize,author:o.author,mimeType:o.mimeType});return m&&$o.download(this.getFileName(o.fileName),m),u},n.prototype.exportDataAsExcel=function(e){return this.export(e)},n.prototype.getDataAsExcel=function(e){var o=this.getMergedParams(e),u=this.getData(o);return e&&"xml"===e.exportMode?u:this.packageFile({data:[u],fontSize:o.fontSize,author:o.author,mimeType:o.mimeType})},n.prototype.setFactoryMode=function(e,o){void 0===o&&(o="xlsx"),("xlsx"===o?_n:np).factoryMode=e},n.prototype.getFactoryMode=function(e){return("xlsx"===e?_n:np).factoryMode},n.prototype.getSheetDataForExcel=function(e){var o=this.getMergedParams(e);return this.getData(o)},n.prototype.getMultipleSheetsAsExcel=function(e){return fp(e)},n.prototype.exportMultipleSheetsAsExcel=function(e){return function(h){var n=h.fileName,e=void 0===n?"export.xlsx":n,o=fp(h);o&&$o.download(e,o)}(e)},n.prototype.getDefaultFileName=function(){return"export."+this.getExportMode()},n.prototype.getDefaultFileExtension=function(){return this.getExportMode()},n.prototype.createSerializingSession=function(e){var o=this,u=o.columnModel,c=o.valueService,m=o.gridOptionsWrapper,y="xlsx"===this.getExportMode(),w="ag-grid";null!=e.sheetName&&(w=E._.utf8_encode(e.sheetName.toString().substr(0,31)));var D=ef(ef({},e),{sheetName:w,columnModel:u,valueService:c,gridOptionsWrapper:m,headerRowHeight:e.headerRowHeight||e.rowHeight,baseExcelStyles:this.gridOptions.excelStyles||[],styleLinker:this.styleLinker.bind(this)});return new(y?iC:Gm)(D)},n.prototype.styleLinker=function(e,o,u,c,m){if(e===Un.HEADER)return["header"];if(e===Un.HEADER_GROUPING)return["header","headerGroup"];var y=this.gridOptions.excelStyles,w=["cell"];if(!y||!y.length)return w;var D=y.map(function(x){return x.id});return this.stylingService.processAllCellClasses(c.getColDef(),{value:u,data:m.data,node:m,colDef:c.getColDef(),rowIndex:o,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),$scope:null,context:this.gridOptionsWrapper.getContext()},function(x){D.indexOf(x)>-1&&w.push(x)}),w.sort(function(x,P){return D.indexOf(x)<D.indexOf(P)?-1:1})},n.prototype.isExportSuppressed=function(){return this.gridOptionsWrapper.isSuppressExcelExport()},n.prototype.setExportMode=function(e){this.exportMode=e},n.prototype.getExportMode=function(){return this.exportMode},n.prototype.packageFile=function(e){return"xml"===this.getExportMode()?new Blob(["\ufeff",e.data[0]],{type:e.mimeType||"application/vnd.ms-excel"}):fp(e)},Yi([E.Autowired("columnModel")],n.prototype,"columnModel",void 0),Yi([E.Autowired("valueService")],n.prototype,"valueService",void 0),Yi([E.Autowired("gridOptions")],n.prototype,"gridOptions",void 0),Yi([E.Autowired("stylingService")],n.prototype,"stylingService",void 0),Yi([E.Autowired("gridSerializer")],n.prototype,"gridSerializer",void 0),Yi([E.Autowired("gridOptionsWrapper")],n.prototype,"gridOptionsWrapper",void 0),Yi([E.PostConstruct],n.prototype,"postConstruct",null),Yi([E.Bean("excelCreator")],n)}(V_),_r={moduleName:E.ModuleNames.ExcelExportModule,beans:[CD,qn,H_],dependantModules:[kw,ii]},Qw=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),gt=function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);return u>3&&c&&Object.defineProperty(n,e,c),c},ai=(()=>(function(h){h[h.EXPANDED=0]="EXPANDED",h[h.COLLAPSED=1]="COLLAPSED",h[h.INDETERMINATE=2]="INDETERMINATE"}(ai||(ai={})),ai))(),go=function(h){function n(){return null!==h&&h.apply(this,arguments)||this}return Qw(n,h),n.prototype.preConstruct=function(){this.setTemplate('<div class="ag-filter-toolpanel-search" role="presentation">\n                <div ref="eExpand" class="ag-filter-toolpanel-expand"></div>\n                <ag-input-text-field ref="eFilterTextField" class="ag-filter-toolpanel-search-input"></ag-input-text-field>\n            </div>')},n.prototype.postConstruct=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc();this.eFilterTextField.onValueChange(this.onSearchTextChanged.bind(this)),this.eFilterTextField.setInputAriaLabel(e("ariaFilterColumnsInput","Filter Columns Input")),this.createExpandIcons(),this.setExpandState(ai.EXPANDED),this.addManagedListener(this.eExpand,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eventService,E.Events.EVENT_NEW_COLUMNS_LOADED,this.showOrHideOptions.bind(this))},n.prototype.init=function(e){this.params=e,this.columnModel.isReady()&&this.showOrHideOptions()},n.prototype.createExpandIcons=function(){this.eExpand.appendChild(this.eExpandChecked=E._.createIconNoSpan("columnSelectOpen",this.gridOptionsWrapper)),this.eExpand.appendChild(this.eExpandUnchecked=E._.createIconNoSpan("columnSelectClosed",this.gridOptionsWrapper)),this.eExpand.appendChild(this.eExpandIndeterminate=E._.createIconNoSpan("columnSelectIndeterminate",this.gridOptionsWrapper))},n.prototype.showOrHideOptions=function(){var e=!this.params.suppressFilterSearch,o=!this.params.suppressExpandAll,u=this.gridOptionsWrapper.getLocaleTextFunc();this.eFilterTextField.setInputPlaceholder(u("searchOoo","Search..."));var m=this.columnModel.getAllGridColumns().some(function(y){return y.getOriginalParent()&&y.isFilterAllowed()});E._.setDisplayed(this.eFilterTextField.getGui(),e),E._.setDisplayed(this.eExpand,o&&m)},n.prototype.onSearchTextChanged=function(){var e=this;this.onSearchTextChangedDebounced||(this.onSearchTextChangedDebounced=E._.debounce(function(){e.dispatchEvent({type:"searchChanged",searchText:e.eFilterTextField.getValue()})},300)),this.onSearchTextChangedDebounced()},n.prototype.onExpandClicked=function(){this.dispatchEvent(this.currentExpandState===ai.EXPANDED?{type:"collapseAll"}:{type:"expandAll"})},n.prototype.setExpandState=function(e){this.currentExpandState=e,E._.setDisplayed(this.eExpandChecked,this.currentExpandState===ai.EXPANDED),E._.setDisplayed(this.eExpandUnchecked,this.currentExpandState===ai.COLLAPSED),E._.setDisplayed(this.eExpandIndeterminate,this.currentExpandState===ai.INDETERMINATE)},gt([E.Autowired("columnModel")],n.prototype,"columnModel",void 0),gt([E.RefSelector("eExpand")],n.prototype,"eExpand",void 0),gt([E.RefSelector("eFilterTextField")],n.prototype,"eFilterTextField",void 0),gt([E.PreConstruct],n.prototype,"preConstruct",null),gt([E.PostConstruct],n.prototype,"postConstruct",null),n}(E.Component),Zw=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),He=function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);return u>3&&c&&Object.defineProperty(n,e,c),c},hn=function(h){function n(e){void 0===e&&(e=!1);var o=h.call(this,n.TEMPLATE)||this;return o.expanded=!1,o.hideHeader=e,o}return Zw(n,h),n.prototype.postConstruct=function(){this.eExpandChecked=E._.createIconNoSpan("columnSelectOpen",this.gridOptionsWrapper),this.eExpandUnchecked=E._.createIconNoSpan("columnSelectClosed",this.gridOptionsWrapper),this.eExpand.appendChild(this.eExpandChecked),this.eExpand.appendChild(this.eExpandUnchecked)},n.prototype.setColumn=function(e){var o=this;this.column=e,this.eFilterName.innerText=this.columnModel.getDisplayNameForColumn(this.column,"filterToolPanel",!1)||"",this.addManagedListener(this.eFilterToolPanelHeader,"click",this.toggleExpanded.bind(this)),this.addManagedListener(this.eFilterToolPanelHeader,"keydown",function(u){u.key===E.KeyCode.ENTER&&o.toggleExpanded()}),this.addManagedListener(this.eventService,E.Events.EVENT_FILTER_OPENED,this.onFilterOpened.bind(this)),this.addInIcon("filter",this.eFilterIcon,this.column),this.eFilterIcon.classList.toggle("ag-hidden",!this.isFilterActive()),this.eExpandChecked.classList.add("ag-hidden"),this.hideHeader?(this.eFilterToolPanelHeader.classList.toggle("ag-hidden",!0),this.eFilterToolPanelHeader.removeAttribute("tabindex")):this.eFilterToolPanelHeader.setAttribute("tabindex","0"),this.addManagedListener(this.column,E.Column.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this))},n.prototype.getColumn=function(){return this.column},n.prototype.getColumnFilterName=function(){return this.columnModel.getDisplayNameForColumn(this.column,"filterToolPanel",!1)},n.prototype.addCssClassToTitleBar=function(e){this.eFilterToolPanelHeader.classList.add(e)},n.prototype.addInIcon=function(e,o,u){if(null!=o){var c=E._.createIconNoSpan(e,this.gridOptionsWrapper,u);o.appendChild(c)}},n.prototype.isFilterActive=function(){return this.filterManager.isFilterActive(this.column)},n.prototype.onFilterChanged=function(){this.eFilterIcon.classList.toggle("ag-hidden",!this.isFilterActive()),this.dispatchEvent({type:E.Column.EVENT_FILTER_CHANGED})},n.prototype.toggleExpanded=function(){this.expanded?this.collapse():this.expand()},n.prototype.expand=function(){var o,e=this;if(!this.expanded){this.expanded=!0,E._.setAriaExpanded(this.eFilterToolPanelHeader,!0);var u=E._.loadTemplate('<div class="ag-filter-toolpanel-instance-filter"></div>'),c=null===(o=this.filterManager.getOrCreateFilterWrapper(this.column,"TOOLBAR"))||void 0===o?void 0:o.filterPromise;c&&c.then(function(m){e.underlyingFilter=m,m&&(u.appendChild(m.getGui()),e.agFilterToolPanelBody.appendChild(u),m.afterGuiAttached&&m.afterGuiAttached({container:"toolPanel"}))}),E._.setDisplayed(this.eExpandChecked,!0),E._.setDisplayed(this.eExpandUnchecked,!1)}},n.prototype.collapse=function(){!this.expanded||(this.expanded=!1,E._.setAriaExpanded(this.eFilterToolPanelHeader,!1),this.agFilterToolPanelBody.removeChild(this.agFilterToolPanelBody.children[0]),E._.setDisplayed(this.eExpandChecked,!1),E._.setDisplayed(this.eExpandUnchecked,!0))},n.prototype.refreshFilter=function(){if(this.expanded){var e=this.underlyingFilter;!e||"function"==typeof e.refreshVirtualList&&e.refreshVirtualList()}},n.prototype.onFilterOpened=function(e){"COLUMN_MENU"===e.source&&e.column===this.column&&(!this.expanded||this.collapse())},n.TEMPLATE='\n        <div class="ag-filter-toolpanel-instance">\n            <div class="ag-filter-toolpanel-header ag-filter-toolpanel-instance-header" ref="eFilterToolPanelHeader" role="button" aria-expanded="false">\n                <div ref="eExpand" class="ag-filter-toolpanel-expand"></div>\n                <span ref="eFilterName" class="ag-header-cell-text"></span>\n                <span ref="eFilterIcon" class="ag-header-icon ag-filter-icon ag-filter-toolpanel-instance-header-icon" aria-hidden="true"></span>\n            </div>\n            <div class="ag-filter-toolpanel-instance-body ag-filter" ref="agFilterToolPanelBody"></div>\n        </div>',He([E.RefSelector("eFilterToolPanelHeader")],n.prototype,"eFilterToolPanelHeader",void 0),He([E.RefSelector("eFilterName")],n.prototype,"eFilterName",void 0),He([E.RefSelector("agFilterToolPanelBody")],n.prototype,"agFilterToolPanelBody",void 0),He([E.RefSelector("eFilterIcon")],n.prototype,"eFilterIcon",void 0),He([E.RefSelector("eExpand")],n.prototype,"eExpand",void 0),He([E.Autowired("filterManager")],n.prototype,"filterManager",void 0),He([E.Autowired("columnModel")],n.prototype,"columnModel",void 0),He([E.PostConstruct],n.prototype,"postConstruct",null),n}(E.Component),In=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Dn=function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);return u>3&&c&&Object.defineProperty(n,e,c),c},ts=function(h){function n(e,o,u,c,m){var y=h.call(this)||this;return y.columnGroup=e,y.childFilterComps=o,y.depth=c,y.expandedCallback=u,y.showingColumn=m,y}return In(n,h),n.prototype.preConstruct=function(){this.setTemplate(n.TEMPLATE,{filterGroupComp:{cssIdentifier:"filter-toolpanel",direction:"vertical"}})},n.prototype.init=function(){var e=this;this.setGroupTitle(),this.filterGroupComp.setAlignItems("stretch"),this.filterGroupComp.addCssClass("ag-filter-toolpanel-group-level-"+this.depth),this.filterGroupComp.addCssClassToTitleBar("ag-filter-toolpanel-group-level-"+this.depth+"-header"),this.childFilterComps.forEach(function(o){e.filterGroupComp.addItem(o),o.addCssClassToTitleBar("ag-filter-toolpanel-group-level-"+(e.depth+1)+"-header")}),this.addExpandCollapseListeners(),this.addFilterChangedListeners(),this.setupTooltip()},n.prototype.setupTooltip=function(){var e=this;if(this.showingColumn){var o=function(){var u=e.columnGroup.getColDef().headerTooltip;e.setTooltip(u)};o(),this.addManagedListener(this.eventService,E.Events.EVENT_NEW_COLUMNS_LOADED,o)}},n.prototype.getTooltipParams=function(){var e=h.prototype.getTooltipParams.call(this);return e.location="filterToolPanelColumnGroup",e},n.prototype.addCssClassToTitleBar=function(e){this.filterGroupComp.addCssClassToTitleBar(e)},n.prototype.refreshFilters=function(){this.childFilterComps.forEach(function(e){e instanceof n?e.refreshFilters():e.refreshFilter()})},n.prototype.isColumnGroup=function(){return this.columnGroup instanceof E.ProvidedColumnGroup},n.prototype.isExpanded=function(){return this.filterGroupComp.isExpanded()},n.prototype.getChildren=function(){return this.childFilterComps},n.prototype.getFilterGroupName=function(){return this.filterGroupName?this.filterGroupName:""},n.prototype.getFilterGroupId=function(){return this.columnGroup.getId()},n.prototype.hideGroupItem=function(e,o){this.filterGroupComp.hideItem(e,o)},n.prototype.hideGroup=function(e){this.addOrRemoveCssClass("ag-hidden",e)},n.prototype.forEachToolPanelFilterChild=function(e){this.childFilterComps.forEach(function(o){o instanceof hn&&e(o)})},n.prototype.addExpandCollapseListeners=function(){var e=this,o=this.isColumnGroup()?function(){return e.expandedCallback()}:function(){return e.forEachToolPanelFilterChild(function(c){return c.expand()})},u=this.isColumnGroup()?function(){return e.expandedCallback()}:function(){return e.forEachToolPanelFilterChild(function(c){return c.collapse()})};this.addManagedListener(this.filterGroupComp,E.AgGroupComponent.EVENT_EXPANDED,o),this.addManagedListener(this.filterGroupComp,E.AgGroupComponent.EVENT_COLLAPSED,u)},n.prototype.addFilterChangedListeners=function(){var e=this;if(this.columnGroup instanceof E.ProvidedColumnGroup){var o=this.columnGroup;o.getLeafColumns().forEach(function(m){e.addManagedListener(m,E.Column.EVENT_FILTER_CHANGED,function(){e.filterGroupComp.addOrRemoveCssClass("ag-has-filter",o.getLeafColumns().some(function(m){return m.isFilterActive()}))})})}else{var c=this.columnGroup;this.addManagedListener(this.eventService,E.Events.EVENT_FILTER_OPENED,this.onFilterOpened.bind(this)),this.addManagedListener(c,E.Column.EVENT_FILTER_CHANGED,function(){e.filterGroupComp.addOrRemoveCssClass("ag-has-filter",c.isFilterActive())})}},n.prototype.onFilterOpened=function(e){"COLUMN_MENU"===e.source&&e.column===this.columnGroup&&(!this.isExpanded()||this.collapse())},n.prototype.expand=function(){this.filterGroupComp.toggleGroupExpand(!0)},n.prototype.collapse=function(){this.filterGroupComp.toggleGroupExpand(!1)},n.prototype.setGroupTitle=function(){this.filterGroupName=this.columnGroup instanceof E.ProvidedColumnGroup?this.getColumnGroupName(this.columnGroup):this.getColumnName(this.columnGroup),this.filterGroupComp.setTitle(this.filterGroupName||"")},n.prototype.getColumnGroupName=function(e){return this.columnModel.getDisplayNameForProvidedColumnGroup(null,e,"filterToolPanel")},n.prototype.getColumnName=function(e){return this.columnModel.getDisplayNameForColumn(e,"filterToolPanel",!1)},n.prototype.destroyFilters=function(){this.childFilterComps=this.destroyBeans(this.childFilterComps),E._.clearElement(this.getGui())},n.prototype.destroy=function(){this.destroyFilters(),h.prototype.destroy.call(this)},n.TEMPLATE='<div class="ag-filter-toolpanel-group-wrapper">\n            <ag-group-component ref="filterGroupComp"></ag-group-component>\n        </div>',Dn([E.RefSelector("filterGroupComp")],n.prototype,"filterGroupComp",void 0),Dn([E.Autowired("columnModel")],n.prototype,"columnModel",void 0),Dn([E.PreConstruct],n.prototype,"preConstruct",null),Dn([E.PostConstruct],n.prototype,"init",null),n}(E.Component),gp=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),qi=function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);return u>3&&c&&Object.defineProperty(n,e,c),c},Km=function(h){function n(){var e=h.call(this,n.TEMPLATE)||this;return e.initialised=!1,e.filterGroupComps=[],e}return gp(n,h),n.prototype.init=function(e){var o=this;this.initialised=!0;var u={suppressExpandAll:!1,suppressFilterSearch:!1,suppressSyncLayoutWithGrid:!1,api:this.gridApi,columnApi:this.columnApi};E._.mergeDeep(u,e),this.params=u,this.params.suppressSyncLayoutWithGrid||this.addManagedListener(this.eventService,E.Events.EVENT_COLUMN_MOVED,function(){return o.onColumnsChanged()}),this.addManagedListener(this.eventService,E.Events.EVENT_NEW_COLUMNS_LOADED,function(){return o.onColumnsChanged()}),this.addManagedListener(this.eventService,E.Events.EVENT_TOOL_PANEL_VISIBLE_CHANGED,function(c){"filters"===c.source&&o.refreshFilters()}),this.columnModel.isReady()&&this.onColumnsChanged()},n.prototype.onColumnsChanged=function(){var e=this.columnModel.isPivotMode();this.params.suppressSyncLayoutWithGrid||e?this.buildTreeFromProvidedColumnDefs():this.syncFilterLayout()},n.prototype.syncFilterLayout=function(){this.toolPanelColDefService.syncLayoutWithGrid(this.setFiltersLayout.bind(this))},n.prototype.buildTreeFromProvidedColumnDefs=function(){var e=this;this.destroyFilters();var o=this.columnModel.getPrimaryColumnTree();this.filterGroupComps=this.recursivelyAddComps(o,0);var u=this.filterGroupComps.length;u&&(this.filterGroupComps.forEach(function(c){return e.appendChild(c)}),this.setFirstAndLastVisible(0,u-1)),E._.exists(this.searchFilterText)&&this.searchFilters(this.searchFilterText),this.fireExpandedEvent()},n.prototype.setFiltersLayout=function(e){var o=this;this.destroyFilters();var u=this.toolPanelColDefService.createColumnTree(e);this.filterGroupComps=this.recursivelyAddComps(u,0);var c=this.filterGroupComps.length;c&&(this.filterGroupComps.forEach(function(m){return o.appendChild(m)}),this.setFirstAndLastVisible(0,c-1)),E._.exists(this.searchFilterText)&&this.searchFilters(this.searchFilterText),this.fireExpandedEvent()},n.prototype.recursivelyAddComps=function(e,o){var u=this;return E._.flatten(e.map(function(c){if(c instanceof E.ProvidedColumnGroup)return E._.flatten(u.recursivelyAddFilterGroupComps(c,o));var m=c;if(!u.shouldDisplayFilter(m))return[];var w=new hn(0===o);if(u.getContext().createBean(w),w.setColumn(m),o>0)return w;var D=u.createBean(new ts(m,[w],u.onGroupExpanded.bind(u),o,!0));return D.addCssClassToTitleBar("ag-filter-toolpanel-header"),D.collapse(),D}))},n.prototype.recursivelyAddFilterGroupComps=function(e,o){if(this.filtersExistInChildren(e.getChildren())){var u=e.getColGroupDef();if(u&&u.suppressFiltersToolPanel)return[];var c=e.isPadding()?o:o+1,m=E._.flatten(this.recursivelyAddComps(e.getChildren(),c));if(e.isPadding())return m;var y=new ts(e,m,this.onGroupExpanded.bind(this),o,!1);return this.getContext().createBean(y),y.addCssClassToTitleBar("ag-filter-toolpanel-header"),[y]}},n.prototype.filtersExistInChildren=function(e){var o=this;return e.some(function(u){return u instanceof E.ProvidedColumnGroup?o.filtersExistInChildren(u.getChildren()):o.shouldDisplayFilter(u)})},n.prototype.shouldDisplayFilter=function(e){var o=e.getColDef()&&e.getColDef().suppressFiltersToolPanel;return e.isFilterAllowed()&&!o},n.prototype.refresh=function(){},n.prototype.setVisible=function(e){h.prototype.setDisplayed.call(this,e),e&&!this.initialised&&this.init(this.params)},n.prototype.expandFilterGroups=function(e,o){var u=[],c=function(y){var w=y.getFilterGroupId();(!o||E._.includes(o,w))&&(e&&y.isColumnGroup()?y.expand():y.collapse(),u.push(w)),y.getChildren().forEach(function(x){x instanceof ts&&c(x)})};if(this.filterGroupComps.forEach(c),this.onGroupExpanded(),o){var m=o.filter(function(y){return u.indexOf(y)<0});m.length>0&&console.warn("AG Grid: unable to find groups for these supplied groupIds:",m)}},n.prototype.expandFilters=function(e,o){var u=[],c=function(y){if(y instanceof ts){var w=!1;return y.getChildren().forEach(function(P){c(P)&&(e?(y.expand(),w=!0):y.isColumnGroup()||y.collapse())}),w}var D=y.getColumn().getColId(),x=!o||E._.includes(o,D);return x&&(e?y.expand():y.collapse(),u.push(D)),x};if(this.filterGroupComps.forEach(c),this.onGroupExpanded(),o){var m=o.filter(function(y){return u.indexOf(y)<0});m.length>0&&console.warn("AG Grid: unable to find columns for these supplied colIds:",m)}},n.prototype.onGroupExpanded=function(){this.fireExpandedEvent()},n.prototype.fireExpandedEvent=function(){var e=0,o=0,u=function(m){!m.isColumnGroup()||(m.isExpanded()?e++:o++,m.getChildren().forEach(function(y){y instanceof ts&&u(y)}))};this.filterGroupComps.forEach(u),this.dispatchEvent({type:"groupExpanded",state:e>0&&o>0?ai.INDETERMINATE:o>0?ai.COLLAPSED:ai.EXPANDED})},n.prototype.performFilterSearch=function(e){this.searchFilterText=E._.exists(e)?e.toLowerCase():null,this.searchFilters(this.searchFilterText)},n.prototype.searchFilters=function(e){var c,m,o=function(y){return!E._.exists(e)||-1!==y.toLowerCase().indexOf(e)},u=function(y,w){if(!(y instanceof ts))return o(y.getColumnFilterName()||"");var D=y.getChildren(),x=o(y.getFilterGroupName()),P=w||x;if(P){y.hideGroup(!1);for(var R=0;R<D.length;R++)u(D[R],P),y.hideGroupItem(!1,R);return!0}var I=!1;return D.forEach(function(N,V){var z=u(N,w);y.hideGroupItem(!z,V),z&&(I=!0)}),y.hideGroup(!I),I};this.filterGroupComps.forEach(function(y,w){u(y,!1),void 0===c?y.containsCssClass("ag-hidden")||(c=w,m=w):!y.containsCssClass("ag-hidden")&&m!==w&&(m=w)}),this.setFirstAndLastVisible(c,m)},n.prototype.setFirstAndLastVisible=function(e,o){this.filterGroupComps.forEach(function(u,c){u.removeCssClass("ag-first-group-visible"),u.removeCssClass("ag-last-group-visible"),c===e&&u.addCssClass("ag-first-group-visible"),c===o&&u.addCssClass("ag-last-group-visible")})},n.prototype.refreshFilters=function(){this.filterGroupComps.forEach(function(e){return e.refreshFilters()})},n.prototype.destroyFilters=function(){this.filterGroupComps=this.destroyBeans(this.filterGroupComps),E._.clearElement(this.getGui())},n.prototype.destroy=function(){this.destroyFilters(),h.prototype.destroy.call(this)},n.TEMPLATE='<div class="ag-filter-list-panel"></div>',qi([E.Autowired("gridApi")],n.prototype,"gridApi",void 0),qi([E.Autowired("columnApi")],n.prototype,"columnApi",void 0),qi([E.Autowired("toolPanelColDefService")],n.prototype,"toolPanelColDefService",void 0),qi([E.Autowired("columnModel")],n.prototype,"columnModel",void 0),n}(E.Component),nf=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Ut=function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);return u>3&&c&&Object.defineProperty(n,e,c),c},Jw=function(h){function n(){var e=h.call(this,n.TEMPLATE)||this;return e.initialised=!1,e.listenerDestroyFuncs=[],e}return nf(n,h),n.prototype.init=function(e){this.initialised&&(this.listenerDestroyFuncs.forEach(function(m){return m()}),this.listenerDestroyFuncs=[]),this.initialised=!0;var o={suppressExpandAll:!1,suppressFilterSearch:!1,suppressSyncLayoutWithGrid:!1,api:this.gridApi,columnApi:this.columnApi};E._.mergeDeep(o,e),this.params=o,this.filtersToolPanelHeaderPanel.init(this.params),this.filtersToolPanelListPanel.init(this.params),this.params.suppressExpandAll&&this.params.suppressFilterSearch&&this.filtersToolPanelHeaderPanel.setDisplayed(!1),this.listenerDestroyFuncs.push(this.addManagedListener(this.filtersToolPanelHeaderPanel,"expandAll",this.onExpandAll.bind(this)),this.addManagedListener(this.filtersToolPanelHeaderPanel,"collapseAll",this.onCollapseAll.bind(this)),this.addManagedListener(this.filtersToolPanelHeaderPanel,"searchChanged",this.onSearchChanged.bind(this)),this.addManagedListener(this.filtersToolPanelListPanel,"groupExpanded",this.onGroupExpanded.bind(this)))},n.prototype.setVisible=function(e){h.prototype.setDisplayed.call(this,e),e&&!this.initialised&&this.init(this.params)},n.prototype.onExpandAll=function(){this.filtersToolPanelListPanel.expandFilterGroups(!0)},n.prototype.onCollapseAll=function(){this.filtersToolPanelListPanel.expandFilterGroups(!1)},n.prototype.onSearchChanged=function(e){this.filtersToolPanelListPanel.performFilterSearch(e.searchText)},n.prototype.setFilterLayout=function(e){this.filtersToolPanelListPanel.setFiltersLayout(e)},n.prototype.onGroupExpanded=function(e){this.filtersToolPanelHeaderPanel.setExpandState(e.state)},n.prototype.expandFilterGroups=function(e){this.filtersToolPanelListPanel.expandFilterGroups(!0,e)},n.prototype.collapseFilterGroups=function(e){this.filtersToolPanelListPanel.expandFilterGroups(!1,e)},n.prototype.expandFilters=function(e){this.filtersToolPanelListPanel.expandFilters(!0,e)},n.prototype.collapseFilters=function(e){this.filtersToolPanelListPanel.expandFilters(!1,e)},n.prototype.syncLayoutWithGrid=function(){this.filtersToolPanelListPanel.syncFilterLayout()},n.prototype.refresh=function(){this.init(this.params)},n.prototype.destroy=function(){h.prototype.destroy.call(this)},n.TEMPLATE='<div class="ag-filter-toolpanel">\n            <ag-filters-tool-panel-header ref="filtersToolPanelHeaderPanel"></ag-filters-tool-panel-header>\n            <ag-filters-tool-panel-list ref="filtersToolPanelListPanel"></ag-filters-tool-panel-list>\n         </div>',Ut([E.RefSelector("filtersToolPanelHeaderPanel")],n.prototype,"filtersToolPanelHeaderPanel",void 0),Ut([E.RefSelector("filtersToolPanelListPanel")],n.prototype,"filtersToolPanelListPanel",void 0),Ut([E.Autowired("gridApi")],n.prototype,"gridApi",void 0),Ut([E.Autowired("columnApi")],n.prototype,"columnApi",void 0),n}(E.Component),Ve={moduleName:E.ModuleNames.FiltersToolPanelModule,beans:[],agStackComponents:[{componentName:"AgFiltersToolPanelHeader",componentClass:go},{componentName:"AgFiltersToolPanelList",componentClass:Km}],userComponents:[{componentName:"agFiltersToolPanel",componentClass:Jw}],dependantModules:[ln,ii]},Oa=function(){function h(n,e,o,u){this.x=n,this.y=e,this.width=o,this.height=u}return h.prototype.isValid=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},h.prototype.dilate=function(n){this.x-=n,this.y-=n,this.width+=2*n,this.height+=2*n},h.prototype.containsPoint=function(n,e){return n>=this.x&&n<=this.x+this.width&&e>=this.y&&e<=this.y+this.height},h.prototype.render=function(n,e){void 0===e&&(e=h.noParams),n.save(),e.resetTransform&&n.setTransform(1,0,0,1,0,0),n.strokeStyle=e.strokeStyle||"cyan",n.lineWidth=e.lineWidth||1,n.strokeRect(this.x,this.y,this.width,this.height),e.label&&(n.fillStyle=e.fillStyle||"black",n.textBaseline="bottom",n.fillText(e.label,this.x,this.y)),n.restore()},h.noParams={},h}(),Kr=function(h,n){var e="function"==typeof Symbol&&h[Symbol.iterator];if(!e)return h;var u,m,o=e.call(h),c=[];try{for(;(void 0===n||n-- >0)&&!(u=o.next()).done;)c.push(u.value)}catch(y){m={error:y}}finally{try{u&&!u.done&&(e=o.return)&&e.call(o)}finally{if(m)throw m.error}}return c},xo=function(){function h(n){void 0===n&&(n=[1,0,0,1,0,0]),this.elements=n}return h.prototype.setElements=function(n){var e=this.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],this},h.prototype.setIdentityElements=function(){var n=this.elements;return n[0]=1,n[1]=0,n[2]=0,n[3]=1,n[4]=0,n[5]=0,this},Object.defineProperty(h.prototype,"identity",{get:function(){var n=this.elements;return 1===n[0]&&0===n[1]&&0===n[2]&&1===n[3]&&0===n[4]&&0===n[5]},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"a",{get:function(){return this.elements[0]},set:function(n){this.elements[0]=n},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"b",{get:function(){return this.elements[1]},set:function(n){this.elements[1]=n},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"c",{get:function(){return this.elements[2]},set:function(n){this.elements[2]=n},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"d",{get:function(){return this.elements[3]},set:function(n){this.elements[3]=n},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"e",{get:function(){return this.elements[4]},set:function(n){this.elements[4]=n},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"f",{get:function(){return this.elements[5]},set:function(n){this.elements[5]=n},enumerable:!0,configurable:!0}),h.prototype.AxB=function(n,e,o){var u=Kr(n,6),c=u[0],m=u[1],y=u[2],w=u[3],D=u[4],x=u[5],P=Kr(e,6),R=P[0],I=P[1],N=P[2],V=P[3],z=P[4],Y=P[5];(o=o||n)[0]=c*R+y*I,o[1]=m*R+w*I,o[2]=c*N+y*V,o[3]=m*N+w*V,o[4]=c*z+y*Y+D,o[5]=m*z+w*Y+x},h.prototype.multiplySelf=function(n){return this.AxB(this.elements,n.elements),this},h.prototype.multiply=function(n){var e=new Array(6);return this.AxB(this.elements,n.elements,e),new h(e)},h.prototype.preMultiplySelf=function(n){return this.AxB(n.elements,this.elements,this.elements),this},h.prototype.inverse=function(){var n=Kr(this.elements,6),e=n[0],o=n[1],u=n[2],c=n[3],m=n[4],y=n[5],w=1/(e*c-o*u);return new h([c*=w,-(o*=w),-(u*=w),e*=w,u*y-c*m,o*m-e*y])},h.prototype.inverseTo=function(n){var e=Kr(this.elements,6),o=e[0],u=e[1],c=e[2],m=e[3],y=e[4],w=e[5],D=1/(o*m-u*c);return n.setElements([m*=D,-(u*=D),-(c*=D),o*=D,c*w-m*y,u*y-o*w]),this},h.prototype.invertSelf=function(){var n=this.elements,e=Kr(n,6),o=e[0],u=e[1],c=e[2],m=e[3],y=e[4],w=e[5],D=1/(o*m-u*c);return o*=D,u*=D,c*=D,n[0]=m*=D,n[1]=-u,n[2]=-c,n[3]=o,n[4]=c*w-m*y,n[5]=u*y-o*w,this},h.prototype.clone=function(){return new h(this.elements.slice())},h.prototype.transformPoint=function(n,e){var o=this.elements;return{x:n*o[0]+e*o[2]+o[4],y:n*o[1]+e*o[3]+o[5]}},h.prototype.transformBBox=function(n,e,o){void 0===e&&(e=0);var I,N,u=this.elements,c=u[0],m=u[1],y=u[2],w=u[3],D=.5*n.width,x=.5*n.height,P=n.x+D,R=n.y+x;if(e){D-=e,x-=e;var V=Math.sqrt(c*c+y*y),z=Math.sqrt(m*m+w*w);I=Math.abs(D*c)+Math.abs(x*y)+Math.abs(V*e),N=Math.abs(D*m)+Math.abs(x*w)+Math.abs(z*e)}else I=Math.abs(D*c)+Math.abs(x*y),N=Math.abs(D*m)+Math.abs(x*w);return o||(o=new Oa(0,0,0,0)),o.x=P*c+R*y+u[4]-I,o.y=P*m+R*w+u[5]-N,o.width=I+I,o.height=N+N,o},h.prototype.toContext=function(n){if(!this.identity){var e=this.elements;n.transform(e[0],e[1],e[2],e[3],e[4],e[5])}},h.flyweight=function(n){return n?h.matrix.setElements(n instanceof h?n.elements:n):h.matrix.setIdentityElements(),h.matrix},h.matrix=new h,h}();function rf(h){var n=h.constructor,e=n.className;if(!e)throw new Error("The "+n+" is missing the 'className' property.");return e+"-"+(n.id=(n.id||0)+1)}var mo=(()=>(function(h){h[h.All=0]="All",h[h.None=1]="None"}(mo||(mo={})),mo))(),Ns=function(){function h(){this.id=rf(this),this.tag=NaN,this.isContainerNode=!1,this._children=[],this.childSet={},this.matrix=new xo,this.inverseMatrix=new xo,this._dirtyTransform=!1,this._scalingX=1,this._scalingY=1,this._scalingCenterX=null,this._scalingCenterY=null,this._rotationCenterX=null,this._rotationCenterY=null,this._rotation=0,this._translationX=0,this._translationY=0,this._dirty=!0,this._visible=!0,this.pointerEvents=mo.All}return h.isNode=function(n){return!!n&&void 0!==n.matrix},h.prototype._setScene=function(n){this._scene=n;for(var e=this.children,o=e.length,u=0;u<o;u++)e[u]._setScene(n)},Object.defineProperty(h.prototype,"scene",{get:function(){return this._scene},enumerable:!0,configurable:!0}),h.prototype._setParent=function(n){this._parent=n},Object.defineProperty(h.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"children",{get:function(){return this._children},enumerable:!0,configurable:!0}),h.prototype.countChildren=function(n){if(void 0===n&&(n=h.MAX_SAFE_INTEGER),n<=0)return 0;for(var e=this.children,o=e.length,u=o,c=0;c<o;c++)u+=e[c].countChildren(n-1);return u},h.prototype.append=function(n){h.isNode(n)&&(n=[n]);for(var e=n.length,o=0;o<e;o++){var u=n[o];if(u.parent)throw new Error(u+" already belongs to another parent: "+u.parent+".");if(u.scene)throw new Error(u+" already belongs a scene: "+u.scene+".");if(this.childSet[u.id])throw new Error("Duplicate "+u.constructor.name+" node: "+u);this._children.push(u),this.childSet[u.id]=!0,u._setParent(this),u._setScene(this.scene)}this.dirty=!0},h.prototype.appendChild=function(n){if(n.parent)throw new Error(n+" already belongs to another parent: "+n.parent+".");if(n.scene)throw new Error(n+" already belongs to a scene: "+n.scene+".");if(this.childSet[n.id])throw new Error("Duplicate "+n.constructor.name+" node: "+n);return this._children.push(n),this.childSet[n.id]=!0,n._setParent(this),n._setScene(this.scene),this.dirty=!0,n},h.prototype.removeChild=function(n){if(n.parent===this){var e=this.children.indexOf(n);if(e>=0)return this._children.splice(e,1),delete this.childSet[n.id],n._setParent(),n._setScene(),this.dirty=!0,n}throw new Error("The node to be removed is not a child of this node.")},h.prototype.insertBefore=function(n,e){var o=n.parent;if(n.parent&&n.parent.removeChild(n),e&&e.parent===this){var u=this.children.indexOf(e);if(!(u>=0))throw new Error(e+" has "+o+" as the parent, but is not in its list of children.");this._children.splice(u,0,n),this.childSet[n.id]=!0,n._setParent(this),n._setScene(this.scene),this.dirty=!0}else this.append(n);return n},Object.defineProperty(h.prototype,"nextSibling",{get:function(){var n=this.parent;if(n){var e=n.children,o=e.indexOf(this);if(o>=0&&o<=e.length-1)return e[o+1]}},enumerable:!0,configurable:!0}),h.prototype.transformPoint=function(n,e){for(var o=xo.flyweight(this.matrix),u=this.parent;u;)o.preMultiplySelf(u.matrix),u=u.parent;return o.invertSelf().transformPoint(n,e)},h.prototype.inverseTransformPoint=function(n,e){for(var o=xo.flyweight(this.matrix),u=this.parent;u;)o.preMultiplySelf(u.matrix),u=u.parent;return o.transformPoint(n,e)},Object.defineProperty(h.prototype,"dirtyTransform",{get:function(){return this._dirtyTransform},set:function(n){this._dirtyTransform=n,n&&(this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"scalingX",{get:function(){return this._scalingX},set:function(n){this._scalingX!==n&&(this._scalingX=n,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"scalingY",{get:function(){return this._scalingY},set:function(n){this._scalingY!==n&&(this._scalingY=n,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"scalingCenterX",{get:function(){return this._scalingCenterX},set:function(n){this._scalingCenterX!==n&&(this._scalingCenterX=n,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"scalingCenterY",{get:function(){return this._scalingCenterY},set:function(n){this._scalingCenterY!==n&&(this._scalingCenterY=n,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"rotationCenterX",{get:function(){return this._rotationCenterX},set:function(n){this._rotationCenterX!==n&&(this._rotationCenterX=n,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"rotationCenterY",{get:function(){return this._rotationCenterY},set:function(n){this._rotationCenterY!==n&&(this._rotationCenterY=n,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"rotation",{get:function(){return this._rotation},set:function(n){this._rotation!==n&&(this._rotation=n,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"rotationDeg",{get:function(){return this.rotation/Math.PI*180},set:function(n){this.rotation=n/180*Math.PI},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"translationX",{get:function(){return this._translationX},set:function(n){this._translationX!==n&&(this._translationX=n,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"translationY",{get:function(){return this._translationY},set:function(n){this._translationY!==n&&(this._translationY=n,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),h.prototype.containsPoint=function(n,e){return!1},h.prototype.pickNode=function(n,e){if(this.visible&&this.pointerEvents!==mo.None&&this.containsPoint(n,e)){var o=this.children;if(o.length)for(var u=o.length-1;u>=0;u--){var c=o[u].pickNode(n,e);if(c)return c}else if(!this.isContainerNode)return this}},h.prototype.computeBBox=function(){},h.prototype.computeBBoxCenter=function(){var n=this.computeBBox&&this.computeBBox();return n?[n.x+.5*n.width,n.y+.5*n.height]:[0,0]},h.prototype.computeTransformMatrix=function(){var m,y,n=function(h,n){var e="function"==typeof Symbol&&h[Symbol.iterator];if(!e)return h;var u,m,o=e.call(h),c=[];try{for(;(void 0===n||n-- >0)&&!(u=o.next()).done;)c.push(u.value)}catch(y){m={error:y}}finally{try{u&&!u.done&&(e=o.return)&&e.call(o)}finally{if(m)throw m.error}}return c}([0,0],2),e=n[0],o=n[1],u=this.scalingX,c=this.scalingY;1===u&&1===c?(m=0,y=0):(m=null===this.scalingCenterX?e:this.scalingCenterX,y=null===this.scalingCenterY?o:this.scalingCenterY);var P,R,w=this.rotation,D=Math.cos(w),x=Math.sin(w);0===w?(P=0,R=0):(P=null===this.rotationCenterX?e:this.rotationCenterX,R=null===this.rotationCenterY?o:this.rotationCenterY);var I=this.translationX,N=this.translationY,V=m*(1-u)-P,z=y*(1-c)-R;this.dirtyTransform=!1,this.matrix.setElements([D*u,x*u,-x*c,D*c,D*V-x*z+P+I,x*V+D*z+R+N]).inverseTo(this.inverseMatrix)},Object.defineProperty(h.prototype,"dirty",{get:function(){return this._dirty},set:function(n){this._dirty=n,n&&(this.parent?this.parent.dirty=!0:this.scene&&(this.scene.dirty=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"visible",{get:function(){return this._visible},set:function(n){this._visible!==n&&(this._visible=n,this.dirty=!0)},enumerable:!0,configurable:!0}),h.MAX_SAFE_INTEGER=Math.pow(2,53)-1,h}(),af=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Ls=function(h){function n(){var e=null!==h&&h.apply(this,arguments)||this;return e.isContainerNode=!0,e._opacity=1,e}return af(n,h),Object.defineProperty(n.prototype,"opacity",{get:function(){return this._opacity},set:function(e){e=Math.min(1,Math.max(0,e)),this._opacity!==e&&(this._opacity=e,this.dirty=!0)},enumerable:!0,configurable:!0}),n.prototype.containsPoint=function(e,o){return!0},n.prototype.computeBBox=function(){var e=1/0,o=-1/0,u=1/0,c=-1/0;return this.dirtyTransform&&this.computeTransformMatrix(),this.children.forEach(function(m){if(m.visible){var y=m.computeBBox();if(y){if(!(m instanceof n)){m.dirtyTransform&&m.computeTransformMatrix();for(var w=xo.flyweight(m.matrix),D=m.parent;D;)w.preMultiplySelf(D.matrix),D=D.parent;w.transformBBox(y,0,y)}var x=y.x,P=y.y;x<e&&(e=x),P<u&&(u=P),x+y.width>o&&(o=x+y.width),P+y.height>c&&(c=P+y.height)}}}),new Oa(e,u,o-e,c-u)},n.prototype.render=function(e){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e);var o=this.children,u=o.length;e.globalAlpha*=this.opacity;for(var c=0;c<u;c++){var m=o[c];m.visible&&(e.save(),m.render(e),e.restore())}},n.className="Group",n}(Ns);function sf(h,n){var e=Object.create(h);for(var o in n)n.hasOwnProperty(o)&&(e[o]=n[o]);return e}var We=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),xa=function(h){function n(){var e=null!==h&&h.apply(this,arguments)||this;return e.lastInstanceId=0,e._fillOpacity=1,e._strokeOpacity=1,e._fill=n.defaultStyles.fill,e._stroke=n.defaultStyles.stroke,e._strokeWidth=n.defaultStyles.strokeWidth,e._lineDash=n.defaultStyles.lineDash,e._lineDashOffset=n.defaultStyles.lineDashOffset,e._lineCap=n.defaultStyles.lineCap,e._lineJoin=n.defaultStyles.lineJoin,e._opacity=n.defaultStyles.opacity,e.onShadowChange=function(){e.dirty=!0},e._fillShadow=n.defaultStyles.fillShadow,e._strokeShadow=n.defaultStyles.strokeShadow,e}return We(n,h),n.createInstance=function(e){var o=Object.create(e);return o._setParent(void 0),o.id=e.id+"-Instance-"+String(++e.lastInstanceId),o},n.prototype.restoreOwnStyles=function(){for(var e=this.constructor.defaultStyles,o=Object.getOwnPropertyNames(e),u=0,c=o.length;u<c;u++){var m=o[u];this[m]=e[m]}},n.prototype.restoreAllStyles=function(){var e=this.constructor.defaultStyles;for(var o in e)this[o]=e[o]},n.prototype.restoreOverriddenStyles=function(){var e=this.constructor.defaultStyles,o=Object.getPrototypeOf(e);for(var u in e)e.hasOwnProperty(u)&&o.hasOwnProperty(u)&&(this[u]=e[u])},Object.defineProperty(n.prototype,"fillOpacity",{get:function(){return this._fillOpacity},set:function(e){this._fillOpacity!==e&&(this._fillOpacity=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"strokeOpacity",{get:function(){return this._strokeOpacity},set:function(e){this._strokeOpacity!==e&&(this._strokeOpacity=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"fill",{get:function(){return this._fill},set:function(e){this._fill!==e&&(this._fill=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"stroke",{get:function(){return this._stroke},set:function(e){this._stroke!==e&&(this._stroke=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"strokeWidth",{get:function(){return this._strokeWidth},set:function(e){this._strokeWidth!==e&&(this._strokeWidth=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"alignment",{get:function(){return Math.floor(this.strokeWidth)%2/2},enumerable:!0,configurable:!0}),n.prototype.align=function(e,o,u){return null!=u?Math.floor(u)+Math.floor(o%1+u%1):Math.floor(o)+e},Object.defineProperty(n.prototype,"lineDash",{get:function(){return this._lineDash},set:function(e){var o=this._lineDash;if(o!==e){if(o&&e&&o.length===e.length){for(var u=!0,c=e.length,m=0;m<c;m++)if(o[m]!==e[m]){u=!1;break}if(u)return}this._lineDash=e,this.dirty=!0}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"lineDashOffset",{get:function(){return this._lineDashOffset},set:function(e){this._lineDashOffset!==e&&(this._lineDashOffset=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"lineCap",{get:function(){return this._lineCap},set:function(e){this._lineCap!==e&&(this._lineCap=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(e){this._lineJoin!==e&&(this._lineJoin=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"opacity",{get:function(){return this._opacity},set:function(e){e=Math.min(1,Math.max(0,e)),this._opacity!==e&&(this._opacity=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"fillShadow",{get:function(){return this._fillShadow},set:function(e){var o=this._fillShadow;o!==e&&(o&&o.removeEventListener("change",this.onShadowChange),e&&e.addEventListener("change",this.onShadowChange),this._fillShadow=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"strokeShadow",{get:function(){return this._strokeShadow},set:function(e){var o=this._strokeShadow;o!==e&&(o&&o.removeEventListener("change",this.onShadowChange),e&&e.addEventListener("change",this.onShadowChange),this._strokeShadow=e,this.dirty=!0)},enumerable:!0,configurable:!0}),n.prototype.fillStroke=function(e){if(this.scene){var o=this.scene.canvas.pixelRatio||1,u=e.globalAlpha;if(this.fill){e.fillStyle=this.fill,e.globalAlpha=u*this.opacity*this.fillOpacity;var c=this.fillShadow;c&&c.enabled&&(e.shadowColor=c.color,e.shadowOffsetX=c.xOffset*o,e.shadowOffsetY=c.yOffset*o,e.shadowBlur=c.blur*o),e.fill()}if(e.shadowColor="rgba(0, 0, 0, 0)",this.stroke&&this.strokeWidth){e.strokeStyle=this.stroke,e.globalAlpha=u*this.opacity*this.strokeOpacity,e.lineWidth=this.strokeWidth,this.lineDash&&e.setLineDash(this.lineDash),this.lineDashOffset&&(e.lineDashOffset=this.lineDashOffset),this.lineCap&&(e.lineCap=this.lineCap),this.lineJoin&&(e.lineJoin=this.lineJoin);var m=this.strokeShadow;m&&m.enabled&&(e.shadowColor=m.color,e.shadowOffsetX=m.xOffset*o,e.shadowOffsetY=m.yOffset*o,e.shadowBlur=m.blur*o),e.stroke()}}},n.prototype.containsPoint=function(e,o){return this.isPointInPath(e,o)},n.defaultStyles=sf({},{fill:"black",stroke:void 0,strokeWidth:0,lineDash:void 0,lineDashOffset:0,lineCap:void 0,lineJoin:void 0,opacity:1,fillShadow:void 0,strokeShadow:void 0}),n}(Ns),mp=Math.sign?Math.sign:function(h){return 0==(h=+h)||isNaN(h)?h:h>0?1:-1};function Tl(h,n,e,o,u,c,m,y){var w=(e-h)*(y-c)-(o-n)*(m-u);if(0===w)return null;var D=((m-u)*(n-c)-(h-u)*(y-c))/w,x=((e-h)*(n-c)-(o-n)*(h-u))/w;return D>=0&&D<=1&&x>=0&&x<=1?{x:h+D*(e-h),y:n+D*(o-n)}:null}function Fc(h,n,e,o,u,c,m,y,w,D,x,P){for(var R=[],I=D-P,N=x-w,V=w*(P-D)-D*(x-w),z=Ym(h,e,u,m),Y=Ym(n,o,c,y),se=function(h,n,e,o){if(0===h)return function(h,n,e){if(0===h)return function(h,n){var e=-n/h;return 0!==h&&e>=0&&e<=1?[e]:[]}(n,e);var o=n*n-4*h*e,u=[];if(0===o){var c=-n/(2*h);c>=0&&c<=1&&u.push(c)}else if(o>0){var m=Math.sqrt(o),y=(-n-m)/(2*h),w=(-n+m)/(2*h);y>=0&&y<=1&&u.push(y),w>=0&&w<=1&&u.push(w)}return u}(n,e,o);var u=n/h,c=e/h,y=(3*c-u*u)/9,w=(9*u*c-o/h*27-2*u*u*u)/54,D=y*y*y+w*w,x=1/3,P=[];if(D>=0){var R=Math.sqrt(D),I=mp(w+R)*Math.pow(Math.abs(w+R),x),N=mp(w-R)*Math.pow(Math.abs(w-R),x),V=Math.abs(Math.sqrt(3)*(I-N)/2),z=-x*u+(I+N);if(z>=0&&z<=1&&P.push(z),0===V){var Y=-x*u-(I+N)/2;Y>=0&&Y<=1&&P.push(Y)}}else{var X=Math.acos(w/Math.sqrt(-y*y*y)),q=x*u,ie=2*Math.sqrt(-y),ce=ie*Math.cos(x*X)-q,se=ie*Math.cos(x*(X+2*Math.PI))-q,ue=ie*Math.cos(x*(X+4*Math.PI))-q;ce>=0&&ce<=1&&P.push(ce),se>=0&&se<=1&&P.push(se),ue>=0&&ue<=1&&P.push(ue)}return P}(I*z[0]+N*Y[0],I*z[1]+N*Y[1],I*z[2]+N*Y[2],I*z[3]+N*Y[3]+V),ue=0;ue<se.length;ue++){var Pe,fe=se[ue],ye=fe*fe,Se=fe*ye,ke=z[0]*Se+z[1]*ye+z[2]*fe+z[3],Ne=Y[0]*Se+Y[1]*ye+Y[2]*fe+Y[3];(Pe=w!==x?(ke-w)/(x-w):(Ne-D)/(P-D))>=0&&Pe<=1&&R.push({x:ke,y:Ne})}return R}function Ym(h,n,e,o){return[3*n-h-3*e+o,3*h-6*n+3*e,-3*h+3*n,h]}var aC=function(){function h(){this.commands=[],this.params=[],this._closedPath=!1}return h.prototype.moveTo=function(n,e){this.xy?(this.xy[0]=n,this.xy[1]=e):this.xy=[n,e],this.commands.push("M"),this.params.push(n,e)},h.prototype.lineTo=function(n,e){this.xy?(this.commands.push("L"),this.params.push(n,e),this.xy[0]=n,this.xy[1]=e):this.moveTo(n,e)},h.prototype.rect=function(n,e,o,u){this.moveTo(n,e),this.lineTo(n+o,e),this.lineTo(n+o,e+u),this.lineTo(n,e+u),this.closePath()},h.prototype.arcTo=function(n,e,o,u,c,m,y){var w=this.xy;if(w){n<0&&(n=-n),e<0&&(e=-e);var D=w[0],x=w[1],P=(D-m)/2,R=(x-y)/2,I=Math.sin(o),N=Math.cos(o),V=N*P+I*R,z=-I*P+N*R,Y=V/n,X=z/e,q=Y*Y+X*X,ie=(D+m)/2,ce=(x+y)/2,se=0,ue=0;q>=1?(n*=q=Math.sqrt(q),e*=q):(q=Math.sqrt(1/q-1),u===c&&(q=-q),ie+=N*(se=q*n*X)-I*(ue=-q*e*Y),ce+=I*se+N*ue);var fe=Math.atan2((z-ue)/e,(V-se)/n),ye=Math.atan2((-z-ue)/e,(-V-se)/n)-fe;this.cubicArc(ie,ce,n,e,o,fe,fe+ye,1-c)}},h.cubicArc=function(n,e,o,u,c,m,y,w,D,x){if(x){var P=w;w=D,D=P}var R=e.length,I=.5522847498307935,N=Math.sin(w),V=Math.cos(w),z=Math.sin(y),Y=Math.cos(y),X=Math.PI/2,q=Y*V*c-z*N*m,ie=z*V*c+Y*N*m,ce=-Y*N*c-z*V*m,se=-z*N*c+Y*V*m;for((D-=w)<0&&(D+=2*Math.PI),n.push("M"),e.push(q+o,ie+u);D>=X;){D-=X,n.push("C");var ue=ce+o;e.push(q+ce*I+o,ie+se*I+u,q*I+ce+o,ie*I+se+u,Math.abs(ue)<1e-8?0:ue,se+u),P=q,q=ce,ce=-P,P=ie,ie=se,se=-P}if(D){var fe=4/3*Math.tan(D/4),ye=Math.sin(D),Se=Math.cos(D),ke=Se+fe*ye,Ne=ye-fe*Se;n.push("C"),ue=q*Se+ce*ye+o,e.push(q+ce*fe+o,ie+se*fe+u,q*ke+ce*Ne+o,ie*ke+se*Ne+u,Math.abs(ue)<1e-8?0:ue,ie*Se+se*ye+u)}if(x)for(var Pe=R,Ie=e.length-2;Pe<Ie;Pe+=2,Ie-=2)P=e[Pe],e[Pe]=e[Ie],e[Ie]=P,P=e[Pe+1],e[Pe+1]=e[Ie+1],e[Ie+1]=P},h.prototype.cubicArc=function(n,e,o,u,c,m,y,w){var D=this.commands,x=this.params,P=D.length;h.cubicArc(D,x,n,e,o,u,c,m,y,w);var R=x[x.length-2],I=x[x.length-1];this.xy?(D[P]="L",this.xy[0]=R,this.xy[1]=I):this.xy=[R,I]},h.prototype.deCasteljau=function(n,e){var o=n.length;if(o<2||o%2==1)throw new Error("Fewer than two points or not an even count.");if(2===o||0===e)return n.slice(0,2);if(1===e)return n.slice(-2);for(var u=[],c=o-2,m=0;m<c;m+=2)u.push((1-e)*n[m]+e*n[m+2],(1-e)*n[m+1]+e*n[m+3]);return this.deCasteljau(u,e)},h.prototype.approximateCurve=function(n,e){var o=this.deCasteljau(n,0);this.moveTo(o[0],o[1]);for(var u=1/e,c=u;c<=1;c+=u){var m=this.deCasteljau(n,c);this.lineTo(m[0],m[1])}},h.prototype.quadraticCurveTo=function(n,e,o,u){this.xy||this.moveTo(n,e),this.cubicCurveTo((this.xy[0]+2*n)/3,(this.xy[1]+2*e)/3,(2*n+o)/3,(2*e+u)/3,o,u)},h.prototype.cubicCurveTo=function(n,e,o,u,c,m){this.xy||this.moveTo(n,e),this.commands.push("C"),this.params.push(n,e,o,u,c,m),this.xy[0]=c,this.xy[1]=m},Object.defineProperty(h.prototype,"closedPath",{get:function(){return this._closedPath},enumerable:!0,configurable:!0}),h.prototype.closePath=function(){this.xy&&(this.xy=void 0,this.commands.push("Z"),this._closedPath=!0)},h.prototype.clear=function(){this.commands.length=0,this.params.length=0,this.xy=void 0,this._closedPath=!1},h.prototype.isPointInPath=function(n,e){for(var o=this.commands,u=this.params,c=o.length,m=-1e4,y=-1e4,w=NaN,D=NaN,x=0,P=0,R=0,I=0,N=0;I<c;I++)switch(o[I]){case"M":isNaN(w)||Tl(w,D,x,P,m,y,n,e)&&R++,w=x=u[N++],D=P=u[N++];break;case"L":Tl(x,P,x=u[N++],P=u[N++],m,y,n,e)&&R++;break;case"C":R+=Fc(x,P,u[N++],u[N++],u[N++],u[N++],x=u[N++],P=u[N++],m,y,n,e).length;break;case"Z":isNaN(w)||Tl(w,D,x,P,m,y,n,e)&&R++}return R%2==1},h.fromString=function(n){var e=new h;return e.setFromString(n),e},h.parseSvgPath=function(n){return n.trim().split(h.splitCommandsRe).map(function(e){var o=e.match(h.matchParamsRe);return{command:e.substr(0,1),params:o?o.map(parseFloat):[]}})},h.prettifySvgPath=function(n){return h.parseSvgPath(n).map(function(e){return e.command+e.params.join(",")}).join("\n")},h.prototype.setFromString=function(n){var u,c,m,y,w,e=this;function D(){w.match(h.quadraticCommandRe)||(m=u,y=c)}function x(){w.match(h.cubicCommandRe)||(m=u,y=c)}this.clear(),h.parseSvgPath(n).forEach(function(P){var R=P.params,I=R.length,N=0;switch(P.command){case"M":for(e.moveTo(u=R[N++],c=R[N++]);N<I;)e.lineTo(u=R[N++],c=R[N++]);break;case"m":for(e.moveTo(u+=R[N++],c+=R[N++]);N<I;)e.lineTo(u+=R[N++],c+=R[N++]);break;case"L":for(;N<I;)e.lineTo(u=R[N++],c=R[N++]);break;case"l":for(;N<I;)e.lineTo(u+=R[N++],c+=R[N++]);break;case"C":for(;N<I;)e.cubicCurveTo(R[N++],R[N++],m=R[N++],y=R[N++],u=R[N++],c=R[N++]);break;case"c":for(;N<I;)e.cubicCurveTo(u+R[N++],c+R[N++],m=u+R[N++],y=c+R[N++],u+=R[N++],c+=R[N++]);break;case"S":for(x();N<I;)e.cubicCurveTo(u+u-m,c+c-y,m=R[N++],y=R[N++],u=R[N++],c=R[N++]);break;case"s":for(x();N<I;)e.cubicCurveTo(u+u-m,c+c-y,m=u+R[N++],y=c+R[N++],u+=R[N++],c+=R[N++]);break;case"Q":for(;N<I;)e.quadraticCurveTo(m=R[N++],y=R[N++],u=R[N++],c=R[N++]);break;case"q":for(;N<I;)e.quadraticCurveTo(m=u+R[N++],y=c+R[N++],u+=R[N++],c+=R[N++]);break;case"T":for(D();N<I;)e.quadraticCurveTo(m=u+u-m,y=c+c-y,u=R[N++],c=R[N++]);break;case"t":for(D();N<I;)e.quadraticCurveTo(m=u+u-m,y=c+c-y,u+=R[N++],c+=R[N++]);break;case"A":for(;N<I;)e.arcTo(R[N++],R[N++],R[N++]*Math.PI/180,R[N++],R[N++],u=R[N++],c=R[N++]);break;case"a":for(;N<I;)e.arcTo(R[N++],R[N++],R[N++]*Math.PI/180,R[N++],R[N++],u+=R[N++],c+=R[N++]);break;case"Z":case"z":e.closePath();break;case"H":for(;N<I;)e.lineTo(u=R[N++],c);break;case"h":for(;N<I;)e.lineTo(u+=R[N++],c);break;case"V":for(;N<I;)e.lineTo(u,c=R[N++]);break;case"v":for(;N<I;)e.lineTo(u,c+=R[N++])}w=P.command})},h.prototype.toString=function(){for(var n=this.commands,e=this.params,o=n.length,u=[],c=0,m=0;c<o;c++)switch(n[c]){case"M":u.push("M"+e[m++]+","+e[m++]);break;case"L":u.push("L"+e[m++]+","+e[m++]);break;case"C":u.push("C"+e[m++]+","+e[m++]+" "+e[m++]+","+e[m++]+" "+e[m++]+","+e[m++]);break;case"Z":u.push("Z")}return u.join("")},h.prototype.toPrettyString=function(){return h.prettifySvgPath(this.toString())},h.prototype.toSvg=function(){return h.xmlDeclaration+'\n<svg width="100%" height="100%" viewBox="0 0 50 50" version="1.1" xmlns="'+h.xmlns+'">\n    <path d="'+this.toString()+'" style="fill:none;stroke:#000;stroke-width:0.5;"/>\n</svg>'},h.prototype.toDebugSvg=function(){var n=h.prettifySvgPath(this.toString());return h.xmlDeclaration+'\n<svg width="100%" height="100%" viewBox="0 0 100 100" version="1.1" xmlns="'+h.xmlns+'">\n    <path d="'+n+'" style="fill:none;stroke:#000;stroke-width:0.5;"/>\n</svg>'},h.prototype.toCubicPaths=function(){var o,u,c,m,y,n=[],e=this.params,w=0;return this.commands.forEach(function(D){switch(D){case"M":o=[u=m=e[w++],c=y=e[w++]],n.push(o);break;case"L":var x=e[w++],P=e[w++];o.push((m+m+x)/3,(y+y+P)/3,(m+x+x)/3,(y+P+P)/3,m=x,y=P);break;case"C":o.push(e[w++],e[w++],e[w++],e[w++],m=e[w++],y=e[w++]);break;case"Z":o.push((m+m+u)/3,(y+y+c)/3,(m+u+u)/3,(y+c+c)/3,m=u,y=c)}}),n},h.cubicPathToString=function(n){var e=n.length;if(!(e%2==0&&(e/2-1)/2>=1))throw new Error("Invalid path.");return"M"+n.slice(0,2).join(",")+"C"+n.slice(2).join(",")},h.splitCommandsRe=/(?=[AaCcHhLlMmQqSsTtVvZz])/g,h.matchParamsRe=/-?[0-9]*\.?\d+/g,h.quadraticCommandRe=/[QqTt]/,h.cubicCommandRe=/[CcSs]/,h.xmlDeclaration='<?xml version="1.0" encoding="UTF-8"?>',h.xmlns="http://www.w3.org/2000/svg",h}(),uf=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Ic=function(h){function n(){var e=null!==h&&h.apply(this,arguments)||this;return e.path=new aC,e._dirtyPath=!0,e._svgPath="",e}return uf(n,h),Object.defineProperty(n.prototype,"dirtyPath",{get:function(){return this._dirtyPath},set:function(e){this._dirtyPath!==e&&(this._dirtyPath=e,e&&(this.dirty=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"svgPath",{get:function(){return this._svgPath},set:function(e){this._svgPath!==e&&(this._svgPath=e,this.path.setFromString(e),this.dirty=!0)},enumerable:!0,configurable:!0}),n.prototype.isPointInPath=function(e,o){var u=this.transformPoint(e,o);return this.path.closedPath&&this.path.isPointInPath(u.x,u.y)},n.prototype.isPointInStroke=function(e,o){return!1},n.prototype.updatePath=function(){},n.prototype.render=function(e){var o=this.scene;this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e),this.dirtyPath&&(this.updatePath(),this.dirtyPath=!1),o.appendPath(this.path),this.fillStroke(e),this.dirty=!1},n.className="Path",n}(xa),ns=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Nc=function(h){function n(){var e=h.call(this)||this;return e._x1=0,e._y1=0,e._x2=0,e._y2=0,e.restoreOwnStyles(),e}return ns(n,h),Object.defineProperty(n.prototype,"x1",{get:function(){return this._x1},set:function(e){this._x1!==e&&(this._x1=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"y1",{get:function(){return this._y1},set:function(e){this._y1!==e&&(this._y1=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"x2",{get:function(){return this._x2},set:function(e){this._x2!==e&&(this._x2=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"y2",{get:function(){return this._y2},set:function(e){this._y2!==e&&(this._y2=e,this.dirty=!0)},enumerable:!0,configurable:!0}),n.prototype.computeBBox=function(){return new Oa(this.x1,this.y1,this.x2-this.x1,this.y2-this.y1)},n.prototype.isPointInPath=function(e,o){return!1},n.prototype.isPointInStroke=function(e,o){return!1},n.prototype.render=function(e){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e);var o=this.x1,u=this.y1,c=this.x2,m=this.y2;if(o===c){var y=Math.round(o)+Math.floor(this.strokeWidth)%2/2;o=y,c=y}else if(u===m){var w=Math.round(u)+Math.floor(this.strokeWidth)%2/2;u=w,m=w}e.beginPath(),e.moveTo(o,u),e.lineTo(c,m),this.fillStroke(e),this.dirty=!1},n.className="Line",n.defaultStyles=sf(xa.defaultStyles,{fill:void 0,strokeWidth:1}),n}(xa),Yr=function(h,n){var e="function"==typeof Symbol&&h[Symbol.iterator];if(!e)return h;var u,m,o=e.call(h),c=[];try{for(;(void 0===n||n-- >0)&&!(u=o.next()).done;)c.push(u.value)}catch(y){m={error:y}}finally{try{u&&!u.done&&(e=o.return)&&e.call(o)}finally{if(m)throw m.error}}return c},Oi=function(){function h(){this.type="band",this.index=new Map,this.ordinalRange=[],this._domain=[],this._range=[0,1],this._bandwidth=1,this._paddingInner=0,this._paddingOuter=0,this._round=!1,this._align=.5}return Object.defineProperty(h.prototype,"domain",{get:function(){return this._domain},set:function(n){var e=this._domain;e.length=0,this.index=new Map;var o=this.index;n.forEach(function(u){void 0===o.get(u)&&o.set(u,e.push(u)-1)}),this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"range",{get:function(){return this._range},set:function(n){this._range[0]=n[0],this._range[1]=n[1],this.rescale()},enumerable:!0,configurable:!0}),h.prototype.ticks=function(){return this._domain},h.prototype.convert=function(n){var e=this.index.get(n);if(void 0===e)return NaN;var o=this.ordinalRange[e];return void 0===o?NaN:o},Object.defineProperty(h.prototype,"bandwidth",{get:function(){return this._bandwidth},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"padding",{get:function(){return this._paddingInner},set:function(n){n=Math.max(0,Math.min(1,n)),this._paddingInner=n,this._paddingOuter=n,this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"paddingInner",{get:function(){return this._paddingInner},set:function(n){this._paddingInner=Math.max(0,Math.min(1,n)),this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"paddingOuter",{get:function(){return this._paddingOuter},set:function(n){this._paddingOuter=Math.max(0,Math.min(1,n)),this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"round",{get:function(){return this._round},set:function(n){this._round=n,this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"align",{get:function(){return this._align},set:function(n){this._align=Math.max(0,Math.min(1,n)),this.rescale()},enumerable:!0,configurable:!0}),h.prototype.rescale=function(){var n,e=this._domain.length;if(e){var o=Yr(this._range,2),u=o[0],c=o[1],m=c<u;m&&(u=(n=Yr([c,u],2))[0],c=n[1]);var y=(c-u)/Math.max(1,e-this._paddingInner+2*this._paddingOuter);this._round&&(y=Math.floor(y)),u+=(c-u-y*(e-this._paddingInner))*this._align,this._bandwidth=y*(1-this._paddingInner),this._round&&(u=Math.round(u),this._bandwidth=Math.round(this._bandwidth));for(var w=[],D=0;D<e;D++)w.push(u+y*D);this.ordinalRange=m?w.reverse():w}},h}(),hr=function(){function h(n,e){this.next=null,this.scene=n.scene,this.parent=n,this.datum=e}return h.prototype.appendChild=function(n){if(null===this.next)return this.parent.insertBefore(n,null);if(!Ns.isNode(this.next))throw new Error(this.next+" is not a Node.");return this.parent.insertBefore(n,this.next)},h.prototype.insertBefore=function(n,e){return this.parent.insertBefore(n,e)},h}(),Eu=function(){function h(n,e){this.groups=n,this.parents=e}return h.select=function(n){return new h([["function"==typeof n?n():n]],[void 0])},h.selectAll=function(n){return new h([null==n?[]:n],[void 0])},h.prototype.append=function(n){return this.select(function(e){return e.appendChild(new n)})},h.prototype.appendFn=function(n){return this.select(function(e,o,u,c){return e.appendChild(n(e,o,u,c))})},h.prototype.select=function(n){for(var e=this.groups,o=e.length,u=[],c=0;c<o;c++)for(var m=e[c],y=m.length,w=u[c]=new Array(y),D=0;D<y;D++){var x=m[D];if(x){var P=n(x,x.datum,D,m);P&&(P.datum=x.datum),w[D]=P}}return new h(u,this.parents)},h.prototype.selectByClass=function(n){return this.select(function(e){if(Ns.isNode(e))for(var o=e.children,u=o.length,c=0;c<u;c++){var m=o[c];if(m instanceof n)return m}})},h.prototype.selectByTag=function(n){return this.select(function(e){if(Ns.isNode(e))for(var o=e.children,u=o.length,c=0;c<u;c++){var m=o[c];if(m.tag===n)return m}})},h.prototype.selectAllByClass=function(n){return this.selectAll(function(e){var o=[];if(Ns.isNode(e))for(var u=e.children,c=u.length,m=0;m<c;m++){var y=u[m];y instanceof n&&o.push(y)}return o})},h.prototype.selectAllByTag=function(n){return this.selectAll(function(e){var o=[];if(Ns.isNode(e))for(var u=e.children,c=u.length,m=0;m<c;m++){var y=u[m];y.tag===n&&o.push(y)}return o})},h.prototype.selectNone=function(){return[]},h.prototype.selectAll=function(n){n||(n=this.selectNone);for(var e=[],o=[],u=this.groups,c=u.length,m=0;m<c;m++)for(var y=u[m],w=y.length,D=0;D<w;D++){var x=y[D];x&&(e.push(n(x,x.datum,D,y)),o.push(x))}return new h(e,o)},h.prototype.each=function(n){for(var e=this.groups,o=e.length,u=0;u<o;u++)for(var c=e[u],m=c.length,y=0;y<m;y++){var w=c[y];w&&n(w,w.datum,y,c)}return this},h.prototype.remove=function(){return this.each(function(n){if(Ns.isNode(n)){var e=n.parent;e&&e.removeChild(n)}})},h.prototype.merge=function(n){for(var e=this.groups,o=n.groups,u=e.length,m=Math.min(u,o.length),y=new Array(u),w=0;w<m;w++)for(var D=e[w],x=o[w],P=D.length,R=y[w]=new Array(P),I=0;I<P;I++)R[I]=D[I]||x[I]||void 0;for(;w<u;w++)y[w]=e[w];return new h(y,this.parents)},h.prototype.node=function(){for(var n=this.groups,e=n.length,o=0;o<e;o++)for(var u=n[o],c=u.length,m=0;m<c;m++){var y=u[m];if(y)return y}return null},h.prototype.attr=function(n,e){return this.each(function(o){o[n]=e}),this},h.prototype.attrFn=function(n,e){return this.each(function(o,u,c,m){o[n]=e(o,u,c,m)}),this},h.prototype.call=function(n){return n(this),this},Object.defineProperty(h.prototype,"size",{get:function(){var n=0;return this.each(function(){return n++}),n},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"data",{get:function(){var n=[];return this.each(function(e,o){return n.push(o)}),n},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"enter",{get:function(){return new h(this.enterGroups?this.enterGroups:[[]],this.parents)},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"exit",{get:function(){return new h(this.exitGroups?this.exitGroups:[[]],this.parents)},enumerable:!0,configurable:!0}),h.prototype.setDatum=function(n){return this.each(function(e){e.datum=n})},Object.defineProperty(h.prototype,"datum",{get:function(){var n=this.node();return n?n.datum:null},enumerable:!0,configurable:!0}),h.prototype.setData=function(n,e){if("function"!=typeof n){var o=n;n=function(){return o}}for(var u=this.groups,c=this.parents,m=u.length,y=new Array(m),w=new Array(m),D=new Array(m),x=0;x<m;x++){var P=u[x],R=c[x];if(!R)throw new Error("Group #"+x+" has no parent: "+P);var I=P.length,N=n(R,R.datum,x,c),V=N.length,z=w[x]=new Array(V),Y=y[x]=new Array(V),X=D[x]=new Array(I);e?this.bindKey(R,P,z,Y,X,N,e):this.bindIndex(R,P,z,Y,X,N);for(var q=0,ie=0;q<V;q++){var ce=z[q];if(ce){q>=ie&&(ie=q+1);for(var se=void 0;!(se=Y[ie])&&ie<V;)ie++;ce.next=se||null}}}var ue=new h(y,c);return ue.enterGroups=w,ue.exitGroups=D,ue},h.prototype.bindIndex=function(n,e,o,u,c,m){for(var y=e.length,w=m.length,D=0;D<w;D++)(x=e[D])?(x.datum=m[D],u[D]=x):o[D]=new hr(n,m[D]);for(;D<y;D++){var x;(x=e[D])&&(c[D]=x)}},h.prototype.bindKey=function(n,e,o,u,c,m,y){for(var w=e.length,D=m.length,x=new Array(w),P={},R=0;R<w;R++)(I=e[R])&&((N=x[R]=h.keyPrefix+y(I,I.datum,R,e))in P?c[R]=I:P[N]=I);for(R=0;R<D;R++){var N;(I=P[N=h.keyPrefix+y(n,m[R],R,m)])?(u[R]=I,I.datum=m[R],P[N]=void 0):o[R]=new hr(n,m[R])}for(R=0;R<w;R++){var I;(I=e[R])&&P[x[R]]===I&&(c[R]=I)}},h.keyPrefix="$",h}(),rs=function(){function h(n,e,o){void 0===n&&(n=window.document),void 0===e&&(e=600),void 0===o&&(o=300),this._container=void 0,this._pixelRatio=NaN,this._width=100,this._height=100,this.document=n,this.element=n.createElement("canvas"),this.context=this.element.getContext("2d"),this.element.style.userSelect="none",this.element.style.display="block",this.setPixelRatio(),this.resize(e,o)}return Object.defineProperty(h.prototype,"container",{get:function(){return this._container},set:function(n){this._container!==n&&(this.remove(),n&&n.appendChild(this.element),this._container=n)},enumerable:!0,configurable:!0}),h.prototype.remove=function(){var n=this.element.parentNode;null!=n&&n.removeChild(this.element)},h.prototype.destroy=function(){this.element.remove(),this._canvas=void 0,Object.freeze(this)},h.prototype.toImage=function(){var n=this.document.createElement("img");return n.src=this.getDataURL(),n},h.prototype.getDataURL=function(n){return this.element.toDataURL(n)},h.prototype.download=function(n){n=((n||"").trim()||"image")+".png";var o=this.getDataURL("image/png"),u=this.document,c=u.createElement("a");c.href=o,c.download=n,c.style.display="none",u.body.appendChild(c),c.click(),u.body.removeChild(c)},Object.defineProperty(h.prototype,"pixelRatio",{get:function(){return this._pixelRatio},enumerable:!0,configurable:!0}),h.prototype.setPixelRatio=function(n){var e=n||window.devicePixelRatio;e!==this.pixelRatio&&(h.overrideScale(this.context,e),this._pixelRatio=e,this.resize(this.width,this.height))},Object.defineProperty(h.prototype,"pixelated",{get:function(){return"pixelated"===this.element.style.imageRendering},set:function(n){this.element.style.imageRendering=n?"pixelated":"auto"},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),h.prototype.resize=function(n,e){if(n>0&&e>0){var o=this,u=o.element,c=o.context,m=o.pixelRatio;u.width=Math.round(n*m),u.height=Math.round(e*m),u.style.width=n+"px",u.style.height=e+"px",c.resetTransform(),this._width=n,this._height=e}},Object.defineProperty(h,"textMeasuringContext",{get:function(){if(this._textMeasuringContext)return this._textMeasuringContext;var n=document.createElement("canvas");return this._textMeasuringContext=n.getContext("2d")},enumerable:!0,configurable:!0}),Object.defineProperty(h,"svgText",{get:function(){if(this._svgText)return this._svgText;var n="http://www.w3.org/2000/svg",e=document.createElementNS(n,"svg");e.setAttribute("width","100"),e.setAttribute("height","100"),e.classList?e.classList.add("text-measuring-svg"):e.setAttribute("class","text-measuring-svg"),e.style.position="absolute",e.style.top="-1000px",e.style.visibility="hidden";var o=document.createElementNS(n,"text");return o.setAttribute("x","0"),o.setAttribute("y","30"),o.setAttribute("text","black"),e.appendChild(o),document.body.appendChild(e),this._svgText=o,o},enumerable:!0,configurable:!0}),Object.defineProperty(h,"has",{get:function(){if(this._has)return this._has;var n=navigator.userAgent.indexOf("Chrome")>-1,e=navigator.userAgent.indexOf("Firefox")>-1,o=!n&&navigator.userAgent.indexOf("Safari")>-1;return this._has=Object.freeze({textMetrics:void 0!==this.textMeasuringContext.measureText("test").actualBoundingBoxDescent&&!e&&!o,getTransform:void 0!==this.textMeasuringContext.getTransform})},enumerable:!0,configurable:!0}),h.measureText=function(n,e,o,u){var c=this.textMeasuringContext;return c.font=e,c.textBaseline=o,c.textAlign=u,c.measureText(n)},h.getTextSize=function(n,e){if(this.has.textMetrics){var o=this.textMeasuringContext;o.font=e;var u=o.measureText(n);return{width:u.width,height:u.actualBoundingBoxAscent+u.actualBoundingBoxDescent}}return this.measureSvgText(n,e)},h.measureSvgText=function(n,e){var o=this.textSizeCache,u=o[e];if(u){var c=u[n];if(c)return c}else o[e]={};var m=this.svgText;m.style.font=e,m.textContent=n;var y=m.getBBox(),w={width:y.width,height:y.height};return o[e][n]=w,w},h.overrideScale=function(n,e){var o=0,u={save:function(){this.$save(),o++},restore:function(){o>0&&(this.$restore(),o--)},setTransform:function(m,y,w,D,x,P){this.$setTransform(m*e,y*e,w*e,D*e,x*e,P*e)},resetTransform:function(){this.$setTransform(e,0,0,e,0,0),this.save(),o=0}};for(var c in u)u.hasOwnProperty(c)&&(n["$"+c]||(n["$"+c]=n[c]),n[c]=u[c])},h.textSizeCache={},h}(),qm=function(h,n){var e="function"==typeof Symbol&&h[Symbol.iterator];if(!e)return h;var u,m,o=e.call(h),c=[];try{for(;(void 0===n||n-- >0)&&!(u=o.next()).done;)c.push(u.value)}catch(y){m={error:y}}finally{try{u&&!u.done&&(e=o.return)&&e.call(o)}finally{if(m)throw m.error}}return c},Xm=function(){function h(n,e,o){var u=this;void 0===n&&(n=window.document),this.id=rf(this),this._dirty=!1,this.animationFrameId=0,this._root=null,this.debug={renderFrameIndex:!1,renderBoundingBoxes:!1},this._frameIndex=0,this.render=function(){var c,y=u.ctx,w=u.root,D=u.pendingSize;u.animationFrameId=0,D&&((c=u.canvas).resize.apply(c,function(){for(var h=[],n=0;n<arguments.length;n++)h=h.concat(qm(arguments[n]));return h}(D)),u.pendingSize=void 0),!w||w.visible?(y.clearRect(0,0,u.width,u.height),w&&(y.save(),w.visible&&w.render(y),y.restore()),u._frameIndex++,u.debug.renderFrameIndex&&(y.fillStyle="white",y.fillRect(0,0,40,15),y.fillStyle="black",y.fillText(u.frameIndex.toString(),2,10)),u.dirty=!1):u.dirty=!1},this.canvas=new rs(n,e,o),this.ctx=this.canvas.context}return Object.defineProperty(h.prototype,"container",{get:function(){return this.canvas.container},set:function(n){this.canvas.container=n},enumerable:!0,configurable:!0}),h.prototype.download=function(n){this.canvas.download(n)},h.prototype.getDataURL=function(n){return this.canvas.getDataURL(n)},Object.defineProperty(h.prototype,"width",{get:function(){return this.pendingSize?this.pendingSize[0]:this.canvas.width},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"height",{get:function(){return this.pendingSize?this.pendingSize[1]:this.canvas.height},enumerable:!0,configurable:!0}),h.prototype.resize=function(n,e){n=Math.round(n),e=Math.round(e),(n!==this.width||e!==this.height)&&(this.pendingSize=[n,e],this.dirty=!0)},Object.defineProperty(h.prototype,"dirty",{get:function(){return this._dirty},set:function(n){n&&!this._dirty&&(this.animationFrameId=requestAnimationFrame(this.render)),this._dirty=n},enumerable:!0,configurable:!0}),h.prototype.cancelRender=function(){this.animationFrameId&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=0,this._dirty=!1)},Object.defineProperty(h.prototype,"root",{get:function(){return this._root},set:function(n){n!==this._root&&(this._root&&this._root._setScene(),this._root=n,n&&(null===n.parent&&n.scene&&n.scene!==this&&(n.scene.root=null),n._setScene(this)),this.dirty=!0)},enumerable:!0,configurable:!0}),h.prototype.appendPath=function(n){var e=this.ctx,o=n.commands,u=n.params,c=o.length,m=0;e.beginPath();for(var y=0;y<c;y++)switch(o[y]){case"M":e.moveTo(u[m++],u[m++]);break;case"L":e.lineTo(u[m++],u[m++]);break;case"C":e.bezierCurveTo(u[m++],u[m++],u[m++],u[m++],u[m++],u[m++]);break;case"Z":e.closePath()}},Object.defineProperty(h.prototype,"frameIndex",{get:function(){return this._frameIndex},enumerable:!0,configurable:!0}),h.className="Scene",h}(),cf=function(){return cf=Object.assign||function(h){for(var n,e=1,o=arguments.length;e<o;e++)for(var u in n=arguments[e])Object.prototype.hasOwnProperty.call(n,u)&&(h[u]=n[u]);return h},cf.apply(this,arguments)},is=function(){function h(){this.allPropertyListeners=new Map,this.allEventListeners=new Map}return h.prototype.addPropertyListener=function(n,e,o){void 0===o&&(o=this);var u=this.allPropertyListeners,c=u.get(n);if(c||(c=new Map,u.set(n,c)),!c.has(e)){var m=new Set;c.set(e,m)}var y=c.get(e);y&&y.add(o)},h.prototype.removePropertyListener=function(n,e,o){void 0===o&&(o=this);var c=this.allPropertyListeners.get(n);if(c)if(e){var m=c.get(e);m&&(m.delete(o),m.size||c.delete(e))}else c.clear()},h.prototype.notifyPropertyListeners=function(n,e,o){var u=this,m=this.allPropertyListeners.get(n);m&&m.forEach(function(y,w){y.forEach(function(D){return w.call(D,{type:n,source:u,value:o,oldValue:e})})})},h.prototype.addEventListener=function(n,e,o){void 0===o&&(o=this);var u=this.allEventListeners,c=u.get(n);if(c||(c=new Map,u.set(n,c)),!c.has(e)){var m=new Set;c.set(e,m)}var y=c.get(e);y&&y.add(o)},h.prototype.removeEventListener=function(n,e,o){void 0===o&&(o=this);var c=this.allEventListeners.get(n);if(c)if(e){var m=c.get(e);m&&(m.delete(o),m.size||c.delete(e))}else c.clear()},h.prototype.notifyEventListeners=function(n){var e=this,o=this.allEventListeners;n.forEach(function(u){var c=o.get(u);c&&c.forEach(function(m,y){m.forEach(function(w){return y.call(w,{type:u,source:e})})})})},h.prototype.fireEvent=function(n){var e=this,o=this.allEventListeners.get(n.type);o&&o.forEach(function(u,c){u.forEach(function(m){return c.call(m,cf(cf({},n),{source:e}))})})},h.privateKeyPrefix="_",h}();function mi(){for(var h=[],n=0;n<arguments.length;n++)h[n]=arguments[n];return h.indexOf("debugger"),function(o,u){var c=is.privateKeyPrefix+u,m=c+"Events";o[u]||(h&&(o[m]=h),Object.defineProperty(o,u,{set:function(y){var w=this[c];if(y!==w||"object"==typeof y&&null!==y){this[c]=y,this.notifyPropertyListeners(u,w,y);var D=this[m];D&&this.notifyEventListeners(D)}},get:function(){return this[c]},enumerable:!0,configurable:!0}))}}var df=function(){function h(n,e,o,u){void 0===n&&(n=0),void 0===e&&(e=n),void 0===o&&(o=n),void 0===u&&(u=e),this.top=n,this.right=e,this.bottom=o,this.left=u}return h.prototype.clear=function(){this.top=this.right=this.bottom=this.left=0},h}();function Nn(h){var n=typeof h;return"string"!==n&&"number"===n&&h-h<1}function ar(h){return h instanceof Date&&!isNaN(+h)}function lC(h){return"string"==typeof h}function Vs(h){return function(h){return Nn(h)||function(h){return!!h&&h.hasOwnProperty("valueOf")&&Nn(h.valueOf())}(h)}(h)||ar(h)}function Pl(h,n){return h=+h,n=+n,function(e){return h*(1-e)+n*e}}var vp=function(h,n){var e="function"==typeof Symbol&&h[Symbol.iterator];if(!e)return h;var u,m,o=e.call(h),c=[];try{for(;(void 0===n||n-- >0)&&!(u=o.next()).done;)c.push(u.value)}catch(y){m={error:y}}finally{try{u&&!u.done&&(e=o.return)&&e.call(o)}finally{if(m)throw m.error}}return c},Xo=function(){function h(n,e,o,u){void 0===u&&(u=1),this.r=Math.min(1,Math.max(0,n||0)),this.g=Math.min(1,Math.max(0,e||0)),this.b=Math.min(1,Math.max(0,o||0)),this.a=Math.min(1,Math.max(0,u||0))}return h.fromString=function(n){if(n.indexOf("#")>=0)return h.fromHexString(n);var e=h.nameToHex[n];if(e)return h.fromHexString(e);if(n.indexOf("rgb")>=0)return h.fromRgbaString(n);throw new Error("Invalid color string: '"+n+"'")},h.parseHex=function(n){var e;switch((n=n.replace(/ /g,"").slice(1)).length){case 6:case 8:e=[];for(var o=0;o<n.length;o+=2)e.push(parseInt(""+n[o]+n[o+1],16));break;case 3:case 4:e=n.split("").map(function(u){return parseInt(u,16)}).map(function(u){return u+16*u})}if(e.length>=3&&e.every(function(u){return u>=0}))return 3===e.length&&e.push(255),e},h.fromHexString=function(n){var e=h.parseHex(n);if(e){var o=vp(e,4);return new h(o[0]/255,o[1]/255,o[2]/255,o[3]/255)}throw new Error("Malformed hexadecimal color string: '"+n+"'")},h.stringToRgba=function(n){for(var e=vp([NaN,NaN],2),o=e[0],u=e[1],c=0;c<n.length;c++){var m=n[c];if(o||"("!==m){if(")"===m){u=c;break}}else o=c}var y=o&&u&&n.substring(o+1,u);if(y){var w=y.split(","),D=[];for(c=0;c<w.length;c++){var x=w[c],P=parseFloat(x);if(isNaN(P))return;x.indexOf("%")>=0?(P=Math.max(0,Math.min(100,P)),P/=100):3===c?P=Math.max(0,Math.min(1,P)):(P=Math.max(0,Math.min(255,P)),P/=255),D.push(P)}return D}},h.fromRgbaString=function(n){var e=h.stringToRgba(n);if(e){if(3===e.length)return new h(e[0],e[1],e[2]);if(4===e.length)return new h(e[0],e[1],e[2],e[3])}throw new Error("Malformed rgb/rgba color string: '"+n+"'")},h.fromArray=function(n){if(4===n.length)return new h(n[0],n[1],n[2],n[3]);if(3===n.length)return new h(n[0],n[1],n[2]);throw new Error("The given array should contain 3 or 4 color components (numbers).")},h.fromHSB=function(n,e,o,u){void 0===u&&(u=1);var c=h.HSBtoRGB(n,e,o);return new h(c[0],c[1],c[2],u)},h.padHex=function(n){return 1===n.length?"0"+n:n},h.prototype.toHexString=function(){var n="#"+h.padHex(Math.round(255*this.r).toString(16))+h.padHex(Math.round(255*this.g).toString(16))+h.padHex(Math.round(255*this.b).toString(16));return this.a<1&&(n+=h.padHex(Math.round(255*this.a).toString(16))),n},h.prototype.toRgbaString=function(n){void 0===n&&(n=3);var e=[Math.round(255*this.r),Math.round(255*this.g),Math.round(255*this.b)],o=Math.pow(10,n);return 1!==this.a?(e.push(Math.round(this.a*o)/o),"rgba("+e.join(", ")+")"):"rgb("+e.join(", ")+")"},h.prototype.toString=function(){return 1===this.a?this.toHexString():this.toRgbaString()},h.prototype.toHSB=function(){return h.RGBtoHSB(this.r,this.g,this.b)},h.RGBtoHSB=function(n,e,o){var u=Math.min(n,e,o),c=Math.max(n,e,o),y=NaN;if(u!==c){var w=c-u,D=(c-n)/w,x=(c-e)/w,P=(c-o)/w;y=n===c?P-x:e===c?2+D-P:4+x-D,(y/=6)<0&&(y+=1)}return[360*y,0!==c?(c-u)/c:0,c]},h.HSBtoRGB=function(n,e,o){isNaN(n)&&(n=0),n=(n%360+360)%360/360;var u=0,c=0,m=0;if(0===e)u=c=m=o;else{var y=6*(n-Math.floor(n)),w=y-Math.floor(y),D=o*(1-e),x=o*(1-e*w),P=o*(1-e*(1-w));switch(y>>0){case 0:u=o,c=P,m=D;break;case 1:u=x,c=o,m=D;break;case 2:u=D,c=o,m=P;break;case 3:u=D,c=x,m=o;break;case 4:u=P,c=D,m=o;break;case 5:u=o,c=D,m=x}}return[u,c,m]},h.prototype.derive=function(n,e,o,u){var c=h.RGBtoHSB(this.r,this.g,this.b),m=c[2];0==m&&o>1&&(m=.05);var y=((c[0]+n)%360+360)%360,w=Math.max(Math.min(c[1]*e,1),0);m=Math.max(Math.min(m*o,1),0);var D=Math.max(Math.min(this.a*u,1),0),x=h.HSBtoRGB(y,w,m);return x.push(D),h.fromArray(x)},h.prototype.brighter=function(){return this.derive(0,1,1/.7,1)},h.prototype.darker=function(){return this.derive(0,1,.7,1)},h.nameToHex=Object.freeze({aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",grey:"#808080",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"}),h}();function hf(h,n){if("string"==typeof h)try{h=Xo.fromString(h)}catch(m){h=Xo.fromArray([0,0,0])}if("string"==typeof n)try{n=Xo.fromString(n)}catch(m){n=Xo.fromArray([0,0,0])}var e=Pl(h.r,n.r),o=Pl(h.g,n.g),u=Pl(h.b,n.b),c=Pl(h.a,n.a);return function(m){return Xo.fromArray([e(m),o(m),u(m),c(m)]).toRgbaString()}}function Lc(h,n){var e=typeof n;if(null==n||"boolean"===e)return function(h){return function(){return h}}(n);if("number"===e)return Pl(h,n);if("string"===e)try{return hf(h,n=Xo.fromString(n))}catch(u){}return n instanceof Xo?hf(h,n):n instanceof Date?function(h,n){var e=new Date,o=+h,u=+n;return function(c){return e.setTime(o*(1-c)+u*c),e}}(h,n):Array.isArray(n)?function(h,n){var m,e=n?n.length:0,o=h?Math.min(e,h.length):0,u=new Array(o),c=new Array(e);for(m=0;m<o;++m)u[m]=Lc(h[m],n[m]);for(;m<e;++m)c[m]=n[m];return function(y){for(m=0;m<o;++m)c[m]=u[m](y);return c}}(h,n):"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?function(h,n){var u,e={},o={};for(u in(null===h||"object"!=typeof h)&&(h={}),(null===n||"object"!=typeof n)&&(n={}),n)u in h?e[u]=Lc(h[u],n[u]):o[u]=n[u];return function(c){for(u in e)o[u]=e[u](c);return o}}(h,n):Pl(h,n)}var Aa=function(h){return h};function yp(h){var n,e=h[0],o=h[h.length-1];return e>o&&(n=function(h,n){var e="function"==typeof Symbol&&h[Symbol.iterator];if(!e)return h;var u,m,o=e.call(h),c=[];try{for(;(void 0===n||n-- >0)&&!(u=o.next()).done;)c.push(u.value)}catch(y){m={error:y}}finally{try{u&&!u.done&&(e=o.return)&&e.call(o)}finally{if(m)throw m.error}}return c}([o,e],2),e=n[0],o=n[1]),function(u){return Math.max(e,Math.min(o,u))}}var Bs=function(){function h(){this.unknown=void 0,this._clamp=Aa,this._domain=[0,1],this._range=[0,1],this.transform=Aa,this.untransform=Aa,this._interpolate=Lc,this.rescale()}return Object.defineProperty(h.prototype,"clamp",{get:function(){return this._clamp!==Aa},set:function(n){this._clamp=n?yp(this.domain):Aa},enumerable:!0,configurable:!0}),h.prototype.setDomain=function(n){this._domain=Array.prototype.map.call(n,function(e){return+e}),this._clamp!==Aa&&(this._clamp=yp(this.domain)),this.rescale()},h.prototype.getDomain=function(){return this._domain.slice()},Object.defineProperty(h.prototype,"domain",{get:function(){return this.getDomain()},set:function(n){this.setDomain(n)},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"range",{get:function(){return this._range.slice()},set:function(n){this._range=Array.prototype.slice.call(n),this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"interpolate",{get:function(){return this._interpolate},set:function(n){this._interpolate=n,this.rescale()},enumerable:!0,configurable:!0}),h.prototype.rescale=function(){this.piecewise=this.bimap,this.output=void 0,this.input=void 0},h.prototype.normalize=function(n,e){return(e-=n=+n)?function(o){return(o-n)/e}:function(h){return function(){return h}}(isNaN(e)?NaN:.5)},h.prototype.bimap=function(n,e,o){var w,D,u=n[0],c=n[1],m=e[0],y=e[1];return c<u?(w=this.normalize(c,u),D=o(y,m)):(w=this.normalize(u,c),D=o(m,y)),function(x){return D(w(x))}},h.prototype.convert=function(n){return n=+n,isNaN(n)?this.unknown:(this.output||(this.output=this.piecewise(this.domain.map(this.transform),this.range,this.interpolate)),this.output(this.transform(this._clamp(n))))},h.prototype.invert=function(n){return this.input||(this.input=this.piecewise(this.range,this.domain.map(this.transform),Pl)),this._clamp(this.untransform(this.input(n)))},h}(),Jm=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}();var _p=Math.sqrt(50),Ou=Math.sqrt(10),ff=Math.sqrt(2);function kc(h,n,e){var o=Math.abs(n-h)/Math.max(0,e),u=Math.pow(10,Math.floor(Math.log(o)/Math.LN10)),c=o/u;return c>=_p?u*=10:c>=Ou?u*=5:c>=ff&&(u*=2),n<h?-u:u}function gf(h,n,e){var o=(n-h)/Math.max(0,e),u=Math.floor(Math.log(o)/Math.LN10),c=o/Math.pow(10,u);return u>=0?(c>=_p?10:c>=Ou?5:c>=ff?2:1)*Math.pow(10,u):-Math.pow(10,-u)/(c>=_p?10:c>=Ou?5:c>=ff?2:1)}var iv,wp,Qo,xu,Cp=function(h){function n(e,o){var u=h.call(this)||this;if(o)for(var c=0,m=o.length;c<m;c++)u[c]=o[c];return u.fractionDigits=e,u}return Jm(n,h),n}(Array),Gc={"":function(h,n){var e=h.toPrecision(n);e:for(var o=e.length,u=1,c=-1,m=0;u<o;++u)switch(e[u]){case".":c=m=u;break;case"0":0===c&&(c=u),m=u;break;case"e":break e;default:c>0&&(c=0)}return c>0?e.slice(0,c)+e.slice(m+1):e},"%":function(h,n){return(100*h).toFixed(n)},b:function(h){return Math.round(h).toString(2)},c:function(h){return String(h)},d:function(h){return Math.abs(h=Math.round(h))>=1e21?h.toLocaleString("en").replace(/,/g,""):h.toString(10)},e:function(h,n){return h.toExponential(n)},f:function(h,n){return h.toFixed(n)},g:function(h,n){return h.toPrecision(n)},o:function(h){return Math.round(h).toString(8)},p:function(h,n){return av(100*h,n)},r:av,s:function(h,n){void 0===n&&(n=0);var e=os(h,n);if(!e)return String(h);var o=e[0],u=e[1],c=u-(iv=3*Math.max(-8,Math.min(8,Math.floor(u/3))))+1,m=o.length;if(c===m)return o;if(c>m)return o+new Array(c-m+1).join("0");if(c>0)return o.slice(0,c)+"."+o.slice(c);var y=os(h,Math.max(0,n+c-1));return"0."+new Array(1-c).join("0")+y[0]},X:function(h){return Math.round(h).toString(16).toUpperCase()},x:function(h){return Math.round(h).toString(16)}},xi=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"],nv=function h(n){n instanceof h?(this.fill=n.fill,this.align=n.align,this.sign=n.sign,this.symbol=n.symbol,this.zero=n.zero,this.width=n.width,this.comma=n.comma,this.precision=n.precision,this.trim=n.trim,this.type=n.type,this.string=n.string):(this.fill=void 0===n.fill?" ":String(n.fill),this.align=void 0===n.align?">":String(n.align),this.sign=void 0===n.sign?"-":String(n.sign),this.symbol=void 0===n.symbol?"":String(n.symbol),this.zero=!!n.zero,this.width=void 0===n.width?void 0:+n.width,this.comma=!!n.comma,this.precision=void 0===n.precision?void 0:+n.precision,this.trim=!!n.trim,this.type=void 0===n.type?"":String(n.type),this.string=n.string)},Ta=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i,rv=/(#\{(.*?)\})/g;function mf(h){if(h instanceof nv)return new nv(h);var n=!1,e=h.replace(rv,function(){return n||(h=arguments[2],n=!0),"#{}"}),o=Ta.exec(h);if(!o)throw new Error("Invalid format: "+h);return new nv({fill:o[1],align:o[2],sign:o[3],symbol:o[4],zero:o[5],width:o[6],comma:o[7],precision:o[8]&&o[8].slice(1),trim:o[9],type:o[10],string:n?e:void 0})}function av(h,n){var e=os(h,n);if(!e)return String(h);var o=e[0],u=e[1];return u<0?"0."+new Array(-u).join("0")+o:o.length>u+1?o.slice(0,u+1)+"."+o.slice(u+1):o+new Array(u-o.length+2).join("0")}function os(h,n){var e=n?h.toExponential(n-1):h.toExponential(),o=e.indexOf("e");if(!(o<0)){var u=e.slice(0,o);return[u.length>1?u[0]+u.slice(2):u,+e.slice(o+1)]}}function fr(h){return h}function vo(h){var n=os(Math.abs(h));return n?n[1]:NaN}wp=function(h){var n=void 0===h.grouping||void 0===h.thousands?fr:function(h,n){return function(e,o){for(var u=[],c=e.length,m=0,y=h[0],w=0;c>0&&y>0&&(w+y+1>o&&(y=Math.max(1,o-w)),u.push(e.substring(c-=y,c+y)),!((w+=y+1)>o));)y=h[m=(m+1)%h.length];return u.reverse().join(n)}}(Array.prototype.map.call(h.grouping,Number),String(h.thousands)),e=void 0===h.currency?"":String(h.currency[0]),o=void 0===h.currency?"":String(h.currency[1]),u=void 0===h.decimal?".":String(h.decimal),c=void 0===h.numerals?fr:function(h){return function(n){return n.replace(/[0-9]/g,function(e){return h[+e]})}}(Array.prototype.map.call(h.numerals,String)),m=void 0===h.percent?"%":String(h.percent),y=void 0===h.minus?"\u2212":String(h.minus),w=void 0===h.nan?"NaN":String(h.nan);function D(P){var R=mf(P),I=R.fill,N=R.align,V=R.sign,z=R.symbol,Y=R.zero,X=R.width,q=R.comma,ie=R.precision,ce=R.trim,se=R.type;"n"===se?(q=!0,se="g"):Gc[se]||(void 0===ie&&(ie=12),ce=!0,se="g"),(Y||"0"===I&&"="===N)&&(Y=!0,I="0",N="=");var ue="$"===z?e:"#"===z&&/[boxX]/.test(se)?"0"+se.toLowerCase():"",fe="$"===z?o:/[%p]/.test(se)?m:"",ye=Gc[se],Se=/[defgprs%]/.test(se);return ie=void 0===ie?6:/[gprs]/.test(se)?Math.max(1,Math.min(21,ie)):Math.max(0,Math.min(20,ie)),function(Ne){var xe,Pe=ue,Ie=fe;if("c"===se)Ie=ye(+Ne)+Ie,xe="";else{var Oe=+Ne,et=Ne<0||1/Oe<0;if(xe=isNaN(Oe)?w:ye(Math.abs(Oe),ie),ce&&(xe=function(h){e:for(var n=h.length,e=1,o=-1,u=0;e<n;++e)switch(h[e]){case".":o=u=e;break;case"0":0===o&&(o=e),u=e;break;default:if(!+h[e])break e;o>0&&(o=0)}return o>0?h.slice(0,o)+h.slice(u+1):h}(xe)),et&&0==+xe&&"+"!==V&&(et=!1),Pe=(et?"("===V?V:y:"-"===V||"("===V?"":V)+Pe,Ie=("s"===se?xi[8+iv/3]:"")+Ie+(et&&"("===V?")":""),Se)for(var qe=0,xt=xe.length;qe<xt;qe++){var Ze=xe.charCodeAt(qe);if(48>Ze||Ze>57){Ie=(46===Ze?u+xe.slice(qe+1):xe.slice(qe))+Ie,xe=xe.slice(0,qe);break}}}q&&!Y&&(xe=n(xe,1/0));var At=Pe.length+xe.length+Ie.length,Dt=At<X?new Array(X-At+1).join(I):"";switch(q&&Y&&(xe=n(Dt+xe,Dt.length?X-Ie.length:1/0),Dt=""),N){case"<":xe=Pe+xe+Ie+Dt;break;case"=":xe=Pe+Dt+xe+Ie;break;case"^":xe=Dt.slice(0,At=Dt.length>>1)+Pe+xe+Ie+Dt.slice(At);break;default:xe=Dt+Pe+xe+Ie}var Qt=R.string;return Qt?Qt.replace(rv,function(){return c(xe)}):c(xe)}}return{format:D,formatPrefix:function(P,R){var I=mf(P);I.type="f";var N=D(I),V=3*Math.max(-8,Math.min(8,Math.floor(vo(R)/3))),z=Math.pow(10,-V),Y=xi[8+V/3];return function(X){return N(z*+X)+Y}}}}({thousands:",",grouping:[3],currency:["$",""]}),Qo=wp.format,xu=wp.formatPrefix;var rS=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Xe=function(h){function n(){var e=null!==h&&h.apply(this,arguments)||this;return e.type="linear",e}return rS(n,h),n.prototype.ticks=function(e){void 0===e&&(e=10);var o=this._domain;return function(h,n,e){var o=kc(h,n,e);return function(h,n,e){void 0===e&&(e=1);for(var o=Math.abs(e),u=o>0&&o<1?Math.abs(Math.floor(Math.log(o)/Math.LN10)):0,c=Math.pow(10,u),m=Math.max(0,Math.ceil((n-h)/e))||0,y=new Cp(u),w=0;w<m;w++)y[w]=Math.round((h+e*w)*c)/c;return y}(h=Math.ceil(h/o)*o,n=Math.floor(n/o)*o+o/2,o)}(o[0],o[o.length-1],e)},n.prototype.nice=function(e){void 0===e&&(e=10);var w,o=this.domain,u=0,c=o.length-1,m=o[u],y=o[c];y<m&&(w=m,m=y,y=w,w=u,u=c,c=w),(w=gf(m,y,e))>0?w=gf(m=Math.floor(m/w)*w,y=Math.ceil(y/w)*w,e):w<0&&(w=gf(m=Math.ceil(m*w)/w,y=Math.floor(y*w)/w,e)),w>0?(o[u]=Math.floor(m/w)*w,o[c]=Math.ceil(y/w)*w,this.domain=o):w<0&&(o[u]=Math.ceil(m*w)/w,o[c]=Math.floor(y*w)/w,this.domain=o)},n.prototype.tickFormat=function(e,o){var u=this.domain;return function(h,n,e,o){var m,u=kc(h,n,e),c=mf(null==o?",f":o);switch(c.type){case"s":var y=Math.max(Math.abs(h),Math.abs(n));return null==c.precision&&!isNaN(m=function(h,n){var e=Math.floor(vo(n)/3);return e=Math.min(8,e),e=Math.max(-8,e),Math.max(0,3*e-vo(Math.abs(h)))}(u,y))&&(c.precision=m),xu(c,y);case"":case"e":case"g":case"p":case"r":null==c.precision&&!isNaN(m=function(h,n){return h=Math.abs(h),n=Math.abs(n)-h,Math.max(0,vo(n)-vo(h))+1}(u,Math.max(Math.abs(h),Math.abs(n))))&&(c.precision=m-+("e"===c.type));break;case"f":case"%":null==c.precision&&!isNaN(m=function(h){return Math.max(0,-vo(Math.abs(h)))}(u))&&(c.precision=m-2*+("%"===c.type))}return Qo(c)}(u[0],u[u.length-1],null==e?10:e,o)},n}(Bs),lv=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),uv=new Date,cv=new Date,dv=function(){function h(n,e){this._floor=n,this._offset=e}return h.prototype.floor=function(n){return n=new Date(+n),this._floor(n),n},h.prototype.ceil=function(n){return n=new Date(+n-1),this._floor(n),this._offset(n,1),this._floor(n),n},h.prototype.round=function(n){var e=this.floor(n),o=this.ceil(n),u=+n;return u-e.getTime()<o.getTime()-u?e:o},h.prototype.offset=function(n,e){return void 0===e&&(e=1),n=new Date(+n),this._offset(n,Math.floor(e)),n},h.prototype.range=function(n,e,o){void 0===o&&(o=1);var c,u=[];if(n=this.ceil(n),o=Math.floor(o),n>e||o<=0)return u;do{c=new Date(+n),u.push(c),this._offset(n,o),this._floor(n)}while(c<n&&n<e);return u},h.prototype.filter=function(n){var e=this;return new h(function(c){if(c>=c)for(;e._floor(c),!n(c);)c.setTime(c.getTime()-1);return c},function(c,m){if(c>=c)if(m<0)for(;++m<=0;)do{e._offset(c,-1)}while(!n(c));else for(;--m>=0;)do{e._offset(c,1)}while(!n(c));return c})},h}(),Rt=function(h){function n(e,o,u,c){var m=h.call(this,e,o)||this;return m._count=u,m._field=c,m}return lv(n,h),n.prototype.count=function(e,o){return uv.setTime(+e),cv.setTime(+o),this._floor(uv),this._floor(cv),Math.floor(this._count(uv,cv))},n.prototype.every=function(e){var u,o=this;if(e=Math.floor(e),isFinite(e)&&e>0)if(e>1){var c=this._field;u=this.filter(c?function(m){return c(m)%e==0}:function(m){return o.count(0,m)%e==0})}else u=this;return u},n}(dv),SD=new Rt(function(h){return h},function(h,n){h.setTime(h.getTime()+n)},function(h,n){return n.getTime()-h.getTime()}),On=1e3,Ao=6e4,sr=60*Ao,Ws=24*sr,Tu=7*Ws,Ai=30*Ws,To=365*Ws,Dp=new Rt(function(h){h.setTime(h.getTime()-h.getMilliseconds())},function(h,n){h.setTime(h.getTime()+n*On)},function(h,n){return(n.getTime()-h.getTime())/On}),bf=new Rt(function(h){h.setTime(h.getTime()-h.getMilliseconds()-h.getSeconds()*On)},function(h,n){h.setTime(h.getTime()+n*Ao)},function(h,n){return(n.getTime()-h.getTime())/Ao},function(h){return h.getMinutes()}),hC=new Rt(function(h){h.setTime(h.getTime()-h.getMilliseconds()-h.getSeconds()*On-h.getMinutes()*Ao)},function(h,n){h.setTime(h.getTime()+n*sr)},function(h,n){return(n.getTime()-h.getTime())/sr},function(h){return h.getHours()}),pv=new Rt(function(h){h.setHours(0,0,0,0)},function(h,n){h.setDate(h.getDate()+n)},function(h,n){var e=n.getTimezoneOffset()-h.getTimezoneOffset();return(n.getTime()-h.getTime()-e*Ao)/Ws},function(h){return h.getDate()-1});function Ra(h){return new Rt(function(u){u.setDate(u.getDate()-(u.getDay()+7-h)%7),u.setHours(0,0,0,0)},function(u,c){u.setDate(u.getDate()+7*c)},function(u,c){return(c.getTime()-u.getTime()-(c.getTimezoneOffset()-u.getTimezoneOffset())*Ao)/Tu})}var xp=Ra(0),Wc=Ra(1),jc=(Ra(2),Ra(3),Ra(4));Ra(5),Ra(6);var Ap=new Rt(function(h){h.setDate(1),h.setHours(0,0,0,0)},function(h,n){h.setMonth(h.getMonth()+n)},function(h,n){return n.getMonth()-h.getMonth()+12*(n.getFullYear()-h.getFullYear())},function(h){return h.getMonth()}),Ru=new Rt(function(h){h.setMonth(0,1),h.setHours(0,0,0,0)},function(h,n){h.setFullYear(h.getFullYear()+n)},function(h,n){return n.getFullYear()-h.getFullYear()},function(h){return h.getFullYear()});var Ef=new Rt(function(h){h.setUTCHours(0,0,0,0)},function(h,n){h.setUTCDate(h.getUTCDate()+n)},function(h,n){return(n.getTime()-h.getTime())/Ws},function(h){return h.getUTCDate()-1}),Pu=new Rt(function(h){h.setUTCMonth(0,1),h.setUTCHours(0,0,0,0)},function(h,n){h.setUTCFullYear(h.getUTCFullYear()+n)},function(h,n){return n.getUTCFullYear()-h.getUTCFullYear()},function(h){return h.getUTCFullYear()});function Ml(h){return new Rt(function(u){u.setUTCDate(u.getUTCDate()-(u.getUTCDay()+7-h)%7),u.setHours(0,0,0,0)},function(u,c){u.setUTCDate(u.getUTCDate()+7*c)},function(u,c){return(c.getTime()-u.getTime())/Tu})}var fS=Ml(0),Me=Ml(1),Of=(Ml(2),Ml(3),Ml(4));function gS(h){if(h.y>=0&&h.y<100){var n=new Date(-1,h.m,h.d,h.H,h.M,h.S,h.L);return n.setFullYear(h.y),n}return new Date(h.y,h.m,h.d,h.H,h.M,h.S,h.L)}function Fl(h){if(h.y>=0&&h.y<100){var n=new Date(Date.UTC(-1,h.m,h.d,h.H,h.M,h.S,h.L));return n.setUTCFullYear(h.y),n}return new Date(Date.UTC(h.y,h.m,h.d,h.H,h.M,h.S,h.L))}function Rp(h){for(var n={},e=0,o=h.length;e<o;e++)n[h[e].toLowerCase()]=e;return n}function $c(h){return{y:h,m:0,d:1,H:0,M:0,S:0,L:0}}Ml(5),Ml(6);var Tf,Ar=/^\s*\d+/,Fu=/^%/,Kc=/[\\^$*+?|[\]().{}]/g,mS=function(h){return h.replace(Kc,"\\$&")},Pp=function(h){return new RegExp("^(?:"+h.map(mS).join("|")+")","i")},vS={"-":"",_:" ",0:"0"};function Ln(h,n,e){var o=h<0?"-":"",u=String(o?-h:h),c=u.length;return o+(c<e?new Array(e-c+1).join(n)+u:u)}Tf=function(h){var n=h.dateTime,e=h.date,o=h.time,u=h.periods,c=h.days,m=h.shortDays,y=h.months,w=h.shortMonths,D=Pp(u),x=Rp(u),P=Pp(c),R=Rp(c),I=Pp(m),N=Rp(m),V=Pp(y),z=Rp(y),Y=Pp(w),X=Rp(w),q={a:function(Z){return m[Z.getDay()]},A:function(Z){return c[Z.getDay()]},b:function(Z){return w[Z.getMonth()]},B:function(Z){return y[Z.getMonth()]},c:void 0,d:At,e:At,f:function(Z,ae){return Se(Z,ae)+"000"},H:function(Z,ae){return Ln(Z.getHours(),ae,2)},I:function(Z,ae){return Ln(Z.getHours()%12||12,ae,2)},j:function(Z,ae){return Ln(1+pv.count(Ru.floor(Z),Z),ae,3)},L:Se,m:function(Z,ae){return Ln(Z.getMonth()+1,ae,2)},M:function(Z,ae){return Ln(Z.getMinutes(),ae,2)},p:function(Z){return u[Z.getHours()>=12?1:0]},Q:iw,s:Co,S:function(Z,ae){return Ln(Z.getSeconds(),ae,2)},u:function(Z){var ae=Z.getDay();return 0===ae?7:ae},U:function(Z,ae){return Ln(xp.count(Ru.floor(Z),Z),ae,2)},V:function(Z,ae){var pe=Z.getDay();Z=pe>=4||0===pe?jc.floor(Z):jc.ceil(Z);var ee=Ru.floor(Z);return Ln(jc.count(ee,Z)+(4===ee.getDay()?1:0),ae,2)},w:function(Z){return Z.getDay()},W:function(Z,ae){return Ln(Wc.count(Ru.floor(Z),Z),ae,2)},x:void 0,X:void 0,y:function(Z,ae){return Ln(Z.getFullYear()%100,ae,2)},Y:function(Z,ae){return Ln(Z.getFullYear()%1e4,ae,4)},Z:function(Z){var ae=Z.getTimezoneOffset();return(ae>0?"-":(ae*=-1,"+"))+Ln(Math.floor(ae/60),"0",2)+Ln(ae%60,"0",2)},"%":l_},ie={a:function(Z){return m[Z.getUTCDay()]},A:function(Z){return c[Z.getUTCDay()]},b:function(Z){return w[Z.getUTCMonth()]},B:function(Z){return y[Z.getUTCMonth()]},c:void 0,d:lt,e:lt,f:function(Z,ae){return pt(Z,ae)+"000"},H:function(Z,ae){return Ln(Z.getUTCHours(),ae,2)},I:function(Z,ae){return Ln(Z.getUTCHours()%12||12,ae,2)},j:function(Z,ae){return Ln(1+Ef.count(Pu.floor(Z),Z),ae,3)},L:pt,m:function(Z,ae){return Ln(Z.getUTCMonth()+1,ae,2)},M:function(Z,ae){return Ln(Z.getUTCMinutes(),ae,2)},p:function(Z){return u[Z.getUTCHours()>=12?1:0]},Q:iw,s:Co,S:function(Z,ae){return Ln(Z.getUTCSeconds(),ae,2)},u:function(Z){var ae=Z.getUTCDay();return 0===ae?7:ae},U:function(Z,ae){return Ln(fS.count(Pu.floor(Z),Z),ae,2)},V:function(Z,ae){var pe=Z.getUTCDay();Z=pe>=4||0===pe?Of.floor(Z):Of.ceil(Z);var ee=Pu.floor(Z);return Ln(Of.count(ee,Z)+(4===ee.getUTCDay()?1:0),ae,4)},w:function(Z){return Z.getUTCDay()},W:function(Z,ae){return Ln(Me.count(Pu.floor(Z),Z),ae,2)},x:void 0,X:void 0,y:function(Z,ae){return Ln(Z.getUTCFullYear()%100,ae,2)},Y:function(Z,ae){return Ln(Z.getUTCFullYear()%1e4,ae,4)},Z:function(){return"+0000"},"%":l_},ce={a:function(Z,ae,pe){var ee=I.exec(ae.slice(pe));return ee?(Z.w=N[ee[0].toLowerCase()],pe+ee[0].length):-1},A:function(Z,ae,pe){var ee=P.exec(ae.slice(pe));return ee?(Z.w=R[ee[0].toLowerCase()],pe+ee[0].length):-1},b:function(Z,ae,pe){var ee=Y.exec(ae.slice(pe));return ee?(Z.m=X[ee[0].toLowerCase()],pe+ee[0].length):-1},B:function(Z,ae,pe){var ee=V.exec(ae.slice(pe));return ee?(Z.m=z[ee[0].toLowerCase()],pe+ee[0].length):-1},c:function(Z,ae,pe){return fe(Z,n,ae,pe)},d:d_,e:d_,f:function(Z,ae,pe){var ee=Ar.exec(ae.slice(pe,pe+6));return ee?(Z.L=Math.floor(parseFloat(ee[0])/1e3),pe+ee[0].length):-1},H:c_,I:c_,j:function(Z,ae,pe){var ee=Ar.exec(ae.slice(pe,pe+3));return ee?(Z.m=0,Z.d=+ee[0],pe+ee[0].length):-1},L:function(Z,ae,pe){var ee=Ar.exec(ae.slice(pe,pe+3));return ee?(Z.L=+ee[0],pe+ee[0].length):-1},m:function(Z,ae,pe){var ee=Ar.exec(ae.slice(pe,pe+2));return ee?(Z.m=parseFloat(ee[0])-1,pe+ee[0].length):-1},M:function(Z,ae,pe){var ee=Ar.exec(ae.slice(pe,pe+2));return ee?(Z.M=+ee[0],pe+ee[0].length):-1},p:function(Z,ae,pe){var ee=D.exec(ae.slice(pe));return ee?(Z.p=x[ee[0].toLowerCase()],pe+ee[0].length):-1},Q:function(Z,ae,pe){var ee=Ar.exec(ae.slice(pe));return ee?(Z.Q=+ee[0],pe+ee[0].length):-1},s:function(Z,ae,pe){var ee=Ar.exec(ae.slice(pe));return ee?(Z.Q=1e3*+ee[0],pe+ee[0].length):-1},S:function(Z,ae,pe){var ee=Ar.exec(ae.slice(pe,pe+2));return ee?(Z.S=+ee[0],pe+ee[0].length):-1},u:function(Z,ae,pe){var ee=Ar.exec(ae.slice(pe,pe+1));return ee?(Z.u=+ee[0],pe+ee[0].length):-1},U:function(Z,ae,pe){var ee=Ar.exec(ae.slice(pe,pe+2));return ee?(Z.U=+ee[0],pe+ee[0].length):-1},V:function(Z,ae,pe){var ee=Ar.exec(ae.slice(pe,pe+2));return ee?(Z.V=+ee[0],pe+ee[0].length):-1},w:function(Z,ae,pe){var ee=Ar.exec(ae.slice(pe,pe+1));return ee?(Z.w=+ee[0],pe+ee[0].length):-1},W:function(Z,ae,pe){var ee=Ar.exec(ae.slice(pe,pe+2));return ee?(Z.W=+ee[0],pe+ee[0].length):-1},x:function(Z,ae,pe){return fe(Z,e,ae,pe)},X:function(Z,ae,pe){return fe(Z,o,ae,pe)},y:function(Z,ae,pe){var ee=Ar.exec(ae.slice(pe,pe+2));return ee?(Z.y=+ee[0]+(+ee[0]>68?1900:2e3),pe+ee[0].length):-1},Y:function(Z,ae,pe){var ee=Ar.exec(ae.slice(pe,pe+4));return ee?(Z.y=+ee[0],pe+ee[0].length):-1},Z:function(Z,ae,pe){var ee=/^(Z)|^([+-]\d\d)(?::?(\d\d))?/.exec(ae.slice(pe,pe+6));return ee?(Z.Z=ee[1]?0:-(ee[2]+(ee[3]||"00")),pe+ee[0].length):-1},"%":function(Z,ae,pe){var ee=Fu.exec(ae.slice(pe,pe+1));return ee?pe+ee[0].length:-1}};function se(Z,ae){return function(pe){var ee=$c(1900);if(fe(ee,Z,pe+="",0)==pe.length){if("Q"in ee)return new Date(ee.Q);if("p"in ee&&(ee.H=ee.H%12+12*ee.p),"V"in ee){if(ee.V<1||ee.V>53)return;if("w"in ee||(ee.w=1),"Z"in ee){var tr=(bt=Fl($c(ee.y))).getUTCDay();bt=tr>4||0===tr?Me.ceil(bt):Me.floor(bt),bt=Ef.offset(bt,7*(ee.V-1)),ee.y=bt.getUTCFullYear(),ee.m=bt.getUTCMonth(),ee.d=bt.getUTCDate()+(ee.w+6)%7}else{var bt;tr=(bt=ae($c(ee.y))).getDay(),bt=tr>4||0===tr?Wc.ceil(bt):Wc.floor(bt),bt=pv.offset(bt,7*(ee.V-1)),ee.y=bt.getFullYear(),ee.m=bt.getMonth(),ee.d=bt.getDate()+(ee.w+6)%7}}else("W"in ee||"U"in ee)&&("w"in ee||(ee.w="u"in ee?ee.u%7:"W"in ee?1:0),tr="Z"in ee?Fl($c(ee.y)).getUTCDay():ae($c(ee.y)).getDay(),ee.m=0,ee.d="W"in ee?(ee.w+6)%7+7*ee.W-(tr+5)%7:ee.w+7*ee.U-(tr+6)%7);return"Z"in ee?(ee.H+=ee.Z/100|0,ee.M+=ee.Z%100,Fl(ee)):ae(ee)}}}function ue(Z,ae){return function(pe){var ee=[],po=Z.length,bt=-1,tr=0;for(pe instanceof Date||(pe=new Date(+pe));++bt<po;)if(37===Z.charCodeAt(bt)){ee.push(Z.slice(tr,bt));var ci=Z.charAt(++bt),Ka=vS[ci];null!=Ka?ci=Z.charAt(++bt):Ka="e"===ci?" ":"0";var Ss=ae[ci];Ss&&(ci=Ss(pe,Ka)),ee.push(ci),tr=bt+1}return ee.push(Z.slice(tr,bt)),ee.join("")}}function fe(Z,ae,pe,ee){for(var po=0,bt=ae.length,tr=pe.length;po<bt;){if(ee>=tr)return-1;var ci=ae.charCodeAt(po++);if(37===ci){var Ka=ae.charAt(po++),Ss=ce[Ka in vS?ae.charAt(po++):Ka];if(!Ss||(ee=Ss(Z,pe,ee))<0)return-1}else if(ci!=pe.charCodeAt(ee++))return-1}return ee}function Se(Z,ae){return Ln(Z.getMilliseconds(),ae,3)}function At(Z,ae){return Ln(Z.getDate(),ae,2)}function pt(Z,ae){return Ln(Z.getUTCMilliseconds(),ae,3)}function lt(Z,ae){return Ln(Z.getUTCDate(),ae,2)}function l_(Z){return"%"}function iw(Z){return Z.getTime()}function Co(Z){return Math.floor(Z.getTime()/1e3)}function c_(Z,ae,pe){var ee=Ar.exec(ae.slice(pe,pe+2));return ee?(Z.H=+ee[0],pe+ee[0].length):-1}function d_(Z,ae,pe){var ee=Ar.exec(ae.slice(pe,pe+2));return ee?(Z.d=+ee[0],pe+ee[0].length):-1}return q.x=ue(e,q),q.X=ue(o,q),q.c=ue(n,q),ie.x=ue(e,ie),ie.X=ue(o,ie),ie.c=ue(n,ie),{format:function(Z){var ae=ue(Z,q);return ae.toString=function(){return Z},ae},parse:function(Z){var ae=se(Z,gS);return ae.toString=function(){return Z},ae},utcFormat:function(Z){var ae=ue(Z,ie);return ae.toString=function(){return Z},ae},utcParse:function(Z){var ae=se(Z,Fl);return ae.toString=function(){return Z},ae}}}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var CC=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Us=function(h,n){var e="function"==typeof Symbol&&h[Symbol.iterator];if(!e)return h;var u,m,o=e.call(h),c=[];try{for(;(void 0===n||n-- >0)&&!(u=o.next()).done;)c.push(u.value)}catch(y){m={error:y}}finally{try{u&&!u.done&&(e=o.return)&&e.call(o)}finally{if(m)throw m.error}}return c},bC=function(h){function n(){var e=null!==h&&h.apply(this,arguments)||this;return e.type="time",e.year=Ru,e.month=Ap,e.week=xp,e.day=pv,e.hour=hC,e.minute=bf,e.second=Dp,e.millisecond=SD,e.format=Tf.format,e.tickIntervals=[[e.second,1,On],[e.second,5,5e3],[e.second,15,15e3],[e.second,30,3e4],[e.minute,1,Ao],[e.minute,5,5*Ao],[e.minute,15,15*Ao],[e.minute,30,30*Ao],[e.hour,1,sr],[e.hour,3,3*sr],[e.hour,6,6*sr],[e.hour,12,12*sr],[e.day,1,Ws],[e.day,2,2*Ws],[e.week,1,Tu],[e.month,1,Ai],[e.month,3,3*Ai],[e.year,1,To]],e.formatMillisecond=e.format(".%L"),e.formatSecond=e.format(":%S"),e.formatMinute=e.format("%I:%M"),e.formatHour=e.format("%I %p"),e.formatDay=e.format("%a %d"),e.formatWeek=e.format("%b %d"),e.formatMonth=e.format("%B"),e.formatYear=e.format("%Y"),e._domain=[new Date(2e3,0,1),new Date(2e3,0,2)],e}return CC(n,h),n.prototype.defaultTickFormat=function(e){return(this.second.floor(e)<e?this.formatMillisecond:this.minute.floor(e)<e?this.formatSecond:this.hour.floor(e)<e?this.formatMinute:this.day.floor(e)<e?this.formatHour:this.month.floor(e)<e?this.week.floor(e)<e?this.formatDay:this.formatWeek:this.year.floor(e)<e?this.formatMonth:this.formatYear)(e)},n.prototype.tickInterval=function(e,o,u,c){var m;if("number"==typeof e){var y=e,w=this.tickIntervals,D=Math.abs(u-o)/y,x=function(h,n,e,o,u){void 0===o&&(o=0),void 0===u&&(u=h.length);for(var c=function(h){return function(n,e){return function(h,n){return h<n?-1:h>n?1:h>=n?0:NaN}(h(n),e)}}(e);o<u;){var m=o+u>>>1;c(h[m],n)<0?o=m+1:u=m}return o}(w,D,function(P){return P[2]});x===w.length?(c=kc(o/To,u/To,y),e=this.year):x?(e=(m=Us(w[D/w[x-1][2]<w[x][2]/D?x-1:x],2))[0],c=m[1]):(c=Math.max(kc(o,u,e),1),e=this.millisecond)}return null==c?e:e.every(c)},Object.defineProperty(n.prototype,"domain",{get:function(){return h.prototype.getDomain.call(this).map(function(e){return new Date(e)})},set:function(e){h.prototype.setDomain.call(this,Array.prototype.map.call(e,function(o){return o instanceof Date?+o:+new Date(+o)}))},enumerable:!0,configurable:!0}),n.prototype.invert=function(e){return new Date(h.prototype.invert.call(this,e))},n.prototype.ticks=function(e){void 0===e&&(e=10);var o=h.prototype.getDomain.call(this),u=o[0],c=o[o.length-1],m=c<u;if(m){var y=u;u=c,c=y}var w=this.tickInterval(e,u,c),D=w?w.range(u,c+1):[];return m?D.reverse():D},n.prototype.tickFormat=function(e,o){return null==o?this.defaultTickFormat.bind(this):this.format(o)},n.prototype.nice=function(e){void 0===e&&(e=10);var o=h.prototype.getDomain.call(this),u=this.tickInterval(e,o[0],o[o.length-1]);u&&(this.domain=this._nice(o,u))},n.prototype._nice=function(e,o){var u,c,m=0,y=(e=e.slice()).length-1,w=e[m],D=e[y];return D<w&&(m=(u=Us([y,m],2))[0],y=u[1],w=(c=Us([D,w],2))[0],D=c[1]),e[m]=o.floor(w),e[y]=o.ceil(D),e},n}(Bs);function yS(h){return h}function Mp(h,n,e){for(var m,y,w,o=e||yS,u=h.length,c=-1;++c<u;)if(n(m=h[c]))for(y=w=m;++c<u;)n(m=h[c])&&(y>m&&(y=m),w<m&&(w=m));return void 0===y||void 0===w?void 0:[o(y),o(w)]}var Rf=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Zo=function(h){function n(){var e=null!==h&&h.apply(this,arguments)||this;return e.type="category",e.stroke="rgb(204, 214, 235)",e.strokeWidth=1,e}return Rf(n,h),n}(is),Pf=function(h){function n(){var e=h.call(this)||this;e.id=rf(e),e.seriesRect={x:0,y:0,width:0,height:0},e._context=void 0,e._container=void 0,e._data=void 0,e.padding=new df(3),e.xKey="x",e.yKey="y",e.dataType=void 0,e.xData=[],e.yData=[],e.min=void 0,e.max=void 0,e.yScale=new Xe,e.axis=new Zo,e.highlightStyle={size:6,fill:"yellow",stroke:"silver",strokeWidth:1},e._width=100,e._height=100,e.layoutId=0,e.defaultDateFormatter=Tf.format("%m/%d/%y, %H:%M:%S"),e._onMouseMove=e.onMouseMove.bind(e),e._onMouseOut=e.onMouseOut.bind(e);var o=new Ls;e.rootGroup=o;var u=document.createElement("div");u.setAttribute("class","ag-sparkline-wrapper");var c=new Xm(document);if(e.scene=c,e.canvasElement=c.canvas.element,c.root=o,c.container=u,c.resize(e.width,e.height),e.seriesRect.width=e.width,e.seriesRect.height=e.height,-1===n.tooltipDocuments.indexOf(document)){var m=document.createElement("style");m.innerHTML="\n.ag-sparkline-tooltip-wrapper {\n    position: absolute;\n    user-select: none;\n    pointer-events: none;\n}\n\n.ag-sparkline-tooltip {\n    position: relative;\n    font: 12px arial,sans-serif;\n    border-radius: 2px;\n    box-shadow: 0 1px 3px rgb(0 0 0 / 20%), 0 1px 1px rgb(0 0 0 / 14%);\n    line-height: 1.7em;\n    overflow: hidden;\n    white-space: nowrap;\n    z-index: 99999;\n    background-color: rgb(255, 255, 255);\n    color: rgba(0,0,0, 0.67);\n}\n\n.ag-sparkline-tooltip-content {\n    padding: 0 7px;\n}\n\n.ag-sparkline-tooltip-title {\n    padding-left: 7px;\n}\n\n.ag-sparkline-tooltip-wrapper-hidden {\n    top: -10000px !important;\n}\n\n.ag-sparkline-wrapper {\n    box-sizing: border-box;\n    overflow: hidden;\n}\n",document.head.insertBefore(m,document.head.querySelector("style")),n.tooltipDocuments.push(document)}return e.setupDomEventListeners(e.scene.canvas.element),e}return Rf(n,h),Object.defineProperty(n.prototype,"context",{get:function(){return this._context},set:function(e){this._context!==e&&(this._context=e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"container",{get:function(){return this._container},set:function(e){if(this._container!==e){var o=this.canvasElement.parentNode;null!=o&&o.removeChild(this.canvasElement),e&&e.appendChild(this.canvasElement),this._container=e}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"data",{get:function(){return this._data},set:function(e){this._data!==e&&(this._data=e,this.processData())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"width",{get:function(){return this._width},set:function(e){this._width!==e&&(this._width=e,this.scene.resize(e,this.height),this.scheduleLayout())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this._height},set:function(e){this._height!==e&&(this._height=e,this.scene.resize(this.width,e),this.scheduleLayout())},enumerable:!0,configurable:!0}),n.prototype.update=function(){},n.prototype.updateYScale=function(){this.updateYScaleRange(),this.updateYScaleDomain()},n.prototype.updateYScaleDomain=function(){},n.prototype.updateYScaleRange=function(){this.yScale.range=[this.seriesRect.height,0]},n.prototype.updateXScale=function(){this.xScale=this.getXScale(this.axis.type),this.updateXScaleRange(),this.updateXScaleDomain()},n.prototype.updateXScaleRange=function(){this.xScale.range=[0,this.seriesRect.width]},n.prototype.updateXScaleDomain=function(){var c,o=this.xData,u=this.xScale;u instanceof Xe?c=Mp(o,Nn):u instanceof bC&&(c=Mp(o,Vs)),this.xScale.domain=c?c.slice():o},n.prototype.getXScale=function(e){switch(void 0===e&&(e="category"),e){case"number":return new Xe;case"time":return new bC;default:return new Oi}},n.prototype.updateAxisLine=function(){},n.prototype.updateAxes=function(){this.updateYScale(),this.updateXScale(),this.updateAxisLine()},n.prototype.updateCrosshairs=function(){this.updateXCrosshairLine(),this.updateYCrosshairLine()},n.prototype.generateNodeData=function(){return[]},n.prototype.getNodeData=function(){return[]},n.prototype.updateNodes=function(){},n.prototype.updateXCrosshairLine=function(){},n.prototype.updateYCrosshairLine=function(){},n.prototype.highlightDatum=function(e){this.updateNodes()},n.prototype.dehighlightDatum=function(){this.highlightedDatum=void 0,this.updateNodes(),this.updateCrosshairs()},n.prototype.onMouseMove=function(e){var o=this.pickClosestSeriesNodeDatum(e.offsetX,e.offsetY);if(o){var u=this.highlightedDatum;this.highlightedDatum=o,(this.highlightedDatum&&!u||this.highlightedDatum&&u&&this.highlightedDatum!==u)&&(this.highlightDatum(o),this.updateCrosshairs()),this.tooltip.enabled&&this.handleTooltip(e,o)}},n.prototype.onMouseOut=function(e){this.dehighlightDatum(),this.tooltip.toggle(!1)},n.prototype.processData=function(){var e=this,o=e.data,u=e.yData,c=e.xData;if(o&&!this.invalidData(this.data)){u.length=0,c.length=0;var m=o.length,y=this.getDataType(o);this.dataType=y;var w=this.axis.type,D="number"!==w&&"time"!==w?"category":w;if("number"===y)for(var x=0;x<m;x++){var R=o[x],I=this.getDatum(x,D),N=this.getDatum(R,"number");c.push(I),u.push(N)}else if("array"===y)for(x=0;x<m;x++){var V=o[x];if(Array.isArray(V)){if(R=V[1],I=this.getDatum(V[0],D),N=this.getDatum(R,"number"),null==I)continue;c.push(I),u.push(N)}}else if("object"===y){var Y=this.yKey,X=this.xKey;for(x=0;x<m;x++)if("object"==typeof(V=o[x])&&!Array.isArray(V)){if(R=V[Y],I=this.getDatum(V[X],D),N=this.getDatum(R,"number"),null==I)continue;c.push(I),u.push(N)}}this.updateAxes(),this.update()}},n.prototype.getDataType=function(e){var o,u;try{for(var c=function(h){var n="function"==typeof Symbol&&Symbol.iterator,e=n&&h[n],o=0;if(e)return e.call(h);if(h&&"number"==typeof h.length)return{next:function(){return h&&o>=h.length&&(h=void 0),{value:h&&h[o++],done:!h}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),m=c.next();!m.done;m=c.next()){var y=m.value;if(null!=y){if(Nn(y))return"number";if(Array.isArray(y))return"array";if("object"==typeof y)return"object"}}}catch(w){o={error:w}}finally{try{m&&!m.done&&(u=c.return)&&u.call(c)}finally{if(o)throw o.error}}},n.prototype.getDatum=function(e,o){if("number"===o&&Nn(e)||"time"===o&&(Nn(e)||ar(e)))return e;if("category"===o){if(lC(e)||ar(e)||Nn(e))return{toString:function(){return String(e)}};if(function(h){return!!h&&h.hasOwnProperty("toString")&&lC(h.toString())}(e))return e}},Object.defineProperty(n.prototype,"layoutScheduled",{get:function(){return!!this.layoutId},enumerable:!0,configurable:!0}),n.prototype.scheduleLayout=function(){var e=this;this.layoutId&&cancelAnimationFrame(this.layoutId),this.layoutId=requestAnimationFrame(function(){e.setSparklineDimensions(),!e.invalidData(e.data)&&(e.updateXScaleRange(),e.updateYScaleRange(),e.updateAxisLine(),e.update(),e.layoutId=0)})},n.prototype.setSparklineDimensions=function(){var e=this,c=e.padding,m=e.seriesRect,y=e.rootGroup,D=e.height-c.top-c.bottom;m.width=e.width-c.left-c.right,m.height=D,m.x=c.left,m.y=c.top,y.translationX=m.x,y.translationY=m.y},n.prototype.pickClosestSeriesNodeDatum=function(e,o){var m,u=this,c=1/0,y=this.rootGroup.transformPoint(e,o);return this.getNodeData().forEach(function(w){if(w.point){var D=u.getDistance(y,w.point);D<c&&(c=D,m=w)}}),m},n.prototype.getDistance=function(e,o){return Math.abs(e.x-o.x)},n.prototype.handleTooltip=function(e,o){var u=o.seriesDatum,m=e.clientX,y=e.clientY;null==this.tooltip.container&&(this.tooltip.container=this.canvasElement);var w={pageX:m,pageY:y},P=this.tooltip.enabled;if(this.tooltip.renderer){var R=this.tooltip.renderer({context:this.context,datum:u,yValue:u.y,xValue:u.x});P="string"!=typeof R&&void 0!==R.enabled?R.enabled:P}var I=P&&void 0!==u.y&&this.getTooltipHtml(o);I&&this.tooltip.show(w,I)},n.prototype.formatNumericDatum=function(e){return String(Math.round(10*e)/10)},n.prototype.formatDatum=function(e){var o=this.axis.type||"category";return"number"===o&&"number"==typeof e?this.formatNumericDatum(e):"time"===o&&(e instanceof Date||Nn(e))?this.defaultDateFormatter(e):String(e)},n.prototype.setupDomEventListeners=function(e){e.addEventListener("mousemove",this._onMouseMove),e.addEventListener("mouseout",this._onMouseOut)},n.prototype.cleanupDomEventListeners=function(e){e.removeEventListener("mousemove",this._onMouseMove),e.removeEventListener("mouseout",this._onMouseOut)},n.prototype.invalidData=function(e){return!e||!Array.isArray(e)||0===e.length},n.prototype.destroy=function(){this.scene.container=void 0,this.container=void 0,this.cleanupDomEventListeners(this.scene.canvas.element)},n.tooltipDocuments=[],n}(is),_S=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}();function Yc(h,n){if("string"==typeof h)return h;n=n||{};var R,I,e=h.content,o=void 0===e?n.content||"":e,u=h.title,c=void 0===u?n.title||void 0:u,m=h.color,y=void 0===m?n.color:m,w=h.backgroundColor,D=void 0===w?n.backgroundColor:w,x=h.opacity,P=void 0===x?n.opacity||1:x;if(y?(R=c?'<span class="'+Iu.class+'-title"; style="color: '+y+'">'+c+"</span>":"",I='<span class="'+Iu.class+'-content" style="color: '+y+'">'+o+"</span>"):(R=c?'<span class="'+Iu.class+'-title">'+c+"</span>":"",I='<span class="'+Iu.class+'-content">'+o+"</span>"),D){var N=Xo.fromString(D.toLowerCase()),ce=Xo.fromArray([N.r,N.g,N.b,P]).toRgbaString();return'<div class="'+Iu.class+'" style="background-color: '+ce+'">\n                    '+R+"\n                    "+I+"\n                </div>"}return'<div class="'+Iu.class+'">\n                    '+R+"\n                    "+I+"\n                </div>"}var Iu=function(h){function n(){var e=h.call(this)||this;return e.element=document.createElement("div"),e.enabled=!0,e.container=void 0,e.xOffset=10,e.yOffset=0,e.renderer=void 0,document.body.appendChild(e.element),e}return _S(n,h),n.prototype.isVisible=function(){var e=this.element;if(e.classList)return!e.classList.contains(n.class+"-wrapper-hidden");var o=e.getAttribute("class");return!!o&&o.split(" ").indexOf(n.class+"-wrapper-hidden")<0},n.prototype.updateClass=function(e){var o=[n.class+"-wrapper"];!0!==e&&o.push(n.class+"-wrapper-hidden"),this.element.setAttribute("class",o.join(" "))},n.prototype.show=function(e,o){this.toggle(!1);var u=this.element;if(void 0!==o)u.innerHTML=o;else if(!u.innerHTML)return;var c=e.pageX+this.xOffset,m=e.pageY+this.yOffset,y=u.getBoundingClientRect(),w=window.innerWidth-y.width;if(this.container){var D=this.container.getBoundingClientRect();w=D.left+(D.width-y.width)}c>w&&(c=e.pageX-u.clientWidth-this.xOffset),u.style.left=Math.round(c)+"px",u.style.top=Math.round(m)+"px",this.toggle(!0)},n.prototype.toggle=function(e){this.updateClass(e)},n.prototype.destroy=function(){var e=this.element.parentNode;e&&e.removeChild(this.element)},n.class="ag-sparkline-tooltip",n}(is),CS=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),_v=function(h){function n(){var e=null!==h&&h.apply(this,arguments)||this;return e._x=0,e._y=0,e._size=3,e}return CS(n,h),Object.defineProperty(n.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"size",{get:function(){return this._size},set:function(e){this._size!==e&&(this._size=e,this.dirty=!0)},enumerable:!0,configurable:!0}),n}(xa),wC=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),SC=function(h){function n(){return null!==h&&h.apply(this,arguments)||this}return wC(n,h),n.prototype.isPointInPath=function(e,o){return!1},n.prototype.isPointInStroke=function(e,o){return!1},n.prototype.render=function(e){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e);var o=this,u=o.x,c=o.y,y=o.size/2;e.beginPath(),e.arc(u,c,y,0,2*Math.PI,!1),this.fillStroke(e),this.dirty=!1},n.className="Circle",n}(_v),Mf=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),bS=function(h){function n(){return null!==h&&h.apply(this,arguments)||this}return Mf(n,h),n.prototype.isPointInStroke=function(e,o){return!1},n.prototype.isPointInPath=function(e,o){return!1},n.prototype.render=function(e){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e);var o=this,u=o.x,c=o.y,y=o.size/2;e.beginPath(),e.moveTo(u,c-=y),e.lineTo(u+=y,c+=y),e.lineTo(u-=y,c+=y),e.lineTo(u-=y,c-=y),e.lineTo(u+=y,c-=y),e.closePath(),this.fillStroke(e),this.dirty=!1},n.className="Diamond",n}(_v),wS=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),xD=function(h){function n(){return null!==h&&h.apply(this,arguments)||this}return wS(n,h),n.prototype.isPointInStroke=function(e,o){return!1},n.prototype.isPointInPath=function(e,o){return!1},n.prototype.render=function(e){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e);var o=this,u=o.x,c=o.y,m=o.size,y=m/2;e.beginPath(),e.moveTo(u-=y,c-=y),e.lineTo(u+=m,c),e.lineTo(u,c+=m),e.lineTo(u-=m,c),e.lineTo(u,c-=m),e.closePath(),this.fillStroke(e),this.dirty=!1},n.className="Square",n}(_v);function EC(h){switch(h){default:return SC;case"square":return xD;case"diamond":return bS}}function Il(h,n){void 0===n&&(n="solid");var e={solid:[],dash:[4,3],dot:[1,3],dashDot:[4,3,1,3],dashDotDot:[4,3,1,3,1,3],shortDot:[1,1],shortDash:[3,1],shortDashDot:[3,1,1,1],shortDashDotDot:[3,1,1,1,1,1],longDash:[8,3],longDashDot:[8,3,1,3],longDashDotDot:[8,3,1,3,1,3]},o={solid:[],dash:[3,3],dot:[0,3],dashDot:[3,3,0,3],dashDotDot:[3,3,0,3,0,3],shortDot:[0,2],shortDash:[2,2],shortDashDot:[2,2,0,2],shortDashDotDot:[2,2,0,2,0,2],longDash:[7,3],longDashDot:[7,3,0,3],longDashDotDot:[7,3,0,3,0,3]};return"round"===h||"square"===h?null==o[n]?(console.warn("'"+n+"' is not a valid 'lineDash' option."),o.solid):o[n]:null==e[n]?(console.warn("'"+n+"' is not a valid 'lineDash' option."),e.solid):e[n]}var DC=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Pa=function(){this.enabled=!0,this.shape="circle",this.size=0,this.fill="rgb(124, 181, 236)",this.stroke="rgb(124, 181, 236)",this.strokeWidth=1,this.formatter=void 0},Fp=function(){this.stroke="rgb(124, 181, 236)",this.strokeWidth=1},OC=function(){this.xLine={enabled:!0,stroke:"rgba(0,0,0, 0.54)",strokeWidth:1,lineDash:"solid",lineCap:void 0},this.yLine={enabled:!1,stroke:"rgba(0,0,0, 0.54)",strokeWidth:1,lineDash:"solid",lineCap:void 0}},xC=function(h){function n(){var e=h.call(this)||this;return e.fill="rgba(124, 181, 236, 0.25)",e.strokePath=new Ic,e.fillPath=new Ic,e.xCrosshairLine=new Nc,e.yCrosshairLine=new Nc,e.areaSparklineGroup=new Ls,e.fillPathData=[],e.strokePathData=[],e.xAxisLine=new Nc,e.markers=new Ls,e.markerSelection=Eu.select(e.markers).selectAll(),e.markerSelectionData=[],e.marker=new Pa,e.line=new Fp,e.crosshairs=new OC,e.rootGroup.append(e.areaSparklineGroup),e.areaSparklineGroup.append([e.fillPath,e.xAxisLine,e.strokePath,e.xCrosshairLine,e.yCrosshairLine,e.markers]),e}return DC(n,h),n.prototype.getNodeData=function(){return this.markerSelectionData},n.prototype.onMarkerShapeChange=function(){this.markerSelection=this.markerSelection.setData([]),this.markerSelection.exit.remove(),this.scheduleLayout()},n.prototype.update=function(){var e=this.generateNodeData();if(e){var o=e.nodeData,u=e.fillData,c=e.strokeData;this.markerSelectionData=o,this.fillPathData=u,this.strokePathData=c,this.updateSelection(o),this.updateNodes(),this.updateStroke(c),this.updateFill(u)}},n.prototype.updateYScaleDomain=function(){var u=this.yScale,c=Mp(this.yData,Nn),m=0,y=1;void 0!==c&&(m=this.min=c[0],y=this.max=c[1]),u.domain=[m=m<0?m:0,y=y<0?0:y]},n.prototype.generateNodeData=function(){var e=this,u=e.yData,c=e.xData,m=e.xScale,y=e.yScale;if(e.data){for(var I,N,V,z,w=m instanceof Oi?m.bandwidth/2:0,D=u.length,x=[],P=[],R=[],Y=y.convert(0),X=0;X<D;X++){var q=u[X],ie=c[X],ce=m.convert(ie)+w,se=y.convert(q);X+1<D&&(z=m.convert(c[X+1])+w),R.push({seriesDatum:{x:ie,y:q},point:{x:ce,y:se}}),void 0===q&&void 0!==V?(P.push({seriesDatum:void 0,point:{x:V,y:Y}}),void 0!==z&&P.push({seriesDatum:void 0,point:{x:z,y:Y}})):void 0!==q&&(P.push({seriesDatum:{x:ie,y:q},point:{x:ce,y:se}}),x.push({seriesDatum:{x:ie,y:q},point:{x:ce,y:se}}),I=void 0!==I?I:ce,N=ce),V=ce}return P.push({seriesDatum:void 0,point:{x:N,y:Y}},{seriesDatum:void 0,point:{x:I,y:Y}}),{nodeData:x,fillData:P,strokeData:R}}},n.prototype.updateAxisLine=function(){var e=this,o=e.xScale,u=e.yScale,c=e.axis,m=e.xAxisLine;m.x1=o.range[0],m.x2=o.range[1],m.y1=m.y2=0,m.stroke=c.stroke,m.strokeWidth=c.strokeWidth;var y=u.convert(0);m.translationY=y},n.prototype.updateSelection=function(e){var u=EC(this.marker.shape),c=this.markerSelection.setData(e),m=c.enter.append(u);c.exit.remove(),this.markerSelection=c.merge(m)},n.prototype.updateNodes=function(){var e=this,o=this,u=o.highlightedDatum,c=o.highlightStyle,m=o.marker,y=c.size,w=c.fill,D=c.stroke,x=c.strokeWidth,P=m.formatter;this.markerSelection.each(function(R,I,N){var V=I.point,z=I.seriesDatum;if(V){var se,Y=I===u,X=Y&&void 0!==w?w:m.fill,q=Y&&void 0!==D?D:m.stroke,ie=Y&&void 0!==x?x:m.strokeWidth,ce=Y&&void 0!==y?y:m.size;P&&(se=P({datum:I,xValue:z.x,yValue:z.y,min:z.y===e.min,max:z.y===e.max,first:0===N,last:N===e.markerSelectionData.length-1,fill:X,stroke:q,strokeWidth:ie,size:ce,highlighted:Y})),R.size=se&&null!=se.size?se.size:ce,R.fill=se&&null!=se.fill?se.fill:X,R.stroke=se&&null!=se.stroke?se.stroke:q,R.strokeWidth=se&&null!=se.strokeWidth?se.strokeWidth:ie,R.translationX=V.x,R.translationY=V.y,R.visible=se&&null!=se.enabled?se.enabled:m.enabled&&R.size>0}})},n.prototype.updateStroke=function(e){var o=this,u=o.strokePath,m=o.line;if(!(o.yData.length<2)){var y=u.path,w=e.length,D=!0;y.clear();for(var x=0;x<w;x++){var P=e[x],R=P.point,N=R.x,V=R.y;null==P.seriesDatum.y?D=!0:D?(y.moveTo(N,V),D=!1):y.lineTo(N,V)}u.lineJoin=u.lineCap="round",u.fill=void 0,u.stroke=m.stroke,u.strokeWidth=m.strokeWidth}},n.prototype.updateFill=function(e){var o=this,u=o.fillPath,c=o.yData,m=o.fill,y=u.path,w=e.length;if(y.clear(),!(c.length<2)){for(var D=0;D<w;D++){var x=e[D].point,P=x.x,R=x.y;D>0?y.lineTo(P,R):y.moveTo(P,R)}y.closePath(),u.lineJoin="round",u.stroke=void 0,u.fill=m}},n.prototype.updateXCrosshairLine=function(){var e=this,o=e.yScale,u=e.xCrosshairLine,c=e.highlightedDatum,m=e.crosshairs.xLine;if(m.enabled&&null!=c){u.y1=o.range[0],u.y2=o.range[1],u.x1=u.x2=0,u.stroke=m.stroke,u.strokeWidth=m.strokeWidth||1,u.lineCap="round"===m.lineCap||"square"===m.lineCap?m.lineCap:void 0;var y=m.lineDash;u.lineDash=Array.isArray(y)?y:Il(u.lineCap,m.lineDash),u.translationX=c.point.x}else u.strokeWidth=0},n.prototype.updateYCrosshairLine=function(){var e=this,o=e.xScale,u=e.yCrosshairLine,c=e.highlightedDatum,m=e.crosshairs.yLine;if(m.enabled&&null!=c){u.x1=o.range[0],u.x2=o.range[1],u.y1=u.y2=0,u.stroke=m.stroke,u.strokeWidth=m.strokeWidth||1,u.lineCap="round"===m.lineCap||"square"===m.lineCap?m.lineCap:void 0;var y=m.lineDash;u.lineDash=Array.isArray(y)?y:Il(u.lineCap,m.lineDash),u.translationY=c.point.y}else u.strokeWidth=0},n.prototype.getTooltipHtml=function(e){var o=this.dataType,u=e.seriesDatum,c=u.y,m=u.x,D={content:this.formatNumericDatum(c),title:"array"===o||"object"===o?this.formatDatum(m):void 0};return this.tooltip.renderer?Yc(this.tooltip.renderer({context:this.context,datum:u,yValue:c,xValue:m}),D):Yc(D)},n.className="AreaSparkline",n}(Pf),AC=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),AD=function(){this.enabled=!0,this.shape="circle",this.size=0,this.fill="rgb(124, 181, 236)",this.stroke="rgb(124, 181, 236)",this.strokeWidth=1,this.formatter=void 0},Nu=function(){this.stroke="rgb(124, 181, 236)",this.strokeWidth=1},TC=function(){this.xLine={enabled:!0,stroke:"rgba(0,0,0, 0.54)",strokeWidth:1,lineDash:"solid",lineCap:void 0},this.yLine={enabled:!1,stroke:"rgba(0,0,0, 0.54)",strokeWidth:1,lineDash:"solid",lineCap:void 0}},Cv=function(h){function n(){var e=h.call(this)||this;return e.linePath=new Ic,e.xCrosshairLine=new Nc,e.yCrosshairLine=new Nc,e.lineSparklineGroup=new Ls,e.markers=new Ls,e.markerSelection=Eu.select(e.markers).selectAll(),e.markerSelectionData=[],e.marker=new AD,e.line=new Nu,e.crosshairs=new TC,e.rootGroup.append(e.lineSparklineGroup),e.lineSparklineGroup.append([e.linePath,e.xCrosshairLine,e.yCrosshairLine,e.markers]),e}return AC(n,h),n.prototype.getNodeData=function(){return this.markerSelectionData},n.prototype.onMarkerShapeChange=function(){this.markerSelection=this.markerSelection.setData([]),this.markerSelection.exit.remove(),this.scheduleLayout()},n.prototype.update=function(){var e=this.generateNodeData();!e||(this.markerSelectionData=e,this.updateSelection(e),this.updateNodes(),this.updateLine())},n.prototype.updateYScaleDomain=function(){var u=this.yScale,c=Mp(this.yData,Nn),m=0,y=1;if(void 0!==c&&(m=this.min=c[0],y=this.max=c[1]),m===y){var w=Math.abs(.01*m);m-=w,y+=w}u.domain=[m,y]},n.prototype.generateNodeData=function(){var e=this,u=e.yData,c=e.xData,m=e.xScale,y=e.yScale;if(e.data){for(var w=m instanceof Oi?m.bandwidth/2:0,D=[],x=0;x<u.length;x++){var P=u[x],R=c[x];if(null!=P){var I=m.convert(R)+w,N=y.convert(P);D.push({seriesDatum:{x:R,y:P},point:{x:I,y:N}})}}return D}},n.prototype.updateSelection=function(e){var u=EC(this.marker.shape),c=this.markerSelection.setData(e),m=c.enter.append(u);c.exit.remove(),this.markerSelection=c.merge(m)},n.prototype.updateNodes=function(){var e=this,o=this,u=o.highlightedDatum,c=o.highlightStyle,m=o.marker,y=c.size,w=c.fill,D=c.stroke,x=c.strokeWidth,P=m.formatter;this.markerSelection.each(function(R,I,N){var ie,V=I===u,z=V&&void 0!==w?w:m.fill,Y=V&&void 0!==D?D:m.stroke,X=V&&void 0!==x?x:m.strokeWidth,q=V&&void 0!==y?y:m.size,ce=I.seriesDatum,se=I.point;P&&(ie=P({datum:I,xValue:ce.x,yValue:ce.y,min:ce.y===e.min,max:ce.y===e.max,first:0===N,last:N===e.markerSelectionData.length-1,fill:z,stroke:Y,strokeWidth:X,size:q,highlighted:V})),R.size=ie&&null!=ie.size?ie.size:q,R.fill=ie&&null!=ie.fill?ie.fill:z,R.stroke=ie&&null!=ie.stroke?ie.stroke:Y,R.strokeWidth=ie&&null!=ie.strokeWidth?ie.strokeWidth:X,R.translationX=se.x,R.translationY=se.y,R.visible=ie&&null!=ie.enabled?ie.enabled:m.enabled&&R.size>0})},n.prototype.updateLine=function(){var e=this,o=e.linePath,u=e.yData,c=e.xData,m=e.xScale,y=e.yScale,w=e.line;if(!(u.length<2)){var D=o.path,x=u.length,P=m instanceof Oi?m.bandwidth/2:0,R=!0;D.clear();for(var I=0;I<x;I++){var V=u[I],z=m.convert(c[I])+P,Y=y.convert(V);null==V?R=!0:R?(D.moveTo(z,Y),R=!1):D.lineTo(z,Y)}o.fill=void 0,o.stroke=w.stroke,o.strokeWidth=w.strokeWidth}},n.prototype.updateXCrosshairLine=function(){var e=this,o=e.yScale,u=e.xCrosshairLine,c=e.highlightedDatum,m=e.crosshairs.xLine;if(m.enabled&&null!=c){u.y1=o.range[0],u.y2=o.range[1],u.x1=u.x2=0,u.stroke=m.stroke,u.strokeWidth=m.strokeWidth||1,u.lineCap="round"===m.lineCap||"square"===m.lineCap?m.lineCap:void 0;var y=m.lineDash;u.lineDash=Array.isArray(y)?y:Il(u.lineCap,m.lineDash),u.translationX=c.point.x}else u.strokeWidth=0},n.prototype.updateYCrosshairLine=function(){var e=this,o=e.xScale,u=e.yCrosshairLine,c=e.highlightedDatum,m=e.crosshairs.yLine;if(m.enabled&&null!=c){u.x1=o.range[0],u.x2=o.range[1],u.y1=u.y2=0,u.stroke=m.stroke,u.strokeWidth=m.strokeWidth||1,u.lineCap="round"===m.lineCap||"square"===m.lineCap?m.lineCap:void 0;var y=m.lineDash;u.lineDash=Array.isArray(y)?y:Il(u.lineCap,m.lineDash),u.translationY=c.point.y}else u.strokeWidth=0},n.prototype.getTooltipHtml=function(e){var o=this.dataType,u=e.seriesDatum,c=u.y,m=u.x,D={content:this.formatNumericDatum(c),title:"array"===o||"object"===o?this.formatDatum(m):void 0};return this.tooltip.renderer?Yc(this.tooltip.renderer({context:this.context,datum:u,yValue:c,xValue:m}),D):Yc(D)},n.className="LineSparkline",n}(Pf),bv=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Xi=function(h){function n(){var e=null!==h&&h.apply(this,arguments)||this;return e._x=0,e._y=0,e._width=0,e._height=0,e._crisp=!1,e}return bv(n,h),Object.defineProperty(n.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"width",{get:function(){return this._width},set:function(e){this._width!==e&&(this._width=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this._height},set:function(e){this._height!==e&&(this._height=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"crisp",{get:function(){return this._crisp},set:function(e){this._crisp!==e&&(this._crisp=e,this.dirty=!0)},enumerable:!0,configurable:!0}),n.prototype.isPointInStroke=function(e,o){return!1},n.prototype.isPointInPath=function(e,o){return!1},n.prototype.render=function(e){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e);var o=this,u=o.x,c=o.y,m=o.width,y=o.height,w=o.crisp;if(e.beginPath(),w){var x=this.alignment,P=this.align;e.rect(P(x,u),P(x,c),P(x,u,m),P(x,c,y))}else e.rect(u,c,m,y);this.fillStroke(e),this.dirty=!1},n.className="Column",n}(xa),TD=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}();function wv(h,n,e,o){return[e||"",o||"",h+"px",n].join(" ").trim()}!function(h){function n(){var e=null!==h&&h.apply(this,arguments)||this;return e._x=0,e._y=0,e.lineBreakRegex=/\r?\n/g,e.lines=[],e._text="",e._dirtyFont=!0,e._fontSize=10,e._fontFamily="sans-serif",e._textAlign=n.defaultStyles.textAlign,e._textBaseline=n.defaultStyles.textBaseline,e._lineHeight=14,e}TD(n,h),Object.defineProperty(n.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.dirty=!0)},enumerable:!0,configurable:!0}),n.prototype.splitText=function(){this.lines=this._text.split(this.lineBreakRegex)},Object.defineProperty(n.prototype,"text",{get:function(){return this._text},set:function(e){var o=String(e);this._text!==o&&(this._text=o,this.splitText(),this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"font",{get:function(){return this.dirtyFont&&(this.dirtyFont=!1,this._font=wv(this.fontSize,this.fontFamily,this.fontStyle,this.fontWeight)),this._font},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"dirtyFont",{get:function(){return this._dirtyFont},set:function(e){this._dirtyFont!==e&&(this._dirtyFont=e,e&&(this.dirty=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(e){this._fontStyle!==e&&(this._fontStyle=e,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(e){this._fontWeight!==e&&(this._fontWeight=e,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"fontSize",{get:function(){return this._fontSize},set:function(e){isFinite(e)||(e=10),this._fontSize!==e&&(this._fontSize=e,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(e){this._fontFamily!==e&&(this._fontFamily=e,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"textAlign",{get:function(){return this._textAlign},set:function(e){this._textAlign!==e&&(this._textAlign=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(e){this._textBaseline!==e&&(this._textBaseline=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(e){this._lineHeight!==e&&(this._lineHeight=e,this.dirty=!0)},enumerable:!0,configurable:!0}),n.prototype.computeBBox=function(){return rs.has.textMetrics?this.getPreciseBBox():this.getApproximateBBox()},n.prototype.getPreciseBBox=function(){var e=rs.measureText(this.text,this.font,this.textBaseline,this.textAlign);return new Oa(this.x-e.actualBoundingBoxLeft,this.y-e.actualBoundingBoxAscent,e.width,e.actualBoundingBoxAscent+e.actualBoundingBoxDescent)},n.prototype.getApproximateBBox=function(){var e=rs.getTextSize(this.text,this.font),u=this.x,c=this.y;switch(this.textAlign){case"end":case"right":u-=e.width;break;case"center":u-=e.width/2}switch(this.textBaseline){case"alphabetic":c-=.7*e.height;break;case"middle":c-=.45*e.height;break;case"ideographic":case"bottom":c-=e.height;break;case"hanging":c-=.2*e.height}return new Oa(u,c,e.width,e.height)},n.prototype.isPointInPath=function(e,o){var u=this.transformPoint(e,o),c=this.computeBBox();return!!c&&c.containsPoint(u.x,u.y)},n.prototype.isPointInStroke=function(e,o){return!1},n.prototype.render=function(e){if(this.lines.length&&this.scene){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e);var o=this,u=o.fill,c=o.stroke,m=o.strokeWidth;e.font=this.font,e.textAlign=this.textAlign,e.textBaseline=this.textBaseline;var y=this.scene.canvas.pixelRatio||1,w=e.globalAlpha;if(u){e.fillStyle=u,e.globalAlpha=w*this.opacity*this.fillOpacity;var D=this,x=D.fillShadow,P=D.text,R=D.x,I=D.y;x&&x.enabled&&(e.shadowColor=x.color,e.shadowOffsetX=x.xOffset*y,e.shadowOffsetY=x.yOffset*y,e.shadowBlur=x.blur*y),e.fillText(P,R,I)}if(c&&m){e.strokeStyle=c,e.lineWidth=m,e.globalAlpha=w*this.opacity*this.strokeOpacity;var N=this,V=N.lineDash,z=N.lineDashOffset,Y=N.lineCap,X=N.lineJoin,q=N.strokeShadow;P=N.text,R=N.x,I=N.y,V&&e.setLineDash(V),z&&(e.lineDashOffset=z),Y&&(e.lineCap=Y),X&&(e.lineJoin=X),q&&q.enabled&&(e.shadowColor=q.color,e.shadowOffsetX=q.xOffset*y,e.shadowOffsetY=q.yOffset*y,e.shadowBlur=q.blur*y),e.strokeText(P,R,I)}this.dirty=!1}},n.className="Text",n.defaultStyles=sf(xa.defaultStyles,{textAlign:"start",fontStyle:void 0,fontWeight:void 0,fontSize:10,fontFamily:"sans-serif",textBaseline:"alphabetic"})}(xa);var qc=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Xc=function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);return u>3&&c&&Object.defineProperty(n,e,c),c},SS=function(h){function n(){var e=h.call(this)||this;return e.enabled=!0,e.fontSize=8,e.fontFamily="Verdana, sans-serif",e.color="rgba(70, 70, 70, 1)",e}return qc(n,h),n.prototype.getFont=function(){return wv(this.fontSize,this.fontFamily,this.fontStyle,this.fontWeight)},Xc([mi("change","dataChange")],n.prototype,"enabled",void 0),Xc([mi("change")],n.prototype,"fontSize",void 0),Xc([mi("change")],n.prototype,"fontFamily",void 0),Xc([mi("change")],n.prototype,"fontStyle",void 0),Xc([mi("change")],n.prototype,"fontWeight",void 0),Xc([mi("change")],n.prototype,"color",void 0),n}(is),RC=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),PC=function(h){function n(){var e=null!==h&&h.apply(this,arguments)||this;return e._x=0,e._y=0,e.lineBreakRegex=/\r?\n/g,e.lines=[],e._text="",e._dirtyFont=!0,e._fontSize=10,e._fontFamily="sans-serif",e._textAlign=n.defaultStyles.textAlign,e._textBaseline=n.defaultStyles.textBaseline,e._lineHeight=14,e}return RC(n,h),Object.defineProperty(n.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.dirty=!0)},enumerable:!0,configurable:!0}),n.prototype.splitText=function(){this.lines=this._text.split(this.lineBreakRegex)},Object.defineProperty(n.prototype,"text",{get:function(){return this._text},set:function(e){var o=String(e);this._text!==o&&(this._text=o,this.splitText(),this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"font",{get:function(){return this.dirtyFont&&(this.dirtyFont=!1,this._font=function(h,n,e,o){return[e||"",o||"",h+"px",n].join(" ").trim()}(this.fontSize,this.fontFamily,this.fontStyle,this.fontWeight)),this._font},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"dirtyFont",{get:function(){return this._dirtyFont},set:function(e){this._dirtyFont!==e&&(this._dirtyFont=e,e&&(this.dirty=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(e){this._fontStyle!==e&&(this._fontStyle=e,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(e){this._fontWeight!==e&&(this._fontWeight=e,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"fontSize",{get:function(){return this._fontSize},set:function(e){isFinite(e)||(e=10),this._fontSize!==e&&(this._fontSize=e,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(e){this._fontFamily!==e&&(this._fontFamily=e,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"textAlign",{get:function(){return this._textAlign},set:function(e){this._textAlign!==e&&(this._textAlign=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(e){this._textBaseline!==e&&(this._textBaseline=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(e){this._lineHeight!==e&&(this._lineHeight=e,this.dirty=!0)},enumerable:!0,configurable:!0}),n.prototype.computeBBox=function(){return rs.has.textMetrics?this.getPreciseBBox():this.getApproximateBBox()},n.prototype.getPreciseBBox=function(){var e=rs.measureText(this.text,this.font,this.textBaseline,this.textAlign);return new Oa(this.x-e.actualBoundingBoxLeft,this.y-e.actualBoundingBoxAscent,e.width,e.actualBoundingBoxAscent+e.actualBoundingBoxDescent)},n.prototype.getApproximateBBox=function(){var e=rs.getTextSize(this.text,this.font),u=this.x,c=this.y;switch(this.textAlign){case"end":case"right":u-=e.width;break;case"center":u-=e.width/2}switch(this.textBaseline){case"alphabetic":c-=.7*e.height;break;case"middle":c-=.45*e.height;break;case"ideographic":case"bottom":c-=e.height;break;case"hanging":c-=.2*e.height}return new Oa(u,c,e.width,e.height)},n.prototype.isPointInPath=function(e,o){var u=this.transformPoint(e,o),c=this.computeBBox();return!!c&&c.containsPoint(u.x,u.y)},n.prototype.isPointInStroke=function(e,o){return!1},n.prototype.render=function(e){if(this.lines.length&&this.scene){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e);var o=this,u=o.fill,c=o.stroke,m=o.strokeWidth;e.font=this.font,e.textAlign=this.textAlign,e.textBaseline=this.textBaseline;var y=this.scene.canvas.pixelRatio||1,w=e.globalAlpha;if(u){e.fillStyle=u,e.globalAlpha=w*this.opacity*this.fillOpacity;var D=this,x=D.fillShadow,P=D.text,R=D.x,I=D.y;x&&x.enabled&&(e.shadowColor=x.color,e.shadowOffsetX=x.xOffset*y,e.shadowOffsetY=x.yOffset*y,e.shadowBlur=x.blur*y),e.fillText(P,R,I)}if(c&&m){e.strokeStyle=c,e.lineWidth=m,e.globalAlpha=w*this.opacity*this.strokeOpacity;var N=this,V=N.lineDash,z=N.lineDashOffset,Y=N.lineCap,X=N.lineJoin,q=N.strokeShadow;P=N.text,R=N.x,I=N.y,V&&e.setLineDash(V),z&&(e.lineDashOffset=z),Y&&(e.lineCap=Y),X&&(e.lineJoin=X),q&&q.enabled&&(e.shadowColor=q.color,e.shadowOffsetX=q.xOffset*y,e.shadowOffsetY=q.yOffset*y,e.shadowBlur=q.blur*y),e.strokeText(P,R,I)}this.dirty=!1}},n.className="Text",n.defaultStyles=sf(xa.defaultStyles,{textAlign:"start",fontStyle:void 0,fontWeight:void 0,fontSize:10,fontFamily:"sans-serif",textBaseline:"alphabetic"}),n}(xa),If=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Qc=(()=>(function(h){h[h.Rect=0]="Rect",h[h.Label=1]="Label"}(Qc||(Qc={})),Qc))(),as=(()=>(function(h){h.InsideBase="insideBase",h.InsideEnd="insideEnd",h.Center="center",h.OutsideEnd="outsideEnd"}(as||(as={})),as))(),Tn=function(h){function n(){var e=null!==h&&h.apply(this,arguments)||this;return e.formatter=void 0,e.placement=as.InsideEnd,e}return If(n,h),n}(SS),MC=function(h){function n(){var e=h.call(this)||this;return e.fill="rgb(124, 181, 236)",e.stroke="silver",e.strokeWidth=0,e.paddingInner=.1,e.paddingOuter=.2,e.valueAxisDomain=void 0,e.formatter=void 0,e.axisLine=new Nc,e.sparklineGroup=new Ls,e.rectGroup=new Ls,e.labelGroup=new Ls,e.rectSelection=Eu.select(e.rectGroup).selectAll(),e.labelSelection=Eu.select(e.labelGroup).selectAll(),e.nodeSelectionData=[],e.label=new Tn,e.rootGroup.append(e.sparklineGroup),e.sparklineGroup.append([e.rectGroup,e.axisLine,e.labelGroup]),e.axisLine.lineCap="round",e.label.enabled=!1,e}return If(n,h),n.prototype.getNodeData=function(){return this.nodeSelectionData},n.prototype.update=function(){this.updateSelections(),this.updateNodes()},n.prototype.updateSelections=function(){var e=this.generateNodeData();!e||(this.nodeSelectionData=e,this.updateRectSelection(e),this.updateLabelSelection(e))},n.prototype.updateNodes=function(){this.updateRectNodes(),this.updateLabelNodes()},n.prototype.updateYScaleDomain=function(){var e=this,o=e.yScale,c=e.valueAxisDomain,m=Mp(e.yData,Nn),y=0,w=1;void 0!==m&&(y=this.min=m[0],w=this.max=m[1]),y=y<0?y:0,w=w<0?0:w,c&&(c[1]<w&&(c[1]=w),c[0]>y&&(c[0]=y)),o.domain=c||[y,w]},n.prototype.updateRectSelection=function(e){var o=this.rectSelection.setData(e),u=o.enter.append(Xi);o.exit.remove(),this.rectSelection=o.merge(u)},n.prototype.updateRectNodes=function(){var e=this,o=this,u=o.highlightedDatum,c=o.formatter,m=o.fill,y=o.stroke,w=o.strokeWidth,D=this.highlightStyle,x=D.fill,P=D.stroke,R=D.strokeWidth;this.rectSelection.each(function(I,N,V){var ie,z=N===u,Y=z&&void 0!==x?x:m,X=z&&void 0!==P?P:y,q=z&&void 0!==R?R:w,ce=N.x,se=N.y,ue=N.width,fe=N.height,ye=N.seriesDatum;c&&(ie=c({datum:N,xValue:ye.x,yValue:ye.y,width:ue,height:fe,min:ye.y===e.min,max:ye.y===e.max,first:0===V,last:V===e.nodeSelectionData.length-1,fill:Y,stroke:X,strokeWidth:q,highlighted:z})),I.fill=ie&&ie.fill||Y,I.stroke=ie&&ie.stroke||X,I.strokeWidth=ie&&ie.strokeWidth||q,I.x=I.y=0,I.width=ue,I.height=fe,I.visible=I.height>0,I.translationX=ce,I.translationY=se})},n.prototype.updateLabelSelection=function(e){var o=this.labelSelection.setData(e),u=o.enter.append(PC).each(function(c){c.tag=Qc.Label,c.pointerEvents=mo.None});o.exit.remove(),this.labelSelection=o.merge(u)},n.prototype.updateLabelNodes=function(){var e=this.label,o=e.enabled,u=e.fontStyle,c=e.fontWeight,m=e.fontSize,y=e.fontFamily,w=e.color;this.labelSelection.each(function(D,x){var P=x.label;P&&o?(D.fontStyle=u,D.fontWeight=c,D.fontSize=m,D.fontFamily=y,D.textAlign=P.textAlign,D.textBaseline=P.textBaseline,D.text=P.text,D.x=P.x,D.y=P.y,D.fill=w,D.visible=!0):D.visible=!1})},n.prototype.getTooltipHtml=function(e){var o=this.dataType,u=e.seriesDatum,c=u.y,m=u.x,D={content:this.formatNumericDatum(c),title:"array"===o||"object"===o?this.formatDatum(m):void 0};return this.tooltip.renderer?Yc(this.tooltip.renderer({context:this.context,datum:u,yValue:c,xValue:m}),D):Yc(D)},n.prototype.formatLabelValue=function(e){return e.toFixed(e%1!=0?1:0)},n}(Pf),ES=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Nf=function(h){function n(){return null!==h&&h.apply(this,arguments)||this}return ES(n,h),n.prototype.updateYScaleRange=function(){this.yScale.range=[0,this.seriesRect.width]},n.prototype.updateXScaleRange=function(){var e=this,o=e.xScale,u=e.seriesRect,c=e.paddingOuter,m=e.paddingInner,y=e.xData;o instanceof Oi?(o.range=[0,u.height],o.paddingInner=m,o.paddingOuter=c):o.range=[0,u.height-u.height/y.length]},n.prototype.updateAxisLine=function(){var e=this,o=e.yScale,u=e.axis,c=e.axisLine,m=e.seriesRect,y=u.strokeWidth;c.x1=0,c.x2=0,c.y1=0,c.y2=m.height,c.stroke=u.stroke,c.strokeWidth=y+(y%2==1?1:0);var w=o.convert(0);c.translationX=w},n.prototype.generateNodeData=function(){var e=this,o=e.data,u=e.yData,c=e.xData,m=e.xScale,y=e.yScale,w=e.fill,D=e.stroke,x=e.strokeWidth,P=e.label;if(o){for(var R=P.fontStyle,I=P.fontWeight,N=P.fontSize,V=P.fontFamily,z=P.color,Y=P.formatter,X=P.placement,q=[],ie=y.convert(0),ce=0,se=u.length;ce<se;ce++){var ue=u[ce],fe=c[ce],ye=void 0===ue;ye&&(ue=0);var Oe,Se=m.convert(fe),ke=Math.min(y.convert(ue),ie),Ne=Math.max(y.convert(ue),ie),Pe=m instanceof Oi?m.bandwidth:Math.abs(y.range[1]-y.range[0])/o.length,Ie=Ne-ke,xe={x:ie,y:Se};Oe=Y?Y({value:ue}):void 0!==ue&&Nn(ue)?this.formatLabelValue(ue):"";var et=Se+Pe/2,Qe=void 0,qe=void 0,xt=void 0!==ue&&ue>=0;if(X===as.Center)Qe=ke+Ie/2,qe="center";else if(X===as.OutsideEnd)Qe=ke+(xt?Ie+4:-4),qe=xt?"start":"end";else if(X===as.InsideEnd){Qe=ke+(xt?Ie-4:4),qe=xt?"end":"start";var Dt=rs.getTextSize(Oe,V).width||20;(xt&&Qe<ie+Dt||!xt&&Qe>ie-Dt)&&(Qe=ie+4*(xt?1:-1),qe=xt?"start":"end")}else Qe=ie+4*(xt?1:-1),qe=xt?"start":"end";q.push({x:ke,y:Se,width:Ie,height:Pe,fill:w,stroke:D,strokeWidth:x,seriesDatum:{x:fe,y:ye?void 0:ue},point:xe,label:{x:Qe,y:et,text:Oe,fontStyle:R,fontWeight:I,fontSize:N,fontFamily:V,textAlign:qe,textBaseline:"middle",fill:z}})}return q}},n.prototype.getDistance=function(e,o){return Math.abs(e.y-o.y)},n.className="BarSparkline",n}(MC),FC=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),DS=function(h){function n(){return null!==h&&h.apply(this,arguments)||this}return FC(n,h),n.prototype.updateYScaleRange=function(){this.yScale.range=[this.seriesRect.height,0]},n.prototype.updateXScaleRange=function(){var e=this,o=e.xScale,u=e.seriesRect,c=e.paddingOuter,m=e.paddingInner,y=e.xData;o instanceof Oi?(o.range=[0,u.width],o.paddingInner=m,o.paddingOuter=c):o.range=[0,u.width-u.width/y.length]},n.prototype.updateAxisLine=function(){var e=this,o=e.yScale,u=e.axis,c=e.axisLine,m=e.seriesRect,y=u.strokeWidth;c.x1=0,c.x2=m.width,c.y1=0,c.y2=0,c.stroke=u.stroke,c.strokeWidth=y+(y%2==1?1:0);var w=o.convert(0);c.translationY=w},n.prototype.generateNodeData=function(){var e=this,o=e.data,u=e.yData,c=e.xData,m=e.xScale,y=e.yScale,w=e.fill,D=e.stroke,x=e.strokeWidth,P=e.label;if(o){for(var R=P.fontStyle,I=P.fontWeight,N=P.fontSize,V=P.fontFamily,z=P.color,Y=P.formatter,X=P.placement,q=[],ie=y.convert(0),ce=0,se=u.length;ce<se;ce++){var ue=u[ce],fe=c[ce],ye=void 0===ue;ye&&(ue=0);var Oe,Se=Math.min(y.convert(ue),ie),ke=m.convert(fe),Ne=Math.max(y.convert(ue),ie),Pe=m instanceof Oi?m.bandwidth:Math.abs(y.range[1]-y.range[0])/o.length,Ie=Ne-Se,xe={x:ke+Pe/2,y:ie};Oe=Y?Y({value:ue}):void 0!==ue&&Nn(ue)?this.formatLabelValue(ue):"";var et=ke+Pe/2,Qe=void 0,qe=void 0,xt=void 0!==ue&&ue>=0;if(X===as.Center)Qe=Se+Ie/2,qe="middle";else if(X===as.OutsideEnd)Qe=Se+(xt?-2:Ie+2),qe=xt?"bottom":"top";else if(X===as.InsideEnd){Qe=Se+(xt?2:Ie-2),qe=xt?"top":"bottom";var Dt=rs.getTextSize(Oe,V).height||10;(xt&&Qe>ie-Dt||!xt&&Qe<ie+Dt)&&(Qe=ie+2*(xt?-1:1),qe=xt?"bottom":"top")}else Qe=ie+2*(xt?-1:1),qe=xt?"bottom":"top";q.push({x:ke,y:Se,width:Pe,height:Ie,fill:w,stroke:D,strokeWidth:x,seriesDatum:{x:fe,y:ye?void 0:ue},point:xe,label:{x:et,y:Qe,text:Oe,fontStyle:R,fontWeight:I,fontSize:N,fontFamily:V,textAlign:"center",textBaseline:qe,fill:z}})}return q}},n.className="ColumnSparkline",n}(MC),IC=function(){function h(){}return h.create=function(n,e){var o=function(h){switch(void 0===h&&(h="line"),h){case"column":return new DS;case"bar":return new Nf;case"area":return new xC;default:return new Cv}}((n=Object.create(n)).type);return e&&(o.tooltip=e),function(h,n){St(h,"context",n.context,n),St(h,"width",n.width,n),St(h,"height",n.height,n),St(h,"container",n.container,n),St(h,"xKey",n.xKey,n),St(h,"yKey",n.yKey,n),n.padding&&function(h,n){St(h,"top",n.top,n),St(h,"right",n.right,n),St(h,"bottom",n.bottom,n),St(h,"left",n.left,n)}(h.padding,n.padding),n.axis&&function(h,n){St(h,"type",n.type,n),St(h,"stroke",n.stroke,n),St(h,"strokeWidth",n.strokeWidth,n)}(h.axis,n.axis),n.highlightStyle&&function(h,n){St(h,"fill",n.fill,n),St(h,"size",n.size,n),St(h,"stroke",n.stroke,n),St(h,"strokeWidth",n.strokeWidth,n)}(h.highlightStyle,n.highlightStyle),n.tooltip&&h.tooltip&&function(h,n){St(h,"enabled",n.enabled,n),St(h,"container",n.container,n),St(h,"xOffset",n.xOffset,n),St(h,"yOffset",n.yOffset,n),St(h,"renderer",n.renderer,n)}(h.tooltip,n.tooltip)}(o,n),function(h,n){switch(n.type){case"bar":case"column":!function(h,n){St(h,"valueAxisDomain",n.valueAxisDomain,n),St(h,"fill",n.fill,n),St(h,"stroke",n.stroke,n),St(h,"strokeWidth",n.strokeWidth,n),St(h,"paddingInner",n.paddingInner,n),St(h,"paddingOuter",n.paddingOuter,n),St(h,"formatter",n.formatter,n),n.label&&function(h,n){St(h,"enabled",n.enabled,n),St(h,"fontStyle",n.fontStyle,n),St(h,"fontWeight",n.fontWeight,n),St(h,"fontSize",n.fontSize,n),St(h,"fontFamily",n.fontFamily,n),St(h,"textAlign",n.textAlign,n),St(h,"textBaseline",n.textBaseline,n),St(h,"color",n.color,n),St(h,"formatter",n.formatter,n),St(h,"placement",n.placement,n)}(h.label,n.label)}(h,n);break;case"area":!function(h,n){St(h,"fill",n.fill,n),n.marker&&Lf(h.marker,n.marker),n.line&&Zc(h.line,n.line),n.crosshairs&&Ri(h.crosshairs,n.crosshairs)}(h,n);break;default:!function(h,n){n.marker&&Lf(h.marker,n.marker),n.line&&Zc(h.line,n.line),n.crosshairs&&Ri(h.crosshairs,n.crosshairs)}(h,n)}}(o,n),n.data&&(o.data=n.data),o},h}();function Lf(h,n){St(h,"enabled",n.enabled,n),St(h,"size",n.size,n),St(h,"shape",n.shape,n),St(h,"fill",n.fill,n),St(h,"stroke",n.stroke,n),St(h,"strokeWidth",n.strokeWidth,n),St(h,"formatter",n.formatter,n)}function Zc(h,n){St(h,"stroke",n.stroke,n),St(h,"strokeWidth",n.strokeWidth,n)}function Ri(h,n){h.xLine&&n.xLine&&LC(h.xLine,n.xLine),h.yLine&&n.yLine&&LC(h.yLine,n.yLine)}function LC(h,n){St(h,"enabled",n.enabled,n),St(h,"stroke",n.stroke,n),St(h,"strokeWidth",n.strokeWidth,n),St(h,"lineDash",n.lineDash,n),St(h,"lineCap",n.lineCap,n)}var ss={},Zi=function(h,n,e){if(Nn(n))return!0;var o="AG Charts: "+h+" must be a number, the value you provided is not a valid number. Using the default of "+e+"px.";return function(h,n){ss[n]||(console.warn(o),ss[n]=!0)}(0,h+" not a number"),!1},AS={xOffset:Zi,yOffset:Zi};function St(h,n,e,o){if(n in o)if(n in h){var u=AS[n];(!u||u(n,e,h[n]))&&h[n]!==e&&(h[n]=e)}else console.warn("Property "+n+" does not exist on the target object.")}var kC=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Dv=function(){return Dv=Object.assign||function(h){for(var n,e=1,o=arguments.length;e<o;e++)for(var u in n=arguments[e])Object.prototype.hasOwnProperty.call(n,u)&&(h[u]=n[u]);return h},Dv.apply(this,arguments)},Ov=function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);return u>3&&c&&Object.defineProperty(n,e,c),c},Np=function(h){function n(){return h.call(this,n.TEMPLATE)||this}return kC(n,h),n.prototype.init=function(e){var o=this,u=!0,m=this.resizeObserverService.observeResize(this.getGui(),function(){var y=o.getGui(),w=y.clientWidth,D=y.clientHeight;if(0!==w&&0!==D)if(u){var x=Dv({data:e.value,width:w,height:D,context:{data:e.data}},e.sparklineOptions);o.sparkline=IC.create(x,o.sparklineTooltipSingleton.getSparklineTooltip()),o.eSparkline.appendChild(o.sparkline.canvasElement),u=!1}else o.sparkline.width=w,o.sparkline.height=D});this.addDestroyFunc(function(){return m()})},n.prototype.refresh=function(e){return!!this.sparkline&&(this.sparkline.data=e.value,!0)},n.prototype.destroy=function(){this.sparkline&&this.sparkline.destroy(),h.prototype.destroy.call(this)},n.TEMPLATE='<div class="ag-sparkline-wrapper">\n            <span ref="eSparkline"></span>\n        </div>',Ov([E.RefSelector("eSparkline")],n.prototype,"eSparkline",void 0),Ov([E.Autowired("resizeObserverService")],n.prototype,"resizeObserverService",void 0),Ov([E.Autowired("sparklineTooltipSingleton")],n.prototype,"sparklineTooltipSingleton",void 0),n}(E.Component),TS=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Lp=function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);return u>3&&c&&Object.defineProperty(n,e,c),c},MD=function(h){function n(){return null!==h&&h.apply(this,arguments)||this}return TS(n,h),n.prototype.postConstruct=function(){this.tooltip=new Iu},n.prototype.getSparklineTooltip=function(){return this.tooltip},n.prototype.destroyTooltip=function(){this.tooltip&&this.tooltip.destroy()},Lp([E.PostConstruct],n.prototype,"postConstruct",null),Lp([E.PreDestroy],n.prototype,"destroyTooltip",null),Lp([E.Bean("sparklineTooltipSingleton")],n)}(E.BeanStub),xv={moduleName:E.ModuleNames.SparklinesModule,beans:[MD],userComponents:[{componentName:"agSparklineCellRenderer",componentClass:Np}],dependantModules:[ii]},Av=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Jc=function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);return u>3&&c&&Object.defineProperty(n,e,c),c},zs=function(h){function n(){return null!==h&&h.apply(this,arguments)||this}return Av(n,h),n.prototype.getData=function(e){if(e.crossFiltering){if(e.grouping)return console.warn("AG Grid: crossing filtering with row grouping is not supported."),{chartData:[],columnNames:{}};if(!this.gridOptionsWrapper.isRowModelDefault())return console.warn("AG Grid: crossing filtering is only supported in the client side row model."),{chartData:[],columnNames:{}}}this.gridOptionsWrapper.isRowModelServerSide()&&e.pivoting&&this.updatePivotKeysForSSRM();var u=this.extractRowsFromGridRowModel(e);return u.chartData=this.aggregateRowsByDimension(e,u.chartData),u},n.prototype.extractRowsFromGridRowModel=function(e){var x,o=this,u=[],c={},m={},y={},w={},D=[];if(e.crossFiltering)w=this.getFilteredRowNodes(),x=(D=this.getAllRowNodes()).length;else{var P=this.gridRowModel.getRowCount()-1;x=(e.endRow>=0?Math.min(e.endRow,P):P)-e.startRow+1}for(var I=function(X){var q={},ie=e.crossFiltering?D[X]:N.gridRowModel.getRow(X+e.startRow);e.dimensionCols.forEach(function(ce){var se=ce.colId,ue=o.columnModel.getGridColumn(se);if(ue){var fe=o.valueService.getValue(ue,ie);if(e.grouping){var ye=fe&&fe.toString?String(fe.toString()):"",Se=n.getGroupLabels(ie,ye);q[se]={labels:Se,toString:function(){return this.labels.filter(function(Ne){return!!Ne}).reverse().join(" - ")}},ie.group&&(m[Se.toString()]=X);var ke=Se.slice(1,Se.length).toString();ke&&(y[ke]=m[ke])}else q[se]=fe}else q[ed.DEFAULT_CATEGORY]=X+1}),e.valueCols.forEach(function(ce){var se=[],ue=ce.getColDef().pivotKeys;ue&&(se=ue.slice());var fe=ce.getColDef().headerName;fe&&se.push(fe),se.length>0&&(c[ce.getId()]=se);var ye=ce.getColId();if(e.crossFiltering){var Se=ye+"-filtered-out",Ne=null!=(ke=o.valueService.getValue(ce,ie))&&"function"==typeof ke.toNumber?ke.toNumber():ke;w[ie.id]?(q[ye]=Ne,q[Se]=e.aggFunc||e.isScatter?void 0:0):(q[ye]=e.aggFunc||e.isScatter?void 0:0,q[Se]=Ne)}else{var ke=o.valueService.getValue(ce,ie);q[ye]=null!=ke&&"function"==typeof ke.toNumber?ke.toNumber():ke}}),ie.footer&&(q.footer=!0),u.push(q)},N=this,V=0;V<x;V++)I(V);if(e.grouping){var z=E._.values(y);u=u.filter(function(X,q){return!X.footer&&!E._.includes(z,q)})}return{chartData:u,columnNames:c}},n.prototype.aggregateRowsByDimension=function(e,o){var u=this,c=e.dimensionCols;if(!e.aggFunc||0===c.length)return o;var m=E._.last(c),y=m&&m.colId,w={},D=[];return o.forEach(function(x){var P=w;c.forEach(function(R){var I=R.colId,N=x[I];if(I===y){var V=P[N];V||(V={__children:[]},c.forEach(function(z){var Y=z.colId;V[Y]=x[Y]}),P[N]=V,D.push(V)),V.__children.push(x)}else P[N]||(P[N]={}),P=P[N]})}),E.ModuleRegistry.assertRegistered(E.ModuleNames.RowGroupingModule,"Charting Aggregation")&&D.forEach(function(x){return e.valueCols.forEach(function(P){if(e.crossFiltering)e.valueCols.forEach(function(N){var V=x.__children.filter(function(ie){return void 0!==ie[N.getColId()]}).map(function(ie){return ie[N.getColId()]}),z=u.aggregationStage.aggregateValues(V,e.aggFunc);x[N.getId()]=z&&void 0!==z.value?z.value:z;var Y=N.getId()+"-filtered-out",X=x.__children.filter(function(ie){return void 0!==ie[Y]}).map(function(ie){return ie[Y]}),q=u.aggregationStage.aggregateValues(X,e.aggFunc);x[Y]=q&&void 0!==q.value?q.value:q});else{var R=x.__children.map(function(N){return N[P.getId()]}),I=0;E.ModuleRegistry.assertRegistered(E.ModuleNames.RowGroupingModule,"Charting Aggregation")&&(I=u.aggregationStage.aggregateValues(R,e.aggFunc)),x[P.getId()]=I&&void 0!==I.value?I.value:I}})}),D},n.prototype.updatePivotKeysForSSRM=function(){var e=this.columnModel.getSecondaryColumns();if(e){var o=this.extractPivotKeySeparator(e);e.forEach(function(u){var c=u.getColId().split(o);u.getColDef().pivotKeys=c.slice(0,c.length-1)})}},n.prototype.extractPivotKeySeparator=function(e){if(0===e.length)return"";var o=function(c,m){var y=c.getGroupId();return c.getParent()?o(c.getParent(),y):m.split(y)[1][0]},u=e[0];return o(u.getParent(),u.getColId())},n.getGroupLabels=function(e,o){for(var u=[o];e&&0!==e.level;)(e=e.parent)&&u.push(e.key);return u},n.prototype.getFilteredRowNodes=function(){var e={};return this.gridRowModel.forEachNodeAfterFilterAndSort(function(o){e[o.id]=o}),e},n.prototype.getAllRowNodes=function(){var e=[];return this.gridRowModel.forEachNode(function(o){e.push(o)}),this.sortRowNodes(e)},n.prototype.sortRowNodes=function(e){var o=this.sortController.getSortOptions();return o&&0!=o.length?this.rowNodeSorter.doFullSort(e,o):e},Jc([E.Autowired("rowModel")],n.prototype,"gridRowModel",void 0),Jc([E.Autowired("valueService")],n.prototype,"valueService",void 0),Jc([E.Autowired("columnModel")],n.prototype,"columnModel",void 0),Jc([E.Autowired("rowNodeSorter")],n.prototype,"rowNodeSorter",void 0),Jc([E.Autowired("sortController")],n.prototype,"sortController",void 0),Jc([E.Optional("aggregationStage")],n.prototype,"aggregationStage",void 0),n}(E.BeanStub),kf=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Gu=function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);return u>3&&c&&Object.defineProperty(n,e,c),c},RS=function(h,n){var e="function"==typeof Symbol&&h[Symbol.iterator];if(!e)return h;var u,m,o=e.call(h),c=[];try{for(;(void 0===n||n-- >0)&&!(u=o.next()).done;)c.push(u.value)}catch(y){m={error:y}}finally{try{u&&!u.done&&(e=o.return)&&e.call(o)}finally{if(m)throw m.error}}return c},kp=function(){for(var h=[],n=0;n<arguments.length;n++)h=h.concat(RS(arguments[n]));return h},ed=function(h){function n(e){var o=h.call(this)||this;return o.unlinked=!1,o.chartData=[],o.valueColState=[],o.dimensionColState=[],o.columnNames={},o.grouping=!1,o.crossFiltering=!1,o.chartId=e.chartId,o.chartType=e.chartType,o.pivotChart=e.pivotChart,o.chartThemeName=e.chartThemeName,o.aggFunc=e.aggFunc,o.referenceCellRange=e.cellRange,o.suppliedCellRange=e.cellRange,o.suppressChartRanges=e.suppressChartRanges,o.unlinked=!!e.unlinkChart,o.crossFiltering=!!e.crossFiltering,o}return kf(n,h),n.prototype.init=function(){this.datasource=this.createManagedBean(new zs),this.updateCellRanges()},n.prototype.updateCellRanges=function(e){this.valueCellRange&&(this.referenceCellRange=this.valueCellRange);var o=this.getAllChartColumns(),u=o.dimensionCols,c=o.valueCols,m=this.getAllColumnsFromRanges();e&&this.updateColumnState(e),this.setDimensionCellRange(u,m,e),this.setValueCellRange(c,m,e),e||(this.resetColumnState(),this.syncDimensionCellRange()),this.updateData()},n.prototype.updateData=function(){var e=this.getRowIndexes(),o=e.startRow,u=e.endRow;this.pivotChart&&this.resetColumnState(),this.grouping=this.isGrouping();var c={aggFunc:this.aggFunc,dimensionCols:[this.getSelectedDimension()],grouping:this.grouping,pivoting:this.isPivotActive(),crossFiltering:this.crossFiltering,valueCols:this.getSelectedValueCols(),startRow:o,endRow:u,isScatter:E._.includes(["scatter","bubble"],this.chartType)},m=this.datasource.getData(c),w=m.columnNames;this.chartData=m.chartData,this.columnNames=w},n.prototype.isGrouping=function(){var e=this.gridOptionsWrapper.isTreeData(),o=e?null:this.columnModel.getRowGroupColumns(),u=e||o&&o.length>0,c=this.getSelectedDimension().colId,y=this.columnModel.getGroupDisplayColumns().map(function(w){return w.getColId()}).some(function(w){return w===c});return!!u&&y},n.prototype.getSelectedValueCols=function(){return this.valueColState.filter(function(e){return e.selected}).map(function(e){return e.column})},n.prototype.getSelectedDimension=function(){return this.dimensionColState.filter(function(e){return e.selected})[0]},n.prototype.getColDisplayName=function(e){return this.columnModel.getDisplayNameForColumn(e,"chart")},n.prototype.isPivotMode=function(){return this.columnModel.isPivotMode()},n.prototype.isPivotActive=function(){return this.columnModel.isPivotActive()},n.prototype.createCellRange=function(e){for(var o=[],u=1;u<arguments.length;u++)o[u-1]=arguments[u];return{id:this.chartId,startRow:this.referenceCellRange.startRow,endRow:this.referenceCellRange.endRow,columns:o,startColumn:e===E.CellRangeType.DIMENSION?o[0]:this.referenceCellRange.startColumn,type:e}},n.prototype.getAllColumnsFromRanges=function(){if(this.pivotChart)return E._.convertToSet(this.columnModel.getAllDisplayedColumns());var e=this.dimensionCellRange||this.valueCellRange?[]:this.referenceCellRange.columns;return this.dimensionCellRange&&e.push.apply(e,kp(this.dimensionCellRange.columns)),this.valueCellRange&&e.push.apply(e,kp(this.valueCellRange.columns)),E._.convertToSet(e)},n.prototype.getRowIndexes=function(){var e=0,o=0,u=this.rangeService,c=this.valueCellRange;if(u&&c){e=u.getRangeStartRow(c).rowIndex;var m=u.getRangeEndRow(c);o=m.rowPinned===E.Constants.PINNED_BOTTOM?-1:m.rowIndex}return{startRow:e,endRow:o}},n.prototype.getAllChartColumns=function(){var e=this,o=this.columnModel.getAllDisplayedColumns(),u=new Set,c=new Set;return o.forEach(function(m){var y=m.getColDef(),w=y.chartDataType;if(w)switch(w){case"category":case"time":return void u.add(m);case"series":return void c.add(m);case"excluded":return;default:console.warn("AG Grid: unexpected chartDataType value '"+w+"' supplied, instead use 'category', 'series' or 'excluded'")}"ag-Grid-AutoColumn"!==y.colId?m.isPrimary()?(e.isNumberCol(m)?c:u).add(m):c.add(m):u.add(m)}),{dimensionCols:u,valueCols:c}},n.prototype.isNumberCol=function(e){if("ag-Grid-AutoColumn"===e.getColId())return!1;var o=this.rowRenderer.getRowNode({rowIndex:0,rowPinned:null});if(!o)return!1;var u=this.valueService.getValue(e,o);return null==u&&(u=this.extractLeafData(o,e)),null!=u&&"function"==typeof u.toNumber&&(u=u.toNumber()),"number"==typeof u},n.prototype.extractLeafData=function(e,o){if(!e.allLeafChildren)return null;for(var u=0;u<e.allLeafChildren.length;u++){var m=this.valueService.getValue(o,e.allLeafChildren[u]);if(null!=m)return m}return null},n.prototype.resetColumnState=function(){var e=this,o=this.getAllChartColumns(),u=o.dimensionCols,c=o.valueCols,m=this.getAllColumnsFromRanges(),y=this.valueColState.length<1;this.dimensionColState=[],this.valueColState=[];var w=!1,D=1,x=this.suppliedCellRange.columns[0];u.forEach(function(I){var N="ag-Grid-AutoColumn"===I.getColId(),V=!1;e.crossFiltering&&e.aggFunc?x.getColId()===I.getColId()&&(V=!0):V=!!N||!w&&m.has(I),e.dimensionColState.push({column:I,colId:I.getColId(),displayName:e.getColDisplayName(I),selected:V,order:D++}),V&&(w=!0)});var P={colId:n.DEFAULT_CATEGORY,displayName:this.chartTranslationService.translate("defaultCategory"),selected:!w,order:0};this.dimensionColState.unshift(P);var R=this.referenceCellRange.columns.filter(function(I){return c.has(I)});c.forEach(function(I){y&&E._.includes(e.referenceCellRange.columns,I)&&(I=R.shift()),e.valueColState.push({column:I,colId:I.getColId(),displayName:e.getColDisplayName(I),selected:m.has(I),order:D++})})},n.prototype.updateColumnState=function(e){var o=function(D){return D.colId===e.colId},c=this.dimensionColState,m=this.valueColState;c.filter(o).length>0?c.forEach(function(D){return D.selected=o(D)}):m.filter(o).forEach(function(D){return D.selected=e.selected});var y=kp(c,m),w=[];y.forEach(function(D,x){x===e.order&&w.push(e.colId),D.colId!==e.colId&&w.push(D.colId)}),y.forEach(function(D){var x=w.indexOf(D.colId);D.order=x>=0?w.indexOf(D.colId):y.length-1}),this.reorderColState()},n.prototype.reorderColState=function(){var e=function(o,u){return o.order-u.order};this.dimensionColState.sort(e),this.valueColState.sort(e)},n.prototype.setDimensionCellRange=function(e,o,u){var c=this;if(this.dimensionCellRange=void 0,u||this.dimensionColState.length){var m=u;if(this.crossFiltering&&this.aggFunc){var y=this.suppliedCellRange.columns[0];m=this.dimensionColState.filter(function(w){return w.colId===y.getColId()})[0]}else(!m||!e.has(m.column))&&(m=this.dimensionColState.filter(function(w){return w.selected})[0]);m&&m.colId!==n.DEFAULT_CATEGORY&&(this.dimensionCellRange=this.createCellRange(E.CellRangeType.DIMENSION,m.column))}else e.forEach(function(w){c.dimensionCellRange||!o.has(w)||(c.dimensionCellRange=c.createCellRange(E.CellRangeType.DIMENSION,w))})},n.prototype.setValueCellRange=function(e,o,u){this.valueCellRange=void 0;var c=[];if(e.forEach(function(y){u&&u.colId===y.getColId()?u.selected&&c.push(u.column):o.has(y)&&c.push(y)}),c.length>0){var m=[];this.valueColState.length>0?m=this.valueColState.map(function(y){return y.colId}):o.forEach(function(y){return m.push(y.getColId())}),c.sort(function(y,w){return m.indexOf(y.getColId())-m.indexOf(w.getColId())}),this.valueCellRange=this.createCellRange.apply(this,kp([E.CellRangeType.VALUE],c))}},n.prototype.syncDimensionCellRange=function(){var e=this.getSelectedDimension();e&&e.column&&(this.dimensionCellRange=this.createCellRange(E.CellRangeType.DIMENSION,e.column))},n.DEFAULT_CATEGORY="AG-GRID-DEFAULT-CATEGORY",Gu([E.Autowired("columnModel")],n.prototype,"columnModel",void 0),Gu([E.Autowired("valueService")],n.prototype,"valueService",void 0),Gu([E.Autowired("rangeService")],n.prototype,"rangeService",void 0),Gu([E.Autowired("rowRenderer")],n.prototype,"rowRenderer",void 0),Gu([E.Autowired("chartTranslationService")],n.prototype,"chartTranslationService",void 0),Gu([E.PostConstruct],n.prototype,"init",null),n}(E.BeanStub),Gp=function(){return Gp=Object.assign||function(h){for(var n,e=1,o=arguments.length;e<o;e++)for(var u in n=arguments[e])Object.prototype.hasOwnProperty.call(n,u)&&(h[u]=n[u]);return h},Gp.apply(this,arguments)},Fr=function(){function h(){this.allPropertyListeners=new Map,this.allEventListeners=new Map}return h.prototype.addPropertyListener=function(n,e,o){void 0===o&&(o=this);var u=this.allPropertyListeners,c=u.get(n);if(c||(c=new Map,u.set(n,c)),!c.has(e)){var m=new Set;c.set(e,m)}var y=c.get(e);y&&y.add(o)},h.prototype.removePropertyListener=function(n,e,o){void 0===o&&(o=this);var c=this.allPropertyListeners.get(n);if(c)if(e){var m=c.get(e);m&&(m.delete(o),m.size||c.delete(e))}else c.clear()},h.prototype.notifyPropertyListeners=function(n,e,o){var u=this,m=this.allPropertyListeners.get(n);m&&m.forEach(function(y,w){y.forEach(function(D){return w.call(D,{type:n,source:u,value:o,oldValue:e})})})},h.prototype.addEventListener=function(n,e,o){void 0===o&&(o=this);var u=this.allEventListeners,c=u.get(n);if(c||(c=new Map,u.set(n,c)),!c.has(e)){var m=new Set;c.set(e,m)}var y=c.get(e);y&&y.add(o)},h.prototype.removeEventListener=function(n,e,o){void 0===o&&(o=this);var c=this.allEventListeners.get(n);if(c)if(e){var m=c.get(e);m&&(m.delete(o),m.size||c.delete(e))}else c.clear()},h.prototype.notifyEventListeners=function(n){var e=this,o=this.allEventListeners;n.forEach(function(u){var c=o.get(u);c&&c.forEach(function(m,y){m.forEach(function(w){return y.call(w,{type:u,source:e})})})})},h.prototype.fireEvent=function(n){var e=this,o=this.allEventListeners.get(n.type);o&&o.forEach(function(u,c){u.forEach(function(m){return c.call(m,Gp(Gp({},n),{source:e}))})})},h.privateKeyPrefix="_",h}();function De(){for(var h=[],n=0;n<arguments.length;n++)h[n]=arguments[n];return h.indexOf("debugger"),function(o,u){var c=Fr.privateKeyPrefix+u,m=c+"Events";o[u]||(h&&(o[m]=h),Object.defineProperty(o,u,{set:function(y){var w=this[c];if(y!==w||"object"==typeof y&&null!==y){this[c]=y,this.notifyPropertyListeners(u,w,y);var D=this[m];D&&this.notifyEventListeners(D)}},get:function(){return this[c]},enumerable:!0,configurable:!0}))}}var PS=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Vu=function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);return u>3&&c&&Object.defineProperty(n,e,c),c},Po=function(h){function n(e,o,u,c){void 0===e&&(e=0),void 0===o&&(o=e),void 0===u&&(u=e),void 0===c&&(c=o);var m=h.call(this)||this;return m.top=e,m.right=o,m.bottom=u,m.left=c,m}return PS(n,h),n.prototype.clear=function(){this.top=this.right=this.bottom=this.left=0},Vu([De("layoutChange")],n.prototype,"top",void 0),Vu([De("layoutChange")],n.prototype,"right",void 0),Vu([De("layoutChange")],n.prototype,"bottom",void 0),Vu([De("layoutChange")],n.prototype,"left",void 0),n}(Fr),dr=function(){function h(n,e,o,u){this.x=n,this.y=e,this.width=o,this.height=u}return h.prototype.isValid=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},h.prototype.dilate=function(n){this.x-=n,this.y-=n,this.width+=2*n,this.height+=2*n},h.prototype.containsPoint=function(n,e){return n>=this.x&&n<=this.x+this.width&&e>=this.y&&e<=this.y+this.height},h.prototype.render=function(n,e){void 0===e&&(e=h.noParams),n.save(),e.resetTransform&&n.setTransform(1,0,0,1,0,0),n.strokeStyle=e.strokeStyle||"cyan",n.lineWidth=e.lineWidth||1,n.strokeRect(this.x,this.y,this.width,this.height),e.label&&(n.fillStyle=e.fillStyle||"black",n.textBaseline="bottom",n.fillText(e.label,this.x,this.y)),n.restore()},h.noParams={},h}(),td=function(h,n){var e="function"==typeof Symbol&&h[Symbol.iterator];if(!e)return h;var u,m,o=e.call(h),c=[];try{for(;(void 0===n||n-- >0)&&!(u=o.next()).done;)c.push(u.value)}catch(y){m={error:y}}finally{try{u&&!u.done&&(e=o.return)&&e.call(o)}finally{if(m)throw m.error}}return c},$s=function(){function h(n){void 0===n&&(n=[1,0,0,1,0,0]),this.elements=n}return h.prototype.setElements=function(n){var e=this.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],this},h.prototype.setIdentityElements=function(){var n=this.elements;return n[0]=1,n[1]=0,n[2]=0,n[3]=1,n[4]=0,n[5]=0,this},Object.defineProperty(h.prototype,"identity",{get:function(){var n=this.elements;return 1===n[0]&&0===n[1]&&0===n[2]&&1===n[3]&&0===n[4]&&0===n[5]},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"a",{get:function(){return this.elements[0]},set:function(n){this.elements[0]=n},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"b",{get:function(){return this.elements[1]},set:function(n){this.elements[1]=n},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"c",{get:function(){return this.elements[2]},set:function(n){this.elements[2]=n},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"d",{get:function(){return this.elements[3]},set:function(n){this.elements[3]=n},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"e",{get:function(){return this.elements[4]},set:function(n){this.elements[4]=n},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"f",{get:function(){return this.elements[5]},set:function(n){this.elements[5]=n},enumerable:!0,configurable:!0}),h.prototype.AxB=function(n,e,o){var u=td(n,6),c=u[0],m=u[1],y=u[2],w=u[3],D=u[4],x=u[5],P=td(e,6),R=P[0],I=P[1],N=P[2],V=P[3],z=P[4],Y=P[5];(o=o||n)[0]=c*R+y*I,o[1]=m*R+w*I,o[2]=c*N+y*V,o[3]=m*N+w*V,o[4]=c*z+y*Y+D,o[5]=m*z+w*Y+x},h.prototype.multiplySelf=function(n){return this.AxB(this.elements,n.elements),this},h.prototype.multiply=function(n){var e=new Array(6);return this.AxB(this.elements,n.elements,e),new h(e)},h.prototype.preMultiplySelf=function(n){return this.AxB(n.elements,this.elements,this.elements),this},h.prototype.inverse=function(){var n=td(this.elements,6),e=n[0],o=n[1],u=n[2],c=n[3],m=n[4],y=n[5],w=1/(e*c-o*u);return new h([c*=w,-(o*=w),-(u*=w),e*=w,u*y-c*m,o*m-e*y])},h.prototype.inverseTo=function(n){var e=td(this.elements,6),o=e[0],u=e[1],c=e[2],m=e[3],y=e[4],w=e[5],D=1/(o*m-u*c);return n.setElements([m*=D,-(u*=D),-(c*=D),o*=D,c*w-m*y,u*y-o*w]),this},h.prototype.invertSelf=function(){var n=this.elements,e=td(n,6),o=e[0],u=e[1],c=e[2],m=e[3],y=e[4],w=e[5],D=1/(o*m-u*c);return o*=D,u*=D,c*=D,n[0]=m*=D,n[1]=-u,n[2]=-c,n[3]=o,n[4]=c*w-m*y,n[5]=u*y-o*w,this},h.prototype.clone=function(){return new h(this.elements.slice())},h.prototype.transformPoint=function(n,e){var o=this.elements;return{x:n*o[0]+e*o[2]+o[4],y:n*o[1]+e*o[3]+o[5]}},h.prototype.transformBBox=function(n,e,o){void 0===e&&(e=0);var I,N,u=this.elements,c=u[0],m=u[1],y=u[2],w=u[3],D=.5*n.width,x=.5*n.height,P=n.x+D,R=n.y+x;if(e){D-=e,x-=e;var V=Math.sqrt(c*c+y*y),z=Math.sqrt(m*m+w*w);I=Math.abs(D*c)+Math.abs(x*y)+Math.abs(V*e),N=Math.abs(D*m)+Math.abs(x*w)+Math.abs(z*e)}else I=Math.abs(D*c)+Math.abs(x*y),N=Math.abs(D*m)+Math.abs(x*w);return o||(o=new dr(0,0,0,0)),o.x=P*c+R*y+u[4]-I,o.y=P*m+R*w+u[5]-N,o.width=I+I,o.height=N+N,o},h.prototype.toContext=function(n){if(!this.identity){var e=this.elements;n.transform(e[0],e[1],e[2],e[3],e[4],e[5])}},h.flyweight=function(n){return n?h.matrix.setElements(n instanceof h?n.elements:n):h.matrix.setIdentityElements(),h.matrix},h.matrix=new h,h}();function Jo(h){var n=h.constructor,e=n.className;if(!e)throw new Error("The "+n+" is missing the 'className' property.");return e+"-"+(n.id=(n.id||0)+1)}var Pi=(()=>(function(h){h[h.All=0]="All",h[h.None=1]="None"}(Pi||(Pi={})),Pi))(),Ks=function(){function h(){this.id=Jo(this),this.tag=NaN,this.isContainerNode=!1,this._children=[],this.childSet={},this.matrix=new $s,this.inverseMatrix=new $s,this._dirtyTransform=!1,this._scalingX=1,this._scalingY=1,this._scalingCenterX=null,this._scalingCenterY=null,this._rotationCenterX=null,this._rotationCenterY=null,this._rotation=0,this._translationX=0,this._translationY=0,this._dirty=!0,this._visible=!0,this.dirtyZIndex=!1,this._zIndex=0,this.pointerEvents=Pi.All}return h.isNode=function(n){return!!n&&void 0!==n.matrix},h.prototype._setScene=function(n){this._scene=n;for(var e=this.children,o=e.length,u=0;u<o;u++)e[u]._setScene(n)},Object.defineProperty(h.prototype,"scene",{get:function(){return this._scene},enumerable:!0,configurable:!0}),h.prototype._setParent=function(n){this._parent=n},Object.defineProperty(h.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"children",{get:function(){return this._children},enumerable:!0,configurable:!0}),h.prototype.countChildren=function(n){if(void 0===n&&(n=h.MAX_SAFE_INTEGER),n<=0)return 0;for(var e=this.children,o=e.length,u=o,c=0;c<o;c++)u+=e[c].countChildren(n-1);return u},h.prototype.append=function(n){h.isNode(n)&&(n=[n]);for(var e=n.length,o=0;o<e;o++){var u=n[o];if(u.parent)throw new Error(u+" already belongs to another parent: "+u.parent+".");if(u.scene)throw new Error(u+" already belongs a scene: "+u.scene+".");if(this.childSet[u.id])throw new Error("Duplicate "+u.constructor.name+" node: "+u);this._children.push(u),this.childSet[u.id]=!0,u._setParent(this),u._setScene(this.scene)}this.dirty=!0},h.prototype.appendChild=function(n){if(n.parent)throw new Error(n+" already belongs to another parent: "+n.parent+".");if(n.scene)throw new Error(n+" already belongs to a scene: "+n.scene+".");if(this.childSet[n.id])throw new Error("Duplicate "+n.constructor.name+" node: "+n);return this._children.push(n),this.childSet[n.id]=!0,n._setParent(this),n._setScene(this.scene),this.dirty=!0,n},h.prototype.removeChild=function(n){if(n.parent===this){var e=this.children.indexOf(n);if(e>=0)return this._children.splice(e,1),delete this.childSet[n.id],n._setParent(),n._setScene(),this.dirty=!0,n}throw new Error("The node to be removed is not a child of this node.")},h.prototype.insertBefore=function(n,e){var o=n.parent;if(n.parent&&n.parent.removeChild(n),e&&e.parent===this){var u=this.children.indexOf(e);if(!(u>=0))throw new Error(e+" has "+o+" as the parent, but is not in its list of children.");this._children.splice(u,0,n),this.childSet[n.id]=!0,n._setParent(this),n._setScene(this.scene),this.dirty=!0}else this.append(n);return n},Object.defineProperty(h.prototype,"nextSibling",{get:function(){var n=this.parent;if(n){var e=n.children,o=e.indexOf(this);if(o>=0&&o<=e.length-1)return e[o+1]}},enumerable:!0,configurable:!0}),h.prototype.transformPoint=function(n,e){for(var o=$s.flyweight(this.matrix),u=this.parent;u;)o.preMultiplySelf(u.matrix),u=u.parent;return o.invertSelf().transformPoint(n,e)},h.prototype.inverseTransformPoint=function(n,e){for(var o=$s.flyweight(this.matrix),u=this.parent;u;)o.preMultiplySelf(u.matrix),u=u.parent;return o.transformPoint(n,e)},Object.defineProperty(h.prototype,"dirtyTransform",{get:function(){return this._dirtyTransform},set:function(n){this._dirtyTransform=n,n&&(this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"scalingX",{get:function(){return this._scalingX},set:function(n){this._scalingX!==n&&(this._scalingX=n,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"scalingY",{get:function(){return this._scalingY},set:function(n){this._scalingY!==n&&(this._scalingY=n,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"scalingCenterX",{get:function(){return this._scalingCenterX},set:function(n){this._scalingCenterX!==n&&(this._scalingCenterX=n,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"scalingCenterY",{get:function(){return this._scalingCenterY},set:function(n){this._scalingCenterY!==n&&(this._scalingCenterY=n,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"rotationCenterX",{get:function(){return this._rotationCenterX},set:function(n){this._rotationCenterX!==n&&(this._rotationCenterX=n,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"rotationCenterY",{get:function(){return this._rotationCenterY},set:function(n){this._rotationCenterY!==n&&(this._rotationCenterY=n,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"rotation",{get:function(){return this._rotation},set:function(n){this._rotation!==n&&(this._rotation=n,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"rotationDeg",{get:function(){return this.rotation/Math.PI*180},set:function(n){this.rotation=n/180*Math.PI},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"translationX",{get:function(){return this._translationX},set:function(n){this._translationX!==n&&(this._translationX=n,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"translationY",{get:function(){return this._translationY},set:function(n){this._translationY!==n&&(this._translationY=n,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),h.prototype.containsPoint=function(n,e){return!1},h.prototype.pickNode=function(n,e){if(this.visible&&this.pointerEvents!==Pi.None&&this.containsPoint(n,e)){var o=this.children;if(o.length)for(var u=o.length-1;u>=0;u--){var c=o[u].pickNode(n,e);if(c)return c}else if(!this.isContainerNode)return this}},h.prototype.computeBBox=function(){},h.prototype.computeBBoxCenter=function(){var n=this.computeBBox&&this.computeBBox();return n?[n.x+.5*n.width,n.y+.5*n.height]:[0,0]},h.prototype.computeTransformMatrix=function(){var m,y,n=function(h,n){var e="function"==typeof Symbol&&h[Symbol.iterator];if(!e)return h;var u,m,o=e.call(h),c=[];try{for(;(void 0===n||n-- >0)&&!(u=o.next()).done;)c.push(u.value)}catch(y){m={error:y}}finally{try{u&&!u.done&&(e=o.return)&&e.call(o)}finally{if(m)throw m.error}}return c}([0,0],2),e=n[0],o=n[1],u=this.scalingX,c=this.scalingY;1===u&&1===c?(m=0,y=0):(m=null===this.scalingCenterX?e:this.scalingCenterX,y=null===this.scalingCenterY?o:this.scalingCenterY);var P,R,w=this.rotation,D=Math.cos(w),x=Math.sin(w);0===w?(P=0,R=0):(P=null===this.rotationCenterX?e:this.rotationCenterX,R=null===this.rotationCenterY?o:this.rotationCenterY);var I=this.translationX,N=this.translationY,V=m*(1-u)-P,z=y*(1-c)-R;this.dirtyTransform=!1,this.matrix.setElements([D*u,x*u,-x*c,D*c,D*V-x*z+P+I,x*V+D*z+R+N]).inverseTo(this.inverseMatrix)},Object.defineProperty(h.prototype,"dirty",{get:function(){return this._dirty},set:function(n){this._dirty=n,n&&(this.parent?this.parent.dirty=!0:this.scene&&(this.scene.dirty=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"visible",{get:function(){return this._visible},set:function(n){this._visible!==n&&(this._visible=n,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"zIndex",{get:function(){return this._zIndex},set:function(n){this._zIndex!==n&&(this._zIndex=n,this.parent&&(this.parent.dirtyZIndex=!0),this.dirty=!0)},enumerable:!0,configurable:!0}),h.MAX_SAFE_INTEGER=Math.pow(2,53)-1,h}();function Vp(h,n){var e=Object.create(h);for(var o in n)n.hasOwnProperty(o)&&(e[o]=n[o]);return e}function GC(h,n,e){var o=Array.isArray(n)?n:n.split("."),u=h;try{o.forEach(function(c){u=u[c]})}catch(c){if(3!==arguments.length)throw c;u=e}return u}function Ma(h,n){return!1!==n.clone&&n.isMergeableObject(h)?lr(function(h){return Array.isArray(h)?[]:{}}(h),h,n):h}function cn(h,n,e){return h.concat(n).map(function(o){return Ma(o,e)})}function Bu(h){return Object.keys(h).concat(function(h){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(h).filter(function(n){return h.propertyIsEnumerable(n)}):[]}(h))}function Tv(h,n){try{return n in h}catch(e){return!1}}function Gf(h){return function(h){return!!h&&"object"==typeof h}(h)&&!function(h){var n=Object.prototype.toString.call(h);return"[object RegExp]"===n||"[object Date]"===n}(h)}function lr(h,n,e){(e=e||{}).arrayMerge=e.arrayMerge||cn,e.isMergeableObject=e.isMergeableObject||Gf,e.cloneUnlessOtherwiseSpecified=Ma;var o=Array.isArray(n);return o===Array.isArray(h)?o?e.arrayMerge(h,n,e):function(h,n,e){var o={};return e.isMergeableObject(h)&&Bu(h).forEach(function(u){o[u]=Ma(h[u],e)}),Bu(n).forEach(function(u){(function(h,n){return Tv(h,n)&&!(Object.hasOwnProperty.call(h,n)&&Object.propertyIsEnumerable.call(h,n))})(h,u)||(o[u]=Tv(h,u)&&e.isMergeableObject(n[u])?function(h,n){if(!n.customMerge)return lr;var e=n.customMerge(h);return"function"==typeof e?e:lr}(u,e)(h[u],n[u],e):Ma(n[u],e))}),o}(h,n,e):Ma(n,e)}function Mi(h){return"object"==typeof h&&!Array.isArray(h)}var Pv=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),us=function(h){function n(){var e=null!==h&&h.apply(this,arguments)||this;return e.lastInstanceId=0,e._fillOpacity=1,e._strokeOpacity=1,e._fill=n.defaultStyles.fill,e._stroke=n.defaultStyles.stroke,e._strokeWidth=n.defaultStyles.strokeWidth,e._lineDash=n.defaultStyles.lineDash,e._lineDashOffset=n.defaultStyles.lineDashOffset,e._lineCap=n.defaultStyles.lineCap,e._lineJoin=n.defaultStyles.lineJoin,e._opacity=n.defaultStyles.opacity,e.onShadowChange=function(){e.dirty=!0},e._fillShadow=n.defaultStyles.fillShadow,e._strokeShadow=n.defaultStyles.strokeShadow,e}return Pv(n,h),n.createInstance=function(e){var o=Object.create(e);return o._setParent(void 0),o.id=e.id+"-Instance-"+String(++e.lastInstanceId),o},n.prototype.restoreOwnStyles=function(){for(var e=this.constructor.defaultStyles,o=Object.getOwnPropertyNames(e),u=0,c=o.length;u<c;u++){var m=o[u];this[m]=e[m]}},n.prototype.restoreAllStyles=function(){var e=this.constructor.defaultStyles;for(var o in e)this[o]=e[o]},n.prototype.restoreOverriddenStyles=function(){var e=this.constructor.defaultStyles,o=Object.getPrototypeOf(e);for(var u in e)e.hasOwnProperty(u)&&o.hasOwnProperty(u)&&(this[u]=e[u])},Object.defineProperty(n.prototype,"fillOpacity",{get:function(){return this._fillOpacity},set:function(e){this._fillOpacity!==e&&(this._fillOpacity=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"strokeOpacity",{get:function(){return this._strokeOpacity},set:function(e){this._strokeOpacity!==e&&(this._strokeOpacity=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"fill",{get:function(){return this._fill},set:function(e){this._fill!==e&&(this._fill=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"stroke",{get:function(){return this._stroke},set:function(e){this._stroke!==e&&(this._stroke=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"strokeWidth",{get:function(){return this._strokeWidth},set:function(e){this._strokeWidth!==e&&(this._strokeWidth=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"alignment",{get:function(){return Math.floor(this.strokeWidth)%2/2},enumerable:!0,configurable:!0}),n.prototype.align=function(e,o,u){return null!=u?Math.floor(u)+Math.floor(o%1+u%1):Math.floor(o)+e},Object.defineProperty(n.prototype,"lineDash",{get:function(){return this._lineDash},set:function(e){var o=this._lineDash;if(o!==e){if(o&&e&&o.length===e.length){for(var u=!0,c=e.length,m=0;m<c;m++)if(o[m]!==e[m]){u=!1;break}if(u)return}this._lineDash=e,this.dirty=!0}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"lineDashOffset",{get:function(){return this._lineDashOffset},set:function(e){this._lineDashOffset!==e&&(this._lineDashOffset=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"lineCap",{get:function(){return this._lineCap},set:function(e){this._lineCap!==e&&(this._lineCap=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(e){this._lineJoin!==e&&(this._lineJoin=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"opacity",{get:function(){return this._opacity},set:function(e){e=Math.min(1,Math.max(0,e)),this._opacity!==e&&(this._opacity=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"fillShadow",{get:function(){return this._fillShadow},set:function(e){var o=this._fillShadow;o!==e&&(o&&o.removeEventListener("change",this.onShadowChange),e&&e.addEventListener("change",this.onShadowChange),this._fillShadow=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"strokeShadow",{get:function(){return this._strokeShadow},set:function(e){var o=this._strokeShadow;o!==e&&(o&&o.removeEventListener("change",this.onShadowChange),e&&e.addEventListener("change",this.onShadowChange),this._strokeShadow=e,this.dirty=!0)},enumerable:!0,configurable:!0}),n.prototype.fillStroke=function(e){if(this.scene){var o=this.scene.canvas.pixelRatio||1,u=e.globalAlpha;if(this.fill){e.fillStyle=this.fill,e.globalAlpha=u*this.opacity*this.fillOpacity;var c=this.fillShadow;c&&c.enabled&&(e.shadowColor=c.color,e.shadowOffsetX=c.xOffset*o,e.shadowOffsetY=c.yOffset*o,e.shadowBlur=c.blur*o),e.fill()}if(e.shadowColor="rgba(0, 0, 0, 0)",this.stroke&&this.strokeWidth){e.strokeStyle=this.stroke,e.globalAlpha=u*this.opacity*this.strokeOpacity,e.lineWidth=this.strokeWidth,this.lineDash&&e.setLineDash(this.lineDash),this.lineDashOffset&&(e.lineDashOffset=this.lineDashOffset),this.lineCap&&(e.lineCap=this.lineCap),this.lineJoin&&(e.lineJoin=this.lineJoin);var m=this.strokeShadow;m&&m.enabled&&(e.shadowColor=m.color,e.shadowOffsetX=m.xOffset*o,e.shadowOffsetY=m.yOffset*o,e.shadowBlur=m.blur*o),e.stroke()}}},n.prototype.containsPoint=function(e,o){return this.isPointInPath(e,o)},n.defaultStyles=Vp({},{fill:"black",stroke:void 0,strokeWidth:0,lineDash:void 0,lineDashOffset:0,lineCap:void 0,lineJoin:void 0,opacity:1,fillShadow:void 0,strokeShadow:void 0}),n}(Ks),Ys=function(){function h(n,e,o){void 0===n&&(n=window.document),void 0===e&&(e=600),void 0===o&&(o=300),this._container=void 0,this._pixelRatio=NaN,this._width=0,this._height=0,this.document=n,this.element=n.createElement("canvas"),this.context=this.element.getContext("2d"),this.element.style.userSelect="none",this.element.style.display="block",this.setPixelRatio(),this.resize(e,o)}return Object.defineProperty(h.prototype,"container",{get:function(){return this._container},set:function(n){this._container!==n&&(this.remove(),n&&n.appendChild(this.element),this._container=n)},enumerable:!0,configurable:!0}),h.prototype.remove=function(){var n=this.element.parentNode;null!=n&&n.removeChild(this.element)},h.prototype.destroy=function(){this.element.remove(),this._canvas=void 0,Object.freeze(this)},h.prototype.toImage=function(){var n=this.document.createElement("img");return n.src=this.getDataURL(),n},h.prototype.getDataURL=function(n){return this.element.toDataURL(n)},h.prototype.download=function(n){n=((n||"").trim()||"image")+".png";var o=this.getDataURL("image/png"),u=this.document,c=u.createElement("a");c.href=o,c.download=n,c.style.display="none",u.body.appendChild(c),c.click(),u.body.removeChild(c)},Object.defineProperty(h.prototype,"pixelRatio",{get:function(){return this._pixelRatio},enumerable:!0,configurable:!0}),h.prototype.setPixelRatio=function(n){var e=n||window.devicePixelRatio;e!==this.pixelRatio&&(h.overrideScale(this.context,e),this._pixelRatio=e,this.resize(this.width,this.height))},Object.defineProperty(h.prototype,"pixelated",{get:function(){return"pixelated"===this.element.style.imageRendering},set:function(n){this.element.style.imageRendering=n?"pixelated":"auto"},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),h.prototype.resize=function(n,e){if(n>0&&e>0){var o=this,u=o.element,c=o.context,m=o.pixelRatio;u.width=Math.round(n*m),u.height=Math.round(e*m),u.style.width=n+"px",u.style.height=e+"px",c.resetTransform(),this._width=n,this._height=e}},Object.defineProperty(h,"textMeasuringContext",{get:function(){if(this._textMeasuringContext)return this._textMeasuringContext;var n=document.createElement("canvas");return this._textMeasuringContext=n.getContext("2d")},enumerable:!0,configurable:!0}),Object.defineProperty(h,"svgText",{get:function(){if(this._svgText)return this._svgText;var n="http://www.w3.org/2000/svg",e=document.createElementNS(n,"svg");e.setAttribute("width","100"),e.setAttribute("height","100"),e.classList?e.classList.add("text-measuring-svg"):e.setAttribute("class","text-measuring-svg"),e.style.position="absolute",e.style.top="-1000px",e.style.visibility="hidden";var o=document.createElementNS(n,"text");return o.setAttribute("x","0"),o.setAttribute("y","30"),o.setAttribute("text","black"),e.appendChild(o),document.body.appendChild(e),this._svgText=o,o},enumerable:!0,configurable:!0}),Object.defineProperty(h,"has",{get:function(){if(this._has)return this._has;var n=navigator.userAgent.indexOf("Chrome")>-1,e=navigator.userAgent.indexOf("Firefox")>-1,o=!n&&navigator.userAgent.indexOf("Safari")>-1;return this._has=Object.freeze({textMetrics:void 0!==this.textMeasuringContext.measureText("test").actualBoundingBoxDescent&&!e&&!o,getTransform:void 0!==this.textMeasuringContext.getTransform})},enumerable:!0,configurable:!0}),h.measureText=function(n,e,o,u){var c=this.textMeasuringContext;return c.font=e,c.textBaseline=o,c.textAlign=u,c.measureText(n)},h.getTextSize=function(n,e){if(this.has.textMetrics){var o=this.textMeasuringContext;o.font=e;var u=o.measureText(n);return{width:u.width,height:u.actualBoundingBoxAscent+u.actualBoundingBoxDescent}}return this.measureSvgText(n,e)},h.measureSvgText=function(n,e){var o=this.textSizeCache,u=o[e];if(u){var c=u[n];if(c)return c}else o[e]={};var m=this.svgText;m.style.font=e,m.textContent=n;var y=m.getBBox(),w={width:y.width,height:y.height};return o[e][n]=w,w},h.overrideScale=function(n,e){var o=0,u={save:function(){this.$save(),o++},restore:function(){o>0&&(this.$restore(),o--)},setTransform:function(m,y,w,D,x,P){this.$setTransform(m*e,y*e,w*e,D*e,x*e,P*e)},resetTransform:function(){this.$setTransform(e,0,0,e,0,0),this.save(),o=0}};for(var c in u)u.hasOwnProperty(c)&&(n["$"+c]||(n["$"+c]=n[c]),n[c]=u[c])},h.textSizeCache={},h}(),Mv=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Ji=function(h){function n(){var e=null!==h&&h.apply(this,arguments)||this;return e._x=0,e._y=0,e.lineBreakRegex=/\r?\n/g,e.lines=[],e._text="",e._dirtyFont=!0,e._fontSize=10,e._fontFamily="sans-serif",e._textAlign=n.defaultStyles.textAlign,e._textBaseline=n.defaultStyles.textBaseline,e._lineHeight=14,e}return Mv(n,h),Object.defineProperty(n.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.dirty=!0)},enumerable:!0,configurable:!0}),n.prototype.splitText=function(){this.lines=this._text.split(this.lineBreakRegex)},Object.defineProperty(n.prototype,"text",{get:function(){return this._text},set:function(e){var o=String(e);this._text!==o&&(this._text=o,this.splitText(),this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"font",{get:function(){return this.dirtyFont&&(this.dirtyFont=!1,this._font=HC(this.fontSize,this.fontFamily,this.fontStyle,this.fontWeight)),this._font},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"dirtyFont",{get:function(){return this._dirtyFont},set:function(e){this._dirtyFont!==e&&(this._dirtyFont=e,e&&(this.dirty=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(e){this._fontStyle!==e&&(this._fontStyle=e,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(e){this._fontWeight!==e&&(this._fontWeight=e,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"fontSize",{get:function(){return this._fontSize},set:function(e){isFinite(e)||(e=10),this._fontSize!==e&&(this._fontSize=e,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(e){this._fontFamily!==e&&(this._fontFamily=e,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"textAlign",{get:function(){return this._textAlign},set:function(e){this._textAlign!==e&&(this._textAlign=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(e){this._textBaseline!==e&&(this._textBaseline=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(e){this._lineHeight!==e&&(this._lineHeight=e,this.dirty=!0)},enumerable:!0,configurable:!0}),n.prototype.computeBBox=function(){return Ys.has.textMetrics?this.getPreciseBBox():this.getApproximateBBox()},n.prototype.getPreciseBBox=function(){var e=Ys.measureText(this.text,this.font,this.textBaseline,this.textAlign);return new dr(this.x-e.actualBoundingBoxLeft,this.y-e.actualBoundingBoxAscent,e.width,e.actualBoundingBoxAscent+e.actualBoundingBoxDescent)},n.prototype.getApproximateBBox=function(){var e=Ys.getTextSize(this.text,this.font),u=this.x,c=this.y;switch(this.textAlign){case"end":case"right":u-=e.width;break;case"center":u-=e.width/2}switch(this.textBaseline){case"alphabetic":c-=.7*e.height;break;case"middle":c-=.45*e.height;break;case"ideographic":case"bottom":c-=e.height;break;case"hanging":c-=.2*e.height}return new dr(u,c,e.width,e.height)},n.prototype.isPointInPath=function(e,o){var u=this.transformPoint(e,o),c=this.computeBBox();return!!c&&c.containsPoint(u.x,u.y)},n.prototype.isPointInStroke=function(e,o){return!1},n.prototype.render=function(e){if(this.lines.length&&this.scene){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e);var o=this,u=o.fill,c=o.stroke,m=o.strokeWidth;e.font=this.font,e.textAlign=this.textAlign,e.textBaseline=this.textBaseline;var y=this.scene.canvas.pixelRatio||1,w=e.globalAlpha;if(u){e.fillStyle=u,e.globalAlpha=w*this.opacity*this.fillOpacity;var D=this,x=D.fillShadow,P=D.text,R=D.x,I=D.y;x&&x.enabled&&(e.shadowColor=x.color,e.shadowOffsetX=x.xOffset*y,e.shadowOffsetY=x.yOffset*y,e.shadowBlur=x.blur*y),e.fillText(P,R,I)}if(c&&m){e.strokeStyle=c,e.lineWidth=m,e.globalAlpha=w*this.opacity*this.strokeOpacity;var N=this,V=N.lineDash,z=N.lineDashOffset,Y=N.lineCap,X=N.lineJoin,q=N.strokeShadow;P=N.text,R=N.x,I=N.y,V&&e.setLineDash(V),z&&(e.lineDashOffset=z),Y&&(e.lineCap=Y),X&&(e.lineJoin=X),q&&q.enabled&&(e.shadowColor=q.color,e.shadowOffsetX=q.xOffset*y,e.shadowOffsetY=q.yOffset*y,e.shadowBlur=q.blur*y),e.strokeText(P,R,I)}this.dirty=!1}},n.className="Text",n.defaultStyles=Vp(us.defaultStyles,{textAlign:"start",fontStyle:void 0,fontWeight:void 0,fontSize:10,fontFamily:"sans-serif",textBaseline:"alphabetic"}),n}(us);function HC(h,n,e,o){return[e||"",o||"",h+"px",n].join(" ").trim()}var rd=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),WC=function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);return u>3&&c&&Object.defineProperty(n,e,c),c},Hu=function(h){function n(){var e=h.call(this)||this;e.node=new Ji,e.enabled=!1,e.padding=new Po(10);var o=e.node;return o.textAlign="center",o.textBaseline="top",o.pointerEvents=Pi.None,e}return rd(n,h),Object.defineProperty(n.prototype,"text",{get:function(){return this.node.text},set:function(e){this.node.text!==e&&(this.node.text=e,this.fireEvent({type:"change"}))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"fontStyle",{get:function(){return this.node.fontStyle},set:function(e){this.node.fontStyle!==e&&(this.node.fontStyle=e,this.fireEvent({type:"change"}))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"fontWeight",{get:function(){return this.node.fontWeight},set:function(e){this.node.fontWeight!==e&&(this.node.fontWeight=e,this.fireEvent({type:"change"}))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"fontSize",{get:function(){return this.node.fontSize},set:function(e){this.node.fontSize!==e&&(this.node.fontSize=e,this.fireEvent({type:"change"}))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"fontFamily",{get:function(){return this.node.fontFamily},set:function(e){this.node.fontFamily!==e&&(this.node.fontFamily=e,this.fireEvent({type:"change"}))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"color",{get:function(){return this.node.fill},set:function(e){this.node.fill!==e&&(this.node.fill=e,this.fireEvent({type:"change"}))},enumerable:!0,configurable:!0}),WC([De("change")],n.prototype,"enabled",void 0),WC([De("change")],n.prototype,"padding",void 0),n}(Fr),jC=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}();function id(h,n,e){var o=Ll(h,n,e);return function(h,n,e){void 0===e&&(e=1);for(var o=Math.abs(e),u=o>0&&o<1?Math.abs(Math.floor(Math.log(o)/Math.LN10)):0,c=Math.pow(10,u),m=Math.max(0,Math.ceil((n-h)/e))||0,y=new Iv(u),w=0;w<m;w++)y[w]=Math.round((h+e*w)*c)/c;return y}(h=Math.ceil(h/o)*o,n=Math.floor(n/o)*o+o/2,o)}var Fo=Math.sqrt(50),od=Math.sqrt(10),Fv=Math.sqrt(2);function Ll(h,n,e){var o=Math.abs(n-h)/Math.max(0,e),u=Math.pow(10,Math.floor(Math.log(o)/Math.LN10)),c=o/u;return c>=Fo?u*=10:c>=od?u*=5:c>=Fv&&(u*=2),n<h?-u:u}function Vf(h,n,e){var o=(n-h)/Math.max(0,e),u=Math.floor(Math.log(o)/Math.LN10),c=o/Math.pow(10,u);return u>=0?(c>=Fo?10:c>=od?5:c>=Fv?2:1)*Math.pow(10,u):-Math.pow(10,-u)/(c>=Fo?10:c>=od?5:c>=Fv?2:1)}var Iv=function(h){function n(e,o){var u=h.call(this)||this;if(o)for(var c=0,m=o.length;c<m;c++)u[c]=o[c];return u.fractionDigits=e,u}return jC(n,h),n}(Array);function kl(h,n){return h=+h,n=+n,function(e){return h*(1-e)+n*e}}var Wp=function(h,n){var e="function"==typeof Symbol&&h[Symbol.iterator];if(!e)return h;var u,m,o=e.call(h),c=[];try{for(;(void 0===n||n-- >0)&&!(u=o.next()).done;)c.push(u.value)}catch(y){m={error:y}}finally{try{u&&!u.done&&(e=o.return)&&e.call(o)}finally{if(m)throw m.error}}return c},ea=function(){function h(n,e,o,u){void 0===u&&(u=1),this.r=Math.min(1,Math.max(0,n||0)),this.g=Math.min(1,Math.max(0,e||0)),this.b=Math.min(1,Math.max(0,o||0)),this.a=Math.min(1,Math.max(0,u||0))}return h.fromString=function(n){if(n.indexOf("#")>=0)return h.fromHexString(n);var e=h.nameToHex[n];if(e)return h.fromHexString(e);if(n.indexOf("rgb")>=0)return h.fromRgbaString(n);throw new Error("Invalid color string: '"+n+"'")},h.parseHex=function(n){var e;switch((n=n.replace(/ /g,"").slice(1)).length){case 6:case 8:e=[];for(var o=0;o<n.length;o+=2)e.push(parseInt(""+n[o]+n[o+1],16));break;case 3:case 4:e=n.split("").map(function(u){return parseInt(u,16)}).map(function(u){return u+16*u})}if(e.length>=3&&e.every(function(u){return u>=0}))return 3===e.length&&e.push(255),e},h.fromHexString=function(n){var e=h.parseHex(n);if(e){var o=Wp(e,4);return new h(o[0]/255,o[1]/255,o[2]/255,o[3]/255)}throw new Error("Malformed hexadecimal color string: '"+n+"'")},h.stringToRgba=function(n){for(var e=Wp([NaN,NaN],2),o=e[0],u=e[1],c=0;c<n.length;c++){var m=n[c];if(o||"("!==m){if(")"===m){u=c;break}}else o=c}var y=o&&u&&n.substring(o+1,u);if(y){var w=y.split(","),D=[];for(c=0;c<w.length;c++){var x=w[c],P=parseFloat(x);if(isNaN(P))return;x.indexOf("%")>=0?(P=Math.max(0,Math.min(100,P)),P/=100):3===c?P=Math.max(0,Math.min(1,P)):(P=Math.max(0,Math.min(255,P)),P/=255),D.push(P)}return D}},h.fromRgbaString=function(n){var e=h.stringToRgba(n);if(e){if(3===e.length)return new h(e[0],e[1],e[2]);if(4===e.length)return new h(e[0],e[1],e[2],e[3])}throw new Error("Malformed rgb/rgba color string: '"+n+"'")},h.fromArray=function(n){if(4===n.length)return new h(n[0],n[1],n[2],n[3]);if(3===n.length)return new h(n[0],n[1],n[2]);throw new Error("The given array should contain 3 or 4 color components (numbers).")},h.fromHSB=function(n,e,o,u){void 0===u&&(u=1);var c=h.HSBtoRGB(n,e,o);return new h(c[0],c[1],c[2],u)},h.padHex=function(n){return 1===n.length?"0"+n:n},h.prototype.toHexString=function(){var n="#"+h.padHex(Math.round(255*this.r).toString(16))+h.padHex(Math.round(255*this.g).toString(16))+h.padHex(Math.round(255*this.b).toString(16));return this.a<1&&(n+=h.padHex(Math.round(255*this.a).toString(16))),n},h.prototype.toRgbaString=function(n){void 0===n&&(n=3);var e=[Math.round(255*this.r),Math.round(255*this.g),Math.round(255*this.b)],o=Math.pow(10,n);return 1!==this.a?(e.push(Math.round(this.a*o)/o),"rgba("+e.join(", ")+")"):"rgb("+e.join(", ")+")"},h.prototype.toString=function(){return 1===this.a?this.toHexString():this.toRgbaString()},h.prototype.toHSB=function(){return h.RGBtoHSB(this.r,this.g,this.b)},h.RGBtoHSB=function(n,e,o){var u=Math.min(n,e,o),c=Math.max(n,e,o),y=NaN;if(u!==c){var w=c-u,D=(c-n)/w,x=(c-e)/w,P=(c-o)/w;y=n===c?P-x:e===c?2+D-P:4+x-D,(y/=6)<0&&(y+=1)}return[360*y,0!==c?(c-u)/c:0,c]},h.HSBtoRGB=function(n,e,o){isNaN(n)&&(n=0),n=(n%360+360)%360/360;var u=0,c=0,m=0;if(0===e)u=c=m=o;else{var y=6*(n-Math.floor(n)),w=y-Math.floor(y),D=o*(1-e),x=o*(1-e*w),P=o*(1-e*(1-w));switch(y>>0){case 0:u=o,c=P,m=D;break;case 1:u=x,c=o,m=D;break;case 2:u=D,c=o,m=P;break;case 3:u=D,c=x,m=o;break;case 4:u=P,c=D,m=o;break;case 5:u=o,c=D,m=x}}return[u,c,m]},h.prototype.derive=function(n,e,o,u){var c=h.RGBtoHSB(this.r,this.g,this.b),m=c[2];0==m&&o>1&&(m=.05);var y=((c[0]+n)%360+360)%360,w=Math.max(Math.min(c[1]*e,1),0);m=Math.max(Math.min(m*o,1),0);var D=Math.max(Math.min(this.a*u,1),0),x=h.HSBtoRGB(y,w,m);return x.push(D),h.fromArray(x)},h.prototype.brighter=function(){return this.derive(0,1,1/.7,1)},h.prototype.darker=function(){return this.derive(0,1,.7,1)},h.nameToHex=Object.freeze({aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",grey:"#808080",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"}),h}();function Hf(h,n){if("string"==typeof h)try{h=ea.fromString(h)}catch(m){h=ea.fromArray([0,0,0])}if("string"==typeof n)try{n=ea.fromString(n)}catch(m){n=ea.fromArray([0,0,0])}var e=kl(h.r,n.r),o=kl(h.g,n.g),u=kl(h.b,n.b),c=kl(h.a,n.a);return function(m){return ea.fromArray([e(m),o(m),u(m),c(m)]).toRgbaString()}}function jp(h,n){var e=typeof n;if(null==n||"boolean"===e)return function(h){return function(){return h}}(n);if("number"===e)return kl(h,n);if("string"===e)try{return Hf(h,n=ea.fromString(n))}catch(u){}return n instanceof ea?Hf(h,n):n instanceof Date?function(h,n){var e=new Date,o=+h,u=+n;return function(c){return e.setTime(o*(1-c)+u*c),e}}(h,n):Array.isArray(n)?function(h,n){var m,e=n?n.length:0,o=h?Math.min(e,h.length):0,u=new Array(o),c=new Array(e);for(m=0;m<o;++m)u[m]=jp(h[m],n[m]);for(;m<e;++m)c[m]=n[m];return function(y){for(m=0;m<o;++m)c[m]=u[m](y);return c}}(h,n):"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?function(h,n){var u,e={},o={};for(u in(null===h||"object"!=typeof h)&&(h={}),(null===n||"object"!=typeof n)&&(n={}),n)u in h?e[u]=jp(h[u],n[u]):o[u]=n[u];return function(c){for(u in e)o[u]=e[u](c);return o}}(h,n):kl(h,n)}function Up(h,n){return h<n?-1:h>n?1:h>=n?0:NaN}var qs=function(h){return h};function eo(h){var n,e=h[0],o=h[h.length-1];return e>o&&(n=function(h,n){var e="function"==typeof Symbol&&h[Symbol.iterator];if(!e)return h;var u,m,o=e.call(h),c=[];try{for(;(void 0===n||n-- >0)&&!(u=o.next()).done;)c.push(u.value)}catch(y){m={error:y}}finally{try{u&&!u.done&&(e=o.return)&&e.call(o)}finally{if(m)throw m.error}}return c}([o,e],2),e=n[0],o=n[1]),function(u){return Math.max(e,Math.min(o,u))}}var Bv,to,Ht,Be,Fi=function(){function h(){this.unknown=void 0,this.clamper=eo,this._clamp=qs,this._domain=[0,1],this._range=[0,1],this.transform=qs,this.untransform=qs,this._interpolate=jp,this.rescale()}return Object.defineProperty(h.prototype,"clamp",{get:function(){return this._clamp!==qs},set:function(n){this._clamp=n?this.clamper(this.domain):qs},enumerable:!0,configurable:!0}),h.prototype.setDomain=function(n){this._domain=Array.prototype.map.call(n,function(e){return+e}),this._clamp!==qs&&(this._clamp=this.clamper(this.domain)),this.rescale()},h.prototype.getDomain=function(){return this._domain.slice()},Object.defineProperty(h.prototype,"domain",{get:function(){return this.getDomain()},set:function(n){this.setDomain(n)},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"range",{get:function(){return this._range.slice()},set:function(n){this._range=Array.prototype.slice.call(n),this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"interpolate",{get:function(){return this._interpolate},set:function(n){this._interpolate=n,this.rescale()},enumerable:!0,configurable:!0}),h.prototype.rescale=function(){this.piecewise=Math.min(this.domain.length,this.range.length)>2?this.polymap:this.bimap,this.output=void 0,this.input=void 0},h.prototype.normalize=function(n,e){return(e-=n=+n)?function(o){return(o-n)/e}:function(h){return function(){return h}}(isNaN(e)?NaN:.5)},h.prototype.bimap=function(n,e,o){var w,D,u=n[0],c=n[1],m=e[0],y=e[1];return c<u?(w=this.normalize(c,u),D=o(y,m)):(w=this.normalize(u,c),D=o(m,y)),function(x){return D(w(x))}},h.prototype.polymap=function(n,e,o){var u=this,c=Math.min(n.length,e.length)-1;n[c]<n[0]&&(n=n.slice().reverse(),e=e.slice().reverse());var m=Array.from({length:c},function(w,D){return u.normalize(n[D],n[D+1])}),y=Array.from({length:c},function(w,D){return o(e[D],e[D+1])});return function(w){var D=function(h,n,e,o,u){for(void 0===o&&(o=0),void 0===u&&(u=h.length);o<u;){var c=o+u>>>1;e(h[c],n)>0?u=c:o=c+1}return o}(n,w,Up,1,c)-1;return y[D](m[D](w))}},h.prototype.convert=function(n,e){if(n=+n,isNaN(n))return this.unknown;this.output||(this.output=this.piecewise(this.domain.map(this.transform),this.range,this.interpolate));var o=e?e(this.domain):this._clamp;return this.output(this.transform(o(n)))},h.prototype.invert=function(n){return this.input||(this.input=this.piecewise(this.range,this.domain.map(this.transform),kl)),this._clamp(this.untransform(this.input(n)))},h}(),$p={"":function(h,n){var e=h.toPrecision(n);e:for(var o=e.length,u=1,c=-1,m=0;u<o;++u)switch(e[u]){case".":c=m=u;break;case"0":0===c&&(c=u),m=u;break;case"e":break e;default:c>0&&(c=0)}return c>0?e.slice(0,c)+e.slice(m+1):e},"%":function(h,n){return(100*h).toFixed(n)},b:function(h){return Math.round(h).toString(2)},c:function(h){return String(h)},d:function(h){return Math.abs(h=Math.round(h))>=1e21?h.toLocaleString("en").replace(/,/g,""):h.toString(10)},e:function(h,n){return h.toExponential(n)},f:function(h,n){return h.toFixed(n)},g:function(h,n){return h.toPrecision(n)},o:function(h){return Math.round(h).toString(8)},p:function(h,n){return Uf(100*h,n)},r:Uf,s:function(h,n){void 0===n&&(n=0);var e=zf(h,n);if(!e)return String(h);var o=e[0],u=e[1],c=u-(Bv=3*Math.max(-8,Math.min(8,Math.floor(u/3))))+1,m=o.length;if(c===m)return o;if(c>m)return o+new Array(c-m+1).join("0");if(c>0)return o.slice(0,c)+"."+o.slice(c);var y=zf(h,Math.max(0,n+c-1));return"0."+new Array(1-c).join("0")+y[0]},X:function(h){return Math.round(h).toString(16).toUpperCase()},x:function(h){return Math.round(h).toString(16)}},Wf=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"],kv=function h(n){n instanceof h?(this.fill=n.fill,this.align=n.align,this.sign=n.sign,this.symbol=n.symbol,this.zero=n.zero,this.width=n.width,this.comma=n.comma,this.precision=n.precision,this.trim=n.trim,this.type=n.type,this.string=n.string):(this.fill=void 0===n.fill?" ":String(n.fill),this.align=void 0===n.align?">":String(n.align),this.sign=void 0===n.sign?"-":String(n.sign),this.symbol=void 0===n.symbol?"":String(n.symbol),this.zero=!!n.zero,this.width=void 0===n.width?void 0:+n.width,this.comma=!!n.comma,this.precision=void 0===n.precision?void 0:+n.precision,this.trim=!!n.trim,this.type=void 0===n.type?"":String(n.type),this.string=n.string)},Gv=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i,jf=/(#\{(.*?)\})/g;function Vv(h){if(h instanceof kv)return new kv(h);var n=!1,e=h.replace(jf,function(){return n||(h=arguments[2],n=!0),"#{}"}),o=Gv.exec(h);if(!o)throw new Error("Invalid format: "+h);return new kv({fill:o[1],align:o[2],sign:o[3],symbol:o[4],zero:o[5],width:o[6],comma:o[7],precision:o[8]&&o[8].slice(1),trim:o[9],type:o[10],string:n?e:void 0})}function Uf(h,n){var e=zf(h,n);if(!e)return String(h);var o=e[0],u=e[1];return u<0?"0."+new Array(-u).join("0")+o:o.length>u+1?o.slice(0,u+1)+"."+o.slice(u+1):o+new Array(u-o.length+2).join("0")}function zf(h,n){var e=n?h.toExponential(n-1):h.toExponential(),o=e.indexOf("e");if(!(o<0)){var u=e.slice(0,o);return[u.length>1?u[0]+u.slice(2):u,+e.slice(o+1)]}}function KC(h){return h}function Gl(h){var n=zf(Math.abs(h));return n?n[1]:NaN}to=function(h){var n=void 0===h.grouping||void 0===h.thousands?KC:function(h,n){return function(e,o){for(var u=[],c=e.length,m=0,y=h[0],w=0;c>0&&y>0&&(w+y+1>o&&(y=Math.max(1,o-w)),u.push(e.substring(c-=y,c+y)),!((w+=y+1)>o));)y=h[m=(m+1)%h.length];return u.reverse().join(n)}}(Array.prototype.map.call(h.grouping,Number),String(h.thousands)),e=void 0===h.currency?"":String(h.currency[0]),o=void 0===h.currency?"":String(h.currency[1]),u=void 0===h.decimal?".":String(h.decimal),c=void 0===h.numerals?KC:function(h){return function(n){return n.replace(/[0-9]/g,function(e){return h[+e]})}}(Array.prototype.map.call(h.numerals,String)),m=void 0===h.percent?"%":String(h.percent),y=void 0===h.minus?"\u2212":String(h.minus),w=void 0===h.nan?"NaN":String(h.nan);function D(P){var R=Vv(P),I=R.fill,N=R.align,V=R.sign,z=R.symbol,Y=R.zero,X=R.width,q=R.comma,ie=R.precision,ce=R.trim,se=R.type;"n"===se?(q=!0,se="g"):$p[se]||(void 0===ie&&(ie=12),ce=!0,se="g"),(Y||"0"===I&&"="===N)&&(Y=!0,I="0",N="=");var ue="$"===z?e:"#"===z&&/[boxX]/.test(se)?"0"+se.toLowerCase():"",fe="$"===z?o:/[%p]/.test(se)?m:"",ye=$p[se],Se=/[defgprs%]/.test(se);return ie=void 0===ie?6:/[gprs]/.test(se)?Math.max(1,Math.min(21,ie)):Math.max(0,Math.min(20,ie)),function(Ne){var xe,Pe=ue,Ie=fe;if("c"===se)Ie=ye(+Ne)+Ie,xe="";else{var Oe=+Ne,et=Ne<0||1/Oe<0;if(xe=isNaN(Oe)?w:ye(Math.abs(Oe),ie),ce&&(xe=function(h){e:for(var n=h.length,e=1,o=-1,u=0;e<n;++e)switch(h[e]){case".":o=u=e;break;case"0":0===o&&(o=e),u=e;break;default:if(!+h[e])break e;o>0&&(o=0)}return o>0?h.slice(0,o)+h.slice(u+1):h}(xe)),et&&0==+xe&&"+"!==V&&(et=!1),Pe=(et?"("===V?V:y:"-"===V||"("===V?"":V)+Pe,Ie=("s"===se?Wf[8+Bv/3]:"")+Ie+(et&&"("===V?")":""),Se)for(var qe=0,xt=xe.length;qe<xt;qe++){var Ze=xe.charCodeAt(qe);if(48>Ze||Ze>57){Ie=(46===Ze?u+xe.slice(qe+1):xe.slice(qe))+Ie,xe=xe.slice(0,qe);break}}}q&&!Y&&(xe=n(xe,1/0));var At=Pe.length+xe.length+Ie.length,Dt=At<X?new Array(X-At+1).join(I):"";switch(q&&Y&&(xe=n(Dt+xe,Dt.length?X-Ie.length:1/0),Dt=""),N){case"<":xe=Pe+xe+Ie+Dt;break;case"=":xe=Pe+Dt+xe+Ie;break;case"^":xe=Dt.slice(0,At=Dt.length>>1)+Pe+xe+Ie+Dt.slice(At);break;default:xe=Dt+Pe+xe+Ie}var Qt=R.string;return Qt?Qt.replace(jf,function(){return c(xe)}):c(xe)}}return{format:D,formatPrefix:function(P,R){var I=Vv(P);I.type="f";var N=D(I),V=3*Math.max(-8,Math.min(8,Math.floor(Gl(R)/3))),z=Math.pow(10,-V),Y=Wf[8+V/3];return function(X){return N(z*+X)+Y}}}}({thousands:",",grouping:[3],currency:["$",""]}),Ht=to.format,Be=to.formatPrefix;var Uv=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Jn=function(h){function n(){var e=null!==h&&h.apply(this,arguments)||this;return e.type="linear",e}return Uv(n,h),n.prototype.ticks=function(e){void 0===e&&(e=10);var o=this._domain;return id(o[0],o[o.length-1],e)},n.prototype.nice=function(e){void 0===e&&(e=10);var w,o=this.domain,u=0,c=o.length-1,m=o[u],y=o[c];y<m&&(w=m,m=y,y=w,w=u,u=c,c=w),(w=Vf(m,y,e))>0?w=Vf(m=Math.floor(m/w)*w,y=Math.ceil(y/w)*w,e):w<0&&(w=Vf(m=Math.ceil(m*w)/w,y=Math.floor(y*w)/w,e)),w>0?(o[u]=Math.floor(m/w)*w,o[c]=Math.ceil(y/w)*w,this.domain=o):w<0&&(o[u]=Math.ceil(m*w)/w,o[c]=Math.floor(y*w)/w,this.domain=o)},n.prototype.tickFormat=function(e,o){var u=this.domain;return function(h,n,e,o){var m,u=Ll(h,n,e),c=Vv(null==o?",f":o);switch(c.type){case"s":var y=Math.max(Math.abs(h),Math.abs(n));return null==c.precision&&!isNaN(m=function(h,n){var e=Math.floor(Gl(n)/3);return e=Math.min(8,e),e=Math.max(-8,e),Math.max(0,3*e-Gl(Math.abs(h)))}(u,y))&&(c.precision=m),Be(c,y);case"":case"e":case"g":case"p":case"r":null==c.precision&&!isNaN(m=function(h,n){return h=Math.abs(h),n=Math.abs(n)-h,Math.max(0,Gl(n)-Gl(h))+1}(u,Math.max(Math.abs(h),Math.abs(n))))&&(c.precision=m-+("e"===c.type));break;case"f":case"%":null==c.precision&&!isNaN(m=function(h){return Math.max(0,-Gl(Math.abs(h)))}(u))&&(c.precision=m-2*+("%"===c.type))}return Ht(c)}(u[0],u[u.length-1],null==e?10:e,o)},n}(Fi);function ud(h,n){for(var e=0;e<h.length;e++){var o=h[e];if(n(o,e,h))return o}}function $v(h){return h}function cs(h,n,e){for(var m,y,w,o=e||$v,u=h.length,c=-1;++c<u;)if(n(m=h[c]))for(y=w=m;++c<u;)n(m=h[c])&&(y>m&&(y=m),w<m&&(w=m));return void 0===y||void 0===w?void 0:[o(y),o(w)]}function Kf(h){var n,e,o=0,u=0;try{for(var c=function(h){var n="function"==typeof Symbol&&Symbol.iterator,e=n&&h[n],o=0;if(e)return e.call(h);if(h&&"number"==typeof h.length)return{next:function(){return h&&o>=h.length&&(h=void 0),{value:h&&h[o++],done:!h}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(h),m=c.next();!m.done;m=c.next()){var y=m.value;y<0?o+=y:u+=y}}catch(w){n={error:w}}finally{try{m&&!m.done&&(e=c.return)&&e.call(c)}finally{if(n)throw n.error}}return{min:o,max:u}}function GS(h,n,e){void 0===n&&(n=0),void 0===e&&(e=h.length);var o=[],u=h.length;if(u)for(var c=0;c<e;c++)o.push(h[(n+c)%u]);return o}function br(h){var n=typeof h;return"string"!==n&&"number"===n&&h-h<1}function qf(h){return"string"==typeof h}function Io(h){return qf(h)||function(h){return!!h&&h.hasOwnProperty("toString")&&qf(h.toString())}(h)}function na(h){return function(h){return br(h)||function(h){return!!h&&h.hasOwnProperty("valueOf")&&br(h.valueOf())}(h)}(h)||function(h){return h instanceof Date&&!isNaN(+h)}(h)}var XC=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Nr=function(h){function n(){var e=null!==h&&h.apply(this,arguments)||this;return e.isContainerNode=!0,e._opacity=1,e}return XC(n,h),Object.defineProperty(n.prototype,"opacity",{get:function(){return this._opacity},set:function(e){e=Math.min(1,Math.max(0,e)),this._opacity!==e&&(this._opacity=e,this.dirty=!0)},enumerable:!0,configurable:!0}),n.prototype.containsPoint=function(e,o){return!0},n.prototype.computeBBox=function(){var e=1/0,o=-1/0,u=1/0,c=-1/0;return this.dirtyTransform&&this.computeTransformMatrix(),this.children.forEach(function(m){if(m.visible){var y=m.computeBBox();if(y){if(!(m instanceof n)){m.dirtyTransform&&m.computeTransformMatrix();for(var w=$s.flyweight(m.matrix),D=m.parent;D;)w.preMultiplySelf(D.matrix),D=D.parent;w.transformBBox(y,0,y)}var x=y.x,P=y.y;x<e&&(e=x),P<u&&(u=P),x+y.width>o&&(o=x+y.width),P+y.height>c&&(c=P+y.height)}}}),new dr(e,u,o-e,c-u)},n.prototype.render=function(e){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e);var o=this.children,u=o.length;e.globalAlpha*=this.opacity,this.dirtyZIndex&&(this.dirtyZIndex=!1,o.sort(function(y,w){return y.zIndex-w.zIndex}));for(var c=0;c<u;c++){var m=o[c];m.visible&&(e.save(),m.render(e),e.restore())}},n.className="Group",n}(Ks),Qf=function(){function h(n,e){this.next=null,this.scene=n.scene,this.parent=n,this.datum=e}return h.prototype.appendChild=function(n){if(null===this.next)return this.parent.insertBefore(n,null);if(!Ks.isNode(this.next))throw new Error(this.next+" is not a Node.");return this.parent.insertBefore(n,this.next)},h.prototype.insertBefore=function(n,e){return this.parent.insertBefore(n,e)},h}(),si=function(){function h(n,e){this.groups=n,this.parents=e}return h.select=function(n){return new h([["function"==typeof n?n():n]],[void 0])},h.selectAll=function(n){return new h([null==n?[]:n],[void 0])},h.prototype.append=function(n){return this.select(function(e){return e.appendChild(new n)})},h.prototype.appendFn=function(n){return this.select(function(e,o,u,c){return e.appendChild(n(e,o,u,c))})},h.prototype.select=function(n){for(var e=this.groups,o=e.length,u=[],c=0;c<o;c++)for(var m=e[c],y=m.length,w=u[c]=new Array(y),D=0;D<y;D++){var x=m[D];if(x){var P=n(x,x.datum,D,m);P&&(P.datum=x.datum),w[D]=P}}return new h(u,this.parents)},h.prototype.selectByClass=function(n){return this.select(function(e){if(Ks.isNode(e))for(var o=e.children,u=o.length,c=0;c<u;c++){var m=o[c];if(m instanceof n)return m}})},h.prototype.selectByTag=function(n){return this.select(function(e){if(Ks.isNode(e))for(var o=e.children,u=o.length,c=0;c<u;c++){var m=o[c];if(m.tag===n)return m}})},h.prototype.selectAllByClass=function(n){return this.selectAll(function(e){var o=[];if(Ks.isNode(e))for(var u=e.children,c=u.length,m=0;m<c;m++){var y=u[m];y instanceof n&&o.push(y)}return o})},h.prototype.selectAllByTag=function(n){return this.selectAll(function(e){var o=[];if(Ks.isNode(e))for(var u=e.children,c=u.length,m=0;m<c;m++){var y=u[m];y.tag===n&&o.push(y)}return o})},h.prototype.selectNone=function(){return[]},h.prototype.selectAll=function(n){n||(n=this.selectNone);for(var e=[],o=[],u=this.groups,c=u.length,m=0;m<c;m++)for(var y=u[m],w=y.length,D=0;D<w;D++){var x=y[D];x&&(e.push(n(x,x.datum,D,y)),o.push(x))}return new h(e,o)},h.prototype.each=function(n){for(var e=this.groups,o=e.length,u=0;u<o;u++)for(var c=e[u],m=c.length,y=0;y<m;y++){var w=c[y];w&&n(w,w.datum,y,c)}return this},h.prototype.remove=function(){return this.each(function(n){if(Ks.isNode(n)){var e=n.parent;e&&e.removeChild(n)}})},h.prototype.merge=function(n){for(var e=this.groups,o=n.groups,u=e.length,m=Math.min(u,o.length),y=new Array(u),w=0;w<m;w++)for(var D=e[w],x=o[w],P=D.length,R=y[w]=new Array(P),I=0;I<P;I++)R[I]=D[I]||x[I]||void 0;for(;w<u;w++)y[w]=e[w];return new h(y,this.parents)},h.prototype.node=function(){for(var n=this.groups,e=n.length,o=0;o<e;o++)for(var u=n[o],c=u.length,m=0;m<c;m++){var y=u[m];if(y)return y}return null},h.prototype.attr=function(n,e){return this.each(function(o){o[n]=e}),this},h.prototype.attrFn=function(n,e){return this.each(function(o,u,c,m){o[n]=e(o,u,c,m)}),this},h.prototype.call=function(n){return n(this),this},Object.defineProperty(h.prototype,"size",{get:function(){var n=0;return this.each(function(){return n++}),n},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"data",{get:function(){var n=[];return this.each(function(e,o){return n.push(o)}),n},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"enter",{get:function(){return new h(this.enterGroups?this.enterGroups:[[]],this.parents)},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"exit",{get:function(){return new h(this.exitGroups?this.exitGroups:[[]],this.parents)},enumerable:!0,configurable:!0}),h.prototype.setDatum=function(n){return this.each(function(e){e.datum=n})},Object.defineProperty(h.prototype,"datum",{get:function(){var n=this.node();return n?n.datum:null},enumerable:!0,configurable:!0}),h.prototype.setData=function(n,e){if("function"!=typeof n){var o=n;n=function(){return o}}for(var u=this.groups,c=this.parents,m=u.length,y=new Array(m),w=new Array(m),D=new Array(m),x=0;x<m;x++){var P=u[x],R=c[x];if(!R)throw new Error("Group #"+x+" has no parent: "+P);var I=P.length,N=n(R,R.datum,x,c),V=N.length,z=w[x]=new Array(V),Y=y[x]=new Array(V),X=D[x]=new Array(I);e?this.bindKey(R,P,z,Y,X,N,e):this.bindIndex(R,P,z,Y,X,N);for(var q=0,ie=0;q<V;q++){var ce=z[q];if(ce){q>=ie&&(ie=q+1);for(var se=void 0;!(se=Y[ie])&&ie<V;)ie++;ce.next=se||null}}}var ue=new h(y,c);return ue.enterGroups=w,ue.exitGroups=D,ue},h.prototype.bindIndex=function(n,e,o,u,c,m){for(var y=e.length,w=m.length,D=0;D<w;D++)(x=e[D])?(x.datum=m[D],u[D]=x):o[D]=new Qf(n,m[D]);for(;D<y;D++){var x;(x=e[D])&&(c[D]=x)}},h.prototype.bindKey=function(n,e,o,u,c,m,y){for(var w=e.length,D=m.length,x=new Array(w),P={},R=0;R<w;R++)(I=e[R])&&((N=x[R]=h.keyPrefix+y(I,I.datum,R,e))in P?c[R]=I:P[N]=I);for(R=0;R<D;R++){var N;(I=P[N=h.keyPrefix+y(n,m[R],R,m)])?(u[R]=I,I.datum=m[R],P[N]=void 0):o[R]=new Qf(n,m[R])}for(R=0;R<w;R++){var I;(I=e[R])&&P[x[R]]===I&&(c[R]=I)}},h.keyPrefix="$",h}(),QC=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Fa=function(h){function n(){var e=h.call(this)||this;return e._x1=0,e._y1=0,e._x2=0,e._y2=0,e.restoreOwnStyles(),e}return QC(n,h),Object.defineProperty(n.prototype,"x1",{get:function(){return this._x1},set:function(e){this._x1!==e&&(this._x1=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"y1",{get:function(){return this._y1},set:function(e){this._y1!==e&&(this._y1=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"x2",{get:function(){return this._x2},set:function(e){this._x2!==e&&(this._x2=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"y2",{get:function(){return this._y2},set:function(e){this._y2!==e&&(this._y2=e,this.dirty=!0)},enumerable:!0,configurable:!0}),n.prototype.computeBBox=function(){return new dr(this.x1,this.y1,this.x2-this.x1,this.y2-this.y1)},n.prototype.isPointInPath=function(e,o){return!1},n.prototype.isPointInStroke=function(e,o){return!1},n.prototype.render=function(e){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e);var o=this.x1,u=this.y1,c=this.x2,m=this.y2;if(o===c){var y=Math.round(o)+Math.floor(this.strokeWidth)%2/2;o=y,c=y}else if(u===m){var w=Math.round(u)+Math.floor(this.strokeWidth)%2/2;u=w,m=w}e.beginPath(),e.moveTo(o,u),e.lineTo(c,m),this.fillStroke(e),this.dirty=!1},n.className="Line",n.defaultStyles=Vp(us.defaultStyles,{fill:void 0,strokeWidth:1}),n}(us),Yv=Math.sign?Math.sign:function(h){return 0==(h=+h)||isNaN(h)?h:h>0?1:-1};function Zf(h,n,e,o,u,c,m,y){var w=(e-h)*(y-c)-(o-n)*(m-u);if(0===w)return null;var D=((m-u)*(n-c)-(h-u)*(y-c))/w,x=((e-h)*(n-c)-(o-n)*(h-u))/w;return D>=0&&D<=1&&x>=0&&x<=1?{x:h+D*(e-h),y:n+D*(o-n)}:null}function VS(h,n,e,o,u,c,m,y,w,D,x,P){for(var R=[],I=D-P,N=x-w,V=w*(P-D)-D*(x-w),z=BS(h,e,u,m),Y=BS(n,o,c,y),se=function(h,n,e,o){if(0===h)return function(h,n,e){if(0===h)return function(h,n){var e=-n/h;return 0!==h&&e>=0&&e<=1?[e]:[]}(n,e);var o=n*n-4*h*e,u=[];if(0===o){var c=-n/(2*h);c>=0&&c<=1&&u.push(c)}else if(o>0){var m=Math.sqrt(o),y=(-n-m)/(2*h),w=(-n+m)/(2*h);y>=0&&y<=1&&u.push(y),w>=0&&w<=1&&u.push(w)}return u}(n,e,o);var u=n/h,c=e/h,y=(3*c-u*u)/9,w=(9*u*c-o/h*27-2*u*u*u)/54,D=y*y*y+w*w,x=1/3,P=[];if(D>=0){var R=Math.sqrt(D),I=Yv(w+R)*Math.pow(Math.abs(w+R),x),N=Yv(w-R)*Math.pow(Math.abs(w-R),x),V=Math.abs(Math.sqrt(3)*(I-N)/2),z=-x*u+(I+N);if(z>=0&&z<=1&&P.push(z),0===V){var Y=-x*u-(I+N)/2;Y>=0&&Y<=1&&P.push(Y)}}else{var X=Math.acos(w/Math.sqrt(-y*y*y)),q=x*u,ie=2*Math.sqrt(-y),ce=ie*Math.cos(x*X)-q,se=ie*Math.cos(x*(X+2*Math.PI))-q,ue=ie*Math.cos(x*(X+4*Math.PI))-q;ce>=0&&ce<=1&&P.push(ce),se>=0&&se<=1&&P.push(se),ue>=0&&ue<=1&&P.push(ue)}return P}(I*z[0]+N*Y[0],I*z[1]+N*Y[1],I*z[2]+N*Y[2],I*z[3]+N*Y[3]+V),ue=0;ue<se.length;ue++){var Pe,fe=se[ue],ye=fe*fe,Se=fe*ye,ke=z[0]*Se+z[1]*ye+z[2]*fe+z[3],Ne=Y[0]*Se+Y[1]*ye+Y[2]*fe+Y[3];(Pe=w!==x?(ke-w)/(x-w):(Ne-D)/(P-D))>=0&&Pe<=1&&R.push({x:ke,y:Ne})}return R}function BS(h,n,e,o){return[3*n-h-3*e+o,3*h-6*n+3*e,-3*h+3*n,h]}var Bl=function(){function h(){this.commands=[],this.params=[],this._closedPath=!1}return h.prototype.draw=function(n){var e=this.commands,o=this.params,u=e.length,c=0;n.beginPath();for(var m=0;m<u;m++)switch(e[m]){case"M":n.moveTo(o[c++],o[c++]);break;case"L":n.lineTo(o[c++],o[c++]);break;case"C":n.bezierCurveTo(o[c++],o[c++],o[c++],o[c++],o[c++],o[c++]);break;case"Z":n.closePath()}},h.prototype.moveTo=function(n,e){this.xy?(this.xy[0]=n,this.xy[1]=e):this.xy=[n,e],this.commands.push("M"),this.params.push(n,e)},h.prototype.lineTo=function(n,e){this.xy?(this.commands.push("L"),this.params.push(n,e),this.xy[0]=n,this.xy[1]=e):this.moveTo(n,e)},h.prototype.rect=function(n,e,o,u){this.moveTo(n,e),this.lineTo(n+o,e),this.lineTo(n+o,e+u),this.lineTo(n,e+u),this.closePath()},h.prototype.arcTo=function(n,e,o,u,c,m,y){var w=this.xy;if(w){n<0&&(n=-n),e<0&&(e=-e);var D=w[0],x=w[1],P=(D-m)/2,R=(x-y)/2,I=Math.sin(o),N=Math.cos(o),V=N*P+I*R,z=-I*P+N*R,Y=V/n,X=z/e,q=Y*Y+X*X,ie=(D+m)/2,ce=(x+y)/2,se=0,ue=0;q>=1?(n*=q=Math.sqrt(q),e*=q):(q=Math.sqrt(1/q-1),u===c&&(q=-q),ie+=N*(se=q*n*X)-I*(ue=-q*e*Y),ce+=I*se+N*ue);var fe=Math.atan2((z-ue)/e,(V-se)/n),ye=Math.atan2((-z-ue)/e,(-V-se)/n)-fe;this.cubicArc(ie,ce,n,e,o,fe,fe+ye,1-c)}},h.cubicArc=function(n,e,o,u,c,m,y,w,D,x){if(x){var P=w;w=D,D=P}var R=e.length,I=.5522847498307935,N=Math.sin(w),V=Math.cos(w),z=Math.sin(y),Y=Math.cos(y),X=Math.PI/2,q=Y*V*c-z*N*m,ie=z*V*c+Y*N*m,ce=-Y*N*c-z*V*m,se=-z*N*c+Y*V*m;for((D-=w)<0&&(D+=2*Math.PI),n.push("M"),e.push(q+o,ie+u);D>=X;){D-=X,n.push("C");var ue=ce+o;e.push(q+ce*I+o,ie+se*I+u,q*I+ce+o,ie*I+se+u,Math.abs(ue)<1e-8?0:ue,se+u),P=q,q=ce,ce=-P,P=ie,ie=se,se=-P}if(D){var fe=4/3*Math.tan(D/4),ye=Math.sin(D),Se=Math.cos(D),ke=Se+fe*ye,Ne=ye-fe*Se;n.push("C"),ue=q*Se+ce*ye+o,e.push(q+ce*fe+o,ie+se*fe+u,q*ke+ce*Ne+o,ie*ke+se*Ne+u,Math.abs(ue)<1e-8?0:ue,ie*Se+se*ye+u)}if(x)for(var Pe=R,Ie=e.length-2;Pe<Ie;Pe+=2,Ie-=2)P=e[Pe],e[Pe]=e[Ie],e[Ie]=P,P=e[Pe+1],e[Pe+1]=e[Ie+1],e[Ie+1]=P},h.prototype.cubicArc=function(n,e,o,u,c,m,y,w){var D=this.commands,x=this.params,P=D.length;h.cubicArc(D,x,n,e,o,u,c,m,y,w);var R=x[x.length-2],I=x[x.length-1];this.xy?(D[P]="L",this.xy[0]=R,this.xy[1]=I):this.xy=[R,I]},h.prototype.deCasteljau=function(n,e){var o=n.length;if(o<2||o%2==1)throw new Error("Fewer than two points or not an even count.");if(2===o||0===e)return n.slice(0,2);if(1===e)return n.slice(-2);for(var u=[],c=o-2,m=0;m<c;m+=2)u.push((1-e)*n[m]+e*n[m+2],(1-e)*n[m+1]+e*n[m+3]);return this.deCasteljau(u,e)},h.prototype.approximateCurve=function(n,e){var o=this.deCasteljau(n,0);this.moveTo(o[0],o[1]);for(var u=1/e,c=u;c<=1;c+=u){var m=this.deCasteljau(n,c);this.lineTo(m[0],m[1])}},h.prototype.quadraticCurveTo=function(n,e,o,u){this.xy||this.moveTo(n,e),this.cubicCurveTo((this.xy[0]+2*n)/3,(this.xy[1]+2*e)/3,(2*n+o)/3,(2*e+u)/3,o,u)},h.prototype.cubicCurveTo=function(n,e,o,u,c,m){this.xy||this.moveTo(n,e),this.commands.push("C"),this.params.push(n,e,o,u,c,m),this.xy[0]=c,this.xy[1]=m},Object.defineProperty(h.prototype,"closedPath",{get:function(){return this._closedPath},enumerable:!0,configurable:!0}),h.prototype.closePath=function(){this.xy&&(this.xy=void 0,this.commands.push("Z"),this._closedPath=!0)},h.prototype.clear=function(){this.commands.length=0,this.params.length=0,this.xy=void 0,this._closedPath=!1},h.prototype.isPointInPath=function(n,e){for(var o=this.commands,u=this.params,c=o.length,m=-1e4,y=-1e4,w=NaN,D=NaN,x=0,P=0,R=0,I=0,N=0;I<c;I++)switch(o[I]){case"M":isNaN(w)||Zf(w,D,x,P,m,y,n,e)&&R++,w=x=u[N++],D=P=u[N++];break;case"L":Zf(x,P,x=u[N++],P=u[N++],m,y,n,e)&&R++;break;case"C":R+=VS(x,P,u[N++],u[N++],u[N++],u[N++],x=u[N++],P=u[N++],m,y,n,e).length;break;case"Z":isNaN(w)||Zf(w,D,x,P,m,y,n,e)&&R++}return R%2==1},h.fromString=function(n){var e=new h;return e.setFromString(n),e},h.parseSvgPath=function(n){return n.trim().split(h.splitCommandsRe).map(function(e){var o=e.match(h.matchParamsRe);return{command:e.substr(0,1),params:o?o.map(parseFloat):[]}})},h.prettifySvgPath=function(n){return h.parseSvgPath(n).map(function(e){return e.command+e.params.join(",")}).join("\n")},h.prototype.setFromString=function(n){var u,c,m,y,w,e=this;function D(){w.match(h.quadraticCommandRe)||(m=u,y=c)}function x(){w.match(h.cubicCommandRe)||(m=u,y=c)}this.clear(),h.parseSvgPath(n).forEach(function(P){var R=P.params,I=R.length,N=0;switch(P.command){case"M":for(e.moveTo(u=R[N++],c=R[N++]);N<I;)e.lineTo(u=R[N++],c=R[N++]);break;case"m":for(e.moveTo(u+=R[N++],c+=R[N++]);N<I;)e.lineTo(u+=R[N++],c+=R[N++]);break;case"L":for(;N<I;)e.lineTo(u=R[N++],c=R[N++]);break;case"l":for(;N<I;)e.lineTo(u+=R[N++],c+=R[N++]);break;case"C":for(;N<I;)e.cubicCurveTo(R[N++],R[N++],m=R[N++],y=R[N++],u=R[N++],c=R[N++]);break;case"c":for(;N<I;)e.cubicCurveTo(u+R[N++],c+R[N++],m=u+R[N++],y=c+R[N++],u+=R[N++],c+=R[N++]);break;case"S":for(x();N<I;)e.cubicCurveTo(u+u-m,c+c-y,m=R[N++],y=R[N++],u=R[N++],c=R[N++]);break;case"s":for(x();N<I;)e.cubicCurveTo(u+u-m,c+c-y,m=u+R[N++],y=c+R[N++],u+=R[N++],c+=R[N++]);break;case"Q":for(;N<I;)e.quadraticCurveTo(m=R[N++],y=R[N++],u=R[N++],c=R[N++]);break;case"q":for(;N<I;)e.quadraticCurveTo(m=u+R[N++],y=c+R[N++],u+=R[N++],c+=R[N++]);break;case"T":for(D();N<I;)e.quadraticCurveTo(m=u+u-m,y=c+c-y,u=R[N++],c=R[N++]);break;case"t":for(D();N<I;)e.quadraticCurveTo(m=u+u-m,y=c+c-y,u+=R[N++],c+=R[N++]);break;case"A":for(;N<I;)e.arcTo(R[N++],R[N++],R[N++]*Math.PI/180,R[N++],R[N++],u=R[N++],c=R[N++]);break;case"a":for(;N<I;)e.arcTo(R[N++],R[N++],R[N++]*Math.PI/180,R[N++],R[N++],u+=R[N++],c+=R[N++]);break;case"Z":case"z":e.closePath();break;case"H":for(;N<I;)e.lineTo(u=R[N++],c);break;case"h":for(;N<I;)e.lineTo(u+=R[N++],c);break;case"V":for(;N<I;)e.lineTo(u,c=R[N++]);break;case"v":for(;N<I;)e.lineTo(u,c+=R[N++])}w=P.command})},h.prototype.toString=function(){for(var n=this.commands,e=this.params,o=n.length,u=[],c=0,m=0;c<o;c++)switch(n[c]){case"M":u.push("M"+e[m++]+","+e[m++]);break;case"L":u.push("L"+e[m++]+","+e[m++]);break;case"C":u.push("C"+e[m++]+","+e[m++]+" "+e[m++]+","+e[m++]+" "+e[m++]+","+e[m++]);break;case"Z":u.push("Z")}return u.join("")},h.prototype.toPrettyString=function(){return h.prettifySvgPath(this.toString())},h.prototype.toSvg=function(){return h.xmlDeclaration+'\n<svg width="100%" height="100%" viewBox="0 0 50 50" version="1.1" xmlns="'+h.xmlns+'">\n    <path d="'+this.toString()+'" style="fill:none;stroke:#000;stroke-width:0.5;"/>\n</svg>'},h.prototype.toDebugSvg=function(){var n=h.prettifySvgPath(this.toString());return h.xmlDeclaration+'\n<svg width="100%" height="100%" viewBox="0 0 100 100" version="1.1" xmlns="'+h.xmlns+'">\n    <path d="'+n+'" style="fill:none;stroke:#000;stroke-width:0.5;"/>\n</svg>'},h.prototype.toCubicPaths=function(){var o,u,c,m,y,n=[],e=this.params,w=0;return this.commands.forEach(function(D){switch(D){case"M":o=[u=m=e[w++],c=y=e[w++]],n.push(o);break;case"L":var x=e[w++],P=e[w++];o.push((m+m+x)/3,(y+y+P)/3,(m+x+x)/3,(y+P+P)/3,m=x,y=P);break;case"C":o.push(e[w++],e[w++],e[w++],e[w++],m=e[w++],y=e[w++]);break;case"Z":o.push((m+m+u)/3,(y+y+c)/3,(m+u+u)/3,(y+c+c)/3,m=u,y=c)}}),n},h.cubicPathToString=function(n){var e=n.length;if(!(e%2==0&&(e/2-1)/2>=1))throw new Error("Invalid path.");return"M"+n.slice(0,2).join(",")+"C"+n.slice(2).join(",")},h.splitCommandsRe=/(?=[AaCcHhLlMmQqSsTtVvZz])/g,h.matchParamsRe=/-?[0-9]*\.?\d+/g,h.quadraticCommandRe=/[QqTt]/,h.cubicCommandRe=/[CcSs]/,h.xmlDeclaration='<?xml version="1.0" encoding="UTF-8"?>',h.xmlns="http://www.w3.org/2000/svg",h}(),HS=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Ia=function(h){function n(){var e=null!==h&&h.apply(this,arguments)||this;return e.path=new Bl,e._dirtyPath=!0,e._svgPath="",e}return HS(n,h),Object.defineProperty(n.prototype,"dirtyPath",{get:function(){return this._dirtyPath},set:function(e){this._dirtyPath!==e&&(this._dirtyPath=e,e&&(this.dirty=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"svgPath",{get:function(){return this._svgPath},set:function(e){this._svgPath!==e&&(this._svgPath=e,this.path.setFromString(e),this.dirty=!0)},enumerable:!0,configurable:!0}),n.prototype.isPointInPath=function(e,o){var u=this.transformPoint(e,o);return this.path.closedPath&&this.path.isPointInPath(u.x,u.y)},n.prototype.isPointInStroke=function(e,o){return!1},n.prototype.updatePath=function(){},n.prototype.render=function(e){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e),this.dirtyPath&&(this.updatePath(),this.dirtyPath=!1),this.path.draw(e),this.fillStroke(e),this.dirty=!1},n.className="Path",n}(us),ds=2*Math.PI;function Na(h){return h%=ds,(h+=ds)%ds}function rr(h){return h/180*Math.PI}function Hl(h,n,e){return void 0===e&&(e=1e-10),Math.abs(h-n)<e}function Xv(h,n){void 0===n&&(n=2);var e=Math.floor(Math.log(Math.abs(h))/Math.LN10);return e>=0||!isFinite(e)?h.toFixed(n):h.toFixed(Math.abs(e)-1+n)}var dd=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),ps=(()=>(function(h){h[h.Open=0]="Open",h[h.Chord=1]="Chord",h[h.Round=2]="Round"}(ps||(ps={})),ps))(),Jf=function(h){function n(){var e=h.call(this)||this;return e._centerX=0,e._centerY=0,e._radiusX=10,e._radiusY=10,e._startAngle=0,e._endAngle=2*Math.PI,e._counterClockwise=!1,e._type=ps.Open,e.restoreOwnStyles(),e}return dd(n,h),Object.defineProperty(n.prototype,"centerX",{get:function(){return this._centerX},set:function(e){this._centerX!==e&&(this._centerX=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"centerY",{get:function(){return this._centerY},set:function(e){this._centerY!==e&&(this._centerY=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"radiusX",{get:function(){return this._radiusX},set:function(e){this._radiusX!==e&&(this._radiusX=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"radiusY",{get:function(){return this._radiusY},set:function(e){this._radiusY!==e&&(this._radiusY=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"startAngle",{get:function(){return this._startAngle},set:function(e){this._startAngle!==e&&(this._startAngle=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"endAngle",{get:function(){return this._endAngle},set:function(e){this._endAngle!==e&&(this._endAngle=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"fullPie",{get:function(){return Hl(Na(this.startAngle),Na(this.endAngle))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"counterClockwise",{get:function(){return this._counterClockwise},set:function(e){this._counterClockwise!==e&&(this._counterClockwise=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"type",{get:function(){return this._type},set:function(e){this._type!==e&&(this._type=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),n.prototype.updatePath=function(){var e=this.path;e.clear(),e.cubicArc(this.centerX,this.centerY,this.radiusX,this.radiusY,0,this.startAngle,this.endAngle,this.counterClockwise?1:0),this.type===ps.Chord?e.closePath():this.type===ps.Round&&!this.fullPie&&(e.lineTo(this.centerX,this.centerY),e.closePath())},n.prototype.computeBBox=function(){return new dr(this.centerX-this.radiusX,this.centerY-this.radiusY,2*this.radiusX,2*this.radiusY)},n.prototype.isPointInPath=function(e,o){var u=this.transformPoint(e,o),c=this.computeBBox();return this.type!==ps.Open&&c.containsPoint(u.x,u.y)&&this.path.isPointInPath(u.x,u.y)},n.className="Arc",n.defaultStyles=Vp(us.defaultStyles,{lineWidth:1,fillStyle:null}),n}(Ia),hs=(()=>(function(h){h[h.Tick=0]="Tick",h[h.GridLine=1]="GridLine"}(hs||(hs={})),hs))(),Xs=function(){this.width=1,this.size=6,this.color="rgba(195, 195, 195, 1)",this.count=10},ju=function(){function h(){this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif",this.padding=5,this.color="rgba(87, 87, 87, 1)",this.rotation=0,this.mirrored=!1,this.parallel=!1,this.formatter=void 0,this.onFormatChange=void 0}return Object.defineProperty(h.prototype,"format",{get:function(){return this._format},set:function(n){this._format!==n&&(this._format=n,this.onFormatChange&&this.onFormatChange(n))},enumerable:!0,configurable:!0}),h}(),JC=function(){function h(n){this.id=Jo(this),this.lineNode=new Fa,this.group=new Nr,this.line={width:1,color:"rgba(195, 195, 195, 1)"},this.tick=new Xs,this.label=new ju,this.translation={x:0,y:0},this.rotation=0,this.requestedRange=[0,1],this._visibleRange=[0,1],this._title=void 0,this._gridLength=0,this.gridStyle=[{stroke:"rgba(219, 219, 219, 1)",lineDash:[4,2]}],this._radialGrid=!1,this.fractionDigits=0,this.thickness=0,this.scale=n,this.groupSelection=si.select(this.group).selectAll(),this.label.onFormatChange=this.onLabelFormatChange.bind(this),this.group.append(this.lineNode)}return Object.defineProperty(h.prototype,"scale",{get:function(){return this._scale},set:function(n){this._scale=n,this.requestedRange=n.range.slice(),this.onLabelFormatChange()},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"ticks",{get:function(){return this._ticks},set:function(n){this._ticks=n},enumerable:!0,configurable:!0}),h.prototype.getMeta=function(){},h.prototype.updateRange=function(){var n=this,e=n.requestedRange,o=n.visibleRange,c=(e[1]-e[0])/(o[1]-o[0]),y=e[0]-c*o[0];n.scale.range=[y,y+c]},h.prototype.inRange=function(n,e,o){return void 0===e&&(e=0),void 0===o&&(o=0),0===this.inRangeEx(n,e,o)},h.prototype.inRangeEx=function(n,e,o){void 0===e&&(e=0),void 0===o&&(o=0);var u=this.range,c=Math.min(u[0],u[1]),m=Math.max(u[0],u[1]);return n+e<c-o?-1:n>m+o?1:0},Object.defineProperty(h.prototype,"range",{get:function(){return this.requestedRange.slice()},set:function(n){this.requestedRange=n.slice(),this.updateRange()},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"visibleRange",{get:function(){return this._visibleRange.slice()},set:function(n){if(n&&2===n.length){var e=function(h,n){var e="function"==typeof Symbol&&h[Symbol.iterator];if(!e)return h;var u,m,o=e.call(h),c=[];try{for(;(void 0===n||n-- >0)&&!(u=o.next()).done;)c.push(u.value)}catch(y){m={error:y}}finally{try{u&&!u.done&&(e=o.return)&&e.call(o)}finally{if(m)throw m.error}}return c}(n,2),o=e[0],u=e[1];o=Math.max(0,o),u=Math.min(1,u),o=Math.min(o,u),u=Math.max(o,u),this._visibleRange=[o,u],this.updateRange()}},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"domain",{get:function(){return this.scale.domain.slice()},set:function(n){this.scale.domain=n.slice(),this.onLabelFormatChange(this.label.format)},enumerable:!0,configurable:!0}),h.prototype.onLabelFormatChange=function(n){if(n&&this.scale&&this.scale.tickFormat)try{this.labelFormatter=this.scale.tickFormat(this.tick.count,n)}catch(e){this.labelFormatter=void 0,console.error(e)}else this.labelFormatter=void 0},Object.defineProperty(h.prototype,"title",{get:function(){return this._title},set:function(n){var e=this._title;e!==n&&(e&&this.group.removeChild(e.node),n&&(n.node.rotation=-Math.PI/2,this.group.appendChild(n.node)),this._title=n,this.positionTitle())},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"gridLength",{get:function(){return this._gridLength},set:function(n){(this._gridLength&&!n||!this._gridLength&&n)&&(this.groupSelection=this.groupSelection.remove().setData([])),this._gridLength=n},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"radialGrid",{get:function(){return this._radialGrid},set:function(n){this._radialGrid!==n&&(this._radialGrid=n,this.groupSelection=this.groupSelection.remove().setData([]))},enumerable:!0,configurable:!0}),h.prototype.update=function(){var n=this,e=this,o=e.group,u=e.scale,c=e.tick,m=e.label,y=e.gridStyle,w=e.requestedRange,D=Math.min(w[0],w[1]),x=Math.max(w[0],w[1]),P=rr(this.rotation),R=m.parallel,I=Na(rr(m.rotation));o.translationX=this.translation.x,o.translationY=this.translation.y,o.rotation=P;var N=(u.bandwidth||0)/2,V=m.mirrored?1:-1,z=Na(P),Y=!I&&z>=0&&z<=Math.PI?-1:1,X=Na(P-Math.PI/2),q=!I&&X>=0&&X<=Math.PI?-1:1,ie=I>=0&&I<=Math.PI?-1:1,ce=this.ticks||u.ticks(this.tick.count),se=this.groupSelection.setData(ce);se.exit.remove();var ue=se.enter.append(Nr);ue.append(Fa).each(function(Oe){return Oe.tag=hs.Tick}),this.gridLength&&(this.radialGrid?ue.append(Jf).each(function(Oe){return Oe.tag=hs.GridLine}):ue.append(Fa).each(function(Oe){return Oe.tag=hs.GridLine})),ue.append(Ji);var fe=se.merge(ue);if(fe.attrFn("translationY",function(Oe,et){return Math.round(u.convert(et)+N)}).attrFn("visible",function(Oe){var et=Math.floor(D),Qe=Math.ceil(x);return Oe.translationY>=et&&Oe.translationY<=Qe}),fe.selectByTag(hs.Tick).each(function(Oe){Oe.strokeWidth=c.width,Oe.stroke=c.color}).attr("x1",V*c.size).attr("x2",0).attr("y1",0).attr("y2",0),this.gridLength&&y.length){var ye=y.length,Se=void 0;if(this.radialGrid){var ke=function(h){return h%=ds,(h+=ds)!==ds&&(h%=ds),h}(rr(this.gridLength));Se=fe.selectByTag(hs.GridLine).each(function(Oe,et){var Qe=Math.round(u.convert(et)+N);Oe.centerX=0,Oe.centerY=u.range[0]-Qe,Oe.endAngle=ke,Oe.radiusX=Qe,Oe.radiusY=Qe})}else Se=fe.selectByTag(hs.GridLine).each(function(Oe){Oe.x1=0,Oe.x2=-V*n.gridLength,Oe.y1=0,Oe.y2=0,Oe.visible=Math.abs(Oe.parent.translationY-u.range[0])>1});Se.each(function(Oe,et,Qe){var Ot=y[Qe%ye];Oe.stroke=Ot.stroke,Oe.strokeWidth=c.width,Oe.lineDash=Ot.lineDash,Oe.fill=void 0})}this.fractionDigits=ce.fractionDigits>=0?ce.fractionDigits:0;var Ne=fe.selectByClass(Ji).each(function(Oe,et,Qe){Oe.fontStyle=m.fontStyle,Oe.fontWeight=m.fontWeight,Oe.fontSize=m.fontSize,Oe.fontFamily=m.fontFamily,Oe.fill=m.color,Oe.textBaseline=R&&!I?V*Y==-1?"hanging":"bottom":"middle",Oe.text=n.formatTickDatum(et,Qe),Oe.textAlign=R?I?V*ie==-1?"end":"start":"center":V*q==-1?"end":"start"}),Pe=V*(c.size+m.padding),Ie=R?Y*Math.PI/2:-1===q?Math.PI:0;Ne.each(function(Oe){Oe.x=Pe,Oe.rotationCenterX=Pe,Oe.rotation=Ie+I}),this.groupSelection=fe;var xe=this.lineNode;xe.x1=0,xe.x2=0,xe.y1=w[0],xe.y2=w[1],xe.strokeWidth=this.line.width,xe.stroke=this.line.color,xe.visible=ce.length>0,this.positionTitle()},h.prototype.positionTitle=function(){var e=this.title;if(e){var u=!1;if(e.enabled&&this.lineNode.visible){u=!0;var c=this,w=c.requestedRange,D=c.label.mirrored?1:-1,x=Na(c.rotation),P=e.padding.bottom,R=e.node,I=this.computeBBox({excludeTitle:!0}),N=-1===D&&x>Math.PI&&x<2*Math.PI?-1:1;R.rotation=N*D*Math.PI/2,R.x=N*D*(w[0]+w[1])/2,R.y=-1===D?N*(-P-I.width+Math.max(I.x+I.width,0)):-P-I.width-Math.min(I.x,0),R.textBaseline=1===N?"bottom":"top"}e.node.visible=u}},h.prototype.formatTickDatum=function(n,e){var o=this,u=o.label,c=o.labelFormatter,m=o.fractionDigits,y=this.getMeta();return u.formatter?u.formatter({value:m>=0?n:String(n),index:e,fractionDigits:m,formatter:c,axis:y}):c?c(n):"number"==typeof n&&m>=0?n.toFixed(m):String(n)},h.prototype.formatDatum=function(n){return String(n)},h.prototype.computeBBox=function(n){var o=this.title,u=this.lineNode,c=this.groupSelection.selectByClass(Ji),m=1/0,y=-1/0,w=1/0,D=-1/0;if(c.each(function(N){N.computeTransformMatrix();var V=$s.flyweight(N.matrix),z=N.parent;z.computeTransformMatrix(),V.preMultiplySelf(z.matrix);var Y=N.computeBBox();if(Y){var X=V.transformBBox(Y);m=Math.min(m,X.x),y=Math.max(y,X.x+X.width),w=Math.min(w,X.y),D=Math.max(D,X.y+X.height)}}),o&&o.enabled&&u.visible&&(!n||!n.excludeTitle)){var x=o.node;x.computeTransformMatrix();var P=$s.flyweight(x.matrix),R=x.computeBBox();if(R){var I=P.transformBBox(R);m=Math.min(m,I.x),y=Math.max(y,I.x+I.width),w=Math.min(w,I.y),D=Math.max(D,I.y+I.height)}}return m=Math.min(m,0),y=Math.max(y,0),w=Math.min(w,u.y1,u.y2),D=Math.max(D,u.y1,u.y2),new dr(m,w,y-m,D-w)},h}(),Qv=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),kn=(()=>(function(h){h.X="x",h.Y="y"}(kn||(kn={})),kn))();function eg(h){return h===kn.X?kn.Y:kn.X}var dn=(()=>(function(h){h.Top="top",h.Right="right",h.Bottom="bottom",h.Left="left",h.Angle="angle",h.Radius="radius"}(dn||(dn={})),dn))(),jl=function(h){function n(){var e=null!==h&&h.apply(this,arguments)||this;return e.keys=[],e.direction=kn.Y,e.boundSeries=[],e._position=dn.Left,e}return Qv(n,h),Object.defineProperty(n.prototype,"type",{get:function(){return this.constructor.type||""},enumerable:!0,configurable:!0}),n.prototype.getMeta=function(){return{id:this.id,direction:this.direction,boundSeries:this.boundSeries}},Object.defineProperty(n.prototype,"position",{get:function(){return this._position},set:function(e){if(this._position!==e)switch(this._position=e,e){case dn.Top:this.direction=kn.X,this.rotation=-90,this.label.mirrored=!0,this.label.parallel=!0;break;case dn.Right:this.direction=kn.Y,this.rotation=0,this.label.mirrored=!0,this.label.parallel=!1;break;case dn.Bottom:this.direction=kn.X,this.rotation=-90,this.label.mirrored=!1,this.label.parallel=!0;break;case dn.Left:this.direction=kn.Y,this.rotation=0,this.label.mirrored=!1,this.label.parallel=!1}},enumerable:!0,configurable:!0}),n}(JC),pd=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Uu=function(h,n){var e="function"==typeof Symbol&&h[Symbol.iterator];if(!e)return h;var u,m,o=e.call(h),c=[];try{for(;(void 0===n||n-- >0)&&!(u=o.next()).done;)c.push(u.value)}catch(y){m={error:y}}finally{try{u&&!u.done&&(e=o.return)&&e.call(o)}finally{if(m)throw m.error}}return c};function Kp(h){var n,e=h[0],o=h[h.length-1];return e>o&&(n=Uu([o,e],2),e=n[0],o=n[1]),function(u){return u>=e&&u<=o?u:NaN}}var ra=function(h){function n(){var e=h.call(this,new Jn)||this;return e._nice=!0,e._min=NaN,e._max=NaN,e.scale.clamper=Kp,e}return pd(n,h),Object.defineProperty(n.prototype,"nice",{get:function(){return this._nice},set:function(e){this._nice!==e&&(this._nice=e,e&&this.scale.nice&&this.scale.nice(this.tick.count))},enumerable:!0,configurable:!0}),n.prototype.setDomain=function(e,o){var u=this,c=u.scale,m=u.min,y=u.max;if(e.length>2&&(e=cs(e,na,Number)||[0,1]),e=[isNaN(m)?e[0]:m,isNaN(y)?e[1]:y],o){var w=Uu(function(h,n){var e=Math.floor(h[0]),o=h[1];e=function(h,n,e){var o=Math.abs(n-h)/(e-1),u=Math.floor(Math.log10(o)),c=Math.pow(10,u);return Math.floor(h/c)*c}(e,o,n);var u=function(h,n,e){return function(h){var n=Math.floor(Math.log10(h)),e=Math.pow(10,n),o=h/e*10;return o>0&&o<=1?e/10:o>1&&o<=2?2*e/10:o>1&&o<=5?5*e/10:o>5&&o<=10?10*e/10:o>10&&o<=20?20*e/10:o>20&&o<=40?40*e/10:o>40&&o<=50?50*e/10:o>50&&o<=100?100*e/10:o}((n-h)/(e-1))}(e,o,n),m=[e,o=e+(n-1)*u],y=function(h,n,e){for(var o=Math.floor(Math.log10(n)),u=n>0&&n<1?Math.abs(o):0,c=Math.pow(10,u),m=new Iv(u),y=0;y<e;y++)m[y]=Math.round((h+n*y)*c)/c;return m}(e,u,n);return[m,y]}(e,o),2),x=w[1];return c.domain=w[0],void(this.ticks=x)}c.domain=e,this.onLabelFormatChange(this.label.format),this.scale.clamp=!0,this.nice&&this.scale.nice&&this.scale.nice(this.tick.count)},Object.defineProperty(n.prototype,"domain",{get:function(){return this.scale.domain},set:function(e){this.setDomain(e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"min",{get:function(){return this._min},set:function(e){this._min!==e&&(this._min=e,isNaN(e)||(this.scale.domain=[e,this.scale.domain[1]]))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"max",{get:function(){return this._max},set:function(e){this._max!==e&&(this._max=e,isNaN(e)||(this.scale.domain=[this.scale.domain[0],e]))},enumerable:!0,configurable:!0}),n.prototype.formatDatum=function(e){return e.toFixed(2)},n.className="NumberAxis",n.type="number",n}(jl),hd=function(h,n){var e="function"==typeof Symbol&&h[Symbol.iterator];if(!e)return h;var u,m,o=e.call(h),c=[];try{for(;(void 0===n||n-- >0)&&!(u=o.next()).done;)c.push(u.value)}catch(y){m={error:y}}finally{try{u&&!u.done&&(e=o.return)&&e.call(o)}finally{if(m)throw m.error}}return c},no=function(){function h(){this.type="band",this.index=new Map,this.ordinalRange=[],this._domain=[],this._range=[0,1],this._bandwidth=1,this._paddingInner=0,this._paddingOuter=0,this._round=!1,this._align=.5}return Object.defineProperty(h.prototype,"domain",{get:function(){return this._domain},set:function(n){var e=this._domain;e.length=0,this.index=new Map;var o=this.index;n.forEach(function(u){void 0===o.get(u)&&o.set(u,e.push(u)-1)}),this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"range",{get:function(){return this._range},set:function(n){this._range[0]=n[0],this._range[1]=n[1],this.rescale()},enumerable:!0,configurable:!0}),h.prototype.ticks=function(){return this._domain},h.prototype.convert=function(n){var e=this.index.get(n);if(void 0===e)return NaN;var o=this.ordinalRange[e];return void 0===o?NaN:o},Object.defineProperty(h.prototype,"bandwidth",{get:function(){return this._bandwidth},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"padding",{get:function(){return this._paddingInner},set:function(n){n=Math.max(0,Math.min(1,n)),this._paddingInner=n,this._paddingOuter=n,this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"paddingInner",{get:function(){return this._paddingInner},set:function(n){this._paddingInner=Math.max(0,Math.min(1,n)),this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"paddingOuter",{get:function(){return this._paddingOuter},set:function(n){this._paddingOuter=Math.max(0,Math.min(1,n)),this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"round",{get:function(){return this._round},set:function(n){this._round=n,this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"align",{get:function(){return this._align},set:function(n){this._align=Math.max(0,Math.min(1,n)),this.rescale()},enumerable:!0,configurable:!0}),h.prototype.rescale=function(){var n,e=this._domain.length;if(e){var o=hd(this._range,2),u=o[0],c=o[1],m=c<u;m&&(u=(n=hd([c,u],2))[0],c=n[1]);var y=(c-u)/Math.max(1,e-this._paddingInner+2*this._paddingOuter);this._round&&(y=Math.floor(y)),u+=(c-u-y*(e-this._paddingInner))*this._align,this._bandwidth=y*(1-this._paddingInner),this._round&&(u=Math.round(u),this._bandwidth=Math.round(this._bandwidth));for(var w=[],D=0;D<e;D++)w.push(u+y*D);this.ordinalRange=m?w.reverse():w}},h}(),WS=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Ul=function(h){function n(){var e=h.call(this,new no)||this;return e.scale.paddingInner=.2,e.scale.paddingOuter=.3,e}return WS(n,h),Object.defineProperty(n.prototype,"paddingInner",{get:function(){return this.scale.paddingInner},set:function(e){this.scale.paddingInner=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"paddingOuter",{get:function(){return this.scale.paddingOuter},set:function(e){this.scale.paddingOuter=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"domain",{get:function(){return this.scale.domain.slice()},set:function(e){this.scale.domain=e.filter(function(o,u,c){return c.indexOf(o)===u})},enumerable:!0,configurable:!0}),n.className="CategoryAxis",n.type="category",n}(jl),tg=function(){function h(n,e,o){void 0===n&&(n=""),void 0===o&&(o=0),this.x=0,this.y=0,this.subtreeLeft=NaN,this.subtreeRight=NaN,this.screenX=0,this.screenY=0,this.children=[],this.leafCount=0,this.prelim=0,this.mod=0,this.ancestor=this,this.change=0,this.shift=0,this.label=n,this.parent=e,this.depth=e?e.depth+1:0,this.number=o}return h.prototype.getLeftSibling=function(){return this.number>0&&this.parent?this.parent.children[this.number-1]:void 0},h.prototype.getLeftmostSibling=function(){return this.number>0&&this.parent?this.parent.children[0]:void 0},h.prototype.nextLeft=function(){return this.children?this.children[0]:this.thread},h.prototype.nextRight=function(){return this.children?this.children[this.children.length-1]:this.thread},h.prototype.getSiblings=function(){var n=this;return this.parent?this.parent.children.filter(function(e,o){return o!==n.number}):[]},h}();function Jv(h,n,e){var u=e/(n.number-h.number);n.change-=u,n.shift+=e,h.change+=u,n.prelim+=e,n.mod+=e}function ng(h,n,e){return n.getSiblings().indexOf(h.ancestor)>=0?h.ancestor:e}function jS(h,n){var e=h.children;if(e.length){var o=e[0];e.forEach(function(m){jS(m,n),o=function(h,n,e){var o=h.getLeftSibling();if(o){for(var u=h,c=h,m=o,y=c.getLeftmostSibling(),w=c.mod,D=u.mod,x=m.mod,P=y.mod;m.nextRight()&&c.nextLeft();){m=m.nextRight(),c=c.nextLeft(),y=y.nextLeft(),(u=u.nextRight()).ancestor=h;var R=m.prelim+x-(c.prelim+w)+e;R>0&&(Jv(ng(m,h,n),h,R),w+=R,D+=R),x+=m.mod,w+=c.mod,P+=y.mod,D+=u.mod}m.nextRight()&&!u.nextRight()?(u.thread=m.nextRight(),u.mod+=x-D):(c.nextLeft()&&!y.nextLeft()&&(y.thread=c.nextLeft(),y.mod+=w-P),n=h)}return n}(m,o,n)}),function(h){var n=h.children;if(n)for(var e=0,o=0,u=n.length-1;u>=0;u--){var c=n[u];c.prelim+=e,c.mod+=e,e+=c.shift+(o+=c.change)}}(h);var u=(e[0].prelim+e[e.length-1].prelim)/2;(c=h.getLeftSibling())?(h.prelim=c.prelim+n,h.mod=h.prelim-u):h.prelim=u}else{var c=h.getLeftSibling();h.prelim=c?c.prelim+n:0}}var Yp=function(){function h(){this.top=1/0,this.right=-1/0,this.bottom=-1/0,this.left=1/0}return h.prototype.update=function(n,e){var o=e(n),u=o.x,c=o.y;u>this.right&&(this.right=u),u<this.left&&(this.left=u),c>this.bottom&&(this.bottom=c),c<this.top&&(this.top=c)},h}();function ty(h,n,e){h.x=h.prelim+n,h.y=h.depth,e.update(h),h.children.forEach(function(o){return ty(o,n+h.mod,e)})}function tb(h){var n=h.children,e=0;n.forEach(function(o){tb(o),o.children.length?e+=o.leafCount:e++}),h.leafCount=e,n.length?(h.subtreeLeft=n[0].subtreeLeft,h.subtreeRight=n[h.children.length-1].subtreeRight,h.x=(h.subtreeLeft+h.subtreeRight)/2):(h.subtreeLeft=h.x,h.subtreeRight=h.x)}function rg(h){var n=new US;return jS(h,1),ty(h,-h.prelim,n),tb(h),n}var US=function(){function h(){this.dimensions=new Yp,this.leafCount=0,this.nodes=[],this.leafNodes=[],this.nonLeafNodes=[],this.depth=0}return h.prototype.update=function(n){this.dimensions.update(n,function(e){return{x:e.x,y:e.y}}),n.children.length?this.nonLeafNodes.push(n):(this.leafCount++,this.leafNodes.push(n)),n.depth>this.depth&&(this.depth=n.depth),this.nodes.push(n)},h.prototype.resize=function(n,e,o,u,c){void 0===o&&(o=0),void 0===u&&(u=0),void 0===c&&(c=!1);var m=this.leafCount-1,y=this.depth,w=this.dimensions,D=1,x=1;n>0&&m&&(D=n/m/((w.right-w.left)/m),c&&(D=-D)),e>0&&y&&(x=e/y/((w.bottom-w.top)/y));var V=new Yp;this.nodes.forEach(function(X){X.screenX=X.x*D,X.screenY=X.y*x,V.update(X,function(q){return{x:q.screenX,y:q.screenY}})});var z=-V.left,Y=-V.top;this.nodes.forEach(function(X){X.screenX+=z+o,X.screenY+=Y+u})},h}(),nb=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),ro=function(h){function n(){var e=null!==h&&h.apply(this,arguments)||this;return e.grid=!1,e}return nb(n,h),n}(ju),fd=function(h){function n(){var e=h.call(this,new no)||this;e.tickScale=new no,e.longestSeparatorLength=0,e.translation={x:0,y:0},e.rotation=0,e.line={width:1,color:"rgba(195, 195, 195, 1)"},e.label=new ro,e.labelColor="rgba(87, 87, 87, 1)";var u=e.group,c=e.tickScale,m=e.scale;return m.paddingOuter=.1,m.paddingInner=2*m.paddingOuter,e.requestedRange=m.range.slice(),e.scale=m,c.paddingInner=1,c.paddingOuter=0,e.gridLineSelection=si.select(u).selectAll(),e.axisLineSelection=si.select(u).selectAll(),e.separatorSelection=si.select(u).selectAll(),e.labelSelection=si.select(u).selectAll(),e}return nb(n,h),Object.defineProperty(n.prototype,"domain",{get:function(){return this.scale.domain},set:function(e){var o=e.filter(function(m,y,w){return w.indexOf(m)===y});this.scale.domain=o;var u=function(h,n){void 0===n&&(n=!0);var e=new tg,o=0;return n&&h.forEach(function(u){return o=Math.max(o,u.labels.length)}),h.forEach(function(u){if(n)for(;u.labels.length<o;)u.labels.unshift("");!function(h,n){var e=n.labels.slice().reverse(),o=e.length-1;e.forEach(function(u,c){var m=h.children,y=ud(m,function(x){return x.label===u}),w=c!==o;if(y&&w)h=y;else{var D=new tg(u,h);D.number=m.length,m.push(D),w&&(h=D)}})}(e,u)}),e}(o);this.tickTreeLayout=rg(u);var c=o.slice();c.push(""),this.tickScale.domain=c,this.resizeTickTree()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"range",{get:function(){return this.requestedRange.slice()},set:function(e){this.requestedRange=e.slice(),this.updateRange()},enumerable:!0,configurable:!0}),n.prototype.updateRange=function(){var e=this,o=e.requestedRange,u=e.visibleRange,m=(o[1]-o[0])/(u[1]-u[0]),w=o[0]-m*u[0];this.tickScale.range=e.scale.range=[w,w+m],this.resizeTickTree()},n.prototype.resizeTickTree=function(){var e=this.scale,o=e.domain.length?[e.convert(e.domain[0]),e.convert(e.domain[e.domain.length-1])]:e.range,u=this.tickTreeLayout,c=this.lineHeight;u&&u.resize(Math.abs(o[1]-o[0]),u.depth*c,(Math.min(o[0],o[1])||0)+(e.bandwidth||0)/2,-u.depth*c,o[1]-o[0]<0)},Object.defineProperty(n.prototype,"lineHeight",{get:function(){return 1.5*this.label.fontSize},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"gridLength",{get:function(){return this._gridLength},set:function(e){(this._gridLength&&!e||!this._gridLength&&e)&&(this.gridLineSelection=this.gridLineSelection.remove().setData([]),this.labelSelection=this.labelSelection.remove().setData([])),this._gridLength=e},enumerable:!0,configurable:!0}),n.prototype.update=function(){var e=this,o=this,u=o.group,c=o.scale,m=o.label,y=o.tickScale,w=o.requestedRange,D=c.range[0],x=c.range[1],R=Math.abs(x-D)/c.domain.length||0,I=m.parallel,N=rr(this.rotation),V=Math.abs(Math.cos(N))<1e-8,z=Na(rr(this.label.rotation));u.translationX=this.translation.x,u.translationY=this.translation.y,u.rotation=N;var Y=this.title;Y&&(Y.node.visible=!1);var X=this.lineHeight,q=this.tickTreeLayout,ie=c.ticks(),ce=q?q.nodes:[],se=!!q&&q.depth>1,ue=y.ticks(),fe=m.mirrored?1:-1,ye=Na(N),Se=!z&&ye>=0&&ye<=Math.PI?-1:1,ke=Na(N-Math.PI/2),Ne=!z&&ke>=0&&ke<=Math.PI?-1:1,Pe=this.gridLineSelection.setData(this.gridLength?ue:[]);Pe.exit.remove();var Ie=Pe.enter.append(Fa),xe=Pe.merge(Ie),Oe=this.labelSelection.setData(ce);Oe.exit.remove();var et=Oe.enter.append(Ji),Qe=Oe.merge(et),Ot=m.formatter,qe=0;Qe.each(function(lt,Gn,Uo){lt.fontStyle=m.fontStyle,lt.fontWeight=m.fontWeight,lt.fontSize=m.fontSize,lt.fontFamily=m.fontFamily,lt.fill=m.color,lt.textBaseline=-1===Se?"bottom":"hanging",lt.textAlign="center",lt.translationX=Gn.screenY-.25*m.fontSize,lt.translationY=Gn.screenX,0===Uo?Y&&Y.enabled&&ie.length>0?(lt.visible=!0,lt.text=Y.text,lt.fontSize=Y.fontSize,lt.fontStyle=Y.fontStyle,lt.fontWeight=Y.fontWeight,lt.fontFamily=Y.fontFamily,lt.textBaseline="hanging"):lt.visible=!1:(lt.text=Ot?Ot({value:String(Gn.label),index:Uo}):String(Gn.label),lt.visible=Gn.screenX>=w[0]&&Gn.screenX<=w[1]);var ti=lt.computeBBox();ti&&ti.width>qe&&(qe=ti.width)});var xt=fe*m.padding,Ze=I?Se*Math.PI/2:-1===Ne?Math.PI:0,At=this.label.grid,Dt=[];Qe.each(function(lt,Gn,Uo){if(lt.x=xt,lt.rotationCenterX=xt,Gn.children.length?(lt.translationX-=qe-X+e.label.padding,lt.rotation=V?Ze:-Math.PI/2):(lt.rotation=z,lt.textAlign="end",lt.textBaseline="middle"),Gn.parent&&se){var ti=Gn.children.length?Gn.screenX-Gn.leafCount*R/2:Gn.screenX-R/2;if(Gn.children.length){var ws=-qe-2*e.label.padding+Gn.screenY;Dt.push({y:ti,x1:ws+X,x2:ws,toString:function(){return String(Uo)}})}else(Gn.number!==Gn.children.length-1||At)&&Dt.push({y:ti,x1:0,x2:-qe-2*e.label.padding,toString:function(){return String(Uo)}})}});var Qt=0;Dt.forEach(function(lt){return Qt=Math.min(Qt,lt.x2)}),this.longestSeparatorLength=Math.abs(Qt),Dt.push({y:Math.max(D,x),x1:0,x2:Qt,toString:function(){return String(Dt.length)}});var on=this.separatorSelection.setData(Dt);on.exit.remove();var wn=on.enter.append(Fa),yn=on.merge(wn);this.separatorSelection=yn,yn.each(function(lt,Gn,Uo){lt.x1=Gn.x1,lt.x2=Gn.x2,lt.y1=Gn.y,lt.y2=Gn.y,lt.visible=Gn.y>=w[0]-1e-7&&Gn.y<=w[1]+1e-7,lt.stroke=e.tick.color,lt.fill=void 0,lt.strokeWidth=1}),this.gridLineSelection=xe,this.labelSelection=Qe;for(var Nt=q?q.depth+1:1,Zt=[],pt=0;pt<Nt;pt++)Zt.push(pt);var ki=this.axisLineSelection.setData(Zt);ki.exit.remove();var eu=ki.enter.append(Fa),ul=ki.merge(eu);if(this.axisLineSelection=ul,ul.each(function(lt,Gn,Uo){var ti=Uo>0?-qe-2*e.label.padding-(Uo-1)*X:0;lt.x1=ti,lt.x2=ti,lt.y1=w[0],lt.y2=w[1],lt.strokeWidth=e.line.width,lt.stroke=e.line.color,lt.visible=ie.length>0&&(0===Uo||At&&se)}),this.gridLength){var cl=this.gridStyle,hc=cl.length;xe.each(function(lt,Gn,Uo){var ti=Math.round(y.convert(Gn));lt.x1=0,lt.x2=-fe*e.gridLength,lt.y1=ti,lt.y2=ti,lt.visible=ti>=w[0]&&ti<=w[1]&&Math.abs(lt.parent.translationY-D)>1;var ws=cl[Uo%hc];lt.stroke=ws.stroke,lt.strokeWidth=e.tick.width,lt.lineDash=ws.lineDash,lt.fill=void 0})}},n.prototype.computeBBox=function(e){var o=!e||!e.excludeTitle,u=1/0,c=-1/0,m=1/0,y=-1/0;return this.labelSelection.each(function(w,D,x){if(x>0||o){w.computeTransformMatrix();var P=$s.flyweight(w.matrix),R=w.computeBBox();if(R){var I=P.transformBBox(R);u=Math.min(u,I.x),c=Math.max(c,I.x+I.width),m=Math.min(m,I.y),y=Math.max(y,I.y+I.height)}}}),new dr(u,m,Math.max(c-u,this.longestSeparatorLength),y-m)},n.className="GroupedCategoryAxis",n.type="groupedCategory",n}(jl),zS=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),gd=new Date,ny=new Date,ry=function(){function h(n,e){this._floor=n,this._offset=e}return h.prototype.floor=function(n){return n=new Date(+n),this._floor(n),n},h.prototype.ceil=function(n){return n=new Date(+n-1),this._floor(n),this._offset(n,1),this._floor(n),n},h.prototype.round=function(n){var e=this.floor(n),o=this.ceil(n),u=+n;return u-e.getTime()<o.getTime()-u?e:o},h.prototype.offset=function(n,e){return void 0===e&&(e=1),n=new Date(+n),this._offset(n,Math.floor(e)),n},h.prototype.range=function(n,e,o){void 0===o&&(o=1);var c,u=[];if(n=this.ceil(n),o=Math.floor(o),n>e||o<=0)return u;do{c=new Date(+n),u.push(c),this._offset(n,o),this._floor(n)}while(c<n&&n<e);return u},h.prototype.filter=function(n){var e=this;return new h(function(c){if(c>=c)for(;e._floor(c),!n(c);)c.setTime(c.getTime()-1);return c},function(c,m){if(c>=c)if(m<0)for(;++m<=0;)do{e._offset(c,-1)}while(!n(c));else for(;--m>=0;)do{e._offset(c,1)}while(!n(c));return c})},h}(),io=function(h){function n(e,o,u,c){var m=h.call(this,e,o)||this;return m._count=u,m._field=c,m}return zS(n,h),n.prototype.count=function(e,o){return gd.setTime(+e),ny.setTime(+o),this._floor(gd),this._floor(ny),Math.floor(this._count(gd,ny))},n.prototype.every=function(e){var u,o=this;if(e=Math.floor(e),isFinite(e)&&e>0)if(e>1){var c=this._field;u=this.filter(c?function(m){return c(m)%e==0}:function(m){return o.count(0,m)%e==0})}else u=this;return u},n}(ry),rb=new io(function(h){return h},function(h,n){h.setTime(h.getTime()+n)},function(h,n){return n.getTime()-h.getTime()}),Qs=1e3,oo=6e4,fs=60*oo,$u=24*fs,zl=7*$u,ib=30*$u,ig=365*$u,gs=new io(function(h){h.setTime(h.getTime()-h.getMilliseconds())},function(h,n){h.setTime(h.getTime()+n*Qs)},function(h,n){return(n.getTime()-h.getTime())/Qs}),og=new io(function(h){h.setTime(h.getTime()-h.getMilliseconds()-h.getSeconds()*Qs)},function(h,n){h.setTime(h.getTime()+n*oo)},function(h,n){return(n.getTime()-h.getTime())/oo},function(h){return h.getMinutes()}),ab=new io(function(h){h.setTime(h.getTime()-h.getMilliseconds()-h.getSeconds()*Qs-h.getMinutes()*oo)},function(h,n){h.setTime(h.getTime()+n*fs)},function(h,n){return(n.getTime()-h.getTime())/fs},function(h){return h.getHours()}),md=new io(function(h){h.setHours(0,0,0,0)},function(h,n){h.setDate(h.getDate()+n)},function(h,n){var e=n.getTimezoneOffset()-h.getTimezoneOffset();return(n.getTime()-h.getTime()-e*oo)/$u},function(h){return h.getDate()-1});function Zs(h){return new io(function(u){u.setDate(u.getDate()-(u.getDay()+7-h)%7),u.setHours(0,0,0,0)},function(u,c){u.setDate(u.getDate()+7*c)},function(u,c){return(c.getTime()-u.getTime()-(c.getTimezoneOffset()-u.getTimezoneOffset())*oo)/zl})}var vd=Zs(0),Ii=Zs(1),Zp=(Zs(2),Zs(3),Zs(4));Zs(5),Zs(6);var Lr=new io(function(h){h.setDate(1),h.setHours(0,0,0,0)},function(h,n){h.setMonth(h.getMonth()+n)},function(h,n){return n.getMonth()-h.getMonth()+12*(n.getFullYear()-h.getFullYear())},function(h){return h.getMonth()}),$l=new io(function(h){h.setMonth(0,1),h.setHours(0,0,0,0)},function(h,n){h.setFullYear(h.getFullYear()+n)},function(h,n){return n.getFullYear()-h.getFullYear()},function(h){return h.getFullYear()}),sg=new io(function(h){h.setUTCHours(0,0,0,0)},function(h,n){h.setUTCDate(h.getUTCDate()+n)},function(h,n){return(n.getTime()-h.getTime())/$u},function(h){return h.getUTCDate()-1}),Ku=new io(function(h){h.setUTCMonth(0,1),h.setUTCHours(0,0,0,0)},function(h,n){h.setUTCFullYear(h.getUTCFullYear()+n)},function(h,n){return n.getUTCFullYear()-h.getUTCFullYear()},function(h){return h.getUTCFullYear()});function Yu(h){return new io(function(u){u.setUTCDate(u.getUTCDate()-(u.getUTCDay()+7-h)%7),u.setHours(0,0,0,0)},function(u,c){u.setUTCDate(u.getUTCDate()+7*c)},function(u,c){return(c.getTime()-u.getTime())/zl})}var hb=Yu(0),lg=Yu(1),my=(Yu(2),Yu(3),Yu(4));function yy(h){if(h.y>=0&&h.y<100){var n=new Date(-1,h.m,h.d,h.H,h.M,h.S,h.L);return n.setFullYear(h.y),n}return new Date(h.y,h.m,h.d,h.H,h.M,h.S,h.L)}function ug(h){if(h.y>=0&&h.y<100){var n=new Date(Date.UTC(-1,h.m,h.d,h.H,h.M,h.S,h.L));return n.setUTCFullYear(h.y),n}return new Date(Date.UTC(h.y,h.m,h.d,h.H,h.M,h.S,h.L))}function qu(h){for(var n={},e=0,o=h.length;e<o;e++)n[h[e].toLowerCase()]=e;return n}function eh(h){return{y:h,m:0,d:1,H:0,M:0,S:0,L:0}}Yu(5),Yu(6);var cg,Xr=/^\s*\d+/,th=/^%/,_y=/[\\^$*+?|[\]().{}]/g,fb=function(h){return h.replace(_y,"\\$&")},yo=function(h){return new RegExp("^(?:"+h.map(fb).join("|")+")","i")},gb={"-":"",_:" ",0:"0"};function Zn(h,n,e){var o=h<0?"-":"",u=String(o?-h:h),c=u.length;return o+(c<e?new Array(e-c+1).join(n)+u:u)}cg=function(h){var n=h.dateTime,e=h.date,o=h.time,u=h.periods,c=h.days,m=h.shortDays,y=h.months,w=h.shortMonths,D=yo(u),x=qu(u),P=yo(c),R=qu(c),I=yo(m),N=qu(m),V=yo(y),z=qu(y),Y=yo(w),X=qu(w),q={a:function(Z){return m[Z.getDay()]},A:function(Z){return c[Z.getDay()]},b:function(Z){return w[Z.getMonth()]},B:function(Z){return y[Z.getMonth()]},c:void 0,d:At,e:At,f:function(Z,ae){return Se(Z,ae)+"000"},H:function(Z,ae){return Zn(Z.getHours(),ae,2)},I:function(Z,ae){return Zn(Z.getHours()%12||12,ae,2)},j:function(Z,ae){return Zn(1+md.count($l.floor(Z),Z),ae,3)},L:Se,m:function(Z,ae){return Zn(Z.getMonth()+1,ae,2)},M:function(Z,ae){return Zn(Z.getMinutes(),ae,2)},p:function(Z){return u[Z.getHours()>=12?1:0]},Q:iw,s:Co,S:function(Z,ae){return Zn(Z.getSeconds(),ae,2)},u:function(Z){var ae=Z.getDay();return 0===ae?7:ae},U:function(Z,ae){return Zn(vd.count($l.floor(Z),Z),ae,2)},V:function(Z,ae){var pe=Z.getDay();Z=pe>=4||0===pe?Zp.floor(Z):Zp.ceil(Z);var ee=$l.floor(Z);return Zn(Zp.count(ee,Z)+(4===ee.getDay()?1:0),ae,2)},w:function(Z){return Z.getDay()},W:function(Z,ae){return Zn(Ii.count($l.floor(Z),Z),ae,2)},x:void 0,X:void 0,y:function(Z,ae){return Zn(Z.getFullYear()%100,ae,2)},Y:function(Z,ae){return Zn(Z.getFullYear()%1e4,ae,4)},Z:function(Z){var ae=Z.getTimezoneOffset();return(ae>0?"-":(ae*=-1,"+"))+Zn(Math.floor(ae/60),"0",2)+Zn(ae%60,"0",2)},"%":l_},ie={a:function(Z){return m[Z.getUTCDay()]},A:function(Z){return c[Z.getUTCDay()]},b:function(Z){return w[Z.getUTCMonth()]},B:function(Z){return y[Z.getUTCMonth()]},c:void 0,d:lt,e:lt,f:function(Z,ae){return pt(Z,ae)+"000"},H:function(Z,ae){return Zn(Z.getUTCHours(),ae,2)},I:function(Z,ae){return Zn(Z.getUTCHours()%12||12,ae,2)},j:function(Z,ae){return Zn(1+sg.count(Ku.floor(Z),Z),ae,3)},L:pt,m:function(Z,ae){return Zn(Z.getUTCMonth()+1,ae,2)},M:function(Z,ae){return Zn(Z.getUTCMinutes(),ae,2)},p:function(Z){return u[Z.getUTCHours()>=12?1:0]},Q:iw,s:Co,S:function(Z,ae){return Zn(Z.getUTCSeconds(),ae,2)},u:function(Z){var ae=Z.getUTCDay();return 0===ae?7:ae},U:function(Z,ae){return Zn(hb.count(Ku.floor(Z),Z),ae,2)},V:function(Z,ae){var pe=Z.getUTCDay();Z=pe>=4||0===pe?my.floor(Z):my.ceil(Z);var ee=Ku.floor(Z);return Zn(my.count(ee,Z)+(4===ee.getUTCDay()?1:0),ae,4)},w:function(Z){return Z.getUTCDay()},W:function(Z,ae){return Zn(lg.count(Ku.floor(Z),Z),ae,2)},x:void 0,X:void 0,y:function(Z,ae){return Zn(Z.getUTCFullYear()%100,ae,2)},Y:function(Z,ae){return Zn(Z.getUTCFullYear()%1e4,ae,4)},Z:function(){return"+0000"},"%":l_},ce={a:function(Z,ae,pe){var ee=I.exec(ae.slice(pe));return ee?(Z.w=N[ee[0].toLowerCase()],pe+ee[0].length):-1},A:function(Z,ae,pe){var ee=P.exec(ae.slice(pe));return ee?(Z.w=R[ee[0].toLowerCase()],pe+ee[0].length):-1},b:function(Z,ae,pe){var ee=Y.exec(ae.slice(pe));return ee?(Z.m=X[ee[0].toLowerCase()],pe+ee[0].length):-1},B:function(Z,ae,pe){var ee=V.exec(ae.slice(pe));return ee?(Z.m=z[ee[0].toLowerCase()],pe+ee[0].length):-1},c:function(Z,ae,pe){return fe(Z,n,ae,pe)},d:d_,e:d_,f:function(Z,ae,pe){var ee=Xr.exec(ae.slice(pe,pe+6));return ee?(Z.L=Math.floor(parseFloat(ee[0])/1e3),pe+ee[0].length):-1},H:c_,I:c_,j:function(Z,ae,pe){var ee=Xr.exec(ae.slice(pe,pe+3));return ee?(Z.m=0,Z.d=+ee[0],pe+ee[0].length):-1},L:function(Z,ae,pe){var ee=Xr.exec(ae.slice(pe,pe+3));return ee?(Z.L=+ee[0],pe+ee[0].length):-1},m:function(Z,ae,pe){var ee=Xr.exec(ae.slice(pe,pe+2));return ee?(Z.m=parseFloat(ee[0])-1,pe+ee[0].length):-1},M:function(Z,ae,pe){var ee=Xr.exec(ae.slice(pe,pe+2));return ee?(Z.M=+ee[0],pe+ee[0].length):-1},p:function(Z,ae,pe){var ee=D.exec(ae.slice(pe));return ee?(Z.p=x[ee[0].toLowerCase()],pe+ee[0].length):-1},Q:function(Z,ae,pe){var ee=Xr.exec(ae.slice(pe));return ee?(Z.Q=+ee[0],pe+ee[0].length):-1},s:function(Z,ae,pe){var ee=Xr.exec(ae.slice(pe));return ee?(Z.Q=1e3*+ee[0],pe+ee[0].length):-1},S:function(Z,ae,pe){var ee=Xr.exec(ae.slice(pe,pe+2));return ee?(Z.S=+ee[0],pe+ee[0].length):-1},u:function(Z,ae,pe){var ee=Xr.exec(ae.slice(pe,pe+1));return ee?(Z.u=+ee[0],pe+ee[0].length):-1},U:function(Z,ae,pe){var ee=Xr.exec(ae.slice(pe,pe+2));return ee?(Z.U=+ee[0],pe+ee[0].length):-1},V:function(Z,ae,pe){var ee=Xr.exec(ae.slice(pe,pe+2));return ee?(Z.V=+ee[0],pe+ee[0].length):-1},w:function(Z,ae,pe){var ee=Xr.exec(ae.slice(pe,pe+1));return ee?(Z.w=+ee[0],pe+ee[0].length):-1},W:function(Z,ae,pe){var ee=Xr.exec(ae.slice(pe,pe+2));return ee?(Z.W=+ee[0],pe+ee[0].length):-1},x:function(Z,ae,pe){return fe(Z,e,ae,pe)},X:function(Z,ae,pe){return fe(Z,o,ae,pe)},y:function(Z,ae,pe){var ee=Xr.exec(ae.slice(pe,pe+2));return ee?(Z.y=+ee[0]+(+ee[0]>68?1900:2e3),pe+ee[0].length):-1},Y:function(Z,ae,pe){var ee=Xr.exec(ae.slice(pe,pe+4));return ee?(Z.y=+ee[0],pe+ee[0].length):-1},Z:function(Z,ae,pe){var ee=/^(Z)|^([+-]\d\d)(?::?(\d\d))?/.exec(ae.slice(pe,pe+6));return ee?(Z.Z=ee[1]?0:-(ee[2]+(ee[3]||"00")),pe+ee[0].length):-1},"%":function(Z,ae,pe){var ee=th.exec(ae.slice(pe,pe+1));return ee?pe+ee[0].length:-1}};function se(Z,ae){return function(pe){var ee=eh(1900);if(fe(ee,Z,pe+="",0)==pe.length){if("Q"in ee)return new Date(ee.Q);if("p"in ee&&(ee.H=ee.H%12+12*ee.p),"V"in ee){if(ee.V<1||ee.V>53)return;if("w"in ee||(ee.w=1),"Z"in ee){var tr=(bt=ug(eh(ee.y))).getUTCDay();bt=tr>4||0===tr?lg.ceil(bt):lg.floor(bt),bt=sg.offset(bt,7*(ee.V-1)),ee.y=bt.getUTCFullYear(),ee.m=bt.getUTCMonth(),ee.d=bt.getUTCDate()+(ee.w+6)%7}else{var bt;tr=(bt=ae(eh(ee.y))).getDay(),bt=tr>4||0===tr?Ii.ceil(bt):Ii.floor(bt),bt=md.offset(bt,7*(ee.V-1)),ee.y=bt.getFullYear(),ee.m=bt.getMonth(),ee.d=bt.getDate()+(ee.w+6)%7}}else("W"in ee||"U"in ee)&&("w"in ee||(ee.w="u"in ee?ee.u%7:"W"in ee?1:0),tr="Z"in ee?ug(eh(ee.y)).getUTCDay():ae(eh(ee.y)).getDay(),ee.m=0,ee.d="W"in ee?(ee.w+6)%7+7*ee.W-(tr+5)%7:ee.w+7*ee.U-(tr+6)%7);return"Z"in ee?(ee.H+=ee.Z/100|0,ee.M+=ee.Z%100,ug(ee)):ae(ee)}}}function ue(Z,ae){return function(pe){var ee=[],po=Z.length,bt=-1,tr=0;for(pe instanceof Date||(pe=new Date(+pe));++bt<po;)if(37===Z.charCodeAt(bt)){ee.push(Z.slice(tr,bt));var ci=Z.charAt(++bt),Ka=gb[ci];null!=Ka?ci=Z.charAt(++bt):Ka="e"===ci?" ":"0";var Ss=ae[ci];Ss&&(ci=Ss(pe,Ka)),ee.push(ci),tr=bt+1}return ee.push(Z.slice(tr,bt)),ee.join("")}}function fe(Z,ae,pe,ee){for(var po=0,bt=ae.length,tr=pe.length;po<bt;){if(ee>=tr)return-1;var ci=ae.charCodeAt(po++);if(37===ci){var Ka=ae.charAt(po++),Ss=ce[Ka in gb?ae.charAt(po++):Ka];if(!Ss||(ee=Ss(Z,pe,ee))<0)return-1}else if(ci!=pe.charCodeAt(ee++))return-1}return ee}function Se(Z,ae){return Zn(Z.getMilliseconds(),ae,3)}function At(Z,ae){return Zn(Z.getDate(),ae,2)}function pt(Z,ae){return Zn(Z.getUTCMilliseconds(),ae,3)}function lt(Z,ae){return Zn(Z.getUTCDate(),ae,2)}function l_(Z){return"%"}function iw(Z){return Z.getTime()}function Co(Z){return Math.floor(Z.getTime()/1e3)}function c_(Z,ae,pe){var ee=Xr.exec(ae.slice(pe,pe+2));return ee?(Z.H=+ee[0],pe+ee[0].length):-1}function d_(Z,ae,pe){var ee=Xr.exec(ae.slice(pe,pe+2));return ee?(Z.d=+ee[0],pe+ee[0].length):-1}return q.x=ue(e,q),q.X=ue(o,q),q.c=ue(n,q),ie.x=ue(e,ie),ie.X=ue(o,ie),ie.c=ue(n,ie),{format:function(Z){var ae=ue(Z,q);return ae.toString=function(){return Z},ae},parse:function(Z){var ae=se(Z,yy);return ae.toString=function(){return Z},ae},utcFormat:function(Z){var ae=ue(Z,ie);return ae.toString=function(){return Z},ae},utcParse:function(Z){var ae=se(Z,ug);return ae.toString=function(){return Z},ae}}}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var oE=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),dg=function(h,n){var e="function"==typeof Symbol&&h[Symbol.iterator];if(!e)return h;var u,m,o=e.call(h),c=[];try{for(;(void 0===n||n-- >0)&&!(u=o.next()).done;)c.push(u.value)}catch(y){m={error:y}}finally{try{u&&!u.done&&(e=o.return)&&e.call(o)}finally{if(m)throw m.error}}return c},vb=function(h){function n(){var e=null!==h&&h.apply(this,arguments)||this;return e.type="time",e.year=$l,e.month=Lr,e.week=vd,e.day=md,e.hour=ab,e.minute=og,e.second=gs,e.millisecond=rb,e.format=cg.format,e.tickIntervals=[[e.second,1,Qs],[e.second,5,5e3],[e.second,15,15e3],[e.second,30,3e4],[e.minute,1,oo],[e.minute,5,5*oo],[e.minute,15,15*oo],[e.minute,30,30*oo],[e.hour,1,fs],[e.hour,3,3*fs],[e.hour,6,6*fs],[e.hour,12,12*fs],[e.day,1,$u],[e.day,2,2*$u],[e.week,1,zl],[e.month,1,ib],[e.month,3,3*ib],[e.year,1,ig]],e.formatMillisecond=e.format(".%L"),e.formatSecond=e.format(":%S"),e.formatMinute=e.format("%I:%M"),e.formatHour=e.format("%I %p"),e.formatDay=e.format("%a %d"),e.formatWeek=e.format("%b %d"),e.formatMonth=e.format("%B"),e.formatYear=e.format("%Y"),e._domain=[new Date(2e3,0,1),new Date(2e3,0,2)],e}return oE(n,h),n.prototype.defaultTickFormat=function(e){return(this.second.floor(e)<e?this.formatMillisecond:this.minute.floor(e)<e?this.formatSecond:this.hour.floor(e)<e?this.formatMinute:this.day.floor(e)<e?this.formatHour:this.month.floor(e)<e?this.week.floor(e)<e?this.formatDay:this.formatWeek:this.year.floor(e)<e?this.formatMonth:this.formatYear)(e)},n.prototype.tickInterval=function(e,o,u,c){var m;if("number"==typeof e){var y=e,w=this.tickIntervals,D=Math.abs(u-o)/y,x=function(h,n,e,o,u){void 0===o&&(o=0),void 0===u&&(u=h.length);for(var c=function(h){return function(n,e){return Up(h(n),e)}}(e);o<u;){var m=o+u>>>1;c(h[m],n)<0?o=m+1:u=m}return o}(w,D,function(P){return P[2]});x===w.length?(c=Ll(o/ig,u/ig,y),e=this.year):x?(e=(m=dg(w[D/w[x-1][2]<w[x][2]/D?x-1:x],2))[0],c=m[1]):(c=Math.max(Ll(o,u,e),1),e=this.millisecond)}return null==c?e:e.every(c)},Object.defineProperty(n.prototype,"domain",{get:function(){return h.prototype.getDomain.call(this).map(function(e){return new Date(e)})},set:function(e){h.prototype.setDomain.call(this,Array.prototype.map.call(e,function(o){return o instanceof Date?+o:+new Date(+o)}))},enumerable:!0,configurable:!0}),n.prototype.invert=function(e){return new Date(h.prototype.invert.call(this,e))},n.prototype.ticks=function(e){void 0===e&&(e=10);var o=h.prototype.getDomain.call(this),u=o[0],c=o[o.length-1],m=c<u;if(m){var y=u;u=c,c=y}var w=this.tickInterval(e,u,c),D=w?w.range(u,c+1):[];return m?D.reverse():D},n.prototype.tickFormat=function(e,o){return null==o?this.defaultTickFormat.bind(this):this.format(o)},n.prototype.nice=function(e){void 0===e&&(e=10);var o=h.prototype.getDomain.call(this),u=this.tickInterval(e,o[0],o[o.length-1]);u&&(this.domain=this._nice(o,u))},n.prototype._nice=function(e,o){var u,c,m=0,y=(e=e.slice()).length-1,w=e[m],D=e[y];return D<w&&(m=(u=dg([y,m],2))[0],y=u[1],w=(c=dg([D,w],2))[0],D=c[1]),e[m]=o.floor(w),e[y]=o.ceil(D),e},n}(Fi),aE=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Xu=function(h){function n(){var e=h.call(this,new vb)||this;e.datumFormat="%m/%d/%y, %H:%M:%S",e._nice=!0;var o=e.scale;return o.clamp=!0,e.scale=o,e.datumFormatter=o.tickFormat(e.tick.count,e.datumFormat),e}return aE(n,h),Object.defineProperty(n.prototype,"nice",{get:function(){return this._nice},set:function(e){this._nice!==e&&(this._nice=e,e&&this.scale.nice&&this.scale.nice(10))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"domain",{get:function(){return this.scale.domain},set:function(e){e.length>2&&(e=(cs(e,na,Number)||[0,1e3]).map(function(o){return new Date(o)})),this.scale.domain=e,this.nice&&this.scale.nice&&this.scale.nice(10)},enumerable:!0,configurable:!0}),n.prototype.onLabelFormatChange=function(e){e?h.prototype.onLabelFormatChange.call(this,e):this.labelFormatter=this.scale.tickFormat(this.tick.count,void 0)},n.prototype.formatDatum=function(e){return this.datumFormatter(e)},n.className="TimeAxis",n.type="time",n}(jl),sE=function(h,n){var e="function"==typeof Symbol&&h[Symbol.iterator];if(!e)return h;var u,m,o=e.call(h),c=[];try{for(;(void 0===n||n-- >0)&&!(u=o.next()).done;)c.push(u.value)}catch(y){m={error:y}}finally{try{u&&!u.done&&(e=o.return)&&e.call(o)}finally{if(m)throw m.error}}return c},by=function(){function h(n,e,o){var u=this;void 0===n&&(n=window.document),this.id=Jo(this),this._dirty=!1,this.animationFrameId=0,this._root=null,this.debug={renderFrameIndex:!1,renderBoundingBoxes:!1},this._frameIndex=0,this.render=function(){var c,y=u.ctx,w=u.root,D=u.pendingSize;u.animationFrameId=0,D&&((c=u.canvas).resize.apply(c,function(){for(var h=[],n=0;n<arguments.length;n++)h=h.concat(sE(arguments[n]));return h}(D)),u.pendingSize=void 0),!w||w.visible?(y.clearRect(0,0,u.width,u.height),w&&(y.save(),w.visible&&w.render(y),y.restore()),u._frameIndex++,u.debug.renderFrameIndex&&(y.fillStyle="white",y.fillRect(0,0,40,15),y.fillStyle="black",y.fillText(u.frameIndex.toString(),2,10)),u.dirty=!1):u.dirty=!1},this.canvas=new Ys(n,e,o),this.ctx=this.canvas.context}return Object.defineProperty(h.prototype,"container",{get:function(){return this.canvas.container},set:function(n){this.canvas.container=n},enumerable:!0,configurable:!0}),h.prototype.download=function(n){this.canvas.download(n)},h.prototype.getDataURL=function(n){return this.canvas.getDataURL(n)},Object.defineProperty(h.prototype,"width",{get:function(){return this.pendingSize?this.pendingSize[0]:this.canvas.width},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"height",{get:function(){return this.pendingSize?this.pendingSize[1]:this.canvas.height},enumerable:!0,configurable:!0}),h.prototype.resize=function(n,e){n=Math.round(n),e=Math.round(e),(n!==this.width||e!==this.height)&&(this.pendingSize=[n,e],this.dirty=!0)},Object.defineProperty(h.prototype,"dirty",{get:function(){return this._dirty},set:function(n){n?this._dirty||(this.animationFrameId=requestAnimationFrame(this.render)):this.animationFrameId&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=0),this._dirty=n},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"root",{get:function(){return this._root},set:function(n){n!==this._root&&(this._root&&this._root._setScene(),this._root=n,n&&(null===n.parent&&n.scene&&n.scene!==this&&(n.scene.root=null),n._setScene(this)),this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"frameIndex",{get:function(){return this._frameIndex},enumerable:!0,configurable:!0}),h.className="Scene",h}(),nh=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),lE=function(h){function n(){var e=null!==h&&h.apply(this,arguments)||this;return e.angle=0,e}return nh(n,h),n.prototype.createGradient=function(e,o){var u=this.stops,c=this.angle%360*Math.PI/180,m=Math.cos(c),y=Math.sin(c),w=o.width,D=o.height,x=o.x+.5*w,P=o.y+.5*D;if(w>0&&D>0){var R=Math.sqrt(D*D+w*w)*Math.abs(Math.cos(c-Math.atan(D/w)))/2,I=e.createLinearGradient(x+m*R,P+y*R,x-m*R,P-y*R);return u.forEach(function(N){I.addColorStop(N.offset,N.color)}),I}return"black"},n}(function(){this.stops=[]}),ka=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),rh=(()=>(function(h){h[h.Content=0]="Content",h[h.Border=1]="Border"}(rh||(rh={})),rh))(),tl=function(h){function n(){var e=null!==h&&h.apply(this,arguments)||this;return e._x=0,e._y=0,e._width=10,e._height=10,e._radius=0,e._crisp=!1,e._gradient=!1,e.effectiveStrokeWidth=us.defaultStyles.strokeWidth,e._sizing=rh.Content,e}return ka(n,h),Object.defineProperty(n.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"width",{get:function(){return this._width},set:function(e){this._width!==e&&(this._width=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this._height},set:function(e){this._height!==e&&(this._height=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"radius",{get:function(){return this._radius},set:function(e){this._radius!==e&&(this._radius=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"crisp",{get:function(){return this._crisp},set:function(e){this._crisp!==e&&(this._crisp=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"gradient",{get:function(){return this._gradient},set:function(e){this._gradient!==e&&(this._gradient=e,this.updateGradientInstance(),this.dirty=!0)},enumerable:!0,configurable:!0}),n.prototype.updateGradientInstance=function(){if(this.gradient){var e=this.fill;if(e){var o=new lE;o.angle=270,o.stops=[{offset:0,color:ea.fromString(e).brighter().toString()},{offset:1,color:ea.fromString(e).darker().toString()}],this.gradientInstance=o}}else this.gradientInstance=void 0},Object.defineProperty(n.prototype,"fill",{get:function(){return this._fill},set:function(e){this._fill!==e&&(this._fill=e,this.updateGradientInstance(),this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"strokeWidth",{get:function(){return this._strokeWidth},set:function(e){this._strokeWidth!==e&&(this._strokeWidth=e,this.crisp||this.sizing===rh.Border?this.dirtyPath=!0:(this.effectiveStrokeWidth=e,this.dirty=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"sizing",{get:function(){return this._sizing},set:function(e){this._sizing!==e&&(this._sizing=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),n.prototype.updatePath=function(){var e=this.sizing===rh.Border,o=this.path;o.clear();var w,u=this.x,c=this.y,m=this.width,y=this.height;if(e){var D=m/2,x=y/2;w=Math.min(this.strokeWidth,D,x),u=Math.min(u+w/2,u+D),c=Math.min(c+w/2,c+x),m=Math.max(m-w,0),y=Math.max(y-w,0)}else w=this.strokeWidth;if(this.effectiveStrokeWidth=w,this.crisp&&!e){var R=this.alignment,I=this.align;o.rect(I(R,u),I(R,c),I(R,u,m),I(R,c,y))}else o.rect(u,c,m,y)},n.prototype.computeBBox=function(){var e=this;return new dr(e.x,e.y,e.width,e.height)},n.prototype.isPointInPath=function(e,o){var u=this.transformPoint(e,o);return this.computeBBox().containsPoint(u.x,u.y)},n.prototype.isPointInStroke=function(e,o){return!1},n.prototype.fillStroke=function(e){if(this.scene){var o=this.scene.canvas.pixelRatio||1;if(this.fill){e.fillStyle=this.gradientInstance?this.gradientInstance.createGradient(e,this.computeBBox()):this.fill,e.globalAlpha=this.opacity*this.fillOpacity;var u=this.fillShadow;u&&u.enabled&&(e.shadowColor=u.color,e.shadowOffsetX=u.xOffset*o,e.shadowOffsetY=u.yOffset*o,e.shadowBlur=u.blur*o),e.fill()}if(e.shadowColor="rgba(0, 0, 0, 0)",this.stroke&&this.effectiveStrokeWidth){e.strokeStyle=this.stroke,e.globalAlpha=this.opacity*this.strokeOpacity,e.lineWidth=this.effectiveStrokeWidth,this.lineDash&&e.setLineDash(this.lineDash),this.lineDashOffset&&(e.lineDashOffset=this.lineDashOffset),this.lineCap&&(e.lineCap=this.lineCap),this.lineJoin&&(e.lineJoin=this.lineJoin);var c=this.strokeShadow;c&&c.enabled&&(e.shadowColor=c.color,e.shadowOffsetX=c.xOffset*o,e.shadowOffsetY=c.yOffset*o,e.shadowBlur=c.blur*o),e.stroke()}}},n.className="Rect",n}(Ia),_b=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),ia=function(h){function n(){var e=null!==h&&h.apply(this,arguments)||this;return e._x=0,e._y=0,e._size=12,e}return _b(n,h),Object.defineProperty(n.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"size",{get:function(){return this._size},set:function(e){this._size!==e&&(this._size=Math.abs(e),this.dirtyPath=!0)},enumerable:!0,configurable:!0}),n.prototype.computeBBox=function(){var e=this,c=e.size,m=c/2;return new dr(e.x-m,e.y-m,c,c)},n}(Ia),wy=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),pg=function(h){function n(){return null!==h&&h.apply(this,arguments)||this}return wy(n,h),n.prototype.updatePath=function(){var e=this,o=e.path,u=e.x,c=e.y,m=this.size/2,w=this.alignment,D=this.align;o.clear(),o.moveTo(D(w,u-m),D(w,c-m)),o.lineTo(D(w,u+m),D(w,c-m)),o.lineTo(D(w,u+m),D(w,c+m)),o.lineTo(D(w,u-m),D(w,c+m)),o.closePath()},n.className="Square",n}(ia),Sy=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),hg=function(h){function n(){var e=h.call(this)||this;e.label=new Ji,e._marker=new pg,e._markerSize=15,e._spacing=8;var o=e.label;return o.textBaseline="middle",o.fontSize=12,o.fontFamily="Verdana, sans-serif",o.fill="black",o.y=Ys.has.textMetrics?1:0,e.append([e.marker,o]),e.update(),e}return Sy(n,h),Object.defineProperty(n.prototype,"text",{get:function(){return this.label.text},set:function(e){this.label.text=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"fontStyle",{get:function(){return this.label.fontStyle},set:function(e){this.label.fontStyle=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"fontWeight",{get:function(){return this.label.fontWeight},set:function(e){this.label.fontWeight=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"fontSize",{get:function(){return this.label.fontSize},set:function(e){this.label.fontSize=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"fontFamily",{get:function(){return this.label.fontFamily},set:function(e){this.label.fontFamily=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"color",{get:function(){return this.label.fill},set:function(e){this.label.fill=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"marker",{get:function(){return this._marker},set:function(e){this._marker!==e&&(this.removeChild(this._marker),this._marker=e,this.appendChild(e),this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"markerSize",{get:function(){return this._markerSize},set:function(e){this._markerSize!==e&&(this._markerSize=e,this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"markerFill",{get:function(){return this.marker.fill},set:function(e){this.marker.fill=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"markerStroke",{get:function(){return this.marker.stroke},set:function(e){this.marker.stroke=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"markerStrokeWidth",{get:function(){return this.marker.strokeWidth},set:function(e){this.marker.strokeWidth=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"markerFillOpacity",{get:function(){return this.marker.fillOpacity},set:function(e){this.marker.fillOpacity=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"markerStrokeOpacity",{get:function(){return this.marker.strokeOpacity},set:function(e){this.marker.strokeOpacity=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"opacity",{get:function(){return this.marker.opacity},set:function(e){this.marker.opacity=e,this.label.opacity=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"spacing",{get:function(){return this._spacing},set:function(e){this._spacing!==e&&(this._spacing=e,this.update())},enumerable:!0,configurable:!0}),n.prototype.update=function(){var o=this.markerSize;this.marker.size=o,this.label.x=o/2+this.spacing},n.className="MarkerLabel",n}(Nr),Pt=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Cb=function(h){function n(){return null!==h&&h.apply(this,arguments)||this}return Pt(n,h),n.prototype.updatePath=function(){var e=this,o=e.x,u=e.y,c=e.path,y=e.size/2;c.clear(),c.cubicArc(o,u,y,y,0,0,2*Math.PI,0),c.closePath()},n.className="Circle",n}(ia),ms=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),uE=function(h){function n(){return null!==h&&h.apply(this,arguments)||this}return ms(n,h),n.prototype.updatePath=function(){var o=this.x,u=this.y,m=this.path,w=this.size/4.2;m.clear(),m.moveTo(o-=w,u),m.lineTo(o-=w,u-=w),m.lineTo(o+=w,u-=w),m.lineTo(o+=w,u+=w),m.lineTo(o+=w,u-=w),m.lineTo(o+=w,u+=w),m.lineTo(o-=w,u+=w),m.lineTo(o+=w,u+=w),m.lineTo(o-=w,u+=w),m.lineTo(o-=w,u-=w),m.lineTo(o-=w,u+=w),m.lineTo(o-=w,u-=w),m.closePath()},n.className="Cross",n}(ia),cE=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Ey=function(h){function n(){return null!==h&&h.apply(this,arguments)||this}return cE(n,h),n.prototype.updatePath=function(){var o=this.x,u=this.y,m=this.path,w=this.size/2;m.clear(),m.moveTo(o,u-=w),m.lineTo(o+=w,u+=w),m.lineTo(o-=w,u+=w),m.lineTo(o-=w,u-=w),m.lineTo(o+=w,u-=w),m.closePath()},n.className="Diamond",n}(ia),bb=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),dE=function(h){function n(){return null!==h&&h.apply(this,arguments)||this}return bb(n,h),n.prototype.rad=function(e){return e/180*Math.PI},n.prototype.updatePath=function(){var e=this,o=e.x,u=e.path,m=e.rad,y=e.size/4,w=this.y+y/2;u.clear(),u.cubicArc(o-y,w-y,y,y,0,m(130),m(330),0),u.cubicArc(o+y,w-y,y,y,0,m(220),m(50),0),u.lineTo(o,w+y),u.closePath()},n.className="Heart",n}(ia),pE=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),yd=function(h){function n(){return null!==h&&h.apply(this,arguments)||this}return pE(n,h),n.prototype.updatePath=function(){var o=this.x,u=this.y,m=this.path,w=this.size/3,D=w/2;m.clear(),m.moveTo(o-=D,u-=D),m.lineTo(o,u-=w),m.lineTo(o+=w,u),m.lineTo(o,u+=w),m.lineTo(o+=w,u),m.lineTo(o,u+=w),m.lineTo(o-=w,u),m.lineTo(o,u+=w),m.lineTo(o-=w,u),m.lineTo(o,u-=w),m.lineTo(o-=w,u),m.lineTo(o,u-=w),m.closePath()},n.className="Plus",n}(ia),_d=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),hE=function(h){function n(){return null!==h&&h.apply(this,arguments)||this}return _d(n,h),n.prototype.updatePath=function(){var o=this.x,u=this.y,m=this.path,w=1.1*this.size;m.clear(),m.moveTo(o,u-=.48*w),m.lineTo(o+=.5*w,u+=.87*w),m.lineTo(o-=w,u),m.closePath()},n.className="Triangle",n}(ia);function No(h){if(void 0===h&&(h=pg),"string"==typeof h)switch(h){case"circle":return Cb;case"cross":return uE;case"diamond":return Ey;case"heart":return dE;case"plus":return yd;case"triangle":return hE;default:return pg}return"function"==typeof h?h:pg}var fg=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Qr=function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);return u>3&&c&&Object.defineProperty(n,e,c),c},vs=(()=>(function(h){h[h.Vertical=0]="Vertical",h[h.Horizontal=1]="Horizontal"}(vs||(vs={})),vs))(),Zr=(()=>(function(h){h.Top="top",h.Right="right",h.Bottom="bottom",h.Left="left"}(Zr||(Zr={})),Zr))(),nl=function(h){function n(){var e=null!==h&&h.apply(this,arguments)||this;return e.color="black",e.fontSize=12,e.fontFamily="Verdana, sans-serif",e}return fg(n,h),Qr([De("change")],n.prototype,"color",void 0),Qr([De("layoutChange")],n.prototype,"fontStyle",void 0),Qr([De("layoutChange")],n.prototype,"fontWeight",void 0),Qr([De("layoutChange")],n.prototype,"fontSize",void 0),Qr([De("layoutChange")],n.prototype,"fontFamily",void 0),Qr([De()],n.prototype,"formatter",void 0),n}(Fr),Gr=function(h){function n(){var e=null!==h&&h.apply(this,arguments)||this;return e.size=15,e.padding=8,e.strokeWidth=1,e}return fg(n,h),Qr([De("layoutChange")],n.prototype,"size",void 0),Qr([De("layoutChange")],n.prototype,"shape",void 0),Qr([De("layoutChange")],n.prototype,"padding",void 0),Qr([De("change")],n.prototype,"strokeWidth",void 0),n}(Fr),Yl=function(h){function n(){var e=h.call(this)||this;e.marker=new Gr,e.label=new nl,e.paddingX=16,e.paddingY=8;var o=function(){return e.fireEvent({type:"change"})};e.marker.addEventListener("change",o),e.label.addEventListener("change",o);var u=function(){return e.fireEvent({type:"layoutChange"})};return e.marker.addEventListener("layoutChange",u),e.label.addEventListener("layoutChange",u),e}return fg(n,h),Qr([De("layoutChange")],n.prototype,"paddingX",void 0),Qr([De("layoutChange")],n.prototype,"paddingY",void 0),n}(Fr),ih=function(h){function n(){var e=h.call(this)||this;return e.id=Jo(e),e.group=new Nr,e.itemSelection=si.select(e.group).selectAll(),e.oldSize=[0,0],e.item=new Yl,e.data=[],e.enabled=!0,e.orientation=vs.Vertical,e.position=Zr.Right,e.spacing=20,e._size=[0,0],e.addPropertyListener("data",e.onDataChange),e.addPropertyListener("enabled",e.onEnabledChange),e.addPropertyListener("position",e.onPositionChange),e.item.marker.addPropertyListener("shape",e.onMarkerShapeChange,e),e.addEventListener("change",e.update),e.item.addEventListener("change",function(){return e.fireEvent({type:"change"})}),e.item.addEventListener("layoutChange",function(){return e.fireEvent({type:"layoutChange"})}),e}return fg(n,h),Object.defineProperty(n.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),n.prototype.onDataChange=function(e){this.group.visible=e.value.length>0&&this.enabled},n.prototype.onEnabledChange=function(e){this.group.visible=e.value&&this.data.length>0},n.prototype.onPositionChange=function(e){switch(e.value){case"right":case"left":this.orientation=vs.Vertical;break;case"bottom":case"top":this.orientation=vs.Horizontal}},n.prototype.onMarkerShapeChange=function(){this.itemSelection=this.itemSelection.setData([]),this.itemSelection.exit.remove(),this.group.scene&&(this.group.scene.dirty=!1)},n.prototype.performLayout=function(e,o){var u=this.item,c=u.marker,m=u.paddingX,y=u.paddingY,w=this.itemSelection.setData(this.data,function(Qe,Ot){var qe=No(c.shape||Ot.marker.shape);return Ot.id+"-"+Ot.itemId+"-"+qe.name});w.exit.remove();var D=w.enter.append(hg).each(function(Qe,Ot){var qe=No(c.shape||Ot.marker.shape);Qe.marker=new qe}),x=this.itemSelection=w.merge(D),P=x.size,R=[],I=this.item.marker,N=this.item.label;x.each(function(Qe,Ot){Qe.markerSize=I.size,Qe.spacing=I.padding,Qe.fontStyle=N.fontStyle,Qe.fontWeight=N.fontWeight,Qe.fontSize=N.fontSize,Qe.fontFamily=N.fontFamily;var qe=Ot.label.text;qe.length>25&&(qe=qe.substring(0,25-"...".length)+"..."),Qe.text=qe,R.push(Qe.computeBBox())});var Y=R.length&&R[0].height,X=0,q=0,ie=0,ce=0;switch(e=Math.max(1,e),o=Math.max(1,o),this.orientation){case vs.Horizontal:if(!(isFinite(e)&&e>0))return!1;X=0;var se=0;do{var ue=0;se=0,q=0,X++;for(var fe=0;fe<P;)(ye=R[fe]).width>q&&(q=ye.width),++fe%X==0&&(ue+=q,q=0,se++);fe%X!=0&&(ue+=q,se++),ie=ue+(se-1)*m}while(ie>e&&se>1);ce=Y*X+(X-1)*y;break;case vs.Vertical:if(!(isFinite(o)&&o>0))return!1;X=2*P;do{X=(X>>1)+X%2,q=0,ue=0;var Se=0,ke=0;for(fe=0;fe<P;){var ye=R[fe];ke||(Se+=ye.height),ye.width>q&&(q=ye.width),++fe%X==0&&(ue+=q,q=0,ke++)}fe%X!=0&&(ue+=q,ke++),ie=ue+(ke-1)*m,ce=Se+(X-1)*y}while(ce>o&&X>1)}var Ne=(e-ie)/2,Pe=(o-ce)/2,Ie=0,xe=0;q=0,x.each(function(Qe,Ot,qe){Qe.translationX=Math.floor(Ne+Ie),Qe.translationY=Math.floor(Pe+xe);var xt=R[qe];xt.width>q&&(q=xt.width),(qe+1)%X==0?(Ie+=q+m,xe=0,q=0):xe+=xt.height+y}),this.update();var Oe=this._size,et=this.oldSize;Oe[0]=ie,Oe[1]=ce,(Oe[0]!==et[0]||Oe[1]!==et[1])&&(et[0]=Oe[0],et[1]=Oe[1])},n.prototype.update=function(){var e=this;this.itemSelection.each(function(o,u){var c=u.marker;o.markerFill=c.fill,o.markerStroke=c.stroke,o.markerStrokeWidth=e.item.marker.strokeWidth,o.markerFillOpacity=c.fillOpacity,o.markerStrokeOpacity=c.strokeOpacity,o.opacity=u.enabled?1:.5,o.color=e.item.label.color})},n.prototype.getDatumForPoint=function(e,o){var u=this.group.pickNode(e,o);if(u&&u.parent)return u.parent.datum},n.className="Legend",Qr([De("layoutChange")],n.prototype,"data",void 0),Qr([De("layoutChange")],n.prototype,"enabled",void 0),Qr([De("layoutChange")],n.prototype,"orientation",void 0),Qr([De("layoutChange")],n.prototype,"position",void 0),Qr([De("layoutChange")],n.prototype,"spacing",void 0),n}(Fr),zt=function(){function h(){}return h.init=function(){var n=this,e=window.ResizeObserver;e?this.resizeObserver=new e(function(u){var c,m;try{for(var y=function(h){var n="function"==typeof Symbol&&Symbol.iterator,e=n&&h[n],o=0;if(e)return e.call(h);if(h&&"number"==typeof h.length)return{next:function(){return h&&o>=h.length&&(h=void 0),{value:h&&h[o++],done:!h}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(u),w=y.next();!w.done;w=y.next()){var D=w.value,x=D.contentRect,P=x.width,R=x.height;n.checkSize(n.elements.get(D.target),D.target,P,R)}}catch(I){c={error:I}}finally{try{w&&!w.done&&(m=y.return)&&m.call(y)}finally{if(c)throw c.error}}}):window.setInterval(function(){n.elements.forEach(function(u,c){n.checkSize(u,c,c.clientWidth?c.clientWidth:0,c.clientHeight?c.clientHeight:0)})},100),this.ready=!0},h.checkSize=function(n,e,o,u){n&&(!n.size||o!==n.size.width||u!==n.size.height)&&(n.size={width:o,height:u},n.cb(n.size,e))},h.observe=function(n,e){this.ready||this.init(),this.unobserve(n),this.resizeObserver&&this.resizeObserver.observe(n),this.elements.set(n,{cb:e})},h.unobserve=function(n){this.resizeObserver&&this.resizeObserver.unobserve(n),this.elements.delete(n)},h.elements=new Map,h.ready=!1,h}();function Cd(h,n,e,o,u,c,m){var D=h-(h<o?o:h>o+c?o+c:h),x=n-(n<u?u:n>u+m?u+m:n);return Math.sqrt(D*D+x*x)<=e}function bd(h,n,e,o,u,c,m,y){return h+e>u&&h<u+m&&n+o>c&&n<c+y}function wd(h,n,e,o,u,c,m,y){return u+m<h+e&&u>h&&c>n&&c+y<n+o}var Qu=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),il=function(){return il=Object.assign||function(h){for(var n,e=1,o=arguments.length;e<o;e++)for(var u in n=arguments[e])Object.prototype.hasOwnProperty.call(n,u)&&(h[u]=n[u]);return h},il.apply(this,arguments)},ao=function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);return u>3&&c&&Object.defineProperty(n,e,c),c};function Jr(h,n){if("string"==typeof h)return h;n=n||{};var e=h.content,u=h.title,c=void 0===u?n.title||void 0:u,m=h.color,w=h.backgroundColor;return(c?'<div class="'+so.defaultTooltipClass+'-title"\n        style="color: '+(void 0===m?n.color||"white":m)+"; background-color: "+(void 0===w?n.backgroundColor||"#888":w)+'">'+c+"</div>":"")+'<div class="'+so.defaultTooltipClass+'-content">'+(void 0===e?n.content||"":e)+"</div>"}var wb=function(h){function n(e,o){var u=h.call(this)||this;u.enabled=!0,u.class=so.defaultTooltipClass,u.delay=0,u.tracking=!0,u.showTimeout=0,u.constrained=!1,u.chart=e,u.class="";var c=o.body,m=o.createElement("div");if(u.element=c.appendChild(m),window.IntersectionObserver){var y=u.chart.scene.canvas.element,w=new IntersectionObserver(function(D){var x,P;try{for(var R=function(h){var n="function"==typeof Symbol&&Symbol.iterator,e=n&&h[n],o=0;if(e)return e.call(h);if(h&&"number"==typeof h.length)return{next:function(){return h&&o>=h.length&&(h=void 0),{value:h&&h[o++],done:!h}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(D),I=R.next();!I.done;I=R.next()){var N=I.value;N.target===y&&0===N.intersectionRatio&&u.toggle(!1)}}catch(V){x={error:V}}finally{try{I&&!I.done&&(P=R.return)&&P.call(R)}finally{if(x)throw x.error}}},{root:c});w.observe(y),u.observer=w}return u}return Qu(n,h),n.prototype.destroy=function(){var e=this.element.parentNode;e&&e.removeChild(this.element),this.observer&&this.observer.unobserve(this.chart.scene.canvas.element)},n.prototype.isVisible=function(){var e=this.element;if(e.classList)return!e.classList.contains(so.defaultTooltipClass+"-hidden");var o=e.getAttribute("class");return!!o&&o.split(" ").indexOf(so.defaultTooltipClass+"-hidden")<0},n.prototype.updateClass=function(e,o){var u=[so.defaultTooltipClass,this.class];!0!==e&&u.push(so.defaultTooltipClass+"-hidden"),!0!==o&&u.push(so.defaultTooltipClass+"-arrow"),this.element.setAttribute("class",u.join(" "))},n.prototype.show=function(e,o,u){var c=this;void 0===u&&(u=!1);var m=this.element;if(void 0!==o)m.innerHTML=o;else if(!m.innerHTML)return;var y=e.pageX-m.clientWidth/2,w=e.pageY-m.clientHeight-8;if(this.constrained=!1,this.chart.container){var D=m.getBoundingClientRect(),P=window.innerWidth-D.width-1;y<0?(y=0,this.updateClass(!0,this.constrained=!0)):y>P&&(y=P,this.updateClass(!0,this.constrained=!0)),w<window.pageYOffset&&(w=e.pageY+20,this.updateClass(!0,this.constrained=!0))}if(m.style.left=Math.round(y)+"px",m.style.top=Math.round(w)+"px",this.delay>0&&!u)return this.toggle(!1),void(this.showTimeout=window.setTimeout(function(){c.toggle(!0)},this.delay));this.toggle(!0)},n.prototype.toggle=function(e){e||(window.clearTimeout(this.showTimeout),this.chart.lastPick&&!this.delay&&(this.chart.dehighlightDatum(),this.chart.lastPick=void 0)),this.updateClass(e,this.constrained)},ao([De()],n.prototype,"enabled",void 0),ao([De()],n.prototype,"class",void 0),ao([De()],n.prototype,"delay",void 0),ao([De()],n.prototype,"tracking",void 0),n}(Fr),so=function(h){function n(e){void 0===e&&(e=window.document);var o=h.call(this)||this;o.id=Jo(o),o.background=new tl,o.legend=new ih,o.legendAutoPadding=new Po,o.captionAutoPadding=0,o._container=void 0,o._data=[],o._autoSize=!1,o.padding=new Po(20),o._axes=[],o._series=[],o._axesChanged=!1,o._seriesChanged=!1,o.layoutCallbackId=0,o._performLayout=function(){o.layoutCallbackId=0,o.background.width=o.width,o.background.height=o.height,o.performLayout(),o.layoutPending||o.fireEvent({type:"layoutDone"})},o.dataCallbackId=0,o.nodeData=new Map,o.updateCallbackId=0,o.legendBBox=new dr(0,0,0,0),o._onMouseDown=o.onMouseDown.bind(o),o._onMouseMove=o.onMouseMove.bind(o),o._onMouseUp=o.onMouseUp.bind(o),o._onMouseOut=o.onMouseOut.bind(o),o._onClick=o.onClick.bind(o),o.pointerInsideLegend=!1;var u=new Nr,c=o.background;c.fill="white",u.appendChild(c);var m=o._element=e.createElement("div");m.setAttribute("class","ag-chart-wrapper");var y=new by(e);o.scene=y,y.root=u,y.container=m,o.autoSize=!0,o.padding.addEventListener("layoutChange",o.scheduleLayout,o);var w=o.legend;if(w.addEventListener("layoutChange",o.scheduleLayout,o),w.item.label.addPropertyListener("formatter",o.updateLegend,o),w.addPropertyListener("position",o.onLegendPositionChange,o),o.tooltip=new wb(o,e),o.tooltip.addPropertyListener("class",function(){return o.tooltip.toggle()}),n.tooltipDocuments.indexOf(e)<0){var D=e.createElement("style");D.innerHTML='\n.ag-chart-tooltip {\n    display: table;\n    position: absolute;\n    user-select: none;\n    pointer-events: none;\n    white-space: nowrap;\n    z-index: 99999;\n    font: 12px Verdana, sans-serif;\n    color: black;\n    background: rgb(244, 244, 244);\n    border-radius: 5px;\n    box-shadow: 0 0 1px rgba(3, 3, 3, 0.7), 0.5vh 0.5vh 1vh rgba(3, 3, 3, 0.25);\n}\n\n.ag-chart-tooltip-hidden {\n    top: -10000px !important;\n}\n\n.ag-chart-tooltip-title {\n    font-weight: bold;\n    padding: 7px;\n    border-top-left-radius: 5px;\n    border-top-right-radius: 5px;\n    color: white;\n    background-color: #888888;\n    border-top-left-radius: 5px;\n    border-top-right-radius: 5px;\n}\n\n.ag-chart-tooltip-content {\n    padding: 7px;\n    line-height: 1.7em;\n    border-bottom-left-radius: 5px;\n    border-bottom-right-radius: 5px;\n    overflow: hidden;\n}\n\n.ag-chart-tooltip-content:empty {\n    padding: 0;\n    height: 7px;\n}\n\n.ag-chart-tooltip-arrow::before {\n    content: "";\n\n    position: absolute;\n    top: 100%;\n    left: 50%;\n    transform: translateX(-50%);\n\n    border: 6px solid #989898;\n\n    border-left-color: transparent;\n    border-right-color: transparent;\n    border-top-color: #989898;\n    border-bottom-color: transparent;\n\n    width: 0;\n    height: 0;\n\n    margin: 0 auto;\n}\n\n.ag-chart-tooltip-arrow::after {\n    content: "";\n\n    position: absolute;\n    top: 100%;\n    left: 50%;\n    transform: translateX(-50%);\n\n    border: 5px solid black;\n\n    border-left-color: transparent;\n    border-right-color: transparent;\n    border-top-color: rgb(244, 244, 244);\n    border-bottom-color: transparent;\n\n    width: 0;\n    height: 0;\n\n    margin: 0 auto;\n}\n\n.ag-chart-wrapper {\n    box-sizing: border-box;\n    overflow: hidden;\n}\n',e.head.insertBefore(D,e.head.querySelector("style")),n.tooltipDocuments.push(e)}return o.setupDomListeners(y.canvas.element),o.addPropertyListener("title",o.onCaptionChange),o.addPropertyListener("subtitle",o.onCaptionChange),o.addEventListener("layoutChange",o.scheduleLayout),o}return Qu(n,h),Object.defineProperty(n.prototype,"container",{get:function(){return this._container},set:function(e){if(this._container!==e){var o=this.element.parentNode;null!=o&&o.removeChild(this.element),e&&e.appendChild(this.element),this._container=e}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"data",{get:function(){return this._data},set:function(e){this._data=e,this.series.forEach(function(o){return o.data=e})},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"width",{get:function(){return this.scene.width},set:function(e){this.autoSize=!1,this.width!==e&&(this.scene.resize(e,this.height),this.fireEvent({type:"layoutChange"}))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this.scene.height},set:function(e){this.autoSize=!1,this.height!==e&&(this.scene.resize(this.width,e),this.fireEvent({type:"layoutChange"}))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"autoSize",{get:function(){return this._autoSize},set:function(e){if(this._autoSize!==e){this._autoSize=e;var o=this.element.style;if(e){var u=this;zt.observe(this.element,function(c){(c.width!==u.width||c.height!==u.height)&&(u.scene.resize(c.width,c.height),u.fireEvent({type:"layoutChange"}))}),o.display="block",o.width="100%",o.height="100%"}else zt.unobserve(this.element),o.display="inline-block",o.width="auto",o.height="auto"}},enumerable:!0,configurable:!0}),n.prototype.download=function(e){this.scene.download(e)},n.prototype.destroy=function(){this.tooltip.destroy(),zt.unobserve(this.element),this.container=void 0,this.cleanupDomListeners(this.scene.canvas.element),this.scene.container=void 0},n.prototype.onLegendPositionChange=function(){this.legendAutoPadding.clear(),this.layoutPending=!0},n.prototype.onCaptionChange=function(e){var o=e.value,u=e.oldValue;u&&(u.removeEventListener("change",this.scheduleLayout,this),this.scene.root.removeChild(u.node)),o&&(o.addEventListener("change",this.scheduleLayout,this),this.scene.root.appendChild(o.node))},Object.defineProperty(n.prototype,"element",{get:function(){return this._element},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"axes",{get:function(){return this._axes},set:function(e){var o=this;this._axes.forEach(function(u){return o.detachAxis(u)}),this._axes=e.filter(function(u){return!u.linkedTo}).concat(e.filter(function(u){return u.linkedTo})),this._axes.forEach(function(u){return o.attachAxis(u)}),this.axesChanged=!0},enumerable:!0,configurable:!0}),n.prototype.attachAxis=function(e){this.scene.root.insertBefore(e.group,this.seriesRoot)},n.prototype.detachAxis=function(e){this.scene.root.removeChild(e.group)},Object.defineProperty(n.prototype,"series",{get:function(){return this._series},set:function(e){var o=this;this.removeAllSeries(),e.forEach(function(u){return o.addSeries(u)})},enumerable:!0,configurable:!0}),n.prototype.scheduleLayout=function(){this.layoutPending=!0},n.prototype.scheduleData=function(){this.dehighlightDatum(),this.dataPending=!0},n.prototype.addSeries=function(e,o){var c=this.series,m=this.seriesRoot;if(c.indexOf(e)<0){var w=o?c.indexOf(o):-1;return w>=0?(c.splice(w,0,e),m.insertBefore(e.group,o.group)):(c.push(e),m.append(e.group)),this.initSeries(e),this.seriesChanged=!0,this.axesChanged=!0,!0}return!1},n.prototype.initSeries=function(e){e.chart=this,e.data||(e.data=this.data),e.addEventListener("layoutChange",this.scheduleLayout,this),e.addEventListener("dataChange",this.scheduleData,this),e.addEventListener("legendChange",this.updateLegend,this),e.addEventListener("nodeClick",this.onSeriesNodeClick,this)},n.prototype.freeSeries=function(e){e.chart=void 0,e.removeEventListener("layoutChange",this.scheduleLayout,this),e.removeEventListener("dataChange",this.scheduleData,this),e.removeEventListener("legendChange",this.updateLegend,this),e.removeEventListener("nodeClick",this.onSeriesNodeClick,this)},n.prototype.addSeriesAfter=function(e,o){var c=this.series,m=this.seriesRoot;if(c.indexOf(e)<0){var w=o?this.series.indexOf(o):-1;w>=0?(w+1<c.length?m.insertBefore(e.group,c[w+1].group):m.append(e.group),this.initSeries(e),c.splice(w+1,0,e)):(c.length>0?m.insertBefore(e.group,c[0].group):m.append(e.group),this.initSeries(e),c.unshift(e)),this.seriesChanged=!0,this.axesChanged=!0}return!1},n.prototype.removeSeries=function(e){var o=this.series.indexOf(e);return o>=0&&(this.series.splice(o,1),this.freeSeries(e),this.seriesRoot.removeChild(e.group),this.seriesChanged=!0,!0)},n.prototype.removeAllSeries=function(){var e=this;this.series.forEach(function(o){e.freeSeries(o),e.seriesRoot.removeChild(o.group)}),this._series=[],this.seriesChanged=!0},n.prototype.assignSeriesToAxes=function(){var e=this;this.axes.forEach(function(o){var u=o.direction+"Axis",c=[];e.series.forEach(function(m){m[u]===o&&c.push(m)}),o.boundSeries=c}),this.seriesChanged=!1},n.prototype.assignAxesToSeries=function(e){var o=this;void 0===e&&(e=!1);var u={};this.axes.forEach(function(c){var m=c.direction;(u[m]||(u[m]=[])).push(c)}),this.series.forEach(function(c){c.directions.forEach(function(m){var y=m+"Axis";if(!c[y]||e){var w=u[m];if(w){var D=o.findMatchingAxis(w,c.getKeys(m));D&&(c[y]=D)}}})}),this.axesChanged=!1},n.prototype.findMatchingAxis=function(e,o){for(var u=0;u<e.length;u++){var c=e[u],m=c.keys;if(!m.length)return c;if(o)for(var y=0;y<o.length;y++)if(m.indexOf(o[y])>=0)return c}},Object.defineProperty(n.prototype,"axesChanged",{get:function(){return this._axesChanged},set:function(e){this._axesChanged=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"seriesChanged",{get:function(){return this._seriesChanged},set:function(e){this._seriesChanged=e,e&&(this.dataPending=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"layoutPending",{get:function(){return!!this.layoutCallbackId},set:function(e){e?this.layoutCallbackId||this.dataPending||(this.layoutCallbackId=requestAnimationFrame(this._performLayout),this.series.forEach(function(o){return o.nodeDataPending=!0})):this.layoutCallbackId&&(cancelAnimationFrame(this.layoutCallbackId),this.layoutCallbackId=0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"dataPending",{get:function(){return!!this.dataCallbackId},set:function(e){var o=this;this.dataCallbackId&&(clearTimeout(this.dataCallbackId),this.dataCallbackId=0),e&&(this.dataCallbackId=window.setTimeout(function(){o.dataPending=!1,o.processData()},0))},enumerable:!0,configurable:!0}),n.prototype.processData=function(){this.layoutPending=!1,this.axesChanged&&(this.assignAxesToSeries(!0),this.assignSeriesToAxes()),this.seriesChanged&&this.assignSeriesToAxes(),this.series.forEach(function(e){return e.processData()}),this.updateLegend(),this.layoutPending=!0},n.prototype.createNodeData=function(){var e=this;this.nodeData.clear(),this.series.forEach(function(o){var u=o.visible?o.createNodeData():[];e.nodeData.set(o,u)})},n.prototype.placeLabels=function(){var e=[],o=[];this.nodeData.forEach(function(m,y){y.visible&&y.label.enabled&&(e.push(y),o.push(y.getLabelData()))});var u=this.seriesRect,c=u?function(h,n,e){void 0===e&&(e=5);var o=[];h=h.map(function(x){return x.slice().sort(function(P,R){return R.size-P.size})});for(var u=0;u<h.length;u++){var c=o[u]=[],m=h[u];if(m&&m.length&&m[0].label)for(var y=function(x,P){var R=m[x],I=R.label,V=R.point.x-.5*I.width,z=R.point.y-.5*R.size-I.height-e,Y=I.width,X=I.height;return!n||wd(n.x,n.y,n.width,n.height,V,z,Y,X)?h.some(function(se){return se.some(function(ue){return Cd(ue.point.x,ue.point.y,.5*ue.size,V,z,Y,X)})})||o.some(function(se){return se.some(function(ue){return bd(ue.x,ue.y,ue.width,ue.height,V,z,Y,X)})})?"continue":void c.push({index:x,text:I.text,x:V,y:z,width:Y,height:X}):"continue"},w=0,D=m.length;w<D;w++)y(w)}return o}(o,{x:0,y:0,width:u.width,height:u.height}):[];return new Map(c.map(function(m,y){return[e[y],m]}))},n.prototype.updateLegend=function(){var e=[];this.series.filter(function(u){return u.showInLegend}).forEach(function(u){return u.listSeriesItems(e)});var o=this.legend.item.label.formatter;o&&e.forEach(function(u){return u.label.text=o({id:u.id,itemId:u.itemId,value:u.label.text})}),this.legend.data=e},Object.defineProperty(n.prototype,"updatePending",{get:function(){return!!this.updateCallbackId},set:function(e){var o=this;this.updateCallbackId&&(clearTimeout(this.updateCallbackId),this.updateCallbackId=0),e&&!this.layoutPending&&(this.updateCallbackId=window.setTimeout(function(){o.update()},0))},enumerable:!0,configurable:!0}),n.prototype.update=function(){this.updatePending=!1,this.series.forEach(function(e){e.updatePending&&e.update()})},n.prototype.positionCaptions=function(){var o=this.title,u=this.subtitle,c=!1,m=!1,w=10;if(o&&o.enabled){o.node.x=this.width/2,o.node.y=w,c=!0;var D=o.node.computeBBox();if(D&&(w=D.y+D.height),u&&u.enabled){u.node.x=this.width/2,u.node.y=w+10,m=!0;var x=u.node.computeBBox();x&&(w=x.y+x.height)}}o&&(o.node.visible=c),u&&(u.node.visible=m),this.captionAutoPadding=Math.floor(w)},n.prototype.positionLegend=function(){if(this.legend.enabled&&this.legend.data.length){var R,e=this,o=e.legend,u=e.captionAutoPadding,c=e.legendAutoPadding,m=this.width,y=this.height-u,w=o.group,D=o.spacing,x=0,P=0;switch(o.position){case"bottom":o.performLayout(m-2*D,0),R=w.computeBBox(),w.visible=R.height<Math.floor(.5*y),w.visible?(x=(m-R.width)/2-R.x,P=u+y-R.height-R.y-D,c.bottom=R.height):c.bottom=0;break;case"top":o.performLayout(m-2*D,0),R=w.computeBBox(),w.visible=R.height<Math.floor(.5*y),w.visible?(x=(m-R.width)/2-R.x,P=u+D-R.y,c.top=R.height):c.top=0;break;case"left":o.performLayout(0,y-2*D),R=w.computeBBox(),w.visible=R.width<Math.floor(.5*m),w.visible?(x=D-R.x,P=u+(y-R.height)/2-R.y,c.left=R.width):c.left=0;break;default:o.performLayout(0,y-2*D),R=w.computeBBox(),w.visible=R.width<Math.floor(.5*m),w.visible?(x=m-R.width-R.x-D,P=u+(y-R.height)/2-R.y,c.right=R.width):c.right=0}w.visible&&(w.translationX=Math.floor(x+w.translationX),w.translationY=Math.floor(P+w.translationY),this.legendBBox=w.computeBBox())}},n.prototype.setupDomListeners=function(e){e.addEventListener("mousedown",this._onMouseDown),e.addEventListener("mousemove",this._onMouseMove),e.addEventListener("mouseup",this._onMouseUp),e.addEventListener("mouseout",this._onMouseOut),e.addEventListener("click",this._onClick)},n.prototype.cleanupDomListeners=function(e){e.removeEventListener("mousedown",this._onMouseDown),e.removeEventListener("mousemove",this._onMouseMove),e.removeEventListener("mouseup",this._onMouseUp),e.removeEventListener("mouseout",this._onMouseOut),e.removeEventListener("click",this._onClick)},n.prototype.getSeriesRect=function(){return this.seriesRect},n.prototype.pickSeriesNode=function(e,o){if(this.seriesRect&&this.seriesRect.containsPoint(e,o))for(var u=this.series,c=void 0,m=u.length-1;m>=0;m--){var y=u[m];if(y.visible&&(c=y.pickGroup.pickNode(e,o)))return{series:y,node:c}}},n.prototype.pickClosestSeriesNodeDatum=function(e,o){if(this.seriesRect&&this.seriesRect.containsPoint(e,o)){for(var y,u=this.series,m=1/0,w=function(x){var P=u[x];if(!P.visible)return"continue";var R=P.group.transformPoint(e,o);P.getNodeData().forEach(function(I){if(I.point){var N=function(x,P){return Math.sqrt(Math.pow(x.x-P.x,2)+Math.pow(x.y-P.y,2))}(R,I.point);N<m&&(m=N,y=I)}})},D=u.length-1;D>=0;D--)w(D);return y}},n.prototype.onMouseMove=function(e){this.handleLegendMouseMove(e),this.tooltip.enabled&&(this.tooltip.delay>0&&this.tooltip.toggle(!1),this.handleTooltip(e))},n.prototype.handleTooltip=function(e){var D,u=this.lastPick,c=this.tooltip.tracking,m=e.offsetX,y=e.offsetY,w=this.pickSeriesNode(m,y);if(w&&w.node instanceof us){var x=w.node;if(D=x.datum,u&&u.datum===D&&(u.node=x,u.event=e),!x.datum.point||!c)return void(u&&u.node===x?w.series.tooltip.enabled&&this.tooltip.show(e):this.onSeriesDatumPick(e,x.datum,x,e))}var P=!1;if(c){var R=this.pickClosestSeriesNodeDatum(m,y);if(R&&R.point){var I=R.point,z=this.scene.canvas,Y=R.series.group.inverseTransformPoint(I.x,I.y),X=z.element.getBoundingClientRect();this.onSeriesDatumPick({pageX:Math.round(X.left+window.pageXOffset+Y.x),pageY:Math.round(X.top+window.pageYOffset+Y.y)},R,D===R&&w?w.node:void 0,e)}else P=!0}u&&(P||!c)&&(this.dehighlightDatum(),this.tooltip.toggle(!1),this.lastPick=void 0)},n.prototype.onMouseDown=function(e){},n.prototype.onMouseUp=function(e){},n.prototype.onMouseOut=function(e){this.tooltip.toggle(!1)},n.prototype.onClick=function(e){this.checkSeriesNodeClick()||this.checkLegendClick(e)||this.fireEvent({type:"click",event:e})},n.prototype.checkSeriesNodeClick=function(){var e=this.lastPick;if(e&&e.event&&e.node){var u=e.datum;return u.series.fireNodeClickEvent(e.event,u),!0}return!1},n.prototype.onSeriesNodeClick=function(e){this.fireEvent(il(il({},e),{type:"seriesNodeClick"}))},n.prototype.checkLegendClick=function(e){var o=this.legend.getDatumForPoint(e.offsetX,e.offsetY);if(o){var u=o.id,c=o.itemId,m=o.enabled,y=ud(this.series,function(w){return w.id===u});if(y)return y.toggleSeriesItem(c,!m),m&&this.tooltip.toggle(!1),this.legend.fireEvent({type:"click",event:e,itemId:c,enabled:!m}),!0}return!1},n.prototype.handleLegendMouseMove=function(e){if(this.legend.enabled){var o=e.offsetX,u=e.offsetY,c=this.legend.getDatumForPoint(o,u);if(this.legendBBox.containsPoint(o,u))this.pointerInsideLegend||(this.pointerInsideLegend=!0);else if(this.pointerInsideLegend)return this.pointerInsideLegend=!1,void(this.highlightedDatum&&(this.highlightedDatum=void 0,this.series.forEach(function(R){return R.updatePending=!0})));var y=this.highlightedDatum;if(c){var w=c.id,D=c.itemId;if(c.enabled){var P=ud(this.series,function(R){return R.id===w});P&&(this.highlightedDatum={series:P,itemId:D,datum:void 0})}}(this.highlightedDatum&&!y||this.highlightedDatum&&y&&(this.highlightedDatum.series!==y.series||this.highlightedDatum.itemId!==y.itemId))&&this.series.forEach(function(R){return R.updatePending=!0})}},n.prototype.onSeriesDatumPick=function(e,o,u,c){var m=this.lastPick;if(m){if(m.datum===o)return;this.dehighlightDatum()}this.lastPick={datum:o,node:u,event:c},this.highlightDatum(o);var y=o.series.tooltip.enabled&&o.series.getTooltipHtml(o);y&&this.tooltip.show(e,y)},n.prototype.highlightDatum=function(e){this.scene.canvas.element.style.cursor=e.series.cursor,this.highlightedDatum=e,this.series.forEach(function(o){return o.updatePending=!0})},n.prototype.dehighlightDatum=function(){this.scene.canvas.element.style.cursor="default",this.highlightedDatum=void 0,this.series.forEach(function(e){return e.updatePending=!0})},n.defaultTooltipClass="ag-chart-tooltip",n.tooltipDocuments=[],ao([De("layoutChange")],n.prototype,"title",void 0),ao([De("layoutChange")],n.prototype,"subtitle",void 0),n}(Fr),Sb=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Zu=function(h){function n(){var e=null!==h&&h.apply(this,arguments)||this;return e.isContainerNode=!0,e.path=new Bl,e._enabled=!0,e._dirtyPath=!0,e._x=0,e._y=0,e._width=10,e._height=10,e}return Sb(n,h),n.prototype.containsPoint=function(e,o){var u=this.transformPoint(e,o);return u.x>=this.x&&u.x<=this.x+this.width&&u.y>=this.y&&u.y<=this.y+this.height},Object.defineProperty(n.prototype,"enabled",{get:function(){return this._enabled},set:function(e){this._enabled!==e&&(this._enabled=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"dirtyPath",{get:function(){return this._dirtyPath},set:function(e){this._dirtyPath!==e&&(this._dirtyPath=e,e&&(this.dirty=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"width",{get:function(){return this._width},set:function(e){this._width!==e&&(this._width=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this._height},set:function(e){this._height!==e&&(this._height=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),n.prototype.updatePath=function(){var e=this.path;e.clear(),e.rect(this.x,this.y,this.width,this.height),this.dirtyPath=!1},n.prototype.computeBBox=function(){var e=this;return new dr(e.x,e.y,e.width,e.height)},n.prototype.render=function(e){this.enabled&&(this.dirtyPath&&this.updatePath(),this.path.draw(e),e.clip());for(var o=this.children,u=o.length,c=0;c<u;c++){e.save();var m=o[c];m.visible&&m.render(e),e.restore()}},n.className="ClipRect",n}(Ks),Eb=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),oh=function(h){function n(){var e=null!==h&&h.apply(this,arguments)||this;return e._fill="#f2f2f2",e._stroke="#999999",e._strokeWidth=1,e._lineCap="square",e._centerX=0,e._centerY=0,e._width=8,e._gripLineGap=2,e._gripLineLength=8,e._height=16,e}return Eb(n,h),Object.defineProperty(n.prototype,"centerX",{get:function(){return this._centerX},set:function(e){this._centerX!==e&&(this._centerX=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"centerY",{get:function(){return this._centerY},set:function(e){this._centerY!==e&&(this._centerY=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"width",{get:function(){return this._width},set:function(e){this._width!==e&&(this._width=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"gripLineGap",{get:function(){return this._gripLineGap},set:function(e){this._gripLineGap!==e&&(this._gripLineGap=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"gripLineLength",{get:function(){return this._gripLineLength},set:function(e){this._gripLineLength!==e&&(this._gripLineLength=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this._height},set:function(e){this._height!==e&&(this._height=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),n.prototype.computeBBox=function(){var e=this,c=e.width,m=e.height;return new dr(e.centerX-c/2,e.centerY-m/2,c,m)},n.prototype.isPointInPath=function(e,o){var u=this.transformPoint(e,o);return this.computeBBox().containsPoint(u.x,u.y)},n.prototype.updatePath=function(){var e=this,o=e.path,u=e.centerX,c=e.centerY,m=e.width,y=e.height,D=this.alignment,x=this.align;o.clear();var P=u-m/2,R=c-y/2,I=x(D,P),N=x(D,R),V=I+x(D,P,m),z=N+x(D,R,y);o.moveTo(I,N),o.lineTo(V,N),o.lineTo(V,z),o.lineTo(I,z),o.lineTo(I,N);var Y=this.gripLineGap/2,X=this.gripLineLength/2;o.moveTo(x(D,u-Y),x(D,c-X)),o.lineTo(x(D,u-Y),x(D,c+X)),o.moveTo(x(D,u+Y),x(D,c-X)),o.lineTo(x(D,u+Y),x(D,c+X))},n.className="RangeHandle",n}(Ia),Dy=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Db=function(h){function n(){var e=null!==h&&h.apply(this,arguments)||this;return e._stroke="#999999",e._strokeWidth=1,e._fill="#999999",e._fillOpacity=.2,e._lineCap="square",e._x=0,e._y=0,e._width=200,e._height=30,e.minRange=.05,e._min=0,e._max=1,e}return Dy(n,h),Object.defineProperty(n.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"width",{get:function(){return this._width},set:function(e){this._width!==e&&(this._width=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this._height},set:function(e){this._height!==e&&(this._height=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"min",{get:function(){return this._min},set:function(e){e=Math.min(Math.max(e,0),this.max-this.minRange),!isNaN(e)&&this._min!==e&&(this._min=e,this.dirtyPath=!0,this.onRangeChange&&this.onRangeChange(e,this.max))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"max",{get:function(){return this._max},set:function(e){e=Math.max(Math.min(e,1),this.min+this.minRange),!isNaN(e)&&this._max!==e&&(this._max=e,this.dirtyPath=!0,this.onRangeChange&&this.onRangeChange(this.min,e))},enumerable:!0,configurable:!0}),n.prototype.computeBBox=function(){var e=this;return new dr(e.x,e.y,e.width,e.height)},n.prototype.computeVisibleRangeBBox=function(){var e=this,o=e.x,c=e.width,D=o+c*e.min;return new dr(D,e.y,o+c*e.max-D,e.height)},n.prototype.updatePath=function(){var e=this,o=e.path,u=e.x,c=e.y,m=e.width,y=e.height,w=e.min,D=e.max,P=this.alignment,R=this.align;o.clear();var I=R(P,u),N=R(P,c),V=I+R(P,u,m),z=N+R(P,c,y);o.moveTo(I,N),o.lineTo(V,N),o.lineTo(V,z),o.lineTo(I,z),o.lineTo(I,N);var Y=R(P,u+m*w),X=R(P,u+m*D);o.moveTo(Y,N),o.lineTo(Y,z),o.lineTo(X,z),o.lineTo(X,N),o.lineTo(Y,N)},n.className="RangeMask",n}(Ia),fE=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),ut=function(h){function n(){var e=null!==h&&h.apply(this,arguments)||this;return e.isContainerNode=!0,e.minHandle=new oh,e.maxHandle=new oh,e.mask=function(){var o=n.defaults,u=o.x,c=o.y,m=o.width,y=o.height,w=o.min,D=o.max,x=new Db;x.x=u,x.y=c,x.width=m,x.height=y,x.min=w,x.max=D;var R=e.minHandle,I=e.maxHandle;return R.centerX=u,I.centerX=u+m,R.centerY=I.centerY=c+y/2,e.append([x,R,I]),x.onRangeChange=function(N,V){e.updateHandles(),e.onRangeChange&&e.onRangeChange(N,V)},x}(),e._x=n.defaults.x,e._y=n.defaults.y,e._width=n.defaults.width,e._height=n.defaults.height,e._min=n.defaults.min,e._max=n.defaults.max,e}return fE(n,h),Object.defineProperty(n.prototype,"x",{get:function(){return this.mask.x},set:function(e){this.mask.x=e,this.updateHandles()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"y",{get:function(){return this.mask.y},set:function(e){this.mask.y=e,this.updateHandles()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"width",{get:function(){return this.mask.width},set:function(e){this.mask.width=e,this.updateHandles()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this.mask.height},set:function(e){this.mask.height=e,this.updateHandles()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"min",{get:function(){return this.mask.min},set:function(e){this.mask.min=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"max",{get:function(){return this.mask.max},set:function(e){this.mask.max=e},enumerable:!0,configurable:!0}),n.prototype.updateHandles=function(){var e=this,o=e.minHandle,u=e.maxHandle,c=e.x,m=e.y,y=e.width,w=e.height,D=e.mask;o.centerX=c+y*D.min,u.centerX=c+y*D.max,o.centerY=u.centerY=m+w/2},n.prototype.computeBBox=function(){return this.mask.computeBBox()},n.prototype.computeVisibleRangeBBox=function(){return this.mask.computeVisibleRangeBBox()},n.prototype.render=function(e){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e);var o=this;[o.mask,o.minHandle,o.maxHandle].forEach(function(y){e.save(),y.visible&&y.render(e),e.restore()})},n.className="Range",n.defaults={x:0,y:0,width:200,height:30,min:0,max:1},n}(Nr),gg=function(){function h(n){this.rm=n}return Object.defineProperty(h.prototype,"fill",{get:function(){return this.rm.fill},set:function(n){this.rm.fill=n},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"stroke",{get:function(){return this.rm.stroke},set:function(n){this.rm.stroke=n},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"strokeWidth",{get:function(){return this.rm.strokeWidth},set:function(n){this.rm.strokeWidth=n},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"fillOpacity",{get:function(){return this.rm.fillOpacity},set:function(n){this.rm.fillOpacity=n},enumerable:!0,configurable:!0}),h}(),Tr=function(){function h(n){this.rh=n}return Object.defineProperty(h.prototype,"fill",{get:function(){return this.rh.fill},set:function(n){this.rh.fill=n},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"stroke",{get:function(){return this.rh.stroke},set:function(n){this.rh.stroke=n},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"strokeWidth",{get:function(){return this.rh.strokeWidth},set:function(n){this.rh.strokeWidth=n},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"width",{get:function(){return this.rh.width},set:function(n){this.rh.width=n},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"height",{get:function(){return this.rh.height},set:function(n){this.rh.height=n},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"gripLineGap",{get:function(){return this.rh.gripLineGap},set:function(n){this.rh.gripLineGap=n},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"gripLineLength",{get:function(){return this.rh.gripLineLength},set:function(n){this.rh.gripLineLength=n},enumerable:!0,configurable:!0}),h}(),Oy=function(){function h(n){var e=this;this.rs=new ut,this.mask=new gg(this.rs.mask),this.minHandle=new Tr(this.rs.minHandle),this.maxHandle=new Tr(this.rs.maxHandle),this.minHandleDragging=!1,this.maxHandleDragging=!1,this.panHandleOffset=NaN,this._margin=10,this.chart=n,n.scene.root.append(this.rs),this.rs.onRangeChange=function(o,u){return e.updateAxes(o,u)}}return Object.defineProperty(h.prototype,"enabled",{get:function(){return this.rs.visible},set:function(n){this.rs.visible=n,this.chart.layoutPending=!0},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"x",{get:function(){return this.rs.x},set:function(n){this.rs.x=n},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"y",{get:function(){return this.rs.y},set:function(n){this.rs.y=n},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"width",{get:function(){return this.rs.width},set:function(n){this.rs.width=n},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"height",{get:function(){return this.rs.height},set:function(n){this.rs.height=n,this.chart.layoutPending=!0},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"margin",{get:function(){return this._margin},set:function(n){this._margin=n,this.chart.layoutPending=!0},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"min",{get:function(){return this.rs.min},set:function(n){this.rs.min=n},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"max",{get:function(){return this.rs.max},set:function(n){this.rs.max=n},enumerable:!0,configurable:!0}),h.prototype.updateAxes=function(n,e){var o=this.chart,u=!1;o.axes.forEach(function(c){c.direction===kn.X&&(!u&&(n>0||e<1)&&(u=!0),c.visibleRange=[n,e],c.update())}),o.seriesRoot.enabled=u,o.series.forEach(function(c){return c.nodeDataPending=!0})},h.prototype.onDragStart=function(n){if(this.enabled){var e=n.offsetX,o=n.offsetY,u=this.rs,c=u.minHandle,m=u.maxHandle,y=u.x,w=u.width,D=u.min,x=u.computeVisibleRangeBBox();this.minHandleDragging||this.maxHandleDragging||(c.containsPoint(e,o)?this.minHandleDragging=!0:m.containsPoint(e,o)?this.maxHandleDragging=!0:x.containsPoint(e,o)&&(this.panHandleOffset=(e-y)/w-D))}},h.prototype.onDrag=function(n){if(this.enabled){var o=this.rs,u=this.panHandleOffset,c=o.x,y=o.width,D=o.minHandle,x=o.maxHandle,P=this.chart.element.style,R=n.offsetX,I=n.offsetY,N=c+y*o.min,z=new dr(N,o.y,c+y*o.max-N,o.height);if(P.cursor=D.containsPoint(R,I)||x.containsPoint(R,I)?"ew-resize":z.containsPoint(R,I)?"grab":"default",this.minHandleDragging)o.min=Y();else if(this.maxHandleDragging)o.max=Y();else if(!isNaN(u)){var X=o.max-o.min,q=Math.min(Y()-u,1-X);q<=o.min?(o.min=q,o.max=o.min+X):(o.max=q+X,o.min=o.max-X)}}function Y(){return Math.min(Math.max((R-c)/y,0),1)}},h.prototype.onDragStop=function(){this.stopHandleDragging()},h.prototype.stopHandleDragging=function(){this.minHandleDragging=this.maxHandleDragging=!1,this.panHandleOffset=NaN},h}(),Ob=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),gE=function(h,n){var e="function"==typeof Symbol&&h[Symbol.iterator];if(!e)return h;var u,m,o=e.call(h),c=[];try{for(;(void 0===n||n-- >0)&&!(u=o.next()).done;)c.push(u.value)}catch(y){m={error:y}}finally{try{u&&!u.done&&(e=o.return)&&e.call(o)}finally{if(m)throw m.error}}return c},xy=function(h){function n(e){void 0===e&&(e=window.document);var o=h.call(this,e)||this;o._seriesRoot=new Zu,o.navigator=new Oy(o),o.scene.root.visible=!1;var u=o.scene.root;return u.append(o.seriesRoot),u.append(o.legend.group),o.navigator.enabled=!1,o}return Ob(n,h),Object.defineProperty(n.prototype,"seriesRoot",{get:function(){return this._seriesRoot},enumerable:!0,configurable:!0}),n.prototype.performLayout=function(){if(!this.dataPending){this.scene.root.visible=!0;var e=this,c=e.axes,m=e.legend,y=e.navigator,w=new dr(0,0,e.width,e.height);if(this.positionCaptions(),this.positionLegend(),m.enabled&&m.data.length){var D=this.legendAutoPadding,x=this.legend.spacing;switch(w.x+=D.left,w.y+=D.top,w.width-=D.left+D.right,w.height-=D.top+D.bottom,this.legend.position){case"right":w.width-=x;break;case"bottom":w.height-=x;break;case"left":w.x+=x,w.width-=x;break;case"top":w.y+=x,w.height-=x}}var R=this.captionAutoPadding,I=this.padding;this.updateAxes(),w.x+=I.left,w.width-=I.left+I.right,w.y+=I.top+R,w.height-=I.top+R+I.bottom,y.enabled&&(w.height-=y.height+y.margin);var N=0,V={top:!1,right:!1,bottom:!1,left:!1,angle:!1,radius:!1};c.forEach(function(Y){Y.group.visible=!0;var X=Math.floor(Y.thickness||Y.computeBBox().width);switch(V[Y.position]&&(X+=Y.title&&Y.title.padding.top||15),Y.position){case dn.Top:V[dn.Top]=!0,w.y+=X,w.height-=X,Y.translation.y=Math.floor(w.y+1),Y.label.mirrored=!0;break;case dn.Right:V[dn.Right]=!0,w.width-=X,Y.translation.x=Math.floor(w.x+w.width),Y.label.mirrored=!0;break;case dn.Bottom:V[dn.Bottom]=!0,w.height-=X,N+=X,Y.translation.y=Math.floor(w.y+w.height+1);break;case dn.Left:V[dn.Left]=!0,w.x+=X,w.width-=X,Y.translation.x=Math.floor(w.x)}}),c.forEach(function(Y){switch(Y.position){case dn.Top:case dn.Bottom:Y.translation.x=Math.floor(w.x),Y.range=[0,w.width],Y.gridLength=w.height;break;case dn.Left:case dn.Right:Y.translation.y=Math.floor(w.y),Y.range=Y instanceof Ul||Y instanceof fd?[0,w.height]:[w.height,0],Y.gridLength=w.width}}),this.createNodeData(),this.seriesRect=w,this.series.forEach(function(Y){Y.group.translationX=Math.floor(w.x),Y.group.translationY=Math.floor(w.y),Y.update()});var z=this.seriesRoot;z.x=w.x,z.y=w.y,z.width=w.width,z.height=w.height,y.enabled&&(y.x=w.x,y.y=w.y+w.height+N+y.margin,y.width=w.width),this.axes.forEach(function(Y){return Y.update()})}},n.prototype.initSeries=function(e){h.prototype.initSeries.call(this,e)},n.prototype.freeSeries=function(e){h.prototype.freeSeries.call(this,e)},n.prototype.setupDomListeners=function(e){h.prototype.setupDomListeners.call(this,e),this._onTouchStart=this.onTouchStart.bind(this),this._onTouchMove=this.onTouchMove.bind(this),this._onTouchEnd=this.onTouchEnd.bind(this),this._onTouchCancel=this.onTouchCancel.bind(this),e.addEventListener("touchstart",this._onTouchStart,{passive:!0}),e.addEventListener("touchmove",this._onTouchMove,{passive:!0}),e.addEventListener("touchend",this._onTouchEnd,{passive:!0}),e.addEventListener("touchcancel",this._onTouchCancel,{passive:!0})},n.prototype.cleanupDomListeners=function(e){h.prototype.cleanupDomListeners.call(this,e),e.removeEventListener("touchstart",this._onTouchStart),e.removeEventListener("touchmove",this._onTouchMove),e.removeEventListener("touchend",this._onTouchEnd),e.removeEventListener("touchcancel",this._onTouchCancel)},n.prototype.getTouchOffset=function(e){var o=this.scene.canvas.element.getBoundingClientRect(),u=e.touches[0];return u?{offsetX:u.clientX-o.left,offsetY:u.clientY-o.top}:void 0},n.prototype.onTouchStart=function(e){var o=this.getTouchOffset(e);o&&this.navigator.onDragStart(o)},n.prototype.onTouchMove=function(e){var o=this.getTouchOffset(e);o&&this.navigator.onDrag(o)},n.prototype.onTouchEnd=function(e){this.navigator.onDragStop()},n.prototype.onTouchCancel=function(e){this.navigator.onDragStop()},n.prototype.onMouseDown=function(e){h.prototype.onMouseDown.call(this,e),this.navigator.onDragStart(e)},n.prototype.onMouseMove=function(e){h.prototype.onMouseMove.call(this,e),this.navigator.onDrag(e)},n.prototype.onMouseUp=function(e){h.prototype.onMouseUp.call(this,e),this.navigator.onDragStop()},n.prototype.onMouseOut=function(e){h.prototype.onMouseOut.call(this,e),this.navigator.onDragStop()},n.prototype.assignAxesToSeries=function(e){void 0===e&&(e=!1),h.prototype.assignAxesToSeries.call(this,e),this.series.forEach(function(o){o.xAxis||console.warn("Could not find a matching xAxis for the "+o.id+" series."),o.yAxis||console.warn("Could not find a matching yAxis for the "+o.id+" series.")})},n.prototype.updateAxes=function(){var u,e=this.navigator,o=!1;this.axes.forEach(function(c){var m,y=c.direction,w=c.boundSeries;if(c.linkedTo)c.domain=c.linkedTo.domain;else{var D=[];w.filter(function(R){return R.visible}).forEach(function(R){D.push(R.getDomain(y))});var x=(m=new Array).concat.apply(m,function(){for(var h=[],n=0;n<arguments.length;n++)h=h.concat(gE(arguments[n]));return h}(D));c instanceof ra&&"y"===c.direction?(c.setDomain(x,u),u=u||c.scale.ticks(c.tick.count).length):c.domain=x}c.direction===kn.X&&(c.visibleRange=[e.min,e.max]),!o&&(c.visibleRange[0]>0||c.visibleRange[1]<1)&&(o=!0),c.update()}),this.seriesRoot.enabled=o},n.className="CartesianChart",n.type="cartesian",n}(so),xb=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Dd=function(h){function n(e){void 0===e&&(e=window.document);var o=h.call(this,e)||this;o._data={},o._seriesRoot=new Zu,o.scene.root.visible=!1;var u=o.scene.root;return u.append(o.seriesRoot),u.append(o.legend.group),o}return xb(n,h),Object.defineProperty(n.prototype,"seriesRoot",{get:function(){return this._seriesRoot},enumerable:!0,configurable:!0}),n.prototype.performLayout=function(){if(!this.dataPending){this.scene.root.visible=!0;var e=this,c=e.legend,m=new dr(0,0,e.width,e.height);if(this.positionCaptions(),this.positionLegend(),c.enabled&&c.data.length){var y=this.legendAutoPadding,w=this.legend.spacing;switch(m.x+=y.left,m.y+=y.top,m.width-=y.left+y.right,m.height-=y.top+y.bottom,this.legend.position){case"right":m.width-=w;break;case"bottom":m.height-=w;break;case"left":m.x+=w,m.width-=w;break;case"top":m.y+=w,m.height-=w}}var x=this.captionAutoPadding,P=this.padding;m.x+=P.left,m.width-=P.left+P.right,m.y+=P.top+x,m.height-=P.top+x+P.bottom,this.seriesRect=m,this.series.forEach(function(I){I.group.translationX=Math.floor(m.x),I.group.translationY=Math.floor(m.y),I.update()});var R=this.seriesRoot;R.x=m.x,R.y=m.y,R.width=m.width,R.height=m.height}},n.className="HierarchyChart",n.type="hierarchy",n}(so),Ab=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),LD=function(h,n){var e="function"==typeof Symbol&&h[Symbol.iterator];if(!e)return h;var u,m,o=e.call(h),c=[];try{for(;(void 0===n||n-- >0)&&!(u=o.next()).done;)c.push(u.value)}catch(y){m={error:y}}finally{try{u&&!u.done&&(e=o.return)&&e.call(o)}finally{if(m)throw m.error}}return c},sh=function(h){function n(){return null!==h&&h.apply(this,arguments)||this}return Ab(n,h),n.prototype.updateAxes=function(){this.axes.forEach(function(e){var o,u=e.direction,m=[],y=void 0;e.boundSeries.filter(function(D){return D.visible}).forEach(function(D){if(u===kn.X)if(void 0===y){var x=D.getDomain(u);m.push(x),y="number"==typeof x[0]}else y&&m.push(D.getDomain(u));else m.push(D.getDomain(u))});var w=(o=new Array).concat.apply(o,function(){for(var h=[],n=0;n<arguments.length;n++)h=h.concat(LD(arguments[n]));return h}(m));e.domain=cs(w,na)||w,e.update()})},n.className="GroupedCategoryChart",n.type="groupedCategory",n}(xy),mg=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Od=function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);return u>3&&c&&Object.defineProperty(n,e,c),c},lo=function(h){function n(){var e=h.call(this)||this;return e.enabled=!0,e.fontSize=12,e.fontFamily="Verdana, sans-serif",e.color="rgba(70, 70, 70, 1)",e}return mg(n,h),n.prototype.getFont=function(){return HC(this.fontSize,this.fontFamily,this.fontStyle,this.fontWeight)},Od([De("change","dataChange")],n.prototype,"enabled",void 0),Od([De("change")],n.prototype,"fontSize",void 0),Od([De("change")],n.prototype,"fontFamily",void 0),Od([De("change")],n.prototype,"fontStyle",void 0),Od([De("change")],n.prototype,"fontWeight",void 0),Od([De("change")],n.prototype,"color",void 0),n}(Fr),mE=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),xd=function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);return u>3&&c&&Object.defineProperty(n,e,c),c},Rb=function(h,n){var e="function"==typeof Symbol&&h[Symbol.iterator];if(!e)return h;var u,m,o=e.call(h),c=[];try{for(;(void 0===n||n-- >0)&&!(u=o.next()).done;)c.push(u.value)}catch(y){m={error:y}}finally{try{u&&!u.done&&(e=o.return)&&e.call(o)}finally{if(m)throw m.error}}return c},kD=function(){this.fill="yellow",this.stroke=void 0,this.strokeWidth=void 0},vg=function(){this.strokeWidth=void 0,this.dimOpacity=void 0},ql=function(){this.fill=void 0,this.stroke=void 0,this.strokeWidth=void 0,this.item=new kD,this.series=new vg},Xl=function(h){function n(){var e=null!==h&&h.apply(this,arguments)||this;return e.enabled=!0,e}return mE(n,h),xd([De("change")],n.prototype,"enabled",void 0),n}(Fr),Ql=function(h){function n(){var e=null!==h&&h.apply(this,arguments)||this;return e.id=Jo(e),e.group=new Nr,e.pickGroup=e.group.appendChild(new Nr),e.directions=[kn.X,kn.Y],e.directionKeys={},e.label=new lo,e.data=void 0,e.visible=!0,e.showInLegend=!0,e.cursor="default",e._nodeDataPending=!0,e._updatePending=!1,e.highlightStyle=new ql,e.scheduleLayout=function(){e.fireEvent({type:"layoutChange"})},e.scheduleData=function(){e.fireEvent({type:"dataChange"})},e}return mE(n,h),Object.defineProperty(n.prototype,"type",{get:function(){return this.constructor.type||""},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"grouped",{set:function(e){if(!0===e)throw new Error("AG Charts - grouped: true is unsupported for series of type: "+this.type)},enumerable:!0,configurable:!0}),n.prototype.setColors=function(e,o){},n.prototype.getKeys=function(e){var o=this,u=this.directionKeys,c=u&&u[e],m=[];return c&&c.forEach(function(y){var w=o[y];w&&(Array.isArray(w)?m.push.apply(m,function(){for(var h=[],n=0;n<arguments.length;n++)h=h.concat(Rb(arguments[n]));return h}(w)):m.push(w))}),m},n.prototype.createNodeData=function(){return[]},n.prototype.getNodeData=function(){return[]},n.prototype.getLabelData=function(){return[]},Object.defineProperty(n.prototype,"nodeDataPending",{get:function(){return this._nodeDataPending},set:function(e){this._nodeDataPending!==e&&(this._nodeDataPending=e,this.updatePending=!0,e&&this.chart&&(this.chart.updatePending=e))},enumerable:!0,configurable:!0}),n.prototype.scheduleNodeDate=function(){this.nodeDataPending=!0},Object.defineProperty(n.prototype,"updatePending",{get:function(){return this._updatePending},set:function(e){this._updatePending!==e&&(this._updatePending=e,e&&this.chart&&(this.chart.updatePending=e))},enumerable:!0,configurable:!0}),n.prototype.scheduleUpdate=function(){this.updatePending=!0},n.prototype.getOpacity=function(e){var u=this.chart,c=this.highlightStyle.series.dimOpacity;return u&&u.highlightedDatum&&(u.highlightedDatum.series!==this||e&&u.highlightedDatum.itemId!==e.itemId)?void 0===c?1:c:1},n.prototype.getStrokeWidth=function(e,o){var c=this.chart,m=this.highlightStyle.series.strokeWidth;return!c||!c.highlightedDatum||c.highlightedDatum.series!==this||o&&c.highlightedDatum.itemId!==o.itemId||void 0===m?e:m},n.prototype.fireNodeClickEvent=function(e,o){},n.prototype.toggleSeriesItem=function(e,o){this.visible=o},n.prototype.onHighlightChange=function(){},n.prototype.fixNumericExtent=function(e,o){if(!e)return[0,1];var u=Rb(e,2),c=u[0],m=u[1];if((c=+c)==(m=+m)){var y=Math.abs(.01*c);c-=y,m+=y}return br(c)&&br(m)||(c=0,m=1),[c,m]},n.highlightedZIndex=1e12,xd([De("dataChange")],n.prototype,"data",void 0),xd([De("dataChange")],n.prototype,"visible",void 0),xd([De("layoutChange")],n.prototype,"showInLegend",void 0),n}(Fr),vE=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),oa=function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);return u>3&&c&&Object.defineProperty(n,e,c),c},lh=function(h){function n(){var e=null!==h&&h.apply(this,arguments)||this;return e.enabled=!0,e.shape=Cb,e.size=6,e.maxSize=30,e.strokeWidth=1,e}return vE(n,h),oa([De("change")],n.prototype,"enabled",void 0),oa([De("change")],n.prototype,"shape",void 0),oa([De("change")],n.prototype,"size",void 0),oa([De("change")],n.prototype,"maxSize",void 0),oa([De("change")],n.prototype,"domain",void 0),oa([De("change")],n.prototype,"fill",void 0),oa([De("change")],n.prototype,"stroke",void 0),oa([De("change")],n.prototype,"strokeWidth",void 0),oa([De("change")],n.prototype,"fillOpacity",void 0),oa([De("change")],n.prototype,"strokeOpacity",void 0),n}(Fr),Ay=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Zl=function(h){function n(){var e,o=null!==h&&h.apply(this,arguments)||this;return o.directionKeys=((e={})[kn.X]=["angleKey"],e[kn.Y]=["radiusKey"],e),o.centerX=0,o.centerY=0,o.radius=0,o}return Ay(n,h),n}(Ql),yg=(function(h){Ay(function(){return null!==h&&h.apply(this,arguments)||this},h)}(lh),function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}()),Mb=function(h){function n(e){void 0===e&&(e=window.document);var o=h.call(this,e)||this;return o.padding=new Po(40),o.scene.root.append(o.legend.group),o.padding.addEventListener("layoutChange",o.scheduleLayout,o),o}return yg(n,h),Object.defineProperty(n.prototype,"seriesRoot",{get:function(){return this.scene.root},enumerable:!0,configurable:!0}),n.prototype.performLayout=function(){var e=new dr(0,0,this.width,this.height);this.positionCaptions(),this.positionLegend();var o=this.captionAutoPadding;if(e.y+=o,e.height-=o,this.legend.enabled&&this.legend.data.length){var u=this.legendAutoPadding;e.x+=u.left,e.y+=u.top,e.width-=u.left+u.right,e.height-=u.top+u.bottom;var c=this.legend.spacing;switch(this.legend.position){case"right":e.width-=c;break;case"bottom":e.height-=c;break;case"left":e.x+=c,e.width-=c;break;case"top":e.y+=c,e.height-=c}}var m=this.padding;e.x+=m.left,e.y+=m.top,e.width-=m.left+m.right,e.height-=m.top+m.bottom,this.seriesRect=e;var y=e.x+e.width/2,w=e.y+e.height/2,D=Math.max(0,Math.min(e.width,e.height)/2);this.series.forEach(function(x){x instanceof Zl&&(x.centerX=y,x.centerY=w,x.radius=D,x.update())})},n.className="PolarChart",n.type="polar",n}(so),Fb=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),uh=function(h){function n(){var e,o=null!==h&&h.apply(this,arguments)||this;return o.directionKeys=((e={})[kn.X]=["xKey"],e[kn.Y]=["yKey"],e),o}return Fb(n,h),n.prototype.checkDomainXY=function(e,o,u,c){return(u&&na(e)||Io(e))&&(c&&na(o)||Io(o))?[e,o]:void 0},n.prototype.checkRangeXY=function(e,o,u,c){return!isNaN(e)&&!isNaN(o)&&u.inRange(e)&&c.inRange(o)},n}(Ql),aa=function(h){function n(){return null!==h&&h.apply(this,arguments)||this}return Fb(n,h),n}(lh);function _g(h,n){if(h===n)return!0;if(h&&n&&"object"==typeof h&&"object"==typeof n){if(h.constructor!==n.constructor)return!1;var e,o=void 0;if(Array.isArray(h)){if((e=h.length)!=n.length)return!1;for(o=e;0!=o--;)if(!_g(h[o],n[o]))return!1;return!0}if(h.constructor===RegExp)return h.source===n.source&&h.flags===n.flags;if(h.valueOf!==Object.prototype.valueOf)return h.valueOf()===n.valueOf();if(h.toString!==Object.prototype.toString)return h.toString()===n.toString();var u=Object.keys(h);if((e=u.length)!==Object.keys(n).length)return!1;for(o=e;0!=o--;)if(!Object.prototype.hasOwnProperty.call(n,u[o]))return!1;for(o=e;0!=o--;){var c=u[o];if(!_g(h[c],n[c]))return!1}return!0}return h!=h&&n!=n}var Ty=function(h,n){var e="function"==typeof Symbol&&h[Symbol.iterator];if(!e)return h;var u,m,o=e.call(h),c=[];try{for(;(void 0===n||n-- >0)&&!(u=o.next()).done;)c.push(u.value)}catch(y){m={error:y}}finally{try{u&&!u.done&&(e=o.return)&&e.call(o)}finally{if(m)throw m.error}}return c},Ib=/(#\{(.*?)\})/g;function Cg(h,n,e){return h.replace(Ib,function(){var o=arguments[2],u=Ty(o.split(":"),2),c=u[0],m=u[1],y=n[c];if("number"==typeof y){if(w=m&&e&&e[m]){var D=w,x=D.locales,P=D.options;return y.toLocaleString(x,P)}return String(y)}if(y instanceof Date){var w;if("string"==typeof(w=m&&e&&e[m])){var R=cg.format(w);return R(y)}return y.toDateString()}return"string"==typeof y||y&&y.toString?String(y):""})}var li=null;function Kn(h){return li=li||document.createElement("div"),h?(li.innerText=h,li.innerHTML):""}var Ry=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),sa=function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);return u>3&&c&&Object.defineProperty(n,e,c),c},Nb=function(h){function n(){return null!==h&&h.apply(this,arguments)||this}return Ry(n,h),sa([De("change")],n.prototype,"formatter",void 0),n}(lo),ze=function(h){function n(){return null!==h&&h.apply(this,arguments)||this}return Ry(n,h),sa([De("change")],n.prototype,"renderer",void 0),sa([De("change")],n.prototype,"format",void 0),n}(Xl),ol=function(h){function n(){var e=h.call(this)||this;e.tooltip=new ze,e.areaGroup=e.group.insertBefore(new Nr,e.pickGroup),e.strokeGroup=e.group.insertBefore(new Nr,e.pickGroup),e.markerGroup=e.pickGroup.appendChild(new Nr),e.labelGroup=e.group.appendChild(new Nr),e.fillSelection=si.select(e.areaGroup).selectAll(),e.strokeSelection=si.select(e.strokeGroup).selectAll(),e.markerSelection=si.select(e.markerGroup).selectAll(),e.labelSelection=si.select(e.labelGroup).selectAll(),e.seriesItemEnabled=new Map,e.xData=[],e.yData=[],e.areaSelectionData=[],e.markerSelectionData=[],e.labelSelectionData=[],e.yDomain=[],e.directionKeys={x:["xKey"],y:["yKeys"]},e.marker=new aa,e.label=new Nb,e.fills=["#c16068","#a2bf8a","#ebcc87","#80a0c3","#b58dae","#85c0d1"],e.strokes=["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"],e.fillOpacity=1,e.strokeOpacity=1,e.lineDash=[0],e.lineDashOffset=0,e._xKey="",e.xName="",e._yKeys=[],e.yNames=[],e.strokeWidth=2,e.addEventListener("update",e.scheduleUpdate);var u=e.marker,c=e.label;return u.enabled=!1,u.addPropertyListener("shape",e.onMarkerShapeChange,e),u.addEventListener("change",e.scheduleUpdate,e),c.enabled=!1,c.addEventListener("change",e.scheduleUpdate,e),e}return Ry(n,h),n.prototype.onMarkerShapeChange=function(){this.markerSelection=this.markerSelection.setData([]),this.markerSelection.exit.remove(),this.fireEvent({type:"legendChange"})},Object.defineProperty(n.prototype,"xKey",{get:function(){return this._xKey},set:function(e){this._xKey!==e&&(this._xKey=e,this.xData=[],this.scheduleData())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"yKeys",{get:function(){return this._yKeys},set:function(e){if(!_g(this._yKeys,e)){this._yKeys=e,this.yData=[];var o=this.seriesItemEnabled;o.clear(),e.forEach(function(u){return o.set(u,!0)}),this.scheduleData()}},enumerable:!0,configurable:!0}),n.prototype.setColors=function(e,o){this.fills=e,this.strokes=o},Object.defineProperty(n.prototype,"normalizedTo",{get:function(){return this._normalizedTo},set:function(e){var o=e?Math.abs(e):void 0;this._normalizedTo!==o&&(this._normalizedTo=o,this.scheduleData())},enumerable:!0,configurable:!0}),n.prototype.processData=function(){var e=this,o=e.xKey,u=e.yKeys,c=e.seriesItemEnabled,m=o&&u.length&&this.data?this.data:[],y=!0;this.xData=m.map(function(z){return y&&!(o in z)&&(y=!1,console.warn("The key '"+o+"' was not found in the data: ",z)),z[o]}),this.yData=m.map(function(z){return u.map(function(Y){y&&!(Y in z)&&(y=!1,console.warn("The key '"+Y+"' was not found in the data: ",z));var X=z[Y];return isFinite(X)&&c.get(Y)?X:0})});var N,V,D=this.yData,x=this.normalizedTo,P=D.map(function(z){return Kf(z)}),R=this.findLargestMinMax(P),I=this.yData.map(function(z){return z.reduce(function(Y,X){return Y+Math.abs(X)},0)});return x&&isFinite(x)?(N=R.min<0?-x:0,V=R.max>0?x:0,D.forEach(function(z,Y){return z.forEach(function(X,q){return z[q]=X/I[Y]*x})})):(N=R.min,V=R.max),0===N&&0===V&&(V=1),this.yDomain=this.fixNumericExtent([N,V],"y"),this.fireEvent({type:"dataProcessed"}),!0},n.prototype.findLargestMinMax=function(e){var o,u,c=0,m=0;try{for(var y=function(h){var n="function"==typeof Symbol&&Symbol.iterator,e=n&&h[n],o=0;if(e)return e.call(h);if(h&&"number"==typeof h.length)return{next:function(){return h&&o>=h.length&&(h=void 0),{value:h&&h[o++],done:!h}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),w=y.next();!w.done;w=y.next()){var D=w.value;D.min<c&&(c=D.min),D.max>m&&(m=D.max)}}catch(x){o={error:x}}finally{try{w&&!w.done&&(u=y.return)&&u.call(y)}finally{if(o)throw o.error}}return{min:c,max:m}},n.prototype.getDomain=function(e){return e===kn.X?this.xData:this.yDomain},n.prototype.update=function(){this.updatePending=!1,this.updateSelections(),this.updateNodes()},n.prototype.updateSelections=function(){!this.nodeDataPending||(this.nodeDataPending=!1,this.createSelectionData(),this.updateFillSelection(),this.updateStrokeSelection(),this.updateMarkerSelection(),this.updateLabelSelection())},n.prototype.updateNodes=function(){this.group.visible=this.visible&&this.xData.length>0&&this.yData.length>0,this.updateFillNodes(),this.updateStrokeNodes(),this.updateMarkerNodes(),this.updateLabelNodes()},n.prototype.createSelectionData=function(){var e=this,o=this,u=o.data,c=o.xAxis,m=o.yAxis,y=o.xData,w=o.yData,D=o.areaSelectionData,x=o.markerSelectionData,P=o.labelSelectionData;if(u&&c&&m&&y.length&&w.length){var R=this,I=R.yKeys,N=R.marker,V=R.label,z=R.fills,Y=R.strokes,X=c.scale,q=m.scale,ie=(X.bandwidth||0)/2,ce=(q.bandwidth||0)/2,se=2*y.length-1;D.length=0,x.length=0,P.length=0,y.forEach(function(ue,fe){var ye=w[fe],Se=u[fe],ke=X.convert(ue)+ie,Ne=0,Pe=0;ye.forEach(function(Ie,xe){var xt,Oe=Ie<0?Ne:Pe,Qe=q.convert(Oe+Ie,q instanceof Fi?eo:void 0),Ot=I[xe],qe=Se[Ot];N&&x.push({index:fe,series:e,itemId:Ot,datum:Se,yValue:qe,yKey:Ot,point:{x:ke,y:Qe},fill:z[xe%z.length],stroke:Y[xe%Y.length]}),xt=V.formatter?V.formatter({value:qe}):br(qe)?qe.toFixed(2):String(qe),V&&P.push({index:fe,itemId:Ot,point:{x:ke,y:Qe},label:xt?{text:xt,fontStyle:V.fontStyle,fontWeight:V.fontWeight,fontSize:V.fontSize,fontFamily:V.fontFamily,textAlign:"center",textBaseline:"bottom",fill:V.color}:void 0});var At=(D[xe]||(D[xe]={itemId:Ot,points:[]})).points;At[fe]={x:ke,y:Qe},At[se-fe]={x:ke,y:q.convert(Oe)+ce},Ie<0?Ne+=Ie:Pe+=Ie})})}},n.prototype.updateFillSelection=function(){var e=this.fillSelection.setData(this.areaSelectionData);e.exit.remove();var o=e.enter.append(Ia).each(function(u){u.lineJoin="round",u.stroke=void 0,u.pointerEvents=Pi.None});this.fillSelection=e.merge(o)},n.prototype.updateFillNodes=function(){var e=this,o=this,u=o.fills,c=o.fillOpacity,m=o.strokes,y=o.strokeOpacity,w=o.strokeWidth,D=o.shadow,x=o.seriesItemEnabled;this.fillSelection.each(function(P,R,I){var N=P.path;P.fill=u[I%u.length],P.fillOpacity=c,P.stroke=m[I%m.length],P.strokeOpacity=y,P.strokeWidth=w,P.lineDash=e.lineDash,P.lineDashOffset=e.lineDashOffset,P.fillShadow=D,P.visible=!!x.get(R.itemId),P.opacity=e.getOpacity(R),N.clear(),R.points.forEach(function(z,Y){var X=z.x,q=z.y;Y>0?N.lineTo(X,q):N.moveTo(X,q)}),N.closePath()})},n.prototype.updateStrokeSelection=function(){var e=this.strokeSelection.setData(this.areaSelectionData);e.exit.remove();var o=e.enter.append(Ia).each(function(u){u.fill=void 0,u.lineJoin=u.lineCap="round",u.pointerEvents=Pi.None});this.strokeSelection=e.merge(o)},n.prototype.updateStrokeNodes=function(){var e=this;if(this.data){var o=this,u=o.data,c=o.strokes,m=o.strokeOpacity,y=o.seriesItemEnabled;this.strokeSelection.each(function(w,D,x){var P=w.path;w.visible=!!y.get(D.itemId),w.opacity=e.getOpacity(D),w.stroke=c[x%c.length],w.strokeWidth=e.getStrokeWidth(e.strokeWidth,D),w.strokeOpacity=m,w.lineDash=e.lineDash,w.lineDashOffset=e.lineDashOffset,P.clear();for(var R=D.points,I=0;I<u.length;I++){var N=R[I],V=N.x,z=N.y;I>0?P.lineTo(V,z):P.moveTo(V,z)}})}},n.prototype.updateMarkerSelection=function(){var e=No(this.marker.shape),u=this.markerSelection.setData(e?this.markerSelectionData:[]);u.exit.remove();var c=u.enter.append(e);this.markerSelection=u.merge(c)},n.prototype.updateMarkerNodes=function(){var e=this;if(this.chart){var o=this,u=o.xKey,c=o.marker,m=o.seriesItemEnabled,y=o.yKeys,w=o.fills,D=o.strokes,x=o.chart.highlightedDatum,P=o.highlightStyle,V=P.item,z=V.fill,Y=void 0===z?P.fill:z,X=V.stroke,q=void 0===X?P.stroke:X,ie=V.strokeWidth,ce=void 0===ie?P.strokeWidth:ie,se=c.size,ue=c.formatter,fe=void 0!==c.strokeWidth?c.strokeWidth:this.strokeWidth;this.markerSelection.each(function(ye,Se){var ke=y.indexOf(Se.yKey),Ne=Se===x,Pe=Ne&&void 0!==Y?Y:c.fill||w[ke%w.length],Ie=Ne&&void 0!==q?q:c.stroke||D[ke%w.length],xe=Ne&&void 0!==ce?ce:fe,Oe=void 0;ue&&(Oe=ue({datum:Se.datum,xKey:u,yKey:Se.yKey,fill:Pe,stroke:Ie,strokeWidth:xe,size:se,highlighted:Ne})),ye.fill=Oe&&Oe.fill||Pe,ye.stroke=Oe&&Oe.stroke||Ie,ye.strokeWidth=Oe&&void 0!==Oe.strokeWidth?Oe.strokeWidth:xe,ye.size=Oe&&void 0!==Oe.size?Oe.size:se,ye.translationX=Se.point.x,ye.translationY=Se.point.y,ye.visible=c.enabled&&ye.size>0&&!!m.get(Se.yKey)&&!isNaN(Se.point.x),ye.opacity=e.getOpacity(Se)})}},n.prototype.updateLabelSelection=function(){var e=this.labelSelection.setData(this.labelSelectionData);e.exit.remove();var o=e.enter.append(Ji);this.labelSelection=e.merge(o)},n.prototype.updateLabelNodes=function(){var e=this;if(this.chart){var o=this.label,u=o.enabled,c=o.fontStyle,m=o.fontWeight,y=o.fontSize,w=o.fontFamily,D=o.color;this.labelSelection.each(function(x,P){var R=P.point,I=P.label;I&&u?(x.fontStyle=c,x.fontWeight=m,x.fontSize=y,x.fontFamily=w,x.textAlign=I.textAlign,x.textBaseline=I.textBaseline,x.text=I.text,x.x=R.x,x.y=R.y-10,x.fill=D,x.visible=!0,x.opacity=e.getOpacity(P)):x.visible=!1})}},n.prototype.getNodeData=function(){return this.markerSelectionData},n.prototype.fireNodeClickEvent=function(e,o){this.fireEvent({type:"nodeClick",event:e,series:this,datum:o.datum,xKey:this.xKey,yKey:o.yKey})},n.prototype.getTooltipHtml=function(e){var o=this.xKey,u=e.yKey;if(!o||!u)return"";var c=e.datum,m=c[o],y=c[u],D=this.xAxis,x=this.yAxis;if(!(D&&x&&br(y)))return"";var P=D.scale.convert(m),R=x.scale.convert(y);if(!D.inRange(P)||!x.inRange(R))return"";var I=this,N=I.xName,V=I.yKeys,z=I.yNames,Y=I.yData,X=I.fills,q=I.strokes,ie=I.tooltip,ce=I.marker,se=ce.size,ue=ce.formatter,fe=ce.strokeWidth,ye=ce.fill,Se=ce.stroke,ke=D.formatDatum(m),Ne=x.formatDatum(y),Pe=V.indexOf(u),xe=Y[e.index][Pe],Oe=z[Pe],et=Kn(Oe),Qe=Kn(ke+": "+Ne),Ze=void 0;ue&&(Ze=ue({datum:c,xKey:o,yKey:u,fill:ye||X[Pe%X.length],stroke:Se||q[Pe%X.length],strokeWidth:void 0!==fe?fe:this.strokeWidth,size:se,highlighted:!1}));var At=Ze&&Ze.fill||ye,Dt={title:et,backgroundColor:At,content:Qe},Qt=ie.renderer,on=ie.format;if(on||Qt){var wn={datum:c,xKey:o,xName:N,xValue:m,yKey:u,yValue:y,processedYValue:xe,yName:Oe,color:At};if(on)return Jr({content:Cg(on,wn)},Dt);if(Qt)return Jr(Qt(wn),Dt)}return Jr(Dt)},n.prototype.listSeriesItems=function(e){var o=this,u=o.data,c=o.id,y=o.yKeys,w=o.yNames,D=o.seriesItemEnabled,x=o.marker,P=o.fills,R=o.strokes,I=o.fillOpacity,N=o.strokeOpacity;u&&u.length&&o.xKey&&y.length&&y.forEach(function(V,z){e.push({id:c,itemId:V,enabled:D.get(V)||!1,label:{text:w[z]||y[z]},marker:{shape:x.shape,fill:x.fill||P[z%P.length],stroke:x.stroke||R[z%R.length],fillOpacity:I,strokeOpacity:N}})})},n.prototype.toggleSeriesItem=function(e,o){this.seriesItemEnabled.set(e,o),this.scheduleData()},n.className="AreaSeries",n.type="area",sa([De("dataChange")],n.prototype,"fills",void 0),sa([De("dataChange")],n.prototype,"strokes",void 0),sa([De("update")],n.prototype,"fillOpacity",void 0),sa([De("update")],n.prototype,"strokeOpacity",void 0),sa([De("update")],n.prototype,"lineDash",void 0),sa([De("update")],n.prototype,"lineDashOffset",void 0),sa([De("update")],n.prototype,"xName",void 0),sa([De("update")],n.prototype,"yNames",void 0),sa([De("update")],n.prototype,"strokeWidth",void 0),sa([De("update")],n.prototype,"shadow",void 0),n}(uh),Py=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Ce=function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);return u>3&&c&&Object.defineProperty(n,e,c),c},be=function(h){var n="function"==typeof Symbol&&Symbol.iterator,e=n&&h[n],o=0;if(e)return e.call(h);if(h&&"number"==typeof h.length)return{next:function(){return h&&o>=h.length&&(h=void 0),{value:h&&h[o++],done:!h}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},Wt=(()=>(function(h){h[h.Bar=0]="Bar",h[h.Label=1]="Label"}(Wt||(Wt={})),Wt))(),Ju=(()=>(function(h){h.Inside="inside",h.Outside="outside"}(Ju||(Ju={})),Ju))(),bg=function(h){function n(){var e=null!==h&&h.apply(this,arguments)||this;return e.placement=Ju.Inside,e}return Py(n,h),Ce([De("change")],n.prototype,"formatter",void 0),Ce([De("change")],n.prototype,"placement",void 0),n}(lo),ys=function(h){function n(){return null!==h&&h.apply(this,arguments)||this}return Py(n,h),Ce([De("change")],n.prototype,"renderer",void 0),n}(Xl);function Ga(h,n){return void 0===n&&(n=[]),h.forEach(function(e){Array.isArray(e)?Ga(e,n):n.push(e)}),n}var Vr=function(h){function n(){var e,o=h.call(this)||this;return o.rectGroup=o.pickGroup.appendChild(new Nr),o.labelGroup=o.group.appendChild(new Nr),o.rectSelection=si.select(o.rectGroup).selectAll(),o.labelSelection=si.select(o.labelGroup).selectAll(),o.nodeData=[],o.xData=[],o.yData=[],o.yDomain=[],o.label=new bg,o.seriesItemEnabled=new Map,o.tooltip=new ys,o.flipXY=!1,o.fills=["#c16068","#a2bf8a","#ebcc87","#80a0c3","#b58dae","#85c0d1"],o.strokes=["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"],o.fillOpacity=1,o.strokeOpacity=1,o.lineDash=[0],o.lineDashOffset=0,o.groupScale=new no,o.directionKeys=((e={})[kn.X]=["xKey"],e[kn.Y]=["yKeys"],e),o._xKey="",o._xName="",o.cumYKeyCount=[],o.flatYKeys=void 0,o.hideInLegend=[],o._yKeys=[],o._grouped=!1,o._yNames={},o._strokeWidth=1,o.addEventListener("update",o.scheduleUpdate),o.label.enabled=!1,o.label.addEventListener("change",o.scheduleUpdate,o),o}return Py(n,h),n.prototype.getKeys=function(e){var o=this,u=this.directionKeys,c=u&&u[this.flipXY?eg(e):e],m=[];return c&&c.forEach(function(y){var w=o[y];w&&(Array.isArray(w)?m=m.concat(Ga(w)):m.push(w))}),m},Object.defineProperty(n.prototype,"xKey",{get:function(){return this._xKey},set:function(e){this._xKey!==e&&(this._xKey=e,this.xData=[],this.scheduleData())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"xName",{get:function(){return this._xName},set:function(e){this._xName!==e&&(this._xName=e,this.scheduleUpdate())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"yKeys",{get:function(){return this._yKeys},set:function(e){var o=this,u=void 0;if(function(h){return h.length>0&&Array.isArray(h[0])}(e)||(u=e,e=this.grouped?u.map(function(D){return[D]}):[u]),!_g(this._yKeys,e)){this.flatYKeys=u||void 0,this._yKeys=e;var c=0;this.cumYKeyCount=[];var m=[];e.forEach(function(D,x){D.length>0&&m.push(String(x)),o.cumYKeyCount.push(c),c+=D.length}),this.yData=[];var y=this.seriesItemEnabled;y.clear(),e.forEach(function(D){D.forEach(function(x){return y.set(x,!0)})});var w=this.groupScale;w.domain=m,w.padding=.1,w.round=!0,this.scheduleData()}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"grouped",{get:function(){return this._grouped},set:function(e){this._grouped!==e&&(this._grouped=e,this.flatYKeys&&(this.yKeys=this.flatYKeys))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"yNames",{get:function(){return this._yNames},set:function(e){if(Array.isArray(e)&&this.flatYKeys){var o={};this.flatYKeys.forEach(function(u,c){o[u]=e[c]}),e=o}this._yNames=e,this.scheduleData()},enumerable:!0,configurable:!0}),n.prototype.setColors=function(e,o){this.fills=e,this.strokes=o},Object.defineProperty(n.prototype,"normalizedTo",{get:function(){return this._normalizedTo},set:function(e){var o=e?Math.abs(e):void 0;this._normalizedTo!==o&&(this._normalizedTo=o,this.scheduleData())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"strokeWidth",{get:function(){return this._strokeWidth},set:function(e){this._strokeWidth!==e&&(this._strokeWidth=e,this.scheduleUpdate())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"shadow",{get:function(){return this._shadow},set:function(e){this._shadow!==e&&(this._shadow=e,this.scheduleUpdate())},enumerable:!0,configurable:!0}),n.prototype.onHighlightChange=function(){this.updateRectNodes()},n.prototype.processData=function(){var e=this,o=e.xKey,u=e.yKeys,c=e.seriesItemEnabled,y=o&&u.length&&this.data?this.data:[];if(!e.xAxis)return!1;var w=!0;this.xData=y.map(function(Y){return w&&!(o in Y)&&(w=!1,console.warn("The key '"+o+"' was not found in the data: ",Y)),Io(Y[o])?Y[o]:String(Y[o])}),this.yData=y.map(function(Y){return u.map(function(X){return X.map(function(q){w&&!(q in Y)&&(w=!1,console.warn("The key '"+q+"' was not found in the data: ",Y));var ie=Y[q];return isFinite(ie)&&c.get(q)?ie:0})})});var V,z,D=this.yData.map(function(Y){return Y.map(function(X){return Kf(X)})}),P=this.yData,R=this.normalizedTo,I=this.yData.map(function(Y){return Y.map(function(X){return X.reduce(function(q,ie){return q+Math.abs(ie)},0)})}),N=this.findLargestMinMax(D);return R&&isFinite(R)?(V=N.min<0?-R:0,z=N.max>0?R:0,P.forEach(function(Y,X){Y.forEach(function(q,ie){q.forEach(function(ce,se){q[se]=ce/I[X][ie]*R})})})):(V=N.min,z=N.max),V===z&&0===V&&(z=1),this.yDomain=this.fixNumericExtent([V,z],"y"),this.fireEvent({type:"dataProcessed"}),!0},n.prototype.findLargestMinMax=function(e){var o,u,c,m,y=0,w=0;try{for(var D=be(e),x=D.next();!x.done;x=D.next()){var P=x.value;try{for(var R=(c=void 0,be(P)),I=R.next();!I.done;I=R.next()){var N=I.value;N.min<y&&(y=N.min),N.max>w&&(w=N.max)}}catch(V){c={error:V}}finally{try{I&&!I.done&&(m=R.return)&&m.call(R)}finally{if(c)throw c.error}}}}catch(V){o={error:V}}finally{try{x&&!x.done&&(u=D.return)&&u.call(D)}finally{if(o)throw o.error}}return{min:y,max:w}},n.prototype.getDomain=function(e){return this.flipXY&&(e=eg(e)),e===kn.X?this.xData:this.yDomain},n.prototype.fireNodeClickEvent=function(e,o){this.fireEvent({type:"nodeClick",event:e,series:this,datum:o.datum,xKey:this.xKey,yKey:o.yKey})},n.prototype.getCategoryAxis=function(){return this.flipXY?this.yAxis:this.xAxis},n.prototype.getValueAxis=function(){return this.flipXY?this.xAxis:this.yAxis},n.prototype.createNodeData=function(){var e=this,o=this,u=o.chart,c=o.data,m=o.visible,y=this.getCategoryAxis(),w=this.getValueAxis();if(!(u&&c&&m&&y&&w)||u.layoutPending||u.dataPending)return[];var D=this.flipXY,x=y.scale,P=w.scale,R=this,I=R.groupScale,N=R.yKeys,V=R.cumYKeyCount,z=R.fills,Y=R.strokes,X=R.strokeWidth,q=R.seriesItemEnabled,ie=R.xData,ce=R.yData,se=R.label,ue=se.fontStyle,fe=se.fontWeight,ye=se.fontSize,Se=se.fontFamily,ke=se.color,Ne=se.formatter,Pe=se.placement;I.range=[0,x.bandwidth];var Ie=I.bandwidth,xe=[];return ie.forEach(function(Oe,et){for(var Qe=c[et],Ot=x.convert(Oe),qe=ce[et],xt=0;xt<qe.length;xt++)for(var Ze=qe[xt],At=0,Dt=0,Qt=0;Qt<Ze.length;Qt++){var on=Ze[Qt],wn=N[xt][Qt],yn=Ot+I.convert(String(xt));if(y.inRange(yn,Ie)){var eu,Wn=on<0?At:Dt,Nt=P instanceof Fi,Zt=P.convert(Wn+on,Nt?eo:void 0),pt=P.convert(Wn,Nt?eo:void 0),ki=Qe[wn];eu=Ne?Ne({value:br(ki)?ki:void 0}):br(ki)?ki.toFixed(2):"";var ul=void 0,cl=void 0;D?(cl=yn+Ie/2,ul=Pe===Ju.Inside?Zt+(ki>=0?-1:1)*Math.abs(pt-Zt)/2:Zt+4*(ki>=0?1:-1)):(ul=yn+Ie/2,cl=Pe===Ju.Inside?Zt+(ki>=0?1:-1)*Math.abs(pt-Zt)/2:Zt+(ki>=0?-3:4));var hc=void 0,lt=void 0;Pe===Ju.Inside?(hc="center",lt="middle"):(hc=D?ki>=0?"start":"end":"center",lt=D?"middle":ki>=0?"bottom":"top");var Gn=V[xt]+Qt;xe.push({index:et,series:e,itemId:wn,datum:Qe,yValue:ki,yKey:wn,x:D?Math.min(Zt,pt):yn,y:D?yn:Math.min(Zt,pt),width:D?Math.abs(pt-Zt):Ie,height:D?Ie:Math.abs(pt-Zt),fill:z[Gn%z.length],stroke:Y[Gn%Y.length],strokeWidth:X,label:q.get(wn)&&eu?{text:eu,fontStyle:ue,fontWeight:fe,fontSize:ye,fontFamily:Se,textAlign:hc,textBaseline:lt,fill:ke,x:ul,y:cl}:void 0}),on<0?At+=on:Dt+=on}}}),this.nodeData=xe},n.prototype.update=function(){this.updatePending=!1,this.updateSelections(),this.updateNodes()},n.prototype.updateSelections=function(){!this.nodeDataPending||(this.nodeDataPending=!1,this.createNodeData(),this.updateRectSelection(),this.updateLabelSelection())},n.prototype.updateNodes=function(){this.group.visible=this.visible,this.updateRectNodes(),this.updateLabelNodes()},n.prototype.updateRectSelection=function(){var e=this.rectSelection.setData(this.nodeData);e.exit.remove();var o=e.enter.append(tl).each(function(u){u.tag=Wt.Bar,u.crisp=!0});this.rectSelection=e.merge(o)},n.prototype.updateRectNodes=function(){var e=this;if(this.chart){var o=this,u=o.fills,c=o.strokes,m=o.fillOpacity,y=o.strokeOpacity,w=o.shadow,D=o.formatter,x=o.xKey,P=o.flipXY,R=o.yKeys,I=o.chart.highlightedDatum,N=o.highlightStyle,X=N.item,q=X.fill,ie=void 0===q?N.fill:q,ce=X.stroke,se=void 0===ce?N.stroke:ce,ue=X.strokeWidth,fe=void 0===ue?N.strokeWidth:ue;this.rectSelection.each(function(ye,Se,ke){for(var Ne=0,Pe=0,Ie=0;Ie<R.length;Ie++){var xe=R[Ie];if((Pe=xe.indexOf(Se.yKey))>=0){Ne+=Pe;break}Ne+=xe.length}var Oe=Se===I,et=Oe&&void 0!==ie?ie:u[Ne%u.length],Qe=Oe&&void 0!==se?se:c[Ne%u.length],Ot=Oe&&void 0!==fe?fe:e.getStrokeWidth(e.strokeWidth,Se),qe=void 0;D&&(qe=D({datum:Se.datum,fill:et,stroke:Qe,strokeWidth:Ot,highlighted:Oe,xKey:x,yKey:Se.yKey})),ye.x=Se.x,ye.y=Se.y,ye.width=Se.width,ye.height=Se.height,ye.fill=qe&&qe.fill||et,ye.stroke=qe&&qe.stroke||Qe,ye.strokeWidth=qe&&void 0!==qe.strokeWidth?qe.strokeWidth:Ot,ye.fillOpacity=m,ye.strokeOpacity=y,ye.lineDash=e.lineDash,ye.lineDashOffset=e.lineDashOffset,ye.fillShadow=w,ye.visible=P?Se.width>0:Se.height>0,ye.zIndex=Oe?Ql.highlightedZIndex:ke,ye.opacity=e.getOpacity(Se)})}},n.prototype.updateLabelSelection=function(){var e=this.labelSelection.setData(this.nodeData);e.exit.remove();var o=e.enter.append(Ji).each(function(u){u.tag=Wt.Label,u.pointerEvents=Pi.None});this.labelSelection=e.merge(o)},n.prototype.updateLabelNodes=function(){var e=this;if(this.chart){var c=this.label,m=c.enabled,y=c.fontStyle,w=c.fontWeight,D=c.fontSize,x=c.fontFamily,P=c.color;this.labelSelection.each(function(R,I,N){var V=I.label;V&&m?(R.fontStyle=y,R.fontWeight=w,R.fontSize=D,R.fontFamily=x,R.textAlign=V.textAlign,R.textBaseline=V.textBaseline,R.text=V.text,R.x=V.x,R.y=V.y,R.fill=P,R.visible=!0,R.opacity=e.getOpacity(I)):R.visible=!1})}},n.prototype.getTooltipHtml=function(e){var o=this,u=o.xKey,c=o.yKeys,m=o.yData,y=this.getCategoryAxis(),w=this.getValueAxis(),D=e.yKey;if(!(m.length&&u&&D&&y&&w))return"";for(var x=m[e.index],P=0,R=0,I=0;I<c.length;I++){var N=c[I];if((R=N.indexOf(D))>=0){P+=R;break}P+=N.length}var V=this,z=V.xName,X=V.fills,ce=V.formatter,se=V.tooltip.renderer,ue=e.datum,fe=V.yNames[D],ye=X[P%X.length],Se=V.strokes[P%X.length],ke=this.getStrokeWidth(this.strokeWidth,ue),Ne=ue[u],Pe=ue[D],Ie=x[I][R],xe=Kn(y.formatDatum(Ne)),Oe=Kn(w.formatDatum(Pe)),et=Kn(fe),Qe=xe+": "+Oe,Ot=void 0;ce&&(Ot=ce({datum:ue,fill:ye,stroke:Se,strokeWidth:ke,highlighted:!1,xKey:u,yKey:D}));var qe=Ot&&Ot.fill||ye,xt={title:et,backgroundColor:qe,content:Qe};return se?Jr(se({datum:ue,xKey:u,xValue:Ne,xName:z,yKey:D,yValue:Pe,processedYValue:Ie,yName:fe,color:qe}),xt):Jr(xt)},n.prototype.listSeriesItems=function(e){var o=this,u=o.id,c=o.data,w=o.yNames,D=o.cumYKeyCount,x=o.seriesItemEnabled,P=o.hideInLegend,R=o.fills,I=o.strokes,N=o.fillOpacity,V=o.strokeOpacity;c&&c.length&&o.xKey&&o.yKeys.length&&this.yKeys.forEach(function(z,Y){z.forEach(function(X,q){if(P.indexOf(X)<0){var ie=D[Y]+q;e.push({id:u,itemId:X,enabled:x.get(X)||!1,label:{text:w[X]||X},marker:{fill:R[ie%R.length],stroke:I[ie%I.length],fillOpacity:N,strokeOpacity:V}})}})})},n.prototype.toggleSeriesItem=function(e,o){var u=this.seriesItemEnabled;u.set(e,o);var c=this.yKeys.map(function(y){return y.slice()});u.forEach(function(y,w){y||c.forEach(function(D){var x=D.indexOf(w);x>=0&&D.splice(x,1)})});var m=[];c.forEach(function(y,w){y.length>0&&m.push(String(w))}),this.groupScale.domain=m,this.scheduleData()},n.className="BarSeries",n.type="bar",Ce([De("dataChange")],n.prototype,"flipXY",void 0),Ce([De("dataChange")],n.prototype,"fills",void 0),Ce([De("dataChange")],n.prototype,"strokes",void 0),Ce([De("update")],n.prototype,"fillOpacity",void 0),Ce([De("update")],n.prototype,"strokeOpacity",void 0),Ce([De("update")],n.prototype,"lineDash",void 0),Ce([De("update")],n.prototype,"lineDashOffset",void 0),Ce([De("update")],n.prototype,"formatter",void 0),Ce([De("layoutChange")],n.prototype,"hideInLegend",void 0),n}(uh),Ad=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),_o=function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);return u>3&&c&&Object.defineProperty(n,e,c),c},Lb=function(h,n){var e="function"==typeof Symbol&&h[Symbol.iterator];if(!e)return h;var u,m,o=e.call(h),c=[];try{for(;(void 0===n||n-- >0)&&!(u=o.next()).done;)c.push(u.value)}catch(y){m={error:y}}finally{try{u&&!u.done&&(e=o.return)&&e.call(o)}finally{if(m)throw m.error}}return c},Ct=function(h){function n(){return null!==h&&h.apply(this,arguments)||this}return Ad(n,h),_o([De("change")],n.prototype,"formatter",void 0),n}(lo),wg=function(h){function n(){return null!==h&&h.apply(this,arguments)||this}return Ad(n,h),_o([De("change")],n.prototype,"renderer",void 0),_o([De("change")],n.prototype,"format",void 0),n}(Xl),Td=function(h){function n(){var e=h.call(this)||this;e.xDomain=[],e.yDomain=[],e.xData=[],e.yData=[],e.lineNode=new Ia,e.nodeSelection=si.select(e.pickGroup).selectAll(),e.nodeData=[],e.marker=new aa,e.label=new Ct,e.stroke="#874349",e.lineDash=[0],e.lineDashOffset=0,e.strokeWidth=2,e.strokeOpacity=1,e.tooltip=new wg,e._xKey="",e.xName="",e._yKey="",e.yName="";var o=e.lineNode;o.fill=void 0,o.lineJoin="round",o.pointerEvents=Pi.None,e.group.insertBefore(o,e.pickGroup),e.addEventListener("update",e.scheduleUpdate);var c=e.marker,m=e.label;return c.fill="#c16068",c.stroke="#874349",c.addPropertyListener("shape",e.onMarkerShapeChange,e),c.addEventListener("change",e.scheduleUpdate,e),m.enabled=!1,m.addEventListener("change",e.scheduleUpdate,e),e}return Ad(n,h),n.prototype.onMarkerShapeChange=function(){this.nodeSelection=this.nodeSelection.setData([]),this.nodeSelection.exit.remove(),this.fireEvent({type:"legendChange"})},n.prototype.setColors=function(e,o){this.stroke=e[0],this.marker.stroke=o[0],this.marker.fill=e[0]},Object.defineProperty(n.prototype,"xKey",{get:function(){return this._xKey},set:function(e){this._xKey!==e&&(this._xKey=e,this.xData=[],this.scheduleData())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"yKey",{get:function(){return this._yKey},set:function(e){this._yKey!==e&&(this._yKey=e,this.yData=[],this.scheduleData())},enumerable:!0,configurable:!0}),n.prototype.processData=function(){var e=this,o=e.xAxis,u=e.yAxis,c=e.xKey,m=e.yKey,y=e.xData,w=e.yData,D=c&&m&&this.data?this.data:[];if(!o||!u)return!1;var x=o.scale instanceof Fi,P=u.scale instanceof Fi;y.length=0,w.length=0;for(var R=0,I=D.length;R<I;R++){var N=D[R],V=N[c],z=N[m];y.push(x||Io(V)?V:String(V)),w.push(P||Io(z)?z:String(z))}return this.xDomain=x?this.fixNumericExtent(cs(y,na),"x"):y,this.yDomain=P?this.fixNumericExtent(cs(w,na),"y"):w,!0},n.prototype.getDomain=function(e){return e===kn.X?this.xDomain:this.yDomain},n.prototype.onHighlightChange=function(){this.updateNodes()},n.prototype.resetHighlight=function(){this.lineNode.strokeWidth=this.strokeWidth},n.prototype.update=function(){this.updatePending=!1,this.updateSelections(),this.updateNodes()},n.prototype.updateSelections=function(){!this.nodeDataPending||(this.nodeDataPending=!1,this.updateLinePath(),this.updateNodeSelection())},n.prototype.updateLinePath=function(){var e=this,o=e.data,u=e.xAxis,c=e.yAxis;if(o&&u&&c){var m=this,y=m.xData,w=m.yData,x=m.label,P=u.scale,R=c.scale,I=P instanceof Fi,N=R instanceof Fi,V=(P.bandwidth||0)/2,z=(R.bandwidth||0)/2,Y=m.lineNode.path,X=[];Y.clear();for(var q=!0,ie=void 0,ce=void 0,se=0;se<y.length;se++){var ue=ce||this.checkDomainXY(y[se],w[se],I,N);if(ue){var fe=Lb(ue,2),Se=fe[1],ke=P.convert(fe[0])+V;if(isNaN(ke)){ie=void 0,q=!0;continue}var Ne=(P.bandwidth||.5*this.marker.size+(this.marker.strokeWidth||0))+1;ce=this.checkDomainXY(y[se+1],w[se+1],I,N);var Pe=u.inRangeEx(ke,0,Ne),Ie=ce&&u.inRangeEx(P.convert(ce[0])+V,0,Ne);if(-1===Pe&&-1===Ie){q=!0;continue}if(1===Pe&&1===ie){q=!0;continue}ie=Pe;var xe=R.convert(Se)+z;q?(Y.moveTo(ke,xe),q=!1):Y.lineTo(ke,xe);var Oe;Oe=x.formatter?x.formatter({value:Se}):"number"==typeof Se&&isFinite(Se)?Se.toFixed(2):Se?String(Se):"",X.push({series:this,datum:o[se],point:{x:ke,y:xe},label:Oe?{text:Oe,fontStyle:x.fontStyle,fontWeight:x.fontWeight,fontSize:x.fontSize,fontFamily:x.fontFamily,textAlign:"center",textBaseline:"bottom",fill:x.color}:void 0})}else ie=void 0,q=!0}this.nodeData=X}},n.prototype.updateNodeSelection=function(){var e=this.marker,o=e.shape?this.nodeData:[],u=No(e.shape),c=this.nodeSelection.setData(o);c.exit.remove();var m=c.enter.append(Nr);m.append(u),m.append(Ji),this.nodeSelection=c.merge(m)},n.prototype.updateNodes=function(){this.group.visible=this.visible,this.updateLineNode(),this.updateMarkerNodes(),this.updateTextNodes()},n.prototype.updateLineNode=function(){var e=this.lineNode;e.stroke=this.stroke,e.strokeWidth=this.getStrokeWidth(this.strokeWidth),e.strokeOpacity=this.strokeOpacity,e.lineDash=this.lineDash,e.lineDashOffset=this.lineDashOffset,e.opacity=this.getOpacity()},n.prototype.updateMarkerNodes=function(){var e=this;if(this.chart){var o=this,u=o.marker,c=o.xKey,m=o.yKey,y=o.stroke,w=o.chart.highlightedDatum,D=o.highlightStyle,I=D.item,N=I.fill,V=void 0===N?D.fill:N,z=I.stroke,Y=void 0===z?D.stroke:z,X=I.strokeWidth,q=void 0===X?D.strokeWidth:X,ie=u.size,ce=u.formatter,se=void 0!==u.strokeWidth?u.strokeWidth:this.strokeWidth,ue=No(u.shape);this.nodeSelection.selectByClass(ue).each(function(fe,ye){var Se=ye===w,ke=Se&&void 0!==V?V:u.fill,Ne=Se&&void 0!==Y?Y:u.stroke||y,Pe=Se&&void 0!==q?q:se,Ie=void 0;ce&&(Ie=ce({datum:ye.datum,xKey:c,yKey:m,fill:ke,stroke:Ne,strokeWidth:Pe,size:ie,highlighted:Se})),fe.fill=Ie&&Ie.fill||ke,fe.stroke=Ie&&Ie.stroke||Ne,fe.strokeWidth=Ie&&void 0!==Ie.strokeWidth?Ie.strokeWidth:Pe,fe.size=Ie&&void 0!==Ie.size?Ie.size:ie,fe.translationX=ye.point.x,fe.translationY=ye.point.y,fe.opacity=e.getOpacity(ye),fe.visible=u.enabled&&fe.size>0})}},n.prototype.updateTextNodes=function(){var e=this;this.nodeSelection.selectByClass(Ji).each(function(o,u){var c=u.point,m=u.label,y=e.label,x=y.fontWeight,P=y.fontSize,R=y.fontFamily,I=y.color;m&&y.enabled?(o.fontStyle=y.fontStyle,o.fontWeight=x,o.fontSize=P,o.fontFamily=R,o.textAlign=m.textAlign,o.textBaseline=m.textBaseline,o.text=m.text,o.x=c.x,o.y=c.y-10,o.fill=I,o.visible=!0):o.visible=!1})},n.prototype.getNodeData=function(){return this.nodeData},n.prototype.fireNodeClickEvent=function(e,o){this.fireEvent({type:"nodeClick",event:e,series:this,datum:o.datum,xKey:this.xKey,yKey:this.yKey})},n.prototype.getTooltipHtml=function(e){var o=this,u=o.xKey,c=o.yKey,m=o.xAxis,y=o.yAxis;if(!(u&&c&&m&&y))return"";var w=this,D=w.xName,x=w.yName,P=w.tooltip,R=w.marker,I=P.renderer,N=P.format,V=e.datum,z=V[u],Y=V[c],X=m.formatDatum(z),q=y.formatDatum(Y),ie=Kn(this.title||x),ce=Kn(X+": "+q),se=R.formatter,ue=R.fill,ye=R.strokeWidth,Ne=void 0;se&&(Ne=se({datum:V,xKey:u,yKey:c,fill:ue,stroke:R.stroke,strokeWidth:void 0!==ye?ye:this.strokeWidth,size:R.size,highlighted:!1}));var Pe=Ne&&Ne.fill||ue,Ie={title:ie,backgroundColor:Pe,content:ce};if(N||I){var xe={datum:V,xKey:u,xValue:z,xName:D,yKey:c,yValue:Y,yName:x,title:ie,color:Pe};if(N)return Jr({content:Cg(N,xe)},Ie);if(I)return Jr(I(xe),Ie)}return Jr(Ie)},n.prototype.listSeriesItems=function(e){var o=this,c=o.data,y=o.yKey,P=o.marker;c&&c.length&&o.xKey&&y&&e.push({id:o.id,itemId:void 0,enabled:o.visible,label:{text:o.title||o.yName||y},marker:{shape:P.shape,fill:P.fill||"rgba(0, 0, 0, 0)",stroke:P.stroke||o.stroke||"rgba(0, 0, 0, 0)",fillOpacity:1,strokeOpacity:o.strokeOpacity}})},n.className="LineSeries",n.type="line",_o([De("layoutChange")],n.prototype,"title",void 0),_o([De("update")],n.prototype,"stroke",void 0),_o([De("update")],n.prototype,"lineDash",void 0),_o([De("update")],n.prototype,"lineDashOffset",void 0),_o([De("update")],n.prototype,"strokeWidth",void 0),_o([De("update")],n.prototype,"strokeOpacity",void 0),_o([De("update")],n.prototype,"xName",void 0),_o([De("update")],n.prototype,"yName",void 0),n}(uh),Sg=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Eg=function(){return Eg=Object.assign||function(h){for(var n,e=1,o=arguments.length;e<o;e++)for(var u in n=arguments[e])Object.prototype.hasOwnProperty.call(n,u)&&(h[u]=n[u]);return h},Eg.apply(this,arguments)},Va=function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);return u>3&&c&&Object.defineProperty(n,e,c),c},ct=function(h){function n(){return null!==h&&h.apply(this,arguments)||this}return Sg(n,h),Va([De("change")],n.prototype,"renderer",void 0),n}(Xl),My=function(h){function n(){var e=h.call(this)||this;e.xDomain=[],e.yDomain=[],e.xData=[],e.yData=[],e.sizeData=[],e.sizeScale=new Jn,e.nodeData=[],e.markerSelection=si.select(e.pickGroup).selectAll(),e.labelData=[],e.labelSelection=si.select(e.group).selectAll(),e.marker=new aa,e.label=new lo,e._fill="#c16068",e._stroke="#874349",e._strokeWidth=2,e._fillOpacity=1,e._strokeOpacity=1,e.xKey="",e.yKey="",e.xName="",e.yName="",e.sizeName="Size",e.labelName="Label",e.tooltip=new ct;var u=e.marker,c=e.label;return u.addPropertyListener("shape",e.onMarkerShapeChange,e),u.addEventListener("change",e.scheduleUpdate,e),e.addPropertyListener("xKey",function(){return e.xData=[]}),e.addPropertyListener("yKey",function(){return e.yData=[]}),e.addPropertyListener("sizeKey",function(){return e.sizeData=[]}),c.enabled=!1,c.addEventListener("change",e.scheduleUpdate,e),c.addEventListener("dataChange",e.scheduleData,e),e}return Sg(n,h),Object.defineProperty(n.prototype,"fill",{get:function(){return this._fill},set:function(e){this._fill!==e&&(this._fill=e,this.scheduleUpdate())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"stroke",{get:function(){return this._stroke},set:function(e){this._stroke!==e&&(this._stroke=e,this.scheduleUpdate())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"strokeWidth",{get:function(){return this._strokeWidth},set:function(e){this._strokeWidth!==e&&(this._strokeWidth=e,this.scheduleUpdate())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"fillOpacity",{get:function(){return this._fillOpacity},set:function(e){this._fillOpacity!==e&&(this._fillOpacity=e,this.scheduleUpdate())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"strokeOpacity",{get:function(){return this._strokeOpacity},set:function(e){this._strokeOpacity!==e&&(this._strokeOpacity=e,this.scheduleUpdate())},enumerable:!0,configurable:!0}),n.prototype.onHighlightChange=function(){this.updateMarkerNodes()},n.prototype.onMarkerShapeChange=function(){this.markerSelection=this.markerSelection.setData([]),this.markerSelection.exit.remove(),this.fireEvent({type:"legendChange"})},n.prototype.setColors=function(e,o){this.fill=e[0],this.stroke=o[0],this.marker.fill=e[0],this.marker.stroke=o[0]},n.prototype.processData=function(){var e=this,o=e.xKey,u=e.yKey,c=e.sizeKey,m=e.labelKey,y=e.xAxis,w=e.yAxis,D=e.marker,x=e.label;if(!y||!w)return!1;var P=o&&u&&this.data?this.data:[];this.xData=P.map(function(I){return I[o]}),this.yData=P.map(function(I){return I[u]}),this.sizeData=c?P.map(function(I){return I[c]}):[];var R=x.getFont();return this.labelData=m?P.map(function(I){var N=String(I[m]),V=Ys.getTextSize(N,R);return Eg({text:N},V)}):[],this.sizeScale.domain=D.domain?D.domain:cs(this.sizeData,na)||[1,1],this.xDomain=y.scale instanceof Fi?this.fixNumericExtent(cs(this.xData,na),"x"):this.xData,this.yDomain=w.scale instanceof Fi?this.fixNumericExtent(cs(this.yData,na),"y"):this.yData,!0},n.prototype.getDomain=function(e){return e===kn.X?this.xDomain:this.yDomain},n.prototype.getNodeData=function(){return this.nodeData},n.prototype.getLabelData=function(){return this.nodeData},n.prototype.fireNodeClickEvent=function(e,o){this.fireEvent({type:"nodeClick",event:e,series:this,datum:o.datum,xKey:this.xKey,yKey:this.yKey,sizeKey:this.sizeKey})},n.prototype.createNodeData=function(){var e=this,o=e.chart,u=e.data,m=e.xAxis,y=e.yAxis;if(!(o&&u&&e.visible&&m&&y)||o.layoutPending||o.dataPending)return[];var w=m.scale,D=y.scale,x=w instanceof Fi,P=D instanceof Fi,R=(w.bandwidth||0)/2,I=(D.bandwidth||0)/2,N=this,V=N.xData,z=N.yData,Y=N.sizeData,X=N.sizeScale,q=N.marker,ie=[];X.range=[q.size,q.maxSize];for(var ce=0;ce<V.length;ce++){var se=this.checkDomainXY(V[ce],z[ce],x,P);if(se){var ue=w.convert(se[0])+R,fe=D.convert(se[1])+I;!this.checkRangeXY(ue,fe,m,y)||ie.push({series:this,datum:u[ce],point:{x:ue,y:fe},size:Y.length?X.convert(Y[ce]):q.size,label:this.labelData[ce]})}}return this.nodeData=ie},n.prototype.update=function(){this.updatePending=!1,this.updateSelections(),this.updateNodes()},n.prototype.updateSelections=function(){!this.nodeDataPending||(this.nodeDataPending=!1,this.createNodeData(),this.updateMarkerSelection(),this.updateLabelSelection())},n.prototype.updateNodes=function(){this.group.visible=this.visible,this.updateMarkerNodes(),this.updateLabelNodes()},n.prototype.updateLabelSelection=function(){var e=this.chart&&this.chart.placeLabels().get(this)||[],o=this.labelSelection.setData(e);o.exit.remove();var u=o.enter.append(Ji);this.labelSelection=o.merge(u)},n.prototype.updateMarkerSelection=function(){var e=No(this.marker.shape),o=this.markerSelection.setData(this.nodeData);o.exit.remove();var u=o.enter.append(e);this.markerSelection=o.merge(u)},n.prototype.updateLabelNodes=function(){var e=this.label;this.labelSelection.each(function(o,u){o.text=u.text,o.fill=e.color,o.x=u.x,o.y=u.y,o.fontStyle=e.fontStyle,o.fontWeight=e.fontWeight,o.fontSize=e.fontSize,o.fontFamily=e.fontFamily,o.textAlign="left",o.textBaseline="top"})},n.prototype.updateMarkerNodes=function(){var e=this;if(this.chart){var o=this,u=o.marker,c=o.xKey,m=o.yKey,w=o.fillOpacity,D=o.strokeOpacity,x=o.fill,P=o.stroke,R=o.chart.highlightedDatum,I=o.sizeScale,N=o.sizeData,V=o.highlightStyle,q=V.item,ie=q.fill,ce=void 0===ie?V.fill:ie,se=q.stroke,ue=void 0===se?V.stroke:se,fe=q.strokeWidth,ye=void 0===fe?V.strokeWidth:fe,Se=void 0!==u.strokeWidth?u.strokeWidth:o.strokeWidth,ke=u.formatter;I.range=[u.size,u.maxSize],this.markerSelection.each(function(Ne,Pe,Ie){var xe=Pe===R,Oe=xe&&void 0!==ce?ce:u.fill||x,et=xe&&void 0!==ue?ue:u.stroke||P,Qe=xe&&void 0!==ye?ye:e.getStrokeWidth(Se,Pe),Ot=N.length?I.convert(N[Ie]):u.size,qe=void 0;ke&&(qe=ke({datum:Pe.datum,xKey:c,yKey:m,fill:Oe,stroke:et,strokeWidth:Qe,size:Ot,highlighted:xe})),Ne.fill=qe&&qe.fill||Oe,Ne.stroke=qe&&qe.stroke||et,Ne.strokeWidth=qe&&void 0!==qe.strokeWidth?qe.strokeWidth:Qe,Ne.size=qe&&void 0!==qe.size?qe.size:Ot,Ne.fillOpacity=void 0!==u.fillOpacity?u.fillOpacity:w,Ne.strokeOpacity=void 0!==u.strokeOpacity?u.strokeOpacity:D,Ne.translationX=Pe.point.x,Ne.translationY=Pe.point.y,Ne.opacity=e.getOpacity(Pe),Ne.zIndex=xe?Ql.highlightedZIndex:Ie,Ne.visible=u.enabled&&Ne.size>0})}},n.prototype.getTooltipHtml=function(e){var o=this,u=o.xKey,c=o.yKey,m=o.xAxis,y=o.yAxis;if(!(u&&c&&m&&y))return"";var w=this,P=w.marker,R=w.tooltip,I=w.xName,N=w.yName,V=w.sizeKey,z=w.sizeName,Y=w.labelKey,X=w.labelName,q=P.fill||w.fill,ie=P.stroke||w.stroke,ce=this.getStrokeWidth(P.strokeWidth||this.strokeWidth,e),se=this.marker.formatter,ue=void 0;se&&(ue=se({datum:e,xKey:u,yKey:c,fill:q,stroke:ie,strokeWidth:ce,size:e.size,highlighted:!1}));var fe=ue&&ue.fill||q||"gray",ye=this.title||N,Se=e.datum,ke=Se[u],Ne=Se[c],Pe=Kn(m.formatDatum(ke)),Ie=Kn(y.formatDatum(Ne)),xe="<b>"+Kn(I||u)+"</b>: "+Pe+"<br><b>"+Kn(N||c)+"</b>: "+Ie;V&&(xe+="<br><b>"+Kn(z||V)+"</b>: "+Kn(Se[V])),Y&&(xe="<b>"+Kn(X||Y)+"</b>: "+Kn(Se[Y])+"<br>"+xe);var Oe={title:ye,backgroundColor:fe,content:xe},et=R.renderer;return et?Jr(et({datum:Se,xKey:u,xValue:ke,xName:I,yKey:c,yValue:Ne,yName:N,sizeKey:V,sizeName:z,labelKey:Y,labelName:X,title:ye,color:fe}),Oe):Jr(Oe)},n.prototype.listSeriesItems=function(e){var o=this,c=o.data,y=o.yKey,P=o.marker;c&&c.length&&o.xKey&&y&&e.push({id:o.id,itemId:void 0,enabled:o.visible,label:{text:o.title||o.yName||y},marker:{shape:P.shape,fill:P.fill||o.fill||"rgba(0, 0, 0, 0)",stroke:P.stroke||o.stroke||"rgba(0, 0, 0, 0)",fillOpacity:void 0!==P.fillOpacity?P.fillOpacity:o.fillOpacity,strokeOpacity:void 0!==P.strokeOpacity?P.strokeOpacity:o.strokeOpacity}})},n.className="ScatterSeries",n.type="scatter",Va([De("layoutChange")],n.prototype,"title",void 0),Va([De("dataChange")],n.prototype,"xKey",void 0),Va([De("dataChange")],n.prototype,"yKey",void 0),Va([De("dataChange")],n.prototype,"sizeKey",void 0),Va([De("dataChange")],n.prototype,"labelKey",void 0),n}(uh),ir=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),vt=function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);return u>3&&c&&Object.defineProperty(n,e,c),c},ec=function(h,n){var e="function"==typeof Symbol&&h[Symbol.iterator];if(!e)return h;var u,m,o=e.call(h),c=[];try{for(;(void 0===n||n-- >0)&&!(u=o.next()).done;)c.push(u.value)}catch(y){m={error:y}}finally{try{u&&!u.done&&(e=o.return)&&e.call(o)}finally{if(m)throw m.error}}return c},Dg=function(){for(var h=[],n=0;n<arguments.length;n++)h=h.concat(ec(arguments[n]));return h},tc=(()=>(function(h){h[h.Bin=0]="Bin",h[h.Label=1]="Label"}(tc||(tc={})),tc))(),Fy=function(h){function n(){return null!==h&&h.apply(this,arguments)||this}return ir(n,h),vt([De("change")],n.prototype,"formatter",void 0),n}(lo),xg={count:function(h){return h.data.length},sum:function(h,n){return h.data.reduce(function(e,o){return e+o[n]},0)},mean:function(h,n){return xg.sum(h,n)/xg.count(h,n)}},Ag=function(){function h(n){var e=ec(n,2),o=e[0],u=e[1];this.data=[],this.aggregatedValue=0,this.frequency=0,this.domain=[o,u]}return h.prototype.addDatum=function(n){this.data.push(n),this.frequency++},Object.defineProperty(h.prototype,"domainWidth",{get:function(){var n=ec(this.domain,2);return n[1]-n[0]},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"relativeHeight",{get:function(){return this.aggregatedValue/this.domainWidth},enumerable:!0,configurable:!0}),h.prototype.calculateAggregatedValue=function(n,e){e||(n="count"),this.aggregatedValue=(0,xg[n])(this,e)},h.prototype.getY=function(n){return n?this.relativeHeight:this.aggregatedValue},h}(),kb=function(h){function n(){return null!==h&&h.apply(this,arguments)||this}return ir(n,h),vt([De("change")],n.prototype,"renderer",void 0),n}(Xl),Tg=function(h){function n(){var e,o=h.call(this)||this;return o.rectGroup=o.pickGroup.appendChild(new Nr),o.textGroup=o.group.appendChild(new Nr),o.rectSelection=si.select(o.rectGroup).selectAll(),o.textSelection=si.select(o.textGroup).selectAll(),o.binnedData=[],o.xDomain=[],o.yDomain=[],o.label=new Fy,o.seriesItemEnabled=!0,o.tooltip=new kb,o.fill=void 0,o.stroke=void 0,o.fillOpacity=1,o.strokeOpacity=1,o.lineDash=[0],o.lineDashOffset=0,o.directionKeys=((e={})[kn.X]=["xKey"],e[kn.Y]=["yKey"],e),o._xKey="",o._areaPlot=!1,o._bins=void 0,o._aggregation="count",o._binCount=void 0,o._xName="",o._yKey="",o._yName="",o._strokeWidth=1,o.label.enabled=!1,o.label.addEventListener("change",o.scheduleUpdate,o),o}return ir(n,h),n.prototype.getKeys=function(e){var o=this,u=this.directionKeys,c=u&&u[e],m=[];return c&&c.forEach(function(y){var w=o[y];w&&(Array.isArray(w)?m.push.apply(m,Dg(w)):m.push(w))}),m},Object.defineProperty(n.prototype,"xKey",{get:function(){return this._xKey},set:function(e){this._xKey!==e&&(this._xKey=e,this.scheduleData())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"areaPlot",{get:function(){return this._areaPlot},set:function(e){this._areaPlot=e,this.scheduleData()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"bins",{get:function(){return this._bins},set:function(e){this._bins=e,this.scheduleData()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"aggregation",{get:function(){return this._aggregation},set:function(e){this._aggregation=e,this.scheduleData()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"binCount",{get:function(){return this._binCount},set:function(e){this._binCount=e,this.scheduleData()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"xName",{get:function(){return this._xName},set:function(e){this._xName!==e&&(this._xName=e,this.scheduleUpdate())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"yKey",{get:function(){return this._yKey},set:function(e){this._yKey=e,this.seriesItemEnabled=!0,this.scheduleData()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"yName",{get:function(){return this._yName},set:function(e){this._yName=e,this.scheduleData()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"strokeWidth",{get:function(){return this._strokeWidth},set:function(e){this._strokeWidth!==e&&(this._strokeWidth=e,this.scheduleUpdate())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"shadow",{get:function(){return this._shadow},set:function(e){this._shadow!==e&&(this._shadow=e,this.scheduleUpdate())},enumerable:!0,configurable:!0}),n.prototype.onHighlightChange=function(){this.updateRectNodes()},n.prototype.setColors=function(e,o){this.fill=e[0],this.stroke=o[0]},n.prototype.deriveBins=function(){var e=this,u=this.bins;if(!this.data)return[];if(u)return u;var m=this.data.map(function(R){return R[e.xKey]}),y=this.fixNumericExtent(cs(m,na),"x"),w=id(y[0],y[1],this.binCount||10),D=Ll(y[0],y[1],this.binCount||10),x=w[0];return Dg([[x-D,x]],w.map(function(R){return[R,R+D]}))},n.prototype.placeDataInBins=function(e){var o=this,u=this.xKey,c=this.deriveBins(),m=e.slice().sort(function(I,N){return I[u]<N[u]?-1:I[u]>N[u]?1:0}),y=0,w=[new Ag(c[0])];e:for(var D=0,x=m.length;D<x;D++){for(var P=m[D];P[u]>c[y][1];){var R=c[++y];if(!R)break e;w.push(new Ag(R))}w[y].addDatum(P)}return w.forEach(function(I){return I.calculateAggregatedValue(o._aggregation,o.yKey)}),w},Object.defineProperty(n.prototype,"xMax",{get:function(){var e=this;return this.data&&this.data.reduce(function(o,u){return Math.max(o,u[e.xKey])},Number.NEGATIVE_INFINITY)},enumerable:!0,configurable:!0}),n.prototype.processData=function(){var e=this,c=this.data;this.binnedData=this.placeDataInBins(this.xKey&&c?c:[]);var y=cs(this.binnedData.map(function(R){return R.getY(e.areaPlot)}),na);return this.yDomain=this.fixNumericExtent([0,y?y[1]:1],"y"),this.xDomain=[this.binnedData[0].domain[0],this.binnedData[this.binnedData.length-1].domain[1]],this.fireEvent({type:"dataProcessed"}),!0},n.prototype.getDomain=function(e){return e===kn.X?this.xDomain:this.yDomain},n.prototype.fireNodeClickEvent=function(e,o){this.fireEvent({type:"nodeClick",event:e,series:this,datum:o.datum,xKey:this.xKey})},n.prototype.update=function(){this.updatePending=!1,this.updateSelections(),this.updateNodes()},n.prototype.updateSelections=function(){if(this.nodeDataPending){this.nodeDataPending=!1;var e=this.createNodeData();this.updateRectSelection(e),this.updateTextSelection(e)}},n.prototype.updateNodes=function(){this.group.visible=this.visible,this.updateRectNodes(),this.updateTextNodes()},n.prototype.createNodeData=function(){var e=this,u=this.xAxis,c=this.yAxis;if(!this.seriesItemEnabled||!u||!c)return[];var m=u.scale,y=c.scale,w=this,D=w.fill,x=w.stroke,P=w.strokeWidth,R=[],N=this.label,V=N.formatter,z=void 0===V?function(se){return String(se.value)}:V,Y=N.fontStyle,X=N.fontWeight,q=N.fontSize,ie=N.fontFamily,ce=N.color;return this.binnedData.forEach(function(se){var ue=se.aggregatedValue,fe=se.frequency,ye=ec(se.domain,2),ke=ye[1],Ne=se.relativeHeight,Pe=m.convert(ye[0]),Ie=m.convert(ke),xe=e.areaPlot?Ne:e.yKey?ue:fe,Oe=y.convert(0),et=y.convert(xe),Qe=Ie-Pe,Ot=Math.abs(et-Oe),qe=0!==xe?{text:z({value:se.aggregatedValue}),fontStyle:Y,fontWeight:X,fontSize:q,fontFamily:ie,fill:ce,x:Pe+Qe/2,y:et+Ot/2}:void 0;R.push({series:e,datum:se,x:Pe,y:et,width:Qe,height:Ot,fill:D,stroke:x,strokeWidth:P,label:qe})}),R},n.prototype.updateRectSelection=function(e){var o=this.rectSelection.setData(e);o.exit.remove();var u=o.enter.append(tl).each(function(c){c.tag=tc.Bin,c.crisp=!0});this.rectSelection=o.merge(u)},n.prototype.updateRectNodes=function(){var e=this;if(this.chart){var o=this,u=o.fillOpacity,c=o.strokeOpacity,m=o.shadow,y=o.chart.highlightedDatum,w=o.highlightStyle,R=w.item,I=R.fill,N=void 0===I?w.fill:I,V=R.stroke,z=void 0===V?w.stroke:V,Y=R.strokeWidth,X=void 0===Y?w.strokeWidth:Y;this.rectSelection.each(function(q,ie,ce){var se=ie===y,ue=se&&void 0!==X?X:e.getStrokeWidth(ie.strokeWidth,ie);q.x=ie.x,q.y=ie.y,q.width=ie.width,q.height=ie.height,q.fill=se&&void 0!==N?N:ie.fill,q.stroke=se&&void 0!==z?z:ie.stroke,q.fillOpacity=u,q.strokeOpacity=c,q.strokeWidth=ue,q.lineDash=e.lineDash,q.lineDashOffset=e.lineDashOffset,q.fillShadow=m,q.zIndex=se?Ql.highlightedZIndex:ce,q.visible=ie.height>0,q.opacity=e.getOpacity(ie)})}},n.prototype.updateTextSelection=function(e){var o=this.textSelection.setData(e);o.exit.remove();var u=o.enter.append(Ji).each(function(c){c.tag=tc.Label,c.pointerEvents=Pi.None,c.textAlign="center",c.textBaseline="middle"});this.textSelection=o.merge(u)},n.prototype.updateTextNodes=function(){var e=this.label.enabled;this.textSelection.each(function(o,u){var c=u.label;c&&e?(o.text=c.text,o.x=c.x,o.y=c.y,o.fontStyle=c.fontStyle,o.fontWeight=c.fontWeight,o.fontSize=c.fontSize,o.fontFamily=c.fontFamily,o.fill=c.fill,o.visible=!0):o.visible=!1})},n.prototype.getTooltipHtml=function(e){var o=this,u=o.xKey,c=o.yKey,m=o.xAxis,y=o.yAxis;if(!u||!m||!y)return"";var w=this,D=w.xName,x=w.yName,P=w.fill,I=w.aggregation,N=w.tooltip.renderer,V=e.datum,z=V.aggregatedValue,Y=V.frequency,X=ec(V.domain,2),q=X[0],ie=X[1],ce=Kn(D||u)+": "+m.formatDatum(q)+" - "+m.formatDatum(ie),se=c?"<b>"+Kn(x||c)+" ("+I+")</b>: "+y.formatDatum(z)+"<br>":"",ue={title:ce,backgroundColor:P,content:se+="<b>Frequency</b>: "+Y};return N?Jr(N({datum:V,xKey:u,xValue:V.domain,xName:D,yKey:c,yValue:V.aggregatedValue,yName:x,color:P}),ue):Jr(ue)},n.prototype.listSeriesItems=function(e){var o=this,c=o.data,m=o.yKey;c&&c.length&&e.push({id:o.id,itemId:m,enabled:o.seriesItemEnabled,label:{text:o.yName||m||"Frequency"},marker:{fill:o.fill||"rgba(0, 0, 0, 0)",stroke:o.stroke||"rgba(0, 0, 0, 0)",fillOpacity:o.fillOpacity,strokeOpacity:o.strokeOpacity}})},n.prototype.toggleSeriesItem=function(e,o){e===this.yKey&&(this.seriesItemEnabled=o),this.scheduleData()},n.className="HistogramSeries",n.type="histogram",vt([De("dataChange")],n.prototype,"fill",void 0),vt([De("dataChange")],n.prototype,"stroke",void 0),vt([De("layoutChange")],n.prototype,"fillOpacity",void 0),vt([De("layoutChange")],n.prototype,"strokeOpacity",void 0),vt([De("update")],n.prototype,"lineDash",void 0),vt([De("update")],n.prototype,"lineDashOffset",void 0),n}(uh),nc=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),_E=function(h){function n(){var e=null!==h&&h.apply(this,arguments)||this;return e.data=void 0,e}return nc(n,h),function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);u>3&&c&&Object.defineProperty(n,e,c)}([De("dataChange")],n.prototype,"data",void 0),n}(Ql),rc=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),ic=function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);return u>3&&c&&Object.defineProperty(n,e,c),c},Iy=function(h){function n(){var e=null!==h&&h.apply(this,arguments)||this;return e.enabled=!0,e.color="rgba(0, 0, 0, 0.5)",e.xOffset=0,e.yOffset=0,e.blur=5,e}return rc(n,h),ic([De("change")],n.prototype,"enabled",void 0),ic([De("change")],n.prototype,"color",void 0),ic([De("change")],n.prototype,"xOffset",void 0),ic([De("change")],n.prototype,"yOffset",void 0),ic([De("change")],n.prototype,"blur",void 0),n}(Fr);function wr(h,n,e,o,u){var m=h.value&&(u-e)/h.value;h.children.forEach(function(y){y.x0=n,y.x1=o,y.y0=e,y.y1=e+=y.value*m})}function Gb(h,n,e,o,u){var m=h.value&&(o-n)/h.value;h.children.forEach(function(y){y.x0=n,y.x1=n+=y.value*m,y.y0=e,y.y1=u})}function CE(h){h.x0=Math.round(h.x0),h.y0=Math.round(h.y0),h.x1=Math.round(h.x1),h.y1=Math.round(h.y1)}var g=function h(n){function e(o,u,c,m,y){!function(h,n,e,o,u,c){for(var R,I,N,V,z,Y,X,q,ie,ce,m=[],y=n.children,w=y.length,D=n.value,x=0,P=0;x<w;){R=u-e,I=c-o;do{V=y[P++].value}while(!V&&P<w);for(z=Y=V,ce=V*V*(ie=Math.max(I/R,R/I)/(D*h)),q=Math.max(Y/ce,ce/z);P<w;++P){if((N=y[P].value)<z&&(z=N),N>Y&&(Y=N),ce=(V+=N)*V*ie,(X=Math.max(Y/ce,ce/z))>q){V-=N;break}q=X}var se={value:V,dice:R<I,children:y.slice(x,P)};m.push(se),se.dice?Gb(se,e,o,u,D?o+=I*V/D:c):wr(se,e,o,D?e+=R*V/D:u,c),D-=V,x=P}}(n,o,u,c,m,y)}return e.ratio=function(o){return h((o=+o)>1?o:1)},e}((1+Math.sqrt(5))/2),i=function(){function h(){this.paddingStack=[0],this.dx=1,this.dy=1,this.round=!0,this.tile=g,this.paddingInner=function(n){return 0},this.paddingTop=function(n){return 0},this.paddingRight=function(n){return 0},this.paddingBottom=function(n){return 0},this.paddingLeft=function(n){return 0}}return Object.defineProperty(h.prototype,"size",{get:function(){return[this.dx,this.dy]},set:function(n){this.dx=n[0],this.dy=n[1]},enumerable:!0,configurable:!0}),h.prototype.processData=function(n){return n.x0=0,n.y0=0,n.x1=this.dx,n.y1=this.dy,n.eachBefore(this.positionNode.bind(this)),this.paddingStack=[0],this.round&&n.eachBefore(CE),n},h.prototype.positionNode=function(n){var e=this.paddingStack[n.depth],o=n.x0+e,u=n.y0+e,c=n.x1-e,m=n.y1-e;c<o&&(o=c=(o+c)/2),m<u&&(u=m=(u+m)/2),n.x0=o,n.y0=u,n.x1=c,n.y1=m,n.children&&(e=this.paddingStack[n.depth+1]=this.paddingInner(n)/2,o+=this.paddingLeft(n)-e,u+=this.paddingTop(n)-e,(c-=this.paddingRight(n)-e)<o&&(o=c=(o+c)/2),(m-=this.paddingBottom(n)-e)<u&&(u=m=(u+m)/2),this.tile(n,o,u,c,m))},h}(),t=function(){function h(n){this.value=0,this.depth=0,this.height=0,this.parent=void 0,this.children=void 0,this.datum=n}return h.prototype.countFn=function(n){var e=0,o=n.children;if(o&&o.length)for(var u=o.length;--u>=0;)e+=o[u].value;else e=1;n.value=e},h.prototype.count=function(){return this.eachAfter(this.countFn)},h.prototype.each=function(n,e){var o=this,u=-1;return this.iterator(function(c){n.call(e,c,++u,o)}),this},h.prototype.eachAfter=function(n,e){for(var o=this,u=[o],c=[];o=u.pop();){c.push(o);var m=o.children;if(m)for(var y=0,w=m.length;y<w;++y)u.push(m[y])}for(var D=-1;o=c.pop();)n.call(e,o,++D,this);return this},h.prototype.eachBefore=function(n,e){for(var o=this,u=[o],c=-1;o=u.pop();){n.call(e,o,++c,this);var m=o.children;if(m)for(var y=m.length-1;y>=0;--y)u.push(m[y])}return this},h.prototype.find=function(n,e){var c,o=this,u=-1;return this.iterator(function(m){if(n.call(e,m,++u,o))return c=m,!1}),c},h.prototype.sum=function(n){return this.eachAfter(function(e){var o=+n(e.datum)||0,u=e.children;if(u)for(var c=u.length;--c>=0;)o+=u[c].value;e.value=o})},h.prototype.sort=function(n){return this.eachBefore(function(e){e.children&&e.children.sort(n)})},h.prototype.path=function(n){for(var e=this,o=function(h,n){if(h&&n){if(h===n)return h;var e=h.ancestors(),o=n.ancestors(),u=void 0;for(h=e.pop(),n=o.pop();h===n;)u=h,h=e.pop(),n=o.pop();return u}}(e,n),u=[e];e!==o;)u.push(e=e.parent);for(var c=u.length;n!==o;)u.splice(c,0,n),n=n.parent;return u},h.prototype.ancestors=function(){for(var n=this,e=[n];n=n.parent;)e.push(n);return e},h.prototype.descendants=function(){var n=[];return this.iterator(function(e){return n.push(e)}),n},h.prototype.leaves=function(){var n=[];return this.eachBefore(function(e){e.children||n.push(e)}),n},h.prototype.links=function(){var n=this,e=[];return n.each(function(o){o!==n&&e.push({source:o.parent,target:o})}),e},h.prototype.copy=function(){},h.prototype.iterator=function(n){var u,e=this,o=[e];e:do{for(u=o.reverse(),o=[];e=u.pop();){if(!1===n(e))break e;var c=e.children;if(c)for(var m=0,y=c.length;m<y;++m)o.push(c[m])}}while(o.length)},h}();function s(h,n){h instanceof Map?(h=[void 0,h],void 0===n&&(n=f)):void 0===n&&(n=_);for(var u,c,m,y,w,e=new t(h),o=[e];u=o.pop();)if((m=n(u.datum))&&(w=(m=Array.from(m)).length))for(u.children=m,y=w-1;y>=0;--y)o.push(c=m[y]=new t(m[y])),c.parent=u,c.depth=u.depth+1;return e.eachBefore(p)}function p(h){var n=0;do{h.height=n}while((h=h.parent)&&h.height<++n)}function f(h){return Array.isArray(h)?h[1]:void 0}function _(h){return h.children}var A=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),M=function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);return u>3&&c&&Object.defineProperty(n,e,c),c},L=function(h){function n(){return null!==h&&h.apply(this,arguments)||this}return A(n,h),M([De("change")],n.prototype,"renderer",void 0),n}(Xl),G=function(h){function n(){var e=null!==h&&h.apply(this,arguments)||this;return e.padding=10,e}return A(n,h),M([De("change")],n.prototype,"padding",void 0),n}(lo),U=(()=>(function(h){h[h.Name=0]="Name",h[h.Value=1]="Value"}(U||(U={})),U))(),te=function(h){function n(){var o,e=h.call(this)||this;return e.groupSelection=si.select(e.pickGroup).selectAll(),e.labelMap=new Map,e.layout=new i,e.title=((o=new G).color="white",o.fontWeight="bold",o.fontSize=12,o.fontFamily="Verdana, sans-serif",o.padding=15,o),e.subtitle=function(){var o=new G;return o.color="white",o.fontSize=9,o.fontFamily="Verdana, sans-serif",o.padding=13,o}(),e.labels={large:function(){var o=new lo;return o.color="white",o.fontWeight="bold",o.fontSize=18,o}(),medium:function(){var o=new lo;return o.color="white",o.fontWeight="bold",o.fontSize=14,o}(),small:function(){var o=new lo;return o.color="white",o.fontWeight="bold",o.fontSize=10,o}(),color:function(){var o=new lo;return o.color="white",o}()},e._nodePadding=2,e.labelKey="label",e.sizeKey="size",e.colorKey="color",e.colorDomain=[-5,5],e.colorRange=["#cb4b3f","#6acb64"],e.colorParents=!1,e.gradient=!0,e.colorName="Change",e.rootName="Root",e._shadow=function(){var o=new Iy;return o.color="rgba(0, 0, 0, 0.4)",o.xOffset=1.5,o.yOffset=1.5,o}(),e.tooltip=new L,e.shadow.addEventListener("change",e.scheduleUpdate,e),e.title.addEventListener("change",e.scheduleUpdate,e),e.subtitle.addEventListener("change",e.scheduleUpdate,e),e.labels.small.addEventListener("change",e.scheduleUpdate,e),e.labels.medium.addEventListener("change",e.scheduleUpdate,e),e.labels.large.addEventListener("change",e.scheduleUpdate,e),e.labels.color.addEventListener("change",e.scheduleUpdate,e),e}return A(n,h),Object.defineProperty(n.prototype,"nodePadding",{get:function(){return this._nodePadding},set:function(e){this._nodePadding!==e&&(this._nodePadding=e,this.updateLayoutPadding(),this.scheduleUpdate())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"shadow",{get:function(){return this._shadow},set:function(e){this._shadow!==e&&(this._shadow=e,this.scheduleUpdate())},enumerable:!0,configurable:!0}),n.prototype.onHighlightChange=function(){this.updateNodes()},n.prototype.updateLayoutPadding=function(){var e=this,o=e.title,u=e.subtitle,c=e.nodePadding,m=e.labelKey;this.layout.paddingRight=function(y){return c},this.layout.paddingBottom=function(y){return c},this.layout.paddingLeft=function(y){return c},this.layout.paddingTop=function(y){var w=y.datum[m]||"";y.children&&(w=w.toUpperCase());var D=y.depth>1?u:o,x=Ys.getTextSize(w,[D.fontWeight,D.fontSize+"px",D.fontFamily].join(" ").trim()),R=y.depth>0&&y.children&&x.width<=y.x1-y.x0-2*c;return y.hasTitle=!!R,R?x.height+2*c:c}},n.prototype.processData=function(){if(!this.data)return!1;var x,e=this,o=e.data,u=e.sizeKey,c=e.labelKey,m=e.colorKey,y=e.colorDomain,w=e.colorRange,D=e.colorParents;x=u?s(o).sum(function(N){return N.children?1:N[u]}):s(o).sum(function(N){return N.children?0:1}),this.dataRoot=x;var P=new Jn;P.domain=y,P.range=w;var R=this;return function I(N,V){void 0===V&&(V=0);var z=N.children,Y=N.datum,X=Y[c],q=m?Y[m]:V;N.series=R,N.fill=!z||D?P.convert(q):"#272931",N.colorValue=q,N.label=X?z?X.toUpperCase():X:"",z&&z.forEach(function(ie){return I(ie,V+1)})}(this.dataRoot),!0},n.prototype.getLabelCenterX=function(e){return(e.x0+e.x1)/2},n.prototype.getLabelCenterY=function(e){return(e.y0+e.y1)/2+2},n.prototype.update=function(){this.updatePending=!1,this.updateSelections(),this.updateNodes()},n.prototype.updateSelections=function(){if(this.nodeDataPending){this.nodeDataPending=!1;var o=this.chart,u=this.dataRoot;if(o&&u){var c=o.getSeriesRect();if(c){this.layout.size=[c.width,c.height],this.updateLayoutPadding();var m=this.layout.processData(u).descendants(),y=this.groupSelection.setData(m);y.exit.remove();var w=y.enter.append(Nr);w.append(tl),w.append(Ji).each(function(D){return D.tag=U.Name}),w.append(Ji).each(function(D){return D.tag=U.Value}),this.groupSelection=y.merge(w)}}}},n.prototype.updateNodes=function(){var e=this;if(this.chart){var o=this,u=o.colorKey,c=o.labelMap,m=o.nodePadding,y=o.title,w=o.subtitle,D=o.labels,x=o.shadow,P=o.gradient,R=o.chart.highlightedDatum,I=o.highlightStyle,Y=I.item,X=Y.fill,q=void 0===X?I.fill:X,ie=Y.stroke,ce=void 0===ie?I.stroke:ie,se=Y.strokeWidth,ue=void 0===se?I.strokeWidth:se;this.groupSelection.selectByClass(tl).each(function(fe,ye){var Se=ye===R,ke=Se&&void 0!==q?q:ye.fill,Ne=Se&&void 0!==ce?ce:ye.depth<2?void 0:"black",Pe=Se&&void 0!==ue?ue:e.getStrokeWidth(1,ye);fe.fill=ke,fe.stroke=Ne,fe.strokeWidth=Pe,fe.crisp=!0,fe.gradient=P,fe.x=ye.x0,fe.y=ye.y0,fe.width=ye.x1-ye.x0,fe.height=ye.y1-ye.y0}),this.groupSelection.selectByTag(U.Name).each(function(fe,ye,Se){var Oe,ke=!ye.children,Ne=ye.x1-ye.x0-2*m,Pe=ye.y1-ye.y0-2*m,Ie=ye.hasTitle,xe=ye===R;fe.fontWeight=(Oe=ke?Ne>40&&Pe>40?D.large:Ne>20&&Pe>20?D.medium:D.small:ye.depth>1?w:y).fontWeight,fe.fontSize=Oe.fontSize,fe.fontFamily=Oe.fontFamily,fe.textBaseline=ke?"bottom":Ie?"top":"middle",fe.textAlign=Ie?"left":"center",fe.text=ye.label;var et=fe.computeBBox(),Qe=ke&&!!et&&et.width<=Ne&&2*et.height+8<=Pe;c.set(Se,fe),fe.fill=xe?"black":Oe.color,fe.fillShadow=Qe&&!xe?x:void 0,fe.visible=Ie||Qe,Ie?(fe.x=ye.x0+m,fe.y=ye.y0+m):(fe.x=e.getLabelCenterX(ye),fe.y=e.getLabelCenterY(ye))}),this.groupSelection.selectByTag(U.Value).each(function(fe,ye,Se){var ke=!ye.children,Ne=ye.x1-ye.x0-2*m,Pe=ye===R,Ie=ye.colorValue,xe=D.color;fe.fontSize=xe.fontSize,fe.fontFamily=xe.fontFamily,fe.fontStyle=xe.fontStyle,fe.fontWeight=xe.fontWeight,fe.textBaseline="top",fe.textAlign="center",fe.text="number"==typeof Ie&&isFinite(Ie)?String(Xv(ye.colorValue))+"%":"";var Oe=fe.computeBBox(),et=c.get(Se),Ot=ke&&!!u&&!!et&&et.visible&&!!Oe&&Oe.width<Ne;fe.fill=Pe?"black":xe.color,fe.fillShadow=Pe?void 0:x,fe.visible=Ot,Ot?(fe.x=e.getLabelCenterX(ye),fe.y=e.getLabelCenterY(ye)):et&&(!ye.children||!ye.children.length)&&(et.textBaseline="middle",et.y=e.getLabelCenterY(ye))})}},n.prototype.getDomain=function(e){return[0,1]},n.prototype.fireNodeClickEvent=function(e,o){this.fireEvent({type:"nodeClick",event:e,series:this,datum:o.datum,labelKey:this.labelKey,sizeKey:this.sizeKey,colorKey:this.colorKey})},n.prototype.getTooltipHtml=function(e){var o=this,c=o.sizeKey,m=o.labelKey,y=o.colorKey,w=o.colorName,x=e.datum,P=o.tooltip.renderer,R=e.depth?x[m]:o.rootName||x[m],I=void 0,N=e.fill||"gray";if(y&&w){var V=x[y];"number"==typeof V&&isFinite(V)&&(I="<b>"+w+"</b>: "+Xv(x[y]))}var z={title:R,backgroundColor:N,content:I};return P?Jr(P({datum:e,sizeKey:c,labelKey:m,colorKey:y,title:R,color:N}),z):Jr(z)},n.prototype.listSeriesItems=function(e){},n.className="TreemapSeries",n.type="treemap",M([De("dataChange")],n.prototype,"labelKey",void 0),M([De("dataChange")],n.prototype,"sizeKey",void 0),M([De("dataChange")],n.prototype,"colorKey",void 0),M([De("dataChange")],n.prototype,"colorDomain",void 0),M([De("dataChange")],n.prototype,"colorRange",void 0),M([De("dataChange")],n.prototype,"colorParents",void 0),M([De("update")],n.prototype,"gradient",void 0),n}(_E),le=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),ge=function(h){function n(){var e=null!==h&&h.apply(this,arguments)||this;return e._centerX=0,e._centerY=0,e._centerOffset=0,e._innerRadius=10,e._outerRadius=20,e._startAngle=0,e._endAngle=2*Math.PI,e._angleOffset=0,e}return le(n,h),Object.defineProperty(n.prototype,"centerX",{get:function(){return this._centerX},set:function(e){this._centerX!==e&&(this._centerX=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"centerY",{get:function(){return this._centerY},set:function(e){this._centerY!==e&&(this._centerY=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"centerOffset",{get:function(){return this._centerOffset},set:function(e){this._centerOffset!==e&&(this._centerOffset=Math.max(0,e),this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"innerRadius",{get:function(){return this._innerRadius},set:function(e){this._innerRadius!==e&&(this._innerRadius=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"outerRadius",{get:function(){return this._outerRadius},set:function(e){this._outerRadius!==e&&(this._outerRadius=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"startAngle",{get:function(){return this._startAngle},set:function(e){this._startAngle!==e&&(this._startAngle=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"endAngle",{get:function(){return this._endAngle},set:function(e){this._endAngle!==e&&(this._endAngle=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"angleOffset",{get:function(){return this._angleOffset},set:function(e){this._angleOffset!==e&&(this._angleOffset=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),n.prototype.computeBBox=function(){var e=this.outerRadius;return new dr(this.centerX-e,this.centerY-e,2*e,2*e)},n.prototype.isFullPie=function(){return Hl(Na(this.startAngle),Na(this.endAngle))},n.prototype.updatePath=function(){var e=this.path,o=this.angleOffset,u=Math.min(this.startAngle,this.endAngle)+o,c=Math.max(this.startAngle,this.endAngle)+o,m=.5*(u+c),y=Math.min(this.innerRadius,this.outerRadius),w=Math.max(this.innerRadius,this.outerRadius),D=this.centerOffset,x=this.isFullPie(),P=this.centerX,R=this.centerY;if(e.clear(),D&&(P+=D*Math.cos(m),R+=D*Math.sin(m)),x||(e.moveTo(P+y*Math.cos(u),R+y*Math.sin(u)),e.lineTo(P+w*Math.cos(u),R+w*Math.sin(u))),e.cubicArc(P,R,w,w,0,u,c,0),x)e.moveTo(P+y*Math.cos(c),R+y*Math.sin(c));else{var I=P+y*Math.cos(c);e.lineTo(Math.abs(I)<1e-8?0:I,R+y*Math.sin(c))}e.cubicArc(P,R,y,y,0,c,u,1),e.closePath(),this.dirtyPath=!1},n.className="Sector",n}(Ia),ve=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),we=function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);return u>3&&c&&Object.defineProperty(n,e,c),c},Re=function(h,n){var e="function"==typeof Symbol&&h[Symbol.iterator];if(!e)return h;var u,m,o=e.call(h),c=[];try{for(;(void 0===n||n-- >0)&&!(u=o.next()).done;)c.push(u.value)}catch(y){m={error:y}}finally{try{u&&!u.done&&(e=o.return)&&e.call(o)}finally{if(m)throw m.error}}return c},Fe=function(){for(var h=[],n=0;n<arguments.length;n++)h=h.concat(Re(arguments[n]));return h},Ye=function(h){function n(){return null!==h&&h.apply(this,arguments)||this}return ve(n,h),n}(ql),dt=(()=>(function(h){h[h.Sector=0]="Sector",h[h.Callout=1]="Callout",h[h.Label=2]="Label"}(dt||(dt={})),dt))(),Cn=function(h){function n(){var e=null!==h&&h.apply(this,arguments)||this;return e.offset=3,e.minAngle=20,e}return ve(n,h),we([De("change")],n.prototype,"offset",void 0),we([De("dataChange")],n.prototype,"minAngle",void 0),we([De("dataChange")],n.prototype,"formatter",void 0),n}(lo),$t=function(h){function n(){var e=null!==h&&h.apply(this,arguments)||this;return e.colors=["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"],e.length=10,e.strokeWidth=1,e}return ve(n,h),we([De("change")],n.prototype,"colors",void 0),we([De("change")],n.prototype,"length",void 0),we([De("change")],n.prototype,"strokeWidth",void 0),n}(Fr),It=function(h){function n(){return null!==h&&h.apply(this,arguments)||this}return ve(n,h),we([De("change")],n.prototype,"renderer",void 0),n}(Xl),sn=function(h){function n(){var e=null!==h&&h.apply(this,arguments)||this;return e.showInLegend=!1,e}return ve(n,h),we([De()],n.prototype,"showInLegend",void 0),n}(Hu),nn=function(h){function n(){var o,e=h.call(this)||this;return e.radiusScale=new Jn,e.groupSelection=si.select(e.pickGroup).selectAll(),e.groupSelectionData=[],e.angleScale=((o=new Jn).domain=[0,1],o.range=[-Math.PI,Math.PI].map(function(u){return u+Math.PI/2}),o),e.seriesItemEnabled=[],e.label=new Cn,e.callout=new $t,e.tooltip=new It,e.angleKey="",e.angleName="",e._fills=["#c16068","#a2bf8a","#ebcc87","#80a0c3","#b58dae","#85c0d1"],e._strokes=["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"],e.fillOpacity=1,e.strokeOpacity=1,e.lineDash=[0],e.lineDashOffset=0,e.rotation=0,e.outerRadiusOffset=0,e.innerRadiusOffset=0,e.strokeWidth=1,e.highlightStyle=new Ye,e.addEventListener("update",e.scheduleUpdate,e),e.label.addEventListener("change",e.scheduleUpdate,e),e.label.addEventListener("dataChange",e.scheduleData,e),e.callout.addEventListener("change",e.scheduleLayout,e),e.addPropertyListener("data",function(o){o.value&&(o.source.seriesItemEnabled=o.value.map(function(){return!0}))}),e}return ve(n,h),Object.defineProperty(n.prototype,"title",{get:function(){return this._title},set:function(e){var o=this._title;function u(){this.fireEvent({type:"legendChange"})}o!==e&&(o&&(o.removeEventListener("change",this.scheduleUpdate,this),o.addPropertyListener("showInLegend",u,this),this.group.removeChild(o.node)),e&&(e.node.textBaseline="bottom",e.addEventListener("change",this.scheduleUpdate,this),e.addPropertyListener("showInLegend",u,this),this.group.appendChild(e.node)),this._title=e,this.scheduleUpdate())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"fills",{get:function(){return this._fills},set:function(e){this._fills=e,this.scheduleUpdate()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"strokes",{get:function(){return this._strokes},set:function(e){this._strokes=e,this.scheduleUpdate()},enumerable:!0,configurable:!0}),n.prototype.onHighlightChange=function(){this.updateNodes()},n.prototype.setColors=function(e,o){this.fills=e,this.strokes=o,this.callout.colors=o},n.prototype.getDomain=function(e){return e===kn.X?this.angleScale.domain:this.radiusScale.domain},n.prototype.processData=function(){var Ne,e=this,o=this,u=o.angleKey,c=o.radiusKey,m=o.seriesItemEnabled,y=o.angleScale,w=o.groupSelectionData,D=o.label,x=u&&this.data?this.data:[],P=x.map(function(Ne,Pe){return m[Pe]&&Math.abs(+Ne[u])||0}),R=P.reduce(function(Ne,Pe){return Ne+Pe},0),I=(Ne=0,P.map(function(Pe){return Ne+=Pe/R})),N=D.formatter,V=D.enabled&&this.labelKey,z=[],Y=[];if(V&&(z=x.map(N?function(Ne){return N({value:Ne[V]})}:function(Ne){return String(Ne[V])})),c){var q=this.radiusMin,ie=this.radiusMax,ce=x.map(function(Ne){return Math.abs(Ne[c])}),se=void 0!==q?q:Math.min.apply(Math,Fe(ce)),fe=(void 0!==ie?ie:Math.max.apply(Math,Fe(ce)))-se;Y=ce.map(function(Ne){return fe?(Ne-se)/fe:1})}w.length=0;var ye=rr(this.rotation),Se=Math.PI/2,ke=0;return I.reduce(function(Ne,Pe){var Qt,on,Ie=c?Y[ke]:1,xe=y.convert(Ne)+ye,Oe=y.convert(Pe)+ye,et=(xe+Oe)/2,Qe=Math.abs(Oe-xe),Ot=Math.cos(et),qe=Math.sin(et),xt=rr(D.minAngle),Ze=V&&Qe>xt,At=function(h){return(h%=ds)<-Math.PI?h+=ds:h>=Math.PI&&(h-=ds),h}(et),Dt=-3*Math.PI/4;return At>=Dt&&At<(Dt+=Se)?(Qt="center",on="bottom"):At>=Dt&&At<(Dt+=Se)?(Qt="left",on="middle"):At>=Dt&&At<(Dt+=Se)?(Qt="center",on="hanging"):(Qt="right",on="middle"),w.push({series:e,datum:x[ke],itemId:ke,index:ke,radius:Ie,startAngle:xe,endAngle:Oe,midAngle:et,midCos:Ot,midSin:qe,label:Ze?{text:z[ke],textAlign:Qt,textBaseline:on}:void 0}),ke++,Pe},0),!0},n.prototype.update=function(){this.updatePending=!1;var e=this,o=e.radius,u=e.innerRadiusOffset,c=e.outerRadiusOffset,m=e.title;this.radiusScale.range=[u?o+u:0,o+(c||0)],this.group.translationX=this.centerX,this.group.translationY=this.centerY,m&&(0===Math.max(0,this.radiusScale.range[1])?m.node.visible=!1:(m.node.translationY=-o-c-2,m.node.visible=m.enabled)),this.updateSelections(),this.updateNodes()},n.prototype.updateSelections=function(){!this.nodeDataPending||(this.nodeDataPending=!1,this.updateGroupSelection())},n.prototype.updateGroupSelection=function(){var e=this.groupSelection.setData(this.groupSelectionData);e.exit.remove();var o=e.enter.append(Nr);o.append(ge).each(function(u){return u.tag=dt.Sector}),o.append(Fa).each(function(u){u.tag=dt.Callout,u.pointerEvents=Pi.None}),o.append(Ji).each(function(u){u.tag=dt.Label,u.pointerEvents=Pi.None}),this.groupSelection=e.merge(o)},n.prototype.updateNodes=function(){var e=this;if(this.chart){this.group.visible=this.visible&&this.seriesItemEnabled.indexOf(!0)>=0;var o=this,u=o.fills,c=o.strokes,m=o.fillOpacity,y=o.strokeOpacity,w=o.radiusScale,D=o.callout,x=o.shadow,P=o.chart.highlightedDatum,R=o.highlightStyle,z=R.item,Y=z.fill,X=void 0===Y?R.fill:Y,q=z.stroke,ie=void 0===q?R.stroke:q,ce=z.strokeWidth,se=void 0===ce?R.strokeWidth:ce,ue=o.angleKey,fe=o.radiusKey,ye=o.formatter,Se=[],ke=w.convert(0);this.groupSelection.selectByTag(dt.Sector).each(function(Ze,At,Dt){var Qt=w.convert(At.radius),on=!!P&&P.series===e&&At.itemId===P.itemId,wn=on&&void 0!==X?X:u[Dt%u.length],yn=on&&void 0!==ie?ie:c[Dt%c.length],Wn=on&&void 0!==se?se:e.getStrokeWidth(e.strokeWidth),Nt=void 0;ye&&(Nt=ye({datum:At.datum,angleKey:ue,radiusKey:fe,fill:wn,stroke:yn,strokeWidth:Wn,highlighted:on}));var Zt=Ze.parent&&Ze.parent.parent;on&&Zt&&(Zt.removeChild(Ze.parent),Zt.appendChild(Ze.parent)),Ze.innerRadius=Math.max(0,ke),Ze.outerRadius=Math.max(0,Qt),Ze.startAngle=At.startAngle,Ze.endAngle=At.endAngle,Ze.fill=Nt&&Nt.fill||wn,Ze.stroke=Nt&&Nt.stroke||yn,Ze.strokeWidth=Nt&&void 0!==Nt.strokeWidth?Nt.strokeWidth:Wn,Ze.fillOpacity=m,Ze.strokeOpacity=y,Ze.lineDash=e.lineDash,Ze.lineDashOffset=e.lineDashOffset,Ze.fillShadow=x,Ze.lineJoin="round",Ze.opacity=e.getOpacity(),Se.push(Ze.centerOffset)});var Ne=D.colors,Pe=D.length,Ie=D.strokeWidth;this.groupSelection.selectByTag(dt.Callout).each(function(Ze,At,Dt){var Qt=w.convert(At.radius),on=Math.max(0,Qt);At.label&&0!==on?(Ze.strokeWidth=Ie,Ze.stroke=Ne[Dt%Ne.length],Ze.x1=At.midCos*on,Ze.y1=At.midSin*on,Ze.x2=At.midCos*(on+Pe),Ze.y2=At.midSin*(on+Pe)):Ze.stroke=void 0});var xe=this.label,Oe=xe.offset,et=xe.fontStyle,Qe=xe.fontWeight,Ot=xe.fontSize,qe=xe.fontFamily,xt=xe.color;this.groupSelection.selectByTag(dt.Label).each(function(Ze,At,Dt){var Qt=At.label,on=w.convert(At.radius),wn=Math.max(0,on);if(Qt&&0!==wn){var yn=Se[Dt]+wn+Pe+Oe;Ze.fontStyle=et,Ze.fontWeight=Qe,Ze.fontSize=Ot,Ze.fontFamily=qe,Ze.text=Qt.text,Ze.x=At.midCos*yn,Ze.y=At.midSin*yn,Ze.fill=xt,Ze.textAlign=Qt.textAlign,Ze.textBaseline=Qt.textBaseline}else Ze.fill=void 0})}},n.prototype.fireNodeClickEvent=function(e,o){this.fireEvent({type:"nodeClick",event:e,series:this,datum:o.datum,angleKey:this.angleKey,labelKey:this.labelKey,radiusKey:this.radiusKey})},n.prototype.getTooltipHtml=function(e){var o=this.angleKey;if(!o)return"";var u=this,c=u.fills,y=u.angleName,w=u.radiusKey,D=u.radiusName,x=u.labelKey,P=u.labelName,R=u.tooltip.renderer,I=c[e.index%c.length],N=e.datum,V=x?N[x]+": ":"",z=N[o],Y="number"==typeof z?Xv(z):z.toString(),X=this.title?this.title.text:void 0,ie={title:X,backgroundColor:I,content:V+Y};return R?Jr(R({datum:N,angleKey:o,angleValue:z,angleName:y,radiusKey:w,radiusValue:w?N[w]:void 0,radiusName:D,labelKey:x,labelName:P,title:X,color:I}),ie):Jr(ie)},n.prototype.listSeriesItems=function(e){var o=this,c=this.labelKey,m=this.data;if(m&&m.length&&c){var y=this,w=y.fills,D=y.strokes,x=y.id,P=this.title&&this.title.showInLegend&&this.title.text;m.forEach(function(R,I){var N=[];P&&N.push(P),N.push(String(R[c])),e.push({id:x,itemId:I,enabled:o.seriesItemEnabled[I],label:{text:N.join(" - ")},marker:{fill:w[I%w.length],stroke:D[I%D.length],fillOpacity:o.fillOpacity,strokeOpacity:o.strokeOpacity}})})}},n.prototype.toggleSeriesItem=function(e,o){this.seriesItemEnabled[e]=o,this.scheduleData()},n.className="PieSeries",n.type="pie",we([De("dataChange")],n.prototype,"angleKey",void 0),we([De("update")],n.prototype,"angleName",void 0),we([De("dataChange")],n.prototype,"radiusKey",void 0),we([De("update")],n.prototype,"radiusName",void 0),we([De("dataChange")],n.prototype,"radiusMin",void 0),we([De("dataChange")],n.prototype,"radiusMax",void 0),we([De("dataChange")],n.prototype,"labelKey",void 0),we([De("update")],n.prototype,"labelName",void 0),we([De("layoutChange")],n.prototype,"fillOpacity",void 0),we([De("layoutChange")],n.prototype,"strokeOpacity",void 0),we([De("update")],n.prototype,"lineDash",void 0),we([De("update")],n.prototype,"lineDashOffset",void 0),we([De("update")],n.prototype,"formatter",void 0),we([De("dataChange")],n.prototype,"rotation",void 0),we([De("layoutChange")],n.prototype,"outerRadiusOffset",void 0),we([De("dataChange")],n.prototype,"innerRadiusOffset",void 0),we([De("layoutChange")],n.prototype,"strokeWidth",void 0),we([De("layoutChange")],n.prototype,"shadow",void 0),n}(Zl);new io(function(h){h.setUTCSeconds(0,0)},function(h,n){h.setTime(h.getTime()+n*oo)},function(h,n){return(n.getTime()-h.getTime())/oo},function(h){return h.getUTCMinutes()}),new io(function(h){h.setUTCMinutes(0,0,0)},function(h,n){h.setTime(h.getTime()+n*fs)},function(h,n){return(n.getTime()-h.getTime())/fs},function(h){return h.getUTCHours()}),new io(function(h){h.setUTCDate(1),h.setUTCHours(0,0,0,0)},function(h,n){h.setUTCMonth(h.getUTCMonth()+n)},function(h,n){return n.getUTCMonth()-h.getUTCMonth()+12*(n.getUTCFullYear()-h.getUTCFullYear())},function(h){return h.getUTCMonth()});var Pd,Rg,nt,SE,ca,mn=function(){return mn=Object.assign||function(h){for(var n,e=1,o=arguments.length;e<o;e++)for(var u in n=arguments[e])Object.prototype.hasOwnProperty.call(n,u)&&(h[u]=n[u]);return h},mn.apply(this,arguments)},jD={fills:["#f3622d","#fba71b","#57b757","#41a9c9","#4258c9","#9a42c8","#c84164","#888888"],strokes:["#aa4520","#b07513","#3d803d","#2d768d","#2e3e8d","#6c2e8c","#8c2d46","#5f5f5f"]},uo={arrayMerge:function(h,n,e){return n},isMergeableObject:function(h){return Gf(h)&&!(h instanceof ry)}},ph=function(){function h(n){var e=this.createChartConfigPerSeries(this.getDefaults());if(Mi(n)){var o=(n=lr({},n,uo)).overrides;o&&(Mi(o.common)&&h.seriesTypes.concat(["cartesian","polar","hierarchy"]).forEach(function(u){e[u]=lr(e[u],o.common,uo)}),o.cartesian&&(e.cartesian=lr(e.cartesian,o.cartesian,uo),h.cartesianSeriesTypes.forEach(function(u){e[u]=lr(e[u],o.cartesian,uo)})),o.polar&&(e.polar=lr(e.polar,o.polar,uo),h.polarSeriesTypes.forEach(function(u){e[u]=lr(e[u],o.polar,uo)})),o.hierarchy&&(e.hierarchy=lr(e.hierarchy,o.hierarchy,uo),h.hierarchySeriesTypes.forEach(function(u){e[u]=lr(e[u],o.hierarchy,uo)})),h.seriesTypes.forEach(function(u){var c,m=o[u];m&&(m.series&&(m.series=((c={})[u]=m.series,c)),e[u]=lr(e[u],m,uo))}))}this.palette=n&&n.palette?n.palette:this.getPalette(),this.config=Object.freeze(e)}return h.prototype.getPalette=function(){return jD},h.getAxisDefaults=function(){return{top:{},right:{},bottom:{},left:{},thickness:0,title:{padding:{top:10,right:10,bottom:10,left:10},text:"Axis Title",fontStyle:void 0,fontWeight:"bold",fontSize:12,fontFamily:this.fontFamily,color:"rgb(70, 70, 70)"},label:{fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:this.fontFamily,padding:5,rotation:0,color:"rgb(87, 87, 87)",formatter:void 0},line:{width:1,color:"rgb(195, 195, 195)"},tick:{width:1,size:6,color:"rgb(195, 195, 195)",count:10},gridStyle:[{stroke:"rgb(219, 219, 219)",lineDash:[4,2]}]}},h.getSeriesDefaults=function(){return{tooltip:{enabled:!0,renderer:void 0},visible:!0,showInLegend:!0,cursor:"default",highlightStyle:{item:{fill:"yellow"},series:{dimOpacity:1}}}},h.getBarSeriesDefaults=function(){return mn(mn({},this.getSeriesDefaults()),{flipXY:!1,fillOpacity:1,strokeOpacity:1,xKey:"",xName:"",yKeys:[],yNames:[],grouped:!1,normalizedTo:void 0,strokeWidth:1,lineDash:[0],lineDashOffset:0,label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:this.fontFamily,color:"rgb(70, 70, 70)",formatter:void 0,placement:"inside"},shadow:{enabled:!1,color:"rgba(0, 0, 0, 0.5)",xOffset:3,yOffset:3,blur:5}})},h.getCartesianSeriesMarkerDefaults=function(){return{enabled:!0,shape:"circle",size:6,maxSize:30,strokeWidth:1,formatter:void 0}},h.getChartDefaults=function(){return{width:600,height:300,autoSize:!0,background:{visible:!0,fill:"white"},padding:{top:20,right:20,bottom:20,left:20},title:{enabled:!1,padding:{top:10,right:10,bottom:10,left:10},text:"Title",fontStyle:void 0,fontWeight:"bold",fontSize:16,fontFamily:this.fontFamily,color:"rgb(70, 70, 70)"},subtitle:{enabled:!1,padding:{top:10,right:10,bottom:10,left:10},text:"Subtitle",fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:this.fontFamily,color:"rgb(140, 140, 140)"},legend:{enabled:!0,position:"right",spacing:20,item:{paddingX:16,paddingY:8,marker:{shape:void 0,size:15,strokeWidth:1,padding:8},label:{color:"black",fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:this.fontFamily,formatter:void 0}}},tooltip:{enabled:!0,tracking:!0,delay:0,class:so.defaultTooltipClass}}},h.prototype.createChartConfigPerSeries=function(n){var e={cartesian:h.cartesianSeriesTypes,polar:h.polarSeriesTypes},o=function(c){e[c].forEach(function(m){n[m]||(n[m]=lr({},n[c],uo))})};for(var u in e)o(u);return n},h.prototype.getConfig=function(n,e){var o=GC(this.config,n,e);return Array.isArray(o)?lr([],o,uo):Mi(o)?lr({},o,uo):o},h.prototype.getDefaults=function(){return lr({},h.defaults,uo)},h.prototype.mergeWithParentDefaults=function(n){var e=Object.getPrototypeOf(Object.getPrototypeOf(this));if(e===Object.prototype){var o=lr({},h.defaults,uo);return lr(o,n,uo)}return lr(e.getDefaults(),n,uo)},h.prototype.setSeriesColors=function(n,e,o){var u=this.palette,c=this.getSeriesColorCount(e);if(c===1/0||0===c)n.setColors(u.fills,u.strokes);else{var m=GS(u.fills,o,c),y=GS(u.strokes,o,c);n.setColors(m,y),o+=c}return o},h.prototype.getYKeyCount=function(n){if(!Array.isArray(n))return 0;var e=0;return n.forEach(function(o){Array.isArray(o)?e+=o.length:e+=1}),e},h.prototype.getSeriesColorCount=function(n){switch(n.type){case"bar":case"column":case"area":return this.getYKeyCount(n.yKeys);case"pie":return 1/0;default:return 1}},h.fontFamily="Verdana, sans-serif",h.cartesianDefaults=mn(mn({},h.getChartDefaults()),{axes:{number:mn({},h.getAxisDefaults()),log:mn(mn({},h.getAxisDefaults()),{base:10}),category:mn({},h.getAxisDefaults()),groupedCategory:mn({},h.getAxisDefaults()),time:mn({},h.getAxisDefaults())},series:{column:mn(mn({},h.getBarSeriesDefaults()),{flipXY:!1}),bar:mn(mn({},h.getBarSeriesDefaults()),{flipXY:!0}),line:mn(mn({},h.getSeriesDefaults()),{title:void 0,xKey:"",xName:"",yKey:"",yName:"",strokeWidth:2,strokeOpacity:1,lineDash:[0],lineDashOffset:0,marker:mn({},h.getCartesianSeriesMarkerDefaults()),label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:h.fontFamily,color:"rgb(70, 70, 70)",formatter:void 0}}),scatter:mn(mn({},h.getSeriesDefaults()),{title:void 0,xKey:"",yKey:"",sizeKey:void 0,labelKey:void 0,xName:"",yName:"",sizeName:"Size",labelName:"Label",strokeWidth:2,fillOpacity:1,strokeOpacity:1,marker:mn({},h.getCartesianSeriesMarkerDefaults()),label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:h.fontFamily,color:"rgb(70, 70, 70)"}}),area:mn(mn({},h.getSeriesDefaults()),{title:void 0,xKey:"",xName:"",yKeys:[],yNames:[],normalizedTo:void 0,fillOpacity:.8,strokeOpacity:1,strokeWidth:2,lineDash:[0],lineDashOffset:0,shadow:{enabled:!1,color:"rgba(0, 0, 0, 0.5)",xOffset:3,yOffset:3,blur:5},marker:mn(mn({},h.getCartesianSeriesMarkerDefaults()),{enabled:!1}),label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:h.fontFamily,color:"rgb(70, 70, 70)",formatter:void 0}}),histogram:mn(mn({},h.getSeriesDefaults()),{title:void 0,xKey:"",yKey:"",xName:"",yName:"",strokeWidth:1,fillOpacity:1,strokeOpacity:1,lineDash:[0],lineDashOffset:0,areaPlot:!1,binCount:10,bins:void 0,aggregation:"sum",label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:h.fontFamily,color:"rgb(70, 70, 70)",formatter:void 0}})},navigator:{enabled:!1,height:30,mask:{fill:"#999999",stroke:"#999999",strokeWidth:1,fillOpacity:.2},minHandle:{fill:"#f2f2f2",stroke:"#999999",strokeWidth:1,width:8,height:16,gripLineGap:2,gripLineLength:8},maxHandle:{fill:"#f2f2f2",stroke:"#999999",strokeWidth:1,width:8,height:16,gripLineGap:2,gripLineLength:8}}}),h.defaults={cartesian:h.cartesianDefaults,groupedCategory:h.cartesianDefaults,polar:mn(mn({},h.getChartDefaults()),{series:{pie:mn(mn({},h.getSeriesDefaults()),{title:{enabled:!0,showInLegend:!1,padding:new Po(0),text:"",fontStyle:void 0,fontWeight:"bold",fontSize:14,fontFamily:h.fontFamily,color:"rgb(70, 70, 70)"},angleKey:"",angleName:"",radiusKey:void 0,radiusName:void 0,labelKey:void 0,labelName:void 0,label:{enabled:!0,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:h.fontFamily,color:"rgb(70, 70, 70)",offset:3,minAngle:20},callout:{length:10,strokeWidth:2},fillOpacity:1,strokeOpacity:1,strokeWidth:1,lineDash:[0],lineDashOffset:0,rotation:0,outerRadiusOffset:0,innerRadiusOffset:0,shadow:{enabled:!1,color:"rgba(0, 0, 0, 0.5)",xOffset:3,yOffset:3,blur:5}})}}),hierarchy:mn(mn({},h.getChartDefaults()),{series:{treemap:mn(mn({},h.getSeriesDefaults()),{showInLegend:!1,labelKey:"label",sizeKey:"size",colorKey:"color",colorDomain:[-5,5],colorRange:["#cb4b3f","#6acb64"],colorParents:!1,gradient:!0,nodePadding:2,title:{enabled:!0,color:"white",fontStyle:void 0,fontWeight:"bold",fontSize:12,fontFamily:"Verdana, sans-serif",padding:15},subtitle:{enabled:!0,color:"white",fontStyle:void 0,fontWeight:void 0,fontSize:9,fontFamily:"Verdana, sans-serif",padding:13},labels:{large:{enabled:!0,fontStyle:void 0,fontWeight:"bold",fontSize:18,fontFamily:"Verdana, sans-serif",color:"white"},medium:{enabled:!0,fontStyle:void 0,fontWeight:"bold",fontSize:14,fontFamily:"Verdana, sans-serif",color:"white"},small:{enabled:!0,fontStyle:void 0,fontWeight:"bold",fontSize:10,fontFamily:"Verdana, sans-serif",color:"white"},color:{enabled:!0,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:"Verdana, sans-serif",color:"white"}}})}})},h.cartesianSeriesTypes=["line","area","bar","column","scatter","histogram"],h.polarSeriesTypes=["pie"],h.hierarchySeriesTypes=["treemap"],h.seriesTypes=h.cartesianSeriesTypes.concat(h.polarSeriesTypes),h}(),$A=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),ua=function(){return ua=Object.assign||function(h){for(var n,e=1,o=arguments.length;e<o;e++)for(var u in n=arguments[e])Object.prototype.hasOwnProperty.call(n,u)&&(h[u]=n[u]);return h},ua.apply(this,arguments)},Ly=function(h){function n(e){return h.call(this,e)||this}return $A(n,h),n.prototype.getDefaults=function(){var e="rgb(200, 200, 200)",u={title:{color:e},label:{color:e},gridStyle:[{stroke:"rgb(88, 88, 88)",lineDash:[4,2]}]},c={label:{color:e}},m={background:{fill:"rgb(34, 38, 41)"},title:{color:e},subtitle:{color:"rgb(150, 150, 150)"},axes:{number:ua({},u),category:ua({},u),time:ua({},u)},legend:{item:{label:{color:e}}}};return this.mergeWithParentDefaults({cartesian:ua(ua({},m),{series:{bar:ua({},c),column:ua({},c),histogram:ua({},c)}}),polar:ua(ua({},m),{series:{pie:ua(ua({},c),{title:{color:e}})}})})},n}(ph),KA=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),YA={fills:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4caf50","#8bc34a","#cddc39","#ffeb3b","#ffc107","#ff9800","#ff5722"],strokes:["#ab2f26","#a31545","#6d1b7b","#482980","#2c397f","#1769aa","#0276ab","#008494","#00695f","#357a38","#618834","#909a28","#b3a429","#b38705","#b36a00","#b33d18"]},qA=function(h){function n(){return null!==h&&h.apply(this,arguments)||this}return KA(n,h),n.prototype.getPalette=function(){return YA},n}(ph),XA=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),QA={fills:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4caf50","#8bc34a","#cddc39","#ffeb3b","#ffc107","#ff9800","#ff5722"],strokes:["#ab2f26","#a31545","#6d1b7b","#482980","#2c397f","#1769aa","#0276ab","#008494","#00695f","#357a38","#618834","#909a28","#b3a429","#b38705","#b36a00","#b33d18"]},ZA=function(h){function n(){return null!==h&&h.apply(this,arguments)||this}return XA(n,h),n.prototype.getPalette=function(){return QA},n}(Ly),JA=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),eT={fills:["#c16068","#a2bf8a","#ebcc87","#80a0c3","#b58dae","#85c0d1"],strokes:["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"]},tT=function(h){function n(){return null!==h&&h.apply(this,arguments)||this}return JA(n,h),n.prototype.getPalette=function(){return eT},n}(ph),nT=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),rT={fills:["#c16068","#a2bf8a","#ebcc87","#80a0c3","#b58dae","#85c0d1"],strokes:["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"]},iT=function(h){function n(){return null!==h&&h.apply(this,arguments)||this}return nT(n,h),n.prototype.getPalette=function(){return rT},n}(Ly),zD=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),$D={fills:["#febe76","#ff7979","#badc58","#f9ca23","#f0932b","#eb4c4b","#6ab04c","#7ed6df","#e056fd","#686de0"],strokes:["#b28553","#b35555","#829a3e","#ae8d19","#a8671e","#a43535","#4a7b35","#58969c","#9d3cb1","#494c9d"]},KD=function(h){function n(){return null!==h&&h.apply(this,arguments)||this}return zD(n,h),n.prototype.getPalette=function(){return $D},n}(ph),YD=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),qD={fills:["#febe76","#ff7979","#badc58","#f9ca23","#f0932b","#eb4c4b","#6ab04c","#7ed6df","#e056fd","#686de0"],strokes:["#b28553","#b35555","#829a3e","#ae8d19","#a8671e","#a43535","#4a7b35","#58969c","#9d3cb1","#494c9d"]},XD=function(h){function n(){return null!==h&&h.apply(this,arguments)||this}return YD(n,h),n.prototype.getPalette=function(){return qD},n}(Ly),QD=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),ZD={fills:["#5BC0EB","#FDE74C","#9BC53D","#E55934","#FA7921","#fa3081"],strokes:["#4086a4","#b1a235","#6c8a2b","#a03e24","#af5517","#af225a"]},JD=function(h){function n(){return null!==h&&h.apply(this,arguments)||this}return QD(n,h),n.prototype.getPalette=function(){return ZD},n}(ph),hh=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Bb={fills:["#5BC0EB","#FDE74C","#9BC53D","#E55934","#FA7921","#fa3081"],strokes:["#4086a4","#b1a235","#6c8a2b","#a03e24","#af5517","#af225a"]},fh=function(h){function n(){return null!==h&&h.apply(this,arguments)||this}return hh(n,h),n.prototype.getPalette=function(){return Bb},n}(Ly),oT=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),wE=function(h,n){var e="function"==typeof Symbol&&h[Symbol.iterator];if(!e)return h;var u,m,o=e.call(h),c=[];try{for(;(void 0===n||n-- >0)&&!(u=o.next()).done;)c.push(u.value)}catch(y){m={error:y}}finally{try{u&&!u.done&&(e=o.return)&&e.call(o)}finally{if(m)throw m.error}}return c},gh=function(h){return h},XM=function(h){function n(){var e=null!==h&&h.apply(this,arguments)||this;return e.type="log",e._domain=[1,10],e.baseLog=gh,e.basePow=gh,e._base=10,e}return oT(n,h),n.prototype.setDomain=function(e){var o=e[0],u=e[e.length-1];(0===o||0===u||o<0&&u>0||o>0&&u<0)&&(console.warn("Log scale domain should not start at, end at or cross zero."),0===o&&u>0?o=Number.EPSILON:0===u&&o<0?u=-Number.EPSILON:o<0&&u>0?Math.abs(u)>=Math.abs(o)?o=Number.EPSILON:u=-Number.EPSILON:o>0&&u<0&&(Math.abs(u)>=Math.abs(o)?o=-Number.EPSILON:u=Number.EPSILON),(e=e.slice())[0]=o,e[e.length-1]=u),h.prototype.setDomain.call(this,e)},n.prototype.getDomain=function(){return h.prototype.getDomain.call(this)},Object.defineProperty(n.prototype,"base",{get:function(){return this._base},set:function(e){this._base!==e&&(this._base=e,this.rescale())},enumerable:!0,configurable:!0}),n.prototype.rescale=function(){var e=this.base,o=n.makeLogFn(e),u=n.makePowFn(e);this.domain[0]<0?(o=this.reflect(o),u=this.reflect(u),this.transform=function(c){return-Math.log(-c)},this.untransform=function(c){return-Math.exp(-c)}):(this.transform=function(c){return Math.log(c)},this.untransform=function(c){return Math.exp(c)}),this.baseLog=o,this.basePow=u,h.prototype.rescale.call(this)},n.prototype.reflect=function(e){return function(o){return-e(-o)}},n.prototype.nice=function(){var e,o,u=this.domain,c=0,m=u.length-1,y=u[c],w=u[m];w<y&&(c=(e=wE([m,c],2))[0],m=e[1],y=(o=wE([w,y],2))[0],w=o[1]),u[c]=this.basePow(Math.floor(this.baseLog(y))),u[m]=this.basePow(Math.ceil(this.baseLog(w))),this.domain=u},n.pow10=function(e){return isFinite(e)?+("1e"+e):e<0?0:e},n.makePowFn=function(e){return 10===e?n.pow10:e===Math.E?Math.exp:function(o){return Math.pow(e,o)}},n.makeLogFn=function(e){if(e===Math.E)return Math.log;if(10===e)return Math.log10;if(2===e)return Math.log2;var o=Math.log(e);return function(u){return Math.log(u)/o}},n.prototype.ticks=function(e){var o;void 0===e&&(e=10);var u=null==e?10:+e,c=this.base,m=this.domain,y=m[0],w=m[m.length-1],D=w<y;D&&(y=(o=wE([w,y],2))[0],w=o[1]);var x=this.baseLog(y),P=this.baseLog(w),R=[];if(!(c%1)&&P-x<u){if(x=Math.round(x)-1,P=Math.round(P)+1,y>0){for(;x<P;++x)for(var I=1,N=this.basePow(x);I<c;++I)if(!((V=N*I)<y)){if(V>w)break;R.push(V)}}else for(;x<P;++x)for(I=c-1,N=this.basePow(x);I>=1;--I){var V;if(!((V=N*I)<y)){if(V>w)break;R.push(V)}}2*R.length<u&&(R=id(y,w,u))}else R=id(x,P,Math.min(P-x,u)).map(this.basePow);return D?R.reverse():R},n.prototype.tickFormat=function(e,o){var u=this,c=this.base;if(null==o&&(o=10===c?".0e":","),"function"!=typeof o&&(o=Ht(o)),e===1/0)return o;null==e&&(e=10);var m=Math.max(1,c*e/this.ticks().length);return function(y){var w=y/u.basePow(Math.round(u.baseLog(y)));return w*c<c-.5&&(w*=c),w<=m?o(y):""}},n}(Fi),Vo=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),aT=function(h){function n(){var e=h.call(this)||this;return e.scale=new XM,e.scale.clamper=Kp,e}return Vo(n,h),Object.defineProperty(n.prototype,"base",{get:function(){return this.scale.base},set:function(e){this.scale.base=e},enumerable:!0,configurable:!0}),n.className="LogAxis",n.type="log",n}(ra),mt=function(){return mt=Object.assign||function(h){for(var n,e=1,o=arguments.length;e<o;e++)for(var u in n=arguments[e])Object.prototype.hasOwnProperty.call(n,u)&&(h[u]=n[u]);return h},mt.apply(this,arguments)},Pg={background:{meta:{defaults:{visible:!0,fill:"white"}}},padding:{meta:{constructor:Po,defaults:{top:20,right:20,bottom:20,left:20}}},tooltip:{meta:{defaults:{enabled:!0,tracking:!0,delay:0,class:so.defaultTooltipClass}}},title:{meta:{constructor:Hu,defaults:{enabled:!1,padding:{meta:{constructor:Po,defaults:{top:10,right:10,bottom:10,left:10}}},text:"Title",fontStyle:void 0,fontWeight:"bold",fontSize:14,fontFamily:"Verdana, sans-serif",color:"rgb(70, 70, 70)"}}},subtitle:{meta:{constructor:Hu,defaults:{enabled:!1,padding:{meta:{constructor:Po,defaults:{top:10,right:10,bottom:10,left:10}}},text:"Subtitle",fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:"Verdana, sans-serif",color:"rgb(140, 140, 140)"}}},legend:{meta:{constructor:ih,defaults:{enabled:!0,position:Zr.Right,spacing:20}},item:{meta:{constructor:Yl,defaults:{paddingX:16,paddingY:8}},marker:{meta:{constructor:Gr,defaults:{shape:void 0,size:15,strokeWidth:1,padding:8}}},label:{meta:{constructor:nl,defaults:{color:"black",fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:"Verdana, sans-serif",formatter:void 0}}}}}},EE={container:void 0,autoSize:!0,width:600,height:300,data:[],title:void 0,subtitle:void 0,padding:{},background:{},legend:{item:{marker:{},label:{}}},navigator:{mask:{},minHandle:{},maxHandle:{}},listeners:void 0},Mg={constructorParams:["document"],setAsIs:["container","data"],nonSerializable:["container","data"]},Md={visibleRange:[0,1],thickness:0,label:{},tick:{},title:{},line:{},gridStyle:[{stroke:"rgb(219, 219, 219)",lineDash:[4,2]}]},er={visible:!0,showInLegend:!0,cursor:"default",listeners:void 0},mh={item:{meta:{defaults:{fill:"yellow"}}},series:{meta:{defaults:{dimOpacity:1}}}},DE={fillOpacity:1,strokeOpacity:1,xKey:"",xName:"",yKeys:[],yNames:{},grouped:!1,normalizedTo:void 0,strokeWidth:1,lineDash:void 0,lineDashOffset:0,shadow:void 0},ky={meta:{constructor:Iy,defaults:{enabled:!0,color:"rgba(0, 0, 0, 0.5)",xOffset:0,yOffset:0,blur:5}}},Fg={enabled:!0,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:"Verdana, sans-serif",color:"rgb(70, 70, 70)"},OE={meta:{defaults:mt(mt({},Fg),{formatter:void 0,placement:Ju.Inside})}},oc={meta:{defaults:{enabled:!0,renderer:void 0,format:void 0}}},Ig={line:{meta:{defaults:{width:1,color:"rgb(195, 195, 195)"}}},title:{meta:{constructor:Hu,defaults:{padding:{meta:{constructor:Po,defaults:{top:10,right:10,bottom:10,left:10}}},text:"Axis Title",fontStyle:void 0,fontWeight:"bold",fontSize:12,fontFamily:"Verdana, sans-serif",color:"rgb(70, 70, 70)"}}},label:{meta:{constructor:ju,defaults:{fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:"Verdana, sans-serif",padding:5,rotation:0,color:"rgb(87, 87, 87)",formatter:void 0}}},tick:{meta:{constructor:Xs,setAsIs:["count"],defaults:{width:1,size:6,color:"rgb(195, 195, 195)",count:10}}}},ac=mt(mt({meta:mt(mt({constructor:xy},Mg),{defaults:mt(mt({},EE),{axes:[{type:ra.type,position:dn.Left},{type:Ul.type,position:dn.Bottom}]})})},Pg),{axes:(Pd={},Pd.number=mt({meta:{constructor:ra,setAsIs:["gridStyle","visibleRange"],defaults:Md}},Ig),Pd[aT.type]=mt({meta:{constructor:aT,setAsIs:["gridStyle","visibleRange"],defaults:mt(mt({},Md),{base:10})}},Ig),Pd[Ul.type]=mt({meta:{constructor:Ul,setAsIs:["gridStyle","visibleRange"],defaults:Md}},Ig),Pd[fd.type]=mt({meta:{constructor:fd,setAsIs:["gridStyle","visibleRange"],defaults:Md}},Ig),Pd[Xu.type]=mt({meta:{constructor:Xu,setAsIs:["gridStyle","visibleRange"],defaults:Md}},Ig),Pd),series:(Rg={column:{meta:{constructor:Vr,setAsIs:["lineDash","yNames"],defaults:mt(mt({flipXY:!1},er),DE)},highlightStyle:mh,tooltip:oc,label:OE,shadow:ky}},Rg[Vr.type]={meta:{constructor:Vr,setAsIs:["lineDash","yNames"],defaults:mt(mt({flipXY:!0},er),DE)},highlightStyle:mh,tooltip:oc,label:OE,shadow:ky},Rg[Td.type]={meta:{constructor:Td,setAsIs:["lineDash"],defaults:mt(mt({},er),{title:void 0,xKey:"",xName:"",yKey:"",yName:"",strokeWidth:2,strokeOpacity:1,lineDash:void 0,lineDashOffset:0})},tooltip:oc,highlightStyle:mh,label:{meta:{defaults:mt(mt({},Fg),{formatter:void 0})}},marker:{meta:{constructor:aa,defaults:{enabled:!0,shape:"circle",size:6,maxSize:30,strokeWidth:1,formatter:void 0}}}},Rg[My.type]={meta:{constructor:My,defaults:mt(mt({},er),{title:void 0,xKey:"",yKey:"",sizeKey:void 0,labelKey:void 0,xName:"",yName:"",sizeName:"Size",labelName:"Label",strokeWidth:2,fillOpacity:1,strokeOpacity:1})},tooltip:oc,highlightStyle:mh,marker:{meta:{constructor:aa,defaults:{enabled:!0,shape:"circle",size:6,maxSize:30,strokeWidth:1,formatter:void 0}}},label:{meta:{defaults:mt({},Fg)}}},Rg[ol.type]={meta:{constructor:ol,setAsIs:["lineDash"],defaults:mt(mt({},er),{xKey:"",xName:"",yKeys:[],yNames:[],normalizedTo:void 0,fillOpacity:1,strokeOpacity:1,strokeWidth:2,lineDash:void 0,lineDashOffset:0,shadow:void 0})},tooltip:oc,highlightStyle:mh,label:{meta:{defaults:mt(mt({},Fg),{formatter:void 0})}},marker:{meta:{constructor:aa,defaults:{enabled:!0,shape:"circle",size:6,maxSize:30,strokeWidth:1,formatter:void 0}}},shadow:ky},Rg[Tg.type]={meta:{constructor:Tg,setAsIs:["lineDash"],defaults:mt(mt({},er),{xKey:"",yKey:"",xName:"",yName:"",strokeWidth:1,fillOpacity:1,strokeOpacity:1,lineDash:void 0,lineDashOffset:0,areaPlot:!1,binCount:void 0,bins:void 0,aggregation:"sum"})},tooltip:oc,highlightStyle:mh,label:{meta:{defaults:mt(mt({},Fg),{formatter:void 0})}},shadow:ky},Rg),navigator:{meta:{constructor:Oy,defaults:{enabled:!1,height:30}},mask:{meta:{constructor:gg,defaults:{fill:"#999999",stroke:"#999999",strokeWidth:1,fillOpacity:.2}}},minHandle:{meta:{constructor:Tr,defaults:{fill:"#f2f2f2",stroke:"#999999",strokeWidth:1,width:8,height:16,gripLineGap:2,gripLineLength:8}}},maxHandle:{meta:{constructor:Tr,defaults:{fill:"#f2f2f2",stroke:"#999999",strokeWidth:1,width:8,height:16,gripLineGap:2,gripLineLength:8}}}}}),eO=mt(mt({meta:mt(mt({constructor:Mb},Mg),{defaults:mt(mt({},EE),{padding:{meta:{constructor:Po,defaults:{top:40,right:40,bottom:40,left:40}}}})})},Pg),{series:(nt={},nt[nn.type]={meta:{constructor:nn,setAsIs:["lineDash"],defaults:mt(mt({},er),{title:void 0,angleKey:"",angleName:"",radiusKey:void 0,radiusName:void 0,labelKey:void 0,labelName:void 0,callout:{},fillOpacity:1,strokeOpacity:1,rotation:0,outerRadiusOffset:0,innerRadiusOffset:0,strokeWidth:1,lineDash:void 0,lineDashOffset:0,shadow:void 0})},tooltip:oc,highlightStyle:mh,title:{meta:{constructor:sn,defaults:{enabled:!0,showInLegend:!1,padding:{meta:{constructor:Po,defaults:{top:10,right:10,bottom:10,left:10}}},text:"Series Title",fontStyle:void 0,fontWeight:"bold",fontSize:14,fontFamily:"Verdana, sans-serif",color:"black"}}},label:{meta:{defaults:mt(mt({},Fg),{offset:3,minAngle:20})}},callout:{meta:{defaults:{length:10,strokeWidth:1}}},shadow:ky},nt)}),tO=mt(mt({meta:mt(mt({constructor:Dd},Mg),{defaults:mt({},EE)})},Pg),{series:(SE={},SE[te.type]={meta:{constructor:te,defaults:mt(mt({},er),{showInLegend:!1,labelKey:"label",sizeKey:"size",colorKey:"color",colorDomain:[-5,5],colorRange:["#cb4b3f","#6acb64"],colorParents:!1,gradient:!0,nodePadding:2,title:{},subtitle:{},labels:{large:{},medium:{},small:{},color:{}}})},tooltip:oc,highlightStyle:mh,title:{meta:{defaults:{enabled:!0,color:"white",fontStyle:void 0,fontWeight:"bold",fontSize:12,fontFamily:"Verdana, sans-serif",padding:15}}},subtitle:{meta:{defaults:{enabled:!0,color:"white",fontStyle:void 0,fontWeight:void 0,fontSize:9,fontFamily:"Verdana, sans-serif",padding:13}}},labels:{meta:{defaults:{large:{},medium:{},small:{},color:{}}},large:{meta:{constructor:lo,defaults:{enabled:!0,fontStyle:void 0,fontWeight:"bold",fontSize:18,fontFamily:"Verdana, sans-serif",color:"white"}}},medium:{meta:{constructor:lo,defaults:{enabled:!0,fontStyle:void 0,fontWeight:"bold",fontSize:14,fontFamily:"Verdana, sans-serif",color:"white"}}},small:{meta:{constructor:lo,defaults:{enabled:!0,fontStyle:void 0,fontWeight:"bold",fontSize:10,fontFamily:"Verdana, sans-serif",color:"white"}}},color:{meta:{constructor:lo,defaults:{enabled:!0,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:"Verdana, sans-serif",color:"white"}}}}},SE)});function xE(h,n){var e;return mt(mt({},h),{meta:mt(mt({},h.meta),{defaults:mt(mt({},null===(e=h.meta)||void 0===e?void 0:e.defaults),{axes:n})})})}var nO=[{type:"number",position:dn.Bottom},{type:"number",position:dn.Left}],sT=[{type:"number",position:dn.Bottom},{type:"category",position:dn.Left}],AE=((ca={})[xy.type]=ac,ca[sh.type]=function(h,n){return mt(mt({},h),{meta:mt(mt({},h.meta),{constructor:n})})}(ac,sh),ca.line=ac,ca.area=ac,ca.bar=xE(ac,sT),ca.column=ac,ca.scatter=xE(ac,nO),ca.histogram=xE(ac,nO),ca[Mb.type]=eO,ca.pie=eO,ca[Dd.type]=tO,ca.treemap=tO,ca),vh=function(){return vh=Object.assign||function(h){for(var n,e=1,o=arguments.length;e<o;e++)for(var u in n=arguments[e])Object.prototype.hasOwnProperty.call(n,u)&&(h[u]=n[u]);return h},vh.apply(this,arguments)},rO=function(h,n){var e="function"==typeof Symbol&&h[Symbol.iterator];if(!e)return h;var u,m,o=e.call(h),c=[];try{for(;(void 0===n||n-- >0)&&!(u=o.next()).done;)c.push(u.value)}catch(y){m={error:y}}finally{try{u&&!u.done&&(e=o.return)&&e.call(o)}finally{if(m)throw m.error}}return c},Vy=function(){for(var h=[],n=0;n<arguments.length;n++)h=h.concat(rO(arguments[n]));return h},By=function(h){var n="function"==typeof Symbol&&Symbol.iterator,e=n&&h[n],o=0;if(e)return e.call(h);if(h&&"number"==typeof h.length)return{next:function(){return h&&o>=h.length&&(h=void 0),{value:h&&h[o++],done:!h}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},Wb=new ph,yh=new Ly,Hy={undefined:Wb,null:Wb,"ag-default":Wb,"ag-material":new qA,"ag-pastel":new tT,"ag-solar":new KD,"ag-vivid":new JD},lT={undefined:yh,null:yh,"ag-default-dark":yh,"ag-material-dark":new ZA,"ag-pastel-dark":new iT,"ag-solar-dark":new XD,"ag-vivid-dark":new fh},iO=vh(vh({},lT),Hy);function Ng(h){return h instanceof ph?h:iO[h]||((h=h).baseTheme||h.overrides||h.palette?new(Ng(h.baseTheme).constructor)(h):Wb)}var Lg=0,da=function(){function h(){}return h.create=function(n,e,o){return n=Object.create(n),h.createOrUpdate({options:n,container:e,data:o,operation:function(u,c){return Jl(u,void 0,void 0,c)}})},h.update=function(n,e,o,u){if(n&&e)return h.createOrUpdate({chart:n,options:e,container:o,data:u,operation:function(c,m){return Wy(n,c,void 0,m)}})},h.createOrUpdate=function(n){var e=n.chart,o=n.options,u=n.container,c=n.data,m=n.operation;u&&(o.container=u),c&&(o.data=c),o.series&&o.series.length>0&&(o.series=function(h){var n,e,o=[];try{for(var u=By(function(h){var n,e,o={column:[],bar:[],line:[],scatter:[],area:[],histogram:[],ohlc:[],pie:[],treemap:[]},u=[];try{for(var c=By(h),m=c.next();!m.done;m=c.next()){var y=m.value;if("column"===y.type||"bar"===y.type||"area"===y.type&&!0===y.stacked){var x=y.type||"line";if("pie"===x||"treemap"===x)throw new Error("AG Grid - Unexpected series type of: "+x);0===o[x].length&&u.push(o[x]),o[x].push(y)}else u.push([y])}}catch(P){n={error:P}}finally{try{m&&!m.done&&(e=c.return)&&e.call(c)}finally{if(n)throw n.error}}return u}(h)),c=u.next();!c.done;c=u.next()){var m=c.value;switch(m[0].type){case"column":case"bar":o.push(sO(m,!0));break;case"area":o.push(sO(m,!1));break;default:if(m.length>1)throw new Error("AG-Grid - unexpected grouping of series type: "+m[0].type);o.push(m[0])}}}catch(y){n={error:y}}finally{try{c&&!c.done&&(e=u.return)&&e.call(u)}finally{if(n)throw n.error}}return o}(o.series));var y=o&&!1!==o.autoSize,w=Ng(o.theme);Lg=0;var D=m(o,w);return null==e&&D instanceof so&&(e=D),e&&y&&(e.autoSize=!0),D},h.createComponent=Jl,h}(),oO={"cartesian.series":"line","line.series":"line","area.series":"area","bar.series":"bar","column.series":"column","histogram.series":"histogram","scatter.series":"scatter","polar.series":"pie","pie.series":"pie"},uT={area:"area",bar:"bar",histogram:"histogram",line:"line",pie:"pie",scatter:"scatter",ohlc:"ohlc",treemap:"treemap",column:"bar"};function Jl(h,n,e,o){var u;if(h=Object.create(h),e instanceof Gr?h.type&&(h.shape=h.type):(h=aO(h,n),n?h.type&&(n=n+"."+h.type):n=h.type),n){var c=GC(AE,n);if(c){h=jy(n,h,c,o);var m=c.meta||{},y=m.constructorParams||[],w=["type","listeners"].concat(y),D=y.map(function(N){return h[N]}).filter(function(N){return void 0!==N});e||(e=new((u=m.constructor).bind.apply(u,Vy([void 0],D))),o&&e instanceof Ql&&(Lg=o.setSeriesColors(e,h,Lg)));var x=function(N){if(w.indexOf(N)<0){var V=h[N];if(!V||!(N in c)||m.setAsIs&&m.setAsIs.indexOf(N)>=0)e[N]=V;else if(Array.isArray(V)){var z=V.map(function(X){var q=Jl(X,n+"."+N,void 0,o);return o&&"axes"===N&&Wy(q,X,n+"."+N,{getConfig:function(ce){var se=ce.split("."),ue=se.slice(0,3).join(".")+"."+q.position,fe=se.slice(3);fe.length&&(ue+="."+fe.join("."));var ye=o.getConfig(ce),Se=o.getConfig(ue);return Mi(o.getConfig(ue)),Mi(ye)&&Mi(Se)?lr(ye,Se,uo):Se}}),q}).filter(function(X){return!!X});e[N]=z}else if(c[N]&&e[N])Jl(V,n+"."+N,e[N],o);else{var Y=Jl(V,V.type?n:n+"."+N,void 0,o);Y&&(e[N]=Y)}}};for(var P in h)x(P);var R=h.listeners;if(e&&e.addEventListener&&R)for(var P in R)if(R.hasOwnProperty(P)){var I=R[P];"function"==typeof I&&e.addEventListener(P,I)}return e}}}function Wy(h,n,e,o){if(n&&Mi(n)&&(h instanceof Gr?n.type&&(n.shape=n.type):(n=aO(n,e),e?n.type&&(e=e+"."+n.type):e=n.type),e)){var u=e in AE?h:void 0,c=GC(AE,e);if(c){n=jy(e,n,c,o);var m=c.meta||{},w=["type"].concat(m&&m.constructorParams||[]);for(var D in n)if(w.indexOf(D)<0){var x=n[D],P=e+"."+D;if(m.setAsIs&&m.setAsIs.indexOf(D)>=0)h[D]=x;else{var R=h[D];if(Array.isArray(R)&&Array.isArray(x))u?"series"===D?cT(h,x,P,o):"axes"===D&&QM(h,x,P,o):h[D]=x;else if(Mi(R))x?Wy(R,x,x.type?e:P,o):D in n&&(h[D]=x);else{var I=Mi(x)&&Jl(x,x.type?e:P,void 0,o);if(I)h[D]=I;else{if(u&&n.autoSize&&("width"===D||"height"===D))continue;h[D]=x}}}}}u&&(u.layoutPending=!0)}}function cT(h,n,e,o){for(var c,u=h.series.slice(),m=0;m<n.length;m++){var y=n[m];if(w=u[m])if(y=aO(y,e),w.type===uT[y.type])o&&(Lg=o.setSeriesColors(w,y,Lg)),Wy(w,y,e,o);else{var x=Jl(y,e,void 0,o);h.removeSeries(w),h.addSeriesAfter(x,c),w=x}else x=Jl(y,e,void 0,o),h.addSeries(x);c=w}for(;m<u.length;m++){var w;(w=u[m])&&h.removeSeries(w)}}function QM(h,n,e,o){var u,c,m=h.axes,y=[],w=[],D=function(I){var N=ud(m,function(z){return z.type===I.type&&z.position===I.position});if(N)w.push(N),Wy(N,I,e,o);else{var V=Jl(I,e,void 0,o);V&&y.push(V)}};try{for(var x=By(n),P=x.next();!P.done;P=x.next())D(P.value)}catch(I){u={error:I}}finally{try{P&&!P.done&&(c=x.return)&&c.call(x)}finally{if(u)throw u.error}}h.axes=w.concat(y)}function aO(h,n){if(n||(n="",h=function(h){if(h.type)return h;var n=h.series&&h.series[0];return n&&n.type?((h=Object.create(h)).type=n.type,h):((h=Object.create(h)).type="cartesian",h)}(h)),!h.type){var e=oO[n];e&&((h=Object.create(h)).type=e)}return h}function dT(h){return["axes","series"].indexOf(h)>=0}var jb="enabled";function jy(h,n,e,o){var u=h.indexOf(".")<0,c=o&&o.getConfig(h),m=e&&e.meta&&e.meta.defaults,y=!1===n.enabled;for(var w in(m||c)&&(n=Object.create(n)),c)u&&dT(w)||w in n||(n[w]=c[w]);for(var w in m)(!c||!(w in c)||dT(w))&&!(w in n)&&(n[w]=m[w]);return(c&&jb in c||m&&jb in m)&&!y&&(n[jb]=!0),n}function sO(h,n){var e,o,u={},c=["yKeys","fills","strokes","yNames","hideInChart","hideInLegend"],m=["yKey","fill","stroke","yName"];try{for(var y=By(h),w=y.next();!w.done;w=y.next()){var D=w.value;for(var x in D){var P=c.indexOf(x)>-1,R=m.indexOf(x)>-1;P&&D[x].length>0?u[x]=Vy(u[x]||[],D[x]):R?u[x+"s"]=Vy(u[x+"s"]||[],[D[x]]):n&&"showInLegend"===x?!1===D[x]&&(u.hideInLegend=Vy(u.hideInLegend||[],D.yKey?[D.yKey]:D.yKeys)):n&&"grouped"===x?!0===D[x]&&(u[x]=D[x]):u[x]=D[x]}}}catch(I){e={error:I}}finally{try{w&&!w.done&&(o=y.return)&&o.call(y)}finally{if(e)throw e.error}}return u}var Uy=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Ub=function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);return u>3&&c&&Object.defineProperty(n,e,c),c},kg=function(h){function n(e){var o=h.call(this)||this;return o.model=e,o}return Uy(n,h),n.prototype.init=function(){var e=this;this.setChartRange(),this.addManagedListener(this.eventService,E.Events.EVENT_RANGE_SELECTION_CHANGED,function(o){o.id&&o.id===e.model.chartId&&e.updateForRangeChange()}),this.model.unlinked&&this.rangeService&&this.rangeService.setCellRanges([]),this.addManagedListener(this.eventService,E.Events.EVENT_COLUMN_MOVED,this.updateForGridChange.bind(this)),this.addManagedListener(this.eventService,E.Events.EVENT_COLUMN_PINNED,this.updateForGridChange.bind(this)),this.addManagedListener(this.eventService,E.Events.EVENT_COLUMN_VISIBLE,this.updateForGridChange.bind(this)),this.addManagedListener(this.eventService,E.Events.EVENT_COLUMN_ROW_GROUP_CHANGED,this.updateForGridChange.bind(this)),this.addManagedListener(this.eventService,E.Events.EVENT_MODEL_UPDATED,this.updateForGridChange.bind(this)),this.addManagedListener(this.eventService,E.Events.EVENT_CELL_VALUE_CHANGED,this.updateForDataChange.bind(this))},n.prototype.updateForGridChange=function(){this.model.unlinked||(this.model.updateCellRanges(),this.setChartRange())},n.prototype.updateForDataChange=function(){this.model.unlinked||(this.model.updateData(),this.raiseChartUpdatedEvent())},n.prototype.updateForRangeChange=function(){this.updateForGridChange(),this.raiseChartRangeSelectionChangedEvent()},n.prototype.updateForPanelChange=function(e){this.model.updateCellRanges(e),this.setChartRange(),this.raiseChartRangeSelectionChangedEvent()},n.prototype.getChartModel=function(){return{modelType:this.model.pivotChart?"pivot":"range",chartId:this.model.chartId,chartType:this.model.chartType,chartThemeName:this.model.chartThemeName,chartOptions:this.chartProxy.getChartOptions(),cellRange:this.getCellRangeParams(),suppressChartRanges:this.model.suppressChartRanges,aggFunc:this.model.aggFunc,unlinkChart:this.model.unlinked}},n.prototype.getChartId=function(){return this.model.chartId},n.prototype.getChartData=function(){return this.model.chartData},n.prototype.getChartType=function(){return this.model.chartType},n.prototype.setChartType=function(e){this.model.chartType=e,this.raiseChartUpdatedEvent(),this.raiseChartOptionsChangedEvent()},n.prototype.setChartThemeName=function(e){this.model.chartThemeName=e,this.raiseChartUpdatedEvent(),this.raiseChartOptionsChangedEvent()},n.prototype.getChartThemeName=function(){return this.model.chartThemeName},n.prototype.isPivotChart=function(){return this.model.pivotChart},n.prototype.isPivotMode=function(){return this.model.isPivotMode()},n.prototype.isGrouping=function(){return this.model.isGrouping()},n.prototype.getThemes=function(){return this.gridOptionsWrapper.getChartThemes()},n.prototype.getPalettes=function(){var e=this;return this.gridOptionsWrapper.getChartThemes().map(function(u){return Ng(e.chartProxy.isStockTheme(u)?u:e.chartProxy.lookupCustomChartTheme(u)).palette})},n.prototype.getValueColState=function(){return this.model.valueColState.map(this.displayNameMapper.bind(this))},n.prototype.getSelectedValueColState=function(){return this.getValueColState().filter(function(e){return e.selected})},n.prototype.getDimensionColState=function(){return this.model.dimensionColState},n.prototype.getSelectedDimension=function(){return this.model.getSelectedDimension()},n.prototype.displayNameMapper=function(e){var o=this.model.columnNames[e.colId];return e.displayName=o?o.join(" - "):this.model.getColDisplayName(e.column),e},n.prototype.getColStateForMenu=function(){return{dimensionCols:this.model.dimensionColState,valueCols:this.getValueColState()}},n.prototype.isDefaultCategorySelected=function(){return this.model.getSelectedDimension().colId===ed.DEFAULT_CATEGORY},n.prototype.setChartRange=function(e){void 0===e&&(e=!1),this.rangeService&&!this.model.suppressChartRanges&&!this.model.unlinked&&this.rangeService.setCellRanges(this.getCellRanges()),e||this.raiseChartUpdatedEvent()},n.prototype.detachChartRange=function(){this.model.unlinked=!this.model.unlinked,this.model.unlinked?this.rangeService&&this.rangeService.setCellRanges([]):this.updateForGridChange()},n.prototype.setChartProxy=function(e){this.chartProxy=e},n.prototype.getChartProxy=function(){return this.chartProxy},n.prototype.isActiveXYChart=function(){return E._.includes(["scatter","bubble"],this.getChartType())},n.prototype.isChartLinked=function(){return!this.model.unlinked},n.prototype.getCellRanges=function(){return[this.model.dimensionCellRange,this.model.valueCellRange].filter(function(e){return e})},n.prototype.getCellRangeParams=function(){var e=this.getCellRanges(),o=e[0],u=o&&o.startRow||null,c=o&&o.endRow||null;return{rowStartIndex:u&&u.rowIndex,rowStartPinned:u&&u.rowPinned,rowEndIndex:c&&c.rowIndex,rowEndPinned:c&&c.rowPinned,columns:e.reduce(function(m,y){return m.concat(y.columns.map(function(w){return w.getId()}))},[])}},n.prototype.raiseChartUpdatedEvent=function(){var e=Object.freeze({type:n.EVENT_CHART_UPDATED});this.dispatchEvent(e)},n.prototype.raiseChartOptionsChangedEvent=function(){var e=this.getChartModel(),c=Object.freeze({type:E.Events.EVENT_CHART_OPTIONS_CHANGED,chartId:e.chartId,chartType:e.chartType,chartThemeName:this.model.chartThemeName,chartOptions:this.chartProxy.getChartOptions(),api:this.gridApi,columnApi:this.columnApi});this.eventService.dispatchEvent(c)},n.prototype.raiseChartRangeSelectionChangedEvent=function(){var e=Object.freeze({type:E.Events.EVENT_CHART_RANGE_SELECTION_CHANGED,id:this.model.chartId,chartId:this.model.chartId,cellRange:this.getCellRangeParams(),api:this.gridApi,columnApi:this.columnApi});this.eventService.dispatchEvent(e)},n.prototype.destroy=function(){h.prototype.destroy.call(this),this.rangeService&&this.rangeService.setCellRanges([])},n.EVENT_CHART_UPDATED="chartUpdated",n.EVENT_CHART_TYPE_CHANGED="chartTypeChanged",Ub([E.Autowired("rangeService")],n.prototype,"rangeService",void 0),Ub([E.Autowired("gridApi")],n.prototype,"gridApi",void 0),Ub([E.Autowired("columnApi")],n.prototype,"columnApi",void 0),Ub([E.PostConstruct],n.prototype,"init",null),n}(E.BeanStub),hT=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),TE=function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);return u>3&&c&&Object.defineProperty(n,e,c),c},fT=function(h,n){var e="function"==typeof Symbol&&h[Symbol.iterator];if(!e)return h;var u,m,o=e.call(h),c=[];try{for(;(void 0===n||n-- >0)&&!(u=o.next()).done;)c.push(u.value)}catch(y){m={error:y}}finally{try{u&&!u.done&&(e=o.return)&&e.call(o)}finally{if(m)throw m.error}}return c},RE=function(){for(var h=[],n=0;n<arguments.length;n++)h=h.concat(fT(arguments[n]));return h},mT=function(h){function n(e,o){var u=h.call(this,n.TEMPLATE)||this;return u.chartController=e,u.chartOptionsService=o,u.columnComps=new Map,u}return hT(n,h),n.prototype.init=function(){this.updatePanels(),this.addManagedListener(this.chartController,kg.EVENT_CHART_UPDATED,this.updatePanels.bind(this)),this.createAutoScrollService()},n.prototype.destroy=function(){this.clearComponents(),h.prototype.destroy.call(this)},n.prototype.updatePanels=function(){var e=this,o=this.chartType,u=this.chartController.getColStateForMenu(),c=u.dimensionCols,m=u.valueCols,y=c.map(function(x){return x.colId}).concat(m.map(function(x){return x.colId}));this.chartType=this.chartController.getChartType();var w=this.getGroupExpandedState();if(E._.areEqual(E._.keys(this.columnComps),y)&&this.chartType===o){if(RE(c,m).forEach(function(x){e.columnComps.get(x.colId).setValue(x.selected,!0)}),this.chartController.isActiveXYChart()){var D=this.generateGetSeriesLabel();m.forEach(function(x){e.columnComps.get(x.colId).setLabel(D(x))})}}else this.clearComponents(),this.createCategoriesGroup(c),this.createSeriesGroup(m);this.restoreGroupExpandedState(w)},n.prototype.getGroupExpandedState=function(){return[this.categoriesGroupComp,this.seriesGroupComp,this.seriesChartTypeGroupComp].map(function(e){return!e||e.isExpanded()})},n.prototype.restoreGroupExpandedState=function(e){[this.categoriesGroupComp,this.seriesGroupComp,this.seriesChartTypeGroupComp].forEach(function(o,u){!o||o.toggleGroupExpand(e[u])})},n.prototype.createAutoScrollService=function(){var e=this.getGui();this.autoScrollService=new E.AutoScrollService({scrollContainer:e,scrollAxis:"y",getVerticalPosition:function(){return e.scrollTop},setVerticalPosition:function(o){return e.scrollTop=o}})},n.prototype.addComponent=function(e,o,u){var c=document.createElement("div");c.id=u,c.className="ag-chart-data-section",c.appendChild(o.getGui()),e.appendChild(c)},n.prototype.addChangeListener=function(e,o){var u=this;this.addManagedListener(e,E.AgAbstractField.EVENT_CHANGED,function(){o.selected=e.getValue(),u.chartController.updateForPanelChange(o)})},n.prototype.createCategoriesGroup=function(e){var o=this;this.categoriesGroupComp=this.createBean(new E.AgGroupComponent({title:this.getCategoryGroupTitle(),enabled:!0,suppressEnabledCheckbox:!0,suppressOpenCloseIcons:!1,cssIdentifier:"charts-data"}));var u="chartDimension"+this.getCompId();e.forEach(function(c){var m=o.categoriesGroupComp.createManagedBean(new E.AgRadioButton);m.setLabel(E._.escapeString(c.displayName)),m.setValue(c.selected),m.setInputName(u),o.addChangeListener(m,c),o.categoriesGroupComp.addItem(m),o.columnComps.set(c.colId,m)}),this.addComponent(this.getGui(),this.categoriesGroupComp,"categoriesGroup")},n.prototype.createSeriesGroup=function(e){var o=this;if(this.seriesGroupComp=this.createManagedBean(new E.AgGroupComponent({title:this.getSeriesGroupTitle(),enabled:!0,suppressEnabledCheckbox:!0,suppressOpenCloseIcons:!1,cssIdentifier:"charts-data"})),this.chartController.isActiveXYChart()){var u=this.seriesGroupComp.createManagedBean(new E.AgToggleButton);u.setLabel(this.chartTranslationService.translate("paired")).setLabelAlignment("left").setLabelWidth("flex").setInputWidth(45).setValue(this.chartOptionsService.getPairedMode()).onValueChange(function(y){o.chartOptionsService.setPairedMode(!!y),o.chartController.updateForGridChange()}),this.seriesGroupComp.addItem(u)}var c=this.generateGetSeriesLabel();e.forEach(function(y){var w=o.seriesGroupComp.createManagedBean(new E.AgCheckbox);w.addCssClass("ag-data-select-checkbox");var D=c(y);w.setLabel(D),w.setValue(y.selected),o.addChangeListener(w,y),o.seriesGroupComp.addItem(w),o.columnComps.set(y.colId,w),o.addDragHandle(w,y)}),this.addComponent(this.getGui(),this.seriesGroupComp,"seriesGroup");var m={getIconName:function(){return E.DragAndDropService.ICON_MOVE},getContainer:function(){return o.seriesGroupComp.getGui()},onDragging:function(y){return o.onDragging(y)},onDragLeave:function(){return o.onDragLeave()},isInterestedIn:this.isInterestedIn.bind(this)};this.dragAndDropService.addDropTarget(m)},n.prototype.addDragHandle=function(e,o){var u=this,c=E._.createIconNoSpan("columnDrag",this.gridOptionsWrapper);c.classList.add("ag-drag-handle","ag-chart-data-column-drag-handle"),e.getGui().insertAdjacentElement("beforeend",c);var m={type:E.DragSourceType.ChartPanel,eElement:c,dragItemName:o.displayName,getDragItem:function(){return{columns:[o.column]}},onDragStopped:function(){return u.onDragStop()}};this.dragAndDropService.addDragSource(m,!0),this.addDestroyFunc(function(){return u.dragAndDropService.removeDragSource(m)})},n.prototype.generateGetSeriesLabel=function(){if(!this.chartController.isActiveXYChart())return function(m){return E._.escapeString(m.displayName)};var e="bubble"===this.chartType,o=this.isInPairedMode(),u=0,c=new Map;return c.set(0,"X"),c.set(1,"Y"),c.set(2,"size"),function(m){var w,y=E._.escapeString(m.displayName);return m.selected?(w=o?c.get(u%(e?3:2)):0===u?"X":e&&u%2==0?"size":"Y",u++,y+" ("+w+")"):y}},n.prototype.getCategoryGroupTitle=function(){return this.chartTranslationService.translate(this.chartController.isActiveXYChart()?"labels":"categories")},n.prototype.getSeriesGroupTitle=function(){return this.chartTranslationService.translate(this.chartController.isActiveXYChart()?"xyValues":"series")},n.prototype.isInPairedMode=function(){return this.chartController.isActiveXYChart()&&this.chartOptionsService.getSeriesOption("paired","scatter")},n.prototype.clearComponents=function(){E._.clearElement(this.getGui()),this.categoriesGroupComp=this.destroyBean(this.categoriesGroupComp),this.seriesGroupComp=this.destroyBean(this.seriesGroupComp),this.seriesChartTypeGroupComp=this.destroyBean(this.seriesChartTypeGroupComp),this.columnComps.clear()},n.prototype.onDragging=function(e){var o=this.checkHoveredItem(e);if(o){this.lastDraggedColumn=e.dragItem.columns[0];var u=o.comp,c=o.position,m=this.lastHoveredItem||{};u===m.comp&&c===m.position||(this.autoScrollService.check(e.event),this.clearHoveredItems(),this.lastHoveredItem={comp:u,position:c},u.getGui().classList.add("ag-list-item-hovered","ag-item-highlight-"+c))}},n.prototype.checkHoveredItem=function(e){var o,u;if(E._.missing(e.vDirection))return null;var c=e.event;try{for(var m=function(h){var n="function"==typeof Symbol&&Symbol.iterator,e=n&&h[n],o=0;if(e)return e.call(h);if(h&&"number"==typeof h.length)return{next:function(){return h&&o>=h.length&&(h=void 0),{value:h&&h[o++],done:!h}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(this.columnComps.values()),y=m.next();!y.done;y=m.next()){var w=y.value,D=w.getGui();if(D.querySelector(".ag-chart-data-column-drag-handle")){var x=D.getBoundingClientRect();if(c.clientY>=x.top&&c.clientY<=x.bottom)return{comp:w,position:c.clientY>x.top+D.clientHeight/2?"bottom":"top"}}}}catch(N){o={error:N}}finally{try{y&&!y.done&&(u=m.return)&&u.call(m)}finally{if(o)throw o.error}}return null},n.prototype.onDragLeave=function(){this.clearHoveredItems()},n.prototype.onDragStop=function(){var e=this;if(this.lastHoveredItem){var o=this.chartController.getColStateForMenu(),m=RE(o.dimensionCols,o.valueCols).find(function(w){return w.column===e.lastDraggedColumn});if(m){var y=Array.from(this.columnComps.values()).indexOf(this.lastHoveredItem.comp);"bottom"===this.lastHoveredItem.position&&y++,m.order=y,this.chartController.updateForPanelChange(m)}}this.clearHoveredItems(),this.lastDraggedColumn=void 0,this.autoScrollService.ensureCleared()},n.prototype.clearHoveredItems=function(){this.columnComps.forEach(function(e){e.getGui().classList.remove("ag-list-item-hovered","ag-item-highlight-top","ag-item-highlight-bottom")}),this.lastHoveredItem=void 0},n.prototype.isInterestedIn=function(e){return e===E.DragSourceType.ChartPanel},n.TEMPLATE='<div class="ag-chart-data-wrapper ag-scrollable-container"></div>',TE([E.Autowired("dragAndDropService")],n.prototype,"dragAndDropService",void 0),TE([E.Autowired("chartTranslationService")],n.prototype,"chartTranslationService",void 0),TE([E.PostConstruct],n.prototype,"init",null),n}(E.Component),Gg=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),_h=function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);return u>3&&c&&Object.defineProperty(n,e,c),c},zy=function(h){function n(e){var o=h.call(this)||this;return o.activeComps=[],o.params=e,o}return Gg(n,h),n.prototype.init=function(){this.setTemplate(n.TEMPLATE,{fontGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0}}),this.initGroup(),this.initFontFamilySelect(),this.initFontWeightStyleSelect(),this.initFontSizeSelect(),this.initFontColorPicker()},n.prototype.addCompToPanel=function(e){this.fontGroup.addItem(e),this.activeComps.push(e)},n.prototype.setEnabled=function(e){this.fontGroup.setEnabled(e)},n.prototype.initGroup=function(){var e=this;this.fontGroup.setTitle(this.params.name||this.chartTranslationService.translate("font")).setEnabled(this.params.enabled).hideEnabledCheckbox(!!this.params.suppressEnabledCheckbox).hideOpenCloseIcons(!0).onEnableChange(function(o){e.params.setEnabled&&e.params.setEnabled(o)})},n.prototype.initFontFamilySelect=function(){var e=this,o=["Arial, sans-serif","Aria Black, sans-serif","Book Antiqua,  serif","Charcoal, sans-serif","Comic Sans MS, cursive","Courier, monospace","Courier New, monospace","Gadget, sans-serif","Geneva, sans-serif","Helvetica, sans-serif","Impact, sans-serif","Lucida Console, monospace","Lucida Grande, sans-serif","Lucida Sans Unicode,  sans-serif","Monaco, monospace","Palatino Linotype, serif","Palatino, serif","Times New Roman, serif","Times, serif","Verdana, sans-serif"],u=this.params.initialFont.family,c=o[0];if(u){var y=o.map(function(x){return x.toLowerCase()}).indexOf(u.toLowerCase());if(y>=0)c=o[y];else{var w=E._.capitalise(u);o.push(w),c=w}}var D=o.sort().map(function(x){return{value:x,text:x}});this.familySelect.addOptions(D).setInputWidth("flex").setValue(""+c).onValueChange(function(x){return e.params.setFont({family:x})})},n.prototype.initFontSizeSelect=function(){var e=this,o=[8,10,12,14,16,18,20,22,24,26,28,30,32,34,36],u=this.params.initialFont.size;E._.includes(o,u)||o.push(u);var c=o.sort(function(m,y){return m-y}).map(function(m){return{value:""+m,text:""+m}});this.sizeSelect.addOptions(c).setInputWidth("flex").setValue(""+u).onValueChange(function(m){return e.params.setFont({size:parseInt(m,10)})}),this.sizeSelect.setLabel(this.chartTranslationService.translate("size"))},n.prototype.initFontWeightStyleSelect=function(){var e=this,o=this.params.initialFont,u=o.weight,c=void 0===u?"normal":u,m=o.style,y=void 0===m?"normal":m,w=[{name:"normal",weight:"normal",style:"normal"},{name:"bold",weight:"bold",style:"normal"},{name:"italic",weight:"normal",style:"italic"},{name:"boldItalic",weight:"bold",style:"italic"}],D=w.find(function(P){return P.weight===c&&P.style===y});D||w.unshift(D={name:"predefined",weight:c,style:y});var x=w.map(function(P){return{value:P.name,text:e.chartTranslationService.translate(P.name)}});this.weightStyleSelect.addOptions(x).setInputWidth("flex").setValue(D.name).onValueChange(function(P){var R=w.find(function(I){return I.name===P});e.params.setFont({weight:R.weight,style:R.style})})},n.prototype.initFontColorPicker=function(){var e=this;this.colorPicker.setLabel(this.chartTranslationService.translate("color")).setInputWidth(45).setValue(""+this.params.initialFont.color).onValueChange(function(o){return e.params.setFont({color:o})})},n.prototype.destroyActiveComps=function(){var e=this;this.activeComps.forEach(function(o){E._.removeFromParent(o.getGui()),e.destroyBean(o)})},n.prototype.destroy=function(){this.destroyActiveComps(),h.prototype.destroy.call(this)},n.TEMPLATE='<div class="ag-font-panel">\n            <ag-group-component ref="fontGroup">\n                <ag-select ref="familySelect"></ag-select>\n                <ag-select ref="weightStyleSelect"></ag-select>\n                <div class="ag-charts-font-size-color">\n                    <ag-select ref="sizeSelect"></ag-select>\n                    <ag-color-picker ref="colorPicker"></ag-color-picker>\n                </div>\n            </ag-group-component>\n        </div>',_h([E.RefSelector("fontGroup")],n.prototype,"fontGroup",void 0),_h([E.RefSelector("familySelect")],n.prototype,"familySelect",void 0),_h([E.RefSelector("weightStyleSelect")],n.prototype,"weightStyleSelect",void 0),_h([E.RefSelector("sizeSelect")],n.prototype,"sizeSelect",void 0),_h([E.RefSelector("colorPicker")],n.prototype,"colorPicker",void 0),_h([E.Autowired("chartTranslationService")],n.prototype,"chartTranslationService",void 0),_h([E.PostConstruct],n.prototype,"init",null),n}(E.Component),vT=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),al=function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);return u>3&&c&&Object.defineProperty(n,e,c),c},yT=function(h){function n(e){var o=h.call(this)||this;return o.chartOptionsService=e,o.activePanels=[],o}return vT(n,h),n.prototype.init=function(){this.setTemplate(n.TEMPLATE,{legendGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.initLegendGroup(),this.initLegendPosition(),this.initLegendPadding(),this.initLegendItems(),this.initLabelPanel()},n.prototype.initLegendGroup=function(){var e=this;this.legendGroup.setTitle(this.chartTranslationService.translate("legend")).hideEnabledCheckbox(!1).setEnabled(this.chartOptionsService.getChartOption("legend.enabled")||!1).toggleGroupExpand(!1).onEnableChange(function(o){e.chartOptionsService.setChartOption("legend.enabled",o),e.legendGroup.toggleGroupExpand(!0)})},n.prototype.initLegendPosition=function(){var e=this,o=[Zr.Top,Zr.Right,Zr.Bottom,Zr.Left];this.legendPositionSelect.setLabel(this.chartTranslationService.translate("position")).setLabelWidth("flex").setInputWidth(80).addOptions(o.map(function(u){return{value:u,text:e.chartTranslationService.translate(u)}})).setValue(this.chartOptionsService.getChartOption("legend.position")).onValueChange(function(u){return e.chartOptionsService.setChartOption("legend.position",u)})},n.prototype.initLegendPadding=function(){var e=this,o=this.chartOptionsService.getChartOption("legend.spacing");this.legendPaddingSlider.setLabel(this.chartTranslationService.translate("spacing")).setMaxValue(yt(o,200)).setValue(""+o).setTextFieldWidth(45).onValueChange(function(u){return e.chartOptionsService.setChartOption("legend.spacing",u)})},n.prototype.initLegendItems=function(){var e=this,o=function(u,c,m,y){var w=e.chartOptionsService.getChartOption("legend."+u);m.setLabel(e.chartTranslationService.translate(c)).setMaxValue(yt(w,y)).setValue(""+w).setTextFieldWidth(45).onValueChange(function(D){e.chartOptionsService.setChartOption("legend."+u,D)})};o("item.marker.size","markerSize",this.markerSizeSlider,40),o("item.marker.strokeWidth","markerStroke",this.markerStrokeSlider,10),o("item.marker.padding","itemSpacing",this.markerPaddingSlider,20),o("item.paddingX","layoutHorizontalSpacing",this.itemPaddingXSlider,50),o("item.paddingY","layoutVerticalSpacing",this.itemPaddingYSlider,50)},n.prototype.initLabelPanel=function(){var e=this,o=this.chartOptionsService,u={family:o.getChartOption("legend.item.label.fontFamily"),style:o.getChartOption("legend.item.label.fontStyle"),weight:o.getChartOption("legend.item.label.fontWeight"),size:o.getChartOption("legend.item.label.fontSize"),color:o.getChartOption("legend.item.label.color")},y=this.createBean(new zy({enabled:!0,suppressEnabledCheckbox:!0,initialFont:u,setFont:function(w){var D=e.chartOptionsService;w.family&&D.setChartOption("legend.item.label.fontFamily",w.family),w.weight&&D.setChartOption("legend.item.label.fontWeight",w.weight),w.style&&D.setChartOption("legend.item.label.fontStyle",w.style),w.size&&D.setChartOption("legend.item.label.fontSize",w.size),w.color&&D.setChartOption("legend.item.label.color",w.color)}}));this.legendGroup.addItem(y),this.activePanels.push(y)},n.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach(function(o){E._.removeFromParent(o.getGui()),e.destroyBean(o)})},n.prototype.destroy=function(){this.destroyActivePanels(),h.prototype.destroy.call(this)},n.TEMPLATE='<div>\n            <ag-group-component ref="legendGroup">\n                <ag-select ref="legendPositionSelect"></ag-select>\n                <ag-slider ref="legendPaddingSlider"></ag-slider>\n                <ag-slider ref="markerSizeSlider"></ag-slider>\n                <ag-slider ref="markerStrokeSlider"></ag-slider>\n                <ag-slider ref="markerPaddingSlider"></ag-slider>\n                <ag-slider ref="itemPaddingXSlider"></ag-slider>\n                <ag-slider ref="itemPaddingYSlider"></ag-slider>\n            </ag-group-component>\n        </div>',al([E.RefSelector("legendGroup")],n.prototype,"legendGroup",void 0),al([E.RefSelector("legendPositionSelect")],n.prototype,"legendPositionSelect",void 0),al([E.RefSelector("legendPaddingSlider")],n.prototype,"legendPaddingSlider",void 0),al([E.RefSelector("markerSizeSlider")],n.prototype,"markerSizeSlider",void 0),al([E.RefSelector("markerStrokeSlider")],n.prototype,"markerStrokeSlider",void 0),al([E.RefSelector("markerPaddingSlider")],n.prototype,"markerPaddingSlider",void 0),al([E.RefSelector("itemPaddingXSlider")],n.prototype,"itemPaddingXSlider",void 0),al([E.RefSelector("itemPaddingYSlider")],n.prototype,"itemPaddingYSlider",void 0),al([E.Autowired("chartTranslationService")],n.prototype,"chartTranslationService",void 0),al([E.PostConstruct],n.prototype,"init",null),n}(E.Component),uO=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Vg=function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);return u>3&&c&&Object.defineProperty(n,e,c),c},PE=function(h){function n(e){var o=h.call(this)||this;return o.chartOptionsService=e,o}return uO(n,h),n.prototype.init=function(){this.setTemplate(n.TEMPLATE,{axisTicksGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0}}),this.initAxisTicks()},n.prototype.initAxisTicks=function(){var e=this;this.axisTicksGroup.setTitle(this.chartTranslationService.translate("ticks")).hideOpenCloseIcons(!0).hideEnabledCheckbox(!0),this.axisTicksColorPicker.setLabel(this.chartTranslationService.translate("color")).setLabelWidth("flex").setInputWidth(45).setValue(this.chartOptionsService.getAxisProperty("tick.color")).onValueChange(function(u){return e.chartOptionsService.setAxisProperty("tick.color",u)});var o=function(u,c,m,y){var w=e.chartOptionsService.getAxisProperty(u);c.setLabel(m).setMaxValue(yt(w,y)).setValue(""+w).setTextFieldWidth(45).onValueChange(function(D){return e.chartOptionsService.setAxisProperty(u,D)})};o("tick.width",this.axisTicksWidthSlider,this.chartTranslationService.translate("width"),10),o("tick.size",this.axisTicksSizeSlider,this.chartTranslationService.translate("length"),30)},n.TEMPLATE='<div>\n            <ag-group-component ref="axisTicksGroup">\n                <ag-color-picker ref="axisTicksColorPicker"></ag-color-picker>\n                <ag-slider ref="axisTicksWidthSlider"></ag-slider>\n                <ag-slider ref="axisTicksSizeSlider"></ag-slider>\n            </ag-group-component>\n        </div>',Vg([E.RefSelector("axisTicksGroup")],n.prototype,"axisTicksGroup",void 0),Vg([E.RefSelector("axisTicksColorPicker")],n.prototype,"axisTicksColorPicker",void 0),Vg([E.RefSelector("axisTicksWidthSlider")],n.prototype,"axisTicksWidthSlider",void 0),Vg([E.RefSelector("axisTicksSizeSlider")],n.prototype,"axisTicksSizeSlider",void 0),Vg([E.Autowired("chartTranslationService")],n.prototype,"chartTranslationService",void 0),Vg([E.PostConstruct],n.prototype,"init",null),n}(E.Component),_T=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Ch=function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);return u>3&&c&&Object.defineProperty(n,e,c),c},Bg=function(h){function n(e,o){var u=h.call(this)||this;return u.chartController=e,u.chartOptionsService=o,u.activePanels=[],u.axisLabelUpdateFuncs=[],u}return _T(n,h),n.prototype.init=function(){var e=this;this.setTemplate(n.TEMPLATE,{axisGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.initAxis(),this.initAxisTicks(),this.initAxisLabels(),this.addManagedListener(this.chartController,kg.EVENT_CHART_UPDATED,function(){return e.axisLabelUpdateFuncs.forEach(function(c){return c()})})},n.prototype.initAxis=function(){var e=this,o=this.chartTranslationService;this.axisGroup.setTitle(o.translate("axis")).toggleGroupExpand(!1).hideEnabledCheckbox(!0),this.axisColorInput.setLabel(o.translate("color")).setLabelWidth("flex").setInputWidth(45).setValue(this.chartOptionsService.getAxisProperty("line.color")).onValueChange(function(m){return e.chartOptionsService.setAxisProperty("line.color",m)});var u=this.chartOptionsService.getAxisProperty("line.width");if(this.axisLineWidthSlider.setMaxValue(yt(u,10)).setLabel(o.translate("thickness")).setTextFieldWidth(45).setValue(""+u).onValueChange(function(m){return e.chartOptionsService.setAxisProperty("line.width",m)}),E._.includes(["line","scatter","bubble"],this.chartController.getChartType())&&!this.chartController.isGrouping()){var c=[{value:"",text:o.translate("automatic")}];["category","time","number"].forEach(function(m){c.push({value:m,text:o.translate(m)})}),this.xAxisTypeSelect.setLabel(o.translate("xType")).setLabelWidth("flex").addOptions(c).setValue(this.chartOptionsService.getChartOption("xAxis.type")||"").onValueChange(function(m){e.chartOptionsService.setChartOption("xAxis.type","string"==typeof m&&m.length&&m),e.chartController.updateForDataChange()})}else this.xAxisTypeSelect.setDisplayed(!1)},n.prototype.initAxisTicks=function(){var e=this.createBean(new PE(this.chartOptionsService));this.axisGroup.addItem(e),this.activePanels.push(e)},n.prototype.initAxisLabels=function(){var e=this,o={family:this.chartOptionsService.getAxisProperty("label.fontFamily"),style:this.chartOptionsService.getAxisProperty("label.fontStyle"),weight:this.chartOptionsService.getAxisProperty("label.fontWeight"),size:this.chartOptionsService.getAxisProperty("label.fontSize"),color:this.chartOptionsService.getAxisProperty("label.color")},m=this.createBean(new zy({enabled:!0,suppressEnabledCheckbox:!0,initialFont:o,setFont:function(y){y.family&&e.chartOptionsService.setAxisProperty("label.fontFamily",y.family),y.weight&&e.chartOptionsService.setAxisProperty("label.fontWeight",y.weight),y.style&&e.chartOptionsService.setAxisProperty("label.fontStyle",y.style),y.size&&e.chartOptionsService.setAxisProperty("label.fontSize",y.size),y.color&&e.chartOptionsService.setAxisProperty("label.color",y.color),e.chartController.getChartProxy().getChart().layoutPending=!0}}));this.axisGroup.addItem(m),this.activePanels.push(m),this.addAdditionalLabelComps(m)},n.prototype.addAdditionalLabelComps=function(e){var o=this,u=function(x,P){var R=o.chartOptionsService.getLabelRotation(P),I=(new E.AgAngleSelect).setLabel(x).setLabelWidth("flex").setValue(R||0).onValueChange(function(V){return o.chartOptionsService.setLabelRotation(P,V)});o.axisLabelUpdateFuncs.push(function(){var V=o.chartOptionsService.getLabelRotation(P);I.setValue(V)});var N=o.createBean(I);e.addCompToPanel(N)},c=String.fromCharCode(176),m=this.chartTranslationService.translate("xRotation")+" "+c,y=this.chartTranslationService.translate("yRotation")+" "+c;u(m,"xAxis"),u(y,"yAxis");var w=this.createBean(new E.AgSlider),D=this.chartOptionsService.getAxisProperty("label.padding");w.setLabel(this.chartTranslationService.translate("padding")).setMaxValue(yt(D,30)).setValue(""+D).setTextFieldWidth(45).onValueChange(function(x){return o.chartOptionsService.setAxisProperty("label.padding",x)}),e.addCompToPanel(w)},n.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach(function(o){E._.removeFromParent(o.getGui()),e.destroyBean(o)})},n.prototype.destroy=function(){this.destroyActivePanels(),h.prototype.destroy.call(this)},n.TEMPLATE='<div>\n            <ag-group-component ref="axisGroup">\n                <ag-color-picker ref="axisColorInput"></ag-color-picker>\n                <ag-slider ref="axisLineWidthSlider"></ag-slider>\n                <ag-select ref="xAxisTypeSelect"></ag-select>\n            </ag-group-component>\n        </div>',Ch([E.RefSelector("axisGroup")],n.prototype,"axisGroup",void 0),Ch([E.RefSelector("axisColorInput")],n.prototype,"axisColorInput",void 0),Ch([E.RefSelector("axisLineWidthSlider")],n.prototype,"axisLineWidthSlider",void 0),Ch([E.RefSelector("xAxisTypeSelect")],n.prototype,"xAxisTypeSelect",void 0),Ch([E.Autowired("chartTranslationService")],n.prototype,"chartTranslationService",void 0),Ch([E.PostConstruct],n.prototype,"init",null),n}(E.Component),CT=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),zb=function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);return u>3&&c&&Object.defineProperty(n,e,c),c},$y=function(h){function n(e){var o=h.call(this)||this;return o.chartOptionsService=e,o}return CT(n,h),n.prototype.init=function(){this.setTemplate(n.TEMPLATE,{navigatorGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.initNavigator()},n.prototype.initNavigator=function(){var e=this,o=this.chartTranslationService;this.navigatorGroup.setTitle(o.translate("navigator")).toggleGroupExpand(!1).hideEnabledCheckbox(!1).setEnabled(this.chartOptionsService.getChartOption("navigator.enabled")||!1).onEnableChange(function(c){e.chartOptionsService.setChartOption("navigator.enabled",c),e.navigatorGroup.toggleGroupExpand(!0)});var u=this.chartOptionsService.getChartOption("navigator.height");this.navigatorHeightSlider.setLabel(o.translate("height")).setMinValue(10).setMaxValue(yt(u,60)).setTextFieldWidth(45).setValue(""+(u||30)).onValueChange(function(c){return e.chartOptionsService.setChartOption("navigator.height",c)})},n.prototype.destroy=function(){h.prototype.destroy.call(this)},n.TEMPLATE='<div>\n            <ag-group-component ref="navigatorGroup">\n                <ag-slider ref="navigatorHeightSlider"></ag-slider>\n            </ag-group-component>\n        </div>',zb([E.RefSelector("navigatorGroup")],n.prototype,"navigatorGroup",void 0),zb([E.RefSelector("navigatorHeightSlider")],n.prototype,"navigatorHeightSlider",void 0),zb([E.Autowired("chartTranslationService")],n.prototype,"chartTranslationService",void 0),zb([E.PostConstruct],n.prototype,"init",null),n}(E.Component),ME=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),bh=function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);return u>3&&c&&Object.defineProperty(n,e,c),c},cO=function(h){function n(e){var o=h.call(this)||this;return o.chartOptionsService=e,o}return ME(n,h),n.prototype.init=function(){this.setTemplate(n.TEMPLATE,{chartPaddingGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0}}),this.initGroup(),this.initChartPaddingItems()},n.prototype.initGroup=function(){this.chartPaddingGroup.setTitle(this.chartTranslationService.translate("padding")).hideOpenCloseIcons(!0).hideEnabledCheckbox(!0)},n.prototype.initChartPaddingItems=function(){var e=this,o=function(u,c){var m=e.chartOptionsService.getChartOption("padding."+u);c.setLabel(e.chartTranslationService.translate(u)).setMaxValue(yt(m,200)).setValue(""+m).setTextFieldWidth(45).onValueChange(function(y){return e.chartOptionsService.setChartOption("padding."+u,y)})};o("top",this.paddingTopSlider),o("right",this.paddingRightSlider),o("bottom",this.paddingBottomSlider),o("left",this.paddingLeftSlider)},n.TEMPLATE='<div>\n            <ag-group-component ref="chartPaddingGroup">\n                <ag-slider ref="paddingTopSlider"></ag-slider>\n                <ag-slider ref="paddingRightSlider"></ag-slider>\n                <ag-slider ref="paddingBottomSlider"></ag-slider>\n                <ag-slider ref="paddingLeftSlider"></ag-slider>\n            </ag-group-component>\n        <div>',bh([E.RefSelector("chartPaddingGroup")],n.prototype,"chartPaddingGroup",void 0),bh([E.RefSelector("paddingTopSlider")],n.prototype,"paddingTopSlider",void 0),bh([E.RefSelector("paddingRightSlider")],n.prototype,"paddingRightSlider",void 0),bh([E.RefSelector("paddingBottomSlider")],n.prototype,"paddingBottomSlider",void 0),bh([E.RefSelector("paddingLeftSlider")],n.prototype,"paddingLeftSlider",void 0),bh([E.Autowired("chartTranslationService")],n.prototype,"chartTranslationService",void 0),bh([E.PostConstruct],n.prototype,"init",null),n}(E.Component),bT=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),$b=function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);return u>3&&c&&Object.defineProperty(n,e,c),c},wT=function(h){function n(e){var o=h.call(this)||this;return o.chartOptionsService=e,o}return bT(n,h),n.prototype.init=function(){this.setTemplate(n.TEMPLATE,{chartBackgroundGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0}}),this.initGroup(),this.initColorPicker()},n.prototype.initGroup=function(){var e=this;this.group.setTitle(this.chartTranslationService.translate("background")).setEnabled(this.chartOptionsService.getChartOption("background.visible")).hideOpenCloseIcons(!0).hideEnabledCheckbox(!1).onEnableChange(function(o){return e.chartOptionsService.setChartOption("background.visible",o)})},n.prototype.initColorPicker=function(){var e=this;this.colorPicker.setLabel(this.chartTranslationService.translate("color")).setLabelWidth("flex").setInputWidth(45).setValue(this.chartOptionsService.getChartOption("background.fill")).onValueChange(function(o){return e.chartOptionsService.setChartOption("background.fill",o)})},n.TEMPLATE='<div>\n            <ag-group-component ref="chartBackgroundGroup">\n                <ag-color-picker ref="colorPicker"></ag-color-picker>\n            </ag-group-component>\n        <div>',$b([E.RefSelector("chartBackgroundGroup")],n.prototype,"group",void 0),$b([E.RefSelector("colorPicker")],n.prototype,"colorPicker",void 0),$b([E.Autowired("chartTranslationService")],n.prototype,"chartTranslationService",void 0),$b([E.PostConstruct],n.prototype,"init",null),n}(E.Component),ST=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),dO=function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);return u>3&&c&&Object.defineProperty(n,e,c),c},ET=function(h){function n(e){var o=h.call(this,n.TEMPLATE)||this;return o.chartOptionsService=e,o.activePanels=[],o}return ST(n,h),n.prototype.init=function(){this.initFontPanel(),this.titlePlaceholder=this.chartTranslationService.translate("titlePlaceholder")},n.prototype.hasTitle=function(){var e=this.getOption("title");return e&&e.enabled&&e.text&&e.text.length>0},n.prototype.initFontPanel=function(){var e=this,o=this.hasTitle,u=function(w){w.family&&e.setOption("title.fontFamily",w.family),w.weight&&e.setOption("title.fontWeight",w.weight),w.style&&e.setOption("title.fontStyle",w.style),w.size&&e.setOption("title.fontSize",w.size),w.color&&e.setOption("title.color",w.color)},c={family:this.getOption("title.fontFamily"),style:this.getOption("title.fontStyle"),weight:this.getOption("title.fontWeight"),size:this.getOption("title.fontSize"),color:this.getOption("title.color")};o||u(c);var m={name:this.chartTranslationService.translate("title"),enabled:this.hasTitle(),suppressEnabledCheckbox:!1,initialFont:c,setFont:u,setEnabled:function(w){e.setOption("title.enabled",w);var D=e.getOption("title.text");w&&"Title"===D&&e.setOption("title.text",e.titlePlaceholder)}},y=this.createBean(new zy(m));this.getGui().appendChild(y.getGui()),this.activePanels.push(y),this.addManagedListener(this.eventService,"chartTitleEdit",function(){y.setEnabled(e.hasTitle())})},n.prototype.getOption=function(e){return this.chartOptionsService.getChartOption(e)},n.prototype.setOption=function(e,o){this.chartOptionsService.setChartOption(e,o)},n.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach(function(o){E._.removeFromParent(o.getGui()),e.destroyBean(o)})},n.prototype.destroy=function(){this.destroyActivePanels(),h.prototype.destroy.call(this)},n.TEMPLATE="<div></div>",dO([E.Autowired("chartTranslationService")],n.prototype,"chartTranslationService",void 0),dO([E.PostConstruct],n.prototype,"init",null),n}(E.Component),DT=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),FE=function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);return u>3&&c&&Object.defineProperty(n,e,c),c},pO=function(h){function n(e){var o=h.call(this)||this;return o.chartOptionsService=e,o.activePanels=[],o}return DT(n,h),n.prototype.init=function(){this.setTemplate(n.TEMPLATE,{chartGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.initGroup(),this.initTitles(),this.initPaddingPanel(),this.initBackgroundPanel()},n.prototype.initGroup=function(){this.chartGroup.setTitle(this.chartTranslationService.translate("chart")).toggleGroupExpand(!1).hideEnabledCheckbox(!0)},n.prototype.initTitles=function(){var e=this.createBean(new ET(this.chartOptionsService));this.chartGroup.addItem(e),this.activePanels.push(e)},n.prototype.initPaddingPanel=function(){var e=this.createBean(new cO(this.chartOptionsService));this.chartGroup.addItem(e),this.activePanels.push(e)},n.prototype.initBackgroundPanel=function(){var e=this.createBean(new wT(this.chartOptionsService));this.chartGroup.addItem(e),this.activePanels.push(e)},n.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach(function(o){E._.removeFromParent(o.getGui()),e.destroyBean(o)})},n.prototype.destroy=function(){this.destroyActivePanels(),h.prototype.destroy.call(this)},n.TEMPLATE='<div>\n            <ag-group-component ref="chartGroup"></ag-group-component>\n        </div>',FE([E.RefSelector("chartGroup")],n.prototype,"chartGroup",void 0),FE([E.Autowired("chartTranslationService")],n.prototype,"chartTranslationService",void 0),FE([E.PostConstruct],n.prototype,"init",null),n}(E.Component),hO=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),wh=function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);return u>3&&c&&Object.defineProperty(n,e,c),c},OT=function(h){function n(e,o){var u=h.call(this)||this;return u.chartOptionsService=e,u.getSelectedSeries=o,u}return hO(n,h),n.prototype.init=function(){this.setTemplate(n.TEMPLATE,{shadowGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0}}),this.shadowBlurSlider.setTextFieldWidth(45),this.shadowXOffsetSlider.setTextFieldWidth(45),this.shadowYOffsetSlider.setTextFieldWidth(45),this.initSeriesShadow()},n.prototype.initSeriesShadow=function(){var e=this;this.shadowGroup.setTitle(this.chartTranslationService.translate("shadow")).setEnabled(this.chartOptionsService.getSeriesOption("shadow.enabled",this.getSelectedSeries())).hideOpenCloseIcons(!0).hideEnabledCheckbox(!1).onEnableChange(function(u){return e.chartOptionsService.setSeriesOption("shadow.enabled",u,e.getSelectedSeries())}),this.shadowColorPicker.setLabel(this.chartTranslationService.translate("color")).setLabelWidth("flex").setInputWidth(45).setValue(this.chartOptionsService.getSeriesOption("shadow.color",this.getSelectedSeries())).onValueChange(function(u){return e.chartOptionsService.setSeriesOption("shadow.color",u,e.getSelectedSeries())});var o=function(u,c,m,y){var w=e.chartOptionsService.getSeriesOption("shadow."+c,e.getSelectedSeries());u.setLabel(e.chartTranslationService.translate(c)).setMinValue(m).setMaxValue(yt(w,y)).setValue(""+w).onValueChange(function(D){return e.chartOptionsService.setSeriesOption("shadow."+c,D,e.getSelectedSeries())})};o(this.shadowBlurSlider,"blur",0,20),o(this.shadowXOffsetSlider,"xOffset",-10,10),o(this.shadowYOffsetSlider,"yOffset",-10,10)},n.TEMPLATE='<div>\n            <ag-group-component ref="shadowGroup">\n                <ag-color-picker ref="shadowColorPicker"></ag-color-picker>\n                <ag-slider ref="shadowBlurSlider"></ag-slider>\n                <ag-slider ref="shadowXOffsetSlider"></ag-slider>\n                <ag-slider ref="shadowYOffsetSlider"></ag-slider>\n            </ag-group-component>\n        </div>',wh([E.RefSelector("shadowGroup")],n.prototype,"shadowGroup",void 0),wh([E.RefSelector("shadowColorPicker")],n.prototype,"shadowColorPicker",void 0),wh([E.RefSelector("shadowBlurSlider")],n.prototype,"shadowBlurSlider",void 0),wh([E.RefSelector("shadowXOffsetSlider")],n.prototype,"shadowXOffsetSlider",void 0),wh([E.RefSelector("shadowYOffsetSlider")],n.prototype,"shadowYOffsetSlider",void 0),wh([E.Autowired("chartTranslationService")],n.prototype,"chartTranslationService",void 0),wh([E.PostConstruct],n.prototype,"init",null),n}(E.Component),xT=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Sh=function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);return u>3&&c&&Object.defineProperty(n,e,c),c},AT=function(h){function n(e,o){var u=h.call(this)||this;return u.chartOptionsService=e,u.getSelectedSeries=o,u}return xT(n,h),n.prototype.init=function(){this.setTemplate(n.TEMPLATE,{seriesMarkersGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical"}}),this.initMarkers()},n.prototype.initMarkers=function(){var e=this;this.seriesMarkerShapeSelect.addOptions([{value:"square",text:"Square"},{value:"circle",text:"Circle"},{value:"cross",text:"Cross"},{value:"diamond",text:"Diamond"},{value:"plus",text:"Plus"},{value:"triangle",text:"Triangle"},{value:"heart",text:"Heart"}]).setLabel(this.chartTranslationService.translate("shape")).setValue(this.getSeriesOption("marker.shape")).onValueChange(function(y){return e.setSeriesOption("marker.shape",y)});var u=this.chartOptionsService.getChartType(),c=E._.includes(["scatter","bubble"],u);this.seriesMarkersGroup.setTitle(this.chartTranslationService.translate("markers")).hideEnabledCheckbox(c).setEnabled(this.getSeriesOption("marker.enabled")||!1).hideOpenCloseIcons(!0).onEnableChange(function(y){return e.setSeriesOption("marker.enabled",y)});var m=function(y,w,D,x){var P=e.getSeriesOption(y);w.setLabel(e.chartTranslationService.translate(D)).setMaxValue(yt(P,x)).setValue(""+P).setTextFieldWidth(45).onValueChange(function(R){return e.setSeriesOption(y,R)})};"bubble"===u?(m("marker.maxSize",this.seriesMarkerMinSizeSlider,"maxSize",60),m("marker.size",this.seriesMarkerSizeSlider,"minSize",60)):(this.seriesMarkerMinSizeSlider.setDisplayed(!1),m("marker.size",this.seriesMarkerSizeSlider,"size",60)),m("marker.strokeWidth",this.seriesMarkerStrokeWidthSlider,"strokeWidth",10)},n.prototype.getSeriesOption=function(e){return this.chartOptionsService.getSeriesOption(e,this.getSelectedSeries())},n.prototype.setSeriesOption=function(e,o){this.chartOptionsService.setSeriesOption(e,o,this.getSelectedSeries())},n.TEMPLATE='<div>\n            <ag-group-component ref="seriesMarkersGroup">\n                <ag-select ref="seriesMarkerShapeSelect"></ag-select>\n                <ag-slider ref="seriesMarkerMinSizeSlider"></ag-slider>\n                <ag-slider ref="seriesMarkerSizeSlider"></ag-slider>\n                <ag-slider ref="seriesMarkerStrokeWidthSlider"></ag-slider>\n            </ag-group-component>\n        </div>',Sh([E.RefSelector("seriesMarkersGroup")],n.prototype,"seriesMarkersGroup",void 0),Sh([E.RefSelector("seriesMarkerShapeSelect")],n.prototype,"seriesMarkerShapeSelect",void 0),Sh([E.RefSelector("seriesMarkerSizeSlider")],n.prototype,"seriesMarkerSizeSlider",void 0),Sh([E.RefSelector("seriesMarkerMinSizeSlider")],n.prototype,"seriesMarkerMinSizeSlider",void 0),Sh([E.RefSelector("seriesMarkerStrokeWidthSlider")],n.prototype,"seriesMarkerStrokeWidthSlider",void 0),Sh([E.Autowired("chartTranslationService")],n.prototype,"chartTranslationService",void 0),Sh([E.PostConstruct],n.prototype,"init",null),n}(E.Component),IE=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Fd=function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);return u>3&&c&&Object.defineProperty(n,e,c),c},gO=function(h){function n(e,o){var u=h.call(this)||this;return u.chartOptionsService=e,u.getSelectedSeries=o,u}return IE(n,h),n.prototype.init=function(){this.setTemplate(n.TEMPLATE,{calloutGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical"}}),this.initCalloutOptions()},n.prototype.initCalloutOptions=function(){var e=this;this.calloutGroup.setTitle(this.chartTranslationService.translate("callout")).setEnabled(!0).hideOpenCloseIcons(!0).hideEnabledCheckbox(!0);var o=function(u,c,m,y){var w=e.chartOptionsService.getSeriesOption(u,e.getSelectedSeries());c.setLabel(e.chartTranslationService.translate(m)).setMaxValue(yt(w,y)).setValue(""+w).setTextFieldWidth(45).onValueChange(function(D){return e.chartOptionsService.setSeriesOption(u,D,e.getSelectedSeries())})};o("callout.length",this.calloutLengthSlider,"length",40),o("callout.strokeWidth",this.calloutStrokeWidthSlider,"strokeWidth",10),o("label.offset",this.labelOffsetSlider,"offset",30)},n.TEMPLATE='<div>\n            <ag-group-component ref="calloutGroup">\n                <ag-slider ref="calloutLengthSlider"></ag-slider>\n                <ag-slider ref="calloutStrokeWidthSlider"></ag-slider>\n                <ag-slider ref="labelOffsetSlider"></ag-slider>\n            </ag-group-component>\n        </div>',Fd([E.RefSelector("calloutGroup")],n.prototype,"calloutGroup",void 0),Fd([E.RefSelector("calloutLengthSlider")],n.prototype,"calloutLengthSlider",void 0),Fd([E.RefSelector("calloutStrokeWidthSlider")],n.prototype,"calloutStrokeWidthSlider",void 0),Fd([E.RefSelector("labelOffsetSlider")],n.prototype,"labelOffsetSlider",void 0),Fd([E.Autowired("chartTranslationService")],n.prototype,"chartTranslationService",void 0),Fd([E.PostConstruct],n.prototype,"init",null),n}(E.Component),NE=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),LE=function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);return u>3&&c&&Object.defineProperty(n,e,c),c},Hg=function(h){function n(e,o,u){var c=h.call(this)||this;return c.chartController=e,c.chartOptionsService=o,c.activePanels=[],c.widgetFuncs={lineWidth:function(){return c.initLineWidth()},strokeWidth:function(){return c.initStrokeWidth()},lineDash:function(){return c.initLineDash()},lineOpacity:function(){return c.initLineOpacity()},fillOpacity:function(){return c.initFillOpacity()},markers:function(){return c.initMarkers()},labels:function(){return c.initLabels()},shadow:function(){return c.initShadow()},tooltips:function(){return c.initTooltips()},bins:function(){return c.initBins()}},c.seriesWidgetMappings={area:["tooltips","lineWidth","lineDash","lineOpacity","fillOpacity","markers","labels","shadow"],bar:["tooltips","strokeWidth","lineDash","lineOpacity","fillOpacity","labels","shadow"],column:["tooltips","strokeWidth","lineDash","lineOpacity","fillOpacity","labels","shadow"],line:["tooltips","lineWidth","lineDash","lineOpacity","markers","labels"],histogram:["tooltips","bins","strokeWidth","lineDash","lineOpacity","fillOpacity","labels","shadow"],scatter:["tooltips","markers","labels"],pie:["tooltips","strokeWidth","lineOpacity","fillOpacity","labels","shadow"]},c.seriesType=u,c}return NE(n,h),n.prototype.init=function(){this.setTemplate(n.TEMPLATE,{seriesGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.seriesGroup.setTitle(this.translate("series")).toggleGroupExpand(!1).hideEnabledCheckbox(!0),this.refreshWidgets()},n.prototype.refreshWidgets=function(){var e=this;this.destroyActivePanels(),this.seriesWidgetMappings[this.seriesType].forEach(function(o){return e.widgetFuncs[o]()})},n.prototype.initTooltips=function(){var e=this,o=this.createBean(new E.AgToggleButton);o.setLabel(this.translate("tooltips")).setLabelAlignment("left").setLabelWidth("flex").setInputWidth(45).setValue(this.getSeriesOption("tooltip.enabled")||!1).onValueChange(function(u){return e.setSeriesOption("tooltip.enabled",u)}),this.addWidget(o)},n.prototype.initStrokeWidth=function(){var e=this,o=this.getSeriesOption("strokeWidth"),u=this.createBean(new E.AgSlider);u.setLabel(this.translate("strokeWidth")).setMaxValue(yt(o,10)).setTextFieldWidth(45).setValue(""+o).onValueChange(function(c){return e.setSeriesOption("strokeWidth",c)}),this.addWidget(u)},n.prototype.initLineWidth=function(){var e=this,o=this.getSeriesOption("strokeWidth"),u=this.createBean(new E.AgSlider);u.setLabel(this.translate("lineWidth")).setMaxValue(yt(o,10)).setTextFieldWidth(45).setValue(""+o).onValueChange(function(c){return e.setSeriesOption("strokeWidth",c)}),this.addWidget(u)},n.prototype.initLineDash=function(){var e=this,o=this.getSeriesOption("lineDash"),u=o?o[0]:0,c=this.createBean(new E.AgSlider);c.setLabel(this.translate("lineDash")).setMaxValue(yt(u,30)).setTextFieldWidth(45).setValue(""+u).onValueChange(function(m){return e.setSeriesOption("lineDash",[m])}),this.addWidget(c)},n.prototype.initLineOpacity=function(){var e=this,o=this.getSeriesOption("strokeOpacity"),u=this.createBean(new E.AgSlider);u.setLabel(this.translate("strokeOpacity")).setStep(.05).setMaxValue(yt(o,1)).setTextFieldWidth(45).setValue(""+o).onValueChange(function(c){return e.setSeriesOption("strokeOpacity",c)}),this.addWidget(u)},n.prototype.initFillOpacity=function(){var e=this,o=this.getSeriesOption("fillOpacity"),u=this.createBean(new E.AgSlider);u.setLabel(this.translate("fillOpacity")).setStep(.05).setMaxValue(yt(o,1)).setTextFieldWidth(45).setValue(""+o).onValueChange(function(c){return e.setSeriesOption("fillOpacity",c)}),this.addWidget(u)},n.prototype.initLabels=function(){var e=this,o=function(h,n,e){var o={family:n.getSeriesOption("label.fontFamily",e()),style:n.getSeriesOption("label.fontStyle",e()),weight:n.getSeriesOption("label.fontWeight",e()),size:n.getSeriesOption("label.fontSize",e()),color:n.getSeriesOption("label.color",e())};return{name:h.translate("labels"),enabled:n.getSeriesOption("label.enabled",e())||!1,setEnabled:function(m){return n.setSeriesOption("label.enabled",m,e())},suppressEnabledCheckbox:!1,initialFont:o,setFont:function(m){m.family&&n.setSeriesOption("label.fontFamily",m.family,e()),m.weight&&n.setSeriesOption("label.fontWeight",m.weight,e()),m.style&&n.setSeriesOption("label.fontStyle",m.style,e()),m.size&&n.setSeriesOption("label.fontSize",m.size,e()),m.color&&n.setSeriesOption("label.color",m.color,e())}}}(this.chartTranslationService,this.chartOptionsService,function(){return e.seriesType}),u=this.createBean(new zy(o));if("pie"===this.seriesType){var c=this.createBean(new gO(this.chartOptionsService,function(){return e.seriesType}));u.addCompToPanel(c),this.activePanels.push(c)}this.addWidget(u)},n.prototype.initShadow=function(){var e=this,o=this.createBean(new OT(this.chartOptionsService,function(){return e.seriesType}));this.addWidget(o)},n.prototype.initMarkers=function(){var e=this,o=this.createBean(new AT(this.chartOptionsService,function(){return e.seriesType}));this.addWidget(o)},n.prototype.initBins=function(){var e=this,o=this.getSeriesOption("binCount"),u=this.createBean(new E.AgSlider);u.setLabel(this.translate("histogramBinCount")).setMinValue(4).setMaxValue(yt(o,100)).setTextFieldWidth(45).setValue(""+o).onValueChange(function(c){return e.setSeriesOption("binCount",c)}),this.addWidget(u)},n.prototype.addWidget=function(e){this.seriesGroup.addItem(e),this.activePanels.push(e)},n.prototype.getSeriesOption=function(e){return this.chartOptionsService.getSeriesOption(e,this.seriesType)},n.prototype.setSeriesOption=function(e,o){this.chartOptionsService.setSeriesOption(e,o,this.seriesType)},n.prototype.translate=function(e,o){return this.chartTranslationService.translate(e,o)},n.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach(function(o){E._.removeFromParent(o.getGui()),e.destroyBean(o)})},n.prototype.destroy=function(){this.destroyActivePanels(),h.prototype.destroy.call(this)},n.TEMPLATE='<div>\n            <ag-group-component ref="seriesGroup">                \n            </ag-group-component>\n        </div>',LE([E.RefSelector("seriesGroup")],n.prototype,"seriesGroup",void 0),LE([E.Autowired("chartTranslationService")],n.prototype,"chartTranslationService",void 0),LE([E.PostConstruct],n.prototype,"init",null),n}(E.Component),kE=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}();function yt(h,n){return Math.max(h,n)}var RT=function(h){function n(e,o){var u=h.call(this,n.TEMPLATE)||this;return u.chartController=e,u.chartOptionsService=o,u.panels=[],u}return kE(n,h),n.prototype.init=function(){this.createPanels(),this.addManagedListener(this.chartController,kg.EVENT_CHART_UPDATED,this.createPanels.bind(this))},n.prototype.createPanels=function(){var e=this.chartController.getChartType(),o=this.chartController.isGrouping();if(e!==this.chartType||o!==this.isGrouping){switch(this.destroyPanels(),this.addComponent(new pO(this.chartOptionsService)),this.addComponent(new yT(this.chartOptionsService)),e){case"groupedColumn":case"stackedColumn":case"normalizedColumn":case"groupedBar":case"stackedBar":case"normalizedBar":this.addComponent(new Bg(this.chartController,this.chartOptionsService)),this.addComponent(new Hg(this.chartController,this.chartOptionsService,"bar")),this.addComponent(new $y(this.chartOptionsService));break;case"pie":case"doughnut":this.addComponent(new Hg(this.chartController,this.chartOptionsService,"pie"));break;case"line":this.addComponent(new Bg(this.chartController,this.chartOptionsService)),this.addComponent(new Hg(this.chartController,this.chartOptionsService,"line")),this.addComponent(new $y(this.chartOptionsService));break;case"scatter":case"bubble":this.addComponent(new Bg(this.chartController,this.chartOptionsService)),this.addComponent(new Hg(this.chartController,this.chartOptionsService,"scatter")),this.addComponent(new $y(this.chartOptionsService));break;case"area":case"stackedArea":case"normalizedArea":this.addComponent(new Bg(this.chartController,this.chartOptionsService)),this.addComponent(new Hg(this.chartController,this.chartOptionsService,"area")),this.addComponent(new $y(this.chartOptionsService));break;case"histogram":this.addComponent(new Bg(this.chartController,this.chartOptionsService)),this.addComponent(new Hg(this.chartController,this.chartOptionsService,"histogram")),this.addComponent(new $y(this.chartOptionsService));break;default:console.warn("AG Grid: ChartFormattingPanel - unexpected chart type index: "+e+" supplied")}this.chartType=e,this.isGrouping=o}},n.prototype.addComponent=function(e){this.createBean(e),this.panels.push(e),e.addCssClass("ag-chart-format-section"),this.getGui().appendChild(e.getGui())},n.prototype.destroyPanels=function(){var e=this;this.panels.forEach(function(o){E._.removeFromParent(o.getGui()),e.destroyBean(o)})},n.prototype.destroy=function(){this.destroyPanels(),h.prototype.destroy.call(this)},n.TEMPLATE='<div class="ag-chart-format-wrapper"></div>',function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);u>3&&c&&Object.defineProperty(n,e,c)}([E.PostConstruct],n.prototype,"init",null),n}(E.Component),mO=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),vO=function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);return u>3&&c&&Object.defineProperty(n,e,c),c},GE=function(h){function n(e,o){var u=h.call(this)||this;u.size=58,u.padding=5,u.root=new Nr;var c=new by(window.document,u.size,u.size);return c.canvas.element.classList.add("ag-chart-mini-thumbnail-canvas"),c.root=u.root,c.container=e,u.scene=c,u.tooltipName=o,u}return mO(n,h),n.prototype.init=function(){this.scene.canvas.element.title=this.chartTranslationService.translate(this.tooltipName)},vO([E.Autowired("chartTranslationService")],n.prototype,"chartTranslationService",void 0),vO([E.PostConstruct],n.prototype,"init",null),n}(E.Component),JM=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Ni=function(h){function n(e,o){var u=h.call(this,e,o)||this;return u.stroke="gray",u.axisOvershoot=3,u}return JM(n,h),n.prototype.addAxes=function(){var e=this.size,o=this.padding,u=new Fa;u.x1=o,u.y1=o,u.x2=o,u.y2=e-o+this.axisOvershoot,u.stroke=this.stroke;var c=new Fa;c.x1=o-this.axisOvershoot+1,c.y1=e-o,c.x2=e-o+1,c.y2=e-o,c.stroke=this.stroke;var m=this.root;m.append(u),m.append(c)},function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);u>3&&c&&Object.defineProperty(n,e,c)}([E.PostConstruct],n.prototype,"addAxes",null),n}(GE);function yO(h){var n=h.stacked,e=h.size,o=h.padding,u=h.xScalePadding,c=h.xScaleDomain,m=h.yScaleDomain,y=new no;y.domain=c,y.range=[o,e-o],y.paddingInner=u,y.paddingOuter=u;var w=new Jn;w.domain=m,w.range=[e-o,o];var D=function(x,P,R){return x.map(function(I,N){var V=R.convert(I),z=new tl;return z.x=P.convert(N),z.y=V,z.width=P.bandwidth,z.height=R.convert(0)-V,z.strokeWidth=1,z.crisp=!0,z})};return n?h.data.map(function(x){return D(x,y,w)}):D(h.data,y,w)}var Lt=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),MT=function(h){function n(e,o,u){var c=h.call(this,e,"groupedColumnTooltip")||this;c.columnData=[2,3,4];var y=c.root;return c.columns=yO({stacked:!1,root:y,data:c.columnData,size:c.size,padding:c.padding,xScaleDomain:[0,1,2],yScaleDomain:[0,4],xScalePadding:.3}),y.append(c.columns),c.updateColors(o,u),c}return Lt(n,h),n.prototype.updateColors=function(e,o){this.columns.forEach(function(u,c){u.fill=e[c],u.stroke=o[c]})},n.chartType="groupedColumn",n}(Ni),eF=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),jg=function(h){function n(e,o,u,c,m,y){void 0===c&&(c=n.data),void 0===m&&(m=[0,16]),void 0===y&&(y="stackedColumnTooltip");var w=h.call(this,e,y)||this,x=w.root;return w.stackedColumns=yO({stacked:!0,root:x,data:c,size:w.size,padding:w.padding,xScaleDomain:[0,1,2],yScaleDomain:m,xScalePadding:.3}),x.append([].concat.apply([],w.stackedColumns)),w.updateColors(o,u),w}return eF(n,h),n.prototype.updateColors=function(e,o){this.stackedColumns.forEach(function(u,c){return u.forEach(function(m){m.fill=e[c],m.stroke=o[c]})})},n.chartType="stackedColumn",n.data=[[8,12,16],[6,9,12],[2,3,4]],n}(Ni),Id=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),FT=function(h){function n(e,o,u){return h.call(this,e,o,u,n.data,[0,10],"normalizedColumnTooltip")||this}return Id(n,h),n.chartType="normalizedColumn",n.data=[[10,10,10],[6,7,8],[2,4,6]],n}(jg),IT=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),NT=function(h){function n(e,o,u){var c=h.call(this,e,"groupedBarTooltip")||this,m=c.padding,y=c.size,D=new no;D.domain=[0,1,2],D.range=[m,y-m],D.paddingInner=.3,D.paddingOuter=.3;var x=new Jn;x.domain=[0,4],x.range=[y-m,m];var P=x.convert(0),R=D.bandwidth;return c.bars=[2,3,4].map(function(I,N){var V=new tl;return V.x=m,V.y=D.convert(N),V.width=P-x.convert(I),V.height=R,V.strokeWidth=1,V.crisp=!0,V}),c.updateColors(o,u),c.root.append(c.bars),c}return IT(n,h),n.prototype.updateColors=function(e,o){this.bars.forEach(function(u,c){u.fill=e[c],u.stroke=o[c]})},n.chartType="groupedBar",n}(Ni),Ug=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),_O=function(h){function n(e,o,u,c,m,y){void 0===c&&(c=n.data),void 0===m&&(m=[0,16]),void 0===y&&(y="stackedBarTooltip");var w=h.call(this,e,y)||this,D=w.size,x=w.padding,P=new no;P.domain=[0,1,2],P.range=[x,D-x],P.paddingInner=.3,P.paddingOuter=.3;var R=new Jn;R.domain=m,R.range=[D-x,x];var I=R.convert(0),N=P.bandwidth;return w.bars=c.map(function(V){return V.map(function(z,Y){var X=new tl;return X.x=x,X.y=P.convert(Y),X.width=I-R.convert(z),X.height=N,X.strokeWidth=1,X.crisp=!0,X})}),w.updateColors(o,u),w.root.append([].concat.apply([],w.bars)),w}return Ug(n,h),n.prototype.updateColors=function(e,o){this.bars.forEach(function(u,c){return u.forEach(function(m){m.fill=e[c],m.stroke=o[c]})})},n.chartType="stackedBar",n.data=[[8,12,16],[6,9,12],[2,3,4]],n}(Ni),VE=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Kb=function(h){function n(e,o,u){return h.call(this,e,o,u,n.data,[0,10],"normalizedBarTooltip")||this}return VE(n,h),n.chartType="normalizedBar",n.data=[[10,10,10],[6,7,8],[2,4,6]],n}(_O),Ky=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),BE=function(h){function n(e,o,u,c,m){void 0===c&&(c=.6),void 0===m&&(m="doughnutTooltip");var y=h.call(this,e,m)||this,w=(y.size-2*y.padding)/2,D=w+y.padding,x=[[rr(-90),rr(30)],[rr(30),rr(120)],[rr(120),rr(180)],[rr(180),rr(210)],[rr(210),rr(240)],[rr(240),rr(270)]];return y.sectors=x.map(function(P){var R=function(h,n){var e="function"==typeof Symbol&&h[Symbol.iterator];if(!e)return h;var u,m,o=e.call(h),c=[];try{for(;(void 0===n||n-- >0)&&!(u=o.next()).done;)c.push(u.value)}catch(y){m={error:y}}finally{try{u&&!u.done&&(e=o.return)&&e.call(o)}finally{if(m)throw m.error}}return c}(P,2),I=R[0],N=R[1],V=new ge;return V.centerX=D,V.centerY=D,V.innerRadius=w*c,V.outerRadius=w,V.startAngle=I,V.endAngle=N,V.stroke=void 0,V.strokeWidth=1,V}),y.updateColors(o,u),y.root.append(y.sectors),y}return Ky(n,h),n.prototype.updateColors=function(e,o){this.sectors.forEach(function(u,c){u.fill=e[c%e.length],u.stroke=o[c%o.length]})},n.chartType="doughnut",n}(GE),CO=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),kT=function(h){function n(e,o,u){return h.call(this,e,o,u,0,"pieTooltip")||this}return CO(n,h),n.chartType="pie",n}(BE),GT=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),VT=function(h){function n(e,o,u){var c=h.call(this,e,"lineTooltip")||this;return c.data=[[9,7,8,5,6],[5,6,3,4,1],[1,3,4,8,7]],c.lines=function(h,n,e,o){var u=new Jn;u.domain=[0,4],u.range=[o,e-o];var c=new Jn;c.domain=[0,10],c.range=[e-o,o];var m=n.map(function(w){var D=new Ia;return D.strokeWidth=3,D.lineCap="round",D.fill=void 0,w.forEach(function(x,P){D.path[P>0?"lineTo":"moveTo"](u.convert(P),c.convert(x))}),D}),y=new Zu;return y.x=y.y=o,y.width=y.height=e-2*o,y.append(m),h.append(y),m}(c.root,c.data,c.size,c.padding),c.updateColors(o,u),c}return GT(n,h),n.prototype.updateColors=function(e,o){this.lines.forEach(function(u,c){u.stroke=e[c]})},n.chartType="line",n}(Ni),HE=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),tF=function(h){function n(e,o,u){var c=h.call(this,e,"scatterTooltip")||this,m=c.size,y=c.padding,D=new Jn;D.domain=[-.5,4],D.range=[2*y,m-y];var x=new Jn;x.domain=[-.5,3.5],x.range=[m-y,y];var P=[];[[[.3,3],[1.1,.9],[2,.4],[3.4,2.4]],[[0,.3],[1,2],[2.4,1.4],[3,0]]].forEach(function(I){I.forEach(function(N){var V=function(h,n){var e="function"==typeof Symbol&&h[Symbol.iterator];if(!e)return h;var u,m,o=e.call(h),c=[];try{for(;(void 0===n||n-- >0)&&!(u=o.next()).done;)c.push(u.value)}catch(y){m={error:y}}finally{try{u&&!u.done&&(e=o.return)&&e.call(o)}finally{if(m)throw m.error}}return c}(N,2),z=V[0],Y=V[1],X=new Jf;X.strokeWidth=1,X.centerX=D.convert(z),X.centerY=x.convert(Y),X.radiusX=X.radiusY=2.5,P.push(X)})}),c.points=P,c.updateColors(o,u);var R=new Zu;return R.x=R.y=y,R.width=R.height=m-2*y,R.append(c.points),c.root.append(R),c}return HE(n,h),n.prototype.updateColors=function(e,o){this.points.forEach(function(u,c){u.stroke=o[c%o.length],u.fill=e[c%e.length]})},n.chartType="scatter",n}(Ni),HT=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),zg=function(h){function n(e,o,u){var c=h.call(this,e,"bubbleTooltip")||this,m=c.size,y=c.padding,D=new Jn;D.domain=[0,1],D.range=[2*y,m-y];var x=new Jn;x.domain=[0,1],x.range=[m-y,y];var P=[];[[[.1,.3,5],[.5,.4,7],[.2,.8,7]],[[.8,.7,5],[.7,.3,9]]].forEach(function(I){I.forEach(function(N){var V=function(h,n){var e="function"==typeof Symbol&&h[Symbol.iterator];if(!e)return h;var u,m,o=e.call(h),c=[];try{for(;(void 0===n||n-- >0)&&!(u=o.next()).done;)c.push(u.value)}catch(y){m={error:y}}finally{try{u&&!u.done&&(e=o.return)&&e.call(o)}finally{if(m)throw m.error}}return c}(N,3),z=V[0],Y=V[1],X=V[2],q=new Jf;q.strokeWidth=1,q.centerX=D.convert(z),q.centerY=x.convert(Y),q.radiusX=q.radiusY=X,q.fillOpacity=.7,P.push(q)})}),c.points=P,c.updateColors(o,u);var R=new Zu;return R.x=y,R.y=y,R.width=m-2*y,R.height=m-2*y,R.append(c.points),c.root.append(R),c}return HT(n,h),n.prototype.updateColors=function(e,o){this.points.forEach(function(u,c){u.stroke=o[c%o.length],u.fill=e[c%e.length]})},n.chartType="bubble",n}(Ni),jT=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),$g=function(h){function n(e,o,u,c){void 0===c&&(c=n.data);var m=h.call(this,e,"groupedAreaTooltip")||this,y=m.size,w=m.padding,D=new no;D.domain=[0,1,2],D.paddingInner=1,D.paddingOuter=0,D.range=[w+.5,y-w-.5];var x=new Jn;x.domain=[0,6],x.range=[y-w+.5,w];var R=2*c.length-1,I=[],N=x.convert(0);return c.forEach(function(V,z){var Y=D.convert(z);V.forEach(function(X,q){var ie=x.convert(X),ce=I[q]||(I[q]=[]);ce[z]={x:Y,y:ie},ce[R-z]={x:Y,y:N}})}),m.areas=I.reverse().map(function(V){var z=new Ia;z.strokeWidth=1,z.fillOpacity=.7;var Y=z.path;return Y.clear(),V.forEach(function(X,q){return Y[q>0?"lineTo":"moveTo"](X.x,X.y)}),Y.closePath(),z}),m.updateColors(o,u),m.root.append(m.areas),m}return jT(n,h),n.prototype.updateColors=function(e,o){this.areas.forEach(function(u,c){u.fill=e[c],u.stroke=o[c]})},n.chartType="area",n.data=[[1,3,5],[2,6,4],[5,3,1]],n}(Ni),nF=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Yb=function(h){function n(e,o,u,c,m){void 0===c&&(c=n.data),void 0===m&&(m="stackedAreaTooltip");var y=h.call(this,e,m)||this,w=y.size,D=y.padding,x=new no;x.domain=[0,1,2],x.paddingInner=1,x.paddingOuter=0,x.range=[D+.5,w-D-.5];var P=new Jn;P.domain=[0,16],P.range=[w-D+.5,D+.5];var I=2*c.length-1,N=[];return c.forEach(function(V,z){var Y=x.convert(z),X=0;V.forEach(function(q,ie){var ce=P.convert(X+q),se=N[ie]||(N[ie]=[]);se[z]={x:Y,y:ce},se[I-z]={x:Y,y:P.convert(X)},X+=q})}),y.areas=N.map(function(V){var z=new Ia;z.strokeWidth=1;var Y=z.path;return Y.clear(),V.forEach(function(X,q){return Y[q>0?"lineTo":"moveTo"](X.x,X.y)}),Y.closePath(),z}),y.updateColors(o,u),y.root.append(y.areas),y}return nF(n,h),n.prototype.updateColors=function(e,o){this.areas.forEach(function(u,c){u.fill=e[c],u.stroke=o[c]})},n.chartType="stackedArea",n.data=[[2,3,2],[3,6,5],[6,2,2]],n}(Ni),UT=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),rF=function(h){function n(e,o,u,c){return void 0===c&&(c=n.data),h.call(this,e,o,u,c,"normalizedAreaTooltip")||this}return UT(n,h),n.chartType="normalizedArea",n.data=Yb.data.map(function(e){var o=e.reduce(function(u,c){return u+c},0);return e.map(function(u){return u/o*16})}),n}(Yb),bO=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),zT=function(h,n){var e="function"==typeof Symbol&&h[Symbol.iterator];if(!e)return h;var u,m,o=e.call(h),c=[];try{for(;(void 0===n||n-- >0)&&!(u=o.next()).done;)c.push(u.value)}catch(y){m={error:y}}finally{try{u&&!u.done&&(e=o.return)&&e.call(o)}finally{if(m)throw m.error}}return c},wO=function(h){function n(e,o,u){var c=h.call(this,e,"histogramTooltip")||this,m=c.padding,y=c.size,w=[2,5,11,13,10,6,1],D=new Jn;D.domain=[0,w.length],D.range=[m,y-m];var x=new Jn;x.domain=[0,w.reduce(function(R,I){return Math.max(R,I)},0)],x.range=[y-m,m];var P=x.convert(0);return c.bars=w.map(function(R,I){var N=x.convert(R),V=D.convert(I),z=D.convert(I+1),Y=new tl;return Y.x=V,Y.y=N,Y.width=z-V,Y.height=P-N,Y.strokeWidth=1,Y.crisp=!0,Y}),c.updateColors(o,u),c.root.append(c.bars),c}return bO(n,h),n.prototype.updateColors=function(e,o){var c=zT(e,1)[0],y=zT(o,1)[0];this.bars.forEach(function(w){w.fill=c,w.stroke=y})},n.chartType="histogram",n}(Ni),WE=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),SO=function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);return u>3&&c&&Object.defineProperty(n,e,c),c},Eh=function(h){function n(e,o,u){var c=h.call(this,n.TEMPLATE)||this;return c.wrappers={},c.chartGroups={columnGroup:[MT,jg,FT],barGroup:[NT,_O,Kb],pieGroup:[kT,BE],lineGroup:[VT],scatterGroup:[tF,zg],areaGroup:[$g,Yb,rF],histogramGroup:[wO]},c.chartController=e,c.fills=o,c.strokes=u,c}return WE(n,h),n.prototype.init=function(){var e=this,o=this.getGui();Object.keys(this.chartGroups).forEach(function(u){var c=e.chartGroups[u],m=e.createBean(new E.AgGroupComponent({title:e.chartTranslationService.translate(u),suppressEnabledCheckbox:!0,enabled:!0,suppressOpenCloseIcons:!0,cssIdentifier:"charts-settings",direction:"horizontal"}));c.forEach(function(y){var w=document.createElement("div");w.classList.add("ag-chart-mini-thumbnail"),e.addManagedListener(w,"click",function(){e.chartController.setChartType(y.chartType),e.updateSelectedMiniChart()}),e.wrappers[y.chartType]=w,e.createBean(new y(w,e.fills,e.strokes)),m.addItem(w)}),o.appendChild(m.getGui())}),this.updateSelectedMiniChart()},n.prototype.updateSelectedMiniChart=function(){var e=this.chartController.getChartType();for(var o in this.wrappers)this.wrappers[o].classList.toggle("ag-selected",o===e)},n.TEMPLATE='<div class="ag-chart-settings-mini-wrapper"></div>',SO([E.Autowired("chartTranslationService")],n.prototype,"chartTranslationService",void 0),SO([E.PostConstruct],n.prototype,"init",null),n}(E.Component),EO=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Nd=function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);return u>3&&c&&Object.defineProperty(n,e,c),c},DO=function(h){function n(e){var o=h.call(this,n.TEMPLATE)||this;return o.miniCharts=[],o.cardItems=[],o.activePaletteIndex=0,o.palettes=[],o.themes=[],o.chartController=e,o}return EO(n,h),n.prototype.postConstruct=function(){var e=this;this.resetPalettes(),this.ePrevBtn.insertAdjacentElement("afterbegin",E._.createIconNoSpan("previous",this.gridOptionsWrapper)),this.eNextBtn.insertAdjacentElement("afterbegin",E._.createIconNoSpan("next",this.gridOptionsWrapper)),this.addManagedListener(this.ePrevBtn,"click",function(){return e.setActivePalette(e.getPrev(),"left")}),this.addManagedListener(this.eNextBtn,"click",function(){return e.setActivePalette(e.getNext(),"right")}),this.addManagedListener(this.chartController,kg.EVENT_CHART_TYPE_CHANGED,function(){return e.resetPalettes(!0)}),this.scrollSelectedIntoView()},n.prototype.scrollSelectedIntoView=function(){var e=this;setTimeout(function(){var u=e.miniCharts.find(function(c){return!c.getGui().classList.contains("ag-hidden")}).getGui().querySelector(".ag-selected");u&&u.scrollIntoView({block:"nearest"})},250)},n.prototype.resetPalettes=function(e){var o=this,u=this.chartController.getPalettes();E._.shallowCompare(u,this.palettes)&&!e||this.isAnimating||(this.palettes=u,this.themes=this.chartController.getThemes(),this.activePaletteIndex=this.themes.findIndex(function(c){return c===o.chartController.getChartThemeName()}),this.cardItems=[],E._.clearElement(this.eCardSelector),this.destroyMiniCharts(),this.palettes.forEach(function(c,m){var y=o.activePaletteIndex===m,x=o.createBean(new Eh(o.chartController,c.fills,c.strokes));o.miniCharts.push(x),o.eMiniChartsContainer.appendChild(x.getGui()),o.addCardLink(m),y?x.updateSelectedMiniChart():x.addCssClass("ag-hidden")}),this.eNavBar.classList.toggle("ag-hidden",this.palettes.length<=1),E._.radioCssClass(this.cardItems[this.activePaletteIndex],"ag-selected","ag-not-selected"))},n.prototype.addCardLink=function(e){var o=this,u=document.createElement("div");u.classList.add("ag-chart-settings-card-item"),this.addManagedListener(u,"click",function(){o.setActivePalette(e,e<o.activePaletteIndex?"left":"right")}),this.eCardSelector.appendChild(u),this.cardItems.push(u)},n.prototype.getPrev=function(){var e=this.activePaletteIndex-1;return e<0&&(e=this.palettes.length-1),e},n.prototype.getNext=function(){var e=this.activePaletteIndex+1;return e>=this.palettes.length&&(e=0),e},n.prototype.setActivePalette=function(e,o){var u=this;if(!this.isAnimating&&this.activePaletteIndex!==e){E._.radioCssClass(this.cardItems[e],"ag-selected","ag-not-selected");var c=this.miniCharts[this.activePaletteIndex],m=c.getGui(),y=this.miniCharts[e],w=y.getGui();c.updateSelectedMiniChart(),y.updateSelectedMiniChart();var D="left"===o?-1:1,x=w.style.left=E._.getAbsoluteWidth(this.getGui())*D+"px";this.activePaletteIndex=e,this.isAnimating=!0;var P="ag-animating";y.removeCssClass("ag-hidden"),c.addCssClass(P),y.addCssClass(P),this.chartController.setChartThemeName(this.themes[e]),window.setTimeout(function(){m.style.left=-parseFloat(x)+"px",w.style.left="0px"},0),window.setTimeout(function(){u.isAnimating=!1,c.removeCssClass(P),y.removeCssClass(P),c.addCssClass("ag-hidden")},300)}},n.prototype.destroyMiniCharts=function(){E._.clearElement(this.eMiniChartsContainer),this.miniCharts=this.destroyBeans(this.miniCharts)},n.prototype.destroy=function(){this.destroyMiniCharts(),h.prototype.destroy.call(this)},n.TEMPLATE='<div class="ag-chart-settings-wrapper">\n            <div ref="eMiniChartsContainer" class="ag-chart-settings-mini-charts-container ag-scrollable-container"></div>\n            <div ref="eNavBar" class="ag-chart-settings-nav-bar">\n                <div ref="ePrevBtn" class="ag-chart-settings-prev">\n                    <button type="button" class="ag-chart-settings-prev-button"></button>\n                </div>\n                <div ref="eCardSelector" class="ag-chart-settings-card-selector"></div>\n                <div ref="eNextBtn" class="ag-chart-settings-next">\n                    <button type="button" class="ag-chart-settings-next-button"></button>\n                </div>\n            </div>\n        </div>',Nd([E.Autowired("resizeObserverService")],n.prototype,"resizeObserverService",void 0),Nd([E.RefSelector("eMiniChartsContainer")],n.prototype,"eMiniChartsContainer",void 0),Nd([E.RefSelector("eNavBar")],n.prototype,"eNavBar",void 0),Nd([E.RefSelector("eCardSelector")],n.prototype,"eCardSelector",void 0),Nd([E.RefSelector("ePrevBtn")],n.prototype,"ePrevBtn",void 0),Nd([E.RefSelector("eNextBtn")],n.prototype,"eNextBtn",void 0),Nd([E.PostConstruct],n.prototype,"postConstruct",null),n}(E.Component),$T=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),OO=function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);return u>3&&c&&Object.defineProperty(n,e,c),c},KT=function(h){function n(e){var o=h.call(this)||this;o.tabs=[];var c=e.panels,m=e.chartOptionsService;return o.chartController=e.controller,o.chartOptionsService=m,o.panels=c,o}return $T(n,h),n.prototype.init=function(){var e=this;this.panels.forEach(function(o){var u=o.replace("chart","").toLowerCase(),c=e.createTab(o,u,e.getPanelClass(u)),m=c.comp;e.tabs.push(c.tab),e.addDestroyFunc(function(){return e.destroyBean(m)})}),this.tabbedLayout=new E.TabbedLayout({items:this.tabs,cssClass:"ag-chart-tabbed-menu",keepScrollPosition:!0}),this.getContext().createBean(this.tabbedLayout)},n.prototype.createTab=function(e,o,u){var c=document.createElement("div");c.classList.add("ag-chart-tab","ag-chart-"+o);var m=new u(this.chartController,this.chartOptionsService);this.getContext().createBean(m),c.appendChild(m.getGui());var y=document.createElement("div"),w=this.chartTranslationService.translate(o);return y.innerText=w,{comp:m,tab:{title:y,titleLabel:w,bodyPromise:E.AgPromise.resolve(c),getScrollableContainer:function(){return c.querySelector(".ag-scrollable-container")||c},name:e}}},n.prototype.showTab=function(e){this.tabbedLayout.showItem(this.tabs[e])},n.prototype.getGui=function(){return this.tabbedLayout&&this.tabbedLayout.getGui()},n.prototype.destroy=function(){this.parentComponent&&this.parentComponent.isAlive()&&this.destroyBean(this.parentComponent),h.prototype.destroy.call(this)},n.prototype.getPanelClass=function(e){switch(e){case n.TAB_DATA:return mT;case n.TAB_FORMAT:return RT;default:return DO}},n.TAB_DATA="data",n.TAB_FORMAT="format",OO([E.Autowired("chartTranslationService")],n.prototype,"chartTranslationService",void 0),OO([E.PostConstruct],n.prototype,"init",null),n}(E.Component),YT=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),xO=function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);return u>3&&c&&Object.defineProperty(n,e,c),c},jE=function(h){function n(e,o,u,c){var m=h.call(this,n.TEMPLATE)||this;return m.eChartContainer=e,m.eMenuPanelContainer=o,m.chartController=u,m.chartOptionsService=c,m.buttons={chartSettings:["menu",function(){return m.showMenu("chartSettings")}],chartData:["menu",function(){return m.showMenu("chartData")}],chartFormat:["menu",function(){return m.showMenu("chartFormat")}],chartLink:["linked",function(y){return m.toggleDetached(y)}],chartUnlink:["unlinked",function(y){return m.toggleDetached(y)}],chartDownload:["save",function(){return m.saveChart()}]},m.tabs=[],m.menuVisible=!1,m}return YT(n,h),n.prototype.postConstruct=function(){var e=this;this.createButtons(),this.refreshMenuClasses(),this.addManagedListener(this.eventService,E.Events.EVENT_CHART_CREATED,function(o){o.chartId===e.chartController.getChartId()&&e.createMenuPanel(0)})},n.prototype.isVisible=function(){return this.menuVisible},n.prototype.getToolbarOptions=function(){var e=this,o=["chartSettings","chartData","chartFormat",this.chartController.isChartLinked()?"chartLink":"chartUnlink","chartDownload"],u=this.gridOptionsWrapper.getChartToolbarItemsFunc();u&&(o=u({api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),defaultItems:o}).filter(function(y){return!!e.buttons[y]||(console.warn("AG Grid: '"+y+" is not a valid Chart Toolbar Option"),!1)})),this.chartController.isPivotChart()&&(o=o.filter(function(y){return"chartData"!==y}));var m=["chartUnlink","chartLink","chartDownload"];return this.tabs=o.filter(function(y){return-1===m.indexOf(y)}),o.filter(function(y){return-1!==m.indexOf(y)||e.tabs.length&&y===e.tabs[0]})},n.prototype.toggleDetached=function(e){var o=e.target,u=o.classList.contains("ag-icon-linked");o.classList.toggle("ag-icon-linked",!u),o.classList.toggle("ag-icon-unlinked",u);var m=this.chartTranslationService.translate(u?"chartUnlinkToolbarTooltip":"chartLinkToolbarTooltip");m&&(o.title=m),this.chartController.detachChartRange()},n.prototype.createButtons=function(){var e=this,o=this.getToolbarOptions(),u=this.getGui();o.forEach(function(c){var y=function(h,n){var e="function"==typeof Symbol&&h[Symbol.iterator];if(!e)return h;var u,m,o=e.call(h),c=[];try{for(;(void 0===n||n-- >0)&&!(u=o.next()).done;)c.push(u.value)}catch(y){m={error:y}}finally{try{u&&!u.done&&(e=o.return)&&e.call(o)}finally{if(m)throw m.error}}return c}(e.buttons[c],2),D=y[1],x=E._.createIconNoSpan(y[0],e.gridOptionsWrapper,void 0,!0);x.classList.add("ag-chart-menu-icon");var P=e.chartTranslationService.translate(c+"ToolbarTooltip");P&&(x.title=P),e.addManagedListener(x,"click",D),u.appendChild(x)})},n.prototype.saveChart=function(){this.dispatchEvent({type:n.EVENT_DOWNLOAD_CHART})},n.prototype.createMenuPanel=function(e){var o=this,u=this.gridOptionsWrapper.chartMenuPanelWidth(),c=this.menuPanel=this.createBean(new E.AgPanel({minWidth:u,width:u,height:"100%",closable:!0,hideTitleBar:!0,cssIdentifier:"chart-menu"}));return c.setParentComponent(this),this.eMenuPanelContainer.appendChild(c.getGui()),this.tabbedMenu=this.createBean(new KT({controller:this.chartController,type:this.chartController.getChartType(),panels:this.tabs,chartOptionsService:this.chartOptionsService})),this.addManagedListener(c,E.Component.EVENT_DESTROYED,function(){return o.destroyBean(o.tabbedMenu)}),new E.AgPromise(function(m){window.setTimeout(function(){c.setBodyComponent(o.tabbedMenu),o.tabbedMenu.showTab(e),o.addManagedListener(o.eChartContainer,"click",function(y){o.getGui().contains(y.target)||o.menuVisible&&o.hideMenu()}),m(c)},100)})},n.prototype.showContainer=function(){!this.menuPanel||(this.menuVisible=!0,this.showParent(this.menuPanel.getWidth()),this.refreshMenuClasses())},n.prototype.showMenu=function(e){var o=this.tabs.indexOf(e);this.menuPanel?this.showContainer():this.createMenuPanel(o).then(this.showContainer.bind(this))},n.prototype.hideMenu=function(){var e=this;this.hideParent(),window.setTimeout(function(){e.menuVisible=!1,e.refreshMenuClasses()},500)},n.prototype.refreshMenuClasses=function(){this.eChartContainer.classList.toggle("ag-chart-menu-visible",this.menuVisible),this.eChartContainer.classList.toggle("ag-chart-menu-hidden",!this.menuVisible)},n.prototype.showParent=function(e){this.eMenuPanelContainer.style.minWidth=e+"px"},n.prototype.hideParent=function(){this.eMenuPanelContainer.style.minWidth="0"},n.prototype.destroy=function(){h.prototype.destroy.call(this),this.menuPanel&&this.menuPanel.isAlive()&&this.destroyBean(this.menuPanel)},n.EVENT_DOWNLOAD_CHART="downloadChart",n.TEMPLATE='<div class="ag-chart-menu"></div>',xO([E.Autowired("chartTranslationService")],n.prototype,"chartTranslationService",void 0),xO([E.PostConstruct],n.prototype,"postConstruct",null),n}(E.Component),AO=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),qy=function(){return qy=Object.assign||function(h){for(var n,e=1,o=arguments.length;e<o;e++)for(var u in n=arguments[e])Object.prototype.hasOwnProperty.call(n,u)&&(h[u]=n[u]);return h},qy.apply(this,arguments)},UE=function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);return u>3&&c&&Object.defineProperty(n,e,c),c},TO=function(h){function n(e){var o=h.call(this,n.TEMPLATE)||this;return o.chartMenu=e,o}return AO(n,h),n.prototype.init=function(){var e=this;this.addManagedListener(this.getGui(),"keypress",function(o){"Enter"===o.key&&e.endEditing()}),this.addManagedListener(this.getGui(),"blur",this.endEditing.bind(this))},n.prototype.refreshTitle=function(e,o){var u=this;this.chartController=e,this.chartOptionsService=o;var c=this.chartController.getChartProxy();if(c){for(var m=0;m++;m<this.destroyableChartListeners.length)this.destroyableChartListeners[m]();this.destroyableChartListeners=[]}var y=c.getChart(),w=y.scene.canvas.element,D=this.addManagedListener(w,"dblclick",function(P){var R=y.title;if(R&&R.node.containsPoint(P.offsetX,P.offsetY)){var I=R.node.computeBBox(),N=R.node.inverseTransformPoint(I.x,I.y);u.startEditing(qy(qy({},I),N))}}),x=this.addManagedListener(w,"mousemove",function(P){var R=y.title,I=R&&R.enabled&&R.node.containsPoint(P.offsetX,P.offsetY);w.style.cursor=I?"pointer":""});this.destroyableChartListeners=[D,x]},n.prototype.startEditing=function(e){if(!this.chartMenu||!this.chartMenu.isVisible()){var u=this.chartController.getChartProxy().getChart().width,c=Math.max(Math.min(e.width+20,u),300),m=this.getGui();m.classList.add("currently-editing");var y=m.style;y.fontFamily=this.chartOptionsService.getChartOption("title.fontFamily"),y.fontWeight=this.chartOptionsService.getChartOption("title.fontWeight"),y.fontStyle=this.chartOptionsService.getChartOption("title.fontStyle"),y.fontSize=this.chartOptionsService.getChartOption("title.fontSize")+"px",y.color=this.chartOptionsService.getChartOption("title.color");var w=this.chartOptionsService.getChartOption("title.text"),D=w===this.chartTranslationService.translate("titlePlaceholder")?"":w;m.value=D;var x=m.getBoundingClientRect();y.left=Math.round(e.x+e.width/2-c/2)+"px",y.top=Math.round(e.y+e.height/2-x.height/2)+"px",y.width=Math.round(c)+"px",m.focus()}},n.prototype.endEditing=function(){var e=this.getGui().value;this.chartOptionsService.setChartOption("title.text",e),this.eventService.dispatchEvent({type:"chartTitleEdit"}),this.removeCssClass("currently-editing")},n.TEMPLATE='<input\n            class="ag-chart-title-edit"\n            style="padding:0; border:none; border-radius: 0; min-height: 0; text-align: center;" />\n        ',UE([E.Autowired("chartTranslationService")],n.prototype,"chartTranslationService",void 0),UE([E.PostConstruct],n.prototype,"init",null),n}(E.Component);function Xy(h,n){return!1!==n.clone&&n.isMergeableObject(h)?Sr(function(h){return Array.isArray(h)?[]:{}}(h),h,n):h}function XT(h,n,e){return h.concat(n).map(function(o){return Xy(o,e)})}function RO(h){return Object.keys(h).concat(function(h){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(h).filter(function(n){return h.propertyIsEnumerable(n)}):[]}(h))}function PO(h,n){try{return n in h}catch(e){return!1}}function zE(h){return function(h){return!!h&&"object"==typeof h}(h)&&!function(h){var n=Object.prototype.toString.call(h);return"[object RegExp]"===n||"[object Date]"===n}(h)}function Sr(h,n,e){(e=e||{}).arrayMerge=e.arrayMerge||XT,e.isMergeableObject=e.isMergeableObject||zE,e.cloneUnlessOtherwiseSpecified=Xy;var o=Array.isArray(n);return o===Array.isArray(h)?o?e.arrayMerge(h,n,e):function(h,n,e){var o={};return e.isMergeableObject(h)&&RO(h).forEach(function(u){o[u]=Xy(h[u],e)}),RO(n).forEach(function(u){(function(h,n){return PO(h,n)&&!(Object.hasOwnProperty.call(h,n)&&Object.propertyIsEnumerable.call(h,n))})(h,u)||(o[u]=PO(h,u)&&e.isMergeableObject(n[u])?function(h,n){if(!n.customMerge)return Sr;var e=n.customMerge(h);return"function"==typeof e?e:Sr}(u,e)(h[u],n[u],e):Xy(n[u],e))}),o}(h,n,e):Xy(n,e)}function vn(h){switch(h){case"bar":case"groupedBar":case"stackedBar":case"normalizedBar":return"bar";case"column":case"groupedColumn":case"stackedColumn":case"normalizedColumn":return"column";case"line":return"line";case"area":case"stackedArea":case"normalizedArea":return"area";case"scatter":case"bubble":return"scatter";case"histogram":return"histogram";case"pie":case"doughnut":return"pie";default:return"cartesian"}}var Zy=function(){return Zy=Object.assign||function(h){for(var n,e=1,o=arguments.length;e<o;e++)for(var u in n=arguments[e])Object.prototype.hasOwnProperty.call(n,u)&&(h[u]=n[u]);return h},Zy.apply(this,arguments)},MO=function(){function h(n){if(this.chartProxyParams=n,this.chartType=n.chartType,this.crossFiltering=n.crossFiltering,this.crossFilterCallback=n.crossFilterCallback,this.standaloneChartType=vn(this.chartType),this.chartProxyParams.chartOptionsToRestore){this.chartOptions=this.chartProxyParams.chartOptionsToRestore;var e={overrides:this.chartOptions};this.chartTheme=Ng(Zy({baseTheme:this.getSelectedTheme()},e))}else this.chartTheme=this.createChartTheme(),this.chartOptions=this.convertConfigToOverrides(this.chartTheme.config)}return h.prototype.recreateChart=function(){var n=this;this.chart&&this.destroyChart(),this.chart=this.createChart(),this.crossFiltering&&this.chart.addEventListener("click",function(o){return n.crossFilterCallback(o,!0)})},h.prototype.getChart=function(){return this.chart},h.prototype.createChartTheme=function(){var e=this.getSelectedTheme(),o=this.isStockTheme(e),u=this.chartProxyParams.getGridOptionsChartThemeOverrides(),c=this.chartProxyParams.apiChartThemeOverrides;if(u||c){var m={overrides:h.mergeThemeOverrides(u,c)};return Ng(o?Zy({baseTheme:e},m):Sr(this.lookupCustomChartTheme(e),m))}return Ng(o?e:this.lookupCustomChartTheme(e))},h.prototype.isStockTheme=function(n){return E._.includes(Object.keys(iO),n)},h.prototype.getSelectedTheme=function(){var n=this.chartProxyParams.getChartThemeName(),e=this.chartProxyParams.getChartThemes();return E._.includes(e,n)||(n=e[0]),n},h.prototype.lookupCustomChartTheme=function(n){var e=this.chartProxyParams.customChartThemes,o=e&&e[n];return o||console.warn("AG Grid: no stock theme exists with the name '"+n+"' and no custom chart theme with that name was supplied to 'customChartThemes'"),o},h.mergeThemeOverrides=function(n,e){return n?e?Sr(n,e):n:e},h.prototype.downloadChart=function(){var n=this.chart;n.scene.download(n.title?n.title.text:"chart")},h.prototype.getChartImageDataURL=function(n){return this.chart.scene.getDataURL(n)},h.prototype.getChartOptions=function(){return this.chartOptions},h.prototype.transformData=function(n,e){return this.chart.axes.filter(function(o){return o instanceof Ul}).length<1?n:n.map(function(o,u){var c=o[e],m=c&&c.toString?c.toString():"",y=Zy({},o);return y[e]={id:u,value:c,toString:function(){return m}},y})},h.prototype.convertConfigToOverrides=function(n){var e=["columnLineCombo","areaColumnCombo","customCombo"].includes(this.chartType),u={};return(e?["line","area","column","cartesian"]:[this.standaloneChartType]).forEach(function(c){var m=Sr({},n[c]);m.series=m.series[c],"scatter"===c&&(m.paired=!0),u[c]=m}),u},h.prototype.destroy=function(){this.destroyChart()},h.prototype.destroyChart=function(){this.chart&&(this.chart.destroy(),this.chart=void 0)},h}(),tR=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Ld=function(h){function n(e){var o=h.call(this,e)||this;return o.axisTypeToClassMap={number:ra,category:Ul,groupedCategory:fd,time:Xu},o}return tR(n,h),n.prototype.updateAxes=function(e){if(e.grouping)this.axisTypeToClassMap[this.xAxisType]!==fd&&(this.xAxisType="groupedCategory",this.recreateChart());else{var o=n.isTimeAxis(e)?"time":"category";o!==this.xAxisType&&(this.xAxisType=o,this.recreateChart())}},n.prototype.updateLabelRotation=function(e){var o=this.chart.axes[0].label;if(e===ed.DEFAULT_CATEGORY)o.rotation=0;else{var u=this.getAxesOptions()[this.xAxisType];o.rotation=u.label.rotation}this.chart.layoutPending=!0},n.prototype.getAxesOptions=function(e){return void 0===e&&(e=this.standaloneChartType),this.chartOptions[e].axes},n.prototype.processDataForCrossFiltering=function(e,o,u){var c=o,m=!1;return this.crossFiltering&&(e.forEach(function(w){w[o+"-total"]=w[o]+w[o+"-filtered-out"],w[o+"-filtered-out"]>0&&(m=!0)}),u.getCrossFilteringContext().lastSelectedChartId===u.chartId&&(c=o+"-total")),{yKey:c,atLeastOneSelectedPoint:m}},n.prototype.updateSeriesForCrossFiltering=function(e,o,u,c,m){if(this.crossFiltering){e.marker.enabled=!0,e.marker.formatter=function(x){return{fill:x.highlighted?"yellow":x.fill,size:x.highlighted?12:x.datum[o]>0?8:0}},u.tooltip.delay=500;var D=c.getCrossFilteringContext().lastSelectedChartId===c.chartId&&m;e instanceof ol&&(e.fillOpacity=D?.3:1),e instanceof Td&&(e.strokeOpacity=D?.3:1),e.addEventListener("nodeClick",this.crossFilterCallback)}},n.isTimeAxis=function(e){if(e.category&&e.category.chartDataType)return"time"===e.category.chartDataType;var o=e.data[0];return(o&&o[e.category.id])instanceof Date},n}(MO);function ei(h,n){var e=parseInt(h.slice(1,3),16),o=parseInt(h.slice(3,5),16),u=parseInt(h.slice(5,7),16);return n?"rgba("+e+", "+o+", "+u+", "+n+")":"rgba("+e+", "+o+", "+u+")"}function $E(h,n){return h.map(function(e){var o=E.Color.fromString(e);return new E.Color(o.r,o.g,o.b,n).toHexString()})}var nR=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),_s=function(){return _s=Object.assign||function(h){for(var n,e=1,o=arguments.length;e<o;e++)for(var u in n=arguments[e])Object.prototype.hasOwnProperty.call(n,u)&&(h[u]=n[u]);return h},_s.apply(this,arguments)},KE=function(h){function n(e){var o=h.call(this,e)||this;return o.xAxisType=e.grouping?"groupedCategory":"category",o.yAxisType="number",o.recreateChart(),o}return nR(n,h),n.prototype.createChart=function(){var e=function(h,n){var e="function"==typeof Symbol&&h[Symbol.iterator];if(!e)return h;var u,m,o=e.call(h),c=[];try{for(;(void 0===n||n-- >0)&&!(u=o.next()).done;)c.push(u.value)}catch(y){m={error:y}}finally{try{u&&!u.done&&(e=o.return)&&e.call(o)}finally{if(m)throw m.error}}return c}(["bar"===this.standaloneChartType,this.isNormalised()],2),u=e[1];return da.create({container:this.chartProxyParams.parentElement,theme:this.chartTheme,axes:this.getAxes(e[0],u),series:this.getSeries(u)})},n.prototype.update=function(e){this.updateAxes(e);var o=this.chart.series[0];this.crossFiltering?this.updateCrossFilteringSeries(o,e):(o.fills=this.chartTheme.palette.fills,o.strokes=this.chartTheme.palette.strokes),o.data=this.transformData(e.data,e.category.id),o.xKey=e.category.id,o.xName=e.category.name,o.yKeys=e.fields.map(function(u){return u.colId}),o.yNames=e.fields.map(function(u){return u.displayName}),this.updateLabelRotation(e.category.id)},n.prototype.updateCrossFilteringSeries=function(e,o){var u=o.fields;u.forEach(function(D){var x=_s({},D);x.colId=D.colId+"-filtered-out",u.push(x)});var c=this.chartTheme.palette,m=[];c.fills.forEach(function(D){m.push(D),m.push(ei(D,"0.3"))}),e.fills=m,c.strokes.forEach(function(D){m.push(D),m.push(ei(D,"0.3"))}),e.strokes=[],e.highlightStyle.fill=void 0;var w=o.fields.map(function(D){return D.colId});e.hideInLegend=w.filter(function(D){return-1!==D.indexOf("-filtered-out")}),this.chart.legend.addEventListener("click",function(D){e.toggleSeriesItem(D.itemId+"-filtered-out",D.enabled)}),this.chart.tooltip.delay=500,e.addEventListener("nodeClick",this.crossFilterCallback)},n.prototype.getAxes=function(e,o){var u=this.getAxesOptions(),c=[_s(_s({},Sr(u[this.xAxisType],u[this.xAxisType].bottom)),{type:this.xAxisType,position:e?dn.Left:dn.Bottom}),_s(_s({},Sr(u[this.yAxisType],u[this.yAxisType].left)),{type:this.yAxisType,position:e?dn.Bottom:dn.Left})];if(o){var m=c[1];m.label=_s(_s({},m.label),{formatter:function(y){return Math.round(y.value)+"%"}})}return c},n.prototype.getSeries=function(e){var u=!this.crossFiltering&&E._.includes(["groupedColumn","groupedBar"],this.chartType);return[_s(_s({},this.chartOptions[this.standaloneChartType].series),{type:this.standaloneChartType,grouped:u,normalizedTo:e?100:void 0})]},n.prototype.isNormalised=function(){return!this.crossFiltering&&E._.includes(["normalizedColumn","normalizedBar"],this.chartType)},n}(Ld),IO=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Bo=function(){return Bo=Object.assign||function(h){for(var n,e=1,o=arguments.length;e<o;e++)for(var u in n=arguments[e])Object.prototype.hasOwnProperty.call(n,u)&&(h[u]=n[u]);return h},Bo.apply(this,arguments)},rR=function(h){function n(e){var o=h.call(this,e)||this;return o.xAxisType=e.grouping?"groupedCategory":"category",o.yAxisType="number",o.recreateChart(),o}return IO(n,h),n.prototype.createChart=function(){return da.create({type:"area",container:this.chartProxyParams.parentElement,theme:this.chartTheme,axes:this.getAxes()})},n.prototype.update=function(e){if(this.updateAxes(e),"area"===this.chartType)this.updateAreaChart(e);else{var o=this.chart.series[0];if(!o){var u=Bo(Bo({},this.chartOptions[this.standaloneChartType].series),{type:"area",normalizedTo:"normalizedArea"===this.chartType?100:void 0});if(!(o=da.createComponent(Bo({},u),"area.series")))return;this.chart.addSeries(o)}o.data=this.transformData(e.data,e.category.id),o.xKey=e.category.id,o.xName=e.category.name,o.yKeys=e.fields.map(function(c){return c.colId}),o.yNames=e.fields.map(function(c){return c.displayName}),o.fills=this.chartTheme.palette.fills,o.strokes=this.chartTheme.palette.strokes}this.updateLabelRotation(e.category.id)},n.prototype.updateAreaChart=function(e){var o=this,u=this.chart;if(0!==e.fields.length){var w,c=e.fields.map(function(R){return R.colId}),m=u.series.reduceRight(function(R,I,N){var V=I.yKeys[0];return c.indexOf(V)===N?R.set(V,I):u.removeSeries(I),R},new Map),y=this.transformData(e.data,e.category.id),D=this.chartTheme.palette,x=D.fills,P=D.strokes;e.fields.forEach(function(R,I){var N=o.processDataForCrossFiltering(y,R.colId,e),V=N.yKey,z=N.atLeastOneSelectedPoint,Y=m.get(R.colId),X=x[I%x.length],q=P[I%P.length];if(Y)Y.data=y,Y.xKey=e.category.id,Y.xName=e.category.name,Y.yKeys=[V],Y.yNames=[R.displayName],Y.fills=[X],Y.strokes=[q];else{var ce=Bo(Bo({},o.chartOptions[o.standaloneChartType].series),{type:"area",normalizedTo:"normalizedArea"===o.chartType?100:void 0}),se=Bo(Bo({},ce),{data:y,xKey:e.category.id,xName:e.category.name,yKeys:[V],yNames:[R.displayName],fills:[X],strokes:[q],marker:Bo(Bo({},ce.marker),{fill:X,stroke:q})});Y=da.createComponent(se,"area.series"),u.addSeriesAfter(Y,w)}o.updateSeriesForCrossFiltering(Y,R.colId,u,e,z),w=Y})}else u.removeAllSeries()},n.prototype.getAxes=function(){var e=this.getAxesOptions();return[Bo(Bo({},Sr(e[this.xAxisType],e[this.xAxisType].bottom)),{type:this.xAxisType,position:dn.Bottom,paddingInner:1,paddingOuter:0}),Bo(Bo({},Sr(e[this.yAxisType],e[this.yAxisType].left)),{type:this.yAxisType,position:dn.Left})]},n}(Ld),iF=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Cs=function(){return Cs=Object.assign||function(h){for(var n,e=1,o=arguments.length;e<o;e++)for(var u in n=arguments[e])Object.prototype.hasOwnProperty.call(n,u)&&(h[u]=n[u]);return h},Cs.apply(this,arguments)},YE=function(h){function n(e){var o=h.call(this,e)||this;return o.xAxisType=e.grouping?"groupedCategory":"category",o.yAxisType="number",o.recreateChart(),o}return iF(n,h),n.prototype.createChart=function(){return da.create({type:"line",container:this.chartProxyParams.parentElement,theme:this.chartTheme,axes:this.getAxes()})},n.prototype.update=function(e){var o=this;if(0!==e.fields.length){this.updateAxes(e);var D,u=this.chart,c=e.fields,m=c.map(function(I){return I.colId}),y=this.transformData(e.data,e.category.id),w=u.series.reduceRight(function(I,N,V){var z=N.yKey;return m.indexOf(z)===V?I.set(z,N):u.removeSeries(N),I},new Map),x=this.chartTheme.palette,P=x.fills,R=x.strokes;c.forEach(function(I,N){var V=o.processDataForCrossFiltering(y,I.colId,e),z=V.yKey,Y=V.atLeastOneSelectedPoint,X=w.get(I.colId),q=P[N%P.length],ie=R[N%R.length];if(X)X.title=I.displayName,X.data=y,X.xKey=e.category.id,X.xName=e.category.name,X.yKey=z,X.yName=I.displayName,X.marker.fill=q,X.marker.stroke=ie,X.stroke=q;else{var ce=o.chartOptions[o.standaloneChartType].series,se=Cs(Cs({},ce),{type:"line",title:I.displayName,data:y,xKey:e.category.id,xName:e.category.name,yKey:z,yName:I.displayName,fill:q,stroke:q,marker:Cs(Cs({},ce.marker),{fill:q,stroke:ie})});X=da.createComponent(se,"line.series"),u.addSeriesAfter(X,D)}o.updateSeriesForCrossFiltering(X,I.colId,u,e,Y),D=X}),this.updateLabelRotation(e.category.id)}else this.chart.removeAllSeries()},n.prototype.getAxes=function(){var e=this.getAxesOptions();return[Cs(Cs({},Sr(e[this.xAxisType],e[this.xAxisType].bottom)),{type:this.xAxisType,position:dn.Bottom}),Cs(Cs({},Sr(e[this.yAxisType],e[this.yAxisType].left)),{type:this.yAxisType,position:dn.Left})]},n}(Ld),NO=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),qb=function(h){function n(e){return h.call(this,e)||this}return NO(n,h),n.prototype.addCrossFilteringTooltipRenderer=function(e){e.tooltip.renderer=function(o){return{content:o.datum[o.labelKey]+": "+o.angleValue*o.datum[o.radiusKey]}}},n}(MO),qE=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Jy=function(){return Jy=Object.assign||function(h){for(var n,e=1,o=arguments.length;e<o;e++)for(var u in n=arguments[e])Object.prototype.hasOwnProperty.call(n,u)&&(h[u]=n[u]);return h},Jy.apply(this,arguments)},iR=function(h){function n(e){var o=h.call(this,e)||this;return o.recreateChart(),o}return qE(n,h),n.prototype.createChart=function(){return da.create({type:"pie",container:this.chartProxyParams.parentElement,theme:this.chartTheme})},n.prototype.update=function(e){var o=this.chart;if(0!==e.fields.length){var u=e.fields[0],c=u;if(this.crossFiltering){var m=e.fields;m.forEach(function(R){var I=Jy({},R);I.colId=R.colId+"-filtered-out",m.push(I)});var y=m[1];e.data.forEach(function(R){R[u.colId+"-total"]=R[u.colId]+R[y.colId],R[u.colId]=R[u.colId]/R[u.colId+"-total"],R[y.colId]=1});var w=o.series[1],D=y;w=this.updateSeries(o,w,c,D,e,void 0),this.updateSeries(o,o.series[0],c,D=c,e,w)}else this.updateSeries(o,o.series[0],c,c,e,void 0)}else o.removeAllSeries()},n.prototype.updateSeries=function(e,o,u,c,m,y){var D=this.chartOptions[this.standaloneChartType].series,x=o;if((o&&o.angleKey)!==c.colId){e.removeSeries(o);var P=Jy(Jy({},D),{type:"pie",angleKey:this.crossFiltering?u.colId+"-total":u.colId,radiusKey:this.crossFiltering?c.colId:void 0});(x=da.createComponent(P,"pie.series")).fills=this.chartTheme.palette.fills,x.strokes=this.chartTheme.palette.strokes,x.callout.colors=this.chartTheme.palette.strokes,this.crossFiltering&&x&&!x.tooltip.renderer&&this.addCrossFilteringTooltipRenderer(x)}return x.angleName=c.displayName,x.labelKey=m.category.id,x.labelName=m.category.name,x.data=m.data,this.crossFiltering&&(x.radiusMin=0,x.radiusMax=1,y?e.legend.addEventListener("click",function(I){y&&y.toggleSeriesItem(I.itemId,I.enabled)}):(x.fills=$E(x.fills,.3),x.strokes=$E(x.strokes,.3),x.callout.colors=$E(x.strokes,.3),x.showInLegend=!1),e.tooltip.delay=500,x.highlightStyle.fill=void 0,x.addEventListener("nodeClick",this.crossFilterCallback)),e.addSeries(x),x},n}(qb),oR=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Dh=function(){return Dh=Object.assign||function(h){for(var n,e=1,o=arguments.length;e<o;e++)for(var u in n=arguments[e])Object.prototype.hasOwnProperty.call(n,u)&&(h[u]=n[u]);return h},Dh.apply(this,arguments)},LO=function(h){function n(e){var o=h.call(this,e)||this;return o.recreateChart(),o}return oR(n,h),n.prototype.createChart=function(){return da.create({type:"pie",container:this.chartProxyParams.parentElement,theme:this.chartTheme})},n.prototype.update=function(e){var o=this;if(0!==e.fields.length){var u=this.chart,c=e.fields.map(function(R){return R.colId}),m={};u.series.forEach(function(R){var I=R,N=I.angleKey;E._.includes(c,N)&&(m[N]=I)});var y=this.chartTheme.palette.fills,w=this.chartTheme.palette.strokes,D=this.chartOptions[this.standaloneChartType].series,x=e.fields.length,P=0;e.fields.forEach(this.crossFiltering?function(R,I){var N=Dh({},R);N.colId=R.colId+"-filtered-out",e.data.forEach(function(X){X[R.colId+"-total"]=X[R.colId]+X[N.colId],X[R.colId]=X[R.colId]/X[R.colId+"-total"],X[N.colId]=1});var V=o.updateSeries({seriesMap:m,angleField:R,field:N,seriesDefaults:D,index:I,params:e,fills:y,strokes:w,doughnutChart:u,offset:P,numFields:x,opaqueSeries:void 0}),z=V.updatedOffset;o.updateSeries({seriesMap:m,angleField:R,field:R,seriesDefaults:D,index:I,params:e,fills:y,strokes:w,doughnutChart:u,offset:P,numFields:x,opaqueSeries:V.pieSeries}),P=z}:function(R,I){var N=o.updateSeries({seriesMap:m,angleField:R,field:R,seriesDefaults:D,index:I,params:e,fills:y,strokes:w,doughnutChart:u,offset:P,numFields:x,opaqueSeries:void 0}).updatedOffset;P=N}),u.series=E._.values(m)}else this.chart.removeAllSeries()},n.prototype.updateSeries=function(e){var o=e.seriesMap[e.field.colId],u=Dh(Dh({},e.seriesDefaults),{type:"pie",angleKey:this.crossFiltering?e.angleField.colId+"-total":e.angleField.colId,radiusKey:this.crossFiltering?e.field.colId:void 0,title:Dh(Dh({},e.seriesDefaults.title),{text:e.seriesDefaults.title.text||e.field.displayName})}),c=o||da.createComponent(u,"pie.series");c.title&&(c.title.showInLegend=e.numFields>1),o||this.crossFiltering&&!c.tooltip.renderer&&this.addCrossFilteringTooltipRenderer(c),c.angleName=e.field.displayName,c.labelKey=e.params.category.id,c.labelName=e.params.category.name,c.data=e.params.data,this.crossFiltering?(c.radiusMin=0,c.radiusMax=1,e.opaqueSeries?(e.doughnutChart.legend.addEventListener("click",function(w){e.opaqueSeries&&e.opaqueSeries.toggleSeriesItem(w.itemId,w.enabled)}),c.fills=e.fills,c.strokes=e.strokes,c.callout.colors=e.strokes):(c.fills=e.fills.map(function(w){return ei(w,"0.3")}),c.strokes=e.strokes.map(function(w){return ei(w,"0.3")}),c.showInLegend=!1),c.highlightStyle.fill=void 0,c.addEventListener("nodeClick",this.crossFilterCallback),e.doughnutChart.tooltip.delay=500):(c.fills=e.fills,c.strokes=e.strokes,c.callout.colors=e.strokes);var y=e.numFields>1?20:40;return c.outerRadiusOffset=e.offset,e.offset-=y,c.innerRadiusOffset=e.offset,e.offset-=y,o||(e.seriesMap[e.field.colId]=c),{updatedOffset:e.offset,pieSeries:c}},n}(qb),XE=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),rt=function(){return rt=Object.assign||function(h){for(var n,e=1,o=arguments.length;e<o;e++)for(var u in n=arguments[e])Object.prototype.hasOwnProperty.call(n,u)&&(h[u]=n[u]);return h},rt.apply(this,arguments)},gr=function(h,n){var e="function"==typeof Symbol&&h[Symbol.iterator];if(!e)return h;var u,m,o=e.call(h),c=[];try{for(;(void 0===n||n-- >0)&&!(u=o.next()).done;)c.push(u.value)}catch(y){m={error:y}}finally{try{u&&!u.done&&(e=o.return)&&e.call(o)}finally{if(m)throw m.error}}return c},rn=function(){for(var h=[],n=0;n<arguments.length;n++)h=h.concat(gr(arguments[n]));return h},ht=function(h){function n(e){var o=h.call(this,e)||this;return o.xAxisType="number",o.yAxisType="number",o.recreateChart(),o}return XE(n,h),n.prototype.createChart=function(){return da.create({type:"scatter",container:this.chartProxyParams.parentElement,theme:this.chartTheme,axes:this.getAxes()})},n.prototype.update=function(e){var o=this;if(e.fields.length<2)this.chart.removeAllSeries();else{var u=e.fields;this.crossFiltering&&u.forEach(function(X){var q=rt({},X);q.colId=X.colId+"-filtered-out",u.push(q)});var y,m=this.getSeriesDefinitions(u,this.chartOptions[this.standaloneChartType].paired);this.crossFiltering&&(y=this.getCrossFilteringDataDomain(m,e));var w=this.chart,D=w.series.reduceRight(function(X,q,ie){return m.findIndex(function(se){return se.xField.colId===q.xKey&&se.yField.colId===q.yKey&&(!se.sizeField&&!q.sizeKey||se.sizeField&&se.sizeField.colId===q.sizeKey)})===ie?X.set(q.yKey,q):w.removeSeries(q),X},new Map),x=this.chartTheme.palette,P=x.fills,R=x.strokes;if(this.crossFiltering){var I=[];P.forEach(function(X){I.push(X),I.push(ei(X,"0.3"))}),P=I;var N=[];R.forEach(function(X){N.push(X),N.push(ei(X,"0.3"))}),R=N}var z,V=e.category.id===ed.DEFAULT_CATEGORY?void 0:e.category,Y=this.chartOptions[this.standaloneChartType].series;m.forEach(function(X,q){var ie=D.get(X.yField.colId),ce=ie||da.createComponent(rt(rt({},Y),{type:"scatter"}),"scatter.series");if(ce){var ue=X.xField,fe=X.yField,ye=X.sizeField;ce.title=fe.displayName+" vs "+ue.displayName,ce.xKey=ue.colId,ce.xName=ue.displayName,ce.yKey=fe.colId,ce.yName=fe.displayName,ce.data=e.data,ce.fill=P[q%P.length],ce.stroke=R[q%R.length],ye?(ce.sizeKey=ye.colId,ce.sizeName=ye.displayName):ce.sizeKey=void 0,V?(ce.labelKey=V.id,ce.labelName=V.name):ce.labelKey=ce.yKey;var Se=fe.colId.indexOf("-filtered-out")>-1;o.crossFiltering&&(Se||w.legend.addEventListener("click",function(ke){ce.toggleSeriesItem(ke.itemId+"-filtered-out",ke.enabled)}),y&&(ce.marker.domain=y),w.tooltip.delay=500,Se&&(ce.showInLegend=!1),ce.addEventListener("nodeClick",o.crossFilterCallback)),ie||w.addSeriesAfter(ce,z),z=ce}})}},n.prototype.getSeriesDefinitions=function(e,o){if(e.length<2)return[];var u="bubble"===this.chartType;if(o)return u?e.map(function(m,y){return y%3==0?{xField:m,yField:e[y+1],sizeField:e[y+2]}:null}).filter(function(m){return m&&m.yField&&m.sizeField}):e.map(function(m,y){return y%2==0?{xField:m,yField:e[y+1]}:null}).filter(function(m){return m&&m.yField});var c=e[0];return u?e.map(function(m,y){return y%2==1?{xField:c,yField:m,sizeField:e[y+1]}:null}).filter(function(m){return m&&m.sizeField}):e.filter(function(m,y){return y>0}).map(function(m){return{xField:c,yField:m}})},n.prototype.getCrossFilteringDataDomain=function(e,o){var u;if(e[0]&&e[0].sizeField){var c=e[0].sizeField.colId,m=[];o.data.forEach(function(y){void 0!==y[c]&&m.push(y[c]),void 0!==y[c+"-filtered-out"]&&m.push(y[c+"-filtered-out"])}),m.length>0&&(u=[Math.min.apply(Math,rn(m)),Math.max.apply(Math,rn(m))])}return u},n.prototype.getAxes=function(){var e=this.getAxesOptions();return[rt(rt({},Sr(e[this.xAxisType],e[this.xAxisType].bottom)),{type:this.xAxisType,position:dn.Bottom}),rt(rt({},Sr(e[this.yAxisType],e[this.yAxisType].left)),{type:this.yAxisType,position:dn.Left})]},n}(Ld),aR=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),sc=function(){return sc=Object.assign||function(h){for(var n,e=1,o=arguments.length;e<o;e++)for(var u in n=arguments[e])Object.prototype.hasOwnProperty.call(n,u)&&(h[u]=n[u]);return h},sc.apply(this,arguments)},sR=function(h){function n(e){var o=h.call(this,e)||this;return o.xAxisType="number",o.yAxisType="number",o.recreateChart(),o}return aR(n,h),n.prototype.createChart=function(){return da.create({container:this.chartProxyParams.parentElement,theme:this.chartTheme,axes:this.getAxes(),series:[sc(sc({},this.chartOptions[this.standaloneChartType].series),{type:"histogram"})]})},n.prototype.update=function(e){var o=function(h,n){var e="function"==typeof Symbol&&h[Symbol.iterator];if(!e)return h;var u,m,o=e.call(h),c=[];try{for(;(void 0===n||n-- >0)&&!(u=o.next()).done;)c.push(u.value)}catch(y){m={error:y}}finally{try{u&&!u.done&&(e=o.return)&&e.call(o)}finally{if(m)throw m.error}}return c}(e.fields,1),u=o[0],m=this.chart.series[0];m.data=e.data,m.xKey=u.colId,m.xName=u.displayName,m.areaPlot=!1,m.fill=this.chartTheme.palette.fills[0],m.stroke=this.chartTheme.palette.strokes[0]},n.prototype.getAxes=function(){var e=this.getAxesOptions();return[sc(sc({},Sr(e[this.xAxisType],e[this.xAxisType].bottom)),{type:this.xAxisType,position:dn.Bottom}),sc(sc({},Sr(e[this.yAxisType],e[this.yAxisType].left)),{type:this.yAxisType,position:dn.Left})]},n}(Ld),GO=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),lc=function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);return u>3&&c&&Object.defineProperty(n,e,c),c},Ho=function(h){function n(e){var o=h.call(this)||this;return o.chartController=e,o}return GO(n,h),n.prototype.getChartType=function(){return this.chartController.getChartType()},n.prototype.getChartOption=function(e){return E._.get(this.getChart(),e,void 0)},n.prototype.setChartOption=function(e,o){var u=vn(this.getChartType()),c=E._.get(this.getChartOptions(),""+u,void 0);E._.set(c,e,o),E._.set(this.getChart(),e,o),this.raiseChartOptionsChangedEvent()},n.prototype.getAxisProperty=function(e){return E._.get(this.getChart().axes[0],e,void 0)},n.prototype.setAxisProperty=function(e,o){var u=this,c=this.getChart();c.axes.forEach(function(m){u.updateAxisOptions(m,e,o),E._.set(m,e,o)}),c.layoutPending=!0,this.raiseChartOptionsChangedEvent()},n.prototype.getLabelRotation=function(e){var o=this.getAxis(e);return E._.get(o,"label.rotation",void 0)},n.prototype.setLabelRotation=function(e,o){var u="label.rotation",c=this.getAxis(e);E._.set(c,u,o),this.getChart().layoutPending=!0,c&&!this.chartController.isDefaultCategorySelected()&&(this.updateAxisOptions(c,u,o),this.raiseChartOptionsChangedEvent())},n.prototype.getSeriesOption=function(e,o){var u=this.getChart().series.find(function(c){return n.isMatchingSeries(o,c)});return E._.get(u,e,void 0)},n.prototype.setSeriesOption=function(e,o,u){var c=this.getChartOptions();c[u]||(c[u]={}),E._.set(c[u].series,e,o),this.getChart().series.forEach(function(m){n.isMatchingSeries(u,m)&&E._.set(m,e,o)}),this.raiseChartOptionsChangedEvent()},n.prototype.getPairedMode=function(){var e=vn(this.getChartType());return E._.get(this.getChartOptions(),e+".paired",void 0)},n.prototype.setPairedMode=function(e){var o=vn(this.getChartType()),u=E._.get(this.getChartOptions(),""+o,void 0);E._.set(u,"paired",e)},n.prototype.getChart=function(){return this.chartController.getChartProxy().getChart()},n.prototype.getChartOptions=function(){return this.chartController.getChartProxy().getChartOptions()},n.prototype.getAxis=function(e){var o=this.getChart();if(o.axes&&!(o.axes.length<1))return"xAxis"===e?o.axes&&"x"===o.axes[0].direction?o.axes[0]:o.axes[1]:o.axes&&"y"===o.axes[1].direction?o.axes[1]:o.axes[0]},n.prototype.updateAxisOptions=function(e,o,u){var c=vn(this.getChartType()),m=this.getChartOptions()[c].axes;e instanceof ra?E._.set(m.number,o,u):e instanceof Ul?E._.set(m.category,o,u):e instanceof Xu?E._.set(m.time,o,u):e instanceof fd&&E._.set(m.groupedCategory,o,u)},n.prototype.raiseChartOptionsChangedEvent=function(){var e=this.chartController.getChartModel(),o=Object.freeze({type:E.Events.EVENT_CHART_OPTIONS_CHANGED,chartId:e.chartId,chartType:e.chartType,chartThemeName:e.chartThemeName,chartOptions:e.chartOptions,api:this.gridApi,columnApi:this.columnApi});this.eventService.dispatchEvent(o)},n.isMatchingSeries=function(e,o){return"area"===e&&o instanceof ol||"bar"===e&&o instanceof Vr||"column"===e&&o instanceof Vr||"histogram"===e&&o instanceof Tg||"line"===e&&o instanceof Td||"pie"===e&&o instanceof nn||"scatter"===e&&o instanceof My},n.prototype.destroy=function(){h.prototype.destroy.call(this)},lc([E.Autowired("gridApi")],n.prototype,"gridApi",void 0),lc([E.Autowired("columnApi")],n.prototype,"columnApi",void 0),n}(E.BeanStub),Kg=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Ha=function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);return u>3&&c&&Object.defineProperty(n,e,c),c},VO=function(h){function n(e){var o=h.call(this,n.TEMPLATE)||this;return o.params=e,o}return Kg(n,h),n.prototype.init=function(){var e=this.gridOptionsWrapper.getChartThemes();if(e.length<1)throw new Error("Cannot create chart: no chart themes are available to be used.");var o=this.params.chartThemeName;E._.includes(e,o)||(o=e[0]);var u={chartId:this.params.chartId,pivotChart:this.params.pivotChart,chartType:this.params.chartType,chartThemeName:o,aggFunc:this.params.aggFunc,cellRange:this.params.cellRange,suppressChartRanges:this.params.suppressChartRanges,unlinkChart:this.params.unlinkChart,crossFiltering:this.params.crossFiltering},c=this.gridOptionsWrapper.isEnableRtl();this.addCssClass(c?"ag-rtl":"ag-ltr");var m=this.createBean(new ed(u));this.chartController=this.createManagedBean(new kg(m)),this.validateCustomThemes(),this.createChart(),this.params.insideDialog&&this.addDialog(),this.addMenu(),this.addTitleEditComp(),this.addManagedListener(this.getGui(),"focusin",this.setActiveChartCellRange.bind(this)),this.addManagedListener(this.chartController,kg.EVENT_CHART_UPDATED,this.refresh.bind(this)),this.chartMenu&&this.addManagedListener(this.chartMenu,jE.EVENT_DOWNLOAD_CHART,this.downloadChart.bind(this)),this.refresh(),this.raiseChartCreatedEvent()},n.prototype.validateCustomThemes=function(){var e=this.gridOptionsWrapper.getChartThemes(),o=this.gridOptionsWrapper.getCustomChartThemes();o&&E._.getAllKeysInObjects([o]).forEach(function(u){E._.includes(e,u)||console.warn("AG Grid: a custom chart theme with the name '"+u+"' has been supplied but not added to the 'chartThemes' list")})},n.prototype.createChart=function(){var e=this;this.chartProxy&&this.chartProxy.destroy();var u=this.chartController.getChartType(),c={chartType:u,getChartThemeName:this.getChartThemeName.bind(this),getChartThemes:this.getChartThemes.bind(this),customChartThemes:this.gridOptionsWrapper.getCustomChartThemes(),getGridOptionsChartThemeOverrides:this.getGridOptionsChartThemeOverrides.bind(this),apiChartThemeOverrides:this.params.chartThemeOverrides,crossFiltering:this.params.crossFiltering,crossFilterCallback:function(y,w){e.params.crossFilteringContext.lastSelectedChartId=w?"":e.chartController.getChartId(),e.crossFilterService.filter(y,w)},parentElement:this.eChart,grouping:this.chartController.isGrouping(),chartOptionsToRestore:this.params.chartOptionsToRestore};if(this.params.chartOptionsToRestore=void 0,this.chartType=u,this.chartThemeName=this.chartController.getChartThemeName(),this.chartProxy=n.createChartProxy(c),this.chartProxy){var m=this.eChart.querySelector("canvas");m&&m.classList.add("ag-charts-canvas"),this.chartController.setChartProxy(this.chartProxy),this.chartOptionsService=this.createBean(new Ho(this.chartController)),this.titleEdit&&this.titleEdit.refreshTitle(this.chartController,this.chartOptionsService)}else console.warn("AG Grid: invalid chart type supplied: ",c.chartType)},n.prototype.getChartThemeName=function(){return this.chartController.getChartThemeName()},n.prototype.getChartThemes=function(){return this.chartController.getThemes()},n.prototype.getGridOptionsChartThemeOverrides=function(){return this.gridOptionsWrapper.getChartThemeOverrides()},n.createChartProxy=function(e){switch(e.chartType){case"column":case"bar":case"groupedColumn":case"stackedColumn":case"normalizedColumn":case"groupedBar":case"stackedBar":case"normalizedBar":return new KE(e);case"pie":return new iR(e);case"doughnut":return new LO(e);case"area":case"stackedArea":case"normalizedArea":return new rR(e);case"line":return new YE(e);case"scatter":case"bubble":return new ht(e);case"histogram":return new sR(e);default:throw"AG Grid: Unable to create chart as an invalid chartType = '"+e.chartType+"' was supplied."}},n.prototype.addDialog=function(){var e=this,o=this.chartTranslationService.translate(this.params.pivotChart?"pivotChartTitle":"rangeChartTitle"),u=this.getBestDialogSize();this.chartDialog=new E.AgDialog({resizable:!0,movable:!0,maximizable:!0,title:o,width:u.width,height:u.height,component:this,centered:!0,closable:!0}),this.getContext().createBean(this.chartDialog),this.chartDialog.addEventListener(E.AgDialog.EVENT_DESTROYED,function(){return e.destroy()})},n.prototype.getBestDialogSize=function(){var e=this.popupService.getPopupParent(),o=.75*E._.getAbsoluteWidth(e),u=.75*E._.getAbsoluteHeight(e),m=this.chartProxy.getChart(),y=this.params.insideDialog?850:m.width,w=this.params.insideDialog?470:m.height;return(y>o||w>u)&&(y=Math.min(y,o),(w=Math.round(.553*y))>u&&(w=u,y=Math.min(y,Math.round(w/.553)))),{width:y,height:w}},n.prototype.addMenu=function(){this.params.crossFiltering||(this.chartMenu=this.createBean(new jE(this.eChartContainer,this.eMenuContainer,this.chartController,this.chartOptionsService)),this.eChartContainer.appendChild(this.chartMenu.getGui()))},n.prototype.addTitleEditComp=function(){this.titleEdit=this.createBean(new TO(this.chartMenu)),this.eTitleEditContainer.appendChild(this.titleEdit.getGui()),this.chartProxy&&this.titleEdit.refreshTitle(this.chartController,this.chartOptionsService)},n.prototype.refresh=function(){this.shouldRecreateChart()&&this.createChart(),this.updateChart()},n.prototype.shouldRecreateChart=function(){return this.chartType!==this.chartController.getChartType()||this.chartThemeName!==this.chartController.getChartThemeName()},n.prototype.getCurrentChartType=function(){return this.chartType},n.prototype.getChartModel=function(){return this.chartController.getChartModel()},n.prototype.getChartImageDataURL=function(e){return this.chartProxy.getChartImageDataURL(e)},n.prototype.updateChart=function(){var e=this,o=this.chartProxy,c=this.chartController.getSelectedValueColState().map(function(x){return{colId:x.colId,displayName:x.displayName}}),m=this.chartController.getChartData();if(!this.handleEmptyChart(m,c)){var w=this.chartController.getSelectedDimension(),D={data:m,grouping:this.chartController.isGrouping(),category:{id:w.colId,name:w.displayName,chartDataType:this.getChartDataType(w.colId)},fields:c,chartId:this.chartController.getChartId(),getCrossFilteringContext:function(){return e.params.crossFilteringContext}};o.update(D),this.titleEdit.refreshTitle(this.chartController,this.chartOptionsService)}},n.prototype.getChartDataType=function(e){var o=this.columnModel.getPrimaryColumn(e);return o?o.getColDef().chartDataType:void 0},n.prototype.handleEmptyChart=function(e,o){var u=this.chartProxy.getChart().container,c=this.chartController.isPivotChart()&&!this.chartController.isPivotMode(),m=1;this.chartController.isActiveXYChart()&&(m="bubble"===this.chartController.getChartType()?3:2);var y=o.length<m||0===e.length;if(u){var w=c||y;E._.setDisplayed(this.eChart,!w),E._.setDisplayed(this.eEmpty,w)}return c?(this.eEmpty.innerText=this.chartTranslationService.translate("pivotChartRequiresPivotMode"),!0):!!y&&(this.eEmpty.innerText=this.chartTranslationService.translate("noDataToChart"),!0)},n.prototype.downloadChart=function(){this.chartProxy.downloadChart()},n.prototype.getChartId=function(){return this.chartController.getChartId()},n.prototype.getUnderlyingChart=function(){return this.chartProxy.getChart()},n.prototype.refreshCanvasSize=function(){if(this.params.insideDialog){var e=this.eChart;if(this.chartMenu.isVisible()){var o=this.chartProxy.getChart();o.height=E._.getInnerHeight(e),o.width=E._.getInnerWidth(e)}}},n.prototype.setActiveChartCellRange=function(e){this.getGui().contains(e.relatedTarget)||(this.chartController.setChartRange(!0),this.gridApi.focusService.clearFocusedCell())},n.prototype.raiseChartCreatedEvent=function(){var e=Object.freeze({type:E.Events.EVENT_CHART_CREATED,chartId:this.chartController.getChartId(),api:this.gridApi,columnApi:this.columnApi});this.eventService.dispatchEvent(e)},n.prototype.raiseChartDestroyedEvent=function(){var e=Object.freeze({type:E.Events.EVENT_CHART_DESTROYED,chartId:this.chartController.getChartId(),api:this.gridApi,columnApi:this.columnApi});this.eventService.dispatchEvent(e)},n.prototype.destroy=function(){h.prototype.destroy.call(this),this.chartProxy&&this.chartProxy.destroy(),this.destroyBean(this.chartMenu),this.chartDialog&&this.chartDialog.isAlive()&&this.destroyBean(this.chartDialog);var e=this.getGui();E._.clearElement(e),E._.removeFromParent(e),this.raiseChartDestroyedEvent()},n.TEMPLATE='<div class="ag-chart" tabindex="-1">\n            <div ref="eChartContainer" tabindex="-1" class="ag-chart-components-wrapper">\n                <div ref="eChart" class="ag-chart-canvas-wrapper"></div>\n                <div ref="eEmpty" class="ag-chart-empty-text ag-unselectable"></div>\n            </div>\n            <div ref="eTitleEditContainer"></div>\n            <div ref="eMenuContainer" class="ag-chart-docked-container"></div>\n        </div>',Ha([E.RefSelector("eChart")],n.prototype,"eChart",void 0),Ha([E.RefSelector("eChartContainer")],n.prototype,"eChartContainer",void 0),Ha([E.RefSelector("eMenuContainer")],n.prototype,"eMenuContainer",void 0),Ha([E.RefSelector("eEmpty")],n.prototype,"eEmpty",void 0),Ha([E.RefSelector("eTitleEditContainer")],n.prototype,"eTitleEditContainer",void 0),Ha([E.Autowired("environment")],n.prototype,"environment",void 0),Ha([E.Autowired("columnModel")],n.prototype,"columnModel",void 0),Ha([E.Autowired("chartCrossFilterService")],n.prototype,"crossFilterService",void 0),Ha([E.Autowired("chartTranslationService")],n.prototype,"chartTranslationService",void 0),Ha([E.Autowired("gridApi")],n.prototype,"gridApi",void 0),Ha([E.Autowired("columnApi")],n.prototype,"columnApi",void 0),Ha([E.Autowired("popupService")],n.prototype,"popupService",void 0),Ha([E.PostConstruct],n.prototype,"init",null),n}(E.Component),oF=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),uc=function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);return u>3&&c&&Object.defineProperty(n,e,c),c},lR=function(h){function n(){var e=null!==h&&h.apply(this,arguments)||this;return e.activeCharts=new Set,e.activeChartComps=new Set,e.crossFilteringContext={lastSelectedChartId:""},e}return oF(n,h),n.prototype.getChartModels=function(){var e=[];return this.activeChartComps.forEach(function(o){return e.push(o.getChartModel())}),e},n.prototype.getChartRef=function(e){var o;return this.activeCharts.forEach(function(u){u.chartId===e&&(o=u)}),o},n.prototype.getChartImageDataURL=function(e){var o;return this.activeChartComps.forEach(function(u){u.getChartId()===e.chartId&&(o=u.getChartImageDataURL(e.fileFormat))}),o},n.prototype.createChartFromCurrentRange=function(e){void 0===e&&(e="groupedColumn");var o=this.getSelectedRange();return this.createChart(o,e)},n.prototype.restoreChart=function(e,o){var u=this;if(e){var c={cellRange:e.cellRange,chartType:e.chartType,chartThemeName:e.chartThemeName,chartContainer:o,suppressChartRanges:e.suppressChartRanges,aggFunc:e.aggFunc,unlinkChart:e.unlinkChart},m=function(P){return u.rangeService?u.rangeService.createCellRangeFromCellRangeParams(P):void 0};if("pivot"===e.modelType){this.columnModel.isPivotMode()||this.columnModel.setPivotMode(!0,"pivotChart");var D=m({rowStartIndex:null,rowEndIndex:null,columns:this.columnModel.getAllDisplayedColumns().map(function(P){return P.getColId()})});return D?this.createChart(D,c.chartType,c.chartThemeName,!0,!0,c.chartContainer,void 0,void 0,c.unlinkChart,!1,e.chartOptions):void console.warn("AG Grid - unable to create chart as there are no columns in the grid.")}var x=m(c.cellRange);if(x)return this.createChart(x,c.chartType,c.chartThemeName,!1,c.suppressChartRanges,c.chartContainer,c.aggFunc,void 0,c.unlinkChart,!1,e.chartOptions);console.warn("AG Grid - unable to create chart as no range is selected")}else console.warn("AG Grid - unable to restore chart as no chart model is provided")},n.prototype.createRangeChart=function(e){var o=this.rangeService?this.rangeService.createCellRangeFromCellRangeParams(e.cellRange):void 0;if(o)return this.createChart(o,e.chartType,e.chartThemeName,!1,e.suppressChartRanges,e.chartContainer,e.aggFunc,e.chartThemeOverrides,e.unlinkChart,void 0,void 0);console.warn("AG Grid - unable to create chart as no range is selected")},n.prototype.createPivotChart=function(e){this.columnModel.isPivotMode()||this.columnModel.setPivotMode(!0,"pivotChart");var o={rowStartIndex:null,rowEndIndex:null,columns:this.columnModel.getAllDisplayedColumns().map(function(c){return c.getColId()})},u=this.rangeService?this.rangeService.createCellRangeFromCellRangeParams(o):void 0;if(u)return this.createChart(u,e.chartType,e.chartThemeName,!0,!0,e.chartContainer,void 0,e.chartThemeOverrides,e.unlinkChart);console.warn("AG Grid - unable to create chart as there are no columns in the grid.")},n.prototype.createCrossFilterChart=function(e){var o=this.rangeService?this.rangeService.createCellRangeFromCellRangeParams(e.cellRange):void 0;if(o)return this.createChart(o,e.chartType,e.chartThemeName,!1,!(null!=e.suppressChartRanges)||e.suppressChartRanges,e.chartContainer,e.aggFunc,e.chartThemeOverrides,e.unlinkChart,!0);console.warn("AG Grid - unable to create chart as no range is selected")},n.prototype.createChart=function(e,o,u,c,m,y,w,D,x,P,R){var I=this;void 0===c&&(c=!1),void 0===m&&(m=!1),void 0===x&&(x=!1),void 0===P&&(P=!1);var N=this.gridOptionsWrapper.getCreateChartContainerFunc(),V={chartId:this.generateId(),pivotChart:c,cellRange:e,chartType:o,chartThemeName:u,insideDialog:!(y||N),suppressChartRanges:m,aggFunc:w,chartThemeOverrides:D,unlinkChart:x,crossFiltering:P,crossFilteringContext:this.crossFilteringContext,chartOptionsToRestore:R},z=new VO(V);this.context.createBean(z);var Y=this.createChartRef(z);if(y){y.appendChild(z.getGui());var X=this.environment.getTheme();X.el&&!X.el.contains(y)&&y.classList.add(X.theme)}else N?N(Y):z.addEventListener(VO.EVENT_DESTROYED,function(){I.activeChartComps.delete(z),I.activeCharts.delete(Y)});return Y},n.prototype.createChartRef=function(e){var o=this,u={destroyChart:function(){o.activeCharts.has(u)&&(o.context.destroyBean(e),o.activeChartComps.delete(e),o.activeCharts.delete(u))},chartElement:e.getGui(),chart:e.getUnderlyingChart(),chartId:e.getChartModel().chartId};return this.activeCharts.add(u),this.activeChartComps.add(e),u},n.prototype.getSelectedRange=function(){var e=this.rangeService.getCellRanges();return e.length>0?e[0]:{}},n.prototype.generateId=function(){return"id-"+Math.random().toString(36).substr(2,16)},n.prototype.destroyAllActiveCharts=function(){this.activeCharts.forEach(function(e){return e.destroyChart()})},uc([E.Optional("rangeService")],n.prototype,"rangeService",void 0),uc([E.Autowired("columnModel")],n.prototype,"columnModel",void 0),uc([E.Autowired("environment")],n.prototype,"environment",void 0),uc([E.PreDestroy],n.prototype,"destroyAllActiveCharts",null),uc([E.Bean("chartService")],n)}(E.BeanStub),QE=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),BO=function(h){function n(){return null!==h&&h.apply(this,arguments)||this}var e;return QE(n,h),e=n,n.prototype.translate=function(o,u){return this.gridOptionsWrapper.getLocaleTextFunc()(o,e.DEFAULT_TRANSLATIONS[o]||u)},n.DEFAULT_TRANSLATIONS={pivotChartTitle:"Pivot Chart",rangeChartTitle:"Range Chart",settings:"Settings",data:"Data",format:"Format",categories:"Categories",defaultCategory:"(None)",series:"Series",xyValues:"X Y Values",paired:"Paired Mode",axis:"Axis",navigator:"Navigator",color:"Color",thickness:"Thickness",xType:"X Type",automatic:"Automatic",category:"Category",number:"Number",time:"Time",xRotation:"X Rotation",yRotation:"Y Rotation",ticks:"Ticks",width:"Width",height:"Height",length:"Length",padding:"Padding",spacing:"Spacing",chart:"Chart",title:"Title",titlePlaceholder:"Chart title - double click to edit",background:"Background",font:"Font",top:"Top",right:"Right",bottom:"Bottom",left:"Left",labels:"Labels",size:"Size",shape:"Shape",minSize:"Minimum Size",maxSize:"Maximum Size",legend:"Legend",position:"Position",markerSize:"Marker Size",markerStroke:"Marker Stroke",markerPadding:"Marker Padding",itemSpacing:"Item Spacing",itemPaddingX:"Item Padding X",itemPaddingY:"Item Padding Y",layoutHorizontalSpacing:"Horizontal Spacing",layoutVerticalSpacing:"Vertical Spacing",strokeWidth:"Stroke Width",offset:"Offset",offsets:"Offsets",tooltips:"Tooltips",callout:"Callout",markers:"Markers",shadow:"Shadow",blur:"Blur",xOffset:"X Offset",yOffset:"Y Offset",lineWidth:"Line Width",lineDash:"Line Dash",normal:"Normal",bold:"Bold",italic:"Italic",boldItalic:"Bold Italic",predefined:"Predefined",fillOpacity:"Fill Opacity",strokeOpacity:"Line Opacity",histogramBinCount:"Bin count",columnGroup:"Column",barGroup:"Bar",pieGroup:"Pie",lineGroup:"Line",scatterGroup:"X Y (Scatter)",areaGroup:"Area",histogramGroup:"Histogram",groupedColumnTooltip:"Grouped",stackedColumnTooltip:"Stacked",normalizedColumnTooltip:"100% Stacked",groupedBarTooltip:"Grouped",stackedBarTooltip:"Stacked",normalizedBarTooltip:"100% Stacked",pieTooltip:"Pie",doughnutTooltip:"Doughnut",lineTooltip:"Line",groupedAreaTooltip:"Area",stackedAreaTooltip:"Stacked",normalizedAreaTooltip:"100% Stacked",scatterTooltip:"Scatter",bubbleTooltip:"Bubble",histogramTooltip:"Histogram",noDataToChart:"No data available to be charted.",pivotChartRequiresPivotMode:"Pivot Chart requires Pivot Mode enabled.",chartSettingsToolbarTooltip:"Menu",chartLinkToolbarTooltip:"Linked to Grid",chartUnlinkToolbarTooltip:"Unlinked from Grid",chartDownloadToolbarTooltip:"Download Chart"},n=e=function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);return u>3&&c&&Object.defineProperty(n,e,c),c}([E.Bean("chartTranslationService")],n),n}(E.BeanStub),cR=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),ZE=function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);return u>3&&c&&Object.defineProperty(n,e,c),c},JE=function(h){function n(){return null!==h&&h.apply(this,arguments)||this}var e;return cR(n,h),e=n,n.prototype.filter=function(o,u){void 0===u&&(u=!1);var c=this.gridApi.getFilterModel();if(u)this.resetFilters(c);else{var m=e.extractFilterColId(o);this.isValidColumnFilter(m)?this.updateFilters(c,o):console.warn("AG Grid: cross filtering requires a 'agSetColumnFilter' or 'agMultiColumnFilter' to be defined on the column with id: '"+m+"'")}},n.prototype.resetFilters=function(o){Object.keys(o).length>0&&(this.gridApi.setFilterModel(null),this.gridApi.onFilterChanged())},n.prototype.updateFilters=function(o,u){var c,m=e.extractFilterColId(u),y=u.datum[m];if(void 0!==y){var w=y.toString(),D=m.replace("-filtered-out","");if(u.event.metaKey||u.event.ctrlKey){var x=this.getCurrentGridValuesForCategory(D),R=void 0;E._.includes(x,w)?R=x.filter(function(I){return I!==w}):(R=x).push(w),o[D]=this.getUpdatedFilterModel(D,R)}else(c={})[D]=this.getUpdatedFilterModel(D,R=[w]),o=c;this.gridApi.setFilterModel(o)}},n.prototype.getUpdatedFilterModel=function(o,u){return"agMultiColumnFilter"===this.getColumnFilterType(o)?{filterType:"multi",filterModels:[null,{filterType:"set",values:u}]}:{filterType:"set",values:u}},n.prototype.getCurrentGridValuesForCategory=function(o){var u=[],c=E._.includes;return this.gridApi.forEachNodeAfterFilter(function(m){if(!m.group){var y=m.data[o]+"";c(u,y)||u.push(y)}}),u},n.extractFilterColId=function(o){return o.xKey?o.xKey:o.labelKey},n.prototype.isValidColumnFilter=function(o){o.indexOf("-filtered-out")&&(o=o.replace("-filtered-out",""));var u=this.getColumnFilterType(o);return"boolean"==typeof u?u:E._.includes(["agSetColumnFilter","agMultiColumnFilter"],u)},n.prototype.getColumnFilterType=function(o){var u=this.columnModel.getGridColumn(o);if(u){var c=u.getColDef();return null!=c.filter?c.filter:c.filterFramework}},ZE([E.Autowired("gridApi")],n.prototype,"gridApi",void 0),ZE([E.Autowired("columnModel")],n.prototype,"columnModel",void 0),e=ZE([E.Bean("chartCrossFilterService")],n)}(E.BeanStub),HO=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Wa=function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);return u>3&&c&&Object.defineProperty(n,e,c),c},Xb=function(h,n){var e="function"==typeof Symbol&&h[Symbol.iterator];if(!e)return h;var u,m,o=e.call(h),c=[];try{for(;(void 0===n||n-- >0)&&!(u=o.next()).done;)c.push(u.value)}catch(y){m={error:y}}finally{try{u&&!u.done&&(e=o.return)&&e.call(o)}finally{if(m)throw m.error}}return c},e_=function(){for(var h=[],n=0;n<arguments.length;n++)h=h.concat(Xb(arguments[n]));return h},WO=function(h){function n(){var e=null!==h&&h.apply(this,arguments)||this;return e.cellRanges=[],e.bodyScrollListener=e.onBodyScroll.bind(e),e.dragging=!1,e}return HO(n,h),n.prototype.init=function(){var e=this;this.addManagedListener(this.eventService,E.Events.EVENT_NEW_COLUMNS_LOADED,function(){return e.removeAllCellRanges()}),this.addManagedListener(this.eventService,E.Events.EVENT_COLUMN_PIVOT_MODE_CHANGED,function(){return e.removeAllCellRanges()}),this.addManagedListener(this.eventService,E.Events.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return e.removeAllCellRanges()}),this.addManagedListener(this.eventService,E.Events.EVENT_COLUMN_PIVOT_CHANGED,function(){return e.removeAllCellRanges()}),this.addManagedListener(this.eventService,E.Events.EVENT_COLUMN_GROUP_OPENED,this.refreshLastRangeStart.bind(this)),this.addManagedListener(this.eventService,E.Events.EVENT_COLUMN_MOVED,this.refreshLastRangeStart.bind(this)),this.addManagedListener(this.eventService,E.Events.EVENT_COLUMN_PINNED,this.refreshLastRangeStart.bind(this)),this.addManagedListener(this.eventService,E.Events.EVENT_COLUMN_VISIBLE,this.onColumnVisibleChange.bind(this)),this.ctrlsService.whenReady(function(){var o=e.ctrlsService.getGridBodyCtrl();e.autoScrollService=new E.AutoScrollService({scrollContainer:o.getBodyViewportElement(),scrollAxis:"xy",getVerticalPosition:function(){return o.getScrollFeature().getVScrollPosition().top},setVerticalPosition:function(u){return o.getScrollFeature().setVerticalScrollPosition(u)},getHorizontalPosition:function(){return o.getScrollFeature().getHScrollPosition().left},setHorizontalPosition:function(u){return o.getScrollFeature().setHorizontalScrollPosition(u)},shouldSkipVerticalScroll:function(){return e.gridOptionsWrapper.getDomLayout()!==E.Constants.DOM_LAYOUT_NORMAL},shouldSkipHorizontalScroll:function(){return o.getScrollFeature().isHorizontalScrollShowing()}})})},n.prototype.onColumnVisibleChange=function(){var e=this;this.refreshLastRangeStart(),this.cellRanges.forEach(function(o){var u=o.columns;o.columns=o.columns.filter(function(m){return m.isVisible()}),!E._.areEqual(u,o.columns)&&e.dispatchChangedEvent(!1,!0,o.id)})},n.prototype.refreshLastRangeStart=function(){var e=E._.last(this.cellRanges);!e||this.refreshRangeStart(e)},n.prototype.isContiguousRange=function(e){var o=e.columns;if(!o.length)return!1;var u=this.columnModel.getAllDisplayedColumns(),c=o.map(function(m){return u.indexOf(m)}).sort(function(m,y){return m-y});return E._.last(c)-c[0]+1===o.length},n.prototype.getRangeStartRow=function(e){return e.startRow&&e.endRow?this.rowPositionUtils.before(e.startRow,e.endRow)?e.startRow:e.endRow:{rowIndex:0,rowPinned:this.pinnedRowModel.getPinnedTopRowCount()>0?E.Constants.PINNED_TOP:null}},n.prototype.getRangeEndRow=function(e){if(e.startRow&&e.endRow)return this.rowPositionUtils.before(e.startRow,e.endRow)?e.endRow:e.startRow;var o=this.pinnedRowModel.getPinnedBottomRowCount();return o>0?{rowIndex:o-1,rowPinned:E.Constants.PINNED_BOTTOM}:{rowIndex:this.rowModel.getRowCount()-1,rowPinned:null}},n.prototype.setRangeToCell=function(e,o){if(void 0===o&&(o=!1),this.gridOptionsWrapper.isEnableRangeSelection()){var u=this.calculateColumnsBetween(e.column,e.column);if(u){(this.gridOptionsWrapper.isSuppressMultiRangeSelection()||!o||E._.missing(this.cellRanges))&&this.removeAllCellRanges(!0);for(var y,m={rowIndex:e.rowIndex,rowPinned:e.rowPinned},w=0;w<this.cellRanges.length;w++){var D=this.cellRanges[w];if(D.columns&&1===D.columns.length&&D.columns[0]===e.column&&this.rowPositionUtils.sameRow(m,D.startRow)&&this.rowPositionUtils.sameRow(m,D.endRow)){y=D;break}}y?E._.last(this.cellRanges)!==y&&(E._.removeFromArray(this.cellRanges,y),this.cellRanges.push(y)):this.cellRanges.push(y={startRow:m,endRow:m,columns:u,startColumn:e.column}),this.newestRangeStartCell=e,this.onDragStop(),this.dispatchChangedEvent(!0,!0,y.id)}}},n.prototype.extendLatestRangeToCell=function(e){if(!this.isEmpty()&&this.newestRangeStartCell){var o=E._.last(this.cellRanges);this.updateRangeEnd(o,e)}},n.prototype.updateRangeEnd=function(e,o,u){void 0===u&&(u=!1);var m=this.calculateColumnsBetween(e.startColumn,o.column);!m||this.isLastCellOfRange(e,o)||(e.columns=m,e.endRow={rowIndex:o.rowIndex,rowPinned:o.rowPinned},u||this.dispatchChangedEvent(!0,!0,e.id))},n.prototype.refreshRangeStart=function(e){var o=e.startColumn,u=e.columns,c=function(P,R){var I=e.columns.filter(function(N){return N!==P});P?(e.startColumn=P,e.columns=R?e_([P],I):e_(I,[P])):e.columns=I},m=this.getRangeEdgeColumns(e),y=m.left,w=m.right;o===u[0]&&o!==y?c(y,!0):o===E._.last(u)&&o===w&&c(w,!1)},n.prototype.getRangeEdgeColumns=function(e){var o=this.columnModel.getAllDisplayedColumns(),u=e.columns.map(function(c){return o.indexOf(c)}).filter(function(c){return c>-1}).sort(function(c,m){return c-m});return{left:o[u[0]],right:o[E._.last(u)]}},n.prototype.extendLatestRangeInDirection=function(e){if(!this.isEmpty()&&this.newestRangeStartCell){var o=E._.last(this.cellRanges),u=this.newestRangeStartCell,c=o.columns[0],m=E._.last(o.columns),P=this.cellNavigationService.getNextCellToFocus(e,{column:u.column===c?m:c,rowIndex:o.endRow.rowIndex,rowPinned:o.endRow.rowPinned});if(P)return this.setCellRange({rowStartIndex:u.rowIndex,rowStartPinned:u.rowPinned,rowEndIndex:P.rowIndex,rowEndPinned:P.rowPinned,columnStart:u.column,columnEnd:P.column}),P}},n.prototype.setCellRange=function(e){!this.gridOptionsWrapper.isEnableRangeSelection()||(this.removeAllCellRanges(!0),this.addCellRange(e))},n.prototype.setCellRanges=function(e){var o=this;E._.shallowCompare(this.cellRanges,e)||(this.removeAllCellRanges(!0),e.forEach(function(u){u.columns&&u.startRow&&(o.newestRangeStartCell={rowIndex:u.startRow.rowIndex,rowPinned:u.startRow.rowPinned,column:u.columns[0]}),o.cellRanges.push(u)}),this.dispatchChangedEvent(!1,!0))},n.prototype.createCellRangeFromCellRangeParams=function(e){var u,o=this;if(e.columns)u=e.columns.map(function(D){return o.columnModel.getColumnWithValidation(D)}).filter(function(D){return D});else{var c=this.columnModel.getColumnWithValidation(e.columnStart),m=this.columnModel.getColumnWithValidation(e.columnEnd);if(!c||!m)return;u=this.calculateColumnsBetween(c,m)}if(u)return{startRow:null!=e.rowStartIndex?{rowIndex:e.rowStartIndex,rowPinned:e.rowStartPinned||null}:void 0,endRow:null!=e.rowEndIndex?{rowIndex:e.rowEndIndex,rowPinned:e.rowEndPinned||null}:void 0,columns:u,startColumn:u[0]}},n.prototype.addCellRange=function(e){if(this.gridOptionsWrapper.isEnableRangeSelection()){var o=this.createCellRangeFromCellRangeParams(e);o&&(this.cellRanges.push(o),this.dispatchChangedEvent(!1,!0,o.id))}},n.prototype.getCellRanges=function(){return this.cellRanges},n.prototype.isEmpty=function(){return 0===this.cellRanges.length},n.prototype.isMoreThanOneCell=function(){var e=this.cellRanges.length;if(1!==e)return 0!==e;var o=this.cellRanges[0],u=this.getRangeStartRow(o),c=this.getRangeEndRow(o);return u.rowPinned!==c.rowPinned||u.rowIndex!==c.rowIndex||1!==o.columns.length},n.prototype.areAllRangesAbleToMerge=function(){var e,o,y,u=this,c=new Map;if(this.cellRanges.length<=1)return!0;this.cellRanges.forEach(function(R){for(var I=u.getRangeStartRow(R),N=u.getRangeEndRow(R),V=I,z=function(){var X=(V.rowPinned||"normal")+"_"+V.rowIndex,q=c.get(X),ie=R.columns.map(function(se){return se.getId()});if(q){var ce=ie.filter(function(se){return-1===q.indexOf(se)});q.push.apply(q,e_(ce))}else c.set(X,ie);if(u.rowPositionUtils.sameRow(V,N))return"break";V=u.cellNavigationService.getRowBelow(V)};V&&"break"!==z(););});try{for(var w=function(h){var n="function"==typeof Symbol&&Symbol.iterator,e=n&&h[n],o=0;if(e)return e.call(h);if(h&&"number"==typeof h.length)return{next:function(){return h&&o>=h.length&&(h=void 0),{value:h&&h[o++],done:!h}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(c.values()),D=w.next();!D.done;D=w.next()){var P=D.value.sort().join();if(void 0!==y){if(y!==P)return!1}else y=P}}catch(R){e={error:R}}finally{try{D&&!D.done&&(o=w.return)&&o.call(w)}finally{if(e)throw e.error}}return!0},n.prototype.removeAllCellRanges=function(e){this.isEmpty()||(this.onDragStop(),this.cellRanges.length=0,e||this.dispatchChangedEvent(!1,!0))},n.prototype.onBodyScroll=function(){this.onDragging(this.lastMouseEvent)},n.prototype.isCellInAnyRange=function(e){return this.getCellRangeCount(e)>0},n.prototype.isCellInSpecificRange=function(e,o){var u=null!==o.columns&&E._.includes(o.columns,e.column),c=this.isRowInRange(e.rowIndex,e.rowPinned,o);return u&&c},n.prototype.isLastCellOfRange=function(e,o){var u=e.startRow,c=e.endRow,m=this.rowPositionUtils.before(u,c)?c:u,y=o.rowIndex===m.rowIndex&&o.rowPinned===m.rowPinned,w=e.columns[0],D=E._.last(e.columns);return o.column===(e.startColumn===w?D:w)&&y},n.prototype.isBottomRightCell=function(e,o){var u=this.columnModel.getAllDisplayedColumns(),c=e.columns.map(function(P){return u.indexOf(P)}).sort(function(P,R){return P-R}),m=e.startRow,y=e.endRow,w=this.rowPositionUtils.before(m,y)?y:m,D=u.indexOf(o.column)===E._.last(c),x=o.rowIndex===w.rowIndex&&E._.makeNull(o.rowPinned)===E._.makeNull(w.rowPinned);return D&&x},n.prototype.getCellRangeCount=function(e){var o=this;return this.isEmpty()?0:this.cellRanges.filter(function(u){return o.isCellInSpecificRange(e,u)}).length},n.prototype.isRowInRange=function(e,o,u){var c=this.getRangeStartRow(u),m=this.getRangeEndRow(u),y={rowIndex:e,rowPinned:o||null};if(y.rowIndex===c.rowIndex&&y.rowPinned==c.rowPinned||y.rowIndex===m.rowIndex&&y.rowPinned==m.rowPinned)return!0;var x=!this.rowPositionUtils.before(y,c),P=this.rowPositionUtils.before(y,m);return x&&P},n.prototype.getDraggingRange=function(){return this.draggingRange},n.prototype.onDragStart=function(e){if(this.gridOptionsWrapper.isEnableRangeSelection()){var c=e.shiftKey,m=e.ctrlKey||e.metaKey,w=!this.gridOptionsWrapper.isSuppressMultiRangeSelection()&&m,D=c&&E._.existsAndNotEmpty(this.cellRanges);if(!w&&(!D||E._.exists(E._.last(this.cellRanges).type))&&this.removeAllCellRanges(!0),this.cellHoverListener=this.addManagedListener(this.ctrlsService.getGridCtrl().getGui(),"mousemove",this.updateValuesOnMove.bind(this)),this.updateValuesOnMove(e),this.lastCellHovered){if(this.dragging=!0,this.draggingCell=this.lastCellHovered,this.lastMouseEvent=e,D||(this.newestRangeStartCell=this.lastCellHovered),this.cellRanges.length>0)this.draggingRange=E._.last(this.cellRanges);else{var x={rowIndex:this.lastCellHovered.rowIndex,rowPinned:this.lastCellHovered.rowPinned};this.draggingRange={startRow:x,endRow:x,columns:[this.lastCellHovered.column],startColumn:this.newestRangeStartCell.column},this.cellRanges.push(this.draggingRange)}this.ctrlsService.getGridBodyCtrl().addScrollEventListener(this.bodyScrollListener),this.dispatchChangedEvent(!0,!1,this.draggingRange.id)}}},n.prototype.updateValuesOnMove=function(e){var o=this.mouseEventService.getCellPositionForEvent(e);this.cellHasChanged=!1,!(!o||this.lastCellHovered&&this.cellPositionUtils.equals(o,this.lastCellHovered))&&(this.lastCellHovered&&(this.cellHasChanged=!0),this.lastCellHovered=o)},n.prototype.onDragging=function(e){var o=this;if(this.dragging&&e){var u=this.lastCellHovered,c=function(w){return u&&u.rowPinned===w&&o.newestRangeStartCell.rowPinned===w},m=c("top")||c("bottom");if(this.autoScrollService.check(e,m),this.cellHasChanged){var y=this.calculateColumnsBetween(this.newestRangeStartCell.column,u.column);!y||(this.draggingCell=u,this.draggingRange.endRow={rowIndex:u.rowIndex,rowPinned:u.rowPinned},this.draggingRange.columns=y,this.dispatchChangedEvent(!1,!1,this.draggingRange.id))}}},n.prototype.onDragStop=function(){if(this.cellHoverListener&&(this.cellHoverListener(),this.cellHoverListener=void 0),this.dragging){var e=this.draggingRange.id;this.autoScrollService.ensureCleared(),this.ctrlsService.getGridBodyCtrl().removeScrollEventListener(this.bodyScrollListener),this.lastMouseEvent=null,this.dragging=!1,this.draggingRange=void 0,this.draggingCell=void 0,this.lastCellHovered=void 0,this.dispatchChangedEvent(!1,!0,e)}},n.prototype.dispatchChangedEvent=function(e,o,u){var c=Object.freeze({type:E.Events.EVENT_RANGE_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi,started:e,finished:o,id:u});this.eventService.dispatchEvent(c)},n.prototype.calculateColumnsBetween=function(e,o){var u=this.columnModel.getAllDisplayedColumns(),c=e===o,m=u.indexOf(e);if(m<0)console.warn("AG Grid: column "+e.getId()+" is not visible");else{var y=c?m:u.indexOf(o);if(!(y<0)){if(c)return[e];for(var w=Math.min(m,y),D=w===m?y:m,x=[],P=w;P<=D;P++)x.push(u[P]);return x}console.warn("AG Grid: column "+o.getId()+" is not visible")}},Wa([E.Autowired("rowModel")],n.prototype,"rowModel",void 0),Wa([E.Autowired("columnModel")],n.prototype,"columnModel",void 0),Wa([E.Autowired("mouseEventService")],n.prototype,"mouseEventService",void 0),Wa([E.Autowired("columnApi")],n.prototype,"columnApi",void 0),Wa([E.Autowired("gridApi")],n.prototype,"gridApi",void 0),Wa([E.Autowired("cellNavigationService")],n.prototype,"cellNavigationService",void 0),Wa([E.Autowired("pinnedRowModel")],n.prototype,"pinnedRowModel",void 0),Wa([E.Autowired("rowPositionUtils")],n.prototype,"rowPositionUtils",void 0),Wa([E.Autowired("cellPositionUtils")],n.prototype,"cellPositionUtils",void 0),Wa([E.Autowired("ctrlsService")],n.prototype,"ctrlsService",void 0),Wa([E.PostConstruct],n.prototype,"init",null),Wa([E.Bean("rangeService")],n)}(E.BeanStub),dR=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),bs=function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);return u>3&&c&&Object.defineProperty(n,e,c),c},t_=function(h){function n(){var e=null!==h&&h.apply(this,arguments)||this;return e.changedCalculatedValues=!1,e.dragging=!1,e.shouldDestroyOnEndDragging=!1,e}return dR(n,h),n.prototype.init=function(){var e=this;this.dragService.addDragSource({dragStartPixels:0,eElement:this.getGui(),onDragStart:this.onDragStart.bind(this),onDragging:function(o){e.dragging=!0,e.rangeService.autoScrollService.check(o),e.changedCalculatedValues&&(e.onDrag(o),e.changedCalculatedValues=!1)},onDragStop:function(o){e.dragging=!1,e.onDragEnd(o),e.clearValues(),e.rangeService.autoScrollService.ensureCleared(),document.body.classList.remove(e.getDraggingCssClass()),e.shouldDestroyOnEndDragging&&e.destroy()}}),this.addManagedListener(this.getGui(),"mousedown",this.preventRangeExtension.bind(this))},n.prototype.isDragging=function(){return this.dragging},n.prototype.getCellCtrl=function(){return this.cellCtrl},n.prototype.setCellCtrl=function(e){this.cellCtrl=e},n.prototype.getCellRange=function(){return this.cellRange},n.prototype.setCellRange=function(e){this.cellRange=e},n.prototype.getRangeStartRow=function(){return this.rangeStartRow},n.prototype.setRangeStartRow=function(e){this.rangeStartRow=e},n.prototype.getRangeEndRow=function(){return this.rangeEndRow},n.prototype.setRangeEndRow=function(e){this.rangeEndRow=e},n.prototype.getLastCellHovered=function(){return this.lastCellHovered},n.prototype.preventRangeExtension=function(e){e.preventDefault(),e.stopPropagation()},n.prototype.onDragStart=function(e){this.cellHoverListener=this.addManagedListener(this.ctrlsService.getGridCtrl().getGui(),"mousemove",this.updateValuesOnMove.bind(this)),document.body.classList.add(this.getDraggingCssClass())},n.prototype.getDraggingCssClass=function(){return"ag-dragging-"+(this.type===E.SelectionHandleType.FILL?"fill":"range")+"-handle"},n.prototype.updateValuesOnMove=function(e){var o=this.mouseEventService.getCellPositionForEvent(e);!o||this.lastCellHovered&&this.cellPositionUtils.equals(o,this.lastCellHovered)||(this.lastCellHovered=o,this.changedCalculatedValues=!0)},n.prototype.getType=function(){return this.type},n.prototype.refresh=function(e){var o=this.getCellCtrl(),u=this.getGui(),c=E._.last(this.rangeService.getCellRanges()),m=c.startRow,y=c.endRow;if(m&&y&&(this.rowPositionUtils.before(y,m)?(this.setRangeStartRow(y),this.setRangeEndRow(m)):(this.setRangeStartRow(m),this.setRangeEndRow(y))),o!==e||!E._.isVisible(u)){this.setCellCtrl(e);var D=e.getComp().getParentOfValue();D&&D.appendChild(u)}this.setCellRange(c)},n.prototype.clearValues=function(){this.lastCellHovered=void 0,this.removeListeners()},n.prototype.removeListeners=function(){this.cellHoverListener&&(this.cellHoverListener(),this.cellHoverListener=void 0)},n.prototype.destroy=function(){if(!this.shouldDestroyOnEndDragging&&this.isDragging())return E._.setDisplayed(this.getGui(),!1),void(this.shouldDestroyOnEndDragging=!0);this.shouldDestroyOnEndDragging=!1,h.prototype.destroy.call(this),this.removeListeners();var e=this.getGui();e.parentElement&&e.parentElement.removeChild(e)},bs([E.Autowired("rowRenderer")],n.prototype,"rowRenderer",void 0),bs([E.Autowired("dragService")],n.prototype,"dragService",void 0),bs([E.Autowired("rangeService")],n.prototype,"rangeService",void 0),bs([E.Autowired("mouseEventService")],n.prototype,"mouseEventService",void 0),bs([E.Autowired("columnModel")],n.prototype,"columnModel",void 0),bs([E.Autowired("cellNavigationService")],n.prototype,"cellNavigationService",void 0),bs([E.Autowired("navigationService")],n.prototype,"navigationService",void 0),bs([E.Autowired("rowPositionUtils")],n.prototype,"rowPositionUtils",void 0),bs([E.Autowired("cellPositionUtils")],n.prototype,"cellPositionUtils",void 0),bs([E.Autowired("ctrlsService")],n.prototype,"ctrlsService",void 0),bs([E.PostConstruct],n.prototype,"init",null),n}(E.Component),jO=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Yg=function(){return Yg=Object.assign||function(h){for(var n,e=1,o=arguments.length;e<o;e++)for(var u in n=arguments[e])Object.prototype.hasOwnProperty.call(n,u)&&(h[u]=n[u]);return h},Yg.apply(this,arguments)},t0=function(h,n){var e="function"==typeof Symbol&&h[Symbol.iterator];if(!e)return h;var u,m,o=e.call(h),c=[];try{for(;(void 0===n||n-- >0)&&!(u=o.next()).done;)c.push(u.value)}catch(y){m={error:y}}finally{try{u&&!u.done&&(e=o.return)&&e.call(o)}finally{if(m)throw m.error}}return c},UO=function(h){function n(){var e=h.call(this,n.TEMPLATE)||this;return e.markedCells=[],e.cellValues=[],e.isUp=!1,e.isLeft=!1,e.isReduce=!1,e.type=E.SelectionHandleType.FILL,e}return jO(n,h),n.prototype.updateValuesOnMove=function(e){h.prototype.updateValuesOnMove.call(this,e),this.initialXY||(this.initialXY=this.mouseEventService.getNormalisedPosition(e));var R,o=this.initialXY,u=o.x,c=o.y,m=this.mouseEventService.getNormalisedPosition(e),w=m.y,D=Math.abs(u-m.x),x=Math.abs(c-w),P=this.gridOptionsWrapper.getFillHandleDirection();(R="xy"===P?D>x?"x":"y":P)!==this.dragAxis&&(this.dragAxis=R,this.changedCalculatedValues=!0)},n.prototype.onDrag=function(e){if(!this.initialPosition){var o=this.getCellCtrl();if(!o)return;this.initialPosition=o.getCellPosition()}var u=this.getLastCellHovered();u&&this.markPathFrom(this.initialPosition,u)},n.prototype.onDragEnd=function(e){if(this.initialXY=null,this.markedCells.length){var w,o="x"===this.dragAxis,u=this.getCellRange(),c=u.columns.length,m=this.getRangeStartRow(),y=this.getRangeEndRow();if(this.isUp||this.isLeft){var D=o?m:this.lastCellMarked;w=this.rangeService.createCellRangeFromCellRangeParams({rowStartIndex:D.rowIndex,rowStartPinned:D.rowPinned,columnStart:o?this.lastCellMarked.column:u.columns[0],rowEndIndex:y.rowIndex,rowEndPinned:y.rowPinned,columnEnd:u.columns[c-1]})}else w=this.rangeService.createCellRangeFromCellRangeParams({rowStartIndex:m.rowIndex,rowStartPinned:m.rowPinned,columnStart:u.columns[0],rowEndIndex:o?y.rowIndex:this.lastCellMarked.rowIndex,rowEndPinned:o?y.rowPinned:this.lastCellMarked.rowPinned,columnEnd:o?this.lastCellMarked.column:u.columns[c-1]});w&&(this.raiseFillStartEvent(),this.handleValueChanged(u,w,e),this.rangeService.setCellRanges([w]),this.raiseFillEndEvent(u,w))}},n.prototype.raiseFillStartEvent=function(){var e={type:E.Events.EVENT_FILL_START,columnApi:this.gridOptionsWrapper.getColumnApi(),api:this.gridOptionsWrapper.getApi()};this.eventService.dispatchEvent(e)},n.prototype.raiseFillEndEvent=function(e,o){var u={type:E.Events.EVENT_FILL_END,columnApi:this.gridOptionsWrapper.getColumnApi(),api:this.gridOptionsWrapper.getApi(),initialRange:e,finalRange:o};this.eventService.dispatchEvent(u)},n.prototype.handleValueChanged=function(e,o,u){var c=this,m=this.rangeService.getRangeEndRow(e),y=this.rangeService.getRangeStartRow(e),w=this.rangeService.getRangeEndRow(o),D=this.rangeService.getRangeStartRow(o),x="y"===this.dragAxis;if(!this.isReduce||this.gridOptionsWrapper.isSuppressClearOnFillReduction()){var I=!0,N=[],V=[],z=0,Y=function(){N.length=0,V.length=0,z=0},X=function(ie,ce){var se=c.isUp?m:y,ue=!1;x&&(I=!0,Y());for(var fe=function(){var Se=c.rowPositionUtils.getRowNode(se);if(!Se)return"break";x&&ie?q(N,ie,Se,function(){return!c.rowPositionUtils.sameRow(se,c.isUp?y:m)}):ce&&(I=!0,Y(),ce.forEach(function(ke){return q(N,ke,Se,function(){return ke!==(c.isLeft?e.columns[0]:E._.last(e.columns))})})),ue=c.rowPositionUtils.sameRow(se,c.isUp?D:w),se=c.isUp?c.cellNavigationService.getRowAbove(se):c.cellNavigationService.getRowBelow(se)};!ue&&se&&"break"!==fe(););},q=function(ie,ce,se,ue){var fe,ye=!1;if(I)fe=c.valueService.getValue(ce,se),V.push(fe),I=ue();else{var Se=c.processValues(u,ie,V,ce,se,z++),Ne=Se.fromUserFunction;if(fe=Se.value,ce.isCellEditable(se)){var Pe=c.valueService.getValue(ce,se);Ne&&Pe===fe?ye=!0:se.setDataValue(ce,fe)}}ye||ie.push(fe)};x?e.columns.forEach(function(ie){X(ie)}):(P=this.isLeft?function(){for(var h=[],n=0;n<arguments.length;n++)h=h.concat(t0(arguments[n]));return h}(o.columns).reverse():o.columns,X(void 0,P))}else{var P=x?e.columns:e.columns.filter(function(ie){return o.columns.indexOf(ie)<0}),R=x?this.cellNavigationService.getRowBelow(w):D;R&&this.clearCellsInRange(R,m,P)}},n.prototype.clearCellsInRange=function(e,o,u){for(var c=e,m=!1,y=function(){var x=w.rowPositionUtils.getRowNode(c);if(!x)return"break";u.forEach(function(P){P.isCellEditable(x)&&x.setDataValue(P,null)}),m=w.rowPositionUtils.sameRow(c,o),c=w.cellNavigationService.getRowBelow(c)},w=this;!m&&c&&"break"!==y(););},n.prototype.processValues=function(e,o,u,c,m,y){var x,w=this.gridOptionsWrapper.getFillOperation();if(x="y"===this.dragAxis?this.isUp?"up":"down":this.isLeft?"left":"right",w){var P=w({event:e,values:o,initialValues:u,currentIndex:y,currentCellValue:this.valueService.getValue(c,m),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),direction:x,column:c,rowNode:m});if(!1!==P)return{value:P,fromUserFunction:!0}}var R=!o.some(function(N){var V=parseFloat(N);return isNaN(V)||V.toString()!==N.toString()});if(e.altKey||!R){if(R&&1===u.length){var I=this.isUp||this.isLeft?-1:1;return{value:parseFloat(E._.last(o))+1*I,fromUserFunction:!1}}return{value:o[y%o.length],fromUserFunction:!1}}return{value:E._.last(E._.findLineByLeastSquares(o.map(Number))),fromUserFunction:!1}},n.prototype.clearValues=function(){this.clearMarkedPath(),this.clearCellValues(),this.lastCellMarked=void 0,h.prototype.clearValues.call(this)},n.prototype.clearMarkedPath=function(){this.markedCells.forEach(function(e){var o=e.getComp();o.addOrRemoveCssClass("ag-selection-fill-top",!1),o.addOrRemoveCssClass("ag-selection-fill-right",!1),o.addOrRemoveCssClass("ag-selection-fill-bottom",!1),o.addOrRemoveCssClass("ag-selection-fill-left",!1)}),this.markedCells.length=0,this.isUp=!1,this.isLeft=!1,this.isReduce=!1},n.prototype.clearCellValues=function(){this.cellValues.length=0},n.prototype.markPathFrom=function(e,o){if(this.clearMarkedPath(),this.clearCellValues(),"y"===this.dragAxis){if(this.rowPositionUtils.sameRow(o,e))return;var u=this.rowPositionUtils.before(o,e),c=this.getRangeStartRow(),m=this.getRangeEndRow();u&&(o.rowPinned==c.rowPinned&&o.rowIndex>=c.rowIndex||c.rowPinned!=m.rowPinned&&o.rowPinned==m.rowPinned&&o.rowIndex<=m.rowIndex)?(this.reduceVertical(e,o),this.isReduce=!0):(this.extendVertical(e,o,u),this.isReduce=!1)}else{var y=e.column,w=o.column;if(y===w)return;var D=this.columnModel.getAllDisplayedColumns(),x=D.indexOf(y),P=D.indexOf(w);P<=x&&P>=D.indexOf(this.getCellRange().columns[0])?(this.reduceHorizontal(e,o),this.isReduce=!0):(this.extendHorizontal(e,o,P<x),this.isReduce=!1)}this.lastCellMarked=o},n.prototype.extendVertical=function(e,o,u){var m=this.navigationService,y=this.rangeService,w=e;do{for(var D=this.getCellRange(),x=D.columns.length,P=0;P<x;P++){var R=D.columns[P],N=Yg(Yg({},{rowIndex:w.rowIndex,rowPinned:w.rowPinned}),{column:R}),V=y.isCellInSpecificRange(N,D),z=this.rowPositionUtils.sameRow(w,e);if(u&&(this.isUp=!0),!z){var Y=m.getCellByPosition(N);if(Y){this.markedCells.push(Y);var X=Y.getComp();V||(X.addOrRemoveCssClass("ag-selection-fill-left",0===P),X.addOrRemoveCssClass("ag-selection-fill-right",P===x-1)),X.addOrRemoveCssClass(u?"ag-selection-fill-top":"ag-selection-fill-bottom",this.rowPositionUtils.sameRow(w,o))}}}if(this.rowPositionUtils.sameRow(w,o))break}while(w=u?this.cellNavigationService.getRowAbove(w):this.cellNavigationService.getRowBelow(w))},n.prototype.reduceVertical=function(e,o){var u=e;do{for(var c=this.getCellRange(),m=c.columns.length,y=this.rowPositionUtils.sameRow(u,o),w=0;w<m;w++){var x=Yg(Yg({},{rowIndex:u.rowIndex,rowPinned:u.rowPinned}),{column:c.columns[w]}),P=this.navigationService.getCellByPosition(x);P&&(this.markedCells.push(P),P.getComp().addOrRemoveCssClass("ag-selection-fill-bottom",this.rowPositionUtils.sameRow(u,o)))}if(y)break}while(u=this.cellNavigationService.getRowAbove(u))},n.prototype.extendHorizontal=function(e,o,u){var c=this,m=this.columnModel.getAllDisplayedColumns(),y=m.indexOf(u?o.column:e.column),w=m.indexOf(u?this.getCellRange().columns[0]:o.column),D=u?0:1,x=m.slice(y+D,w+D),P=this.getRangeStartRow(),R=this.getRangeEndRow();x.forEach(function(I){var N=P,V=!1;do{V=c.rowPositionUtils.sameRow(N,R);var z=c.navigationService.getCellByPosition({rowIndex:N.rowIndex,rowPinned:N.rowPinned,column:I});if(z){c.markedCells.push(z);var Y=z.getComp();Y.addOrRemoveCssClass("ag-selection-fill-top",c.rowPositionUtils.sameRow(N,P)),Y.addOrRemoveCssClass("ag-selection-fill-bottom",c.rowPositionUtils.sameRow(N,R)),u?(c.isLeft=!0,Y.addOrRemoveCssClass("ag-selection-fill-left",I===x[0])):Y.addOrRemoveCssClass("ag-selection-fill-right",I===E._.last(x))}N=c.cellNavigationService.getRowBelow(N)}while(!V)})},n.prototype.reduceHorizontal=function(e,o){var u=this,c=this.columnModel.getAllDisplayedColumns(),m=c.indexOf(o.column),y=c.indexOf(e.column),w=c.slice(m,y),D=this.getRangeStartRow(),x=this.getRangeEndRow();w.forEach(function(P){var R=D,I=!1;do{I=u.rowPositionUtils.sameRow(R,x);var N=u.navigationService.getCellByPosition({rowIndex:R.rowIndex,rowPinned:R.rowPinned,column:P});N&&(u.markedCells.push(N),N.getComp().addOrRemoveCssClass("ag-selection-fill-right",P===w[0])),R=u.cellNavigationService.getRowBelow(R)}while(!I)})},n.prototype.refresh=function(e){var o=this.rangeService.getCellRanges()[0];o.startRow&&o.endRow?h.prototype.refresh.call(this,e):this.destroy()},n.TEMPLATE='<div class="ag-fill-handle"></div>',function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);u>3&&c&&Object.defineProperty(n,e,c)}([E.Autowired("valueService")],n.prototype,"valueService",void 0),n}(t_),zO=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),n_=function(){return n_=Object.assign||function(h){for(var n,e=1,o=arguments.length;e<o;e++)for(var u in n=arguments[e])Object.prototype.hasOwnProperty.call(n,u)&&(h[u]=n[u]);return h},n_.apply(this,arguments)},n0=function(h){function n(){var e=h.call(this,n.TEMPLATE)||this;return e.type=E.SelectionHandleType.RANGE,e.rangeFixed=!1,e}return zO(n,h),n.prototype.onDrag=function(e){var o=this.getLastCellHovered();if(o){var u=this.rangeService.getCellRanges(),c=E._.last(u);this.rangeFixed||(this.fixRangeStartEnd(c),this.rangeFixed=!0),this.endPosition={rowIndex:o.rowIndex,rowPinned:o.rowPinned,column:o.column},2===u.length&&u[0].type===E.CellRangeType.DIMENSION&&c.type===E.CellRangeType.VALUE&&!this.rowPositionUtils.sameRow(this.endPosition,this.rangeService.getRangeEndRow(c))&&this.rangeService.updateRangeEnd(u[0],n_(n_({},this.endPosition),{column:u[0].columns[0]}),!0),this.rangeService.extendLatestRangeToCell(this.endPosition)}},n.prototype.onDragEnd=function(e){var o=E._.last(this.rangeService.getCellRanges());this.fixRangeStartEnd(o),this.rangeFixed=!1},n.prototype.fixRangeStartEnd=function(e){var o=this.rangeService.getRangeStartRow(e),u=this.rangeService.getRangeEndRow(e),c=e.columns[0];e.startRow=o,e.endRow=u,e.startColumn=c},n.TEMPLATE='<div class="ag-range-handle"></div>',n}(t_),hR=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),KO=function(h){function n(){return null!==h&&h.apply(this,arguments)||this}return hR(n,h),n.prototype.createSelectionHandle=function(e){return this.createBean(e===E.SelectionHandleType.RANGE?new n0:new UO)},n=function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);return u>3&&c&&Object.defineProperty(n,e,c),c}([E.Bean("selectionHandleFactory")],n),n}(E.BeanStub),YO={moduleName:E.ModuleNames.RangeSelectionModule,beans:[WO,KO],agStackComponents:[{componentName:"AgFillHandle",componentClass:UO},{componentName:"AgRangeHandle",componentClass:n0}],dependantModules:[ii]},fR={moduleName:E.ModuleNames.GridChartsModule,beans:[lR,BO,JE],dependantModules:[YO,ii]},qO=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),r0=function(){return r0=Object.assign||function(h){for(var n,e=1,o=arguments.length;e<o;e++)for(var u in n=arguments[e])Object.prototype.hasOwnProperty.call(n,u)&&(h[u]=n[u]);return h},r0.apply(this,arguments)},o0=function(h){function n(){var e=null!==h&&h.apply(this,arguments)||this;return e.loadRowDataVersion=0,e.needRefresh=!1,e}return qO(n,h),n.prototype.init=function(e,o){var u=this;this.params=o,this.comp=e,null!=o.pinned||(this.setAutoHeightClasses(),this.checkForDeprecations(),this.ensureValidRefreshStrategy(),this.addThemeToDetailGrid(),this.createDetailGrid(),this.loadRowData(),this.addManagedListener(o.node.parent,E.RowNode.EVENT_DATA_CHANGED,function(){u.needRefresh=!0}))},n.prototype.setAutoHeightClasses=function(){var e=this.gridOptionsWrapper.isDetailRowAutoHeight(),u=e?"ag-details-grid-auto-height":"ag-details-grid-fixed-height";this.comp.addOrRemoveCssClass(e?"ag-details-row-auto-height":"ag-details-row-fixed-height",!0),this.comp.addOrRemoveDetailGridCssClass(u,!0)},n.prototype.checkForDeprecations=function(){this.params.suppressRefresh&&(console.warn("AG Grid: as of v23.2.0, cellRendererParams.suppressRefresh for Detail Cell Renderer is no longer used. Please set cellRendererParams.refreshStrategy = 'nothing' instead."),this.params.refreshStrategy="nothing")},n.prototype.ensureValidRefreshStrategy=function(){switch(this.params.refreshStrategy){case"rows":case"nothing":case"everything":return}this.params.refreshStrategy&&console.warn("AG Grid: invalid cellRendererParams.refreshStrategy = '"+this.params.refreshStrategy+"' supplied, defaulting to refreshStrategy = 'rows'."),this.params.refreshStrategy="rows"},n.prototype.addThemeToDetailGrid=function(){var e=this.environment.getTheme().theme;e&&this.comp.addOrRemoveDetailGridCssClass(e,!0)},n.prototype.createDetailGrid=function(){if(E._.missing(this.params.detailGridOptions))console.warn("AG Grid: could not find detail grid options for master detail, please set gridOptions.detailCellRendererParams.detailGridOptions");else{var e=this.gridOptionsWrapper.isDetailRowAutoHeight(),o=r0({},this.params.detailGridOptions);e&&(o.domLayout="autoHeight"),this.comp.setDetailGrid(o)}},n.prototype.registerDetailWithMaster=function(e,o){var u=this.params.node.id,c=this.params.api,m={id:u,api:e,columnApi:o},y=this.params.node;c.addDetailGridInfo(u,m),y.detailGridInfo=m,this.addDestroyFunc(function(){y.detailGridInfo===m&&(c.removeDetailGridInfo(u),y.detailGridInfo=null)})},n.prototype.loadRowData=function(){var e=this;this.loadRowDataVersion++;var o=this.loadRowDataVersion,u=this.params.getDetailRowData;u?u({node:this.params.node,data:this.params.node.data,successCallback:function(y){e.loadRowDataVersion===o&&e.comp.setRowData(y)},context:this.gridOptionsWrapper.getContext()}):console.warn("AG Grid: could not find getDetailRowData for master / detail, please set gridOptions.detailCellRendererParams.getDetailRowData")},n.prototype.refresh=function(){return!(this.needRefresh&&"nothing"!==this.params.refreshStrategy&&(this.needRefresh=!1,"everything"===this.params.refreshStrategy||(this.loadRowData(),0)))},function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);u>3&&c&&Object.defineProperty(n,e,c)}([E.Autowired("environment")],n.prototype,"environment",void 0),n}(E.BeanStub),QO=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),gR=function(h){function n(){return null!==h&&h.apply(this,arguments)||this}return QO(n,h),n.prototype.init=function(e){var o=this;this.params=e,this.selectAndSetTemplate();var u={addOrRemoveCssClass:function(c,m){return o.addOrRemoveCssClass(c,m)},addOrRemoveDetailGridCssClass:function(c,m){return o.eDetailGrid.classList.toggle(c,m)},setDetailGrid:function(c){return o.setDetailGrid(c)},setRowData:function(c){return o.setRowData(c)}};this.ctrl=this.createManagedBean(new o0),this.ctrl.init(u,e)},n.prototype.refresh=function(){return this.ctrl&&this.ctrl.refresh()},n.prototype.destroy=function(){h.prototype.destroy.call(this)},n.prototype.selectAndSetTemplate=function(){var e=this;if(this.params.pinned)this.setTemplate('<div class="ag-details-row"></div>');else{var o=function(){e.setTemplate(n.TEMPLATE)};if(E._.missing(this.params.template))o();else if("string"==typeof this.params.template)this.setTemplate(this.params.template);else if("function"==typeof this.params.template){var c=(0,this.params.template)(this.params);this.setTemplate(c)}else console.warn("AG Grid: detailCellRendererParams.template should be function or string"),o();null==this.eDetailGrid&&console.warn('AG Grid: reference to eDetailGrid was missing from the details template. Please add ref="eDetailGrid" to the template.')}},n.prototype.setDetailGrid=function(e){if(this.eDetailGrid){var o=this.context.getBean("agGridReact"),u=o?E._.cloneObject(o):void 0,c=this.context.getBean("frameworkComponentWrapper");new E.Grid(this.eDetailGrid,e,{$scope:this.params.$scope,$compile:this.params.$compile,providedBeanInstances:{agGridReact:u,frameworkComponentWrapper:c}}),this.detailApi=e.api,this.ctrl.registerDetailWithMaster(e.api,e.columnApi),this.addDestroyFunc(function(){e.api&&e.api.destroy()})}},n.prototype.setRowData=function(e){this.detailApi&&this.detailApi.setRowData(e)},n.TEMPLATE='<div class="ag-details-row">\n            <div ref="eDetailGrid" class="ag-details-grid"></div>\n        </div>',function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);u>3&&c&&Object.defineProperty(n,e,c)}([E.RefSelector("eDetailGrid")],n.prototype,"eDetailGrid",void 0),n}(E.Component),mR={moduleName:E.ModuleNames.MasterDetailModule,beans:[],userComponents:[{componentName:"agDetailCellRenderer",componentClass:gR}],controllers:[{controllerName:"detailCellRenderer",controllerClass:o0}],dependantModules:[ii]},JO=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),ja=function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);return u>3&&c&&Object.defineProperty(n,e,c),c},sF=function(h){function n(){return null!==h&&h.apply(this,arguments)||this}return JO(n,h),n.prototype.hideActiveMenu=function(){this.destroyBean(this.activeMenu)},n.prototype.showMenuAfterMouseEvent=function(e,o,u){var c=this;this.showMenu(e,function(m){var y=m.getGui();c.popupService.positionPopupUnderMouseEvent({type:"columnMenu",column:e,mouseEvent:o,ePopup:y}),u&&m.showTab(u)},"columnMenu",u,void 0,o.target)},n.prototype.showMenuAfterButtonClick=function(e,o,u,c,m){var y=this,w=-1,D="left";this.gridOptionsWrapper.isEnableRtl()&&(w=1,D="right"),this.showMenu(e,function(x){var P=x.getGui();y.popupService.positionPopupUnderComponent({type:u,column:e,eventSource:o,ePopup:P,alignSide:D,nudgeX:9*w,nudgeY:-23,keepWithinBounds:!0}),c&&x.showTab(c)},u,c,m,o)},n.prototype.showMenu=function(e,o,u,c,m,y){var w=this,D=this.createBean(new ex(e,this.lastSelectedTab,m)),x=D.getGui(),P=y||this.ctrlsService.getGridBodyCtrl().getGui(),R=[];R.push(function(z){if(w.destroyBean(D),e.setMenuVisible(!1,"contextMenu"),z instanceof KeyboardEvent&&y&&E._.isVisible(y)){var X=w.focusService.findTabbableParent(y);X&&X.focus()}});var I=this.gridOptionsWrapper.getLocaleTextFunc(),N=this.popupService.addPopup({modal:!0,eChild:x,closeOnEsc:!0,closedCallback:function(z){R.forEach(function(Y){return Y(z)})},afterGuiAttached:function(z){return D.afterGuiAttached(Object.assign({},{container:u},z))},positionCallback:function(){return o(D)},anchorToElement:P,ariaLabel:I("ariaLabelColumnMenu","Column Menu")});if(N){var V=N.stopAnchoringPromise;V&&V.then(function(z){e.addEventListener(E.Column.EVENT_LEFT_CHANGED,z),e.addEventListener(E.Column.EVENT_VISIBLE_CHANGED,z),R.push(function(){e.removeEventListener(E.Column.EVENT_LEFT_CHANGED,z),e.removeEventListener(E.Column.EVENT_VISIBLE_CHANGED,z)})})}c||(D.showTabBasedOnPreviousSelection(),o(D)),D.addEventListener(ex.EVENT_TAB_SELECTED,function(z){w.lastSelectedTab=z.key}),e.setMenuVisible(!0,"contextMenu"),this.activeMenu=D,D.addEventListener(E.BeanStub.EVENT_DESTROYED,function(){w.activeMenu===D&&(w.activeMenu=null)})},n.prototype.isMenuEnabled=function(e){return e.getMenuTabs(ex.TABS_DEFAULT).length>0},ja([E.Autowired("popupService")],n.prototype,"popupService",void 0),ja([E.Autowired("focusService")],n.prototype,"focusService",void 0),ja([E.Autowired("ctrlsService")],n.prototype,"ctrlsService",void 0),ja([E.Bean("menuFactory")],n)}(E.BeanStub),ex=function(h){function n(e,o,u){var c=h.call(this)||this;return c.tabFactories={},c.includeChecks={},c.column=e,c.initialSelection=o,c.tabFactories[n.TAB_GENERAL]=c.createMainPanel.bind(c),c.tabFactories[n.TAB_FILTER]=c.createFilterPanel.bind(c),c.tabFactories[n.TAB_COLUMNS]=c.createColumnsPanel.bind(c),c.includeChecks[n.TAB_GENERAL]=function(){return!0},c.includeChecks[n.TAB_FILTER]=function(){return e.isFilterAllowed()},c.includeChecks[n.TAB_COLUMNS]=function(){return!0},c.restrictTo=u,c}return JO(n,h),n.prototype.init=function(){var e=this,o=this.getTabsToCreate().map(function(u){return e.createTab(u)});this.tabbedLayout=new E.TabbedLayout({items:o,cssClass:"ag-menu",onActiveItemClicked:this.onHidePopup.bind(this),onItemClicked:this.onTabItemClicked.bind(this)}),this.createBean(this.tabbedLayout),this.mainMenuList&&this.mainMenuList.setParentComponent(this.tabbedLayout)},n.prototype.getTabsToCreate=function(){var e=this;return this.restrictTo?this.restrictTo:this.column.getMenuTabs(n.TABS_DEFAULT).filter(function(o){return e.isValidMenuTabItem(o)}).filter(function(o){return e.isNotSuppressed(o)}).filter(function(o){return e.isModuleLoaded(o)})},n.prototype.isModuleLoaded=function(e){return e!==n.TAB_COLUMNS||E.ModuleRegistry.isRegistered(E.ModuleNames.ColumnToolPanelModule)},n.prototype.isValidMenuTabItem=function(e){var o=!0,u=n.TABS_DEFAULT;return null!=this.restrictTo&&(o=this.restrictTo.indexOf(e)>-1,u=this.restrictTo),(o=o&&n.TABS_DEFAULT.indexOf(e)>-1)||console.warn("AG Grid: Trying to render an invalid menu item '"+e+"'. Check that your 'menuTabs' contains one of ["+u+"]"),o},n.prototype.isNotSuppressed=function(e){return this.includeChecks[e]()},n.prototype.createTab=function(e){return this.tabFactories[e]()},n.prototype.showTabBasedOnPreviousSelection=function(){this.showTab(this.initialSelection)},n.prototype.showTab=function(e){this.tabItemColumns&&e===n.TAB_COLUMNS?this.tabbedLayout.showItem(this.tabItemColumns):this.tabItemFilter&&e===n.TAB_FILTER?this.tabbedLayout.showItem(this.tabItemFilter):this.tabItemGeneral&&e===n.TAB_GENERAL?this.tabbedLayout.showItem(this.tabItemGeneral):this.tabbedLayout.showFirstItem()},n.prototype.onTabItemClicked=function(e){var o=null;switch(e.item){case this.tabItemColumns:o=n.TAB_COLUMNS;break;case this.tabItemFilter:o=n.TAB_FILTER;break;case this.tabItemGeneral:o=n.TAB_GENERAL}o&&this.activateTab(o)},n.prototype.activateTab=function(e){this.dispatchEvent({type:n.EVENT_TAB_SELECTED,key:e})},n.prototype.getMenuItems=function(){var o,e=this.getDefaultMenuOptions(),u=this.gridOptionsWrapper.getMainMenuItemsFunc();return o=u?u({column:this.column,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),defaultItems:e}):e,E._.removeRepeatsFromArray(o,n.MENU_ITEM_SEPARATOR),o},n.prototype.getDefaultMenuOptions=function(){var e=[],o=!this.column.getColDef().lockPinned,u=this.columnModel.getRowGroupColumns().length,c=u>0,m=this.columnModel.getRowGroupColumns().indexOf(this.column)>=0,y=this.column.isAllowValue(),w=this.column.isAllowRowGroup(),D=this.column.isPrimary(),x=this.columnModel.isPivotMode(),P=this.rowModel.getType()===E.Constants.ROW_MODEL_TYPE_CLIENT_SIDE,R=this.gridOptionsWrapper.isTreeData(),I=D&&c&&y||!D;return o&&e.push("pinSubMenu"),I&&e.push("valueAggSubMenu"),(o||I)&&e.push(n.MENU_ITEM_SEPARATOR),e.push("autoSizeThis"),e.push("autoSizeAll"),e.push(n.MENU_ITEM_SEPARATOR),w&&this.column.isPrimary()&&e.push(m?"rowUnGroup":"rowGroup"),e.push(n.MENU_ITEM_SEPARATOR),e.push("resetColumns"),P&&(R||u>(x?1:0))&&(e.push("expandAll"),e.push("contractAll")),e},n.prototype.createMainPanel=function(){this.mainMenuList=this.createManagedBean(new E.AgMenuList);var e=this.getMenuItems(),o=this.menuItemMapper.mapWithStockItems(e,this.column);return this.mainMenuList.addMenuItems(o),this.mainMenuList.addEventListener(E.AgMenuItemComponent.EVENT_MENU_ITEM_SELECTED,this.onHidePopup.bind(this)),this.tabItemGeneral={title:E._.createIconNoSpan("menu",this.gridOptionsWrapper,this.column),titleLabel:n.TAB_GENERAL.replace("MenuTab",""),bodyPromise:E.AgPromise.resolve(this.mainMenuList.getGui()),name:n.TAB_GENERAL},this.tabItemGeneral},n.prototype.onHidePopup=function(e){var o;e&&e.event&&e.event instanceof KeyboardEvent&&(o=e.event),this.hidePopupFunc(o&&{keyboardEvent:o});var u=this.focusService.getFocusedCell(),c=this.gridOptionsWrapper.getDocument();c.activeElement===c.body&&u&&this.focusService.setFocusedCell(u.rowIndex,u.column,u.rowPinned,!0)},n.prototype.createFilterPanel=function(){var e,o=this.filterManager.getOrCreateFilterWrapper(this.column,"COLUMN_MENU");if(!o)throw new Error("AG Grid - Unable to instantiate filter");return this.tabItemFilter={title:E._.createIconNoSpan("filter",this.gridOptionsWrapper,this.column),titleLabel:n.TAB_FILTER.replace("MenuTab",""),bodyPromise:null===(e=o)||void 0===e?void 0:e.guiPromise,afterAttachedCallback:function(c){var m;!(null===(m=o)||void 0===m?void 0:m.filterPromise)||o.filterPromise.then(function(y){y&&y.afterGuiAttached&&y.afterGuiAttached(c)})},name:n.TAB_FILTER},this.tabItemFilter},n.prototype.createColumnsPanel=function(){var e=document.createElement("div");e.classList.add("ag-menu-column-select-wrapper"),this.columnSelectPanel=this.createManagedBean(new Am);var o=this.column.getColDef().columnsMenuParams;o||(o={}),this.columnSelectPanel.init(!1,{suppressColumnMove:!1,suppressValues:!1,suppressPivots:!1,suppressRowGroups:!1,suppressPivotMode:!1,contractColumnSelection:!!o.contractColumnSelection,suppressColumnExpandAll:!!o.suppressColumnExpandAll,suppressColumnFilter:!!o.suppressColumnFilter,suppressColumnSelectAll:!!o.suppressColumnSelectAll,suppressSyncLayoutWithGrid:!!o.suppressSyncLayoutWithGrid,api:this.gridApi,columnApi:this.columnApi},"columnMenu");var u=this.columnSelectPanel.getGui();return u.classList.add("ag-menu-column-select"),e.appendChild(u),this.tabItemColumns={title:E._.createIconNoSpan("columns",this.gridOptionsWrapper,this.column),titleLabel:n.TAB_COLUMNS.replace("MenuTab",""),bodyPromise:E.AgPromise.resolve(e),name:n.TAB_COLUMNS},this.tabItemColumns},n.prototype.afterGuiAttached=function(e){var u=e.hidePopup;this.tabbedLayout.setAfterAttachedParams({container:e.container,hidePopup:u}),u&&(this.hidePopupFunc=u,this.addDestroyFunc(u))},n.prototype.getGui=function(){return this.tabbedLayout.getGui()},n.EVENT_TAB_SELECTED="tabSelected",n.TAB_FILTER="filterMenuTab",n.TABS_DEFAULT=[n.TAB_GENERAL="generalMenuTab",n.TAB_FILTER,n.TAB_COLUMNS="columnsMenuTab"],n.MENU_ITEM_SEPARATOR="separator",ja([E.Autowired("columnModel")],n.prototype,"columnModel",void 0),ja([E.Autowired("filterManager")],n.prototype,"filterManager",void 0),ja([E.Autowired("gridApi")],n.prototype,"gridApi",void 0),ja([E.Autowired("columnApi")],n.prototype,"columnApi",void 0),ja([E.Autowired("menuItemMapper")],n.prototype,"menuItemMapper",void 0),ja([E.Autowired("rowModel")],n.prototype,"rowModel",void 0),ja([E.Autowired("focusService")],n.prototype,"focusService",void 0),ja([E.PostConstruct],n.prototype,"init",null),n}(E.BeanStub),vR=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),K=function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);return u>3&&c&&Object.defineProperty(n,e,c),c},yR="ag-context-menu-open",lF=function(h){function n(){return null!==h&&h.apply(this,arguments)||this}return vR(n,h),n.prototype.hideActiveMenu=function(){this.destroyBean(this.activeMenu)},n.prototype.getMenuItems=function(e,o,u){var c=[];if(E._.exists(e)&&E.ModuleRegistry.isRegistered(E.ModuleNames.ClipboardModule)&&o&&c.push("copy","copyWithHeaders","copyWithGroupHeaders","paste","separator"),this.gridOptionsWrapper.isEnableCharts()&&E.ModuleRegistry.isRegistered(E.ModuleNames.RangeSelectionModule)&&E.ModuleRegistry.isRegistered(E.ModuleNames.GridChartsModule)&&(this.columnModel.isPivotMode()&&c.push("pivotChart"),this.rangeService&&!this.rangeService.isEmpty()&&c.push("chartRange")),E._.exists(e)){var m=!E.ModuleRegistry.isRegistered(E.ModuleNames.CsvExportModule),y=!E.ModuleRegistry.isRegistered(E.ModuleNames.ExcelExportModule),w=this.gridOptionsWrapper.isSuppressExcelExport()||y,D=this.gridOptionsWrapper.isSuppressCsvExport()||m;!(E._.isIOSUserAgent()||w&&D)&&c.push("export")}if(this.gridOptionsWrapper.getContextMenuItemsFunc()){var R=this.gridOptionsWrapper.getContextMenuItemsFunc(),I={node:e,column:o,value:u,defaultItems:c.length?c:void 0,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};return R?R(I):void 0}return c},n.prototype.onContextMenu=function(e,o,u,c,m,y){!this.gridOptionsWrapper.isAllowContextMenuWithControlKey()&&e&&(e.ctrlKey||e.metaKey)||(e&&this.blockMiddleClickScrollsIfNeeded(e),this.gridOptionsWrapper.isSuppressContextMenu())||this.showMenu(u,c,m,e||o.touches[0],y)&&(e||o).preventDefault()},n.prototype.blockMiddleClickScrollsIfNeeded=function(e){var u=e.which;this.gridOptionsWrapper.isSuppressMiddleClickScrolls()&&2===u&&e.preventDefault()},n.prototype.showMenu=function(e,o,u,c,m){var y=this,w=this.getMenuItems(e,o,u),D=this.ctrlsService.getGridBodyCtrl().getGui();if(void 0===w||E._.missingOrEmpty(w))return!1;var x=new uF(w);this.createBean(x);var P=x.getGui(),R={column:o,rowNode:e,type:"contextMenu",mouseEvent:c,ePopup:P,nudgeY:1},I=this.gridOptionsWrapper.getLocaleTextFunc(),N=this.popupService.addPopup({modal:!0,eChild:P,closeOnEsc:!0,closedCallback:function(){D.classList.remove(yR),y.destroyBean(x)},click:c,positionCallback:function(){y.popupService.positionPopupUnderMouseEvent(Object.assign({},{nudgeX:y.gridOptionsWrapper.isEnableRtl()?-1*(P.offsetWidth+1):1},R))},anchorToElement:m,ariaLabel:I("ariaLabelContextMenu","Context Menu")});return N&&(D.classList.add(yR),x.afterGuiAttached({container:"contextMenu",hidePopup:N.hideFunc})),this.activeMenu&&this.hideActiveMenu(),this.activeMenu=x,x.addEventListener(E.BeanStub.EVENT_DESTROYED,function(){y.activeMenu===x&&(y.activeMenu=null)}),N&&x.addEventListener(E.AgMenuItemComponent.EVENT_MENU_ITEM_SELECTED,N.hideFunc),!0},K([E.Autowired("popupService")],n.prototype,"popupService",void 0),K([E.Optional("rangeService")],n.prototype,"rangeService",void 0),K([E.Autowired("ctrlsService")],n.prototype,"ctrlsService",void 0),K([E.Autowired("columnModel")],n.prototype,"columnModel",void 0),K([E.Bean("contextMenuFactory")],n)}(E.BeanStub),uF=function(h){function n(e){var o=h.call(this,'<div class="ag-menu" role="presentation"></div>')||this;return o.menuList=null,o.focusedCell=null,o.menuItems=e,o}return vR(n,h),n.prototype.addMenuItems=function(){var e=this,o=this.createBean(new E.AgMenuList),u=this.menuItemMapper.mapWithStockItems(this.menuItems,null);o.addMenuItems(u),this.appendChild(o),this.menuList=o,o.addEventListener(E.AgMenuItemComponent.EVENT_MENU_ITEM_SELECTED,function(c){return e.dispatchEvent(c)})},n.prototype.afterGuiAttached=function(e){e.hidePopup&&this.addDestroyFunc(e.hidePopup),this.focusedCell=this.focusService.getFocusedCell(),this.menuList&&this.focusService.focusInto(this.menuList.getGui())},n.prototype.restoreFocusedCell=function(){var e=this.focusService.getFocusedCell();if(e&&this.focusedCell&&this.cellPositionUtils.equals(e,this.focusedCell)){var o=this.focusedCell,u=o.rowIndex,c=o.rowPinned,m=o.column,y=this.gridOptionsWrapper.getDocument();y.activeElement===y.body&&this.focusService.setFocusedCell(u,m,c,!0)}},n.prototype.destroy=function(){this.restoreFocusedCell(),h.prototype.destroy.call(this)},K([E.Autowired("menuItemMapper")],n.prototype,"menuItemMapper",void 0),K([E.Autowired("focusService")],n.prototype,"focusService",void 0),K([E.Autowired("cellPositionUtils")],n.prototype,"cellPositionUtils",void 0),K([E.PostConstruct],n.prototype,"addMenuItems",null),n}(E.Component),Qb=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),r_=function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);return u>3&&c&&Object.defineProperty(n,e,c),c},a0=function(h){function n(){return null!==h&&h.apply(this,arguments)||this}return Qb(n,h),n.prototype.mapWithStockItems=function(e,o){var u=this;if(!e)return[];var c=[];return e.forEach(function(m){var y;if(y="string"==typeof m?u.getStockMenuItem(m,o):m){var D=y.subMenu;D&&D instanceof Array&&(y.subMenu=u.mapWithStockItems(y.subMenu,o)),null!=y&&c.push(y)}}),c},n.prototype.getStockMenuItem=function(e,o){var u=this,c=this.gridOptionsWrapper.getLocaleTextFunc(),m=this.gridOptionsWrapper.isSkipHeaderOnAutoSize();switch(e){case"pinSubMenu":return{name:c("pinColumn","Pin Column"),icon:E._.createIconNoSpan("menuPin",this.gridOptionsWrapper,null),subMenu:["pinLeft","pinRight","clearPinned"]};case"pinLeft":return{name:c("pinLeft","Pin Left"),action:function(){return u.columnModel.setColumnPinned(o,E.Constants.PINNED_LEFT,"contextMenu")},checked:!!o&&o.isPinnedLeft()};case"pinRight":return{name:c("pinRight","Pin Right"),action:function(){return u.columnModel.setColumnPinned(o,E.Constants.PINNED_RIGHT,"contextMenu")},checked:!!o&&o.isPinnedRight()};case"clearPinned":return{name:c("noPin","No Pin"),action:function(){return u.columnModel.setColumnPinned(o,null,"contextMenu")},checked:!!o&&!o.isPinned()};case"valueAggSubMenu":return E.ModuleRegistry.assertRegistered(E.ModuleNames.RowGroupingModule,"Aggregation from Menu")?{name:c("valueAggregation","Value Aggregation"),icon:E._.createIconNoSpan("menuValue",this.gridOptionsWrapper,null),subMenu:this.createAggregationSubMenu(o)}:null;case"autoSizeThis":return{name:c("autosizeThiscolumn","Autosize This Column"),action:function(){return u.columnModel.autoSizeColumn(o,m,"contextMenu")}};case"autoSizeAll":return{name:c("autosizeAllColumns","Autosize All Columns"),action:function(){return u.columnModel.autoSizeAllColumns(m,"contextMenu")}};case"rowGroup":return{name:c("groupBy","Group by")+" "+E._.escapeString(this.columnModel.getDisplayNameForColumn(o,"header")),action:function(){return u.columnModel.addRowGroupColumn(o,"contextMenu")},icon:E._.createIconNoSpan("menuAddRowGroup",this.gridOptionsWrapper,null)};case"rowUnGroup":return{name:c("ungroupBy","Un-Group by")+" "+E._.escapeString(this.columnModel.getDisplayNameForColumn(o,"header")),action:function(){return u.columnModel.removeRowGroupColumn(o,"contextMenu")},icon:E._.createIconNoSpan("menuRemoveRowGroup",this.gridOptionsWrapper,null)};case"resetColumns":return{name:c("resetColumns","Reset Columns"),action:function(){return u.columnModel.resetColumnState("contextMenu")}};case"expandAll":return{name:c("expandAll","Expand All"),action:function(){return u.gridApi.expandAll()}};case"contractAll":return{name:c("collapseAll","Collapse All"),action:function(){return u.gridApi.collapseAll()}};case"copy":return E.ModuleRegistry.assertRegistered(E.ModuleNames.ClipboardModule,"Copy from Menu")?{name:c("copy","Copy"),shortcut:c("ctrlC","Ctrl+C"),icon:E._.createIconNoSpan("clipboardCopy",this.gridOptionsWrapper,null),action:function(){return u.clipboardService.copyToClipboard()}}:null;case"copyWithHeaders":return E.ModuleRegistry.assertRegistered(E.ModuleNames.ClipboardModule,"Copy with Headers from Menu")?{name:c("copyWithHeaders","Copy with Headers"),icon:E._.createIconNoSpan("clipboardCopy",this.gridOptionsWrapper,null),action:function(){return u.clipboardService.copyToClipboard({includeHeaders:!0})}}:null;case"copyWithGroupHeaders":return E.ModuleRegistry.assertRegistered(E.ModuleNames.ClipboardModule,"Copy with Group Headers from Menu")?{name:c("copyWithGroupHeaders","Copy with Group Headers"),icon:E._.createIconNoSpan("clipboardCopy",this.gridOptionsWrapper,null),action:function(){return u.clipboardService.copyToClipboard({includeHeaders:!0,includeGroupHeaders:!0})}}:null;case"paste":return E.ModuleRegistry.assertRegistered(E.ModuleNames.ClipboardModule,"Paste from Clipboard")?{name:c("paste","Paste"),shortcut:c("ctrlV","Ctrl+V"),disabled:!0,icon:E._.createIconNoSpan("clipboardPaste",this.gridOptionsWrapper,null),action:function(){return u.clipboardService.pasteFromClipboard()}}:null;case"export":var y=[],w=E.ModuleRegistry.isRegistered(E.ModuleNames.CsvExportModule),D=E.ModuleRegistry.isRegistered(E.ModuleNames.ExcelExportModule);return!this.gridOptionsWrapper.isSuppressCsvExport()&&w&&y.push("csvExport"),!this.gridOptionsWrapper.isSuppressExcelExport()&&D&&y.push("excelExport"),{name:c("export","Export"),subMenu:y,icon:E._.createIconNoSpan("save",this.gridOptionsWrapper,null)};case"csvExport":return{name:c("csvExport","CSV Export"),icon:E._.createIconNoSpan("csvExport",this.gridOptionsWrapper,null),action:function(){return u.gridApi.exportDataAsCsv({})}};case"excelExport":return{name:c("excelExport","Excel Export"),icon:E._.createIconNoSpan("excelExport",this.gridOptionsWrapper,null),action:function(){return u.gridApi.exportDataAsExcel()}};case"separator":return"separator";default:return this.getChartItems(e)||(console.warn("AG Grid: unknown menu item type "+e),null)}},n.prototype.getChartItems=function(e){var o=this,u=this.gridOptionsWrapper.getLocaleTextFunc(),c=function(y,w,D){return{name:u(y,w),action:function(){return o.chartService.createPivotChart({chartType:D})}}},m=function(y,w,D){return{name:u(y,w),action:function(){return o.chartService.createChartFromCurrentRange(D)}}};switch(e){case"pivotChart":return{name:u("pivotChart","Pivot Chart"),subMenu:["pivotColumnChart","pivotBarChart","pivotPieChart","pivotLineChart","pivotXYChart","pivotAreaChart"],icon:E._.createIconNoSpan("chart",this.gridOptionsWrapper,null)};case"chartRange":return{name:u("chartRange","Chart Range"),subMenu:["rangeColumnChart","rangeBarChart","rangePieChart","rangeLineChart","rangeXYChart","rangeAreaChart","rangeHistogramChart"],icon:E._.createIconNoSpan("chart",this.gridOptionsWrapper,null)};case"pivotColumnChart":return{name:u("columnChart","Column"),subMenu:["pivotGroupedColumn","pivotStackedColumn","pivotNormalizedColumn"]};case"pivotGroupedColumn":return c("groupedColumn","Grouped&lrm;","groupedColumn");case"pivotStackedColumn":return c("stackedColumn","Stacked&lrm;","stackedColumn");case"pivotNormalizedColumn":return c("normalizedColumn","100% Stacked&lrm;","normalizedColumn");case"rangeColumnChart":return{name:u("columnChart","Column"),subMenu:["rangeGroupedColumn","rangeStackedColumn","rangeNormalizedColumn"]};case"rangeGroupedColumn":return m("groupedColumn","Grouped&lrm;","groupedColumn");case"rangeStackedColumn":return m("stackedColumn","Stacked&lrm;","stackedColumn");case"rangeNormalizedColumn":return m("normalizedColumn","100% Stacked&lrm;","normalizedColumn");case"pivotBarChart":return{name:u("barChart","Bar"),subMenu:["pivotGroupedBar","pivotStackedBar","pivotNormalizedBar"]};case"pivotGroupedBar":return c("groupedBar","Grouped&lrm;","groupedBar");case"pivotStackedBar":return c("stackedBar","Stacked&lrm;","stackedBar");case"pivotNormalizedBar":return c("normalizedBar","100% Stacked&lrm;","normalizedBar");case"rangeBarChart":return{name:u("barChart","Bar"),subMenu:["rangeGroupedBar","rangeStackedBar","rangeNormalizedBar"]};case"rangeGroupedBar":return m("groupedBar","Grouped&lrm;","groupedBar");case"rangeStackedBar":return m("stackedBar","Stacked&lrm;","stackedBar");case"rangeNormalizedBar":return m("normalizedBar","100% Stacked&lrm;","normalizedBar");case"pivotPieChart":return{name:u("pieChart","Pie"),subMenu:["pivotPie","pivotDoughnut"]};case"pivotPie":return c("pie","Pie&lrm;","pie");case"pivotDoughnut":return c("doughnut","Doughnut&lrm;","doughnut");case"rangePieChart":return{name:u("pieChart","Pie"),subMenu:["rangePie","rangeDoughnut"]};case"rangePie":return m("pie","Pie&lrm;","pie");case"rangeDoughnut":return m("doughnut","Doughnut&lrm;","doughnut");case"pivotLineChart":return c("line","Line&lrm;","line");case"rangeLineChart":return m("line","Line&lrm;","line");case"pivotXYChart":return{name:u("xyChart","X Y (Scatter)"),subMenu:["pivotScatter","pivotBubble"]};case"pivotScatter":return c("scatter","Scatter&lrm;","scatter");case"pivotBubble":return c("bubble","Bubble&lrm;","bubble");case"rangeXYChart":return{name:u("xyChart","X Y (Scatter)"),subMenu:["rangeScatter","rangeBubble"]};case"rangeScatter":return m("scatter","Scatter&lrm;","scatter");case"rangeBubble":return m("bubble","Bubble&lrm;","bubble");case"pivotAreaChart":return{name:u("areaChart","Area"),subMenu:["pivotArea","pivotStackedArea","pivotNormalizedArea"]};case"pivotArea":return c("area","Area&lrm;","area");case"pivotStackedArea":return c("stackedArea","Stacked&lrm;","stackedArea");case"pivotNormalizedArea":return c("normalizedArea","100% Stacked&lrm;","normalizedArea");case"rangeAreaChart":return{name:u("areaChart","Area"),subMenu:["rangeArea","rangeStackedArea","rangeNormalizedArea"]};case"rangeArea":return m("area","Area&lrm;","area");case"rangeStackedArea":return m("stackedArea","Stacked&lrm;","stackedArea");case"rangeNormalizedArea":return m("normalizedArea","100% Stacked&lrm;","normalizedArea");case"rangeHistogramChart":return m("histogramChart","Histogram&lrm;","histogram");default:return null}},n.prototype.createAggregationSubMenu=function(e){var y,o=this,u=this.gridOptionsWrapper.getLocaleTextFunc(),c=e.isValueActive(),m=this.aggFuncService.getFuncNames(e);if(e.isPrimary())y=e;else{var w=e.getColDef().pivotValueColumn;y=E._.exists(w)?w:void 0}var D=[];return m.forEach(function(x){D.push({name:u(x,x),action:function(){o.columnModel.setColumnAggFunc(y,x,"contextMenu"),o.columnModel.addValueColumn(y,"contextMenu")},checked:c&&y.getAggFunc()===x})}),D},r_([E.Autowired("columnModel")],n.prototype,"columnModel",void 0),r_([E.Autowired("gridApi")],n.prototype,"gridApi",void 0),r_([E.Optional("clipboardService")],n.prototype,"clipboardService",void 0),r_([E.Optional("aggFuncService")],n.prototype,"aggFuncService",void 0),r_([E.Optional("chartService")],n.prototype,"chartService",void 0),r_([E.Bean("menuItemMapper")],n)}(E.BeanStub),qg={moduleName:E.ModuleNames.MenuModule,beans:[sF,lF,a0],dependantModules:[ii]},i_=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Xg=function(){return Xg=Object.assign||function(h){for(var n,e=1,o=arguments.length;e<o;e++)for(var u in n=arguments[e])Object.prototype.hasOwnProperty.call(n,u)&&(h[u]=n[u]);return h},Xg.apply(this,arguments)},s0=function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);return u>3&&c&&Object.defineProperty(n,e,c),c},o_=function(h){function n(){var e=h.call(this,'<div class="ag-multi-filter ag-menu-list-compact"></div>')||this;return e.filterDefs=[],e.filters=[],e.guiDestroyFuncs=[],e.activeFilterIndices=[],e.lastActivatedMenuItem=null,e.afterFiltersReadyFuncs=[],e}return i_(n,h),n.prototype.postConstruct=function(){var e=this;this.initialiseTabGuard({onFocusIn:function(o){return e.onFocusIn(o)}})},n.getFilterDefs=function(e){var o=e.filters;return o&&o.length>0?o:[{filter:"agTextColumnFilter"},{filter:"agSetColumnFilter"}]},n.prototype.init=function(e){var o=this;this.params=e,this.filterDefs=n.getFilterDefs(e);var c=e.filterChangedCallback;this.column=e.column,this.filterChangedCallback=c;var m=[];return this.filterDefs.forEach(function(y,w){var D=o.createFilter(y,w);null!=D&&m.push(D)}),E.AgPromise.all(m).then(function(y){o.filters=y,o.refreshGui("columnMenu"),o.afterFiltersReadyFuncs.forEach(function(w){return w()}),o.afterFiltersReadyFuncs.length=0})},n.prototype.refreshGui=function(e){var o=this;e!==this.lastOpenedInContainer&&(this.removeAllChildrenExceptTabGuards(),this.destroyChildren(),this.filters.forEach(function(u,c){c>0&&o.appendChild(E._.loadTemplate('<div class="ag-filter-separator"></div>'));var w,m=o.filterDefs[c],y=o.getFilterTitle(u,m);w="subMenu"===m.display&&"toolPanel"!==e?o.insertFilterMenu(u,y).getGui():"subMenu"===m.display||"accordion"===m.display?o.insertFilterGroup(u,y).getGui():u.getGui(),o.appendChild(w)}),this.lastOpenedInContainer=e)},n.prototype.getFilterTitle=function(e,o){return null!=o.title?o.title:"function"==typeof e.getFilterTitle?e.getFilterTitle():"Filter"},n.prototype.destroyChildren=function(){this.guiDestroyFuncs.forEach(function(e){return e()}),this.guiDestroyFuncs.length=0},n.prototype.insertFilterMenu=function(e,o){var u=this,c=this.createBean(new E.AgMenuItemComponent({name:o,subMenu:e,cssClasses:["ag-multi-filter-menu-item"],isCompact:!0,isAnotherSubMenuOpen:function(){return!1}}));return c.setParentComponent(this),this.guiDestroyFuncs.push(function(){return u.destroyBean(c)}),this.addManagedListener(c,E.AgMenuItemComponent.EVENT_MENU_ITEM_ACTIVATED,function(m){u.lastActivatedMenuItem&&u.lastActivatedMenuItem!==m.menuItem&&u.lastActivatedMenuItem.deactivate(),u.lastActivatedMenuItem=m.menuItem}),c.addGuiEventListener("focusin",function(){return c.activate()}),c.addGuiEventListener("focusout",function(){c.isSubMenuOpen()||c.deactivate()}),c},n.prototype.insertFilterGroup=function(e,o){var u=this,c=this.createBean(new E.AgGroupComponent({title:o,cssIdentifier:"multi-filter"}));if(this.guiDestroyFuncs.push(function(){return u.destroyBean(c)}),c.addItem(e.getGui()),c.toggleGroupExpand(!1),e.afterGuiAttached){var m={container:this.lastOpenedInContainer,suppressFocus:!0};c.addManagedListener(c,E.AgGroupComponent.EVENT_EXPANDED,function(){return e.afterGuiAttached(m)})}return c},n.prototype.isFilterActive=function(){return this.filters.some(function(e){return e.isFilterActive()})},n.prototype.getLastActiveFilterIndex=function(){return this.activeFilterIndices.length>0?this.activeFilterIndices[this.activeFilterIndices.length-1]:null},n.prototype.doesFilterPass=function(e,o){var u=!0;return this.filters.forEach(function(c){!u||c===o||!c.isFilterActive()||(u=c.doesFilterPass(e))}),u},n.prototype.getFilterType=function(){return"multi"},n.prototype.getModelFromUi=function(){return{filterType:this.getFilterType(),filterModels:this.filters.map(function(o){return"function"==typeof o.getModelFromUi?o.getModelFromUi():null})}},n.prototype.getModel=function(){return this.isFilterActive()?{filterType:this.getFilterType(),filterModels:this.filters.map(function(o){return o.isFilterActive()?o.getModel():null})}:null},n.prototype.setModel=function(e){var o=this,u=function(m,y){return new E.AgPromise(function(w){var D=m.setModel(y);D?D.then(function(){return w()}):w()})},c=[];return null==e?c=this.filters.map(function(m,y){var w=u(m,null);return o.updateActiveList(y),w}):this.filters.forEach(function(m,y){var D=u(m,e.filterModels.length>y?e.filterModels[y]:null);c.push(D),o.updateActiveList(y)}),E.AgPromise.all(c).then(function(){})},n.prototype.applyModel=function(){var e=!1;return this.filters.forEach(function(o){o instanceof E.ProvidedFilter&&(e=o.applyModel()||e)}),e},n.prototype.getChildFilterInstance=function(e){return this.filters[e]},n.prototype.afterGuiAttached=function(e){e&&this.refreshGui(e.container);var o=this.params.filters,u=o&&o.some(function(y){return y.display&&"inline"!==y.display});this.executeFunctionIfExists("afterGuiAttached",Xg(Xg({},e||{}),{suppressFocus:u}));var c=this.gridOptionsWrapper.getDocument(),m=c.activeElement;u&&(m===c.body||this.getGui().contains(m))&&this.forceFocusOutOfContainer(!0)},n.prototype.onAnyFilterChanged=function(){this.executeFunctionIfExists("onAnyFilterChanged")},n.prototype.onNewRowsLoaded=function(){this.executeFunctionIfExists("onNewRowsLoaded")},n.prototype.destroy=function(){var e=this;this.filters.forEach(function(o){o.setModel(null),e.destroyBean(o)}),this.filters.length=0,this.destroyChildren(),h.prototype.destroy.call(this)},n.prototype.executeFunctionIfExists=function(e){for(var o=[],u=1;u<arguments.length;u++)o[u-1]=arguments[u];E._.forEachReverse(this.filters,function(c){var m=c[e];"function"==typeof m&&m.apply(c,o)})},n.prototype.createFilter=function(e,o){var w,u=this,c=this.params,m=c.filterModifiedCallback,y=c.doesRowPassOtherFilter,D=Xg(Xg({},this.filterManager.createFilterParams(this.column,this.column.getColDef())),{filterModifiedCallback:m,filterChangedCallback:function(R){u.executeWhenAllFiltersReady(function(){return u.filterChanged(o,R)})},doesRowPassOtherFilter:function(R){return y(R)&&u.doesFilterPass({node:R,data:R.data},w)}}),x=this.userComponentFactory.getFilterDetails(e,D,"agTextColumnFilter");if(!x)return null;var P=x.newAgStackInstance();return P&&P.then(function(R){return w=R}),P},n.prototype.executeWhenAllFiltersReady=function(e){this.filters&&this.filters.length>0?e():this.afterFiltersReadyFuncs.push(e)},n.prototype.updateActiveList=function(e){var o=this.filters[e];E._.removeFromArray(this.activeFilterIndices,e),o.isFilterActive()&&this.activeFilterIndices.push(e)},n.prototype.filterChanged=function(e,o){this.updateActiveList(e),this.filterChangedCallback(o);var u=this.filters[e];this.filters.forEach(function(c){c!==u&&"function"==typeof c.onAnyFilterChanged&&c.onAnyFilterChanged()})},n.prototype.onFocusIn=function(e){return null!=this.lastActivatedMenuItem&&!this.lastActivatedMenuItem.getGui().contains(e.target)&&(this.lastActivatedMenuItem.deactivate(),this.lastActivatedMenuItem=null),!0},s0([E.Autowired("filterManager")],n.prototype,"filterManager",void 0),s0([E.Autowired("userComponentFactory")],n.prototype,"userComponentFactory",void 0),s0([E.PostConstruct],n.prototype,"postConstruct",null),n}(E.TabGuardComp),tx=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Oh=function(){return Oh=Object.assign||function(h){for(var n,e=1,o=arguments.length;e<o;e++)for(var u in n=arguments[e])Object.prototype.hasOwnProperty.call(n,u)&&(h[u]=n[u]);return h},Oh.apply(this,arguments)},cF=function(h){function n(){var e=h.call(this,'<div class="ag-multi-floating-filter ag-floating-filter-input"></div>')||this;return e.floatingFilters=[],e}return tx(n,h),n.prototype.init=function(e){var o=this;this.params=e;var c=[];return o_.getFilterDefs(e.filterParams).forEach(function(m,y){var w=Oh(Oh({},e),{parentFilterInstance:function(x){o.parentMultiFilterInstance(function(P){var R=P.getChildFilterInstance(y);null!=R&&x(R)})}}),D=o.createFloatingFilter(m,w);null!=D&&c.push(D)}),E.AgPromise.all(c).then(function(m){m.forEach(function(y,w){o.floatingFilters.push(y);var D=y.getGui();o.appendChild(D),w>0&&E._.setDisplayed(D,!1)})})},n.prototype.onParentModelChanged=function(e,o){var u=this;o&&o.afterFloatingFilter||this.parentMultiFilterInstance(function(c){if(null==e)u.floatingFilters.forEach(function(y,w){y.onParentModelChanged(null,o),E._.setDisplayed(y.getGui(),0===w)});else{var m=c.getLastActiveFilterIndex();u.floatingFilters.forEach(function(y,w){y.onParentModelChanged(e.filterModels.length>w?e.filterModels[w]:null,o);var x=null==m?0===w:w===m;E._.setDisplayed(y.getGui(),x)})}})},n.prototype.destroy=function(){this.destroyBeans(this.floatingFilters),this.floatingFilters.length=0,h.prototype.destroy.call(this)},n.prototype.createFloatingFilter=function(e,o){var u=this.userComponentFactory.getDefaultFloatingFilterType(e)||"agTextColumnFloatingFilter",c=this.userComponentFactory.getFloatingFilterCompDetails(e,o,u);return c?c.newAgStackInstance():null},n.prototype.parentMultiFilterInstance=function(e){this.params.parentFilterInstance(function(o){if(!(o instanceof o_))throw new Error("AG Grid - MultiFloatingFilterComp expects MultiFilter as it's parent");e(o)})},function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);u>3&&c&&Object.defineProperty(n,e,c)}([E.Autowired("userComponentFactory")],n.prototype,"userComponentFactory",void 0),n}(E.Component),CR={moduleName:E.ModuleNames.MultiFilterModule,beans:[],userComponents:[{componentName:"agMultiColumnFilter",componentClass:o_},{componentName:"agMultiColumnFloatingFilter",componentClass:cF}],dependantModules:[ii]},cc=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),dF=function(h){function n(e){var o=h.call(this,'<div class="ag-rich-select-row"></div>')||this;return o.params=e,o}return cc(n,h),n.prototype.setState=function(e,o,u){this.populateWithRenderer(e,o)||this.populateWithoutRenderer(e,o),this.addOrRemoveCssClass("ag-rich-select-row-selected",u)},n.prototype.populateWithoutRenderer=function(e,o){var c=null!=o?o:e;E._.exists(c)&&""!==c?this.getGui().textContent=c.toString():this.getGui().innerHTML="&nbsp;"},n.prototype.populateWithRenderer=function(e,o){var u=this,c={value:e,valueFormatted:o,api:this.gridOptionsWrapper.getApi()},m=this.userComponentFactory.getCellRendererDetails(this.params,c),y=m?m.newAgStackInstance():void 0;return null!=y?E._.bindCellRendererToHtmlElement(y,this.getGui()):this.getGui().innerText=null!=c.valueFormatted?c.valueFormatted:c.value,!!y&&(y.then(function(w){u.addDestroyFunc(function(){u.getContext().destroyBean(w)})}),!0)},function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);u>3&&c&&Object.defineProperty(n,e,c)}([E.Autowired("userComponentFactory")],n.prototype,"userComponentFactory",void 0),n}(E.Component),pF=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),rx=function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);return u>3&&c&&Object.defineProperty(n,e,c),c},ix=function(h){function n(){var e=h.call(this,n.TEMPLATE)||this;return e.selectionConfirmed=!1,e.searchString="",e}return pF(n,h),n.prototype.init=function(e){this.params=e,this.selectedValue=e.value,this.originalSelectedValue=e.value,this.focusAfterAttached=e.cellStartedEdit;var o=E._.createIconNoSpan("smallDown",this.gridOptionsWrapper);if(o.classList.add("ag-rich-select-value-icon"),this.eValue.appendChild(o),this.virtualList=this.getContext().createBean(new E.VirtualList("rich-select")),this.virtualList.setComponentCreator(this.createRowComponent.bind(this)),this.eList.appendChild(this.virtualList.getGui()),E._.exists(this.params.cellHeight)&&this.virtualList.setRowHeight(this.params.cellHeight),this.renderSelectedValue(),E._.missing(e.values))console.warn("AG Grid: richSelectCellEditor requires values for it to work");else{var u=e.values;this.virtualList.setModel({getRowCount:function(){return u.length},getRow:function(y){return u[y]}}),this.addGuiEventListener("keydown",this.onKeyDown.bind(this));var c=this.virtualList.getGui();this.addManagedListener(c,"click",this.onClick.bind(this)),this.addManagedListener(c,"mousemove",this.onMouseMove.bind(this));var m=E._.exists(e.searchDebounceDelay)?e.searchDebounceDelay:300;this.clearSearchString=E._.debounce(this.clearSearchString,m),E._.exists(e.charPress)&&this.searchText(e.charPress)}},n.prototype.onKeyDown=function(e){var o=e.key;switch(e.preventDefault(),o){case E.KeyCode.ENTER:this.onEnterKeyDown();break;case E.KeyCode.TAB:this.confirmSelection();break;case E.KeyCode.DOWN:case E.KeyCode.UP:this.onNavigationKeyPressed(e,o);break;default:this.searchText(e)}},n.prototype.confirmSelection=function(){this.selectionConfirmed=!0},n.prototype.onEnterKeyDown=function(){this.confirmSelection(),this.params.stopEditing()},n.prototype.onNavigationKeyPressed=function(e,o){e.preventDefault();var u=this.params.values.indexOf(this.selectedValue),c=o===E.KeyCode.UP?u-1:u+1;c>=0&&c<this.params.values.length&&this.setSelectedValue(this.params.values[c])},n.prototype.searchText=function(e){if("string"==typeof e)this.searchString+=e,this.runSearch(),this.clearSearchString();else{var o=e.key;if(o===E.KeyCode.BACKSPACE)this.searchString=this.searchString.slice(0,-1),o="";else if(!E._.isEventFromPrintableCharacter(e))return;this.searchText(o)}},n.prototype.runSearch=function(){var u,e=this,o=this.params.values;if(("number"==typeof o[0]||"string"==typeof o[0])&&(u=o.map(String)),"object"==typeof o[0]&&this.params.colDef.keyCreator&&(u=o.map(function(w){var D={value:w,colDef:e.params.colDef,column:e.params.column,node:e.params.node,data:e.params.data,api:e.gridOptionsWrapper.getApi(),columnApi:e.gridOptionsWrapper.getColumnApi(),context:e.gridOptionsWrapper.getContext()};return e.params.colDef.keyCreator(D)})),u){var c=E._.fuzzySuggestions(this.searchString,u,!0,!0)[0];if(c){var m=u.indexOf(c);this.setSelectedValue(o[m])}}},n.prototype.clearSearchString=function(){this.searchString=""},n.prototype.renderSelectedValue=function(){var e=this,o=this.params.formatValue(this.selectedValue),u=this.eValue,c={value:this.selectedValue,valueFormatted:o,api:this.gridOptionsWrapper.getApi()},m=this.userComponentFactory.getCellRendererDetails(this.params,c),y=m?m.newAgStackInstance():void 0;y?(E._.bindCellRendererToHtmlElement(y,u),y.then(function(w){e.addDestroyFunc(function(){return e.getContext().destroyBean(w)})})):E._.exists(this.selectedValue)?u.innerHTML=o:E._.clearElement(u)},n.prototype.setSelectedValue=function(e){if(this.selectedValue!==e){var o=this.params.values.indexOf(e);-1!==o&&(this.selectedValue=e,this.virtualList.ensureIndexVisible(o),this.virtualList.refresh())}},n.prototype.createRowComponent=function(e){var o=this.params.formatValue(e),u=new dF(this.params);return this.getContext().createBean(u),u.setState(e,o,e===this.selectedValue),u},n.prototype.onMouseMove=function(e){var o=this.virtualList.getGui().getBoundingClientRect(),u=this.virtualList.getScrollTop(),m=Math.floor((e.clientY-o.top+u)/this.virtualList.getRowHeight()),y=this.params.values[m];void 0!==y&&this.setSelectedValue(y)},n.prototype.onClick=function(){this.confirmSelection(),this.params.stopEditing()},n.prototype.afterGuiAttached=function(){var e=this.params.values.indexOf(this.selectedValue);this.virtualList.refresh(),e>=0&&this.virtualList.ensureIndexVisible(e),this.virtualList.refresh(),this.focusAfterAttached&&this.getGui().focus()},n.prototype.getValue=function(){return this.selectionConfirmed?this.selectedValue:this.originalSelectedValue},n.TEMPLATE='<div class="ag-rich-select" tabindex="-1">\n            <div ref="eValue" class="ag-rich-select-value"></div>\n            <div ref="eList" class="ag-rich-select-list"></div>\n        </div>',rx([E.Autowired("userComponentFactory")],n.prototype,"userComponentFactory",void 0),rx([E.RefSelector("eValue")],n.prototype,"eValue",void 0),rx([E.RefSelector("eList")],n.prototype,"eList",void 0),n}(E.PopupComponent),ox={moduleName:E.ModuleNames.RichSelectModule,beans:[],userComponents:[{componentName:"agRichSelect",componentClass:ix},{componentName:"agRichSelectCellEditor",componentClass:ix}],dependantModules:[ii]},bR=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Ua=function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);return u>3&&c&&Object.defineProperty(n,e,c),c},wR=function(h){function n(){var e=null!==h&&h.apply(this,arguments)||this;return e.pauseStoreUpdateListening=!1,e.started=!1,e}return bR(n,h),n.prototype.ensureRowHeightsValid=function(){return!1},n.prototype.start=function(){this.started=!0;var e=this.gridOptionsWrapper.getServerSideDatasource();e&&this.setDatasource(e)},n.prototype.destroyDatasource=function(){!this.datasource||(this.datasource.destroy&&this.datasource.destroy(),this.rowRenderer.datasourceChanged(),this.datasource=void 0)},n.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,E.Events.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverything.bind(this)),this.addManagedListener(this.eventService,E.Events.EVENT_STORE_UPDATED,this.onStoreUpdated.bind(this));var e=this.resetRootStore.bind(this);this.addManagedListener(this.eventService,E.Events.EVENT_COLUMN_VALUE_CHANGED,e),this.addManagedListener(this.eventService,E.Events.EVENT_COLUMN_PIVOT_CHANGED,e),this.addManagedListener(this.eventService,E.Events.EVENT_COLUMN_ROW_GROUP_CHANGED,e),this.addManagedListener(this.eventService,E.Events.EVENT_COLUMN_PIVOT_MODE_CHANGED,e),this.verifyProps()},n.prototype.verifyProps=function(){null!=this.gridOptionsWrapper.getDefaultGroupOrderComparator()&&E._.doOnce(function(){return console.warn("AG Grid: defaultGroupOrderComparator cannot be used with Server Side Row Model. If using Full Store, then provide the rows to the grid in the desired sort order. If using Partial Store, then sorting is done on the server side, nothing to do with the client.")},"SSRM.DefaultGroupOrderComparator"),this.gridOptionsWrapper.isRowSelection()&&null==this.gridOptionsWrapper.getRowNodeIdFunc()&&E._.doOnce(function(){return console.warn("AG Grid: getRowNodeId callback must be provided for Server Side Row Model selection to work correctly.")},"SSRM.SelectionNeedsRowNodeIdFunc")},n.prototype.setDatasource=function(e){!this.started||(this.destroyDatasource(),this.datasource=e,this.resetRootStore())},n.prototype.isLastRowIndexKnown=function(){var e=this.getRootStore();return!!e&&e.isLastRowIndexKnown()},n.prototype.onColumnEverything=function(){if(!this.gridOptionsWrapper.isSuppressEnterpriseResetOnNewColumns()){if(!this.storeParams)return void this.resetRootStore();var e=this.columnsToValueObjects(this.columnModel.getRowGroupColumns()),o=this.columnsToValueObjects(this.columnModel.getValueColumns()),u=this.columnsToValueObjects(this.columnModel.getPivotColumns()),c=!E._.jsonEquals(this.storeParams.sortModel,this.sortController.getSortModel()),m=!E._.jsonEquals(this.storeParams.rowGroupCols,e),y=!E._.jsonEquals(this.storeParams.pivotCols,u),w=!E._.jsonEquals(this.storeParams.valueCols,o);(c||m||y||w)&&this.resetRootStore()}},n.prototype.destroyRootStore=function(){!this.rootNode||!this.rootNode.childStore||(this.rootNode.childStore=this.destroyBean(this.rootNode.childStore),this.nodeManager.clear())},n.prototype.refreshAfterSort=function(e,o){this.storeParams&&(this.storeParams.sortModel=e);var u=this.getRootStore();!u||(u.refreshAfterSort(o),this.onStoreUpdated())},n.prototype.resetRootStore=function(){this.destroyRootStore(),this.rootNode=new E.RowNode(this.beans),this.rootNode.group=!0,this.rootNode.level=-1,this.datasource&&(this.storeParams=this.createStoreParams(),this.rootNode.childStore=this.createBean(this.storeFactory.createStore(this.storeParams,this.rootNode)),this.updateRowIndexesAndBounds()),this.eventService.dispatchEvent({type:E.Events.EVENT_ROW_DATA_CHANGED,api:this.gridApi,columnApi:this.columnApi}),this.dispatchModelUpdated(!0)},n.prototype.columnsToValueObjects=function(e){var o=this;return e.map(function(u){return{id:u.getId(),aggFunc:u.getAggFunc(),displayName:o.columnModel.getDisplayNameForColumn(u,"model"),field:u.getColDef().field}})},n.prototype.createStoreParams=function(){var e=this.columnsToValueObjects(this.columnModel.getRowGroupColumns()),o=this.columnsToValueObjects(this.columnModel.getValueColumns()),u=this.columnsToValueObjects(this.columnModel.getPivotColumns()),c=this.gridOptionsWrapper.isDynamicRowHeight();return{valueCols:o,rowGroupCols:e,pivotCols:u,pivotMode:this.columnModel.isPivotMode(),filterModel:this.filterManager.getFilterModel(),sortModel:this.sortListener.extractSortModel(),datasource:this.datasource,lastAccessedSequence:new E.NumberSequence,dynamicRowHeight:c}},n.prototype.getParams=function(){return this.storeParams},n.prototype.dispatchModelUpdated=function(e){void 0===e&&(e=!1),this.eventService.dispatchEvent({type:E.Events.EVENT_MODEL_UPDATED,api:this.gridApi,columnApi:this.columnApi,animate:!e,keepRenderedRows:!e,newPage:!1,newData:!1})},n.prototype.onStoreUpdated=function(){this.pauseStoreUpdateListening||(this.updateRowIndexesAndBounds(),this.dispatchModelUpdated())},n.prototype.onRowHeightChanged=function(){this.updateRowIndexesAndBounds(),this.dispatchModelUpdated()},n.prototype.updateRowIndexesAndBounds=function(){var e=this.getRootStore();!e||e.setDisplayIndexes(new E.NumberSequence,{value:0})},n.prototype.retryLoads=function(){var e=this.getRootStore();!e||(e.retryLoads(),this.onStoreUpdated())},n.prototype.getRow=function(e){var o=this.getRootStore();if(o)return o.getRowUsingDisplayIndex(e)},n.prototype.expandAll=function(e){this.pauseStoreUpdateListening=!0,this.forEachNode(function(o){o.group&&o.setExpanded(e)}),this.pauseStoreUpdateListening=!1,this.onStoreUpdated()},n.prototype.refreshAfterFilter=function(e,o){this.storeParams&&(this.storeParams.filterModel=e);var u=this.getRootStore();!u||(u.refreshAfterFilter(o),this.onStoreUpdated())},n.prototype.getRootStore=function(){if(this.rootNode&&this.rootNode.childStore)return this.rootNode.childStore},n.prototype.getRowCount=function(){var e=this.getRootStore();return e?e.getDisplayIndexEnd():1},n.prototype.getTopLevelRowCount=function(){var e=this.getRootStore();return e?e.getRowCount():1},n.prototype.getTopLevelRowDisplayedIndex=function(e){var o=this.getRootStore();return o?o.getTopLevelRowDisplayedIndex(e):e},n.prototype.getRowBounds=function(e){var o=this.getRootStore();return o?o.getRowBounds(e):{rowTop:0,rowHeight:this.gridOptionsWrapper.getRowHeightAsNumber()}},n.prototype.getRowIndexAtPixel=function(e){var o=this.getRootStore();return e<=0||!o?0:o.getRowIndexAtPixel(e)},n.prototype.isEmpty=function(){return!1},n.prototype.isRowsToRender=function(){return null!=this.getRootStore()&&this.getRowCount()>0},n.prototype.getType=function(){return E.Constants.ROW_MODEL_TYPE_SERVER_SIDE},n.prototype.forEachNode=function(e){var o=this.getRootStore();!o||o.forEachNodeDeep(e)},n.prototype.forEachNodeAfterFilterAndSort=function(e){var o=this.getRootStore();!o||o.forEachNodeDeepAfterFilterAndSort(e)},n.prototype.executeOnStore=function(e,o){var u=this.getRootStore();if(u){var c=u.getChildStore(e);c&&o(c)}},n.prototype.refreshStore=function(e){void 0===e&&(e={}),this.executeOnStore(e.route?e.route:[],function(u){return u.refreshStore(1==e.purge)})},n.prototype.getStoreState=function(){var e=[],o=this.getRootStore();return o&&o.addStoreStates(e),e},n.prototype.getNodesInRangeForSelection=function(e,o){return E._.exists(o)&&e.parent!==o.parent?[]:e.parent.childStore.getRowNodesInRange(o,e)},n.prototype.getRowNode=function(e){var o;return this.forEachNode(function(u){u.id===e&&(o=u),u.detailNode&&u.detailNode.id===e&&(o=u.detailNode)}),o},n.prototype.isRowPresent=function(e){return!!this.getRowNode(e.id)},Ua([E.Autowired("columnModel")],n.prototype,"columnModel",void 0),Ua([E.Autowired("filterManager")],n.prototype,"filterManager",void 0),Ua([E.Autowired("sortController")],n.prototype,"sortController",void 0),Ua([E.Autowired("gridApi")],n.prototype,"gridApi",void 0),Ua([E.Autowired("columnApi")],n.prototype,"columnApi",void 0),Ua([E.Autowired("rowRenderer")],n.prototype,"rowRenderer",void 0),Ua([E.Autowired("ssrmSortService")],n.prototype,"sortListener",void 0),Ua([E.Autowired("ssrmNodeManager")],n.prototype,"nodeManager",void 0),Ua([E.Autowired("ssrmStoreFactory")],n.prototype,"storeFactory",void 0),Ua([E.Autowired("beans")],n.prototype,"beans",void 0),Ua([E.PreDestroy],n.prototype,"destroyDatasource",null),Ua([E.PostConstruct],n.prototype,"addEventListeners",null),Ua([E.PreDestroy],n.prototype,"destroyRootStore",null),Ua([E.Bean("rowModel")],n)}(E.BeanStub),l0=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),u0=function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);return u>3&&c&&Object.defineProperty(n,e,c),c},Xt=function(h){function n(){return null!==h&&h.apply(this,arguments)||this}return l0(n,h),n.prototype.createGroupKeys=function(e){for(var o=[],u=e;u&&u.level>=0;)o.push(u.key),u=u.parent;return o.reverse(),o},n.prototype.loadFromDatasource=function(e){var o=this.createGroupKeys(e.parentNode),u=e.storeParams;if(u.datasource){var m={successCallback:e.successCallback,success:e.success,failCallback:e.failCallback,fail:e.fail,request:{startRow:e.startRow,endRow:e.endRow,rowGroupCols:u.rowGroupCols,valueCols:u.valueCols,pivotCols:u.pivotCols,pivotMode:u.pivotMode,groupKeys:o,filterModel:u.filterModel,sortModel:u.sortModel},parentNode:e.parentNode,api:this.gridApi,columnApi:this.columnApi};window.setTimeout(function(){u.datasource&&u.datasource.getRows(m)},0)}},n.prototype.getChildStore=function(e,o,u){if(E._.missingOrEmpty(e))return o;var m=u(e[0]);if(m){var y=e.slice(1,e.length),w=m.childStore;return w?w.getChildStore(y):null}return null},n.prototype.isServerRefreshNeeded=function(e,o,u){if(u.alwaysReset||u.valueColChanged||u.secondaryColChanged)return!0;var c=e.level+1;return!(c<o.length&&!(u.changedColumns.indexOf(o[c].id)>-1))},u0([E.Autowired("columnApi")],n.prototype,"columnApi",void 0),u0([E.Autowired("gridApi")],n.prototype,"gridApi",void 0),u0([E.Bean("ssrmCacheUtils")],n)}(E.BeanStub),SR=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),kd=function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);return u>3&&c&&Object.defineProperty(n,e,c),c},ER=function(h){function n(){return null!==h&&h.apply(this,arguments)||this}return SR(n,h),n.prototype.postConstruct=function(){this.rowHeight=this.gridOptionsWrapper.getRowHeightAsNumber(),this.usingTreeData=this.gridOptionsWrapper.isTreeData(),this.usingMasterDetail=this.gridOptionsWrapper.isMasterDetail()},n.prototype.createRowNode=function(e){var o=new E.RowNode(this.beans);return o.setRowHeight(null!=e.rowHeight?e.rowHeight:this.rowHeight),o.group=e.group,o.leafGroup=e.leafGroup,o.level=e.level,o.uiLevel=e.level,o.parent=e.parent,o.stub=!0,o.group&&(o.expanded=!1,o.field=e.field,o.rowGroupColumn=e.rowGroupColumn),o},n.prototype.destroyRowNodes=function(e){e&&e.forEach(this.destroyRowNode.bind(this))},n.prototype.destroyRowNode=function(e){e.childStore&&(this.destroyBean(e.childStore),e.childStore=null),e.clearRowTopAndRowIndex(),null!=e.id&&this.nodeManager.removeNode(e)},n.prototype.setTreeGroupInfo=function(e){var o=this.gridOptionsWrapper.getIsServerSideGroupFunc(),u=this.gridOptionsWrapper.getServerSideGroupKeyFunc();null!=o&&(e.setGroup(o(e.data)),e.group&&null!=u&&(e.key=u(e.data))),!e.group&&null!=e.childStore&&(this.destroyBean(e.childStore),e.childStore=null)},n.prototype.setRowGroupInfo=function(e){e.key=this.valueService.getValue(e.rowGroupColumn,e),null==e.key&&E._.doOnce(function(){console.warn("AG Grid: null and undefined values are not allowed for server side row model keys"),e.rowGroupColumn&&console.warn("column = "+e.rowGroupColumn.getId()),console.warn("data is ",e.data)},"ServerSideBlock-CannotHaveNullOrUndefinedForKey")},n.prototype.setMasterDetailInfo=function(e){var o=this.gridOptionsWrapper.getIsRowMasterFunc();e.master=null==o||o(e.data)},n.prototype.updateDataIntoRowNode=function(e,o){e.updateData(o),this.usingTreeData&&this.setTreeGroupInfo(e)},n.prototype.setDataIntoRowNode=function(e,o,u,c){e.stub=!1,E._.exists(o)?(e.setDataAndId(o,u),this.usingTreeData?this.setTreeGroupInfo(e):e.group?this.setRowGroupInfo(e):this.usingMasterDetail&&this.setMasterDetailInfo(e)):(e.setDataAndId(void 0,void 0),e.key=null),(this.usingTreeData||e.group)&&(this.setGroupDataIntoRowNode(e),this.setChildCountIntoRowNode(e)),E._.exists(o)&&e.setRowHeight(this.gridOptionsWrapper.getRowHeightForNode(e,!1,c).height)},n.prototype.setChildCountIntoRowNode=function(e){var o=this.gridOptionsWrapper.getChildCountFunc();o&&(e.allChildrenCount=o(e.data))},n.prototype.setGroupDataIntoRowNode=function(e){var o=this,u=this.columnModel.getGroupDisplayColumns(),c=this.gridOptionsWrapper.isTreeData();u.forEach(function(m){if(null==e.groupData&&(e.groupData={}),c)e.groupData[m.getColId()]=e.key;else if(m.isRowGroupDisplayed(e.rowGroupColumn.getId())){var y=o.valueService.getValue(e.rowGroupColumn,e);e.groupData[m.getColId()]=y}})},n.prototype.clearDisplayIndex=function(e){e.clearRowTopAndRowIndex(),e.group&&E._.exists(e.childStore)&&e.childStore.clearDisplayIndexes(),e.master&&e.detailNode&&e.detailNode.clearRowTopAndRowIndex()},n.prototype.setDisplayIndex=function(e,o,u){if(e.setRowIndex(o.next()),e.setRowTop(u.value),u.value+=e.rowHeight,e.master&&(e.expanded&&e.detailNode?(e.detailNode.setRowIndex(o.next()),e.detailNode.setRowTop(u.value),u.value+=e.detailNode.rowHeight):e.detailNode&&e.detailNode.clearRowTopAndRowIndex()),e.group&&E._.exists(e.childStore)){var y=e.childStore;e.expanded?y.setDisplayIndexes(o,u):y.clearDisplayIndexes()}},n.prototype.binarySearchForDisplayIndex=function(e,o){var u=0,c=o.length-1;if(E._.missing(c)||E._.missing(u))console.warn("AG Grid: error: topPointer = "+c+", bottomPointer = "+u);else for(;;){var m=Math.floor((u+c)/2),y=o[m];if(y.rowIndex===e)return y;var D=y.detailNode;if(y.master&&y.expanded&&D&&D.rowIndex===e)return y.detailNode;var x=y.childStore;if(y.expanded&&x&&x.isDisplayIndexInStore(e))return x.getRowUsingDisplayIndex(e);if(y.rowIndex<e)u=m+1;else{if(!(y.rowIndex>e))return void console.warn("AG Grid: error: unable to locate rowIndex = "+e+" in cache");c=m-1}}},n.prototype.extractRowBounds=function(e,o){var u=function(m){return{rowHeight:m.rowHeight,rowTop:m.rowTop}};if(e.rowIndex===o)return u(e);if(e.group&&e.expanded&&E._.exists(e.childStore)){var c=e.childStore;if(c.isDisplayIndexInStore(o))return c.getRowBounds(o)}else if(e.master&&e.expanded&&E._.exists(e.detailNode)&&e.detailNode.rowIndex===o)return u(e.detailNode)},n.prototype.getIndexAtPixel=function(e,o){if(e.isPixelInRange(o))return e.rowIndex;var c=e.detailNode;if(e.master&&e.expanded&&c&&c.isPixelInRange(o))return e.detailNode.rowIndex;if(e.group&&e.expanded&&E._.exists(e.childStore)){var m=e.childStore;if(m.isPixelInRange(o))return m.getRowIndexAtPixel(o)}return null},n.prototype.createNodeIdPrefix=function(e){for(var o=[],u=e;u&&u.level>=0;)o.push(u.key),u=u.parent;if(o.length>0)return o.reverse().join("-")},n.prototype.checkOpenByDefault=function(e){if(e.isExpandable()){var o=this.gridOptionsWrapper.getIsServerSideGroupOpenByDefaultFunc();o&&o({data:e.data,rowNode:e})&&window.setTimeout(function(){return e.setExpanded(!0)},0)}},kd([E.Autowired("valueService")],n.prototype,"valueService",void 0),kd([E.Autowired("columnModel")],n.prototype,"columnModel",void 0),kd([E.Autowired("ssrmNodeManager")],n.prototype,"nodeManager",void 0),kd([E.Autowired("beans")],n.prototype,"beans",void 0),kd([E.PostConstruct],n.prototype,"postConstruct",null),kd([E.Bean("ssrmBlockUtils")],n)}(E.BeanStub),ax=function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);return u>3&&c&&Object.defineProperty(n,e,c),c},c0=function(){function h(){this.rowNodes={}}return h.prototype.addRowNode=function(n){var e=n.id;this.rowNodes[e]&&(console.warn("AG Grid: duplicate node id "+n.id),console.warn("first instance",this.rowNodes[e].data),console.warn("second instance",n.data)),this.rowNodes[e]=n},h.prototype.removeNode=function(n){var e=n.id;this.rowNodes[e]&&(this.rowNodes[e]=void 0)},h.prototype.clear=function(){this.rowNodes={}},ax([E.PreDestroy],h.prototype,"clear",null),ax([E.Bean("ssrmNodeManager")],h)}(),sx=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Qg=function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);return u>3&&c&&Object.defineProperty(n,e,c),c},DR=function(h){function n(){var e=null!==h&&h.apply(this,arguments)||this;return e.asyncTransactions=[],e}return sx(n,h),n.prototype.postConstruct=function(){this.gridOptionsWrapper.isRowModelServerSide()},n.prototype.applyTransactionAsync=function(e,o){null==this.asyncTransactionsTimeout&&this.scheduleExecuteAsync(),this.asyncTransactions.push({transaction:e,callback:o})},n.prototype.scheduleExecuteAsync=function(){var e=this,o=this.gridOptionsWrapper.getAsyncTransactionWaitMillis();this.asyncTransactionsTimeout=window.setTimeout(function(){e.executeAsyncTransactions()},o)},n.prototype.executeAsyncTransactions=function(){var e=this;if(this.asyncTransactions){var o=[],u=[],c=[],m=!1;if(this.asyncTransactions.forEach(function(w){var D;e.serverSideRowModel.executeOnStore(w.transaction.route,function(P){D=P.applyTransaction(w.transaction)}),null==D&&(D={status:E.ServerSideTransactionResultStatus.StoreNotFound}),u.push(D),D.status==E.ServerSideTransactionResultStatus.StoreLoading?c.push(w):(w.callback&&o.push(function(){return w.callback(D)}),D.status===E.ServerSideTransactionResultStatus.Applied&&(m=!0))}),o.length>0&&window.setTimeout(function(){o.forEach(function(w){return w()})},0),this.asyncTransactionsTimeout=void 0,this.asyncTransactions=c,m&&(this.valueCache.onDataChanged(),this.eventService.dispatchEvent({type:E.Events.EVENT_STORE_UPDATED})),u.length>0){var y={api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),type:E.Events.EVENT_ASYNC_TRANSACTIONS_FLUSHED,results:u};this.eventService.dispatchEvent(y)}}},n.prototype.flushAsyncTransactions=function(){null!=this.asyncTransactionsTimeout&&clearTimeout(this.asyncTransactionsTimeout),this.executeAsyncTransactions()},n.prototype.applyTransaction=function(e){var o;return this.serverSideRowModel.executeOnStore(e.route,function(u){o=u.applyTransaction(e)}),o?(this.valueCache.onDataChanged(),this.eventService.dispatchEvent({type:E.Events.EVENT_STORE_UPDATED}),o):{status:E.ServerSideTransactionResultStatus.StoreNotFound}},Qg([E.Autowired("rowNodeBlockLoader")],n.prototype,"rowNodeBlockLoader",void 0),Qg([E.Autowired("valueCache")],n.prototype,"valueCache",void 0),Qg([E.Autowired("rowModel")],n.prototype,"serverSideRowModel",void 0),Qg([E.PostConstruct],n.prototype,"postConstruct",null),Qg([E.Bean("ssrmTransactionManager")],n)}(E.BeanStub),d0=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Zg=function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);return u>3&&c&&Object.defineProperty(n,e,c),c},OR=function(h){function n(){return null!==h&&h.apply(this,arguments)||this}return d0(n,h),n.prototype.postConstruct=function(){!this.gridOptionsWrapper.isRowModelServerSide()||this.addManagedListener(this.eventService,E.Events.EVENT_ROW_GROUP_OPENED,this.onRowGroupOpened.bind(this))},n.prototype.onRowGroupOpened=function(e){var o=e.node;if(o.expanded){if(o.master)this.createDetailNode(o);else if(E._.missing(o.childStore)){var u=this.serverSideRowModel.getParams();o.childStore=this.createBean(this.storeFactory.createStore(u,o))}}else this.gridOptionsWrapper.isPurgeClosedRowNodes()&&E._.exists(o.childStore)&&(o.childStore=this.destroyBean(o.childStore));this.eventService.dispatchEvent({type:E.Events.EVENT_STORE_UPDATED})},n.prototype.createDetailNode=function(e){if(E._.exists(e.detailNode))return e.detailNode;var o=new E.RowNode(this.beans);o.detail=!0,o.selectable=!1,o.parent=e,E._.exists(e.id)&&(o.id="detail_"+e.id),o.data=e.data,o.level=e.level+1;var c=this.gridOptionsWrapper.getRowHeightForNode(o).height;return o.rowHeight=c||200,e.detailNode=o,o},Zg([E.Autowired("rowModel")],n.prototype,"serverSideRowModel",void 0),Zg([E.Autowired("ssrmStoreFactory")],n.prototype,"storeFactory",void 0),Zg([E.Autowired("beans")],n.prototype,"beans",void 0),Zg([E.PostConstruct],n.prototype,"postConstruct",null),Zg([E.Bean("ssrmExpandListener")],n)}(E.BeanStub),xR=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Gd=function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);return u>3&&c&&Object.defineProperty(n,e,c),c},sl=function(h){function n(){return null!==h&&h.apply(this,arguments)||this}return xR(n,h),n.prototype.postConstruct=function(){!this.gridOptionsWrapper.isRowModelServerSide()||this.addManagedListener(this.eventService,E.Events.EVENT_SORT_CHANGED,this.onSortChanged.bind(this))},n.prototype.extractSortModel=function(){var e=this.sortController.getSortModel();return this.gridOptionsWrapper.isTreeData()||(this.replaceAutoGroupColumnWithActualRowGroupColumns(e),this.removeMultiColumnPrefixOnColumnIds(e)),e},n.prototype.removeMultiColumnPrefixOnColumnIds=function(e){if(this.gridOptionsWrapper.isGroupMultiAutoColumn())for(var o=E.Constants.GROUP_AUTO_COLUMN_ID+"-",u=0;u<e.length;++u)e[u].colId.indexOf(o)>-1&&(e[u].colId=e[u].colId.substr(o.length))},n.prototype.replaceAutoGroupColumnWithActualRowGroupColumns=function(e){var o=e.find(function(w){return w.colId==E.Constants.GROUP_AUTO_COLUMN_ID});if(o){var u=e.indexOf(o);E._.removeFromArray(e,o);var y=this.columnModel.getRowGroupColumns().filter(function(w){return 0==e.filter(function(D){return D.colId===w.getColId()}).length}).map(function(w){return{colId:w.getId(),sort:o.sort}});E._.insertArrayIntoArray(e,y,u)}},n.prototype.onSortChanged=function(){var e=this.serverSideRowModel.getParams();if(e){var o=this.extractSortModel(),c=this.findChangedColumnsInSort(o,e.sortModel),m=this.listenerUtils.isSortingWithValueColumn(c),y=this.listenerUtils.isSortingWithSecondaryColumn(c),w=this.gridOptionsWrapper.isServerSideSortingAlwaysResets();this.serverSideRowModel.refreshAfterSort(o,{valueColChanged:m,secondaryColChanged:y,alwaysReset:w,changedColumns:c})}},n.prototype.findChangedColumnsInSort=function(e,o){var u=[];return[e,o].forEach(function(y){if(y){var w=y.map(function(D){return D.colId});u=u.concat(w)}}),u.filter(function(y){var w=o.find(function(x){return x.colId===y}),D=e.find(function(x){return x.colId===y});return function(y,w){return(y?y.sort:null)!==(w?w.sort:null)}(w,D)||function(y,w){return(y?o.indexOf(y):-1)!==(w?e.indexOf(w):-1)}(w,D)})},Gd([E.Autowired("sortController")],n.prototype,"sortController",void 0),Gd([E.Autowired("columnModel")],n.prototype,"columnModel",void 0),Gd([E.Autowired("rowModel")],n.prototype,"serverSideRowModel",void 0),Gd([E.Autowired("ssrmListenerUtils")],n.prototype,"listenerUtils",void 0),Gd([E.PostConstruct],n.prototype,"postConstruct",null),Gd([E.Bean("ssrmSortService")],n)}(E.BeanStub),AR=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),a_=function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);return u>3&&c&&Object.defineProperty(n,e,c),c},TR=function(h){function n(){return null!==h&&h.apply(this,arguments)||this}return AR(n,h),n.prototype.postConstruct=function(){!this.gridOptionsWrapper.isRowModelServerSide()||this.addManagedListener(this.eventService,E.Events.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this))},n.prototype.onFilterChanged=function(){var e=this.serverSideRowModel.getParams();if(e){var o=this.filterManager.getFilterModel(),c=this.findChangedColumns(o,e?e.filterModel:{}),m=this.listenerUtils.isSortingWithValueColumn(c),y=this.listenerUtils.isSortingWithSecondaryColumn(c),w=this.gridOptionsWrapper.isServerSideFilteringAlwaysResets();this.serverSideRowModel.refreshAfterFilter(o,{valueColChanged:m,secondaryColChanged:y,alwaysReset:w,changedColumns:c})}},n.prototype.findChangedColumns=function(e,o){var u={};Object.keys(e).forEach(function(m){return u[m]=!0}),Object.keys(o).forEach(function(m){return u[m]=!0});var c=[];return Object.keys(u).forEach(function(m){JSON.stringify(e[m])!=JSON.stringify(o[m])&&c.push(m)}),c},a_([E.Autowired("rowModel")],n.prototype,"serverSideRowModel",void 0),a_([E.Autowired("filterManager")],n.prototype,"filterManager",void 0),a_([E.Autowired("ssrmListenerUtils")],n.prototype,"listenerUtils",void 0),a_([E.PostConstruct],n.prototype,"postConstruct",null),a_([E.Bean("ssrmFilterListener")],n)}(E.BeanStub),lx=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),xh=function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);return u>3&&c&&Object.defineProperty(n,e,c),c},RR=function(h,n){return function(e,o){n(e,o,h)}},p0=function(h){var n="function"==typeof Symbol&&Symbol.iterator,e=n&&h[n],o=0;if(e)return e.call(h);if(h&&"number"==typeof h.length)return{next:function(){return h&&o>=h.length&&(h=void 0),{value:h&&h[o++],done:!h}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},ux=function(h){function n(e,o,u,c,m){var y=h.call(this,e)||this;return y.ssrmParams=u,y.storeParams=c,y.parentRowNode=o,y.startRow=e*c.cacheBlockSize,y.parentStore=m,y.level=o.level+1,y.groupLevel=u.rowGroupCols?y.level<u.rowGroupCols.length:void 0,y.leafGroup=!!u.rowGroupCols&&y.level===u.rowGroupCols.length-1,y}return lx(n,h),n.prototype.postConstruct=function(){this.usingTreeData=this.gridOptionsWrapper.isTreeData(),!this.usingTreeData&&this.groupLevel&&(this.groupField=this.ssrmParams.rowGroupCols[this.level].field,this.rowGroupColumn=this.columnModel.getRowGroupColumns()[this.level]),this.nodeIdPrefix=this.blockUtils.createNodeIdPrefix(this.parentRowNode),this.setData([])},n.prototype.isDisplayIndexInBlock=function(e){return e>=this.displayIndexStart&&e<this.displayIndexEnd},n.prototype.isBlockBefore=function(e){return e>=this.displayIndexEnd},n.prototype.getDisplayIndexStart=function(){return this.displayIndexStart},n.prototype.getDisplayIndexEnd=function(){return this.displayIndexEnd},n.prototype.getBlockHeightPx=function(){return this.blockHeightPx},n.prototype.getBlockTopPx=function(){return this.blockTopPx},n.prototype.isGroupLevel=function(){return this.groupLevel},n.prototype.getGroupField=function(){return this.groupField},n.prototype.prefixId=function(e){return null!=this.nodeIdPrefix?this.nodeIdPrefix+"-"+e:e.toString()},n.prototype.getBlockStateJson=function(){return{id:this.prefixId(this.getId()),state:{blockNumber:this.getId(),startRow:this.startRow,endRow:this.startRow+this.storeParams.cacheBlockSize,pageStatus:this.getState()}}},n.prototype.isAnyNodeOpen=function(){return this.rowNodes.filter(function(o){return o.expanded}).length>0},n.prototype.forEachNode=function(e,o,u,c){void 0===o&&(o=new E.NumberSequence),this.rowNodes.forEach(function(m){if(e(m,o.next()),u&&m.childStore){var y=m.childStore;c?y.forEachNodeDeepAfterFilterAndSort(e,o):y.forEachNodeDeep(e,o)}})},n.prototype.forEachNodeDeep=function(e,o){this.forEachNode(e,o,!0,!1)},n.prototype.forEachNodeAfterFilterAndSort=function(e,o){this.forEachNode(e,o,!0,!0)},n.prototype.forEachNodeShallow=function(e,o){this.forEachNode(e,o,!1,!1)},n.prototype.getLastAccessed=function(){return this.lastAccessed},n.prototype.getRowUsingLocalIndex=function(e){return this.rowNodes[e-this.startRow]},n.prototype.touchLastAccessed=function(){this.lastAccessed=this.ssrmParams.lastAccessedSequence.next()},n.prototype.processServerFail=function(){this.parentStore.onBlockLoadFailed(this)},n.prototype.retryLoads=function(){this.getState()===E.RowNodeBlock.STATE_FAILED&&(this.setStateWaitingToLoad(),this.rowNodeBlockLoader.checkBlockToLoad(),this.setData()),this.forEachNodeShallow(function(e){e.childStore&&e.childStore.retryLoads()})},n.prototype.processServerResult=function(e){this.parentStore.onBlockLoaded(this,e)},n.prototype.setData=function(e,o){void 0===e&&(e=[]),void 0===o&&(o=!1),this.destroyRowNodes();for(var u=this.parentStore.getRowCount(),c=this.getId()*this.storeParams.cacheBlockSize,y=Math.min(c+this.storeParams.cacheBlockSize,u)-c,D=this.columnModel.isAutoRowHeightActive()?this.parentStore.getCachedBlockHeight(this.getId()):void 0,x=D?Math.round(D/y):void 0,P=0;P<y;P++){var R=this.blockUtils.createRowNode({field:this.groupField,group:this.groupLevel,leafGroup:this.leafGroup,level:this.level,parent:this.parentRowNode,rowGroupColumn:this.rowGroupColumn,rowHeight:x});if(P<e.length){var N=e[P],V=this.prefixId(this.startRow+P);this.blockUtils.setDataIntoRowNode(R,N,V,x),this.parentStore.removeDuplicateNode(R.id),this.nodeManager.addRowNode(R),this.allNodesMap[R.id]=R,this.blockUtils.checkOpenByDefault(R)}this.rowNodes.push(R),o&&(R.failedLoad=!0)}},n.prototype.removeDuplicateNode=function(e){var o=this.allNodesMap[e];if(o){this.blockUtils.destroyRowNode(o);var u=this.rowNodes.indexOf(o),c=this.blockUtils.createRowNode({field:this.groupField,group:this.groupLevel,leafGroup:this.leafGroup,level:this.level,parent:this.parentRowNode,rowGroupColumn:this.rowGroupColumn});this.rowNodes[u]=c}},n.prototype.refresh=function(){this.getState()!==E.RowNodeBlock.STATE_WAITING_TO_LOAD&&this.setStateWaitingToLoad()},n.prototype.destroyRowNodes=function(){this.blockUtils.destroyRowNodes(this.rowNodes),this.rowNodes=[],this.allNodesMap={}},n.prototype.setBeans=function(e){this.logger=e.create("ServerSideBlock")},n.prototype.getRowUsingDisplayIndex=function(e){return this.touchLastAccessed(),this.blockUtils.binarySearchForDisplayIndex(e,this.rowNodes)},n.prototype.loadFromDatasource=function(){this.cacheUtils.loadFromDatasource({startRow:this.startRow,endRow:this.startRow+this.storeParams.cacheBlockSize,parentNode:this.parentRowNode,storeParams:this.ssrmParams,successCallback:this.pageLoaded.bind(this,this.getVersion()),success:this.success.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),fail:this.pageLoadFailed.bind(this,this.getVersion())})},n.prototype.isPixelInRange=function(e){return e>=this.blockTopPx&&e<this.blockTopPx+this.blockHeightPx},n.prototype.getRowBounds=function(e){var o,u,c;this.touchLastAccessed();try{for(var m=p0(this.rowNodes),y=m.next();!y.done&&null==(c=this.blockUtils.extractRowBounds(y.value,e));y=m.next());}catch(D){o={error:D}}finally{try{y&&!y.done&&(u=m.return)&&u.call(m)}finally{if(o)throw o.error}}return c},n.prototype.getRowIndexAtPixel=function(e){var o,u;this.touchLastAccessed();var c=null;try{for(var m=p0(this.rowNodes),y=m.next();!y.done&&null==(c=this.blockUtils.getIndexAtPixel(y.value,e));y=m.next());}catch(D){o={error:D}}finally{try{y&&!y.done&&(u=m.return)&&u.call(m)}finally{if(o)throw o.error}}return c},n.prototype.clearDisplayIndexes=function(){var e=this;this.displayIndexEnd=void 0,this.displayIndexStart=void 0,this.rowNodes.forEach(function(o){return e.blockUtils.clearDisplayIndex(o)})},n.prototype.setDisplayIndexes=function(e,o){var u=this;this.displayIndexStart=e.peek(),this.blockTopPx=o.value,this.rowNodes.forEach(function(c){return u.blockUtils.setDisplayIndex(c,e,o)}),this.displayIndexEnd=e.peek(),this.blockHeightPx=o.value-this.blockTopPx},xh([E.Autowired("columnModel")],n.prototype,"columnModel",void 0),xh([E.Autowired("ssrmCacheUtils")],n.prototype,"cacheUtils",void 0),xh([E.Autowired("ssrmBlockUtils")],n.prototype,"blockUtils",void 0),xh([E.Autowired("ssrmNodeManager")],n.prototype,"nodeManager",void 0),xh([E.Autowired("rowNodeBlockLoader")],n.prototype,"rowNodeBlockLoader",void 0),xh([E.PostConstruct],n.prototype,"postConstruct",null),xh([E.PreDestroy],n.prototype,"destroyRowNodes",null),xh([RR(0,E.Qualifier("loggerFactory"))],n.prototype,"setBeans",null),n}(E.RowNodeBlock),hF=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),dc=function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);return u>3&&c&&Object.defineProperty(n,e,c),c},cx=function(h,n){return function(e,o){n(e,o,h)}},Li=(()=>(function(h){h[h.FOUND=0]="FOUND",h[h.CONTINUE_FIND=1]="CONTINUE_FIND",h[h.BREAK_FIND=2]="BREAK_FIND"}(Li||(Li={})),Li))(),PR=function(h){function n(e,o,u){var c=h.call(this)||this;return c.blocks={},c.blockHeights={},c.lastRowIndexKnown=!1,c.displayIndexStart=0,c.displayIndexEnd=0,c.cacheTopPixel=0,c.info={},c.ssrmParams=e,c.storeParams=o,c.parentRowNode=u,c.rowCount=n.INITIAL_ROW_COUNT,c}return hF(n,h),n.prototype.postConstruct=function(){this.defaultRowHeight=this.gridOptionsWrapper.getRowHeightAsNumber()},n.prototype.destroyAllBlocks=function(){var e=this;this.getBlocksInOrder().forEach(function(o){return e.destroyBlock(o)})},n.prototype.setBeans=function(e){this.logger=e.create("ServerSideCache")},n.prototype.getRowCount=function(){return this.rowCount},n.prototype.isLastRowIndexKnown=function(){return this.lastRowIndexKnown},n.prototype.retryLoads=function(){this.getBlocksInOrder().forEach(function(e){return e.retryLoads()})},n.prototype.onBlockLoadFailed=function(e){e.setData([],!0),this.fireCacheUpdatedEvent()},n.prototype.onBlockLoaded=function(e,o){this.logger.log("onPageLoaded: page = "+e.getId()+", lastRow = "+o.rowCount),o.storeInfo&&Object.assign(this.info,o.storeInfo),o.rowData||E._.doOnce(function(){return console.warn('AG Grid: "params.rowData" is missing from Server-Side Row Model success() callback. Please use the "rowData" attribute. If no data is returned, set an empty list.',o)},"InfiniteStore.noData");var c=null!=o.rowCount&&o.rowCount>=0?o.rowCount:void 0;!this.isAlive()||(this.checkRowCount(e,c),e.setData(o.rowData),this.destroyAllBlocksPastVirtualRowCount(),this.fireCacheUpdatedEvent())},n.prototype.purgeBlocksIfNeeded=function(e){var o=this,u=this.getBlocksInOrder().filter(function(D){return D!=e});u.sort(function(D,x){return x.getLastAccessed()-D.getLastAccessed()});var m=this.storeParams.maxBlocksInCache>0,y=m?this.storeParams.maxBlocksInCache-1:null,w=n.MAX_EMPTY_BLOCKS_TO_KEEP-1;u.forEach(function(D,x){if(D.getState()===ux.STATE_WAITING_TO_LOAD&&x>=w||m&&x>=y){if(D.isAnyNodeOpen()||o.isBlockCurrentlyDisplayed(D)||o.isBlockFocused(D))return;o.destroyBlock(D)}})},n.prototype.isBlockFocused=function(e){var o=this.focusService.getFocusCellToUseAfterRefresh();if(!o||null!=o.rowPinned)return!1;var u=e.getDisplayIndexStart(),c=e.getDisplayIndexEnd();return null!=c&&null!=u&&o.rowIndex>=u&&o.rowIndex<c},n.prototype.isBlockCurrentlyDisplayed=function(e){var o=e.getDisplayIndexStart(),u=e.getDisplayIndexEnd()-1;return this.rowRenderer.isRangeInRenderedViewport(o,u)},n.prototype.removeDuplicateNode=function(e){this.getBlocksInOrder().forEach(function(o){return o.removeDuplicateNode(e)})},n.prototype.checkRowCount=function(e,o){if("number"==typeof o&&o>=0)this.rowCount=o,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){var c=(e.getId()+1)*this.storeParams.cacheBlockSize+n.OVERFLOW_SIZE;this.rowCount<c&&(this.rowCount=c)}},n.prototype.forEachNodeDeep=function(e,o){void 0===o&&(o=new E.NumberSequence),this.getBlocksInOrder().forEach(function(u){return u.forEachNodeDeep(e,o)})},n.prototype.forEachNodeDeepAfterFilterAndSort=function(e,o){void 0===o&&(o=new E.NumberSequence),this.getBlocksInOrder().forEach(function(u){return u.forEachNodeAfterFilterAndSort(e,o)})},n.prototype.getBlocksInOrder=function(){return E._.getAllValuesInObject(this.blocks).sort(function(u,c){return u.getId()-c.getId()})},n.prototype.destroyBlock=function(e){delete this.blocks[e.getId()],this.destroyBean(e),this.rowNodeBlockLoader.removeBlock(e)},n.prototype.fireCacheUpdatedEvent=function(){this.eventService.dispatchEvent({type:E.Events.EVENT_STORE_UPDATED})},n.prototype.destroyAllBlocksPastVirtualRowCount=function(){var e=this,o=[];this.getBlocksInOrder().forEach(function(u){u.getId()*e.storeParams.cacheBlockSize>=e.rowCount&&o.push(u)}),o.length>0&&o.forEach(function(u){return e.destroyBlock(u)})},n.prototype.refreshStore=function(e){0==this.getRowCount()||e?this.resetStore():this.refreshBlocks(),this.fireCacheUpdatedEvent()},n.prototype.refreshBlocks=function(){this.getBlocksInOrder().forEach(function(e){e.refresh()}),this.lastRowIndexKnown=!1,this.rowNodeBlockLoader.checkBlockToLoad()},n.prototype.resetStore=function(){this.destroyAllBlocks(),this.lastRowIndexKnown=!1,(this.columnModel.isAutoRowHeightActive||0===this.rowCount)&&(this.rowCount=n.INITIAL_ROW_COUNT)},n.prototype.getRowNodesInRange=function(e,o){var u=[],c=-1,m=!1;E._.missing(e)&&(m=!0);var y=!1;return this.getBlocksInOrder().forEach(function(D){if(!y){if(m&&c+1!==D.getId())return void(y=!0);c=D.getId(),D.forEachNodeShallow(function(x){var P=x===e||x===o;(m||P)&&u.push(x),P&&(m=!m)})}}),y||m?[]:u},n.prototype.findBlockAndExecute=function(e,o,u){var w,c=!1,m=!1,y=null;return this.getBlocksInOrder().forEach(function(D){if(!c&&!m){var x=e(D);x==Li.FOUND?(w=o(D),c=!0):x==Li.CONTINUE_FIND?y=D:x==Li.BREAK_FIND&&(m=!0)}}),c||(w=u(y)),w},n.prototype.getRowBounds=function(e){var o=this;return this.findBlockAndExecute(function(y){return y.isDisplayIndexInBlock(e)?Li.FOUND:y.isBlockBefore(e)?Li.CONTINUE_FIND:Li.BREAK_FIND},function(y){return y.getRowBounds(e)},function(y){var w,D;return null!==y?(w=y.getBlockTopPx()+y.getBlockHeightPx(),D=y.getDisplayIndexEnd()):(w=o.cacheTopPixel,D=o.displayIndexStart),{rowHeight:o.defaultRowHeight,rowTop:w+(e-D)*o.defaultRowHeight}})},n.prototype.getRowIndexAtPixel=function(e){var o=this,y=this.findBlockAndExecute(function(D){return D.isPixelInRange(e)?Li.FOUND:D.getBlockTopPx()<e?Li.CONTINUE_FIND:Li.BREAK_FIND},function(D){return D.getRowIndexAtPixel(e)},function(D){var x,P;D?(x=D.getBlockTopPx()+D.getBlockHeightPx(),P=D.getDisplayIndexEnd()):(x=o.cacheTopPixel,P=o.displayIndexStart);for(var R=o.storeParams.cacheBlockSize,I=o.defaultRowHeight*R,N=D?D.getId()+1:0,V=function(ie){var ce=o.getCachedBlockHeight(ie),se=null!=ce?ce:I;return{height:se,pixelInBlock:e<=se+x}},z=V(N);!z.pixelInBlock;)x+=z.height,P+=R,z=V(++N);return P+(0|Math.floor((e-x)/(z.height/R)))}),w=this.getDisplayIndexEnd()-1;return Math.min(y,w)},n.prototype.clearDisplayIndexes=function(){this.displayIndexStart=void 0,this.displayIndexEnd=void 0,this.getBlocksInOrder().forEach(function(e){return e.clearDisplayIndexes()})},n.prototype.setDisplayIndexes=function(e,o){var u=this;this.displayIndexStart=e.peek(),this.cacheTopPixel=o.value;var c=-1,m=this.storeParams.cacheBlockSize;this.getBlocksInOrder().forEach(function(x){var P=x.getId(),R=P-c-1,I=R*m;I>0&&e.skip(I);for(var N=1;N<=R;N++){var V=P-N;E._.exists(u.blockHeights[V])?o.value+=u.blockHeights[V]:o.value+=m*u.defaultRowHeight}c=P,x.setDisplayIndexes(e,o),u.blockHeights[P]=x.getBlockHeightPx()});var y=(c+1)*m-1,D=this.getRowCount()-y-1;D>0&&(e.skip(D),o.value+=D*this.defaultRowHeight),this.displayIndexEnd=e.peek(),this.cacheHeightPixels=o.value-this.cacheTopPixel},n.prototype.getRowUsingDisplayIndex=function(e,o){var u=this;if(void 0===o&&(o=!1),this.isDisplayIndexInStore(e))return this.findBlockAndExecute(function(w){return w.isDisplayIndexInBlock(e)?Li.FOUND:w.isBlockBefore(e)?Li.CONTINUE_FIND:Li.BREAK_FIND},function(w){return w.getRowUsingDisplayIndex(e)},function(w){if(!o){var D,x,P,R=u.storeParams.cacheBlockSize;if(w)for(D=w.getId()+1,x=w.getDisplayIndexEnd(),P=w.getBlockHeightPx()+w.getBlockTopPx();!(e>=x&&e<x+R);){x+=R;var N=u.blockHeights[D];E._.exists(N)?P+=N:P+=u.defaultRowHeight*R,D++}else D=Math.floor((e-u.displayIndexStart)/R),x=u.displayIndexStart+D*R,P=u.cacheTopPixel+D*R*u.defaultRowHeight;return u.logger.log("block missing, rowIndex = "+e+", creating #"+D+", displayIndexStart = "+x),u.createBlock(D,x,{value:P}).getRowUsingDisplayIndex(e)}})},n.prototype.getTopLevelRowDisplayedIndex=function(e){var o=this.storeParams.cacheBlockSize,u=Math.floor(e/o);return this.findBlockAndExecute(function(w){return w.getId()===u?Li.FOUND:w.getId()<u?Li.CONTINUE_FIND:Li.BREAK_FIND},function(w){return w.getRowUsingLocalIndex(e).rowIndex},function(w){if(!w)return e;var D=o*(w.getId()+1)-1,x=w.getRowUsingLocalIndex(D);return(x.expanded&&x.childStore?x.childStore.getDisplayIndexEnd()-1:x.expanded&&x.detailNode?x.detailNode.rowIndex:x.rowIndex)+(e-D)})},n.prototype.addStoreStates=function(e){e.push({type:"partial",route:this.storeUtils.createGroupKeys(this.parentRowNode),rowCount:this.rowCount,lastRowIndexKnown:this.lastRowIndexKnown,info:this.info,maxBlocksInCache:this.storeParams.maxBlocksInCache,cacheBlockSize:this.storeParams.cacheBlockSize}),this.forEachChildStoreShallow(function(o){return o.addStoreStates(e)})},n.prototype.getCachedBlockHeight=function(e){return this.blockHeights[e]},n.prototype.createBlock=function(e,o,u){var c=this.createBean(new ux(e,this.parentRowNode,this.ssrmParams,this.storeParams,this));return c.setDisplayIndexes(new E.NumberSequence(o),u),this.blocks[c.getId()]=c,this.purgeBlocksIfNeeded(c),this.rowNodeBlockLoader.addBlock(c),c},n.prototype.getDisplayIndexEnd=function(){return this.displayIndexEnd},n.prototype.isDisplayIndexInStore=function(e){return 0!==this.getRowCount()&&e>=this.displayIndexStart&&e<this.displayIndexEnd},n.prototype.applyTransaction=function(e){return{status:E.ServerSideTransactionResultStatus.StoreWrongType}},n.prototype.getChildStore=function(e){var o=this;return this.storeUtils.getChildStore(e,this,function(c){var m=null;return o.getBlocksInOrder().forEach(function(y){y.forEachNodeShallow(function(w){w.key===c&&(m=w)},new E.NumberSequence)}),m})},n.prototype.isPixelInRange=function(e){return 0!==this.getRowCount()&&e>=this.cacheTopPixel&&e<this.cacheTopPixel+this.cacheHeightPixels},n.prototype.refreshAfterFilter=function(e){this.resetStore()},n.prototype.refreshAfterSort=function(e){this.storeUtils.isServerRefreshNeeded(this.parentRowNode,this.ssrmParams.rowGroupCols,e)?this.resetStore():this.forEachChildStoreShallow(function(o){return o.refreshAfterSort(e)})},n.prototype.forEachChildStoreShallow=function(e){this.getBlocksInOrder().forEach(function(o){o.isGroupLevel()&&o.forEachNodeShallow(function(c){var m=c.childStore;m&&e(m)},new E.NumberSequence)})},n.MAX_EMPTY_BLOCKS_TO_KEEP=2,n.INITIAL_ROW_COUNT=1,n.OVERFLOW_SIZE=1,dc([E.Autowired("rowRenderer")],n.prototype,"rowRenderer",void 0),dc([E.Autowired("rowNodeBlockLoader")],n.prototype,"rowNodeBlockLoader",void 0),dc([E.Autowired("ssrmCacheUtils")],n.prototype,"storeUtils",void 0),dc([E.Autowired("focusService")],n.prototype,"focusService",void 0),dc([E.Autowired("columnModel")],n.prototype,"columnModel",void 0),dc([E.PostConstruct],n.prototype,"postConstruct",null),dc([E.PreDestroy],n.prototype,"destroyAllBlocks",null),dc([cx(0,E.Qualifier("loggerFactory"))],n.prototype,"setBeans",null),n}(E.BeanStub),dx=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Wo=function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);return u>3&&c&&Object.defineProperty(n,e,c),c},h0=function(h){function n(e,o,u){var c=h.call(this,0)||this;return c.nodeIdSequence=new E.NumberSequence,c.info={},c.ssrmParams=e,c.parentRowNode=u,c.level=u.level+1,c.groupLevel=e.rowGroupCols?c.level<e.rowGroupCols.length:void 0,c.leafGroup=!!e.rowGroupCols&&c.level===e.rowGroupCols.length-1,c}return dx(n,h),n.prototype.postConstruct=function(){var e=this;this.usingTreeData=this.gridOptionsWrapper.isTreeData(),this.nodeIdPrefix=this.blockUtils.createNodeIdPrefix(this.parentRowNode),!this.usingTreeData&&this.groupLevel&&(this.groupField=this.ssrmParams.rowGroupCols[this.level].field,this.rowGroupColumn=this.columnModel.getRowGroupColumns()[this.level]),this.initialiseRowNodes(),this.rowNodeBlockLoader.addBlock(this),this.addDestroyFunc(function(){return e.rowNodeBlockLoader.removeBlock(e)})},n.prototype.destroyRowNodes=function(){this.blockUtils.destroyRowNodes(this.allRowNodes),this.allRowNodes=[],this.nodesAfterSort=[],this.nodesAfterFilter=[],this.allNodesMap={}},n.prototype.initialiseRowNodes=function(e,o){void 0===e&&(e=1),void 0===o&&(o=!1),this.destroyRowNodes();for(var u=0;u<e;u++){var c=this.blockUtils.createRowNode({field:this.groupField,group:this.groupLevel,leafGroup:this.leafGroup,level:this.level,parent:this.parentRowNode,rowGroupColumn:this.rowGroupColumn});o&&(c.failedLoad=!0),this.allRowNodes.push(c),this.nodesAfterFilter.push(c),this.nodesAfterSort.push(c)}},n.prototype.getBlockStateJson=function(){return{id:this.nodeIdPrefix?this.nodeIdPrefix:"",state:this.getState()}},n.prototype.loadFromDatasource=function(){this.storeUtils.loadFromDatasource({startRow:void 0,endRow:void 0,parentNode:this.parentRowNode,storeParams:this.ssrmParams,successCallback:this.pageLoaded.bind(this,this.getVersion()),success:this.success.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),fail:this.pageLoadFailed.bind(this,this.getVersion())})},n.prototype.getStartRow=function(){return 0},n.prototype.getEndRow=function(){return this.nodesAfterSort.length},n.prototype.createDataNode=function(e,o){var u=this.blockUtils.createRowNode({field:this.groupField,group:this.groupLevel,leafGroup:this.leafGroup,level:this.level,parent:this.parentRowNode,rowGroupColumn:this.rowGroupColumn});null!=o?E._.insertIntoArray(this.allRowNodes,u,o):this.allRowNodes.push(u);var c=this.prefixId(this.nodeIdSequence.next());return this.blockUtils.setDataIntoRowNode(u,e,c,void 0),this.nodeManager.addRowNode(u),this.blockUtils.checkOpenByDefault(u),this.allNodesMap[u.id]=u,u},n.prototype.prefixId=function(e){return this.nodeIdPrefix?this.nodeIdPrefix+"-"+e:e.toString()},n.prototype.processServerFail=function(){this.initialiseRowNodes(1,!0),this.fireStoreUpdatedEvent(),this.flushAsyncTransactions()},n.prototype.processServerResult=function(e){if(this.isAlive()){e.storeInfo&&Object.assign(this.info,e.storeInfo);var o=this.allRowNodes.length>0?this.allNodesMap:void 0;this.allRowNodes=[],this.nodesAfterSort=[],this.nodesAfterFilter=[],this.allNodesMap={},e.rowData||E._.doOnce(function(){return console.warn('AG Grid: "params.data" is missing from Server-Side Row Model success() callback. Please use the "data" attribute. If no data is returned, set an empty list.',e)},"FullStore.noData"),this.createOrRecycleNodes(o,e.rowData),o&&this.blockUtils.destroyRowNodes(E._.getAllValuesInObject(o)),this.filterAndSortNodes(),this.fireStoreUpdatedEvent(),this.flushAsyncTransactions()}},n.prototype.createOrRecycleNodes=function(e,o){var u=this;o&&o.forEach(function(y){var w=function(y){if(e){var w=u.gridOptionsWrapper.getRowNodeIdFunc();if(w){var D=w(y),x=e[D];if(x)return delete e[D],x}}}(y);w?function(y,w){u.allNodesMap[y.id]=y,u.blockUtils.updateDataIntoRowNode(y,w),u.allRowNodes.push(y)}(w,y):u.createDataNode(y)})},n.prototype.flushAsyncTransactions=function(){var e=this;window.setTimeout(function(){return e.transactionManager.flushAsyncTransactions()},0)},n.prototype.filterAndSortNodes=function(){this.filterRowNodes(),this.sortRowNodes()},n.prototype.sortRowNodes=function(){var e=this.sortController.getSortOptions(),o=!e||0==e.length,u=this.gridOptionsWrapper.isServerSideSortingAlwaysResets();this.nodesAfterSort=o||u?this.nodesAfterFilter:this.rowNodeSorter.doFullSort(this.nodesAfterFilter,e)},n.prototype.filterRowNodes=function(){var e=this;this.nodesAfterFilter=this.gridOptionsWrapper.isServerSideFilteringAlwaysResets()||this.groupLevel?this.allRowNodes:this.allRowNodes.filter(function(m){return e.filterManager.doesRowPassFilter({rowNode:m})})},n.prototype.clearDisplayIndexes=function(){var e=this;this.displayIndexStart=void 0,this.displayIndexEnd=void 0,this.allRowNodes.forEach(function(o){return e.blockUtils.clearDisplayIndex(o)})},n.prototype.getDisplayIndexEnd=function(){return this.displayIndexEnd},n.prototype.isDisplayIndexInStore=function(e){return 0!==this.getRowCount()&&e>=this.displayIndexStart&&e<this.displayIndexEnd},n.prototype.setDisplayIndexes=function(e,o){var u=this;this.displayIndexStart=e.peek(),this.topPx=o.value;var c={};this.nodesAfterSort.forEach(function(m){u.blockUtils.setDisplayIndex(m,e,o),c[m.id]=!0}),this.allRowNodes.forEach(function(m){c[m.id]||u.blockUtils.clearDisplayIndex(m)}),this.displayIndexEnd=e.peek(),this.heightPx=o.value-this.topPx},n.prototype.forEachNodeDeep=function(e,o){void 0===o&&(o=new E.NumberSequence),this.allRowNodes.forEach(function(u){e(u,o.next());var c=u.childStore;c&&c.forEachNodeDeep(e,o)})},n.prototype.forEachNodeDeepAfterFilterAndSort=function(e,o){void 0===o&&(o=new E.NumberSequence),this.nodesAfterSort.forEach(function(u){e(u,o.next());var c=u.childStore;c&&c.forEachNodeDeepAfterFilterAndSort(e,o)})},n.prototype.getRowUsingDisplayIndex=function(e){if(this.isDisplayIndexInStore(e))return this.blockUtils.binarySearchForDisplayIndex(e,this.nodesAfterSort)},n.prototype.getRowBounds=function(e){for(var o=0;o<this.nodesAfterSort.length;o++){var c=this.blockUtils.extractRowBounds(this.nodesAfterSort[o],e);if(c)return c}return null},n.prototype.isPixelInRange=function(e){return e>=this.topPx&&e<this.topPx+this.heightPx},n.prototype.getRowIndexAtPixel=function(e){var o=this;if(e<=this.topPx)return this.nodesAfterSort[0].rowIndex;if(e>=this.topPx+this.heightPx){var y=this.nodesAfterSort[this.nodesAfterSort.length-1];if(e>=y.rowTop+y.rowHeight&&y.expanded){if(y.childStore&&y.childStore.getRowCount()>0)return y.childStore.getRowIndexAtPixel(e);if(y.detailNode)return y.detailNode.rowIndex}return y.rowIndex}var D=null;return this.nodesAfterSort.forEach(function(P){var R=o.blockUtils.getIndexAtPixel(P,e);null!=R&&(D=R)}),null==D?this.displayIndexEnd-1:D},n.prototype.getChildStore=function(e){var o=this;return this.storeUtils.getChildStore(e,this,function(u){return o.allRowNodes.find(function(m){return m.key===u})})},n.prototype.forEachChildStoreShallow=function(e){this.allRowNodes.forEach(function(o){var u=o.childStore;u&&e(u)})},n.prototype.refreshAfterFilter=function(e){e.alwaysReset||this.gridOptionsWrapper.isTreeData()?this.refreshStore(!0):(this.filterAndSortNodes(),this.forEachChildStoreShallow(function(o){return o.refreshAfterFilter(e)}))},n.prototype.refreshAfterSort=function(e){e.alwaysReset?this.refreshStore(!0):(this.sortRowNodes(),this.forEachChildStoreShallow(function(o){return o.refreshAfterSort(e)}))},n.prototype.applyTransaction=function(e){switch(this.getState()){case E.RowNodeBlock.STATE_FAILED:return{status:E.ServerSideTransactionResultStatus.StoreLoadingFailed};case E.RowNodeBlock.STATE_LOADING:return{status:E.ServerSideTransactionResultStatus.StoreLoading};case E.RowNodeBlock.STATE_WAITING_TO_LOAD:return{status:E.ServerSideTransactionResultStatus.StoreWaitingToLoad}}var o=this.gridOptionsWrapper.getIsApplyServerSideTransactionFunc();if(o&&!o({transaction:e,parentNode:this.parentRowNode,storeInfo:this.info}))return{status:E.ServerSideTransactionResultStatus.Cancelled};var m={status:E.ServerSideTransactionResultStatus.Applied,remove:[],update:[],add:[]},y=[];return this.executeAdd(e,m),this.executeRemove(e,m,y),this.executeUpdate(e,m,y),this.filterAndSortNodes(),this.updateSelection(y),m},n.prototype.updateSelection=function(e){if(e.length>0){e.forEach(function(c){c.setSelected(!1,!1,!0)});var u={type:E.Events.EVENT_SELECTION_CHANGED,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()};this.eventService.dispatchEvent(u)}},n.prototype.executeAdd=function(e,o){var u=this,c=e.add,m=e.addIndex;E._.missingOrEmpty(c)||("number"==typeof m&&m>=0?c.reverse().forEach(function(w){var D=u.createDataNode(w,m);o.add.push(D)}):c.forEach(function(w){var D=u.createDataNode(w);o.add.push(D)}))},n.prototype.executeRemove=function(e,o,u){var c=this,m=e.remove;if(null!=m){var y={};m.forEach(function(w){var D=c.lookupRowNode(w);!D||(D.isSelected()&&u.push(D),D.clearRowTopAndRowIndex(),y[D.id]=!0,delete c.allNodesMap[D.id],o.remove.push(D),c.nodeManager.removeNode(D))}),this.allRowNodes=this.allRowNodes.filter(function(w){return!y[w.id]})}},n.prototype.executeUpdate=function(e,o,u){var c=this,m=e.update;null!=m&&m.forEach(function(y){var w=c.lookupRowNode(y);!w||(w.updateData(y),!w.selectable&&w.isSelected()&&u.push(w),o.update.push(w))})},n.prototype.lookupRowNode=function(e){var u,o=this.gridOptionsWrapper.getRowNodeIdFunc();if(E._.exists(o)){var c=o(e);if(!(u=this.allNodesMap[c]))return console.error("AG Grid: could not find row id="+c+", data item was not found for this id"),null}else if(!(u=this.allRowNodes.find(function(m){return m.data===e})))return console.error("AG Grid: could not find data item as object was not found",e),null;return u},n.prototype.addStoreStates=function(e){e.push({type:"full",route:this.storeUtils.createGroupKeys(this.parentRowNode),rowCount:this.allRowNodes.length,info:this.info}),this.forEachChildStoreShallow(function(o){return o.addStoreStates(e)})},n.prototype.refreshStore=function(e){e&&this.initialiseRowNodes(this.nodesAfterSort?this.nodesAfterSort.length:1),this.scheduleLoad(),this.fireStoreUpdatedEvent()},n.prototype.retryLoads=function(){this.getState()===E.RowNodeBlock.STATE_FAILED&&(this.initialiseRowNodes(1),this.scheduleLoad()),this.forEachChildStoreShallow(function(e){return e.retryLoads()})},n.prototype.scheduleLoad=function(){this.setStateWaitingToLoad(),this.rowNodeBlockLoader.checkBlockToLoad()},n.prototype.fireStoreUpdatedEvent=function(){this.eventService.dispatchEvent({type:E.Events.EVENT_STORE_UPDATED})},n.prototype.getRowCount=function(){return this.nodesAfterSort.length},n.prototype.getTopLevelRowDisplayedIndex=function(e){return this.nodesAfterSort[e].rowIndex},n.prototype.isLastRowIndexKnown=function(){return this.getState()==E.RowNodeBlock.STATE_LOADED},n.prototype.getRowNodesInRange=function(e,o){var u=[],c=!1;return E._.missing(e)&&(c=!0),this.nodesAfterSort.forEach(function(y){var w=y===e||y===o;(c||w)&&u.push(y),w&&(c=!c)}),c?[]:u},Wo([E.Autowired("ssrmCacheUtils")],n.prototype,"storeUtils",void 0),Wo([E.Autowired("ssrmBlockUtils")],n.prototype,"blockUtils",void 0),Wo([E.Autowired("columnModel")],n.prototype,"columnModel",void 0),Wo([E.Autowired("rowNodeBlockLoader")],n.prototype,"rowNodeBlockLoader",void 0),Wo([E.Autowired("rowNodeSorter")],n.prototype,"rowNodeSorter",void 0),Wo([E.Autowired("sortController")],n.prototype,"sortController",void 0),Wo([E.Autowired("ssrmNodeManager")],n.prototype,"nodeManager",void 0),Wo([E.Autowired("filterManager")],n.prototype,"filterManager",void 0),Wo([E.Autowired("ssrmTransactionManager")],n.prototype,"transactionManager",void 0),Wo([E.PostConstruct],n.prototype,"postConstruct",null),Wo([E.PreDestroy],n.prototype,"destroyRowNodes",null),n}(E.RowNodeBlock),Zb=function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);return u>3&&c&&Object.defineProperty(n,e,c),c},MR=function(){function h(){}return h.prototype.createStore=function(n,e){var o=this.getStoreParams(n,e);return new("partial"===o.storeType?PR:h0)(n,o,e)},h.prototype.getStoreParams=function(n,e){var o=this.getLevelSpecificParams(e),u=this.getStoreType(o);return{storeType:u,cacheBlockSize:this.getBlockSize(u,o),maxBlocksInCache:this.getMaxBlocksInCache(u,n,o)}},h.prototype.getMaxBlocksInCache=function(n,e,o){if("full"!=n){var u=o&&null!=o.maxBlocksInCache?o.maxBlocksInCache:this.gridOptionsWrapper.getMaxBlocksInCache();if(null!=u&&u>=0)return e.dynamicRowHeight?void E._.doOnce(function(){return console.warn("AG Grid: Server Side Row Model does not support Dynamic Row Height and Cache Purging. Either a) remove getRowHeight() callback or b) remove maxBlocksInCache property. Purging has been disabled.")},"storeFactory.maxBlocksInCache.dynamicRowHeight"):this.columnModel.isAutoRowHeightActive()?void E._.doOnce(function(){return console.warn("AG Grid: Server Side Row Model does not support Auto Row Height and Cache Purging. Either a) remove colDef.autoHeight or b) remove maxBlocksInCache property. Purging has been disabled.")},"storeFactory.maxBlocksInCache.autoRowHeightActive"):u}},h.prototype.getBlockSize=function(n,e){if("full"!=n){var o=e&&null!=e.cacheBlockSize?e.cacheBlockSize:this.gridOptionsWrapper.getCacheBlockSize();return null!=o&&o>0?o:100}},h.prototype.getLevelSpecificParams=function(n){var e=this.gridOptionsWrapper.getServerSideStoreParamsFunc();if(e)return e({level:n.level+1,parentRowNode:n.level>=0?n:void 0,rowGroupColumns:this.columnModel.getRowGroupColumns(),pivotColumns:this.columnModel.getPivotColumns(),pivotMode:this.columnModel.isPivotMode()})},h.prototype.getStoreType=function(n){var e=n&&null!=n.storeType?n.storeType:this.gridOptionsWrapper.getServerSideStoreType();switch(e){case"partial":case"full":return e;case null:case void 0:return"full";default:var u=["full","partial"].join(", ");return console.warn("AG Grid: invalid Server Side Store Type "+e+", valid types are ["+u+"]"),"partial"}},Zb([E.Autowired("gridOptionsWrapper")],h.prototype,"gridOptionsWrapper",void 0),Zb([E.Autowired("columnModel")],h.prototype,"columnModel",void 0),Zb([E.Bean("ssrmStoreFactory")],h)}(),f0=function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);return u>3&&c&&Object.defineProperty(n,e,c),c},px=function(){function h(){}return h.prototype.isSortingWithValueColumn=function(n){for(var e=this.columnModel.getValueColumns().map(function(u){return u.getColId()}),o=0;o<n.length;o++)if(e.indexOf(n[o])>-1)return!0;return!1},h.prototype.isSortingWithSecondaryColumn=function(n){if(!this.columnModel.getSecondaryColumns())return!1;for(var e=this.columnModel.getSecondaryColumns().map(function(u){return u.getColId()}),o=0;o<n.length;o++)if(e.indexOf(n[o])>-1)return!0;return!1},f0([E.Autowired("columnModel")],h.prototype,"columnModel",void 0),f0([E.Bean("ssrmListenerUtils")],h)}(),fF={moduleName:E.ModuleNames.ServerSideRowModelModule,rowModels:{serverSide:wR},beans:[OR,sl,Xt,ER,c0,DR,TR,MR,px],dependantModules:[ii]},gF=function(){function h(n,e,o){this.rowModel=n,this.filterParams=e,this.caseFormat=o}return h.prototype.extractUniqueValues=function(n){var e=this,o={},u=this.filterParams.colDef.keyCreator,c=function(m){var y=null!=m?e.caseFormat(m):"__<ag-grid-pseudo-null>__";y&&null==o[y]&&(o[y]=m)};return this.rowModel.forEachLeafNode(function(m){if(m.data&&n(m)){var y=e.filterParams,I=e.filterParams.valueGetter({api:y.api,colDef:y.colDef,column:y.column,columnApi:y.columnApi,context:y.context,data:m.data,getValue:function(V){return m.data[V]},node:m});u&&(I=u({value:I,colDef:e.filterParams.colDef,column:e.filterParams.column,node:m,data:m.data,api:e.filterParams.api,columnApi:e.filterParams.columnApi,context:e.filterParams.context})),null!=(I=E._.makeNull(I))&&Array.isArray(I)?I.forEach(function(V){var z=E._.toStringOrNull(E._.makeNull(V));c(z)}):c(E._.toStringOrNull(I))}}),E._.values(o)},h}(),za=(()=>(function(h){h[h.PROVIDED_LIST=0]="PROVIDED_LIST",h[h.PROVIDED_CALLBACK=1]="PROVIDED_CALLBACK",h[h.TAKEN_FROM_GRID_VALUES=2]="TAKEN_FROM_GRID_VALUES"}(za||(za={})),za))(),Br=function(){function h(n,e,o,u,c){var m=this;this.filterParams=n,this.setIsLoading=e,this.valueFormatterService=o,this.translate=u,this.caseFormat=c,this.localEventService=new E.EventService,this.miniFilterText=null,this.providedValues=null,this.allValues=[],this.availableValues=new Set,this.displayedValues=[],this.selectedValues=new Set,this.initialised=!1;var w=n.colDef,D=n.textFormatter,x=n.doesRowPassOtherFilter,P=n.suppressSorting,R=n.comparator,I=n.rowModel,N=n.values;this.column=n.column,this.formatter=D||E.TextFilter.DEFAULT_FORMATTER,this.doesRowPassOtherFilters=x,this.suppressSorting=P||!1,this.comparator=R||w.comparator||E._.defaultComparator,I.getType()===E.Constants.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideValuesExtractor=new gF(I,this.filterParams,this.caseFormat)),null==N?this.valuesType=za.TAKEN_FROM_GRID_VALUES:(this.valuesType=Array.isArray(N)?za.PROVIDED_LIST:za.PROVIDED_CALLBACK,this.providedValues=N),this.updateAllValues().then(function(z){return m.resetSelectionState(z||[])})}return h.prototype.addEventListener=function(n,e,o){this.localEventService.addEventListener(n,e,o)},h.prototype.removeEventListener=function(n,e,o){this.localEventService.removeEventListener(n,e,o)},h.prototype.refreshValues=function(){var n=this.getModel();return this.updateAllValues(),this.setModel(n)},h.prototype.overrideValues=function(n){var e=this;return new E.AgPromise(function(o){e.allValuesPromise.then(function(){e.valuesType=za.PROVIDED_LIST,e.providedValues=n,e.refreshValues().then(function(){return o()})})})},h.prototype.refreshAfterAnyFilterChanged=function(){var n=this;return this.showAvailableOnly()?this.allValuesPromise.then(function(e){return n.updateAvailableValues(e||[])}):E.AgPromise.resolve()},h.prototype.isInitialised=function(){return this.initialised},h.prototype.updateAllValues=function(){var n=this;return this.allValuesPromise=new E.AgPromise(function(e){switch(n.valuesType){case za.TAKEN_FROM_GRID_VALUES:case za.PROVIDED_LIST:var o=n.valuesType===za.TAKEN_FROM_GRID_VALUES?n.getValuesFromRows(!1):E._.values(n.uniqueValues(E._.toStrings(n.providedValues)||[])),u=n.sortValues(o||[]);n.allValues=u,e(u);break;case za.PROVIDED_CALLBACK:n.setIsLoading(!0);var c=n.providedValues,m=n.filterParams,R={success:function(I){var N=E._.values(n.uniqueValues(E._.toStrings(I)||[]));n.setIsLoading(!1);var V=n.sortValues(N||[]);n.allValues=V,e(V)},colDef:m.colDef,column:m.column,columnApi:m.columnApi,api:m.api,context:m.context};window.setTimeout(function(){return c(R)},0);break;default:throw new Error("Unrecognised valuesType")}}),this.allValuesPromise.then(function(e){return n.updateAvailableValues(e||[])}).then(function(){return n.initialised=!0}),this.allValuesPromise},h.prototype.setValuesType=function(n){this.valuesType=n},h.prototype.getValuesType=function(){return this.valuesType},h.prototype.isValueAvailable=function(n){return this.availableValues.has(n)},h.prototype.showAvailableOnly=function(){return this.valuesType===za.TAKEN_FROM_GRID_VALUES},h.prototype.updateAvailableValues=function(n){var e=this.showAvailableOnly()?this.sortValues(this.getValuesFromRows(!0)):n;this.availableValues=E._.convertToSet(e),this.localEventService.dispatchEvent({type:h.EVENT_AVAILABLE_VALUES_CHANGED}),this.updateDisplayedValues()},h.prototype.sortValues=function(n){return this.suppressSorting?n:!this.filterParams.excelMode||n.indexOf(null)<0?n.sort(this.comparator):n.filter(function(e){return null!=e}).sort(this.comparator).concat(null)},h.prototype.getValuesFromRows=function(n){var e=this;return void 0===n&&(n=!1),this.clientSideValuesExtractor?this.clientSideValuesExtractor.extractUniqueValues(function(u){return!n||e.doesRowPassOtherFilters(u)}):(console.error("AG Grid: Set Filter cannot initialise because you are using a row model that does not contain all rows in the browser. Either use a different filter type, or configure Set Filter such that you provide it with values"),[])},h.prototype.setMiniFilter=function(n){return n=E._.makeNull(n),this.miniFilterText!==n&&(this.miniFilterText=n,this.updateDisplayedValues(),!0)},h.prototype.getMiniFilter=function(){return this.miniFilterText},h.prototype.updateDisplayedValues=function(){var n=this;if(null!=this.miniFilterText){this.displayedValues=[];var e=this.caseFormat(this.formatter(this.miniFilterText)||""),o=function(u){return null!=u&&n.caseFormat(u).indexOf(e)>=0};this.availableValues.forEach(function(u){if(null==u)n.filterParams.excelMode&&o(n.translate("blanks"))&&n.displayedValues.push(u);else{var c=n.formatter(u),m=n.valueFormatterService.formatValue(n.column,null,null,c,n.filterParams.valueFormatter,!1);(o(c)||o(m))&&n.displayedValues.push(u)}})}else this.displayedValues=E._.values(this.availableValues)},h.prototype.getDisplayedValueCount=function(){return this.displayedValues.length},h.prototype.getDisplayedValue=function(n){return this.displayedValues[n]},h.prototype.hasSelections=function(){return this.filterParams.defaultToNothingSelected?this.selectedValues.size>0:this.allValues.length!==this.selectedValues.size},h.prototype.getValues=function(){return this.allValues.slice()},h.prototype.selectAllMatchingMiniFilter=function(n){var e=this;void 0===n&&(n=!1),null==this.miniFilterText?this.selectedValues=E._.convertToSet(this.allValues):(n&&this.selectedValues.clear(),this.displayedValues.forEach(function(o){return e.selectedValues.add(o)}))},h.prototype.deselectAllMatchingMiniFilter=function(){var n=this;null==this.miniFilterText?this.selectedValues.clear():this.displayedValues.forEach(function(e){return n.selectedValues.delete(e)})},h.prototype.selectValue=function(n){this.selectedValues.add(n)},h.prototype.deselectValue=function(n){this.filterParams.excelMode&&this.isEverythingVisibleSelected()&&this.resetSelectionState(this.displayedValues),this.selectedValues.delete(n)},h.prototype.isValueSelected=function(n){return this.selectedValues.has(n)},h.prototype.isEverythingVisibleSelected=function(){var n=this;return this.displayedValues.filter(function(e){return n.isValueSelected(e)}).length===this.displayedValues.length},h.prototype.isNothingVisibleSelected=function(){var n=this;return 0===this.displayedValues.filter(function(e){return n.isValueSelected(e)}).length},h.prototype.getModel=function(){return this.hasSelections()?E._.values(this.selectedValues):null},h.prototype.setModel=function(n){var e=this;return this.allValuesPromise.then(function(o){if(null==n)e.resetSelectionState(o||[]);else{e.selectedValues.clear();var u=e.uniqueValues(o||[]);n.forEach(function(c){var m=u[e.uniqueKey(c)];void 0!==m&&e.selectedValues.add(m)})}})},h.prototype.uniqueValues=function(n){var e=this,o={};return(n||[]).forEach(function(u){var c=E._.makeNull(u),m=e.uniqueKey(c);void 0===o[m]&&(o[m]=c)}),o},h.prototype.uniqueKey=function(n){return null==n?"__<ag-grid-pseudo-null>__":this.caseFormat(n)},h.prototype.resetSelectionState=function(n){this.filterParams.defaultToNothingSelected?this.selectedValues.clear():this.selectedValues=E._.convertToSet(n||[])},h.EVENT_AVAILABLE_VALUES_CHANGED="availableValuesChanged",h}(),IR=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Jb=function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);return u>3&&c&&Object.defineProperty(n,e,c),c},g0=function(h){function n(e,o,u,c){var m=h.call(this,n.TEMPLATE)||this;return m.value=e,m.params=o,m.translate=u,m.isSelected=c,m}return IR(n,h),n.prototype.init=function(){var e=this;this.render(),this.eCheckbox.setValue(this.isSelected,!0),this.eCheckbox.setDisabled(!!this.params.readOnly),!this.params.readOnly&&this.eCheckbox.onValueChange(function(o){var u=o||!1;e.isSelected=u,e.dispatchEvent({type:n.EVENT_SELECTION_CHANGED,isSelected:u})})},n.prototype.toggleSelected=function(){this.params.readOnly||(this.isSelected=!this.isSelected,this.eCheckbox.setValue(this.isSelected))},n.prototype.render=function(){var e=this.params.column,o=this.value,u=null;"function"==typeof o?o=o():u=this.getFormattedValue(this.params,e,o),this.params.showTooltips&&this.setTooltip(null!=u?u:o);var m={value:o,valueFormatted:u,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),colDef:this.params.colDef,column:this.params.column};this.renderCell(m)},n.prototype.getTooltipParams=function(){var e=h.prototype.getTooltipParams.call(this);return e.location="setFilterValue",e.colDef=this.getComponentHolder(),e},n.prototype.getFormattedValue=function(e,o,u){return this.valueFormatterService.formatValue(o,null,null,u,e&&e.valueFormatter,!1)},n.prototype.renderCell=function(e){var o=this,u=this.userComponentFactory.getSetFilterCellRendererDetails(this.params,e),c=u?u.newAgStackInstance():void 0;if(null!=c)c.then(function(y){y&&(o.eCheckbox.setLabel(y.getGui()),o.addDestroyFunc(function(){return o.destroyBean(y)}))});else{var m=null==e.valueFormatted?e.value:e.valueFormatted;this.eCheckbox.setLabel(null==m?this.translate("blanks"):m)}},n.prototype.getComponentHolder=function(){return this.params.column.getColDef()},n.EVENT_SELECTION_CHANGED="selectionChanged",n.TEMPLATE='\n        <div class="ag-set-filter-item">\n            <ag-checkbox ref="eCheckbox" class="ag-set-filter-item-checkbox"></ag-checkbox>\n        </div>',Jb([E.Autowired("valueFormatterService")],n.prototype,"valueFormatterService",void 0),Jb([E.Autowired("userComponentFactory")],n.prototype,"userComponentFactory",void 0),Jb([E.RefSelector("eCheckbox")],n.prototype,"eCheckbox",void 0),Jb([E.PostConstruct],n.prototype,"init",null),n}(E.Component),NR={loadingOoo:"Loading...",blanks:"(Blanks)",searchOoo:"Search...",selectAll:"(Select All)",selectAllSearchResults:"(Select All Search Results)",noMatches:"No matches."},mF=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),ew=function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);return u>3&&c&&Object.defineProperty(n,e,c),c},m0=function(h){function n(){var e=h.call(this,"setFilter")||this;return e.valueModel=null,e.setFilterParams=null,e.virtualList=null,e.caseSensitive=!1,e.appliedModelValues=null,e}return mF(n,h),n.prototype.postConstruct=function(){h.prototype.postConstruct.call(this),this.positionableFeature=new E.PositionableFeature(this.eSetFilterList,{forcePopupParentAsOffsetParent:!0}),this.createBean(this.positionableFeature)},n.prototype.updateUiVisibility=function(){},n.prototype.createBodyTemplate=function(){return'\n            <div class="ag-set-filter">\n                <div ref="eFilterLoading" class="ag-filter-loading ag-hidden">'+this.translateForSetFilter("loadingOoo")+'</div>\n                <ag-input-text-field class="ag-mini-filter" ref="eMiniFilter"></ag-input-text-field>\n                <div ref="eFilterNoMatches" class="ag-filter-no-matches ag-hidden">'+this.translateForSetFilter("noMatches")+'</div>\n                <div ref="eSetFilterList" class="ag-set-filter-list" role="presentation"></div>\n            </div>'},n.prototype.handleKeyDown=function(e){if(h.prototype.handleKeyDown.call(this,e),!e.defaultPrevented)switch(e.key){case E.KeyCode.SPACE:this.handleKeySpace(e);break;case E.KeyCode.ENTER:this.handleKeyEnter(e)}},n.prototype.handleKeySpace=function(e){var o=this.gridOptionsWrapper.getDocument();if(this.eSetFilterList.contains(o.activeElement)&&this.virtualList){var u=this.virtualList.getLastFocusedRow();if(null!=u){var c=this.virtualList.getComponentAt(u);null!=c&&(e.preventDefault(),(this.setFilterParams||{}).readOnly||c.toggleSelected())}}},n.prototype.handleKeyEnter=function(e){if(this.setFilterParams){var o=this.setFilterParams||{};!o.excelMode||o.readOnly||(e.preventDefault(),this.onBtApply(!1,!1,e),"mac"===this.setFilterParams.excelMode&&this.eMiniFilter.getInputElement().select())}},n.prototype.getCssIdentifier=function(){return"set-filter"},n.prototype.setModelAndRefresh=function(e){var o=this;return this.valueModel?this.valueModel.setModel(e).then(function(){return o.refresh()}):E.AgPromise.resolve()},n.prototype.resetUiToDefaults=function(){return this.setMiniFilter(null),this.setModelAndRefresh(null)},n.prototype.setModelIntoUi=function(e){return this.setMiniFilter(null),this.setModelAndRefresh(null==e?null:e.values)},n.prototype.getModelFromUi=function(){if(!this.valueModel)throw new Error("Value model has not been created.");var e=this.valueModel.getModel();return e?{values:e,filterType:this.getFilterType()}:null},n.prototype.getFilterType=function(){return"set"},n.prototype.getValueModel=function(){return this.valueModel},n.prototype.areModelsEqual=function(e,o){return null==e&&null==o||null!=e&&null!=o&&E._.areEqual(e.values,o.values)},n.prototype.setParams=function(e){var o=this;this.applyExcelModeOptions(e),h.prototype.setParams.call(this,e),this.setFilterParams=e,this.caseSensitive=e.caseSensitive||!1,this.valueModel=new Br(e,function(u){return o.showOrHideLoadingScreen(u)},this.valueFormatterService,function(u){return o.translateForSetFilter(u)},function(u){return o.caseFormat(u)}),this.initialiseFilterBodyUi(),e.rowModel.getType()===E.Constants.ROW_MODEL_TYPE_CLIENT_SIDE&&!e.values&&this.addEventListenersForDataChanges()},n.prototype.applyExcelModeOptions=function(e){"windows"===e.excelMode?(e.buttons||(e.buttons=["apply","cancel"]),null==e.closeOnApply&&(e.closeOnApply=!0)):"mac"===e.excelMode&&(e.buttons||(e.buttons=["reset"]),null==e.applyMiniFilterWhileTyping&&(e.applyMiniFilterWhileTyping=!0),null==e.debounceMs&&(e.debounceMs=500))},n.prototype.addEventListenersForDataChanges=function(){var e=this;this.addManagedListener(this.eventService,E.Events.EVENT_ROW_DATA_UPDATED,function(){return e.syncAfterDataChange()}),this.addManagedListener(this.eventService,E.Events.EVENT_CELL_VALUE_CHANGED,function(o){e.setFilterParams&&o.column===e.setFilterParams.column&&e.syncAfterDataChange()})},n.prototype.syncAfterDataChange=function(e){var o=this;if(void 0===e&&(e=!0),!this.valueModel)throw new Error("Value model has not been created.");var u=E.AgPromise.resolve();return e&&(u=this.valueModel.refreshValues()),u.then(function(){o.refresh(),o.onBtApply(!1,!0)})},n.prototype.showOrHideLoadingScreen=function(e){E._.setDisplayed(this.eFilterLoading,e)},n.prototype.initialiseFilterBodyUi=function(){this.initVirtualList(),this.initMiniFilter()},n.prototype.initVirtualList=function(){var e=this;if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");var u=this.gridOptionsWrapper.getLocaleTextFunc()("ariaFilterList","Filter List"),c=this.virtualList=this.createBean(new E.VirtualList("filter","listbox",u)),m=this.getRefElement("eSetFilterList");m&&m.appendChild(c.getGui());var w,y=this.setFilterParams.cellHeight;null!=y&&c.setRowHeight(y),c.setComponentCreator(function(D){return e.createSetListItem(D)}),w=this.setFilterParams.suppressSelectAll?new LR(this.valueModel):new tw(this.valueModel,function(){return e.isSelectAllSelected()}),c.setModel(w)},n.prototype.getSelectAllLabel=function(){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");var e=null!=this.valueModel.getMiniFilter()&&this.setFilterParams.excelMode?"selectAllSearchResults":"selectAll";return this.translateForSetFilter(e)},n.prototype.createSetListItem=function(e){var u,o=this;if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");return e===n.SELECT_ALL_VALUE?((u=this.createBean(new g0(function(){return o.getSelectAllLabel()},this.setFilterParams,function(c){return o.translateForSetFilter(c)},this.isSelectAllSelected()))).addEventListener(g0.EVENT_SELECTION_CHANGED,function(c){return o.onSelectAll(c.isSelected)}),u):((u=this.createBean(new g0(e,this.setFilterParams,function(c){return o.translateForSetFilter(c)},this.valueModel.isValueSelected(e)))).addEventListener(g0.EVENT_SELECTION_CHANGED,function(c){return o.onItemSelected(e,c.isSelected)}),u)},n.prototype.initMiniFilter=function(){var e=this;if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");var u=this.eMiniFilter,m=this.gridOptionsWrapper.getLocaleTextFunc();u.setDisplayed(!this.setFilterParams.suppressMiniFilter),u.setValue(this.valueModel.getMiniFilter()),u.onValueChange(function(){return e.onMiniFilterInput()}),u.setInputAriaLabel(m("ariaSearchFilterValues","Search filter values")),this.addManagedListener(u.getInputElement(),"keypress",function(y){return e.onMiniFilterKeyPress(y)})},n.prototype.afterGuiAttached=function(e){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");h.prototype.afterGuiAttached.call(this,e),this.refreshVirtualList(),this.setFilterParams.excelMode&&this.resetUiToActiveModel();var o=this.eMiniFilter;o.setInputPlaceholder(this.translateForSetFilter("searchOoo")),(!e||!e.suppressFocus)&&o.getFocusableElement().focus();var c,u=!(!e||"floatingFilter"!==e.container);c=this.gridOptionsWrapper.isEnableRtl()?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0},u?(this.positionableFeature.restoreLastSize(),this.positionableFeature.setResizable(c)):(this.positionableFeature.removeSizeFromEl(),this.positionableFeature.setResizable(!1))},n.prototype.applyModel=function(){var e=this;if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");this.setFilterParams.excelMode&&this.valueModel.isEverythingVisibleSelected()&&this.valueModel.selectAllMatchingMiniFilter();var o=h.prototype.applyModel.call(this),u=this.getModel();return this.appliedModelValues=u?u.values.reduce(function(c,m){return c[e.caseFormat(String(m))]=!0,c},{}):null,o},n.prototype.isModelValid=function(e){return!this.setFilterParams||!this.setFilterParams.excelMode||null==e||e.values.length>0},n.prototype.doesFilterPass=function(e){var o=this;if(!this.setFilterParams||!this.valueModel||!this.appliedModelValues)return!0;var u=e.node,c=e.data,m=this.setFilterParams,w=m.colDef.keyCreator,D=m.api,x=m.colDef,P=m.column,R=m.columnApi,I=m.context,N=(0,m.valueGetter)({api:D,colDef:x,column:P,columnApi:R,context:I,data:c,getValue:function(z){return c[z]},node:u});return w&&(N=w({value:N,colDef:x,column:P,node:u,data:c,api:D,columnApi:R,context:I})),N=E._.makeNull(N),Array.isArray(N)?N.some(function(z){return!0===o.appliedModelValues[o.caseFormat(String(E._.makeNull(z)))]}):!0===this.appliedModelValues[this.caseFormat(String(N))]},n.prototype.onNewRowsLoaded=function(){if(!this.valueModel)throw new Error("Value model has not been created.");var e=this.valueModel.getValuesType();this.syncAfterDataChange(e===za.TAKEN_FROM_GRID_VALUES)},n.prototype.setFilterValues=function(e){var o=this;if(!this.valueModel)throw new Error("Value model has not been created.");this.valueModel.overrideValues(e).then(function(){o.refresh(),o.onUiChanged()})},n.prototype.resetFilterValues=function(){if(!this.valueModel)throw new Error("Value model has not been created.");this.valueModel.setValuesType(za.TAKEN_FROM_GRID_VALUES),this.syncAfterDataChange(!0)},n.prototype.refreshFilterValues=function(){var e=this;if(!this.valueModel)throw new Error("Value model has not been created.");!this.valueModel.isInitialised()||this.valueModel.refreshValues().then(function(){e.refresh(),e.onUiChanged()})},n.prototype.onAnyFilterChanged=function(){var e=this;setTimeout(function(){if(e.isAlive()){if(!e.valueModel)throw new Error("Value model has not been created.");e.valueModel.refreshAfterAnyFilterChanged().then(function(){return e.refresh()})}},0)},n.prototype.onMiniFilterInput=function(){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");if(this.valueModel.setMiniFilter(this.eMiniFilter.getValue())){var e=this.setFilterParams||{};!e.readOnly&&e.applyMiniFilterWhileTyping?this.filterOnAllVisibleValues(!1):this.updateUiAfterMiniFilterChange()}},n.prototype.updateUiAfterMiniFilterChange=function(){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");var e=this.setFilterParams||{};null==e.excelMode||e.readOnly?this.refresh():null==this.valueModel.getMiniFilter()?this.resetUiToActiveModel():(this.valueModel.selectAllMatchingMiniFilter(!0),this.refresh(),this.onUiChanged()),this.showOrHideResults()},n.prototype.showOrHideResults=function(){if(!this.valueModel)throw new Error("Value model has not been created.");var e=null!=this.valueModel.getMiniFilter()&&this.valueModel.getDisplayedValueCount()<1;E._.setDisplayed(this.eNoMatches,e),E._.setDisplayed(this.eSetFilterList,!e)},n.prototype.resetUiToActiveModel=function(){var e=this;if(!this.valueModel)throw new Error("Value model has not been created.");this.eMiniFilter.setValue(null,!0),this.valueModel.setMiniFilter(null),this.setModelIntoUi(this.getModel()).then(function(){return e.onUiChanged(!1,"prevent")})},n.prototype.onMiniFilterKeyPress=function(e){var o=this.setFilterParams||{};e.key===E.KeyCode.ENTER&&!o.excelMode&&!o.readOnly&&this.filterOnAllVisibleValues()},n.prototype.filterOnAllVisibleValues=function(e){void 0===e&&(e=!0);var o=(this.setFilterParams||{}).readOnly;if(!this.valueModel)throw new Error("Value model has not been created.");if(o)throw new Error("Unable to filter in readOnly mode.");this.valueModel.selectAllMatchingMiniFilter(!0),this.refresh(),this.onUiChanged(!1,e?"immediately":"debounce"),this.showOrHideResults()},n.prototype.focusRowIfAlive=function(e){var o=this;null!=e&&window.setTimeout(function(){if(!o.virtualList)throw new Error("Virtual list has not been created.");o.isAlive()&&o.virtualList.focusRow(e)},0)},n.prototype.onSelectAll=function(e){if(!this.valueModel)throw new Error("Value model has not been created.");if(!this.virtualList)throw new Error("Virtual list has not been created.");e?this.valueModel.selectAllMatchingMiniFilter():this.valueModel.deselectAllMatchingMiniFilter();var o=this.virtualList.getLastFocusedRow();this.refresh(),this.onUiChanged(),this.focusRowIfAlive(o)},n.prototype.onItemSelected=function(e,o){if(!this.valueModel)throw new Error("Value model has not been created.");if(!this.virtualList)throw new Error("Virtual list has not been created.");o?this.valueModel.selectValue(e):this.valueModel.deselectValue(e);var u=this.virtualList.getLastFocusedRow();this.refresh(),this.onUiChanged(),this.focusRowIfAlive(u)},n.prototype.setMiniFilter=function(e){this.eMiniFilter.setValue(e),this.onMiniFilterInput()},n.prototype.getMiniFilter=function(){return this.valueModel?this.valueModel.getMiniFilter():null},n.prototype.refresh=function(){if(!this.virtualList)throw new Error("Virtual list has not been created.");this.virtualList.refresh()},n.prototype.getValues=function(){return this.valueModel?this.valueModel.getValues():[]},n.prototype.refreshVirtualList=function(){this.setFilterParams&&this.setFilterParams.refreshValuesOnOpen?this.refreshFilterValues():this.refresh()},n.prototype.translateForSetFilter=function(e){return this.gridOptionsWrapper.getLocaleTextFunc()(e,NR[e])},n.prototype.isSelectAllSelected=function(){if(!this.setFilterParams||!this.valueModel)return!1;if(this.setFilterParams.defaultToNothingSelected){if(this.valueModel.hasSelections()&&this.valueModel.isEverythingVisibleSelected())return!0;if(this.valueModel.isNothingVisibleSelected())return!1}else{if(this.valueModel.hasSelections()&&this.valueModel.isNothingVisibleSelected())return!1;if(this.valueModel.isEverythingVisibleSelected())return!0}},n.prototype.destroy=function(){null!=this.virtualList&&(this.virtualList.destroy(),this.virtualList=null),h.prototype.destroy.call(this)},n.prototype.caseFormat=function(e){return null==e||"string"!=typeof e||this.caseSensitive?e:e.toUpperCase()},n.SELECT_ALL_VALUE="__AG_SELECT_ALL__",ew([E.RefSelector("eMiniFilter")],n.prototype,"eMiniFilter",void 0),ew([E.RefSelector("eFilterLoading")],n.prototype,"eFilterLoading",void 0),ew([E.RefSelector("eSetFilterList")],n.prototype,"eSetFilterList",void 0),ew([E.RefSelector("eFilterNoMatches")],n.prototype,"eNoMatches",void 0),ew([E.Autowired("valueFormatterService")],n.prototype,"valueFormatterService",void 0),n}(E.ProvidedFilter),LR=function(){function h(n){this.model=n}return h.prototype.getRowCount=function(){return this.model.getDisplayedValueCount()},h.prototype.getRow=function(n){return this.model.getDisplayedValue(n)},h.prototype.isRowSelected=function(n){return this.model.isValueSelected(this.getRow(n))},h}(),tw=function(){function h(n,e){this.model=n,this.isSelectAllSelected=e}return h.prototype.getRowCount=function(){return this.model.getDisplayedValueCount()+1},h.prototype.getRow=function(n){return 0===n?m0.SELECT_ALL_VALUE:this.model.getDisplayedValue(n-1)},h.prototype.isRowSelected=function(n){return 0===n?this.isSelectAllSelected():this.model.isValueSelected(this.getRow(n))},h}(),kR=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),v0=function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);return u>3&&c&&Object.defineProperty(n,e,c),c},fx=function(h){function n(){var e=h.call(this,'\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eFloatingFilterText"></ag-input-text-field>\n            </div>')||this;return e.availableValuesListenerAdded=!1,e}return kR(n,h),n.prototype.destroy=function(){h.prototype.destroy.call(this)},n.prototype.init=function(e){var o=this.columnModel.getDisplayNameForColumn(e.column,"header",!0),u=this.gridOptionsWrapper.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(o+" "+u("ariaFilterInput","Filter Input")).addGuiEventListener("click",function(){return e.showParentFilter()}),this.params=e},n.prototype.onParentModelChanged=function(e){this.updateFloatingFilterText(e)},n.prototype.parentSetFilterInstance=function(e){this.params.parentFilterInstance(function(o){if(!(o instanceof m0))throw new Error("AG Grid - SetFloatingFilter expects SetFilter as it's parent");e(o)})},n.prototype.addAvailableValuesListener=function(){var e=this;this.parentSetFilterInstance(function(o){var u=o.getValueModel();!u||e.addManagedListener(u,Br.EVENT_AVAILABLE_VALUES_CHANGED,function(){return e.updateFloatingFilterText()})}),this.availableValuesListenerAdded=!0},n.prototype.updateFloatingFilterText=function(e){var o=this;this.availableValuesListenerAdded||this.addAvailableValuesListener(),this.parentSetFilterInstance(function(u){var c=(e||u.getModel()||{}).values,m=u.getValueModel();if(null!=c&&null!=m){var y=o.gridOptionsWrapper.getLocaleTextFunc(),D=c.filter(function(R){return m.isValueAvailable(R)}).map(function(R){var I=o.params,z=o.valueFormatterService.formatValue(I.column,null,null,R,I.filterParams.valueFormatter,!1),Y=null!=z?z:R;return null==Y?y("blanks",NR.blanks):Y}),x=D.length>10?D.slice(0,10).concat("..."):D,P="("+D.length+") "+x.join(",");o.eFloatingFilterText.setValue(P)}else o.eFloatingFilterText.setValue("")})},v0([E.RefSelector("eFloatingFilterText")],n.prototype,"eFloatingFilterText",void 0),v0([E.Autowired("valueFormatterService")],n.prototype,"valueFormatterService",void 0),v0([E.Autowired("columnModel")],n.prototype,"columnModel",void 0),n}(E.Component),Ah={moduleName:E.ModuleNames.SetFilterModule,beans:[],userComponents:[{componentName:"agSetColumnFilter",componentClass:m0},{componentName:"agSetColumnFloatingFilter",componentClass:fx}],dependantModules:[ii]},gx=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),_0=function(h){function n(){var e=h.call(this)||this;return e.allComponents={},e}return gx(n,h),n.prototype.registerStatusPanel=function(e,o){this.allComponents[e]=o},n.prototype.getStatusPanel=function(e){return this.allComponents[e]},n=function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);return u>3&&c&&Object.defineProperty(n,e,c),c}([E.Bean("statusBarService")],n),n}(E.BeanStub),GR=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),pc=function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);return u>3&&c&&Object.defineProperty(n,e,c),c},C0=function(h){function n(){return h.call(this,n.TEMPLATE)||this}return GR(n,h),n.prototype.postConstruct=function(){if(this.gridOptions.statusBar&&this.gridOptions.statusBar.statusPanels){var e=this.gridOptions.statusBar.statusPanels.filter(function(c){return"left"===c.align});this.createAndRenderComponents(e,this.eStatusBarLeft);var o=this.gridOptions.statusBar.statusPanels.filter(function(c){return"center"===c.align});this.createAndRenderComponents(o,this.eStatusBarCenter);var u=this.gridOptions.statusBar.statusPanels.filter(function(c){return!c.align||"right"===c.align});this.createAndRenderComponents(u,this.eStatusBarRight)}else this.setDisplayed(!1)},n.prototype.createAndRenderComponents=function(e,o){var u=this,c=[];e.forEach(function(m){var y={api:u.gridOptionsWrapper.getApi(),columnApi:u.gridOptionsWrapper.getColumnApi(),context:u.gridOptionsWrapper.getContext()},D=u.userComponentFactory.getStatusPanelCompDetails(m,y).newAgStackInstance();!D||c.push({key:m.key||m.statusPanel,promise:D})}),E.AgPromise.all(c.map(function(m){return m.promise})).then(function(){c.forEach(function(m){m.promise.then(function(y){var w=function(){u.getContext().destroyBean(y)};u.isAlive()?(u.statusBarService.registerStatusPanel(m.key,y),o.appendChild(y.getGui()),u.addDestroyFunc(w)):w()})})})},n.TEMPLATE='<div class="ag-status-bar">\n            <div ref="eStatusBarLeft" class="ag-status-bar-left" role="status"></div>\n            <div ref="eStatusBarCenter" class="ag-status-bar-center" role="status"></div>\n            <div ref="eStatusBarRight" class="ag-status-bar-right" role="status"></div>\n        </div>',pc([E.Autowired("gridOptions")],n.prototype,"gridOptions",void 0),pc([E.Autowired("userComponentFactory")],n.prototype,"userComponentFactory",void 0),pc([E.Autowired("statusBarService")],n.prototype,"statusBarService",void 0),pc([E.RefSelector("eStatusBarLeft")],n.prototype,"eStatusBarLeft",void 0),pc([E.RefSelector("eStatusBarCenter")],n.prototype,"eStatusBarCenter",void 0),pc([E.RefSelector("eStatusBarRight")],n.prototype,"eStatusBarRight",void 0),pc([E.PostConstruct],n.prototype,"postConstruct",null),n}(E.Component),mx=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),b0=function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);return u>3&&c&&Object.defineProperty(n,e,c),c},nw=function(h){function n(){return h.call(this,n.TEMPLATE)||this}return mx(n,h),n.prototype.setLabel=function(e,o){this.setDisplayed(!1);var u=this.gridOptionsWrapper.getLocaleTextFunc();this.eLabel.innerHTML=u(e,o)},n.prototype.setValue=function(e){this.eValue.innerHTML=e},n.TEMPLATE='<div class="ag-status-name-value">\n            <span ref="eLabel"></span>:&nbsp;\n            <span ref="eValue" class="ag-status-name-value-value"></span>\n        </div>',b0([E.RefSelector("eLabel")],n.prototype,"eLabel",void 0),b0([E.RefSelector("eValue")],n.prototype,"eValue",void 0),n}(E.Component),vF=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),VR=function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);return u>3&&c&&Object.defineProperty(n,e,c),c},yF=function(h){function n(){return null!==h&&h.apply(this,arguments)||this}return vF(n,h),n.prototype.postConstruct=function(){"clientSide"===this.gridApi.getModel().getType()?(this.setLabel("totalAndFilteredRows","Rows"),this.addCssClass("ag-status-panel"),this.addCssClass("ag-status-panel-total-and-filtered-row-count"),this.setDisplayed(!0),this.addManagedListener(this.eventService,E.Events.EVENT_MODEL_UPDATED,this.onDataChanged.bind(this))):console.warn("AG Grid: agTotalAndFilteredRowCountComponent should only be used with the client side row model.")},n.prototype.onDataChanged=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc(),o=e("thousandSeparator",","),u=e("decimalSeparator","."),c=E._.formatNumberCommas(this.getFilteredRowCountValue(),o,u),m=E._.formatNumberCommas(this.getTotalRowCount(),o,u);if(c===m)this.setValue(c);else{var y=this.gridOptionsWrapper.getLocaleTextFunc();this.setValue(c+" "+y("of","of")+" "+m)}},n.prototype.getFilteredRowCountValue=function(){var e=0;return this.gridApi.forEachNodeAfterFilter(function(o){o.group||e++}),e},n.prototype.getTotalRowCount=function(){var e=0;return this.gridApi.forEachNode(function(o){o.group||e++}),e},n.prototype.init=function(){},n.prototype.destroy=function(){h.prototype.destroy.call(this)},VR([E.Autowired("gridApi")],n.prototype,"gridApi",void 0),VR([E.PostConstruct],n.prototype,"postConstruct",null),n}(nw),_F=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),BR=function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);return u>3&&c&&Object.defineProperty(n,e,c),c},CF=function(h){function n(){return null!==h&&h.apply(this,arguments)||this}return _F(n,h),n.prototype.postConstruct=function(){if(this.setLabel("filteredRows","Filtered"),"clientSide"===this.gridApi.getModel().getType()){this.addCssClass("ag-status-panel"),this.addCssClass("ag-status-panel-filtered-row-count"),this.setDisplayed(!0);var e=this.onDataChanged.bind(this);this.addManagedListener(this.eventService,E.Events.EVENT_MODEL_UPDATED,e)}else console.warn("AG Grid: agFilteredRowCountComponent should only be used with the client side row model.")},n.prototype.onDataChanged=function(){var e=this.getTotalRowCountValue(),o=this.getFilteredRowCountValue(),u=this.gridOptionsWrapper.getLocaleTextFunc(),c=u("thousandSeparator",","),m=u("decimalSeparator",".");this.setValue(E._.formatNumberCommas(o,c,m)),this.setDisplayed(e!==o)},n.prototype.getTotalRowCountValue=function(){var e=0;return this.gridApi.forEachNode(function(o){return e+=1}),e},n.prototype.getFilteredRowCountValue=function(){var e=0;return this.gridApi.forEachNodeAfterFilter(function(o){o.group||(e+=1)}),e},n.prototype.init=function(){},n.prototype.destroy=function(){h.prototype.destroy.call(this)},BR([E.Autowired("gridApi")],n.prototype,"gridApi",void 0),BR([E.PostConstruct],n.prototype,"postConstruct",null),n}(nw),vx=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),yx=function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);return u>3&&c&&Object.defineProperty(n,e,c),c},HR=function(h){function n(){return null!==h&&h.apply(this,arguments)||this}return vx(n,h),n.prototype.postConstruct=function(){this.setLabel("totalRows","Total Rows"),"clientSide"===this.gridApi.getModel().getType()?(this.addCssClass("ag-status-panel"),this.addCssClass("ag-status-panel-total-row-count"),this.setDisplayed(!0),this.addManagedListener(this.eventService,E.Events.EVENT_MODEL_UPDATED,this.onDataChanged.bind(this))):console.warn("AG Grid: agTotalRowCountComponent should only be used with the client side row model.")},n.prototype.onDataChanged=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc(),o=e("thousandSeparator",","),u=e("decimalSeparator",".");this.setValue(E._.formatNumberCommas(this.getRowCountValue(),o,u))},n.prototype.getRowCountValue=function(){var e=0;return this.gridApi.forEachLeafNode(function(o){return e+=1}),e},n.prototype.init=function(){},n.prototype.destroy=function(){h.prototype.destroy.call(this)},yx([E.Autowired("gridApi")],n.prototype,"gridApi",void 0),yx([E.PostConstruct],n.prototype,"postConstruct",null),n}(nw),WR=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),_x=function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);return u>3&&c&&Object.defineProperty(n,e,c),c},Cx=function(h){function n(){return null!==h&&h.apply(this,arguments)||this}return WR(n,h),n.prototype.postConstruct=function(){if(this.isValidRowModel()){this.setLabel("selectedRows","Selected"),this.addCssClass("ag-status-panel"),this.addCssClass("ag-status-panel-selected-row-count");var e=this.gridApi.getSelectedRows().length,o=this.gridOptionsWrapper.getLocaleTextFunc(),u=o("thousandSeparator",","),c=o("decimalSeparator",".");this.setValue(E._.formatNumberCommas(e,u,c)),this.setDisplayed(e>0);var m=this.onRowSelectionChanged.bind(this);this.addManagedListener(this.eventService,E.Events.EVENT_MODEL_UPDATED,m),this.addManagedListener(this.eventService,E.Events.EVENT_SELECTION_CHANGED,m)}else console.warn("AG Grid: agSelectedRowCountComponent should only be used with the client and server side row model.")},n.prototype.isValidRowModel=function(){var e=this.gridApi.getModel().getType();return"clientSide"===e||"serverSide"===e},n.prototype.onRowSelectionChanged=function(){var e=this.gridApi.getSelectedRows().length,o=this.gridOptionsWrapper.getLocaleTextFunc(),u=o("thousandSeparator",","),c=o("decimalSeparator",".");this.setValue(E._.formatNumberCommas(e,u,c)),this.setDisplayed(e>0)},n.prototype.init=function(){},n.prototype.destroy=function(){h.prototype.destroy.call(this)},_x([E.Autowired("gridApi")],n.prototype,"gridApi",void 0),_x([E.PostConstruct],n.prototype,"postConstruct",null),n}(nw),bx=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),jo=function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);return u>3&&c&&Object.defineProperty(n,e,c),c},jR=function(h){function n(){return h.call(this,n.TEMPLATE)||this}return bx(n,h),n.prototype.destroy=function(){h.prototype.destroy.call(this)},n.prototype.postConstruct=function(){this.isValidRowModel()?(this.avgAggregationComp.setLabel("avg","Average"),this.countAggregationComp.setLabel("count","Count"),this.minAggregationComp.setLabel("min","Min"),this.maxAggregationComp.setLabel("max","Max"),this.sumAggregationComp.setLabel("sum","Sum"),this.addManagedListener(this.eventService,E.Events.EVENT_RANGE_SELECTION_CHANGED,this.onRangeSelectionChanged.bind(this)),this.addManagedListener(this.eventService,E.Events.EVENT_MODEL_UPDATED,this.onRangeSelectionChanged.bind(this))):console.warn("AG Grid: agAggregationComponent should only be used with the client and server side row model.")},n.prototype.isValidRowModel=function(){var e=this.gridApi.getModel().getType();return"clientSide"===e||"serverSide"===e},n.prototype.init=function(){},n.prototype.setAggregationComponentValue=function(e,o,u){var c=this.getAggregationValueComponent(e);if(E._.exists(c)&&c){var m=this.gridOptionsWrapper.getLocaleTextFunc(),y=m("thousandSeparator",","),w=m("decimalSeparator",".");c.setValue(E._.formatNumberTwoDecimalPlacesAndCommas(o,y,w)),c.setDisplayed(u)}},n.prototype.getAggregationValueComponent=function(e){var o=e+"AggregationComp",u=null,c=E._.exists(this.gridOptions.statusBar)&&this.gridOptions.statusBar?this.gridOptions.statusBar.statusPanels.find(function(m){return"agAggregationComponent"===m.statusPanel}):null;return E._.exists(c)&&c?(!E._.exists(c.statusPanelParams)||E._.exists(c.statusPanelParams)&&E._.exists(c.statusPanelParams.aggFuncs)&&E._.exists(c.statusPanelParams.aggFuncs.find(function(m){return m===e})))&&(u=this[o]):u=this[o],u},n.prototype.onRangeSelectionChanged=function(){var e=this,o=this.rangeService?this.rangeService.getCellRanges():void 0,u=0,c=0,m=0,y=null,w=null,D={};o&&!E._.missingOrEmpty(o)&&o.forEach(function(R){for(var I=e.rangeService.getRangeStartRow(R),N=e.rangeService.getRangeEndRow(R);!E._.missing(I)&&I&&!e.rowPositionUtils.before(N,I)&&I&&R.columns;)R.columns.forEach(function(z){if(null!==I){var Y=e.cellPositionUtils.createId({rowPinned:I.rowPinned,column:z,rowIndex:I.rowIndex});if(!D[Y]){D[Y]=!0;var X=e.rowRenderer.getRowNode(I);if(!E._.missing(X)){var q=e.valueService.getValue(z,X);E._.missing(q)||""===q||(q.value&&(q=q.value),"string"==typeof q&&(q=Number(q)),"number"==typeof q&&!isNaN(q)&&(u+=q,(null===w||q>w)&&(w=q),(null===y||q<y)&&(y=q),m++),c++)}}}}),I=e.cellNavigationService.getRowBelow(I)});var P=m>1;this.setAggregationComponentValue("count",c,c>1),this.setAggregationComponentValue("sum",u,P),this.setAggregationComponentValue("min",y,P),this.setAggregationComponentValue("max",w,P),this.setAggregationComponentValue("avg",u/m,P)},n.TEMPLATE='<div class="ag-status-panel ag-status-panel-aggregations">\n            <ag-name-value ref="avgAggregationComp"></ag-name-value>\n            <ag-name-value ref="countAggregationComp"></ag-name-value>\n            <ag-name-value ref="minAggregationComp"></ag-name-value>\n            <ag-name-value ref="maxAggregationComp"></ag-name-value>\n            <ag-name-value ref="sumAggregationComp"></ag-name-value>\n        </div>',jo([E.Optional("rangeService")],n.prototype,"rangeService",void 0),jo([E.Autowired("valueService")],n.prototype,"valueService",void 0),jo([E.Autowired("cellNavigationService")],n.prototype,"cellNavigationService",void 0),jo([E.Autowired("rowRenderer")],n.prototype,"rowRenderer",void 0),jo([E.Autowired("gridOptions")],n.prototype,"gridOptions",void 0),jo([E.Autowired("gridApi")],n.prototype,"gridApi",void 0),jo([E.Autowired("cellPositionUtils")],n.prototype,"cellPositionUtils",void 0),jo([E.Autowired("rowPositionUtils")],n.prototype,"rowPositionUtils",void 0),jo([E.RefSelector("sumAggregationComp")],n.prototype,"sumAggregationComp",void 0),jo([E.RefSelector("countAggregationComp")],n.prototype,"countAggregationComp",void 0),jo([E.RefSelector("minAggregationComp")],n.prototype,"minAggregationComp",void 0),jo([E.RefSelector("maxAggregationComp")],n.prototype,"maxAggregationComp",void 0),jo([E.RefSelector("avgAggregationComp")],n.prototype,"avgAggregationComp",void 0),jo([E.PostConstruct],n.prototype,"postConstruct",null),n}(E.Component),UR={moduleName:E.ModuleNames.StatusBarModule,beans:[_0],agStackComponents:[{componentName:"AgStatusBar",componentClass:C0},{componentName:"AgNameValue",componentClass:nw}],userComponents:[{componentName:"agAggregationComponent",componentClass:jR},{componentName:"agSelectedRowCountComponent",componentClass:Cx},{componentName:"agTotalRowCountComponent",componentClass:HR},{componentName:"agFilteredRowCountComponent",componentClass:CF},{componentName:"agTotalAndFilteredRowCountComponent",componentClass:yF}],dependantModules:[ii]},wx=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),ll=function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);return u>3&&c&&Object.defineProperty(n,e,c),c},zR=function(h){function n(){var e=null!==h&&h.apply(this,arguments)||this;return e.firstRow=-1,e.lastRow=-1,e.rowCount=-1,e.rowNodesByIndex={},e}return wx(n,h),n.prototype.ensureRowHeightsValid=function(e,o,u,c){return!1},n.prototype.init=function(){this.rowHeight=this.gridOptionsWrapper.getRowHeightAsNumber(),this.addManagedListener(this.eventService,E.Events.EVENT_VIEWPORT_CHANGED,this.onViewportChanged.bind(this))},n.prototype.start=function(){this.gridOptionsWrapper.getViewportDatasource()&&this.setViewportDatasource(this.gridOptionsWrapper.getViewportDatasource())},n.prototype.isLastRowIndexKnown=function(){return!0},n.prototype.destroyDatasource=function(){!this.viewportDatasource||(this.viewportDatasource.destroy&&this.viewportDatasource.destroy(),this.rowRenderer.datasourceChanged(),this.firstRow=-1,this.lastRow=-1)},n.prototype.calculateFirstRow=function(e){var o=this.gridOptionsWrapper.getViewportRowModelBufferSize(),u=this.gridOptionsWrapper.getViewportRowModelPageSize(),c=e-o;return c<0?0:Math.floor(c/u)*u},n.prototype.calculateLastRow=function(e){if(-1===e)return e;var o=this.gridOptionsWrapper.getViewportRowModelBufferSize(),u=this.gridOptionsWrapper.getViewportRowModelPageSize(),m=Math.ceil((e+o)/u)*u;return Math.min(m,this.rowCount-1)},n.prototype.onViewportChanged=function(e){var o=this.calculateFirstRow(e.firstRow),u=this.calculateLastRow(e.lastRow);(this.firstRow!==o||this.lastRow!==u)&&(this.firstRow=o,this.lastRow=u,this.purgeRowsNotInViewport(),this.viewportDatasource&&this.viewportDatasource.setViewportRange(this.firstRow,this.lastRow))},n.prototype.purgeRowsNotInViewport=function(){var e=this;Object.keys(this.rowNodesByIndex).forEach(function(o){var u=parseInt(o,10);(u<e.firstRow||u>e.lastRow)&&delete e.rowNodesByIndex[u]})},n.prototype.setViewportDatasource=function(e){this.destroyDatasource(),this.viewportDatasource=e,this.rowCount=0,e.init?e.init({setRowCount:this.setRowCount.bind(this),setRowData:this.setRowData.bind(this),getRow:this.getRow.bind(this)}):console.warn("AG Grid: viewport is missing init method.")},n.prototype.getType=function(){return E.Constants.ROW_MODEL_TYPE_VIEWPORT},n.prototype.getRow=function(e){return this.rowNodesByIndex[e]||(this.rowNodesByIndex[e]=this.createBlankRowNode(e)),this.rowNodesByIndex[e]},n.prototype.getRowNode=function(e){var o;return this.forEachNode(function(u){u.id===e&&(o=u)}),o},n.prototype.getRowCount=function(){return this.rowCount},n.prototype.getRowIndexAtPixel=function(e){return 0!==this.rowHeight?Math.floor(e/this.rowHeight):0},n.prototype.getRowBounds=function(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e}},n.prototype.getTopLevelRowCount=function(){return this.getRowCount()},n.prototype.getTopLevelRowDisplayedIndex=function(e){return e},n.prototype.isEmpty=function(){return this.rowCount>0},n.prototype.isRowsToRender=function(){return this.rowCount>0},n.prototype.getNodesInRangeForSelection=function(e,o){var u=E._.missing(e)?0:e.rowIndex,c=o.rowIndex;if(u<this.firstRow||u>this.lastRow||c<this.firstRow||c>this.lastRow)return[];for(var w=[],x=u<=c?c:u,P=u<=c?u:c;P<=x;P++)w.push(this.rowNodesByIndex[P]);return w},n.prototype.forEachNode=function(e){var o=this,u=0;Object.keys(this.rowNodesByIndex).forEach(function(c){var m=parseInt(c,10);e(o.rowNodesByIndex[m],u),u++})},n.prototype.setRowData=function(e){var o=this;E._.iterateObject(e,function(u,c){var m=parseInt(u,10);if(m>=o.firstRow&&m<=o.lastRow){var y=o.rowNodesByIndex[m];E._.missing(y)&&(y=o.createBlankRowNode(m),o.rowNodesByIndex[m]=y),y.setDataAndId(c,m.toString())}})},n.prototype.createBlankRowNode=function(e){var o=new E.RowNode(this.beans);return o.setRowHeight(this.rowHeight),o.setRowTop(this.rowHeight*e),o.setRowIndex(e),o},n.prototype.setRowCount=function(e,o){void 0===o&&(o=!1),e!==this.rowCount&&(this.rowCount=e,this.eventService.dispatchEvent({type:E.Events.EVENT_MODEL_UPDATED,api:this.gridApi,columnApi:this.columnApi,newData:!1,newPage:!1,keepRenderedRows:o,animate:!1}))},n.prototype.isRowPresent=function(e){return!1},ll([E.Autowired("gridApi")],n.prototype,"gridApi",void 0),ll([E.Autowired("columnApi")],n.prototype,"columnApi",void 0),ll([E.Autowired("rowRenderer")],n.prototype,"rowRenderer",void 0),ll([E.Autowired("beans")],n.prototype,"beans",void 0),ll([E.PostConstruct],n.prototype,"init",null),ll([E.PreDestroy],n.prototype,"destroyDatasource",null),ll([E.Bean("rowModel")],n)}(E.BeanStub),Sx={moduleName:E.ModuleNames.ViewportRowModelModule,rowModels:{viewport:zR},dependantModules:[ii]},Jg=function(){var h=function(n,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,e)};return function(n,e){function o(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),co=function(h,n,e,o){var m,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,n,e,o);else for(var y=h.length-1;y>=0;y--)(m=h[y])&&(c=(u<3?m(c):u>3?m(n,e,c):m(n,e))||c);return u>3&&c&&Object.defineProperty(n,e,c),c},$R=function(h,n){var e="function"==typeof Symbol&&h[Symbol.iterator];if(!e)return h;var u,m,o=e.call(h),c=[];try{for(;(void 0===n||n-- >0)&&!(u=o.next()).done;)c.push(u.value)}catch(y){m={error:y}}finally{try{u&&!u.done&&(e=o.return)&&e.call(o)}finally{if(m)throw m.error}}return c},YR=function(h){function n(){var e=null!==h&&h.apply(this,arguments)||this;return e.navigatorApiFailed=!1,e}return Jg(n,h),n.prototype.init=function(){var e=this;this.logger=this.loggerFactory.create("ClipboardService"),this.rowModel.getType()===E.Constants.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideRowModel=this.rowModel),this.ctrlsService.whenReady(function(o){e.gridCtrl=o.gridCtrl})},n.prototype.pasteFromClipboard=function(){var e=this;this.logger.log("pasteFromClipboard"),!this.gridOptionsWrapper.isSuppressClipboardApi()&&!this.navigatorApiFailed&&navigator.clipboard&&navigator.clipboard.readText?navigator.clipboard.readText().then(this.processClipboardData.bind(this)).catch(function(u){E._.doOnce(function(){console.warn(u),console.warn("AG Grid: Unable to use the Clipboard API (navigator.clipboard.readText()). The reason why it could not be used has been logged in the previous line. For this reason the grid has defaulted to using a workaround which doesn't perform as well. Either fix why Clipboard API is blocked, OR stop this message from appearing by setting grid property suppressClipboardApi=true (which will default the grid to using the workaround rather than the API")},"clipboardApiError"),e.navigatorApiFailed=!0,e.pasteFromClipboardLegacy()}):this.pasteFromClipboardLegacy()},n.prototype.pasteFromClipboardLegacy=function(){var e=this;this.executeOnTempElement(function(o){return o.focus({preventScroll:!0})},function(o){e.processClipboardData(o.value)})},n.prototype.processClipboardData=function(e){var o=this;if(null!=e){var u=E._.stringToArray(e,this.gridOptionsWrapper.getClipboardDeliminator()),c=this.gridOptionsWrapper.getProcessDataFromClipboardFunc();c&&(u=c({data:u})),null!=u&&(this.gridOptionsWrapper.isSuppressLastEmptyLineOnPaste()&&this.removeLastLineIfBlank(u),this.doPasteOperation(function(y,w,D,x){o.rangeService&&o.rangeService.isMoreThanOneCell()&&!o.hasOnlyOneValueToPaste(u)?o.pasteIntoActiveRange(u,y,w,x):o.pasteStartingFromFocusedCell(u,y,w,D,x)}))}},n.prototype.doPasteOperation=function(e){var m,o=this.gridOptionsWrapper.getApi(),u=this.gridOptionsWrapper.getColumnApi(),c="clipboard";if(this.eventService.dispatchEvent({type:E.Events.EVENT_PASTE_START,api:o,columnApi:u,source:c}),this.clientSideRowModel){var y=this.gridOptionsWrapper.isAggregateOnlyChangedColumns();m=new E.ChangedPath(y,this.clientSideRowModel.getRootNode())}var w={},D=[],x=this.focusService.getFocusedCell();e(w,D,x,m),m&&this.clientSideRowModel.doAggregate(m),this.rowRenderer.refreshCells(),this.dispatchFlashCells(w),this.fireRowChanged(D),x&&this.focusService.setFocusedCell(x.rowIndex,x.column,x.rowPinned,!0),this.eventService.dispatchEvent({type:E.Events.EVENT_PASTE_END,api:o,columnApi:u,source:c})},n.prototype.pasteIntoActiveRange=function(e,o,u,c){var m=this,y=this.getRangeSize()%e.length!=0,w=0,D=0;this.iterateActiveRanges(!1,function(P,R,I,N){if(N-w>=e.length){if(y)return;w+=D,D=0}var z=e[N-w];u.push(R);var Y=m.gridOptionsWrapper.getProcessCellFromClipboardFunc();I.forEach(function(X,q){if(X.isCellEditable(R)&&!X.isSuppressPaste(R)){q>=z.length&&(q%=z.length);var ie=m.processCell(R,X,z[q],E.Constants.EXPORT_TYPE_DRAG_COPY,Y);R.setDataValue(X,ie,E.Constants.SOURCE_PASTE),c&&c.addParentNode(R.parent,[X]);var ce=m.cellPositionUtils.createIdFromValues(P.rowIndex,X,P.rowPinned);o[ce]=!0}}),D++})},n.prototype.pasteStartingFromFocusedCell=function(e,o,u,c,m){if(c){var y={rowIndex:c.rowIndex,rowPinned:c.rowPinned},w=this.columnModel.getDisplayedColumnsStartingAt(c.column);this.isPasteSingleValueIntoRange(e)?this.pasteSingleValueIntoRange(e,u,o,m):this.pasteMultipleValues(e,y,u,w,o,E.Constants.EXPORT_TYPE_CLIPBOARD,m)}},n.prototype.isPasteSingleValueIntoRange=function(e){return this.hasOnlyOneValueToPaste(e)&&null!=this.rangeService&&!this.rangeService.isEmpty()},n.prototype.pasteSingleValueIntoRange=function(e,o,u,c){var m=this,y=e[0][0];this.iterateActiveRanges(!1,function(D,x,P){o.push(x),P.forEach(function(R){return m.updateCellValue(x,R,y,u,E.Constants.EXPORT_TYPE_CLIPBOARD,c)})})},n.prototype.hasOnlyOneValueToPaste=function(e){return 1===e.length&&1===e[0].length},n.prototype.copyRangeDown=function(){var e=this;if(this.rangeService&&!this.rangeService.isEmpty()){var o=[];this.doPasteOperation(function(c,m,y,w){var D=e.gridOptionsWrapper.getProcessCellForClipboardFunc(),x=e.gridOptionsWrapper.getProcessCellFromClipboardFunc();e.iterateActiveRanges(!0,function(R,I,N){o.length?(m.push(I),N.forEach(function(V,z){if(V.isCellEditable(I)&&!V.isSuppressPaste(I)){var Y=e.processCell(I,V,o[z],E.Constants.EXPORT_TYPE_DRAG_COPY,x);I.setDataValue(V,Y,E.Constants.SOURCE_PASTE),w&&w.addParentNode(I.parent,[V]);var X=e.cellPositionUtils.createIdFromValues(R.rowIndex,V,R.rowPinned);c[X]=!0}})):N.forEach(function(V){var z=e.processCell(I,V,e.valueService.getValue(V,I),E.Constants.EXPORT_TYPE_DRAG_COPY,D);o.push(z)})})})}},n.prototype.removeLastLineIfBlank=function(e){var o=E._.last(e);o&&1===o.length&&""===o[0]&&E._.removeFromArray(e,o)},n.prototype.fireRowChanged=function(e){var o=this;!this.gridOptionsWrapper.isFullRowEdit()||e.forEach(function(u){var c={type:E.Events.EVENT_ROW_VALUE_CHANGED,node:u,data:u.data,rowIndex:u.rowIndex,rowPinned:u.rowPinned,context:o.gridOptionsWrapper.getContext(),api:o.gridOptionsWrapper.getApi(),columnApi:o.gridOptionsWrapper.getColumnApi()};o.eventService.dispatchEvent(c)})},n.prototype.pasteMultipleValues=function(e,o,u,c,m,y,w){var D=this,x=o,P=null!=this.clientSideRowModel&&!this.gridOptionsWrapper.isTreeData();e.forEach(function(I){var N=function(){for(;;){if(!x)return null;var I=D.rowPositionUtils.getRowNode(x);if(x=D.cellNavigationService.getRowBelow({rowPinned:x.rowPinned,rowIndex:x.rowIndex}),null==I)return null;if(!(I.detail||I.footer||P&&I.group))return I}}();!N||(I.forEach(function(V,z){return D.updateCellValue(N,c[z],V,m,y,w)}),u.push(N))})},n.prototype.updateCellValue=function(e,o,u,c,m,y){if(e&&o&&o.isCellEditable(e)&&!o.isSuppressPaste(e)){var w=this.processCell(e,o,u,m,this.gridOptionsWrapper.getProcessCellFromClipboardFunc());e.setDataValue(o,w,E.Constants.SOURCE_PASTE),c[this.cellPositionUtils.createIdFromValues(e.rowIndex,o,e.rowPinned)]=!0,y&&y.addParentNode(e.parent,[o])}},n.prototype.copyToClipboard=function(e){void 0===e&&(e={});var o=e.includeHeaders,u=e.includeGroupHeaders;this.logger.log("copyToClipboard: includeHeaders = "+o),null==o&&(o=this.gridOptionsWrapper.isCopyHeadersToClipboard()),null==u&&(u=this.gridOptionsWrapper.isCopyGroupHeadersToClipboard());var c={includeHeaders:o,includeGroupHeaders:u},m=!this.selectionService.isEmpty()&&!this.gridOptionsWrapper.isSuppressCopyRowsToClipboard();this.rangeService&&this.rangeService.isMoreThanOneCell()?this.copySelectedRangeToClipboard(c):m?this.copySelectedRowsToClipboard(c):this.focusService.isAnyCellFocused()?this.copyFocusedCellToClipboard(c):this.copySelectedRangeToClipboard(c)},n.prototype.iterateActiveRanges=function(e,o,u){var c=this;if(this.rangeService&&!this.rangeService.isEmpty()){var m=this.rangeService.getCellRanges();e?this.iterateActiveRange(m[0],o,u,!0):m.forEach(function(y,w){return c.iterateActiveRange(y,o,u,w===m.length-1)})}},n.prototype.iterateActiveRange=function(e,o,u,c){if(this.rangeService){var m=this.rangeService.getRangeStartRow(e),y=this.rangeService.getRangeEndRow(e);u&&e.columns&&u(e.columns);for(var w=0,D=!1;!D&&null!=m;){var x=this.rowPositionUtils.getRowNode(m);D=this.rowPositionUtils.sameRow(m,y),o(m,x,e.columns,w++,D&&c),m=this.cellNavigationService.getRowBelow(m)}}},n.prototype.copySelectedRangeToClipboard=function(e){if(void 0===e&&(e={}),this.rangeService&&!this.rangeService.isEmpty()){var u=this.rangeService.areAllRangesAbleToMerge()?this.buildDataFromMergedRanges(e):this.buildDataFromRanges(e),m=u.cellsToFlash;this.copyDataToClipboard(u.data),this.dispatchFlashCells(m)}},n.prototype.buildDataFromMergedRanges=function(e){var o=this,u=new Set,c=this.rangeService.getCellRanges(),m=[],y={};c.forEach(function(P){P.columns.forEach(function(V){return u.add(V)});var R=o.getRangeRowPositionsAndCellsToFlash(P),N=R.cellsToFlash;m.push.apply(m,function(){for(var h=[],n=0;n<arguments.length;n++)h=h.concat($R(arguments[n]));return h}(R.rowPositions)),Object.assign(y,N)});var w=this.columnModel.getAllDisplayedColumns(),D=Array.from(u);return D.sort(function(P,R){return w.indexOf(P)-w.indexOf(R)}),{data:this.buildExportParams({columns:D,rowPositions:m,includeHeaders:e.includeHeaders,includeGroupHeaders:e.includeGroupHeaders}),cellsToFlash:y}},n.prototype.buildDataFromRanges=function(e){var o=this,u=this.rangeService.getCellRanges(),c=[],m={};return u.forEach(function(y){var w=o.getRangeRowPositionsAndCellsToFlash(y),D=w.rowPositions;Object.assign(m,w.cellsToFlash),c.push(o.buildExportParams({columns:y.columns,rowPositions:D,includeHeaders:e.includeHeaders,includeGroupHeaders:e.includeGroupHeaders}))}),{data:c.join("\n"),cellsToFlash:m}},n.prototype.getRangeRowPositionsAndCellsToFlash=function(e){for(var o=this,u=[],c={},m=this.rangeService.getRangeStartRow(e),y=this.rangeService.getRangeEndRow(e),w=m;w&&(u.push(w),e.columns.forEach(function(D){var x=o.cellPositionUtils.createIdFromValues(w.rowIndex,D,w.rowPinned);c[x]=!0}),!this.rowPositionUtils.sameRow(w,y));)w=this.cellNavigationService.getRowBelow(w);return{rowPositions:u,cellsToFlash:c}},n.prototype.copyFocusedCellToClipboard=function(e){var o;void 0===e&&(e={});var u=this.focusService.getFocusedCell();if(null!=u){var c=this.cellPositionUtils.createId(u),w=this.buildExportParams({columns:[u.column],rowPositions:[{rowPinned:u.rowPinned,rowIndex:u.rowIndex}],includeHeaders:e.includeHeaders,includeGroupHeaders:e.includeGroupHeaders});this.copyDataToClipboard(w),this.dispatchFlashCells(((o={})[c]=!0,o))}},n.prototype.copySelectedRowsToClipboard=function(e){void 0===e&&(e={});var m=this.buildExportParams({columns:e.columnKeys,includeHeaders:e.includeHeaders,includeGroupHeaders:e.includeGroupHeaders});this.copyDataToClipboard(m)},n.prototype.buildExportParams=function(e){var u=e.rowPositions,c=e.includeHeaders,y=e.includeGroupHeaders,D={columnKeys:e.columns,rowNodes:u,skipColumnHeaders:!(void 0!==c&&c),skipColumnGroupHeaders:!(void 0!==y&&y),suppressQuotes:!0,columnSeparator:this.gridOptionsWrapper.getClipboardDeliminator(),onlySelected:!u,processCellCallback:this.gridOptionsWrapper.getProcessCellForClipboardFunc(),processRowGroupCallback:function(x){return x.node.key},processHeaderCallback:this.gridOptionsWrapper.getProcessHeaderForClipboardFunc(),processGroupHeaderCallback:this.gridOptionsWrapper.getProcessGroupHeaderForClipboardFunc()};return this.csvCreator.getDataAsCsv(D)},n.prototype.dispatchFlashCells=function(e){var o=this;window.setTimeout(function(){o.eventService.dispatchEvent({type:E.Events.EVENT_FLASH_CELLS,cells:e,api:o.gridApi,columnApi:o.columnApi})},0)},n.prototype.processCell=function(e,o,u,c,m){return m?m({column:o,node:e,value:u,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),type:c}):u},n.prototype.copyDataToClipboard=function(e){var o=this,u=this.gridOptionsWrapper.getSendToClipboardFunc();u?u({data:e}):!this.gridOptionsWrapper.isSuppressClipboardApi()&&navigator.clipboard?navigator.clipboard.writeText(e).catch(function(m){E._.doOnce(function(){console.warn(m),console.warn("AG Grid: Unable to use the Clipboard API (navigator.clipboard.writeText()). The reason why it could not be used has been logged in the previous line. For this reason the grid has defaulted to using a workaround which doesn't perform as well. Either fix why Clipboard API is blocked, OR stop this message from appearing by setting grid property suppressClipboardApi=true (which will default the grid to using the workaround rather than the API.")},"clipboardApiError"),o.copyDataToClipboardLegacy(e)}):this.copyDataToClipboardLegacy(e)},n.prototype.copyDataToClipboardLegacy=function(e){var o=this;this.executeOnTempElement(function(u){var c=o.gridOptionsWrapper.getDocument(),m=c.activeElement;u.value=e||" ",u.select(),u.focus({preventScroll:!0}),c.execCommand("copy")||console.warn("AG Grid: Browser did not allow document.execCommand('copy'). Ensure api.copySelectedRowsToClipboard() is invoked via a user event, i.e. button click, otherwise the browser will prevent it for security reasons."),null!=m&&null!=m.focus&&m.focus({preventScroll:!0})})},n.prototype.executeOnTempElement=function(e,o){var u=this.gridOptionsWrapper.getDocument(),c=u.createElement("textarea");c.style.width="1px",c.style.height="1px",c.style.top=u.documentElement.scrollTop+"px",c.style.left=u.documentElement.scrollLeft+"px",c.style.position="absolute",c.style.opacity="0";var m=this.gridCtrl.getGui();m.appendChild(c);try{e(c)}catch(y){console.warn("AG Grid: Browser does not support document.execCommand('copy') for clipboard operations")}o?window.setTimeout(function(){o(c),m.removeChild(c)},100):m.removeChild(c)},n.prototype.getRangeSize=function(){var e=this.rangeService.getCellRanges(),o=0,u=0;return e.length>0&&(o=this.rangeService.getRangeStartRow(e[0]).rowIndex,u=this.rangeService.getRangeEndRow(e[0]).rowIndex),o-u+1},co([E.Autowired("csvCreator")],n.prototype,"csvCreator",void 0),co([E.Autowired("loggerFactory")],n.prototype,"loggerFactory",void 0),co([E.Autowired("selectionService")],n.prototype,"selectionService",void 0),co([E.Optional("rangeService")],n.prototype,"rangeService",void 0),co([E.Autowired("rowModel")],n.prototype,"rowModel",void 0),co([E.Autowired("ctrlsService")],n.prototype,"ctrlsService",void 0),co([E.Autowired("valueService")],n.prototype,"valueService",void 0),co([E.Autowired("focusService")],n.prototype,"focusService",void 0),co([E.Autowired("rowRenderer")],n.prototype,"rowRenderer",void 0),co([E.Autowired("columnModel")],n.prototype,"columnModel",void 0),co([E.Autowired("cellNavigationService")],n.prototype,"cellNavigationService",void 0),co([E.Autowired("columnApi")],n.prototype,"columnApi",void 0),co([E.Autowired("gridApi")],n.prototype,"gridApi",void 0),co([E.Autowired("cellPositionUtils")],n.prototype,"cellPositionUtils",void 0),co([E.Autowired("rowPositionUtils")],n.prototype,"rowPositionUtils",void 0),co([E.PostConstruct],n.prototype,"init",null),co([E.Bean("clipboardService")],n)}(E.BeanStub),bF={moduleName:E.ModuleNames.ClipboardModule,beans:[YR],dependantModules:[ii,kw]};E.ModuleRegistry.register(fn,!1),E.ModuleRegistry.register(_r,!1),E.ModuleRegistry.register(Ve,!1),E.ModuleRegistry.register(xv,!1),E.ModuleRegistry.register(fR,!1),E.ModuleRegistry.register(mR,!1),E.ModuleRegistry.register(qg,!1),E.ModuleRegistry.register(CR,!1),E.ModuleRegistry.register(YO,!1),E.ModuleRegistry.register(ox,!1),E.ModuleRegistry.register(Ds,!1),E.ModuleRegistry.register(fF,!1),E.ModuleRegistry.register(Ah,!1),E.ModuleRegistry.register(ln,!1),E.ModuleRegistry.register(UR,!1),E.ModuleRegistry.register(Sx,!1),E.ModuleRegistry.register(bF,!1)},349:(ya,B,jr)=>{function J(l){return"function"==typeof l}function E(l){const r=l(d=>{Error.call(d),d.stack=(new Error).stack});return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}const Bi=E(l=>function(r){l(this),this.message=r?`${r.length} errors occurred during unsubscription:\n${r.map((d,v)=>`${v+1}) ${d.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=r});function Cl(l,a){if(l){const r=l.indexOf(a);0<=r&&l.splice(r,1)}}class an{constructor(a){this.initialTeardown=a,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let a;if(!this.closed){this.closed=!0;const{_parentage:r}=this;if(r)if(this._parentage=null,Array.isArray(r))for(const C of r)C.remove(this);else r.remove(this);const{initialTeardown:d}=this;if(J(d))try{d()}catch(C){a=C instanceof Bi?C.errors:[C]}const{_teardowns:v}=this;if(v){this._teardowns=null;for(const C of v)try{bm(C)}catch(S){a=null!=a?a:[],S instanceof Bi?a=[...a,...S.errors]:a.push(S)}}if(a)throw new Bi(a)}}add(a){var r;if(a&&a!==this)if(this.closed)bm(a);else{if(a instanceof an){if(a.closed||a._hasParent(this))return;a._addParent(this)}(this._teardowns=null!==(r=this._teardowns)&&void 0!==r?r:[]).push(a)}}_hasParent(a){const{_parentage:r}=this;return r===a||Array.isArray(r)&&r.includes(a)}_addParent(a){const{_parentage:r}=this;this._parentage=Array.isArray(r)?(r.push(a),r):r?[r,a]:a}_removeParent(a){const{_parentage:r}=this;r===a?this._parentage=null:Array.isArray(r)&&Cl(r,a)}remove(a){const{_teardowns:r}=this;r&&Cl(r,a),a instanceof an&&a._removeParent(this)}}an.EMPTY=(()=>{const l=new an;return l.closed=!0,l})();const _a=an.EMPTY;function x_(l){return l instanceof an||l&&"closed"in l&&J(l.remove)&&J(l.add)&&J(l.unsubscribe)}function bm(l){J(l)?l():l.unsubscribe()}const au={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},_c={setTimeout(...l){const{delegate:a}=_c;return((null==a?void 0:a.setTimeout)||setTimeout)(...l)},clearTimeout(l){const{delegate:a}=_c;return((null==a?void 0:a.clearTimeout)||clearTimeout)(l)},delegate:void 0};function Ya(l){_c.setTimeout(()=>{const{onUnhandledError:a}=au;if(!a)throw l;a(l)})}function $d(){}const ii=wo("C",void 0,void 0);function wo(l,a,r){return{kind:l,value:a,error:r}}let qa=null;function Es(l){if(au.useDeprecatedSynchronousErrorHandling){const a=!qa;if(a&&(qa={errorThrown:!1,error:null}),l(),a){const{errorThrown:r,error:d}=qa;if(qa=null,r)throw d}}else l()}class Cc extends an{constructor(a){super(),this.isStopped=!1,a?(this.destination=a,x_(a)&&a.add(this)):this.destination=Ew}static create(a,r,d){return new Fh(a,r,d)}next(a){this.isStopped?Hi(wo("N",a,void 0),this):this._next(a)}error(a){this.isStopped?Hi(wo("E",void 0,a),this):(this.isStopped=!0,this._error(a))}complete(){this.isStopped?Hi(ii,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(a){this.destination.next(a)}_error(a){try{this.destination.error(a)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class Fh extends Cc{constructor(a,r,d){let v;if(super(),J(a))v=a;else if(a){let C;({next:v,error:r,complete:d}=a),this&&au.useDeprecatedNextContext?(C=Object.create(a),C.unsubscribe=()=>this.unsubscribe()):C=a,v=null==v?void 0:v.bind(C),r=null==r?void 0:r.bind(C),d=null==d?void 0:d.bind(C)}this.destination={next:v?Ih(v):$d,error:Ih(null!=r?r:Ca),complete:d?Ih(d):$d}}}function Ih(l,a){return(...r)=>{try{l(...r)}catch(d){au.useDeprecatedSynchronousErrorHandling?function(l){au.useDeprecatedSynchronousErrorHandling&&qa&&(qa.errorThrown=!0,qa.error=l)}(d):Ya(d)}}}function Ca(l){throw l}function Hi(l,a){const{onStoppedNotification:r}=au;r&&_c.setTimeout(()=>r(l,a))}const Ew={closed:!0,next:$d,error:Ca,complete:$d},ba="function"==typeof Symbol&&Symbol.observable||"@@observable";function Kd(l){return l}let ur=(()=>{class l{constructor(r){r&&(this._subscribe=r)}lift(r){const d=new l;return d.source=this,d.operator=r,d}subscribe(r,d,v){const C=function(l){return l&&l instanceof Cc||function(l){return l&&J(l.next)&&J(l.error)&&J(l.complete)}(l)&&x_(l)}(r)?r:new Fh(r,d,v);return Es(()=>{const{operator:S,source:O}=this;C.add(S?S.call(C,O):O?this._subscribe(C):this._trySubscribe(C))}),C}_trySubscribe(r){try{return this._subscribe(r)}catch(d){r.error(d)}}forEach(r,d){return new(d=uu(d))((v,C)=>{let S;S=this.subscribe(O=>{try{r(O)}catch(T){C(T),null==S||S.unsubscribe()}},C,v)})}_subscribe(r){var d;return null===(d=this.source)||void 0===d?void 0:d.subscribe(r)}[ba](){return this}pipe(...r){return function(l){return 0===l.length?Kd:1===l.length?l[0]:function(r){return l.reduce((d,v)=>v(d),r)}}(r)(this)}toPromise(r){return new(r=uu(r))((d,v)=>{let C;this.subscribe(S=>C=S,S=>v(S),()=>d(C))})}}return l.create=a=>new l(a),l})();function uu(l){var a;return null!==(a=null!=l?l:au.Promise)&&void 0!==a?a:Promise}const xw=E(l=>function(){l(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Mt=(()=>{class l extends ur{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(r){const d=new En(this,this);return d.operator=r,d}_throwIfClosed(){if(this.closed)throw new xw}next(r){Es(()=>{if(this._throwIfClosed(),!this.isStopped){const d=this.observers.slice();for(const v of d)v.next(r)}})}error(r){Es(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=r;const{observers:d}=this;for(;d.length;)d.shift().error(r)}})}complete(){Es(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:r}=this;for(;r.length;)r.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var r;return(null===(r=this.observers)||void 0===r?void 0:r.length)>0}_trySubscribe(r){return this._throwIfClosed(),super._trySubscribe(r)}_subscribe(r){return this._throwIfClosed(),this._checkFinalizedStatuses(r),this._innerSubscribe(r)}_innerSubscribe(r){const{hasError:d,isStopped:v,observers:C}=this;return d||v?_a:(C.push(r),new an(()=>Cl(C,r)))}_checkFinalizedStatuses(r){const{hasError:d,thrownError:v,isStopped:C}=this;d?r.error(v):C&&r.complete()}asObservable(){const r=new ur;return r.source=this,r}}return l.create=(a,r)=>new En(a,r),l})();class En extends Mt{constructor(a,r){super(),this.destination=a,this.source=r}next(a){var r,d;null===(d=null===(r=this.destination)||void 0===r?void 0:r.next)||void 0===d||d.call(r,a)}error(a){var r,d;null===(d=null===(r=this.destination)||void 0===r?void 0:r.error)||void 0===d||d.call(r,a)}complete(){var a,r;null===(r=null===(a=this.destination)||void 0===a?void 0:a.complete)||void 0===r||r.call(a)}_subscribe(a){var r,d;return null!==(d=null===(r=this.source)||void 0===r?void 0:r.subscribe(a))&&void 0!==d?d:_a}}function Wi(l){return a=>{if(function(l){return J(null==l?void 0:l.lift)}(a))return a.lift(function(r){try{return l(r,this)}catch(d){this.error(d)}});throw new TypeError("Unable to lift unknown Observable type")}}class Ci extends Cc{constructor(a,r,d,v,C){super(a),this.onFinalize=C,this._next=r?function(S){try{r(S)}catch(O){a.error(O)}}:super._next,this._error=v?function(S){try{v(S)}catch(O){a.error(O)}finally{this.unsubscribe()}}:super._error,this._complete=d?function(){try{d()}catch(S){a.error(S)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var a;const{closed:r}=this;super.unsubscribe(),!r&&(null===(a=this.onFinalize)||void 0===a||a.call(this))}}function oi(l,a){return Wi((r,d)=>{let v=0;r.subscribe(new Ci(d,C=>{d.next(l.call(a,C,v++))}))})}function tn(l){return this instanceof tn?(this.v=l,this):new tn(l)}function T_(l,a,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var v,d=r.apply(l,a||[]),C=[];return v={},S("next"),S("throw"),S("return"),v[Symbol.asyncIterator]=function(){return this},v;function S(Q){d[Q]&&(v[Q]=function(oe){return new Promise(function(de,_e){C.push([Q,oe,de,_e])>1||O(Q,oe)})})}function O(Q,oe){try{!function(Q){Q.value instanceof tn?Promise.resolve(Q.value.v).then(F,k):j(C[0][2],Q)}(d[Q](oe))}catch(de){j(C[0][3],de)}}function F(Q){O("next",Q)}function k(Q){O("throw",Q)}function j(Q,oe){Q(oe),C.shift(),C.length&&O(C[0][0],C[0][1])}}function wi(l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,a=l[Symbol.asyncIterator];return a?a.call(l):(l=function(l){var a="function"==typeof Symbol&&Symbol.iterator,r=a&&l[a],d=0;if(r)return r.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&d>=l.length&&(l=void 0),{value:l&&l[d++],done:!l}}};throw new TypeError(a?"Object is not iterable.":"Symbol.iterator is not defined.")}(l),r={},d("next"),d("throw"),d("return"),r[Symbol.asyncIterator]=function(){return this},r);function d(C){r[C]=l[C]&&function(S){return new Promise(function(O,T){!function(C,S,O,T){Promise.resolve(T).then(function(F){C({value:F,done:O})},S)}(O,T,(S=l[C](S)).done,S.value)})}}}const Dm=l=>l&&"number"==typeof l.length&&"function"!=typeof l;function pn(l){return J(null==l?void 0:l.then)}function Vh(l){return J(l[ba])}function wa(l){return Symbol.asyncIterator&&J(null==l?void 0:l[Symbol.asyncIterator])}function Rn(l){return new TypeError(`You provided ${null!==l&&"object"==typeof l?"an invalid object":`'${l}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const R_="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function P_(l){return J(null==l?void 0:l[R_])}function qd(l){return T_(this,arguments,function*(){const r=l.getReader();try{for(;;){const{value:d,done:v}=yield tn(r.read());if(v)return yield tn(void 0);yield yield tn(d)}}finally{r.releaseLock()}})}function M_(l){return J(null==l?void 0:l.getReader)}function Pn(l){if(l instanceof ur)return l;if(null!=l){if(Vh(l))return function(l){return new ur(a=>{const r=l[ba]();if(J(r.subscribe))return r.subscribe(a);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(l);if(Dm(l))return function(l){return new ur(a=>{for(let r=0;r<l.length&&!a.closed;r++)a.next(l[r]);a.complete()})}(l);if(pn(l))return function(l){return new ur(a=>{l.then(r=>{a.closed||(a.next(r),a.complete())},r=>a.error(r)).then(null,Ya)})}(l);if(wa(l))return ho(l);if(P_(l))return function(l){return new ur(a=>{for(const r of l)if(a.next(r),a.closed)return;a.complete()})}(l);if(M_(l))return function(l){return ho(qd(l))}(l)}throw Rn(l)}function ho(l){return new ur(a=>{(function(l,a){var r,d,v,C;return function(l,a,r,d){return new(r||(r=Promise))(function(C,S){function O(k){try{F(d.next(k))}catch(j){S(j)}}function T(k){try{F(d.throw(k))}catch(j){S(j)}}function F(k){k.done?C(k.value):function(C){return C instanceof r?C:new r(function(S){S(C)})}(k.value).then(O,T)}F((d=d.apply(l,a||[])).next())})}(this,void 0,void 0,function*(){try{for(r=wi(l);!(d=yield r.next()).done;)if(a.next(d.value),a.closed)return}catch(S){v={error:S}}finally{try{d&&!d.done&&(C=r.return)&&(yield C.call(r))}finally{if(v)throw v.error}}a.complete()})})(l,a).catch(r=>a.error(r))})}function Ds(l,a,r,d=0,v=!1){const C=a.schedule(function(){r(),v?l.add(this.schedule(null,d)):this.unsubscribe()},d);if(l.add(C),!v)return C}function Xa(l,a,r=1/0){return J(a)?Xa((d,v)=>oi((C,S)=>a(d,C,v,S))(Pn(l(d,v))),r):("number"==typeof a&&(r=a),Wi((d,v)=>function(l,a,r,d,v,C,S,O){const T=[];let F=0,k=0,j=!1;const Q=()=>{j&&!T.length&&!F&&a.complete()},oe=_e=>F<d?de(_e):T.push(_e),de=_e=>{F++;let Te=!1;Pn(r(_e,k++)).subscribe(new Ci(a,Ue=>{a.next(Ue)},()=>{Te=!0},void 0,()=>{if(Te)try{for(F--;T.length&&F<d;){const Ue=T.shift();de(Ue)}Q()}catch(Ue){a.error(Ue)}}))};return l.subscribe(new Ci(a,oe,()=>{j=!0,Q()})),()=>{}}(d,v,l,r)))}function xm(l=1/0){return Xa(Kd,l)}const Or=new ur(l=>l.complete());function Tm(l){return l&&J(l.schedule)}function Hh(l){return l[l.length-1]}function Os(l){return Tm(Hh(l))?l.pop():void 0}function Zd(l,a=0){return Wi((r,d)=>{r.subscribe(new Ci(d,v=>Ds(d,l,()=>d.next(v),a),()=>Ds(d,l,()=>d.complete(),a),v=>Ds(d,l,()=>d.error(v),a)))})}function Jd(l,a=0){return Wi((r,d)=>{d.add(l.schedule(()=>r.subscribe(d),a))})}function tp(l,a){if(!l)throw new Error("Iterable cannot be null");return new ur(r=>{Ds(r,a,()=>{const d=l[Symbol.asyncIterator]();Ds(r,a,()=>{d.next().then(v=>{v.done?r.complete():r.next(v.value)})},0,!0)})})}function xs(l,a){return a?function(l,a){if(null!=l){if(Vh(l))return function(l,a){return Pn(l).pipe(Jd(a),Zd(a))}(l,a);if(Dm(l))return function(l,a){return new ur(r=>{let d=0;return a.schedule(function(){d===l.length?r.complete():(r.next(l[d++]),r.closed||this.schedule())})})}(l,a);if(pn(l))return function(l,a){return Pn(l).pipe(Jd(a),Zd(a))}(l,a);if(wa(l))return tp(l,a);if(P_(l))return function(l,a){return new ur(r=>{let d;return Ds(r,a,()=>{d=l[R_](),Ds(r,a,()=>{let v,C;try{({value:v,done:C}=d.next())}catch(S){return void r.error(S)}C?r.complete():r.next(v)},0,!0)}),()=>J(null==d?void 0:d.return)&&d.return()})}(l,a);if(M_(l))return function(l,a){return tp(qd(l),a)}(l,a)}throw Rn(l)}(l,a):Pn(l)}function Ge(...l){const a=Os(l),r=function(l,a){return"number"==typeof Hh(l)?l.pop():1/0}(l),d=l;return d.length?1===d.length?Pn(d[0]):xm(r)(xs(d,a)):Or}function fo(l){return l<=0?()=>Or:Wi((a,r)=>{let d=0;a.subscribe(new Ci(r,v=>{++d<=l&&(r.next(v),l<=d&&r.complete())}))})}function jh(l={}){const{connector:a=(()=>new Mt),resetOnError:r=!0,resetOnComplete:d=!0,resetOnRefCountZero:v=!0}=l;return C=>{let S=null,O=null,T=null,F=0,k=!1,j=!1;const Q=()=>{null==O||O.unsubscribe(),O=null},oe=()=>{Q(),S=T=null,k=j=!1},de=()=>{const _e=S;oe(),null==_e||_e.unsubscribe()};return Wi((_e,Te)=>{F++,!j&&!k&&Q();const Ue=T=null!=T?T:a();Te.add(()=>{F--,0===F&&!j&&!k&&(O=Mm(de,v))}),Ue.subscribe(Te),S||(S=new Fh({next:Ee=>Ue.next(Ee),error:Ee=>{j=!0,Q(),O=Mm(oe,r,Ee),Ue.error(Ee)},complete:()=>{k=!0,Q(),O=Mm(oe,d),Ue.complete()}}),xs(_e).subscribe(S))})(C)}}function Mm(l,a,...r){return!0===a?(l(),null):!1===a?null:a(...r).pipe(fo(1)).subscribe(()=>l())}function jn(l){for(let a in l)if(l[a]===jn)return a;throw Error("Could not find renamed property on target object.")}function re(l,a){for(const r in a)a.hasOwnProperty(r)&&!l.hasOwnProperty(r)&&(l[r]=a[r])}function ln(l){if("string"==typeof l)return l;if(Array.isArray(l))return"["+l.map(ln).join(", ")+"]";if(null==l)return""+l;if(l.overriddenName)return`${l.overriddenName}`;if(l.name)return`${l.name}`;const a=l.toString();if(null==a)return""+a;const r=a.indexOf("\n");return-1===r?a:a.substring(0,r)}function As(l,a){return null==l||""===l?null===a?"":a:null==a||""===a?l:l+" "+a}const Pw=jn({__forward_ref__:jn});function fn(l){return l.__forward_ref__=fn,l.toString=function(){return ln(this())},l}function Kt(l){return Fm(l)?l():l}function Fm(l){return"function"==typeof l&&l.hasOwnProperty(Pw)&&l.__forward_ref__===fn}class mr extends Error{constructor(a,r){super(function(l,a){return`${l?`NG0${l}: `:""}${a}`}(a,r)),this.code=a}}function Ft(l){return"string"==typeof l?l:null==l?"":String(l)}function ji(l){return"function"==typeof l?l.name||l.toString():"object"==typeof l&&null!=l&&"function"==typeof l.type?l.type.name||l.type.toString():Ft(l)}function vr(l,a){const r=a?` in ${a}`:"";throw new mr("201",`No provider for ${ji(l)} found${r}`)}function Un(l,a){null==l&&function(l,a,r,d){throw new Error(`ASSERTION ERROR: ${l}`+(null==d?"":` [Expected=> ${r} ${d} ${a} <=Actual]`))}(a,l,null,"!=")}function ot(l){return{token:l.token,providedIn:l.providedIn||null,factory:l.factory,value:void 0}}function _t(l){return{providers:l.providers||[],imports:l.imports||[]}}function np(l){return W_(l,Qa)||W_(l,rp)}function W_(l,a){return l.hasOwnProperty(a)?l[a]:null}function fu(l){return l&&(l.hasOwnProperty(Nm)||l.hasOwnProperty(Lm))?l[Nm]:null}const Qa=jn({\u0275prov:jn}),Nm=jn({\u0275inj:jn}),rp=jn({ngInjectableDef:jn}),Lm=jn({ngInjectorDef:jn});var jt=(()=>((jt=jt||{})[jt.Default=0]="Default",jt[jt.Host=1]="Host",jt[jt.Self=2]="Self",jt[jt.SkipSelf=4]="SkipSelf",jt[jt.Optional=8]="Optional",jt))();let Si;function Za(l){const a=Si;return Si=l,a}function Sl(l,a,r){const d=np(l);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:r&jt.Optional?null:void 0!==a?a:void vr(ln(l),"Injector")}function Ea(l){return{toString:l}.toString()}var Eo=(()=>((Eo=Eo||{})[Eo.OnPush=0]="OnPush",Eo[Eo.Default=1]="Default",Eo))(),Ui=(()=>{return(l=Ui||(Ui={}))[l.Emulated=0]="Emulated",l[l.None=2]="None",l[l.ShadowDom=3]="ShadowDom",Ui;var l})();const Vm="undefined"!=typeof globalThis&&globalThis,Dc="undefined"!=typeof window&&window,$h="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Vn=Vm||"undefined"!=typeof global&&global||Dc||$h,mu={},Xn=[],ip=jn({\u0275cmp:jn}),Bm=jn({\u0275dir:jn}),Oc=jn({\u0275pipe:jn}),z_=jn({\u0275mod:jn}),Ja=jn({\u0275fac:jn}),Mn=jn({__NG_ELEMENT_ID__:jn});let Do=0;function Yt(l){return Ea(()=>{const r={},d={type:l.type,providersResolver:null,decls:l.decls,vars:l.vars,factory:null,template:l.template||null,consts:l.consts||null,ngContentSelectors:l.ngContentSelectors,hostBindings:l.hostBindings||null,hostVars:l.hostVars||0,hostAttrs:l.hostAttrs||null,contentQueries:l.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:l.exportAs||null,onPush:l.changeDetection===Eo.OnPush,directiveDefs:null,pipeDefs:null,selectors:l.selectors||Xn,viewQuery:l.viewQuery||null,features:l.features||null,data:l.data||{},encapsulation:l.encapsulation||Ui.Emulated,id:"c",styles:l.styles||Xn,_:null,setInput:null,schemas:l.schemas||null,tView:null},v=l.directives,C=l.features,S=l.pipes;return d.id+=Do++,d.inputs=Ps(l.inputs,r),d.outputs=Ps(l.outputs),C&&C.forEach(O=>O(d)),d.directiveDefs=v?()=>("function"==typeof v?v():v).map(je):null,d.pipeDefs=S?()=>("function"==typeof S?S():S).map(xc):null,d})}function je(l){return Bn(l)||function(l){return l[Bm]||null}(l)}function xc(l){return function(l){return l[Oc]||null}(l)}const Rs={};function Tt(l){return Ea(()=>{const a={type:l.type,bootstrap:l.bootstrap||Xn,declarations:l.declarations||Xn,imports:l.imports||Xn,exports:l.exports||Xn,transitiveCompileScopes:null,schemas:l.schemas||null,id:l.id||null};return null!=l.id&&(Rs[l.id]=l.type),a})}function Ps(l,a){if(null==l)return mu;const r={};for(const d in l)if(l.hasOwnProperty(d)){let v=l[d],C=v;Array.isArray(v)&&(C=v[1],v=v[0]),r[v]=d,a&&(a[v]=C)}return r}const Ke=Yt;function Bn(l){return l[ip]||null}function gi(l,a){const r=l[z_]||null;if(!r&&!0===a)throw new Error(`Type ${ln(l)} does not have '\u0275mod' property.`);return r}function es(l){return Array.isArray(l)&&"object"==typeof l[1]}function Da(l){return Array.isArray(l)&&!0===l[1]}function zr(l){return 0!=(8&l.flags)}function Fs(l){return 2==(2&l.flags)}function Al(l){return 1==(1&l.flags)}function Qn(l){return null!==l.template}function Cu(l){return 0!=(512&l[2])}function wu(l,a){return l.hasOwnProperty(Ja)?l[Ja]:null}class Um{constructor(a,r,d){this.previousValue=a,this.currentValue=r,this.firstChange=d}isFirstChange(){return this.firstChange}}function $n(){return dp}function dp(l){return l.type.prototype.ngOnChanges&&(l.setInput=Yw),Kw}function Kw(){const l=Qh(this),a=null==l?void 0:l.current;if(a){const r=l.previous;if(r===mu)l.previous=a;else for(let d in a)r[d]=a[d];l.current=null,this.ngOnChanges(a)}}function Yw(l,a,r,d){const v=Qh(l)||function(l,a){return l[Z_]=a}(l,{previous:mu,current:null}),C=v.current||(v.current={}),S=v.previous,O=this.declaredInputs[r],T=S[O];C[O]=new Um(T&&T.currentValue,a,S===mu),l[d]=a}$n.ngInherit=!0;const Z_="__ngSimpleChanges__";function Qh(l){return l[Z_]||null}const Is="http://www.w3.org/2000/svg";let Zh;function pr(l){return!!l.listen}const tC={createRenderer:(l,a)=>void 0!==Zh?Zh:"undefined"!=typeof document?document:void 0};function Fn(l){for(;Array.isArray(l);)l=l[0];return l}function Jh(l,a){return Fn(a[l])}function Ki(l,a){return Fn(a[l.index])}function Mc(l,a){return l.data[a]}function Oo(l,a){const r=a[l];return es(r)?r:r[0]}function iC(l){return 4==(4&l[2])}function hp(l){return 128==(128&l[2])}function Yi(l,a){return null==a?null:l[a]}function fp(l){l[18]=0}function tf(l,a){l[5]+=a;let r=l,d=l[3];for(;null!==d&&(1===a&&1===r[5]||-1===a&&0===r[5]);)d[5]+=a,r=d,d=d[3]}const Bt={lFrame:Ym(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function ai(){return Bt.bindingsEnabled}function He(){return Bt.lFrame.lView}function hn(){return Bt.lFrame.tView}function In(l){return Bt.lFrame.contextLView=l,l[8]}function Dn(){let l=ts();for(;null!==l&&64===l.type;)l=l.parent;return l}function ts(){return Bt.lFrame.currentTNode}function qi(l,a){const r=Bt.lFrame;r.currentTNode=l,r.isParent=a}function Km(){return Bt.lFrame.isParent}function nf(){Bt.lFrame.isParent=!1}function Ve(){return Bt.isInCheckNoChangesMode}function Oa(l){Bt.isInCheckNoChangesMode=l}function Kr(){const l=Bt.lFrame;let a=l.bindingRootIndex;return-1===a&&(a=l.bindingRootIndex=l.tView.bindingStartIndex),a}function Su(){return Bt.lFrame.bindingIndex++}function Ls(l,a){const r=Bt.lFrame;r.bindingIndex=r.bindingRootIndex=l,We(a)}function We(l){Bt.lFrame.currentDirectiveIndex=l}function xa(l){const a=Bt.lFrame.currentDirectiveIndex;return-1===a?null:l[a]}function mp(){return Bt.lFrame.currentQueryIndex}function lf(l){Bt.lFrame.currentQueryIndex=l}function ks(l){const a=l[1];return 2===a.type?a.declTNode:1===a.type?l[6]:null}function oC(l,a,r){if(r&jt.SkipSelf){let v=a,C=l;for(;!(v=v.parent,null!==v||r&jt.Host||(v=ks(C),null===v||(C=C[15],10&v.type))););if(null===v)return!1;a=v,l=C}const d=Bt.lFrame=Fc();return d.currentTNode=a,d.lView=l,!0}function Tl(l){const a=Fc(),r=l[1];Bt.lFrame=a,a.currentTNode=r.firstChild,a.lView=l,a.tView=r,a.contextLView=l,a.bindingIndex=r.bindingStartIndex,a.inI18n=!1}function Fc(){const l=Bt.lFrame,a=null===l?null:l.child;return null===a?Ym(l):a}function Ym(l){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:l,child:null,inI18n:!1};return null!==l&&(l.child=a),a}function aC(){const l=Bt.lFrame;return Bt.lFrame=l.parent,l.currentTNode=null,l.lView=null,l}const uf=aC;function Ic(){const l=aC();l.isParent=!0,l.tView=null,l.selectedIndex=-1,l.contextLView=null,l.elementDepthCount=0,l.currentDirectiveIndex=-1,l.currentNamespace=null,l.bindingRootIndex=-1,l.bindingIndex=-1,l.currentQueryIndex=0}function Yr(){return Bt.lFrame.selectedIndex}function Oi(l){Bt.lFrame.selectedIndex=l}function hr(){const l=Bt.lFrame;return Mc(l.tView,l.selectedIndex)}function Eu(){Bt.lFrame.currentNamespace=Is}function qm(){Bt.lFrame.currentNamespace=null}function is(l,a){for(let r=a.directiveStart,d=a.directiveEnd;r<d;r++){const C=l.data[r].type.prototype,{ngAfterContentInit:S,ngAfterContentChecked:O,ngAfterViewInit:T,ngAfterViewChecked:F,ngOnDestroy:k}=C;S&&(l.contentHooks||(l.contentHooks=[])).push(-r,S),O&&((l.contentHooks||(l.contentHooks=[])).push(r,O),(l.contentCheckHooks||(l.contentCheckHooks=[])).push(r,O)),T&&(l.viewHooks||(l.viewHooks=[])).push(-r,T),F&&((l.viewHooks||(l.viewHooks=[])).push(r,F),(l.viewCheckHooks||(l.viewCheckHooks=[])).push(r,F)),null!=k&&(l.destroyHooks||(l.destroyHooks=[])).push(r,k)}}function mi(l,a,r){Nn(l,a,3,r)}function df(l,a,r,d){(3&l[2])===r&&Nn(l,a,r,d)}function Gs(l,a){let r=l[2];(3&r)===a&&(r&=2047,r+=1,l[2]=r)}function Nn(l,a,r,d){const C=null!=d?d:-1,S=a.length-1;let O=0;for(let T=void 0!==d?65535&l[18]:0;T<S;T++)if("number"==typeof a[T+1]){if(O=a[T],null!=d&&O>=d)break}else a[T]<0&&(l[18]+=65536),(O<C||-1==C)&&(Cr(l,r,a,T),l[18]=(4294901760&l[18])+T+2),T++}function Cr(l,a,r,d){const v=r[d]<0,C=r[d+1],O=l[v?-r[d]:r[d]];if(v){if(l[2]>>11<l[18]>>16&&(3&l[2])===a){l[2]+=2048;try{C.call(O)}finally{}}}else try{C.call(O)}finally{}}class ar{constructor(a,r,d){this.factory=a,this.resolving=!1,this.canSeeViewProviders=r,this.injectImpl=d}}function vp(l,a,r){const d=pr(l);let v=0;for(;v<r.length;){const C=r[v];if("number"==typeof C){if(0!==C)break;v++;const S=r[v++],O=r[v++],T=r[v++];d?l.setAttribute(a,O,T,S):a.setAttributeNS(S,O,T)}else{const S=C,O=r[++v];hf(S)?d&&l.setProperty(a,S,O):d?l.setAttribute(a,S,O):a.setAttribute(S,O),v++}}return v}function Xo(l){return 3===l||4===l||6===l}function hf(l){return 64===l.charCodeAt(0)}function Lc(l,a){if(null!==a&&0!==a.length)if(null===l||0===l.length)l=a.slice();else{let r=-1;for(let d=0;d<a.length;d++){const v=a[d];"number"==typeof v?r=v:0===r||uC(l,r,v,null,-1===r||2===r?a[++d]:null)}}return l}function uC(l,a,r,d,v){let C=0,S=l.length;if(-1===a)S=-1;else for(;C<l.length;){const O=l[C++];if("number"==typeof O){if(O===a){S=-1;break}if(O>a){S=C-1;break}}}for(;C<l.length;){const O=l[C];if("number"==typeof O)break;if(O===r){if(null===d)return void(null!==v&&(l[C+1]=v));if(d===l[C+1])return void(l[C+2]=v)}C++,null!==d&&C++,null!==v&&C++}-1!==S&&(l.splice(S,0,a),C=S+1),l.splice(C++,0,r),null!==d&&l.splice(C++,0,d),null!==v&&l.splice(C++,0,v)}function cC(l){return-1!==l}function Aa(l){return 32767&l}function Bs(l,a){let r=function(l){return l>>16}(l),d=a;for(;r>0;)d=d[15],r--;return d}let Jm=!0;function Du(l){const a=Jm;return Jm=l,a}let kc=0;function Cp(l,a){const r=tv(l,a);if(-1!==r)return r;const d=a[1];d.firstCreatePass&&(l.injectorIndex=a.length,ev(d.data,l),ev(a,null),ev(d.blueprint,null));const v=Gc(l,a),C=l.injectorIndex;if(cC(v)){const S=Aa(v),O=Bs(v,a),T=O[1].data;for(let F=0;F<8;F++)a[C+F]=O[S+F]|T[S+F]}return a[C+8]=v,C}function ev(l,a){l.push(0,0,0,0,0,0,0,0,a)}function tv(l,a){return-1===l.injectorIndex||l.parent&&l.parent.injectorIndex===l.injectorIndex||null===a[l.injectorIndex+8]?-1:l.injectorIndex}function Gc(l,a){if(l.parent&&-1!==l.parent.injectorIndex)return l.parent.injectorIndex;let r=0,d=null,v=a;for(;null!==v;){const C=v[1],S=C.type;if(d=2===S?C.declTNode:1===S?v[6]:null,null===d)return-1;if(r++,v=v[15],-1!==d.injectorIndex)return d.injectorIndex|r<<16}return-1}function xi(l,a,r){!function(l,a,r){let d;"string"==typeof r?d=r.charCodeAt(0)||0:r.hasOwnProperty(Mn)&&(d=r[Mn]),null==d&&(d=r[Mn]=kc++);const v=255&d;a.data[l+(v>>5)]|=1<<v}(l,a,r)}function Ta(l,a,r){if(r&jt.Optional)return l;vr(a,"NodeInjector")}function rv(l,a,r,d){if(r&jt.Optional&&void 0===d&&(d=null),0==(r&(jt.Self|jt.Host))){const v=l[9],C=Za(void 0);try{return v?v.get(a,d,r&jt.Optional):Sl(a,d,r&jt.Optional)}finally{Za(C)}}return Ta(d,a,r)}function mf(l,a,r,d=jt.Default,v){if(null!==l){const C=function(l){if("string"==typeof l)return l.charCodeAt(0)||0;const a=l.hasOwnProperty(Mn)?l[Mn]:void 0;return"number"==typeof a?a>=0?255&a:iv:a}(r);if("function"==typeof C){if(!oC(a,l,d))return d&jt.Host?Ta(v,r,d):rv(a,r,d,v);try{const S=C(d);if(null!=S||d&jt.Optional)return S;vr(r)}finally{uf()}}else if("number"==typeof C){let S=null,O=tv(l,a),T=-1,F=d&jt.Host?a[16][6]:null;for((-1===O||d&jt.SkipSelf)&&(T=-1===O?Gc(l,a):a[O+8],-1!==T&&av(d,!1)?(S=a[1],O=Aa(T),a=Bs(T,a)):O=-1);-1!==O;){const k=a[1];if(ov(C,O,k.data)){const j=tS(O,a,r,S,d,F);if(j!==vf)return j}T=a[O+8],-1!==T&&av(d,a[1].data[O+8]===F)&&ov(C,O,a)?(S=k,O=Aa(T),a=Bs(T,a)):O=-1}}}return rv(a,r,d,v)}const vf={};function iv(){return new os(Dn(),He())}function tS(l,a,r,d,v,C){const S=a[1],O=S.data[l+8],k=Hs(O,S,r,null==d?Fs(O)&&Jm:d!=S&&0!=(3&O.type),v&jt.Host&&C===O);return null!==k?bp(a,S,k,O):vf}function Hs(l,a,r,d,v){const C=l.providerIndexes,S=a.data,O=1048575&C,T=l.directiveStart,k=C>>20,Q=v?O+k:l.directiveEnd;for(let oe=d?O:O+k;oe<Q;oe++){const de=S[oe];if(oe<T&&r===de||oe>=T&&de.type===r)return oe}if(v){const oe=S[T];if(oe&&Qn(oe)&&oe.type===r)return T}return null}function bp(l,a,r,d){let v=l[r];const C=a.data;if(function(l){return l instanceof ar}(v)){const S=v;S.resolving&&function(l,a){throw new mr("200",`Circular dependency in DI detected for ${l}`)}(ji(C[r]));const O=Du(S.canSeeViewProviders);S.resolving=!0;const T=S.injectImpl?Za(S.injectImpl):null;oC(l,d,jt.Default);try{v=l[r]=S.factory(void 0,C,l,d),a.firstCreatePass&&r>=d.directiveStart&&function(l,a,r){const{ngOnChanges:d,ngOnInit:v,ngDoCheck:C}=a.type.prototype;if(d){const S=dp(a);(r.preOrderHooks||(r.preOrderHooks=[])).push(l,S),(r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(l,S)}v&&(r.preOrderHooks||(r.preOrderHooks=[])).push(0-l,v),C&&((r.preOrderHooks||(r.preOrderHooks=[])).push(l,C),(r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(l,C))}(r,C[r],a)}finally{null!==T&&Za(T),Du(O),S.resolving=!1,uf()}}return v}function ov(l,a,r){return!!(r[a+(l>>5)]&1<<l)}function av(l,a){return!(l&jt.Self||l&jt.Host&&a)}class os{constructor(a,r){this._tNode=a,this._lView=r}get(a,r,d){return mf(this._tNode,this._lView,a,d,r)}}function fr(l){return Ea(()=>{const a=l.prototype.constructor,r=a[Ja]||wp(a),d=Object.prototype;let v=Object.getPrototypeOf(l.prototype).constructor;for(;v&&v!==d;){const C=v[Ja]||wp(v);if(C&&C!==r)return C;v=Object.getPrototypeOf(v)}return C=>new C})}function wp(l){return Fm(l)?()=>{const a=wp(Kt(l));return a&&a()}:wu(l)}function Qo(l){return function(l,a){if("class"===a)return l.classes;if("style"===a)return l.styles;const r=l.attrs;if(r){const d=r.length;let v=0;for(;v<d;){const C=r[v];if(Xo(C))break;if(0===C)v+=2;else if("number"==typeof C)for(v++;v<d&&"string"==typeof r[v];)v++;else{if(C===a)return r[v+1];v+=2}}}return null}(Dn(),l)}const Vc="__parameters__",vo="__prop__metadata__";function yf(l){return function(...r){if(l){const d=l(...r);for(const v in d)this[v]=d[v]}}}function Bc(l,a,r){return Ea(()=>{const d=yf(a);function v(...C){if(this instanceof v)return d.apply(this,C),this;const S=new v(...C);return O.annotation=S,O;function O(T,F,k){const j=T.hasOwnProperty(Vc)?T[Vc]:Object.defineProperty(T,Vc,{value:[]})[Vc];for(;j.length<=k;)j.push(null);return(j[k]=j[k]||[]).push(S),T}}return r&&(v.prototype=Object.create(r.prototype)),v.prototype.ngMetadataName=l,v.annotationCls=v,v})}function sv(l,a,r,d){return Ea(()=>{const v=yf(a);function C(...S){if(this instanceof C)return v.apply(this,S),this;const O=new C(...S);return function(F,k){const j=F.constructor,Q=j.hasOwnProperty(vo)?j[vo]:Object.defineProperty(j,vo,{value:{}})[vo];Q[k]=Q.hasOwnProperty(k)&&Q[k]||[],Q[k].unshift(O),d&&d(F,k,...S)}}return r&&(C.prototype=Object.create(r.prototype)),C.prototype.ngMetadataName=l,C.annotationCls=C,C})}class Xe{constructor(a,r){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof r?this.__NG_ELEMENT_ID__=r:void 0!==r&&(this.\u0275prov=ot({token:this,providedIn:r.providedIn||"root",factory:r.factory}))}toString(){return`InjectionToken ${this._desc}`}}const lv=new Xe("AnalyzeForEntryComponents");class cv{}const dv=sv("ContentChildren",(l,a={})=>An({selector:l,first:!1,isViewQuery:!1,descendants:!1,emitDistinctChangesOnly:!0},a),cv);function Ai(l,a){void 0===a&&(a=l);for(let r=0;r<l.length;r++){let d=l[r];Array.isArray(d)?(a===l&&(a=l.slice(0,r)),Ai(d,a)):a!==l&&a.push(d)}return a}function To(l,a){l.forEach(r=>Array.isArray(r)?To(r,a):a(r))}function dC(l,a,r){a>=l.length?l.push(r):l.splice(a,0,r)}function _f(l,a){return a>=l.length-1?l.pop():l.splice(a,1)[0]}function Ep(l,a){const r=[];for(let d=0;d<l;d++)r.push(a);return r}function Ro(l,a,r){let d=Hc(l,a);return d>=0?l[1|d]=r:(d=~d,function(l,a,r,d){let v=l.length;if(v==a)l.push(r,d);else if(1===v)l.push(d,l[0]),l[0]=r;else{for(v--,l.push(l[v-1],l[v]);v>a;)l[v]=l[v-2],v--;l[a]=r,l[a+1]=d}}(l,d,a,r)),d}function wf(l,a){const r=Hc(l,a);if(r>=0)return l[1|r]}function Hc(l,a){return function(l,a,r){let d=0,v=l.length>>r;for(;v!==d;){const C=d+(v-d>>1),S=l[C<<r];if(a===S)return C<<r;S>a?v=C:d=C+1}return~(v<<r)}(l,a,1)}const Sf={},jc="__NG_DI_FLAG__",hv="ngTempTokenPath",cS=/\n/gm,fC="__source",fv=jn({provide:String,useValue:jn});let Ap;function gC(l){const a=Ap;return Ap=l,a}function pS(l,a=jt.Default){if(void 0===Ap)throw new Error("inject() must be called from an injection context");return null===Ap?Sl(l,void 0,a):Ap.get(l,a&jt.Optional?null:void 0,a)}function Le(l,a=jt.Default){return(Si||pS)(Kt(l),a)}const Ru=Le;function gv(l){const a=[];for(let r=0;r<l.length;r++){const d=Kt(l[r]);if(Array.isArray(d)){if(0===d.length)throw new Error("Arguments array must have arguments.");let v,C=jt.Default;for(let S=0;S<d.length;S++){const O=d[S],T=hS(O);"number"==typeof T?-1===T?v=O.token:C|=T:v=O}a.push(Le(v,C))}else a.push(Le(d))}return a}function Uc(l,a){return l[jc]=a,l.prototype[jc]=a,l}function hS(l){return l[jc]}const Tp=Uc(Bc("Inject",l=>({token:l})),-1),qr=Uc(Bc("Optional"),8),js=Uc(Bc("SkipSelf"),4);let Ar;function Kc(l){var a;return(null==(a=function(){if(void 0===Ar&&(Ar=null,Vn.trustedTypes))try{Ar=Vn.trustedTypes.createPolicy("angular",{createHTML:l=>l,createScript:l=>l,createScriptURL:l=>l})}catch(l){}return Ar}())?void 0:a.createHTML(l))||l}class Us{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class bC extends Us{getTypeName(){return"HTML"}}class OD extends Us{getTypeName(){return"Style"}}class yS extends Us{getTypeName(){return"Script"}}class Mp extends Us{getTypeName(){return"URL"}}class Rf extends Us{getTypeName(){return"ResourceURL"}}function wt(l){return l instanceof Us?l.changingThisBreaksApplicationSecurity:l}function Zo(l,a){const r=Pf(l);if(null!=r&&r!==a){if("ResourceURL"===r&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${r} (see https://g.co/ng/security#xss)`)}return r===a}function Pf(l){return l instanceof Us&&l.getTypeName()||null}class SC{constructor(a){this.inertDocumentHelper=a}getInertBodyElement(a){a="<body><remove></remove>"+a;try{const r=(new window.DOMParser).parseFromString(Kc(a),"text/html").body;return null===r?this.inertDocumentHelper.getInertBodyElement(a):(r.removeChild(r.firstChild),r)}catch(r){return null}}}class Mf{constructor(a){if(this.defaultDoc=a,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const r=this.inertDocument.createElement("html");this.inertDocument.appendChild(r);const d=this.inertDocument.createElement("body");r.appendChild(d)}}getInertBodyElement(a){const r=this.inertDocument.createElement("template");if("content"in r)return r.innerHTML=Kc(a),r;const d=this.inertDocument.createElement("body");return d.innerHTML=Kc(a),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(a){const r=a.attributes;for(let v=r.length-1;0<v;v--){const S=r.item(v).name;("xmlns:ns1"===S||0===S.indexOf("ns1:"))&&a.removeAttribute(S)}let d=a.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const wS=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,EC=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Il(l){return(l=String(l)).match(wS)||l.match(EC)?l:"unsafe:"+l}function Pa(l){const a={};for(const r of l.split(","))a[r]=!0;return a}function Fp(...l){const a={};for(const r of l)for(const d in r)r.hasOwnProperty(d)&&(a[d]=!0);return a}const OC=Pa("area,br,col,hr,img,wbr"),xC=Pa("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),AC=Pa("rp,rt"),Cv=Fp(OC,Fp(xC,Pa("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Fp(AC,Pa("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Fp(AC,xC)),bv=Pa("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Xi=Pa("srcset"),wv=Fp(bv,Xi,Pa("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Pa("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),qc=Pa("script,style,template");class Xc{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(a){let r=a.firstChild,d=!0;for(;r;)if(r.nodeType===Node.ELEMENT_NODE?d=this.startElement(r):r.nodeType===Node.TEXT_NODE?this.chars(r.nodeValue):this.sanitizedSomething=!0,d&&r.firstChild)r=r.firstChild;else for(;r;){r.nodeType===Node.ELEMENT_NODE&&this.endElement(r);let v=this.checkClobberedElement(r,r.nextSibling);if(v){r=v;break}r=this.checkClobberedElement(r,r.parentNode)}return this.buf.join("")}startElement(a){const r=a.nodeName.toLowerCase();if(!Cv.hasOwnProperty(r))return this.sanitizedSomething=!0,!qc.hasOwnProperty(r);this.buf.push("<"),this.buf.push(r);const d=a.attributes;for(let v=0;v<d.length;v++){const C=d.item(v),S=C.name,O=S.toLowerCase();if(!wv.hasOwnProperty(O)){this.sanitizedSomething=!0;continue}let T=C.value;bv[O]&&(T=Il(T)),Xi[O]&&(l=T,T=(l=String(l)).split(",").map(a=>Il(a.trim())).join(", ")),this.buf.push(" ",S,'="',PC(T),'"')}var l;return this.buf.push(">"),!0}endElement(a){const r=a.nodeName.toLowerCase();Cv.hasOwnProperty(r)&&!OC.hasOwnProperty(r)&&(this.buf.push("</"),this.buf.push(r),this.buf.push(">"))}chars(a){this.buf.push(PC(a))}checkClobberedElement(a,r){if(r&&(a.compareDocumentPosition(r)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${a.outerHTML}`);return r}}const SS=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,RC=/([^\#-~ |!])/g;function PC(l){return l.replace(/&/g,"&amp;").replace(SS,function(a){return"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";"}).replace(RC,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ff;function If(l,a){let r=null;try{Ff=Ff||function(l){const a=new Mf(l);return function(){try{return!!(new window.DOMParser).parseFromString(Kc(""),"text/html")}catch(l){return!1}}()?new SC(a):a}(l);let d=a?String(a):"";r=Ff.getInertBodyElement(d);let v=5,C=d;do{if(0===v)throw new Error("Failed to sanitize html because the input is unstable");v--,d=C,C=r.innerHTML,r=Ff.getInertBodyElement(d)}while(d!==C);return Kc((new Xc).sanitizeChildren(Qc(r)||r))}finally{if(r){const d=Qc(r)||r;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function Qc(l){return"content"in l&&function(l){return l.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===l.nodeName}(l)?l.content:null}var Tn=(()=>((Tn=Tn||{})[Tn.NONE=0]="NONE",Tn[Tn.HTML=1]="HTML",Tn[Tn.STYLE=2]="STYLE",Tn[Tn.SCRIPT=3]="SCRIPT",Tn[Tn.URL=4]="URL",Tn[Tn.RESOURCE_URL=5]="RESOURCE_URL",Tn))();const Zc="__ngContext__";function Ti(l,a){l[Zc]=a}function Ev(l){const a=function(l){return l[Zc]||null}(l);return a?Array.isArray(a)?a:a.lView:null}function xv(l){return l.ngOriginalError}function Jc(l,...a){l.error(...a)}class zs{constructor(){this._console=console}handleError(a){const r=this._findOriginalError(a),d=(l=a)&&l.ngErrorLogger||Jc;var l;d(this._console,"ERROR",a),r&&d(this._console,"ORIGINAL ERROR",r)}_findOriginalError(a){let r=a&&xv(a);for(;r&&xv(r);)r=xv(r);return r||null}}const Po=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Vn))();function ls(l){return l instanceof Function?l():l}var Mo=(()=>((Mo=Mo||{})[Mo.Important=1]="Important",Mo[Mo.DashCase=2]="DashCase",Mo))();function cn(l,a){return undefined(l,a)}function Bu(l){const a=l[3];return Da(a)?a[3]:a}function nd(l){return Rv(l[13])}function Gf(l){return Rv(l[4])}function Rv(l){for(;null!==l&&!Da(l);)l=l[4];return l}function lr(l,a,r,d,v){if(null!=d){let C,S=!1;Da(d)?C=d:es(d)&&(S=!0,d=d[0]);const O=Fn(d);0===l&&null!==r?null==v?UC(a,r,O):Wu(a,r,O,v||null,!0):1===l&&null!==r?Wu(a,r,O,v||null,!0):2===l?function(l,a,r){const d=Bp(l,a);d&&function(l,a,r,d){pr(l)?l.removeChild(a,r,d):a.removeChild(r)}(l,d,a,r)}(a,O,S):3===l&&a.destroyNode(O),null!=C&&function(l,a,r,d,v){const C=r[7];C!==Fn(r)&&lr(a,l,d,C,v);for(let O=10;O<r.length;O++){const T=r[O];zp(T[1],T,l,a,d,C)}}(a,l,C,r,v)}}function Ys(l,a,r){return pr(l)?l.createElement(a,r):null===r?l.createElement(a):l.createElementNS(r,a)}function jC(l,a){const r=l[9],d=r.indexOf(a),v=a[3];1024&a[2]&&(a[2]&=-1025,tf(v,-1)),r.splice(d,1)}function id(l,a){if(l.length<=10)return;const r=10+a,d=l[r];if(d){const v=d[17];null!==v&&v!==l&&jC(v,d),a>0&&(l[r-1][4]=d[4]);const C=_f(l,10+a);!function(l,a){zp(l,a,a[11],2,null,null),a[0]=null,a[6]=null}(d[1],d);const S=C[19];null!==S&&S.detachView(C[1]),d[3]=null,d[4]=null,d[2]&=-129}return d}function Fo(l,a){if(!(256&a[2])){const r=a[11];pr(r)&&r.destroyNode&&zp(l,a,r,3,null,null),function(l){let a=l[13];if(!a)return od(l[1],l);for(;a;){let r=null;if(es(a))r=a[13];else{const d=a[10];d&&(r=d)}if(!r){for(;a&&!a[4]&&a!==l;)es(a)&&od(a[1],a),a=a[3];null===a&&(a=l),es(a)&&od(a[1],a),r=a&&a[4]}a=r}}(a)}}function od(l,a){if(!(256&a[2])){a[2]&=-129,a[2]|=256,function(l,a){let r;if(null!=l&&null!=(r=l.destroyHooks))for(let d=0;d<r.length;d+=2){const v=a[r[d]];if(!(v instanceof ar)){const C=r[d+1];if(Array.isArray(C))for(let S=0;S<C.length;S+=2){const O=v[C[S]],T=C[S+1];try{T.call(O)}finally{}}else try{C.call(v)}finally{}}}}(l,a),function(l,a){const r=l.cleanup,d=a[7];let v=-1;if(null!==r)for(let C=0;C<r.length-1;C+=2)if("string"==typeof r[C]){const S=r[C+1],O="function"==typeof S?S(a):Fn(a[S]),T=d[v=r[C+2]],F=r[C+3];"boolean"==typeof F?O.removeEventListener(r[C],T,F):F>=0?d[v=F]():d[v=-F].unsubscribe(),C+=2}else{const S=d[v=r[C+1]];r[C].call(S)}if(null!==d){for(let C=v+1;C<d.length;C++)d[C]();a[7]=null}}(l,a),1===a[1].type&&pr(a[11])&&a[11].destroy();const r=a[17];if(null!==r&&Da(a[3])){r!==a[3]&&jC(r,a);const d=a[19];null!==d&&d.detachView(l)}}}function Vf(l,a,r){return function(l,a,r){let d=a;for(;null!==d&&40&d.type;)d=(a=d).parent;if(null===d)return r[0];if(2&d.flags){const v=l.data[d.directiveStart].encapsulation;if(v===Ui.None||v===Ui.Emulated)return null}return Ki(d,r)}(l,a.parent,r)}function Wu(l,a,r,d,v){pr(l)?l.insertBefore(a,r,d,v):a.insertBefore(r,d,v)}function UC(l,a,r){pr(l)?l.appendChild(a,r):a.appendChild(r)}function zC(l,a,r,d,v){null!==d?Wu(l,a,r,d,v):UC(l,a,r)}function Bp(l,a){return pr(l)?l.parentNode(a):a.parentNode}function Bf(l,a,r){return Hp(l,a,r)}let Hp=function(l,a,r){return 40&l.type?Ki(l,r):null};function Wp(l,a,r,d){const v=Vf(l,d,a),C=a[11],O=Bf(d.parent||a[6],d,a);if(null!=v)if(Array.isArray(r))for(let T=0;T<r.length;T++)zC(C,v,r[T],O,!1);else zC(C,v,r,O,!1)}function ea(l,a){if(null!==a){const r=a.type;if(3&r)return Ki(a,l);if(4&r)return jp(-1,l[a.index]);if(8&r){const d=a.child;if(null!==d)return ea(l,d);{const v=l[a.index];return Da(v)?jp(-1,v):Fn(v)}}if(32&r)return cn(a,l)()||Fn(l[a.index]);{const d=Hf(l,a);return null!==d?Array.isArray(d)?d[0]:ea(Bu(l[16]),d):ea(l,a.next)}}return null}function Hf(l,a){return null!==a?l[16][6].projection[a.projection]:null}function jp(l,a){const r=10+l+1;if(r<a.length){const d=a[r],v=d[1].firstChild;if(null!==v)return ea(d,v)}return a[7]}function ld(l,a,r,d,v,C,S){for(;null!=r;){const O=d[r.index],T=r.type;if(S&&0===a&&(O&&Ti(Fn(O),d),r.flags|=4),64!=(64&r.flags))if(8&T)ld(l,a,r.child,d,v,C,!1),lr(a,l,v,O,C);else if(32&T){const F=cn(r,d);let k;for(;k=F();)lr(a,l,v,k,C);lr(a,l,v,O,C)}else 16&T?Lv(l,a,d,r,v,C):lr(a,l,v,O,C);r=S?r.projectionNext:r.next}}function zp(l,a,r,d,v,C){ld(r,d,l.firstChild,a,v,C,!1)}function Lv(l,a,r,d,v,C){const S=r[16],T=S[6].projection[d.projection];if(Array.isArray(T))for(let F=0;F<T.length;F++)lr(a,l,v,T[F],C);else ld(l,a,T,S[3],v,C,!0)}function eo(l,a,r){pr(l)?l.setAttribute(a,"style",r):a.style.cssText=r}function Fi(l,a,r){pr(l)?""===r?l.removeAttribute(a,"class"):l.setAttribute(a,"class",r):a.className=r}function $C(l,a,r){let d=l.length;for(;;){const v=l.indexOf(a,r);if(-1===v)return v;if(0===v||l.charCodeAt(v-1)<=32){const C=a.length;if(v+C===d||l.charCodeAt(v+C)<=32)return v}r=v+1}}const Wf="ng-template";function kv(l,a,r){let d=0;for(;d<l.length;){let v=l[d++];if(r&&"class"===v){if(v=l[d],-1!==$C(v.toLowerCase(),a,0))return!0}else if(1===v){for(;d<l.length&&"string"==typeof(v=l[d++]);)if(v.toLowerCase()===a)return!0;return!1}}return!1}function Gv(l){return 4===l.type&&l.value!==Wf}function jf(l,a,r){return a===(4!==l.type||r?l.value:Wf)}function Vv(l,a,r){let d=4;const v=l.attrs||[],C=function(l){for(let a=0;a<l.length;a++)if(Xo(l[a]))return a;return l.length}(v);let S=!1;for(let O=0;O<a.length;O++){const T=a[O];if("number"!=typeof T){if(!S)if(4&d){if(d=2|1&d,""!==T&&!jf(l,T,r)||""===T&&1===a.length){if(Ir(d))return!1;S=!0}}else{const F=8&d?T:a[++O];if(8&d&&null!==l.attrs){if(!kv(l.attrs,F,r)){if(Ir(d))return!1;S=!0}continue}const j=Bv(8&d?"class":T,v,Gv(l),r);if(-1===j){if(Ir(d))return!1;S=!0;continue}if(""!==F){let Q;Q=j>C?"":v[j+1].toLowerCase();const oe=8&d?Q:null;if(oe&&-1!==$C(oe,F,0)||2&d&&F!==Q){if(Ir(d))return!1;S=!0}}}}else{if(!S&&!Ir(d)&&!Ir(T))return!1;if(S&&Ir(T))continue;S=!1,d=T|1&d}}return Ir(d)||S}function Ir(l){return 0==(1&l)}function Bv(l,a,r,d){if(null===a)return-1;let v=0;if(d||!r){let C=!1;for(;v<a.length;){const S=a[v];if(S===l)return v;if(3===S||6===S)C=!0;else{if(1===S||2===S){let O=a[++v];for(;"string"==typeof O;)O=a[++v];continue}if(4===S)break;if(0===S){v+=4;continue}}v+=C?1:2}return-1}return function(l,a){let r=l.indexOf(4);if(r>-1)for(r++;r<l.length;){const d=l[r];if("number"==typeof d)return-1;if(d===a)return r;r++}return-1}(a,l)}function Hv(l,a,r=!1){for(let d=0;d<a.length;d++)if(Vv(l,a[d],r))return!0;return!1}function kS(l,a){e:for(let r=0;r<a.length;r++){const d=a[r];if(l.length===d.length){for(let v=0;v<l.length;v++)if(l[v]!==d[v])continue e;return!0}}return!1}function Uf(l,a){return l?":not("+a.trim()+")":a}function zf(l){let a=l[0],r=1,d=2,v="",C=!1;for(;r<l.length;){let S=l[r];if("string"==typeof S)if(2&d){const O=l[++r];v+="["+S+(O.length>0?'="'+O+'"':"")+"]"}else 8&d?v+="."+S:4&d&&(v+=" "+S);else""!==v&&!Ir(S)&&(a+=Uf(C,v),v=""),d=S,C=C||!Ir(d);r++}return""!==v&&(a+=Uf(C,v)),a}const Ht={};function Be(l){jv(hn(),He(),Yr()+l,Ve())}function jv(l,a,r,d){if(!d)if(3==(3&a[2])){const C=l.preOrderCheckHooks;null!==C&&mi(a,C,r)}else{const C=l.preOrderHooks;null!==C&&df(a,C,0,r)}Oi(r)}function $f(l,a){return l<<17|a<<2}function vi(l){return l>>17&32767}function Uv(l){return 2|l}function Jn(l){return(131068&l)>>2}function zv(l,a){return-131069&l|a<<2}function $v(l){return 1|l}function eg(l,a){const r=l.contentQueries;if(null!==r)for(let d=0;d<r.length;d+=2){const v=r[d],C=r[d+1];if(-1!==C){const S=l.data[C];lf(v),S.contentQueries(2,a[C],C)}}}function pd(l,a,r,d,v,C,S,O,T,F){const k=a.blueprint.slice();return k[0]=v,k[2]=140|d,fp(k),k[3]=k[15]=l,k[8]=r,k[10]=S||l&&l[10],k[11]=O||l&&l[11],k[12]=T||l&&l[12]||null,k[9]=F||l&&l[9]||null,k[6]=C,k[16]=2==a.type?l[16]:k,k}function Uu(l,a,r,d,v){let C=l.data[a];if(null===C)C=function(l,a,r,d,v){const C=ts(),S=Km(),T=l.data[a]=function(l,a,r,d,v,C){return{type:r,index:d,insertBeforeIndex:null,injectorIndex:a?a.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:v,attrs:C,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,S?C:C&&C.parent,r,a,d,v);return null===l.firstChild&&(l.firstChild=T),null!==C&&(S?null==C.child&&null!==T.parent&&(C.child=T):null===C.next&&(C.next=T)),T}(l,a,r,d,v),Bt.lFrame.inI18n&&(C.flags|=64);else if(64&C.type){C.type=r,C.value=d,C.attrs=v;const S=function(){const l=Bt.lFrame,a=l.currentTNode;return l.isParent?a:a.parent}();C.injectorIndex=null===S?-1:S.injectorIndex}return qi(C,!0),C}function ra(l,a,r,d){if(0===r)return-1;const v=a.length;for(let C=0;C<r;C++)a.push(d),l.blueprint.push(d),l.data.push(null);return v}function hd(l,a,r){Tl(a);try{const d=l.viewQuery;null!==d&&sb(1,d,r);const v=l.template;null!==v&&Ul(l,a,v,1,r),l.firstCreatePass&&(l.firstCreatePass=!1),l.staticContentQueries&&eg(l,a),l.staticViewQueries&&sb(2,l.viewQuery,r);const C=l.components;null!==C&&function(l,a){for(let r=0;r<a.length;r++)ab(l,a[r])}(a,C)}catch(d){throw l.firstCreatePass&&(l.incompleteFirstPass=!0,l.firstCreatePass=!1),d}finally{a[2]&=-5,Ic()}}function no(l,a,r,d){const v=a[2];if(256==(256&v))return;Tl(a);const C=Ve();try{fp(a),function(l){Bt.lFrame.bindingIndex=l}(l.bindingStartIndex),null!==r&&Ul(l,a,r,2,d);const S=3==(3&v);if(!C)if(S){const F=l.preOrderCheckHooks;null!==F&&mi(a,F,null)}else{const F=l.preOrderHooks;null!==F&&df(a,F,0,null),Gs(a,0)}if(function(l){for(let a=nd(l);null!==a;a=Gf(a)){if(!a[2])continue;const r=a[9];for(let d=0;d<r.length;d++){const v=r[d],C=v[3];0==(1024&v[2])&&tf(C,1),v[2]|=1024}}}(a),function(l){for(let a=nd(l);null!==a;a=Gf(a))for(let r=10;r<a.length;r++){const d=a[r],v=d[1];hp(d)&&no(v,d,v.template,d[8])}}(a),null!==l.contentQueries&&eg(l,a),!C)if(S){const F=l.contentCheckHooks;null!==F&&mi(a,F)}else{const F=l.contentHooks;null!==F&&df(a,F,1),Gs(a,1)}!function(l,a){const r=l.hostBindingOpCodes;if(null!==r)try{for(let d=0;d<r.length;d++){const v=r[d];if(v<0)Oi(~v);else{const C=v,S=r[++d],O=r[++d];Ls(S,C),O(2,a[C])}}}finally{Oi(-1)}}(l,a);const O=l.components;null!==O&&function(l,a){for(let r=0;r<a.length;r++)ly(l,a[r])}(a,O);const T=l.viewQuery;if(null!==T&&sb(2,T,d),!C)if(S){const F=l.viewCheckHooks;null!==F&&mi(a,F)}else{const F=l.viewHooks;null!==F&&df(a,F,2),Gs(a,2)}!0===l.firstUpdatePass&&(l.firstUpdatePass=!1),C||(a[2]&=-73),1024&a[2]&&(a[2]&=-1025,tf(a[3],-1))}finally{Ic()}}function WS(l,a,r,d){const v=a[10],C=!Ve(),S=iC(a);try{C&&!S&&v.begin&&v.begin(),S&&hd(l,a,d),no(l,a,r,d)}finally{C&&!S&&v.end&&v.end()}}function Ul(l,a,r,d,v){const C=Yr(),S=2&d;try{Oi(-1),S&&a.length>20&&jv(l,a,20,Ve()),r(d,v)}finally{Oi(C)}}function tg(l,a,r){if(zr(a)){const v=a.directiveEnd;for(let C=a.directiveStart;C<v;C++){const S=l.data[C];S.contentQueries&&S.contentQueries(1,r[C],C)}}}function Zv(l,a,r){!ai()||(function(l,a,r,d){const v=r.directiveStart,C=r.directiveEnd;l.firstCreatePass||Cp(r,a),Ti(d,a);const S=r.initialInputs;for(let O=v;O<C;O++){const T=l.data[O],F=Qn(T);F&&KS(a,r,T);const k=bp(a,l,O,r);Ti(k,a),null!==S&&YS(0,O-v,k,T,0,S),F&&(Oo(r.index,a)[8]=k)}}(l,a,r,Ki(r,a)),128==(128&r.flags)&&function(l,a,r){const d=r.directiveStart,v=r.directiveEnd,S=r.index,O=Bt.lFrame.currentDirectiveIndex;try{Oi(S);for(let T=d;T<v;T++){const F=l.data[T],k=a[T];We(T),(null!==F.hostBindings||0!==F.hostVars||null!==F.hostAttrs)&&fs(F,k)}}finally{Oi(-1),We(O)}}(l,a,r))}function zu(l,a,r=Ki){const d=a.localNames;if(null!==d){let v=a.index+1;for(let C=0;C<d.length;C+=2){const S=d[C+1],O=-1===S?r(a,l):l[S];l[v++]=O}}}function Jv(l){const a=l.tView;return null===a||a.incompleteFirstPass?l.tView=ng(1,null,l.template,l.decls,l.vars,l.directiveDefs,l.pipeDefs,l.viewQuery,l.schemas,l.consts):a}function ng(l,a,r,d,v,C,S,O,T,F){const k=20+d,j=k+v,Q=function(l,a){const r=[];for(let d=0;d<a;d++)r.push(d<l?null:Ht);return r}(k,j),oe="function"==typeof F?F():F;return Q[1]={type:l,blueprint:Q,template:r,queries:null,viewQuery:O,declTNode:a,data:Q.slice().fill(null,k),bindingStartIndex:k,expandoStartIndex:j,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof C?C():C,pipeRegistry:"function"==typeof S?S():S,firstChild:null,schemas:T,consts:oe,incompleteFirstPass:!1}}function ty(l,a,r,d){const v=JS(a);null===r?v.push(d):(v.push(r),l.firstCreatePass&&lb(l).push(d,v.length-1))}function rg(l,a,r){for(let d in l)if(l.hasOwnProperty(d)){const v=l[d];(r=null===r?{}:r).hasOwnProperty(d)?r[d].push(a,v):r[d]=[a,v]}return r}function ro(l,a,r,d,v,C,S,O){const T=Ki(a,r);let k,F=a.inputs;!O&&null!=F&&(k=F[d])?(ub(l,r,k,d,v),Fs(a)&&function(l,a){const r=Oo(a,l);16&r[2]||(r[2]|=64)}(r,a.index)):3&a.type&&(d=function(l){return"class"===l?"className":"for"===l?"htmlFor":"formaction"===l?"formAction":"innerHtml"===l?"innerHTML":"readonly"===l?"readOnly":"tabindex"===l?"tabIndex":l}(d),v=null!=S?S(v,a.value||"",d):v,pr(C)?C.setProperty(T,d,v):hf(d)||(T.setProperty?T.setProperty(d,v):T[d]=v))}function iy(l,a,r,d){let v=!1;if(ai()){const C=function(l,a,r){const d=l.directiveRegistry;let v=null;if(d)for(let C=0;C<d.length;C++){const S=d[C];Hv(r,S.selectors,!1)&&(v||(v=[]),xi(Cp(r,a),l,S.type),Qn(S)?(zl(l,r),v.unshift(S)):v.push(S))}return v}(l,a,r),S=null===d?null:{"":-1};if(null!==C){v=!0,ob(r,l.data.length,C.length);for(let k=0;k<C.length;k++){const j=C[k];j.providersResolver&&j.providersResolver(j)}let O=!1,T=!1,F=ra(l,a,C.length,null);for(let k=0;k<C.length;k++){const j=C[k];r.mergedAttrs=Lc(r.mergedAttrs,j.hostAttrs),ay(l,r,a,F,j),ig(F,j,S),null!==j.contentQueries&&(r.flags|=8),(null!==j.hostBindings||null!==j.hostAttrs||0!==j.hostVars)&&(r.flags|=128);const Q=j.type.prototype;!O&&(Q.ngOnChanges||Q.ngOnInit||Q.ngDoCheck)&&((l.preOrderHooks||(l.preOrderHooks=[])).push(r.index),O=!0),!T&&(Q.ngOnChanges||Q.ngDoCheck)&&((l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(r.index),T=!0),F++}!function(l,a){const d=a.directiveEnd,v=l.data,C=a.attrs,S=[];let O=null,T=null;for(let F=a.directiveStart;F<d;F++){const k=v[F],j=k.inputs,Q=null===C||Gv(a)?null:qS(j,C);S.push(Q),O=rg(j,F,O),T=rg(k.outputs,F,T)}null!==O&&(O.hasOwnProperty("class")&&(a.flags|=16),O.hasOwnProperty("style")&&(a.flags|=32)),a.initialInputs=S,a.inputs=O,a.outputs=T}(l,r)}S&&function(l,a,r){if(a){const d=l.localNames=[];for(let v=0;v<a.length;v+=2){const C=r[a[v+1]];if(null==C)throw new mr("301",`Export of name '${a[v+1]}' not found!`);d.push(a[v],C)}}}(r,d,S)}return r.mergedAttrs=Lc(r.mergedAttrs,r.attrs),v}function oy(l,a,r,d,v,C){const S=C.hostBindings;if(S){let O=l.hostBindingOpCodes;null===O&&(O=l.hostBindingOpCodes=[]);const T=~a.index;(function(l){let a=l.length;for(;a>0;){const r=l[--a];if("number"==typeof r&&r<0)return r}return 0})(O)!=T&&O.push(T),O.push(d,v,S)}}function fs(l,a){null!==l.hostBindings&&l.hostBindings(1,a)}function zl(l,a){a.flags|=2,(l.components||(l.components=[])).push(a.index)}function ig(l,a,r){if(r){if(a.exportAs)for(let d=0;d<a.exportAs.length;d++)r[a.exportAs[d]]=l;Qn(a)&&(r[""]=l)}}function ob(l,a,r){l.flags|=1,l.directiveStart=a,l.directiveEnd=a+r,l.providerIndexes=a}function ay(l,a,r,d,v){l.data[d]=v;const C=v.factory||(v.factory=wu(v.type)),S=new ar(C,Qn(v),null);l.blueprint[d]=S,r[d]=S,oy(l,a,0,d,ra(l,r,v.hostVars,Ht),v)}function KS(l,a,r){const d=Ki(a,l),v=Jv(r),C=l[10],S=Qp(l,pd(l,v,null,r.onPush?64:16,d,a,C,C.createRenderer(d,r),null,null));l[a.index]=S}function gs(l,a,r,d,v,C){const S=Ki(l,a);!function(l,a,r,d,v,C,S){if(null==C)pr(l)?l.removeAttribute(a,v,r):a.removeAttribute(v);else{const O=null==S?Ft(C):S(C,d||"",v);pr(l)?l.setAttribute(a,v,O,r):r?a.setAttributeNS(r,v,O):a.setAttribute(v,O)}}(a[11],S,C,l.value,r,d,v)}function YS(l,a,r,d,v,C){const S=C[a];if(null!==S){const O=d.setInput;for(let T=0;T<S.length;){const F=S[T++],k=S[T++],j=S[T++];null!==O?d.setInput(r,j,F,k):r[k]=j}}}function qS(l,a){let r=null,d=0;for(;d<a.length;){const v=a[d];if(0!==v)if(5!==v){if("number"==typeof v)break;l.hasOwnProperty(v)&&(null===r&&(r=[]),r.push(v,l[v],a[d+1])),d+=2}else d+=2;else d+=4}return r}function og(l,a,r,d){return new Array(l,!0,!1,a,null,0,d,r,null,null)}function ly(l,a){const r=Oo(a,l);if(hp(r)){const d=r[1];80&r[2]?no(d,r,d.template,r[8]):r[5]>0&&uy(r)}}function uy(l){for(let d=nd(l);null!==d;d=Gf(d))for(let v=10;v<d.length;v++){const C=d[v];if(1024&C[2]){const S=C[1];no(S,C,S.template,C[8])}else C[5]>0&&uy(C)}const r=l[1].components;if(null!==r)for(let d=0;d<r.length;d++){const v=Oo(r[d],l);hp(v)&&v[5]>0&&uy(v)}}function ab(l,a){const r=Oo(a,l),d=r[1];(function(l,a){for(let r=a.length;r<l.blueprint.length;r++)a.push(l.blueprint[r])})(d,r),hd(d,r,r[8])}function Qp(l,a){return l[13]?l[14][4]=a:l[13]=a,l[14]=a,a}function cy(l){for(;l;){l[2]|=64;const a=Bu(l);if(Cu(l)&&!a)return l;l=a}return null}function Zs(l,a,r){const d=a[10];d.begin&&d.begin();try{no(l,a,l.template,r)}catch(v){throw hy(a,v),v}finally{d.end&&d.end()}}function vd(l){!function(l){for(let a=0;a<l.components.length;a++){const r=l.components[a],d=Ev(r),v=d[1];WS(v,d,v.template,r)}}(l[8])}function sb(l,a,r){lf(0),a(l,r)}const ND=(()=>Promise.resolve(null))();function JS(l){return l[7]||(l[7]=[])}function lb(l){return l.cleanup||(l.cleanup=[])}function py(l,a,r){return(null===l||Qn(l))&&(r=function(l){for(;Array.isArray(l);){if("object"==typeof l[1])return l;l=l[0]}return null}(r[a.index])),r[11]}function hy(l,a){const r=l[9],d=r?r.get(zs,null):null;d&&d.handleError(a)}function ub(l,a,r,d,v){for(let C=0;C<r.length;){const S=r[C++],O=r[C++],T=a[S],F=l.data[S];null!==F.setInput?F.setInput(T,v,d,O):T[O]=v}}function Lr(l,a,r){const d=Jh(a,l);!function(l,a,r){pr(l)?l.setValue(a,r):a.textContent=r}(l[11],d,r)}function ag(l,a,r){let d=r?l.styles:null,v=r?l.classes:null,C=0;if(null!==a)for(let S=0;S<a.length;S++){const O=a[S];"number"==typeof O?C=O:1==C?v=As(v,O):2==C&&(d=As(d,O+": "+a[++S]+";"))}r?l.styles=d:l.stylesWithoutHost=d,r?l.classes=v:l.classesWithoutHost=v}const $l=new Xe("INJECTOR",-1);class cb{get(a,r=Sf){if(r===Sf){const d=new Error(`NullInjectorError: No provider for ${ln(a)}!`);throw d.name="NullInjectorError",d}return r}}const Kl=new Xe("Set Injector scope."),La={},rE={};let sg;function Js(){return void 0===sg&&(sg=new cb),sg}function fy(l,a=null,r=null,d){const v=db(l,a,r,d);return v._resolveInjectorDefTypes(),v}function db(l,a=null,r=null,d){return new pb(l,r,a||Js(),d)}class pb{constructor(a,r,d,v=null){this.parent=d,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const C=[];r&&To(r,O=>this.processProvider(O,a,r)),To([a],O=>this.processInjectorType(O,[],C)),this.records.set($l,el(void 0,this));const S=this.records.get(Kl);this.scope=null!=S?S.value:null,this.source=v||("object"==typeof a?null:ln(a))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(a=>a.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(a,r=Sf,d=jt.Default){this.assertNotDestroyed();const v=gC(this),C=Za(void 0);try{if(!(d&jt.SkipSelf)){let O=this.records.get(a);if(void 0===O){const T=("function"==typeof(l=a)||"object"==typeof l&&l instanceof Xe)&&np(a);O=T&&this.injectableDefInScope(T)?el(Ku(a),La):null,this.records.set(a,O)}if(null!=O)return this.hydrate(a,O)}return(d&jt.Self?Js():this.parent).get(a,r=d&jt.Optional&&r===Sf?null:r)}catch(S){if("NullInjectorError"===S.name){if((S[hv]=S[hv]||[]).unshift(ln(a)),v)throw S;return function(l,a,r,d){const v=l[hv];throw a[fC]&&v.unshift(a[fC]),l.message=function(l,a,r,d=null){l=l&&"\n"===l.charAt(0)&&"\u0275"==l.charAt(1)?l.substr(2):l;let v=ln(a);if(Array.isArray(a))v=a.map(ln).join(" -> ");else if("object"==typeof a){let C=[];for(let S in a)if(a.hasOwnProperty(S)){let O=a[S];C.push(S+":"+("string"==typeof O?JSON.stringify(O):ln(O)))}v=`{${C.join(", ")}}`}return`${r}${d?"("+d+")":""}[${v}]: ${l.replace(cS,"\n  ")}`}("\n"+l.message,v,r,d),l.ngTokenPath=v,l[hv]=null,l}(S,a,"R3InjectorError",this.source)}throw S}finally{Za(C),gC(v)}var l}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(a=>this.get(a))}toString(){const a=[];return this.records.forEach((d,v)=>a.push(ln(v))),`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(a,r,d){if(!(a=Kt(a)))return!1;let v=fu(a);const C=null==v&&a.ngModule||void 0,S=void 0===C?a:C,O=-1!==d.indexOf(S);if(void 0!==C&&(v=fu(C)),null==v)return!1;if(null!=v.imports&&!O){let k;d.push(S);try{To(v.imports,j=>{this.processInjectorType(j,r,d)&&(void 0===k&&(k=[]),k.push(j))})}finally{}if(void 0!==k)for(let j=0;j<k.length;j++){const{ngModule:Q,providers:oe}=k[j];To(oe,de=>this.processProvider(de,Q,oe||Xn))}}this.injectorDefTypes.add(S);const T=wu(S)||(()=>new S);this.records.set(S,el(T,La));const F=v.providers;if(null!=F&&!O){const k=a;To(F,j=>this.processProvider(j,k,F))}return void 0!==C&&void 0!==a.providers}processProvider(a,r,d){let v=Jp(a=Kt(a))?a:Kt(a&&a.provide);const C=(l=a,gy(l)?el(void 0,l.useValue):el(lg(l),La));var l;if(Jp(a)||!0!==a.multi)this.records.get(v);else{let S=this.records.get(v);S||(S=el(void 0,La,!0),S.factory=()=>gv(S.multi),this.records.set(v,S)),v=a,S.multi.push(a)}this.records.set(v,C)}hydrate(a,r){return r.value===La&&(r.value=rE,r.value=r.factory()),"object"==typeof r.value&&r.value&&null!==(l=r.value)&&"object"==typeof l&&"function"==typeof l.ngOnDestroy&&this.onDestroy.add(r.value),r.value;var l}injectableDefInScope(a){if(!a.providedIn)return!1;const r=Kt(a.providedIn);return"string"==typeof r?"any"===r||r===this.scope:this.injectorDefTypes.has(r)}}function Ku(l){const a=np(l),r=null!==a?a.factory:wu(l);if(null!==r)return r;if(l instanceof Xe)throw new Error(`Token ${ln(l)} is missing a \u0275prov definition.`);if(l instanceof Function)return function(l){const a=l.length;if(a>0){const d=Ep(a,"?");throw new Error(`Can't resolve all parameters for ${ln(l)}: (${d.join(", ")}).`)}const r=function(l){const a=l&&(l[Qa]||l[rp]);if(a){const r=function(l){if(l.hasOwnProperty("name"))return l.name;const a=(""+l).match(/^function\s*([^\s(]+)/);return null===a?"":a[1]}(l);return console.warn(`DEPRECATED: DI is instantiating a token "${r}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${r}" class.`),a}return null}(l);return null!==r?()=>r.factory(l):()=>new l}(l);throw new Error("unreachable")}function lg(l,a,r){let d;if(Jp(l)){const v=Kt(l);return wu(v)||Ku(v)}if(gy(l))d=()=>Kt(l.useValue);else if(function(l){return!(!l||!l.useFactory)}(l))d=()=>l.useFactory(...gv(l.deps||[]));else if(function(l){return!(!l||!l.useExisting)}(l))d=()=>Le(Kt(l.useExisting));else{const v=Kt(l&&(l.useClass||l.provide));if(!function(l){return!!l.deps}(l))return wu(v)||Ku(v);d=()=>new v(...gv(l.deps))}return d}function el(l,a,r=!1){return{factory:l,value:a,multi:r?[]:void 0}}function gy(l){return null!==l&&"object"==typeof l&&fv in l}function Jp(l){return"function"==typeof l}let kr=(()=>{class l{static create(r,d){var v;if(Array.isArray(r))return fy({name:""},d,r,"");{const C=null!=(v=r.name)?v:"";return fy({name:C},r.parent,r.providers,C)}}}return l.THROW_IF_NOT_FOUND=Sf,l.NULL=new cb,l.\u0275prov=ot({token:l,providedIn:"any",factory:()=>Le($l)}),l.__NG_ELEMENT_ID__=-1,l})();function pg(l,a){is(Ev(l)[1],Dn())}function Pt(l){let a=function(l){return Object.getPrototypeOf(l.prototype).constructor}(l.type),r=!0;const d=[l];for(;a;){let v;if(Qn(l))v=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new Error("Directives cannot inherit Components");v=a.\u0275dir}if(v){if(r){d.push(v);const S=l;S.inputs=ms(l.inputs),S.declaredInputs=ms(l.declaredInputs),S.outputs=ms(l.outputs);const O=v.hostBindings;O&&Ey(l,O);const T=v.viewQuery,F=v.contentQueries;if(T&&uE(l,T),F&&cE(l,F),re(l.inputs,v.inputs),re(l.declaredInputs,v.declaredInputs),re(l.outputs,v.outputs),Qn(v)&&v.data.animation){const k=l.data;k.animation=(k.animation||[]).concat(v.data.animation)}}const C=v.features;if(C)for(let S=0;S<C.length;S++){const O=C[S];O&&O.ngInherit&&O(l),O===Pt&&(r=!1)}}a=Object.getPrototypeOf(a)}!function(l){let a=0,r=null;for(let d=l.length-1;d>=0;d--){const v=l[d];v.hostVars=a+=v.hostVars,v.hostAttrs=Lc(v.hostAttrs,r=Lc(r,v.hostAttrs))}}(d)}function ms(l){return l===mu?{}:l===Xn?[]:l}function uE(l,a){const r=l.viewQuery;l.viewQuery=r?(d,v)=>{a(d,v),r(d,v)}:a}function cE(l,a){const r=l.contentQueries;l.contentQueries=r?(d,v,C)=>{a(d,v,C),r(d,v,C)}:a}function Ey(l,a){const r=l.hostBindings;l.hostBindings=r?(d,v)=>{a(d,v),r(d,v)}:a}let yd=null;function _d(){if(!yd){const l=Vn.Symbol;if(l&&l.iterator)yd=l.iterator;else{const a=Object.getOwnPropertyNames(Map.prototype);for(let r=0;r<a.length;++r){const d=a[r];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(yd=d)}}}return yd}function No(l){return!!vs(l)&&(Array.isArray(l)||!(l instanceof Map)&&_d()in l)}function vs(l){return null!==l&&("function"==typeof l||"object"==typeof l)}function Zr(l,a,r){return l[a]=r}function Gr(l,a,r){return!Object.is(l[a],r)&&(l[a]=r,!0)}function Yl(l,a,r,d){const v=Gr(l,a,r);return Gr(l,a+1,d)||v}function zt(l,a,r,d){const v=He();return Gr(v,Su(),a)&&(hn(),gs(hr(),v,l,a,r,d)),zt}function bd(l,a,r,d){return Gr(l,Su(),r)?a+Ft(r)+d:Ht}function ut(l,a,r,d,v,C,S,O){const T=He(),F=hn(),k=l+20,j=F.firstCreatePass?function(l,a,r,d,v,C,S,O,T){const F=a.consts,k=Uu(a,l,4,S||null,Yi(F,O));iy(a,r,k,Yi(F,T)),is(a,k);const j=k.tViews=ng(2,k,d,v,C,a.directiveRegistry,a.pipeRegistry,null,a.schemas,F);return null!==a.queries&&(a.queries.template(a,k),j.queries=a.queries.embeddedTView(k)),k}(k,F,T,a,r,d,v,C,S):F.data[k];qi(j,!1);const Q=T[11].createComment("");Wp(F,T,Q,j),Ti(Q,T),Qp(T,T[k]=og(Q,T,Q,j)),Al(j)&&Zv(F,T,j),null!=S&&zu(T,j,O)}function Tr(l){return function(l,a){return l[a]}(Bt.lFrame.contextLView,20+l)}function ne(l,a=jt.Default){const r=He();return null===r?Le(l,a):mf(Dn(),r,Kt(l),a)}function ze(l,a,r){const d=He();return Gr(d,Su(),a)&&ro(hn(),hr(),d,l,a,d[11],r,!1),ze}function ol(l,a,r,d,v){const S=v?"class":"style";ub(l,r,a.inputs[S],S,d)}function Ce(l,a,r,d){const v=He(),C=hn(),S=20+l,O=v[11],T=v[S]=Ys(O,a,Bt.lFrame.currentNamespace),F=C.firstCreatePass?function(l,a,r,d,v,C,S){const O=a.consts,F=Uu(a,l,2,v,Yi(O,C));return iy(a,r,F,Yi(O,S)),null!==F.attrs&&ag(F,F.attrs,!1),null!==F.mergedAttrs&&ag(F,F.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,F),F}(S,C,v,0,a,r,d):C.data[S];qi(F,!0);const k=F.mergedAttrs;null!==k&&vp(O,T,k);const j=F.classes;null!==j&&Fi(O,T,j);const Q=F.styles;null!==Q&&eo(O,T,Q),64!=(64&F.flags)&&Wp(C,v,T,F),0===Bt.lFrame.elementDepthCount&&Ti(T,v),Bt.lFrame.elementDepthCount++,Al(F)&&(Zv(C,v,F),tg(C,F,v)),null!==d&&zu(v,F)}function be(){let l=Dn();Km()?nf():(l=l.parent,qi(l,!1));const a=l;Bt.lFrame.elementDepthCount--;const r=hn();r.firstCreatePass&&(is(r,l),zr(l)&&r.queries.elementEnd(l)),null!=a.classesWithoutHost&&function(l){return 0!=(16&l.flags)}(a)&&ol(r,a,He(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function(l){return 0!=(32&l.flags)}(a)&&ol(r,a,He(),a.stylesWithoutHost,!1)}function Wt(l,a,r,d){Ce(l,a,r,d),be()}function ys(l,a,r){const d=He(),v=hn(),C=l+20,S=v.firstCreatePass?function(l,a,r,d,v){const C=a.consts,S=Yi(C,d),O=Uu(a,l,8,"ng-container",S);return null!==S&&ag(O,S,!0),iy(a,r,O,Yi(C,v)),null!==a.queries&&a.queries.elementStart(a,O),O}(C,v,d,a,r):v.data[C];qi(S,!0);const O=d[C]=d[11].createComment("");Wp(v,d,O,S),Ti(O,d),Al(S)&&(Zv(v,d,S),tg(v,S,d)),null!=r&&zu(d,S)}function Ga(){let l=Dn();const a=hn();Km()?nf():(l=l.parent,qi(l,!1)),a.firstCreatePass&&(is(a,l),zr(l)&&a.queries.elementEnd(l))}function ch(l,a,r){ys(l,a,r),Ga()}function Vr(){return He()}function Ad(l){return!!l&&"function"==typeof l.then}const Lb=function(l){return!!l&&"function"==typeof l.subscribe};function Ct(l,a,r,d){const v=He(),C=hn(),S=Dn();return Sg(C,v,v[11],S,l,a,!!r,d),Ct}function wg(l,a){const r=Dn(),d=He(),v=hn();return Sg(v,d,py(xa(v.data),r,d),r,l,a,!1),wg}function Sg(l,a,r,d,v,C,S,O){const T=Al(d),k=l.firstCreatePass&&lb(l),j=a[8],Q=JS(a);let oe=!0;if(3&d.type||O){const Te=Ki(d,a),Ue=O?O(Te):Te,Ee=Q.length,it=O?Et=>O(Fn(Et[d.index])):d.index;if(pr(r)){let Et=null;if(!O&&T&&(Et=function(l,a,r,d){const v=l.cleanup;if(null!=v)for(let C=0;C<v.length-1;C+=2){const S=v[C];if(S===r&&v[C+1]===d){const O=a[7],T=v[C+2];return O.length>T?O[T]:null}"string"==typeof S&&(C+=2)}return null}(l,a,v,d.index)),null!==Et)(Et.__ngLastListenerFn__||Et).__ngNextListenerFn__=C,Et.__ngLastListenerFn__=C,oe=!1;else{C=Va(d,a,j,C,!1);const gn=r.listen(Ue,v,C);Q.push(C,gn),k&&k.push(v,it,Ee,Ee+1)}}else C=Va(d,a,j,C,!0),Ue.addEventListener(v,C,S),Q.push(C),k&&k.push(v,it,Ee,S)}else C=Va(d,a,j,C,!1);const de=d.outputs;let _e;if(oe&&null!==de&&(_e=de[v])){const Te=_e.length;if(Te)for(let Ue=0;Ue<Te;Ue+=2){const Wr=a[_e[Ue]][_e[Ue+1]].subscribe(C),ri=Q.length;Q.push(C,Wr),k&&k.push(v,d.index,ri,-(ri+1))}}}function Eg(l,a,r,d){try{return!1!==r(d)}catch(v){return hy(l,v),!1}}function Va(l,a,r,d,v){return function C(S){if(S===Function)return d;const O=2&l.flags?Oo(l.index,a):a;0==(32&a[2])&&cy(O);let T=Eg(a,0,d,S),F=C.__ngNextListenerFn__;for(;F;)T=Eg(a,0,F,S)&&T,F=F.__ngNextListenerFn__;return v&&!1===T&&(S.preventDefault(),S.returnValue=!1),T}}function ct(l=1){return function(l){return(Bt.lFrame.contextLView=function(l,a){for(;l>0;)a=a[15],l--;return a}(l,Bt.lFrame.contextLView))[8]}(l)}function My(l,a){let r=null;const d=function(l){const a=l.attrs;if(null!=a){const r=a.indexOf(5);if(0==(1&r))return a[r+1]}return null}(l);for(let v=0;v<a.length;v++){const C=a[v];if("*"!==C){if(null===d?Hv(l,C,!0):kS(d,C))return v}else r=v}return r}function ir(l){const a=He()[16][6];if(!a.projection){const d=a.projection=Ep(l?l.length:1,null),v=d.slice();let C=a.child;for(;null!==C;){const S=l?My(C,l):0;null!==S&&(v[S]?v[S].projectionNext=C:d[S]=C,v[S]=C),C=C.next}}}function vt(l,a=0,r){const d=He(),v=hn(),C=Uu(v,20+l,16,null,r||null);null===C.projection&&(C.projection=a),nf(),64!=(64&C.flags)&&function(l,a,r){Lv(a[11],0,a,r,Vf(l,r,a),Bf(r.parent||a[6],r,a))}(v,d,C)}function ec(l,a,r){return Dg(l,"",a,"",r),ec}function Dg(l,a,r,d,v){const C=He(),S=bd(C,a,r,d);return S!==Ht&&ro(hn(),hr(),C,l,S,C[11],v,!1),Dg}function ic(l,a,r,d,v){const C=l[r+1],S=null===a;let O=d?vi(C):Jn(C),T=!1;for(;0!==O&&(!1===T||S);){const k=l[O+1];Iy(l[O],a)&&(T=!0,l[O+1]=d?$v(k):Uv(k)),O=d?vi(k):Jn(k)}T&&(l[r+1]=d?Uv(C):$v(C))}function Iy(l,a){return null===l||null==a||(Array.isArray(l)?l[1]:l)===a||!(!Array.isArray(l)||"string"!=typeof a)&&Hc(l,a)>=0}function L(l,a,r){return ve(l,a,r,!1),L}function G(l,a){return ve(l,a,null,!0),G}function ve(l,a,r,d){const v=He(),C=hn(),S=function(l){const a=Bt.lFrame,r=a.bindingIndex;return a.bindingIndex=a.bindingIndex+l,r}(2);C.firstUpdatePass&&function(l,a,r,d){const v=l.data;if(null===v[r+1]){const C=v[Yr()],S=function(l,a){return a>=l.expandoStartIndex}(l,r);(function(l,a){return 0!=(l.flags&(a?16:32))})(C,d)&&null===a&&!S&&(a=!1),a=function(l,a,r,d){const v=xa(l);let C=d?a.residualClasses:a.residualStyles;if(null===v)0===(d?a.classBindings:a.styleBindings)&&(r=sn(r=It(null,l,a,r,d),a.attrs,d),C=null);else{const S=a.directiveStylingLast;if(-1===S||l[S]!==v)if(r=It(v,l,a,r,d),null===C){let T=function(l,a,r){const d=r?a.classBindings:a.styleBindings;if(0!==Jn(d))return l[vi(d)]}(l,a,d);void 0!==T&&Array.isArray(T)&&(T=It(null,l,a,T[1],d),T=sn(T,a.attrs,d),function(l,a,r,d){l[vi(r?a.classBindings:a.styleBindings)]=d}(l,a,d,T))}else C=function(l,a,r){let d;const v=a.directiveEnd;for(let C=1+a.directiveStylingLast;C<v;C++)d=sn(d,l[C].hostAttrs,r);return sn(d,a.attrs,r)}(l,a,d)}return void 0!==C&&(d?a.residualClasses=C:a.residualStyles=C),r}(v,C,a,d),function(l,a,r,d,v,C){let S=C?a.classBindings:a.styleBindings,O=vi(S),T=Jn(S);l[d]=r;let k,F=!1;if(Array.isArray(r)){const j=r;k=j[1],(null===k||Hc(j,k)>0)&&(F=!0)}else k=r;if(v)if(0!==T){const Q=vi(l[O+1]);l[d+1]=$f(Q,O),0!==Q&&(l[Q+1]=zv(l[Q+1],d)),l[O+1]=function(l,a){return 131071&l|a<<17}(l[O+1],d)}else l[d+1]=$f(O,0),0!==O&&(l[O+1]=zv(l[O+1],d)),O=d;else l[d+1]=$f(T,0),0===O?O=d:l[T+1]=zv(l[T+1],d),T=d;F&&(l[d+1]=Uv(l[d+1])),ic(l,k,d,!0),ic(l,k,d,!1),function(l,a,r,d,v){const C=v?l.residualClasses:l.residualStyles;null!=C&&"string"==typeof a&&Hc(C,a)>=0&&(r[d+1]=$v(r[d+1]))}(a,k,l,d,C),S=$f(O,T),C?a.classBindings=S:a.styleBindings=S}(v,C,a,r,S,d)}}(C,l,S,d),a!==Ht&&Gr(v,S,a)&&function(l,a,r,d,v,C,S,O){if(!(3&a.type))return;const T=l.data,F=T[O+1];la(function(l){return 1==(1&l)}(F)?Go(T,a,r,v,Jn(F),S):void 0)||(la(C)||function(l){return 2==(2&l)}(F)&&(C=Go(T,null,r,v,O,S)),function(l,a,r,d,v){const C=pr(l);if(a)v?C?l.addClass(r,d):r.classList.add(d):C?l.removeClass(r,d):r.classList.remove(d);else{let S=-1===d.indexOf("-")?void 0:Mo.DashCase;if(null==v)C?l.removeStyle(r,d,S):r.style.removeProperty(d);else{const O="string"==typeof v&&v.endsWith("!important");O&&(v=v.slice(0,-10),S|=Mo.Important),C?l.setStyle(r,d,v,S):r.style.setProperty(d,v,O?"important":"")}}}(d,S,Jh(Yr(),r),v,C))}(C,C.data[Yr()],v,v[11],l,v[S+1]=function(l,a){return null==l||("string"==typeof a?l+=a:"object"==typeof l&&(l=ln(wt(l)))),l}(a,r),d,S)}function It(l,a,r,d,v){let C=null;const S=r.directiveEnd;let O=r.directiveStylingLast;for(-1===O?O=r.directiveStart:O++;O<S&&(C=a[O],d=sn(d,C.hostAttrs,v),C!==l);)O++;return null!==l&&(r.directiveStylingLast=O),d}function sn(l,a,r){const d=r?1:2;let v=-1;if(null!==a)for(let C=0;C<a.length;C++){const S=a[C];"number"==typeof S?v=S:v===d&&(Array.isArray(l)||(l=void 0===l?[]:["",l]),Ro(l,S,!!r||a[++C]))}return void 0===l?null:l}function Go(l,a,r,d,v,C){const S=null===a;let O;for(;v>0;){const T=l[v],F=Array.isArray(T),k=F?T[1]:T,j=null===k;let Q=r[v+1];Q===Ht&&(Q=j?Xn:void 0);let oe=j?wf(Q,d):k===d?Q:void 0;if(F&&!la(oe)&&(oe=wf(T,d)),la(oe)&&(O=oe,S))return O;const de=l[v+1];v=S?vi(de):Jn(de)}if(null!==a){let T=C?a.residualClasses:a.residualStyles;null!=T&&(O=wf(T,d))}return O}function la(l){return void 0!==l}function bn(l,a=""){const r=He(),d=hn(),v=l+20,C=d.firstCreatePass?Uu(d,v,1,a,null):d.data[v],S=r[v]=function(l,a){return pr(l)?l.createText(a):l.createTextNode(a)}(r[11],a);Wp(d,r,S,C),qi(C,!1)}function Ba(l){return Rd("",l,""),Ba}function Rd(l,a,r){const d=He(),v=bd(d,l,a,r);return v!==Ht&&Lr(d,Yr(),v),Rd}function hh(l,a,r){const d=He();return Gr(d,Su(),a)&&ro(hn(),hr(),d,l,a,d[11],r,!0),hh}function Bb(l,a,r){const d=He();if(Gr(d,Su(),a)){const C=hn(),S=hr();ro(C,S,d,l,a,py(xa(C.data),S,d),r,!0)}return Bb}const fh=void 0;var wE=["en",[["a","p"],["AM","PM"],fh],[["AM","PM"],fh,fh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],fh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],fh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",fh,"{1} 'at' {0}",fh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(l){const r=Math.floor(Math.abs(l)),d=l.toString().replace(/^[^.]*\.?/,"").length;return 1===r&&0===d?1:5}];let gh={};function Pd(l){return l in gh||(gh[l]=Vn.ng&&Vn.ng.common&&Vn.ng.common.locales&&Vn.ng.common.locales[l]),gh[l]}var nt=(()=>((nt=nt||{})[nt.LocaleId=0]="LocaleId",nt[nt.DayPeriodsFormat=1]="DayPeriodsFormat",nt[nt.DayPeriodsStandalone=2]="DayPeriodsStandalone",nt[nt.DaysFormat=3]="DaysFormat",nt[nt.DaysStandalone=4]="DaysStandalone",nt[nt.MonthsFormat=5]="MonthsFormat",nt[nt.MonthsStandalone=6]="MonthsStandalone",nt[nt.Eras=7]="Eras",nt[nt.FirstDayOfWeek=8]="FirstDayOfWeek",nt[nt.WeekendRange=9]="WeekendRange",nt[nt.DateFormat=10]="DateFormat",nt[nt.TimeFormat=11]="TimeFormat",nt[nt.DateTimeFormat=12]="DateTimeFormat",nt[nt.NumberSymbols=13]="NumberSymbols",nt[nt.NumberFormats=14]="NumberFormats",nt[nt.CurrencyCode=15]="CurrencyCode",nt[nt.CurrencySymbol=16]="CurrencySymbol",nt[nt.CurrencyName=17]="CurrencyName",nt[nt.Currencies=18]="Currencies",nt[nt.Directionality=19]="Directionality",nt[nt.PluralCase=20]="PluralCase",nt[nt.ExtraData=21]="ExtraData",nt))();const Pg="en-US";let DE=Pg;function IE(l,a,r,d,v){if(l=Kt(l),Array.isArray(l))for(let C=0;C<l.length;C++)IE(l[C],a,r,d,v);else{const C=hn(),S=He();let O=Jp(l)?l:Kt(l.provide),T=lg(l);const F=Dn(),k=1048575&F.providerIndexes,j=F.directiveStart,Q=F.providerIndexes>>20;if(Jp(l)||!l.multi){const oe=new ar(T,v,ne),de=NE(O,a,v?k:k+Q,j);-1===de?(xi(Cp(F,S),C,O),Fd(C,l,a.length),a.push(O),F.directiveStart++,F.directiveEnd++,v&&(F.providerIndexes+=1048576),r.push(oe),S.push(oe)):(r[de]=oe,S[de]=oe)}else{const oe=NE(O,a,k+Q,j),de=NE(O,a,k,k+Q),_e=oe>=0&&r[oe],Te=de>=0&&r[de];if(v&&!Te||!v&&!_e){xi(Cp(F,S),C,O);const Ue=function(l,a,r,d,v){const C=new ar(l,r,ne);return C.multi=[],C.index=a,C.componentProviders=0,gO(C,v,d&&!r),C}(v?Hg:LE,r.length,v,d,T);!v&&Te&&(r[de].providerFactory=Ue),Fd(C,l,a.length,0),a.push(O),F.directiveStart++,F.directiveEnd++,v&&(F.providerIndexes+=1048576),r.push(Ue),S.push(Ue)}else Fd(C,l,oe>-1?oe:de,gO(r[v?de:oe],T,!v&&d));!v&&d&&Te&&r[de].componentProviders++}}}function Fd(l,a,r,d){const v=Jp(a),C=function(l){return!!l.useClass}(a);if(v||C){const T=(C?Kt(a.useClass):a).prototype.ngOnDestroy;if(T){const F=l.destroyHooks||(l.destroyHooks=[]);if(!v&&a.multi){const k=F.indexOf(r);-1===k?F.push(r,[d,T]):F[k+1].push(d,T)}else F.push(r,T)}}}function gO(l,a,r){return r&&l.componentProviders++,l.multi.push(a)-1}function NE(l,a,r,d){for(let v=r;v<d;v++)if(a[v]===l)return v;return-1}function LE(l,a,r,d){return kE(this.multi,[])}function Hg(l,a,r,d){const v=this.multi;let C;if(this.providerFactory){const S=this.providerFactory.componentProviders,O=bp(r,r[1],this.providerFactory.index,d);C=O.slice(0,S),kE(v,C);for(let T=S;T<O.length;T++)C.push(O[T])}else C=[],kE(v,C);return C}function kE(l,a){for(let r=0;r<l.length;r++)a.push((0,l[r])());return a}function yt(l,a=[]){return r=>{r.providersResolver=(d,v)=>function(l,a,r){const d=hn();if(d.firstCreatePass){const v=Qn(l);IE(r,d.data,d.blueprint,v,!0),IE(a,d.data,d.blueprint,v,!1)}}(d,v?v(l):l,a)}}class mO{}class PT{resolveComponentFactory(a){throw function(l){const a=Error(`No component factory found for ${ln(l)}. Did you add it to @NgModule.entryComponents?`);return a.ngComponent=l,a}(a)}}let Ni=(()=>{class l{}return l.NULL=new PT,l})();function yO(){return Wg(Dn(),He())}function Wg(l,a){return new Lt(Ki(l,a))}let Lt=(()=>{class l{constructor(r){this.nativeElement=r}}return l.__NG_ELEMENT_ID__=yO,l})();function MT(l){return l instanceof Lt?l.nativeElement:l}class jg{}let Id=(()=>{class l{}return l.__NG_ELEMENT_ID__=()=>function(){const l=He(),r=Oo(Dn().index,l);return function(l){return l[11]}(es(r)?r:l)}(),l})(),NT=(()=>{class l{}return l.\u0275prov=ot({token:l,providedIn:"root",factory:()=>null}),l})();class Ug{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const _O=new Ug("13.0.3"),VE={};function Kb(l,a,r,d,v=!1){for(;null!==r;){const C=a[r.index];if(null!==C&&d.push(Fn(C)),Da(C))for(let O=10;O<C.length;O++){const T=C[O],F=T[1].firstChild;null!==F&&Kb(T[1],T,F,d)}const S=r.type;if(8&S)Kb(l,a,r.child,d);else if(32&S){const O=cn(r,a);let T;for(;T=O();)d.push(T)}else if(16&S){const O=Hf(a,r);if(Array.isArray(O))d.push(...O);else{const T=Bu(a[16]);Kb(T[1],T,O,d,!0)}}r=v?r.projectionNext:r.next}return d}class Ky{constructor(a,r){this._lView=a,this._cdRefInjectingView=r,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const a=this._lView,r=a[1];return Kb(r,a,r.firstChild,[])}get context(){return this._lView[8]}set context(a){this._lView[8]=a}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[3];if(Da(a)){const r=a[8],d=r?r.indexOf(this):-1;d>-1&&(id(a,d),_f(r,d))}this._attachedToViewContainer=!1}Fo(this._lView[1],this._lView)}onDestroy(a){ty(this._lView[1],this._lView,null,a)}markForCheck(){cy(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Zs(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(l,a,r){Oa(!0);try{Zs(l,a,r)}finally{Oa(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var a;this._appRef=null,zp(this._lView[1],a=this._lView,a[11],2,null,null)}attachToAppRef(a){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=a}}class LT extends Ky{constructor(a){super(a),this._view=a}detectChanges(){vd(this._view)}checkNoChanges(){!function(l){Oa(!0);try{vd(l)}finally{Oa(!1)}}(this._view)}get context(){return null}}class BE extends Ni{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const r=Bn(a);return new HE(r,this.ngModule)}}function CO(l){const a=[];for(let r in l)l.hasOwnProperty(r)&&a.push({propName:l[r],templateName:r});return a}const GT=new Xe("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Po});class HE extends mO{constructor(a,r){super(),this.componentDef=a,this.ngModule=r,this.componentType=a.type,this.selector=a.selectors.map(zf).join(","),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!r}get inputs(){return CO(this.componentDef.inputs)}get outputs(){return CO(this.componentDef.outputs)}create(a,r,d,v){const C=(v=v||this.ngModule)?function(l,a){return{get:(r,d,v)=>{const C=l.get(r,VE,v);return C!==VE||d===VE?C:a.get(r,d,v)}}}(a,v.injector):a,S=C.get(jg,tC),O=C.get(NT,null),T=S.createRenderer(null,this.componentDef),F=this.componentDef.selectors[0][0]||"div",k=d?function(l,a,r){if(pr(l))return l.selectRootElement(a,r===Ui.ShadowDom);let d="string"==typeof a?l.querySelector(a):a;return d.textContent="",d}(T,d,this.componentDef.encapsulation):Ys(S.createRenderer(null,this.componentDef),F,function(l){const a=l.toLowerCase();return"svg"===a?Is:"math"===a?"http://www.w3.org/1998/MathML/":null}(F)),j=this.componentDef.onPush?576:528,Q=function(l,a){return{components:[],scheduler:l||Po,clean:ND,playerHandler:a||null,flags:0}}(),oe=ng(0,null,null,1,0,null,null,null,null,null),de=pd(null,oe,Q,j,null,null,S,T,O,C);let _e,Te;Tl(de);try{const Ue=function(l,a,r,d,v,C){const S=r[1];r[20]=l;const T=Uu(S,20,2,"#host",null),F=T.mergedAttrs=a.hostAttrs;null!==F&&(ag(T,F,!0),null!==l&&(vp(v,l,F),null!==T.classes&&Fi(v,l,T.classes),null!==T.styles&&eo(v,l,T.styles)));const k=d.createRenderer(l,a),j=pd(r,Jv(a),null,a.onPush?64:16,r[20],T,d,k,C||null,null);return S.firstCreatePass&&(xi(Cp(T,r),S,a.type),zl(S,T),ob(T,r.length,1)),Qp(r,j),r[20]=j}(k,this.componentDef,de,S,T);if(k)if(d)vp(T,k,["ng-version",_O.full]);else{const{attrs:Ee,classes:it}=function(l){const a=[],r=[];let d=1,v=2;for(;d<l.length;){let C=l[d];if("string"==typeof C)2===v?""!==C&&a.push(C,l[++d]):8===v&&r.push(C);else{if(!Ir(v))break;v=C}d++}return{attrs:a,classes:r}}(this.componentDef.selectors[0]);Ee&&vp(T,k,Ee),it&&it.length>0&&Fi(T,k,it.join(" "))}if(Te=Mc(oe,20),void 0!==r){const Ee=Te.projection=[];for(let it=0;it<this.ngContentSelectors.length;it++){const Et=r[it];Ee.push(null!=Et?Array.from(Et):null)}}_e=function(l,a,r,d,v){const C=r[1],S=function(l,a,r){const d=Dn();l.firstCreatePass&&(r.providersResolver&&r.providersResolver(r),ay(l,d,a,ra(l,a,1,null),r));const v=bp(a,l,d.directiveStart,d);Ti(v,a);const C=Ki(d,a);return C&&Ti(C,a),v}(C,r,a);if(d.components.push(S),l[8]=S,v&&v.forEach(T=>T(S,a)),a.contentQueries){const T=Dn();a.contentQueries(1,S,T.directiveStart)}const O=Dn();return!C.firstCreatePass||null===a.hostBindings&&null===a.hostAttrs||(Oi(O.index),oy(r[1],O,0,O.directiveStart,O.directiveEnd,a),fs(a,S)),S}(Ue,this.componentDef,de,Q,[pg]),hd(oe,de,null)}finally{Ic()}return new HT(this.componentType,_e,Wg(Te,de),de,Te)}}class HT extends class{}{constructor(a,r,d,v,C){super(),this.location=d,this._rootLView=v,this._tNode=C,this.instance=r,this.hostView=this.changeDetectorRef=new LT(v),this.componentType=a}get injector(){return new os(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}class zg{}const $g=new Map;class wO extends zg{constructor(a,r){super(),this._parent=r,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new BE(this);const d=gi(a);this._bootstrapComponents=ls(d.bootstrap),this._r3Injector=db(a,r,[{provide:zg,useValue:this},{provide:Ni,useValue:this.componentFactoryResolver}],ln(a)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(a)}get(a,r=kr.THROW_IF_NOT_FOUND,d=jt.Default){return a===kr||a===zg||a===$l?this:this._r3Injector.get(a,r,d)}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(r=>r()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class WE extends class{}{constructor(a){super(),this.moduleType=a,null!==gi(a)&&function(l){const a=new Set;!function r(d){const v=gi(d,!0),C=v.id;null!==C&&(function(l,a,r){if(a&&a!==r)throw new Error(`Duplicate module registered for ${l} - ${ln(a)} vs ${ln(a.name)}`)}(C,$g.get(C),d),$g.set(C,d));const S=ls(v.imports);for(const O of S)a.has(O)||(a.add(O),r(O))}(l)}(a)}create(a){return new wO(this.moduleType,a)}}function Eh(l,a,r,d){return function(l,a,r,d,v,C){const S=a+r;return Gr(l,S,v)?Zr(l,S+1,C?d.call(C,v):d(v)):Yy(l,S+1)}(He(),Kr(),l,a,r,d)}function EO(l,a,r,d,v){return function(l,a,r,d,v,C,S){const O=a+r;return Yl(l,O,v,C)?Zr(l,O+2,S?d.call(S,v,C):d(v,C)):Yy(l,O+2)}(He(),Kr(),l,a,r,d,v)}function Nd(l,a,r,d,v,C){return function(l,a,r,d,v,C,S,O){const T=a+r;return function(l,a,r,d,v){const C=Yl(l,a,r,d);return Gr(l,a+2,v)||C}(l,T,v,C,S)?Zr(l,T+3,O?d.call(O,v,C,S):d(v,C,S)):Yy(l,T+3)}(He(),Kr(),l,a,r,d,v,C)}function DO(l,a,r,d,v,C,S){return function(l,a,r,d,v,C,S,O,T){const F=a+r;return function(l,a,r,d,v,C){const S=Yl(l,a,r,d);return Yl(l,a+2,v,C)||S}(l,F,v,C,S,O)?Zr(l,F+4,T?d.call(T,v,C,S,O):d(v,C,S,O)):Yy(l,F+4)}(He(),Kr(),l,a,r,d,v,C,S)}function Yy(l,a){const r=l[a];return r===Ht?void 0:r}function zE(l){return a=>{setTimeout(l,void 0,a)}}const he=class extends Mt{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,r,d){var T,F,k;let v=a,C=r||(()=>null),S=d;if(a&&"object"==typeof a){const j=a;v=null==(T=j.next)?void 0:T.bind(j),C=null==(F=j.error)?void 0:F.bind(j),S=null==(k=j.complete)?void 0:k.bind(j)}this.__isAsync&&(C=zE(C),v&&(v=zE(v)),S&&(S=zE(S)));const O=super.subscribe({next:v,error:C,complete:S});return a instanceof an&&a.add(O),O}};function eR(){return this._results[_d()]()}class Sr{constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const r=_d(),d=Sr.prototype;d[r]||(d[r]=eR)}get changes(){return this._changes||(this._changes=new he)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,r){return this._results.reduce(a,r)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,r){const d=this;d.dirty=!1;const v=Ai(a);(this._changesDetected=!function(l,a,r){if(l.length!==a.length)return!1;for(let d=0;d<l.length;d++){let v=l[d],C=a[d];if(r&&(v=r(v),C=r(C)),C!==v)return!1}return!0}(d._results,v,r))&&(d._results=v,d.length=v.length,d.last=v[this.length-1],d.first=v[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let vn=(()=>{class l{}return l.__NG_ELEMENT_ID__=tR,l})();const Zy=vn,MO=class extends Zy{constructor(a,r,d){super(),this._declarationLView=a,this._declarationTContainer=r,this.elementRef=d}createEmbeddedView(a){const r=this._declarationTContainer.tViews,d=pd(this._declarationLView,r,a,16,null,r.declTNode,null,null,null,null);d[17]=this._declarationLView[this._declarationTContainer.index];const C=this._declarationLView[19];return null!==C&&(d[19]=C.createEmbeddedView(r)),hd(r,d,a),new Ky(d)}};function tR(){return Ld(Dn(),He())}function Ld(l,a){return 4&l.type?new MO(a,l,Wg(l,a)):null}let ei=(()=>{class l{}return l.__NG_ELEMENT_ID__=$E,l})();function $E(){return IO(Dn(),He())}const nR=ei,_s=class extends nR{constructor(a,r,d){super(),this._lContainer=a,this._hostTNode=r,this._hostLView=d}get element(){return Wg(this._hostTNode,this._hostLView)}get injector(){return new os(this._hostTNode,this._hostLView)}get parentInjector(){const a=Gc(this._hostTNode,this._hostLView);if(cC(a)){const r=Bs(a,this._hostLView),d=Aa(a);return new os(r[1].data[d+8],r)}return new os(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const r=FO(this._lContainer);return null!==r&&r[a]||null}get length(){return this._lContainer.length-10}createEmbeddedView(a,r,d){const v=a.createEmbeddedView(r||{});return this.insert(v,d),v}createComponent(a,r,d,v,C){const S=a&&!("function"==typeof a);let O;if(S)O=r;else{const j=r||{};O=j.index,d=j.injector,v=j.projectableNodes,C=j.ngModuleRef}const T=S?a:new HE(Bn(a)),F=d||this.parentInjector;if(!C&&null==T.ngModule&&F){const j=F.get(zg,null);j&&(C=j)}const k=T.create(F,v,void 0,C);return this.insert(k.hostView,O),k}insert(a,r){const d=a._lView,v=d[1];if(Da(d[3])){const k=this.indexOf(a);if(-1!==k)this.detach(k);else{const j=d[3],Q=new _s(j,j[6],j[3]);Q.detach(Q.indexOf(a))}}const C=this._adjustIndex(r),S=this._lContainer;!function(l,a,r,d){const v=10+d,C=r.length;d>0&&(r[v-1][4]=a),d<C-10?(a[4]=r[v],dC(r,10+d,a)):(r.push(a),a[4]=null),a[3]=r;const S=a[17];null!==S&&r!==S&&function(l,a){const r=l[9];a[16]!==a[3][3][16]&&(l[2]=!0),null===r?l[9]=[a]:r.push(a)}(S,a);const O=a[19];null!==O&&O.insertView(l),a[2]|=128}(v,d,S,C);const O=jp(C,S),T=d[11],F=Bp(T,S[7]);return null!==F&&function(l,a,r,d,v,C){d[0]=v,d[6]=a,zp(l,d,r,1,v,C)}(v,S[6],T,d,F,O),a.attachToViewContainerRef(),dC(KE(S),C,a),a}move(a,r){return this.insert(a,r)}indexOf(a){const r=FO(this._lContainer);return null!==r?r.indexOf(a):-1}remove(a){const r=this._adjustIndex(a,-1),d=id(this._lContainer,r);d&&(_f(KE(this._lContainer),r),Fo(d[1],d))}detach(a){const r=this._adjustIndex(a,-1),d=id(this._lContainer,r);return d&&null!=_f(KE(this._lContainer),r)?new Ky(d):null}_adjustIndex(a,r=0){return null==a?this.length+r:a}};function FO(l){return l[8]}function KE(l){return l[8]||(l[8]=[])}function IO(l,a){let r;const d=a[l.index];if(Da(d))r=d;else{let v;if(8&l.type)v=Fn(d);else{const C=a[11];v=C.createComment("");const S=Ki(l,a);Wu(C,Bp(C,S),v,function(l,a){return pr(l)?l.nextSibling(a):a.nextSibling}(C,S),!1)}a[l.index]=r=og(d,a,v,l),Qp(a,r)}return new _s(r,l,a)}class Cs{constructor(a){this.queryList=a,this.matches=null}clone(){return new Cs(this.queryList)}setDirty(){this.queryList.setDirty()}}class YE{constructor(a=[]){this.queries=a}createEmbeddedView(a){const r=a.queries;if(null!==r){const d=null!==a.contentQueries?a.contentQueries[0]:r.length,v=[];for(let C=0;C<d;C++){const S=r.getByIndex(C);v.push(this.queries[S.indexInDeclarationView].clone())}return new YE(v)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let r=0;r<this.queries.length;r++)null!==GO(a,r).matches&&this.queries[r].setDirty()}}class NO{constructor(a,r,d=null){this.predicate=a,this.flags=r,this.read=d}}class qb{constructor(a=[]){this.queries=a}elementStart(a,r){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(a,r)}elementEnd(a){for(let r=0;r<this.queries.length;r++)this.queries[r].elementEnd(a)}embeddedTView(a){let r=null;for(let d=0;d<this.length;d++){const v=null!==r?r.length:0,C=this.getByIndex(d).embeddedTView(a,v);C&&(C.indexInDeclarationView=d,null!==r?r.push(C):r=[C])}return null!==r?new qb(r):null}template(a,r){for(let d=0;d<this.queries.length;d++)this.queries[d].template(a,r)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class qE{constructor(a,r=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=r}elementStart(a,r){this.isApplyingToNode(r)&&this.matchTNode(a,r)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,r){this.elementStart(a,r)}embeddedTView(a,r){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,r),new qE(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const r=this._declarationNodeIndex;let d=a.parent;for(;null!==d&&8&d.type&&d.index!==r;)d=d.parent;return r===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(a,r){const d=this.metadata.predicate;if(Array.isArray(d))for(let v=0;v<d.length;v++){const C=d[v];this.matchTNodeWithReadOption(a,r,Jy(r,C)),this.matchTNodeWithReadOption(a,r,Hs(r,a,C,!1,!1))}else d===vn?4&r.type&&this.matchTNodeWithReadOption(a,r,-1):this.matchTNodeWithReadOption(a,r,Hs(r,a,d,!1,!1))}matchTNodeWithReadOption(a,r,d){if(null!==d){const v=this.metadata.read;if(null!==v)if(v===Lt||v===ei||v===vn&&4&r.type)this.addMatch(r.index,-2);else{const C=Hs(r,a,v,!1,!1);null!==C&&this.addMatch(r.index,C)}else this.addMatch(r.index,d)}}addMatch(a,r){null===this.matches?this.matches=[a,r]:this.matches.push(a,r)}}function Jy(l,a){const r=l.localNames;if(null!==r)for(let d=0;d<r.length;d+=2)if(r[d]===a)return r[d+1];return null}function oR(l,a,r,d){return-1===r?function(l,a){return 11&l.type?Wg(l,a):4&l.type?Ld(l,a):null}(a,l):-2===r?function(l,a,r){return r===Lt?Wg(a,l):r===vn?Ld(a,l):r===ei?IO(a,l):void 0}(l,a,d):bp(l,l[1],r,a)}function LO(l,a,r,d){const v=a[19].queries[d];if(null===v.matches){const C=l.data,S=r.matches,O=[];for(let T=0;T<S.length;T+=2){const F=S[T];O.push(F<0?null:oR(a,C[F],S[T+1],r.metadata.read))}v.matches=O}return v.matches}function XE(l,a,r,d){const v=l.queries.getByIndex(r),C=v.matches;if(null!==C){const S=LO(l,a,v,r);for(let O=0;O<C.length;O+=2){const T=C[O];if(T>0)d.push(S[O/2]);else{const F=C[O+1],k=a[-T];for(let j=10;j<k.length;j++){const Q=k[j];Q[17]===Q[3]&&XE(Q[1],Q,F,d)}if(null!==k[9]){const j=k[9];for(let Q=0;Q<j.length;Q++){const oe=j[Q];XE(oe[1],oe,F,d)}}}}}return d}function rt(l){const a=He(),r=hn(),d=mp();lf(d+1);const v=GO(r,d);if(l.dirty&&iC(a)===(2==(2&v.metadata.flags))){if(null===v.matches)l.reset([]);else{const C=v.crossesNgTemplate?XE(r,a,d,[]):LO(r,a,v,d);l.reset(C,MT),l.notifyOnChanges()}return!0}return!1}function gr(l,a,r){const d=hn();d.firstCreatePass&&(kO(d,new NO(l,a,r),-1),2==(2&a)&&(d.staticViewQueries=!0)),sc(d,He(),a)}function rn(l,a,r,d){const v=hn();if(v.firstCreatePass){const C=Dn();kO(v,new NO(a,r,d),C.index),function(l,a){const r=l.contentQueries||(l.contentQueries=[]);a!==(r.length?r[r.length-1]:-1)&&r.push(l.queries.length-1,a)}(v,l),2==(2&r)&&(v.staticContentQueries=!0)}sc(v,He(),r)}function ht(){return l=He(),a=mp(),l[19].queries[a].queryList;var l,a}function sc(l,a,r){const d=new Sr(4==(4&r));ty(l,a,d,d.destroy),null===a[19]&&(a[19]=new YE),a[19].queries.push(new Cs(d))}function kO(l,a,r){null===l.queries&&(l.queries=new qb),l.queries.track(new qE(a,r))}function GO(l,a){return l.queries.getByIndex(a)}function lc(l,a){return Ld(l,a)}const K=sv("Input",l=>({bindingPropertyName:l})),st=sv("Output",l=>({bindingPropertyName:l}));function Qb(...l){}const a0=new Xe("Application Initializer");let qg=(()=>{class l{constructor(r){this.appInits=r,this.resolve=Qb,this.reject=Qb,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,v)=>{this.resolve=d,this.reject=v})}runInitializers(){if(this.initialized)return;const r=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let v=0;v<this.appInits.length;v++){const C=this.appInits[v]();if(Ad(C))r.push(C);else if(Lb(C)){const S=new Promise((O,T)=>{C.subscribe({complete:O,error:T})});r.push(S)}}Promise.all(r).then(()=>{d()}).catch(v=>{this.reject(v)}),0===r.length&&d(),this.initialized=!0}}return l.\u0275fac=function(r){return new(r||l)(Le(a0,8))},l.\u0275prov=ot({token:l,factory:l.\u0275fac}),l})();const i_=new Xe("AppId"),s0={provide:i_,useFactory:function(){return`${o_()}${o_()}${o_()}`},deps:[]};function o_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const tx=new Xe("Platform Initializer"),Oh=new Xe("Platform ID"),_R=new Xe("appBootstrapListener");let CR=(()=>{class l{log(r){console.log(r)}warn(r){console.warn(r)}}return l.\u0275fac=function(r){return new(r||l)},l.\u0275prov=ot({token:l,factory:l.\u0275fac}),l})();const cc=new Xe("LocaleId"),nx=new Xe("DefaultCurrencyCode");class ix{constructor(a,r){this.ngModuleFactory=a,this.componentFactories=r}}let ox=(()=>{class l{compileModuleSync(r){return new WE(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){const d=this.compileModuleSync(r),C=ls(gi(r).declarations).reduce((S,O)=>{const T=Bn(O);return T&&S.push(new HE(T)),S},[]);return new ix(d,C)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}}return l.\u0275fac=function(r){return new(r||l)},l.\u0275prov=ot({token:l,factory:l.\u0275fac}),l})();const wR=(()=>Promise.resolve(0))();function l0(l){"undefined"==typeof Zone?wR.then(()=>{l&&l.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",l)}class Xt{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new he(!1),this.onMicrotaskEmpty=new he(!1),this.onStable=new he(!1),this.onError=new he(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const v=this;v._nesting=0,v._outer=v._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(v._inner=v._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(v._inner=v._inner.fork(Zone.longStackTraceZoneSpec)),v.shouldCoalesceEventChangeDetection=!d&&r,v.shouldCoalesceRunChangeDetection=d,v.lastRequestAnimationFrameId=-1,v.nativeRequestAnimationFrame=function(){let l=Vn.requestAnimationFrame,a=Vn.cancelAnimationFrame;if("undefined"!=typeof Zone&&l&&a){const r=l[Zone.__symbol__("OriginalDelegate")];r&&(l=r);const d=a[Zone.__symbol__("OriginalDelegate")];d&&(a=d)}return{nativeRequestAnimationFrame:l,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function(l){const a=()=>{!function(l){l.isCheckStableRunning||-1!==l.lastRequestAnimationFrameId||(l.lastRequestAnimationFrameId=l.nativeRequestAnimationFrame.call(Vn,()=>{l.fakeTopEventTask||(l.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{l.lastRequestAnimationFrameId=-1,c0(l),l.isCheckStableRunning=!0,kd(l),l.isCheckStableRunning=!1},void 0,()=>{},()=>{})),l.fakeTopEventTask.invoke()}),c0(l))}(l)};l._inner=l._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(r,d,v,C,S,O)=>{try{return sx(l),r.invokeTask(v,C,S,O)}finally{(l.shouldCoalesceEventChangeDetection&&"eventTask"===C.type||l.shouldCoalesceRunChangeDetection)&&a(),Qg(l)}},onInvoke:(r,d,v,C,S,O,T)=>{try{return sx(l),r.invoke(v,C,S,O,T)}finally{l.shouldCoalesceRunChangeDetection&&a(),Qg(l)}},onHasTask:(r,d,v,C)=>{r.hasTask(v,C),d===v&&("microTask"==C.change?(l._hasPendingMicrotasks=C.microTask,c0(l),kd(l)):"macroTask"==C.change&&(l.hasPendingMacrotasks=C.macroTask))},onHandleError:(r,d,v,C)=>(r.handleError(v,C),l.runOutsideAngular(()=>l.onError.emit(C)),!1)})}(v)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Xt.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Xt.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(a,r,d){return this._inner.run(a,r,d)}runTask(a,r,d,v){const C=this._inner,S=C.scheduleEventTask("NgZoneEvent: "+v,a,SR,Qb,Qb);try{return C.runTask(S,r,d)}finally{C.cancelTask(S)}}runGuarded(a,r,d){return this._inner.runGuarded(a,r,d)}runOutsideAngular(a){return this._outer.run(a)}}const SR={};function kd(l){if(0==l._nesting&&!l.hasPendingMicrotasks&&!l.isStable)try{l._nesting++,l.onMicrotaskEmpty.emit(null)}finally{if(l._nesting--,!l.hasPendingMicrotasks)try{l.runOutsideAngular(()=>l.onStable.emit(null))}finally{l.isStable=!0}}}function c0(l){l.hasPendingMicrotasks=!!(l._hasPendingMicrotasks||(l.shouldCoalesceEventChangeDetection||l.shouldCoalesceRunChangeDetection)&&-1!==l.lastRequestAnimationFrameId)}function sx(l){l._nesting++,l.isStable&&(l.isStable=!1,l.onUnstable.emit(null))}function Qg(l){l._nesting--,kd(l)}class DR{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new he,this.onMicrotaskEmpty=new he,this.onStable=new he,this.onError=new he}run(a,r,d){return a.apply(r,d)}runGuarded(a,r,d){return a.apply(r,d)}runOutsideAngular(a){return a()}runTask(a,r,d,v){return a.apply(r,d)}}let d0=(()=>{class l{constructor(r){this._ngZone=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Xt.assertNotInAngularZone(),l0(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())l0(()=>{for(;0!==this._callbacks.length;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb(this._didWork)}this._didWork=!1});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(r)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,d,v){let C=-1;d&&d>0&&(C=setTimeout(()=>{this._callbacks=this._callbacks.filter(S=>S.timeoutId!==C),r(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:r,timeoutId:C,updateCb:v})}whenStable(r,d,v){if(v&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,d,v),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(r,d,v){return[]}}return l.\u0275fac=function(r){return new(r||l)(Le(Xt))},l.\u0275prov=ot({token:l,factory:l.\u0275fac}),l})(),Zg=(()=>{class l{constructor(){this._applications=new Map,Gd.addToWindow(this)}registerApplication(r,d){this._applications.set(r,d)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,d=!0){return Gd.findTestabilityInTree(this,r,d)}}return l.\u0275fac=function(r){return new(r||l)},l.\u0275prov=ot({token:l,factory:l.\u0275fac}),l})();class OR{addToWindow(a){}findTestabilityInTree(a,r,d){return null}}let sl,Gd=new OR;const lx=new Xe("AllowMultipleToken");function p0(l,a,r=[]){const d=`Platform: ${a}`,v=new Xe(d);return(C=[])=>{let S=dc();if(!S||S.injector.get(lx,!1))if(l)l(r.concat(C).concat({provide:v,useValue:!0}));else{const O=r.concat(C).concat({provide:v,useValue:!0},{provide:Kl,useValue:"platform"});!function(l){if(sl&&!sl.destroyed&&!sl.injector.get(lx,!1))throw new mr("400","");sl=l.get(cx);const a=l.get(tx,null);a&&a.forEach(r=>r())}(kr.create({providers:O,name:d}))}return function(l){const a=dc();if(!a)throw new mr("401","");return a}()}}function dc(){return sl&&!sl.destroyed?sl:null}let cx=(()=>{class l{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,d){const O=function(l,a){let r;return r="noop"===l?new DR:("zone.js"===l?void 0:l)||new Xt({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==a?void 0:a.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==a?void 0:a.ngZoneRunCoalescing)}),r}(d?d.ngZone:void 0,{ngZoneEventCoalescing:d&&d.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:d&&d.ngZoneRunCoalescing||!1}),T=[{provide:Xt,useValue:O}];return O.run(()=>{const F=kr.create({providers:T,parent:this.injector,name:r.moduleType.name}),k=r.create(F),j=k.injector.get(zs,null);if(!j)throw new mr("402","");return O.runOutsideAngular(()=>{const Q=O.onError.subscribe({next:oe=>{j.handleError(oe)}});k.onDestroy(()=>{h0(this._modules,k),Q.unsubscribe()})}),function(l,a,r){try{const d=r();return Ad(d)?d.catch(v=>{throw a.runOutsideAngular(()=>l.handleError(v)),v}):d}catch(d){throw a.runOutsideAngular(()=>l.handleError(d)),d}}(j,O,()=>{const Q=k.injector.get(qg);return Q.runInitializers(),Q.donePromise.then(()=>(function(l){Un(l,"Expected localeId to be defined"),"string"==typeof l&&(DE=l.toLowerCase().replace(/_/g,"-"))}(k.injector.get(cc,Pg)||Pg),this._moduleDoBootstrap(k),k))})})}bootstrapModule(r,d=[]){const v=dx({},d);return function(l,a,r){const d=new WE(r);return Promise.resolve(d)}(0,0,r).then(C=>this.bootstrapModuleFactory(C,v))}_moduleDoBootstrap(r){const d=r.injector.get(Wo);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(v=>d.bootstrap(v));else{if(!r.instance.ngDoBootstrap)throw new mr("403","");r.instance.ngDoBootstrap(d)}this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new mr("404","");this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r()),this._destroyed=!0}get destroyed(){return this._destroyed}}return l.\u0275fac=function(r){return new(r||l)(Le(kr))},l.\u0275prov=ot({token:l,factory:l.\u0275fac}),l})();function dx(l,a){return Array.isArray(a)?a.reduce(dx,l):An(An({},l),a)}let Wo=(()=>{class l{constructor(r,d,v,C,S){this._zone=r,this._injector=d,this._exceptionHandler=v,this._componentFactoryResolver=C,this._initStatus=S,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const O=new ur(F=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{F.next(this._stable),F.complete()})}),T=new ur(F=>{let k;this._zone.runOutsideAngular(()=>{k=this._zone.onStable.subscribe(()=>{Xt.assertNotInAngularZone(),l0(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,F.next(!0))})})});const j=this._zone.onUnstable.subscribe(()=>{Xt.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{F.next(!1)}))});return()=>{k.unsubscribe(),j.unsubscribe()}});this.isStable=Ge(O,T.pipe(jh()))}bootstrap(r,d){if(!this._initStatus.done)throw new mr("405","");let v;v=r instanceof mO?r:this._componentFactoryResolver.resolveComponentFactory(r),this.componentTypes.push(v.componentType);const C=function(l){return l.isBoundToModule}(v)?void 0:this._injector.get(zg),O=v.create(kr.NULL,[],d||v.selector,C),T=O.location.nativeElement,F=O.injector.get(d0,null),k=F&&O.injector.get(Zg);return F&&k&&k.registerApplication(T,F),O.onDestroy(()=>{this.detachView(O.hostView),h0(this.components,O),k&&k.unregisterApplication(T)}),this._loadComponent(O),O}tick(){if(this._runningTick)throw new mr("101","");try{this._runningTick=!0;for(let r of this._views)r.detectChanges()}catch(r){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(r))}finally{this._runningTick=!1}}attachView(r){const d=r;this._views.push(d),d.attachToAppRef(this)}detachView(r){const d=r;h0(this._views,d),d.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r),this._injector.get(_R,[]).concat(this._bootstrapListeners).forEach(v=>v(r))}ngOnDestroy(){this._views.slice().forEach(r=>r.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return l.\u0275fac=function(r){return new(r||l)(Le(Xt),Le(kr),Le(zs),Le(Ni),Le(qg))},l.\u0275prov=ot({token:l,factory:l.\u0275fac}),l})();function h0(l,a){const r=l.indexOf(a);r>-1&&l.splice(r,1)}let f0=!0,Br=(()=>{class l{}return l.__NG_ELEMENT_ID__=IR,l})();function IR(l){return function(l,a,r){if(Fs(l)&&!r){const d=Oo(l.index,a);return new Ky(d,d)}return 47&l.type?new Ky(a[16],a):null}(Dn(),He(),16==(16&l))}class vx{constructor(){}supports(a){return No(a)}create(a){return new HR(a)}}const yx=(l,a)=>a;class HR{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||yx}forEachItem(a){let r;for(r=this._itHead;null!==r;r=r._next)a(r)}forEachOperation(a){let r=this._itHead,d=this._removalsHead,v=0,C=null;for(;r||d;){const S=!d||r&&r.currentIndex<bx(d,v,C)?r:d,O=bx(S,v,C),T=S.currentIndex;if(S===d)v--,d=d._nextRemoved;else if(r=r._next,null==S.previousIndex)v++;else{C||(C=[]);const F=O-v,k=T-v;if(F!=k){for(let Q=0;Q<F;Q++){const oe=Q<C.length?C[Q]:C[Q]=0,de=oe+Q;k<=de&&de<F&&(C[Q]=oe+1)}C[S.previousIndex]=k-F}}O!==T&&a(S,O,T)}}forEachPreviousItem(a){let r;for(r=this._previousItHead;null!==r;r=r._nextPrevious)a(r)}forEachAddedItem(a){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)a(r)}forEachMovedItem(a){let r;for(r=this._movesHead;null!==r;r=r._nextMoved)a(r)}forEachRemovedItem(a){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)a(r)}forEachIdentityChange(a){let r;for(r=this._identityChangesHead;null!==r;r=r._nextIdentityChange)a(r)}diff(a){if(null==a&&(a=[]),!No(a))throw new Error(`Error trying to diff '${ln(a)}'. Only arrays and iterables are allowed`);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let v,C,S,r=this._itHead,d=!1;if(Array.isArray(a)){this.length=a.length;for(let O=0;O<this.length;O++)C=a[O],S=this._trackByFn(O,C),null!==r&&Object.is(r.trackById,S)?(d&&(r=this._verifyReinsertion(r,C,S,O)),Object.is(r.item,C)||this._addIdentityChange(r,C)):(r=this._mismatch(r,C,S,O),d=!0),r=r._next}else v=0,function(l,a){if(Array.isArray(l))for(let r=0;r<l.length;r++)a(l[r]);else{const r=l[_d()]();let d;for(;!(d=r.next()).done;)a(d.value)}}(a,O=>{S=this._trackByFn(v,O),null!==r&&Object.is(r.trackById,S)?(d&&(r=this._verifyReinsertion(r,O,S,v)),Object.is(r.item,O)||this._addIdentityChange(r,O)):(r=this._mismatch(r,O,S,v),d=!0),r=r._next,v++}),this.length=v;return this._truncate(r),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,r,d,v){let C;return null===a?C=this._itTail:(C=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(a.item,r)||this._addIdentityChange(a,r),this._reinsertAfter(a,C,v)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(d,v))?(Object.is(a.item,r)||this._addIdentityChange(a,r),this._moveAfter(a,C,v)):a=this._addAfter(new WR(r,d),C,v),a}_verifyReinsertion(a,r,d,v){let C=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==C?a=this._reinsertAfter(C,a._prev,v):a.currentIndex!=v&&(a.currentIndex=v,this._addToMoves(a,v)),a}_truncate(a){for(;null!==a;){const r=a._next;this._addToRemovals(this._unlink(a)),a=r}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,r,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const v=a._prevRemoved,C=a._nextRemoved;return null===v?this._removalsHead=C:v._nextRemoved=C,null===C?this._removalsTail=v:C._prevRemoved=v,this._insertAfter(a,r,d),this._addToMoves(a,d),a}_moveAfter(a,r,d){return this._unlink(a),this._insertAfter(a,r,d),this._addToMoves(a,d),a}_addAfter(a,r,d){return this._insertAfter(a,r,d),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,r,d){const v=null===r?this._itHead:r._next;return a._next=v,a._prev=r,null===v?this._itTail=a:v._prev=a,null===r?this._itHead=a:r._next=a,null===this._linkedRecords&&(this._linkedRecords=new Cx),this._linkedRecords.put(a),a.currentIndex=d,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const r=a._prev,d=a._next;return null===r?this._itHead=d:r._next=d,null===d?this._itTail=r:d._prev=r,a}_addToMoves(a,r){return a.previousIndex===r||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Cx),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,r){return a.item=r,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class WR{constructor(a,r){this.item=a,this.trackById=r,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class _x{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,r){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===r||r<=d.currentIndex)&&Object.is(d.trackById,a))return d;return null}remove(a){const r=a._prevDup,d=a._nextDup;return null===r?this._head=d:r._nextDup=d,null===d?this._tail=r:d._prevDup=r,null===this._head}}class Cx{constructor(){this.map=new Map}put(a){const r=a.trackById;let d=this.map.get(r);d||(d=new _x,this.map.set(r,d)),d.add(a)}get(a,r){const v=this.map.get(a);return v?v.get(a,r):null}remove(a){const r=a.trackById;return this.map.get(r).remove(a)&&this.map.delete(r),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function bx(l,a,r){const d=l.previousIndex;if(null===d)return d;let v=0;return r&&d<r.length&&(v=r[d]),d+a+v}class jo{constructor(){}supports(a){return a instanceof Map||vs(a)}create(){return new jR}}class jR{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let r;for(r=this._mapHead;null!==r;r=r._next)a(r)}forEachPreviousItem(a){let r;for(r=this._previousMapHead;null!==r;r=r._nextPrevious)a(r)}forEachChangedItem(a){let r;for(r=this._changesHead;null!==r;r=r._nextChanged)a(r)}forEachAddedItem(a){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)a(r)}forEachRemovedItem(a){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)a(r)}diff(a){if(a){if(!(a instanceof Map||vs(a)))throw new Error(`Error trying to diff '${ln(a)}'. Only maps and objects are allowed`)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let r=this._mapHead;if(this._appendAfter=null,this._forEach(a,(d,v)=>{if(r&&r.key===v)this._maybeAddToChanges(r,d),this._appendAfter=r,r=r._next;else{const C=this._getOrCreateRecordForKey(v,d);r=this._insertBeforeOrAppend(r,C)}}),r){r._prev&&(r._prev._next=null),this._removalsHead=r;for(let d=r;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,r){if(a){const d=a._prev;return r._next=a,r._prev=d,a._prev=r,d&&(d._next=r),a===this._mapHead&&(this._mapHead=r),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=r,r._prev=this._appendAfter):this._mapHead=r,this._appendAfter=r,null}_getOrCreateRecordForKey(a,r){if(this._records.has(a)){const v=this._records.get(a);this._maybeAddToChanges(v,r);const C=v._prev,S=v._next;return C&&(C._next=S),S&&(S._prev=C),v._next=null,v._prev=null,v}const d=new UR(a);return this._records.set(a,d),d.currentValue=r,this._addToAdditions(d),d}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,r){Object.is(r,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=r,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,r){a instanceof Map?a.forEach(r):Object.keys(a).forEach(d=>r(a[d],d))}}class UR{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function wx(){return new ll([new vx])}let ll=(()=>{class l{constructor(r){this.factories=r}static create(r,d){if(null!=d){const v=d.factories.slice();r=r.concat(v)}return new l(r)}static extend(r){return{provide:l,useFactory:d=>l.create(r,d||wx()),deps:[[l,new js,new qr]]}}find(r){const d=this.factories.find(v=>v.supports(r));if(null!=d)return d;throw new Error(`Cannot find a differ supporting object '${r}' of type '${function(l){return l.name||typeof l}(r)}'`)}}return l.\u0275prov=ot({token:l,providedIn:"root",factory:wx}),l})();function Sx(){return new Jg([new jo])}let Jg=(()=>{class l{constructor(r){this.factories=r}static create(r,d){if(d){const v=d.factories.slice();r=r.concat(v)}return new l(r)}static extend(r){return{provide:l,useFactory:d=>l.create(r,d||Sx()),deps:[[l,new js,new qr]]}}find(r){const d=this.factories.find(v=>v.supports(r));if(d)return d;throw new Error(`Cannot find a differ supporting object '${r}'`)}}return l.\u0275prov=ot({token:l,providedIn:"root",factory:Sx}),l})();const co=[new jo],KR=new ll([new vx]),YR=new Jg(co),h=p0(null,"core",[{provide:Oh,useValue:"unknown"},{provide:cx,deps:[kr]},{provide:Zg,deps:[]},{provide:CR,deps:[]}]),c=[{provide:Wo,useClass:Wo,deps:[Xt,kr,zs,Ni,qg]},{provide:GT,deps:[Xt],useFactory:function(l){let a=[];return l.onStable.subscribe(()=>{for(;a.length;)a.pop()()}),function(r){a.push(r)}}},{provide:qg,useClass:qg,deps:[[new qr,a0]]},{provide:ox,useClass:ox,deps:[]},s0,{provide:ll,useFactory:function(){return KR},deps:[]},{provide:Jg,useFactory:function(){return YR},deps:[]},{provide:cc,useFactory:function(l){return l||"undefined"!=typeof $localize&&$localize.locale||Pg},deps:[[new Tp(cc),new qr,new js]]},{provide:nx,useValue:"USD"}];let y=(()=>{class l{constructor(r){}}return l.\u0275fac=function(r){return new(r||l)(Le(Wo))},l.\u0275mod=Tt({type:l}),l.\u0275inj=_t({providers:c}),l})(),X=null;function q(){return X}const ue=new Xe("DocumentToken");let fe=(()=>{class l{historyGo(r){throw new Error("Not implemented")}}return l.\u0275fac=function(r){return new(r||l)},l.\u0275prov=ot({token:l,factory:function(){return Le(ke)},providedIn:"platform"}),l})(),ke=(()=>{class l extends fe{constructor(r){super(),this._doc=r,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return q().getBaseHref(this._doc)}onPopState(r){const d=q().getGlobalEventTarget(this._doc,"window");return d.addEventListener("popstate",r,!1),()=>d.removeEventListener("popstate",r)}onHashChange(r){const d=q().getGlobalEventTarget(this._doc,"window");return d.addEventListener("hashchange",r,!1),()=>d.removeEventListener("hashchange",r)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(r){this.location.pathname=r}pushState(r,d,v){Ne()?this._history.pushState(r,d,v):this.location.hash=v}replaceState(r,d,v){Ne()?this._history.replaceState(r,d,v):this.location.hash=v}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}}return l.\u0275fac=function(r){return new(r||l)(Le(ue))},l.\u0275prov=ot({token:l,factory:function(){return new ke(Le(ue))},providedIn:"platform"}),l})();function Ne(){return!!window.history.pushState}function Ie(l,a){if(0==l.length)return a;if(0==a.length)return l;let r=0;return l.endsWith("/")&&r++,a.startsWith("/")&&r++,2==r?l+a.substring(1):1==r?l+a:l+"/"+a}function xe(l){const a=l.match(/#|\?|$/),r=a&&a.index||l.length;return l.slice(0,r-("/"===l[r-1]?1:0))+l.slice(r)}function Oe(l){return l&&"?"!==l[0]?"?"+l:l}let et=(()=>{class l{historyGo(r){throw new Error("Not implemented")}}return l.\u0275fac=function(r){return new(r||l)},l.\u0275prov=ot({token:l,factory:function(){return function(l){const a=Le(ue).location;return new qe(Le(fe),a&&a.origin||"")}()},providedIn:"root"}),l})();const Ot=new Xe("appBaseHref");let qe=(()=>{class l extends et{constructor(r,d){if(super(),this._platformLocation=r,this._removeListenerFns=[],null==d&&(d=this._platformLocation.getBaseHrefFromDOM()),null==d)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=d}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return Ie(this._baseHref,r)}path(r=!1){const d=this._platformLocation.pathname+Oe(this._platformLocation.search),v=this._platformLocation.hash;return v&&r?`${d}${v}`:d}pushState(r,d,v,C){const S=this.prepareExternalUrl(v+Oe(C));this._platformLocation.pushState(r,d,S)}replaceState(r,d,v,C){const S=this.prepareExternalUrl(v+Oe(C));this._platformLocation.replaceState(r,d,S)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(r=0){var d,v;null==(v=(d=this._platformLocation).historyGo)||v.call(d,r)}}return l.\u0275fac=function(r){return new(r||l)(Le(fe),Le(Ot,8))},l.\u0275prov=ot({token:l,factory:l.\u0275fac}),l})(),Ze=(()=>{class l{constructor(r,d){this._subject=new he,this._urlChangeListeners=[],this._platformStrategy=r;const v=this._platformStrategy.getBaseHref();this._platformLocation=d,this._baseHref=xe(Qt(v)),this._platformStrategy.onPopState(C=>{this._subject.emit({url:this.path(!0),pop:!0,state:C.state,type:C.type})})}path(r=!1){return this.normalize(this._platformStrategy.path(r))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(r,d=""){return this.path()==this.normalize(r+Oe(d))}normalize(r){return l.stripTrailingSlash(function(l,a){return l&&a.startsWith(l)?a.substring(l.length):a}(this._baseHref,Qt(r)))}prepareExternalUrl(r){return r&&"/"!==r[0]&&(r="/"+r),this._platformStrategy.prepareExternalUrl(r)}go(r,d="",v=null){this._platformStrategy.pushState(v,"",r,d),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Oe(d)),v)}replaceState(r,d="",v=null){this._platformStrategy.replaceState(v,"",r,d),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Oe(d)),v)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(r=0){var d,v;null==(v=(d=this._platformStrategy).historyGo)||v.call(d,r)}onUrlChange(r){this._urlChangeListeners.push(r),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(d=>{this._notifyUrlChangeListeners(d.url,d.state)}))}_notifyUrlChangeListeners(r="",d){this._urlChangeListeners.forEach(v=>v(r,d))}subscribe(r,d,v){return this._subject.subscribe({next:r,error:d,complete:v})}}return l.normalizeQueryParams=Oe,l.joinWithSlash=Ie,l.stripTrailingSlash=xe,l.\u0275fac=function(r){return new(r||l)(Le(et),Le(fe))},l.\u0275prov=ot({token:l,factory:function(){return new Ze(Le(et),Le(fe))},providedIn:"root"}),l})();function Qt(l){return l.replace(/\/index.html$/,"")}var yn=(()=>((yn=yn||{})[yn.Zero=0]="Zero",yn[yn.One=1]="One",yn[yn.Two=2]="Two",yn[yn.Few=3]="Few",yn[yn.Many=4]="Many",yn[yn.Other=5]="Other",yn))();const S0=function(l){return function(l){const a=function(l){return l.toLowerCase().replace(/_/g,"-")}(l);let r=Pd(a);if(r)return r;const d=a.split("-")[0];if(r=Pd(d),r)return r;if("en"===d)return wE;throw new Error(`Missing locale data for the locale "${l}".`)}(l)[nt.PluralCase]};class Ax{}let C1=(()=>{class l extends Ax{constructor(r){super(),this.locale=r}getPluralCategory(r,d){switch(S0(d||this.locale)(r)){case yn.Zero:return"zero";case yn.One:return"one";case yn.Two:return"two";case yn.Few:return"few";case yn.Many:return"many";default:return"other"}}}return l.\u0275fac=function(r){return new(r||l)(Le(cc))},l.\u0275prov=ot({token:l,factory:l.\u0275fac}),l})(),N0=(()=>{class l{constructor(r,d,v,C){this._iterableDiffers=r,this._keyValueDiffers=d,this._ngEl=v,this._renderer=C,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(r){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof r?r.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(r){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof r?r.split(/\s+/):r,this._rawClass&&(No(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const r=this._iterableDiffer.diff(this._rawClass);r&&this._applyIterableChanges(r)}else if(this._keyValueDiffer){const r=this._keyValueDiffer.diff(this._rawClass);r&&this._applyKeyValueChanges(r)}}_applyKeyValueChanges(r){r.forEachAddedItem(d=>this._toggleClass(d.key,d.currentValue)),r.forEachChangedItem(d=>this._toggleClass(d.key,d.currentValue)),r.forEachRemovedItem(d=>{d.previousValue&&this._toggleClass(d.key,!1)})}_applyIterableChanges(r){r.forEachAddedItem(d=>{if("string"!=typeof d.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${ln(d.item)}`);this._toggleClass(d.item,!0)}),r.forEachRemovedItem(d=>this._toggleClass(d.item,!1))}_applyClasses(r){r&&(Array.isArray(r)||r instanceof Set?r.forEach(d=>this._toggleClass(d,!0)):Object.keys(r).forEach(d=>this._toggleClass(d,!!r[d])))}_removeClasses(r){r&&(Array.isArray(r)||r instanceof Set?r.forEach(d=>this._toggleClass(d,!1)):Object.keys(r).forEach(d=>this._toggleClass(d,!1)))}_toggleClass(r,d){(r=r.trim())&&r.split(/\s+/g).forEach(v=>{d?this._renderer.addClass(this._ngEl.nativeElement,v):this._renderer.removeClass(this._ngEl.nativeElement,v)})}}return l.\u0275fac=function(r){return new(r||l)(ne(ll),ne(Jg),ne(Lt),ne(Id))},l.\u0275dir=Ke({type:l,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),l})();class S1{constructor(a,r,d,v){this.$implicit=a,this.ngForOf=r,this.index=d,this.count=v}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Tx=(()=>{class l{constructor(r,d,v){this._viewContainer=r,this._template=d,this._differs=v,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const r=this._ngForOf;if(!this._differ&&r)try{this._differ=this._differs.find(r).create(this.ngForTrackBy)}catch(d){throw new Error(`Cannot find a differ supporting object '${r}' of type '${function(l){return l.name||typeof l}(r)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){const d=[];r.forEachOperation((v,C,S)=>{if(null==v.previousIndex){const O=this._viewContainer.createEmbeddedView(this._template,new S1(null,this._ngForOf,-1,-1),null===S?void 0:S),T=new EF(v,O);d.push(T)}else if(null==S)this._viewContainer.remove(null===C?void 0:C);else if(null!==C){const O=this._viewContainer.get(C);this._viewContainer.move(O,S);const T=new EF(v,O);d.push(T)}});for(let v=0;v<d.length;v++)this._perViewChange(d[v].view,d[v].record);for(let v=0,C=this._viewContainer.length;v<C;v++){const S=this._viewContainer.get(v);S.context.index=v,S.context.count=C,S.context.ngForOf=this._ngForOf}r.forEachIdentityChange(v=>{this._viewContainer.get(v.currentIndex).context.$implicit=v.item})}_perViewChange(r,d){r.context.$implicit=d.item}static ngTemplateContextGuard(r,d){return!0}}return l.\u0275fac=function(r){return new(r||l)(ne(ei),ne(vn),ne(ll))},l.\u0275dir=Ke({type:l,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),l})();class EF{constructor(a,r){this.record=a,this.view=r}}let fc=(()=>{class l{constructor(r,d){this._viewContainer=r,this._context=new D1,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=d}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){DF("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){DF("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,d){return!0}}return l.\u0275fac=function(r){return new(r||l)(ne(ei),ne(vn))},l.\u0275dir=Ke({type:l,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),l})();class D1{constructor(){this.$implicit=null,this.ngIf=null}}function DF(l,a){if(a&&!a.createEmbeddedView)throw new Error(`${l} must be a TemplateRef, but received '${ln(a)}'.`)}class JR{constructor(a,r){this._viewContainerRef=a,this._templateRef=r,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(a){a&&!this._created?this.create():!a&&this._created&&this.destroy()}}let L0=(()=>{class l{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(r){this._ngSwitch=r,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(r){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(r)}_matchCase(r){const d=r==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||d,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),d}_updateDefaultCases(r){if(this._defaultViews&&r!==this._defaultUsed){this._defaultUsed=r;for(let d=0;d<this._defaultViews.length;d++)this._defaultViews[d].enforceState(r)}}}return l.\u0275fac=function(r){return new(r||l)},l.\u0275dir=Ke({type:l,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),l})(),eP=(()=>{class l{constructor(r,d,v){this.ngSwitch=v,v._addCase(),this._view=new JR(r,d)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return l.\u0275fac=function(r){return new(r||l)(ne(ei),ne(vn),ne(L0,9))},l.\u0275dir=Ke({type:l,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),l})(),tP=(()=>{class l{constructor(r){this._viewContainerRef=r,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(r){if(r.ngTemplateOutlet){const d=this._viewContainerRef;this._viewRef&&d.remove(d.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?d.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&r.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return l.\u0275fac=function(r){return new(r||l)(ne(ei))},l.\u0275dir=Ke({type:l,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[$n]}),l})(),am=(()=>{class l{}return l.\u0275fac=function(r){return new(r||l)},l.\u0275mod=Tt({type:l}),l.\u0275inj=_t({providers:[{provide:Ax,useClass:C1}]}),l})();const AF="browser";class iP extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var l;l=new iP,X||(X=l)}onAndCancel(a,r,d){return a.addEventListener(r,d,!1),()=>{a.removeEventListener(r,d,!1)}}dispatchEvent(a,r){a.dispatchEvent(r)}remove(a){a.parentNode&&a.parentNode.removeChild(a)}createElement(a,r){return(r=r||this.getDefaultDocument()).createElement(a)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(a){return a.nodeType===Node.ELEMENT_NODE}isShadowRoot(a){return a instanceof DocumentFragment}getGlobalEventTarget(a,r){return"window"===r?window:"document"===r?a:"body"===r?a.body:null}getBaseHref(a){const r=(k0=k0||document.querySelector("base"),k0?k0.getAttribute("href"):null);return null==r?null:function(l){Rx=Rx||document.createElement("a"),Rx.setAttribute("href",l);const a=Rx.pathname;return"/"===a.charAt(0)?a:`/${a}`}(r)}resetBaseElement(){k0=null}getUserAgent(){return window.navigator.userAgent}getCookie(a){return function(l,a){a=encodeURIComponent(a);for(const r of l.split(";")){const d=r.indexOf("="),[v,C]=-1==d?[r,""]:[r.slice(0,d),r.slice(d+1)];if(v.trim()===a)return decodeURIComponent(C)}return null}(document.cookie,a)}}let Rx,k0=null;const RF=new Xe("TRANSITION_ID"),aG=[{provide:a0,useFactory:function(l,a,r){return()=>{r.get(qg).donePromise.then(()=>{const d=q(),v=a.querySelectorAll(`style[ng-transition="${l}"]`);for(let C=0;C<v.length;C++)d.remove(v[C])})}},deps:[RF,ue,kr],multi:!0}];class oP{static init(){var l;l=new oP,Gd=l}addToWindow(a){Vn.getAngularTestability=(d,v=!0)=>{const C=a.findTestabilityInTree(d,v);if(null==C)throw new Error("Could not find testability for element.");return C},Vn.getAllAngularTestabilities=()=>a.getAllTestabilities(),Vn.getAllAngularRootElements=()=>a.getAllRootElements(),Vn.frameworkStabilizers||(Vn.frameworkStabilizers=[]),Vn.frameworkStabilizers.push(d=>{const v=Vn.getAllAngularTestabilities();let C=v.length,S=!1;const O=function(T){S=S||T,C--,0==C&&d(S)};v.forEach(function(T){T.whenStable(O)})})}findTestabilityInTree(a,r,d){if(null==r)return null;const v=a.getTestability(r);return null!=v?v:d?q().isShadowRoot(r)?this.findTestabilityInTree(a,r.host,!0):this.findTestabilityInTree(a,r.parentElement,!0):null}}let sG=(()=>{class l{build(){return new XMLHttpRequest}}return l.\u0275fac=function(r){return new(r||l)},l.\u0275prov=ot({token:l,factory:l.\u0275fac}),l})();const Px=new Xe("EventManagerPlugins");let Mx=(()=>{class l{constructor(r,d){this._zone=d,this._eventNameToPlugin=new Map,r.forEach(v=>v.manager=this),this._plugins=r.slice().reverse()}addEventListener(r,d,v){return this._findPluginFor(d).addEventListener(r,d,v)}addGlobalEventListener(r,d,v){return this._findPluginFor(d).addGlobalEventListener(r,d,v)}getZone(){return this._zone}_findPluginFor(r){const d=this._eventNameToPlugin.get(r);if(d)return d;const v=this._plugins;for(let C=0;C<v.length;C++){const S=v[C];if(S.supports(r))return this._eventNameToPlugin.set(r,S),S}throw new Error(`No event manager plugin found for event ${r}`)}}return l.\u0275fac=function(r){return new(r||l)(Le(Px),Le(Xt))},l.\u0275prov=ot({token:l,factory:l.\u0275fac}),l})();class PF{constructor(a){this._doc=a}addGlobalEventListener(a,r,d){const v=q().getGlobalEventTarget(this._doc,a);if(!v)throw new Error(`Unsupported event target ${v} for event ${r}`);return this.addEventListener(v,r,d)}}let MF=(()=>{class l{constructor(){this._stylesSet=new Set}addStyles(r){const d=new Set;r.forEach(v=>{this._stylesSet.has(v)||(this._stylesSet.add(v),d.add(v))}),this.onStylesAdded(d)}onStylesAdded(r){}getAllStyles(){return Array.from(this._stylesSet)}}return l.\u0275fac=function(r){return new(r||l)},l.\u0275prov=ot({token:l,factory:l.\u0275fac}),l})(),G0=(()=>{class l extends MF{constructor(r){super(),this._doc=r,this._hostNodes=new Map,this._hostNodes.set(r.head,[])}_addStylesToHost(r,d,v){r.forEach(C=>{const S=this._doc.createElement("style");S.textContent=C,v.push(d.appendChild(S))})}addHost(r){const d=[];this._addStylesToHost(this._stylesSet,r,d),this._hostNodes.set(r,d)}removeHost(r){const d=this._hostNodes.get(r);d&&d.forEach(FF),this._hostNodes.delete(r)}onStylesAdded(r){this._hostNodes.forEach((d,v)=>{this._addStylesToHost(r,v,d)})}ngOnDestroy(){this._hostNodes.forEach(r=>r.forEach(FF))}}return l.\u0275fac=function(r){return new(r||l)(Le(ue))},l.\u0275prov=ot({token:l,factory:l.\u0275fac}),l})();function FF(l){q().remove(l)}const aP={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},sP=/%COMP%/g;function Fx(l,a,r){for(let d=0;d<a.length;d++){let v=a[d];Array.isArray(v)?Fx(l,v,r):(v=v.replace(sP,l),r.push(v))}return r}function LF(l){return a=>{if("__ngUnwrap__"===a)return l;!1===l(a)&&(a.preventDefault(),a.returnValue=!1)}}let Ix=(()=>{class l{constructor(r,d,v){this.eventManager=r,this.sharedStylesHost=d,this.appId=v,this.rendererByCompId=new Map,this.defaultRenderer=new lP(r)}createRenderer(r,d){if(!r||!d)return this.defaultRenderer;switch(d.encapsulation){case Ui.Emulated:{let v=this.rendererByCompId.get(d.id);return v||(v=new hG(this.eventManager,this.sharedStylesHost,d,this.appId),this.rendererByCompId.set(d.id,v)),v.applyToHost(r),v}case 1:case Ui.ShadowDom:return new fG(this.eventManager,this.sharedStylesHost,r,d);default:if(!this.rendererByCompId.has(d.id)){const v=Fx(d.id,d.styles,[]);this.sharedStylesHost.addStyles(v),this.rendererByCompId.set(d.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return l.\u0275fac=function(r){return new(r||l)(Le(Mx),Le(G0),Le(i_))},l.\u0275prov=ot({token:l,factory:l.\u0275fac}),l})();class lP{constructor(a){this.eventManager=a,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(a,r){return r?document.createElementNS(aP[r]||r,a):document.createElement(a)}createComment(a){return document.createComment(a)}createText(a){return document.createTextNode(a)}appendChild(a,r){a.appendChild(r)}insertBefore(a,r,d){a&&a.insertBefore(r,d)}removeChild(a,r){a&&a.removeChild(r)}selectRootElement(a,r){let d="string"==typeof a?document.querySelector(a):a;if(!d)throw new Error(`The selector "${a}" did not match any elements`);return r||(d.textContent=""),d}parentNode(a){return a.parentNode}nextSibling(a){return a.nextSibling}setAttribute(a,r,d,v){if(v){r=v+":"+r;const C=aP[v];C?a.setAttributeNS(C,r,d):a.setAttribute(r,d)}else a.setAttribute(r,d)}removeAttribute(a,r,d){if(d){const v=aP[d];v?a.removeAttributeNS(v,r):a.removeAttribute(`${d}:${r}`)}else a.removeAttribute(r)}addClass(a,r){a.classList.add(r)}removeClass(a,r){a.classList.remove(r)}setStyle(a,r,d,v){v&(Mo.DashCase|Mo.Important)?a.style.setProperty(r,d,v&Mo.Important?"important":""):a.style[r]=d}removeStyle(a,r,d){d&Mo.DashCase?a.style.removeProperty(r):a.style[r]=""}setProperty(a,r,d){a[r]=d}setValue(a,r){a.nodeValue=r}listen(a,r,d){return"string"==typeof a?this.eventManager.addGlobalEventListener(a,r,LF(d)):this.eventManager.addEventListener(a,r,LF(d))}}class hG extends lP{constructor(a,r,d,v){super(a),this.component=d;const C=Fx(v+"-"+d.id,d.styles,[]);r.addStyles(C),this.contentAttr="_ngcontent-%COMP%".replace(sP,v+"-"+d.id),this.hostAttr="_nghost-%COMP%".replace(sP,v+"-"+d.id)}applyToHost(a){super.setAttribute(a,this.hostAttr,"")}createElement(a,r){const d=super.createElement(a,r);return super.setAttribute(d,this.contentAttr,""),d}}class fG extends lP{constructor(a,r,d,v){super(a),this.sharedStylesHost=r,this.hostEl=d,this.shadowRoot=d.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const C=Fx(v.id,v.styles,[]);for(let S=0;S<C.length;S++){const O=document.createElement("style");O.textContent=C[S],this.shadowRoot.appendChild(O)}}nodeOrShadowRoot(a){return a===this.hostEl?this.shadowRoot:a}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(a,r){return super.appendChild(this.nodeOrShadowRoot(a),r)}insertBefore(a,r,d){return super.insertBefore(this.nodeOrShadowRoot(a),r,d)}removeChild(a,r){return super.removeChild(this.nodeOrShadowRoot(a),r)}parentNode(a){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(a)))}}let gG=(()=>{class l extends PF{constructor(r){super(r)}supports(r){return!0}addEventListener(r,d,v){return r.addEventListener(d,v,!1),()=>this.removeEventListener(r,d,v)}removeEventListener(r,d,v){return r.removeEventListener(d,v)}}return l.\u0275fac=function(r){return new(r||l)(Le(ue))},l.\u0275prov=ot({token:l,factory:l.\u0275fac}),l})();const GF=["alt","control","meta","shift"],vG={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},VF={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},yG={alt:l=>l.altKey,control:l=>l.ctrlKey,meta:l=>l.metaKey,shift:l=>l.shiftKey};let _G=(()=>{class l extends PF{constructor(r){super(r)}supports(r){return null!=l.parseEventName(r)}addEventListener(r,d,v){const C=l.parseEventName(d),S=l.eventCallback(C.fullKey,v,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>q().onAndCancel(r,C.domEventName,S))}static parseEventName(r){const d=r.toLowerCase().split("."),v=d.shift();if(0===d.length||"keydown"!==v&&"keyup"!==v)return null;const C=l._normalizeKey(d.pop());let S="";if(GF.forEach(T=>{const F=d.indexOf(T);F>-1&&(d.splice(F,1),S+=T+".")}),S+=C,0!=d.length||0===C.length)return null;const O={};return O.domEventName=v,O.fullKey=S,O}static getEventFullKey(r){let d="",v=function(l){let a=l.key;if(null==a){if(a=l.keyIdentifier,null==a)return"Unidentified";a.startsWith("U+")&&(a=String.fromCharCode(parseInt(a.substring(2),16)),3===l.location&&VF.hasOwnProperty(a)&&(a=VF[a]))}return vG[a]||a}(r);return v=v.toLowerCase()," "===v?v="space":"."===v&&(v="dot"),GF.forEach(C=>{C!=v&&yG[C](r)&&(d+=C+".")}),d+=v,d}static eventCallback(r,d,v){return C=>{l.getEventFullKey(C)===r&&v.runGuarded(()=>d(C))}}static _normalizeKey(r){return"esc"===r?"escape":r}}return l.\u0275fac=function(r){return new(r||l)(Le(ue))},l.\u0275prov=ot({token:l,factory:l.\u0275fac}),l})();const EG=p0(h,"browser",[{provide:Oh,useValue:AF},{provide:tx,useValue:function(){iP.makeCurrent(),oP.init()},multi:!0},{provide:ue,useFactory:function(){return l=document,Zh=l,document;var l},deps:[]}]),DG=[{provide:Kl,useValue:"root"},{provide:zs,useFactory:function(){return new zs},deps:[]},{provide:Px,useClass:gG,multi:!0,deps:[ue,Xt,Oh]},{provide:Px,useClass:_G,multi:!0,deps:[ue]},{provide:Ix,useClass:Ix,deps:[Mx,G0,i_]},{provide:jg,useExisting:Ix},{provide:MF,useExisting:G0},{provide:G0,useClass:G0,deps:[ue]},{provide:d0,useClass:d0,deps:[Xt]},{provide:Mx,useClass:Mx,deps:[Px,Xt]},{provide:class{},useClass:sG,deps:[]}];let uP=(()=>{class l{constructor(r){if(r)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(r){return{ngModule:l,providers:[{provide:i_,useValue:r.appId},{provide:RF,useExisting:i_},aG]}}}return l.\u0275fac=function(r){return new(r||l)(Le(l,12))},l.\u0275mod=Tt({type:l}),l.\u0275inj=_t({providers:DG,imports:[am,y]}),l})();"undefined"!=typeof window&&window;let pP,dP=(()=>{class l{}return l.\u0275fac=function(r){return new(r||l)},l.\u0275prov=ot({token:l,factory:function(r){let d=null;return d=r?new(r||l):Le(WF),d},providedIn:"root"}),l})(),WF=(()=>{class l extends dP{constructor(r){super(),this._doc=r}sanitize(r,d){if(null==d)return null;switch(r){case Tn.NONE:return d;case Tn.HTML:return Zo(d,"HTML")?wt(d):If(this._doc,String(d)).toString();case Tn.STYLE:return Zo(d,"Style")?wt(d):d;case Tn.SCRIPT:if(Zo(d,"Script"))return wt(d);throw new Error("unsafe value used in a script context");case Tn.URL:return Pf(d),Zo(d,"URL")?wt(d):Il(String(d));case Tn.RESOURCE_URL:if(Zo(d,"ResourceURL"))return wt(d);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${r} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(r){return function(l){return new bC(l)}(r)}bypassSecurityTrustStyle(r){return function(l){return new OD(l)}(r)}bypassSecurityTrustScript(r){return function(l){return new yS(l)}(r)}bypassSecurityTrustUrl(r){return function(l){return new Mp(l)}(r)}bypassSecurityTrustResourceUrl(r){return function(l){return new Rf(l)}(r)}}return l.\u0275fac=function(r){return new(r||l)(Le(ue))},l.\u0275prov=ot({token:l,factory:function(r){let d=null;return d=r?new r:function(l){return new WF(l.get(ue))}(Le(kr)),d},providedIn:"root"}),l})();try{pP="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(l){pP=!1}let sw,ha=(()=>{class l{constructor(r){this._platformId=r,this.isBrowser=this._platformId?function(l){return l===AF}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!pP)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return l.\u0275fac=function(r){return new(r||l)(Le(Oh))},l.\u0275prov=ot({token:l,factory:l.\u0275fac,providedIn:"root"}),l})(),aw=(()=>{class l{}return l.\u0275fac=function(r){return new(r||l)},l.\u0275mod=Tt({type:l}),l.\u0275inj=_t({}),l})();const jF=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function UF(){if(sw)return sw;if("object"!=typeof document||!document)return sw=new Set(jF),sw;let l=document.createElement("input");return sw=new Set(jF.filter(a=>(l.setAttribute("type",a),l.type===a))),sw}let V0,Nx,h_,hP;function B0(l){return function(){if(null==V0&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>V0=!0}))}finally{V0=V0||!1}return V0}()?l:!!l.capture}function zF(){if(null==h_){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return h_=!1,h_;if("scrollBehavior"in document.documentElement.style)h_=!0;else{const l=Element.prototype.scrollTo;h_=!!l&&!/\{\s*\[native code\]\s*\}/.test(l.toString())}}return h_}function H0(){if("object"!=typeof document||!document)return 0;if(null==Nx){const l=document.createElement("div"),a=l.style;l.dir="rtl",a.width="1px",a.overflow="auto",a.visibility="hidden",a.pointerEvents="none",a.position="absolute";const r=document.createElement("div"),d=r.style;d.width="2px",d.height="1px",l.appendChild(r),document.body.appendChild(l),Nx=0,0===l.scrollLeft&&(l.scrollLeft=1,Nx=0===l.scrollLeft?1:2),l.remove()}return Nx}function $F(){let l="undefined"!=typeof document&&document?document.activeElement:null;for(;l&&l.shadowRoot;){const a=l.shadowRoot.activeElement;if(a===l)break;l=a}return l}function f_(l){return l.composedPath?l.composedPath()[0]:l.target}function fP(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}class VG extends Mt{constructor(a){super(),this._value=a}get value(){return this.getValue()}_subscribe(a){const r=super._subscribe(a);return!r.closed&&a.next(this._value),r}getValue(){const{hasError:a,thrownError:r,_value:d}=this;if(a)throw r;return this._throwIfClosed(),d}next(a){super.next(this._value=a)}}function mc(...l){return xs(l,Os(l))}function cm(l,...a){return a.length?a.some(r=>l[r]):l.altKey||l.shiftKey||l.ctrlKey||l.metaKey}function W0(l,a,r){const d=J(l)||a||r?{next:l,error:a,complete:r}:l;return d?Wi((v,C)=>{var S;null===(S=d.subscribe)||void 0===S||S.call(d);let O=!0;v.subscribe(new Ci(C,T=>{var F;null===(F=d.next)||void 0===F||F.call(d,T),C.next(T)},()=>{var T;O=!1,null===(T=d.complete)||void 0===T||T.call(d),C.complete()},T=>{var F;O=!1,null===(F=d.error)||void 0===F||F.call(d,T),C.error(T)},()=>{var T,F;O&&(null===(T=d.unsubscribe)||void 0===T||T.call(d)),null===(F=d.finalize)||void 0===F||F.call(d)}))}):Kd}class XG extends an{constructor(a,r){super()}schedule(a,r=0){return this}}const Bx={setInterval(...l){const{delegate:a}=Bx;return((null==a?void 0:a.setInterval)||setInterval)(...l)},clearInterval(l){const{delegate:a}=Bx;return((null==a?void 0:a.clearInterval)||clearInterval)(l)},delegate:void 0};class yP extends XG{constructor(a,r){super(a,r),this.scheduler=a,this.work=r,this.pending=!1}schedule(a,r=0){if(this.closed)return this;this.state=a;const d=this.id,v=this.scheduler;return null!=d&&(this.id=this.recycleAsyncId(v,d,r)),this.pending=!0,this.delay=r,this.id=this.id||this.requestAsyncId(v,this.id,r),this}requestAsyncId(a,r,d=0){return Bx.setInterval(a.flush.bind(a,this),d)}recycleAsyncId(a,r,d=0){if(null!=d&&this.delay===d&&!1===this.pending)return r;Bx.clearInterval(r)}execute(a,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const d=this._execute(a,r);if(d)return d;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(a,r){let v,d=!1;try{this.work(a)}catch(C){d=!0,v=C||new Error("Scheduled action threw falsy error")}if(d)return this.unsubscribe(),v}unsubscribe(){if(!this.closed){const{id:a,scheduler:r}=this,{actions:d}=r;this.work=this.state=this.scheduler=null,this.pending=!1,Cl(d,this),null!=a&&(this.id=this.recycleAsyncId(r,a,null)),this.delay=null,super.unsubscribe()}}}const YF={now:()=>(YF.delegate||Date).now(),delegate:void 0};class j0{constructor(a,r=j0.now){this.schedulerActionCtor=a,this.now=r}schedule(a,r=0,d){return new this.schedulerActionCtor(this,a).schedule(d,r)}}j0.now=YF.now;class _P extends j0{constructor(a,r=j0.now){super(a,r),this.actions=[],this._active=!1,this._scheduled=void 0}flush(a){const{actions:r}=this;if(this._active)return void r.push(a);let d;this._active=!0;do{if(d=a.execute(a.state,a.delay))break}while(a=r.shift());if(this._active=!1,d){for(;a=r.shift();)a.unsubscribe();throw d}}}const qF=new _P(yP),XF=qF;function Hx(l,a=qF){return Wi((r,d)=>{let v=null,C=null,S=null;const O=()=>{if(v){v.unsubscribe(),v=null;const F=C;C=null,d.next(F)}};function T(){const F=S+l,k=a.now();if(k<F)return v=this.schedule(void 0,F-k),void d.add(v);O()}r.subscribe(new Ci(d,F=>{C=F,S=a.now(),v||(v=a.schedule(T,l),d.add(v))},()=>{O(),d.complete()},void 0,()=>{C=v=null}))})}function fa(l,a){return Wi((r,d)=>{let v=0;r.subscribe(new Ci(d,C=>l.call(a,C,v++)&&d.next(C)))})}function CP(l,a=Kd){return l=null!=l?l:ZG,Wi((r,d)=>{let v,C=!0;r.subscribe(new Ci(d,S=>{const O=a(S);(C||!l(v,O))&&(C=!1,v=O,d.next(S))}))})}function ZG(l,a){return l===a}function Er(l){return Wi((a,r)=>{Pn(l).subscribe(new Ci(r,()=>r.complete(),$d)),!r.closed&&a.subscribe(r)})}function xn(l){return null!=l&&"false"!=`${l}`}function Wx(l,a=0){return function(l){return!isNaN(parseFloat(l))&&!isNaN(Number(l))}(l)?Number(l):a}function QF(l){return Array.isArray(l)?l:[l]}function Gi(l){return null==l?"":"string"==typeof l?l:`${l}px`}function Rh(l){return l instanceof Lt?l.nativeElement:l}let ZF=(()=>{class l{create(r){return"undefined"==typeof MutationObserver?null:new MutationObserver(r)}}return l.\u0275fac=function(r){return new(r||l)},l.\u0275prov=ot({token:l,factory:l.\u0275fac,providedIn:"root"}),l})(),JF=(()=>{class l{constructor(r){this._mutationObserverFactory=r,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((r,d)=>this._cleanupObserver(d))}observe(r){const d=Rh(r);return new ur(v=>{const S=this._observeElement(d).subscribe(v);return()=>{S.unsubscribe(),this._unobserveElement(d)}})}_observeElement(r){if(this._observedElements.has(r))this._observedElements.get(r).count++;else{const d=new Mt,v=this._mutationObserverFactory.create(C=>d.next(C));v&&v.observe(r,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(r,{observer:v,stream:d,count:1})}return this._observedElements.get(r).stream}_unobserveElement(r){this._observedElements.has(r)&&(this._observedElements.get(r).count--,this._observedElements.get(r).count||this._cleanupObserver(r))}_cleanupObserver(r){if(this._observedElements.has(r)){const{observer:d,stream:v}=this._observedElements.get(r);d&&d.disconnect(),v.complete(),this._observedElements.delete(r)}}}return l.\u0275fac=function(r){return new(r||l)(Le(ZF))},l.\u0275prov=ot({token:l,factory:l.\u0275fac,providedIn:"root"}),l})(),eI=(()=>{class l{constructor(r,d,v){this._contentObserver=r,this._elementRef=d,this._ngZone=v,this.event=new he,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(r){this._disabled=xn(r),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(r){this._debounce=Wx(r),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const r=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?r.pipe(Hx(this.debounce)):r).subscribe(this.event)})}_unsubscribe(){var r;null==(r=this._currentSubscription)||r.unsubscribe()}}return l.\u0275fac=function(r){return new(r||l)(ne(JF),ne(Lt),ne(Xt))},l.\u0275dir=Ke({type:l,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),l})(),jx=(()=>{class l{}return l.\u0275fac=function(r){return new(r||l)},l.\u0275mod=Tt({type:l}),l.\u0275inj=_t({providers:[ZF]}),l})();class rI extends class{constructor(a){this._items=a,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Mt,this._typeaheadSubscription=an.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=r=>r.disabled,this._pressedLetters=[],this.tabOut=new Mt,this.change=new Mt,a instanceof Sr&&a.changes.subscribe(r=>{if(this._activeItem){const v=r.toArray().indexOf(this._activeItem);v>-1&&v!==this._activeItemIndex&&(this._activeItemIndex=v)}})}skipPredicate(a){return this._skipPredicateFn=a,this}withWrap(a=!0){return this._wrap=a,this}withVerticalOrientation(a=!0){return this._vertical=a,this}withHorizontalOrientation(a){return this._horizontal=a,this}withAllowedModifierKeys(a){return this._allowedModifierKeys=a,this}withTypeAhead(a=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(W0(r=>this._pressedLetters.push(r)),Hx(a),fa(()=>this._pressedLetters.length>0),oi(()=>this._pressedLetters.join(""))).subscribe(r=>{const d=this._getItemsArray();for(let v=1;v<d.length+1;v++){const C=(this._activeItemIndex+v)%d.length,S=d[C];if(!this._skipPredicateFn(S)&&0===S.getLabel().toUpperCase().trim().indexOf(r)){this.setActiveItem(C);break}}this._pressedLetters=[]}),this}withHomeAndEnd(a=!0){return this._homeAndEnd=a,this}setActiveItem(a){const r=this._activeItem;this.updateActiveItem(a),this._activeItem!==r&&this.change.next(this._activeItemIndex)}onKeydown(a){const r=a.keyCode,v=["altKey","ctrlKey","metaKey","shiftKey"].every(C=>!a[C]||this._allowedModifierKeys.indexOf(C)>-1);switch(r){case 9:return void this.tabOut.next();case 40:if(this._vertical&&v){this.setNextItemActive();break}return;case 38:if(this._vertical&&v){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&v){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&v){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&v){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&v){this.setLastItemActive();break}return;default:return void((v||cm(a,"shiftKey"))&&(a.key&&1===a.key.length?this._letterKeyStream.next(a.key.toLocaleUpperCase()):(r>=65&&r<=90||r>=48&&r<=57)&&this._letterKeyStream.next(String.fromCharCode(r))))}this._pressedLetters=[],a.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(a){const r=this._getItemsArray(),d="number"==typeof a?a:r.indexOf(a),v=r[d];this._activeItem=null==v?null:v,this._activeItemIndex=d}_setActiveItemByDelta(a){this._wrap?this._setActiveInWrapMode(a):this._setActiveInDefaultMode(a)}_setActiveInWrapMode(a){const r=this._getItemsArray();for(let d=1;d<=r.length;d++){const v=(this._activeItemIndex+a*d+r.length)%r.length;if(!this._skipPredicateFn(r[v]))return void this.setActiveItem(v)}}_setActiveInDefaultMode(a){this._setActiveItemByIndex(this._activeItemIndex+a,a)}_setActiveItemByIndex(a,r){const d=this._getItemsArray();if(d[a]){for(;this._skipPredicateFn(d[a]);)if(!d[a+=r])return;this.setActiveItem(a)}}_getItemsArray(){return this._items instanceof Sr?this._items.toArray():this._items}}{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(a){return this._origin=a,this}setActiveItem(a){super.setActiveItem(a),this.activeItem&&this.activeItem.focus(this._origin)}}let iI=(()=>{class l{constructor(r){this._platform=r}isDisabled(r){return r.hasAttribute("disabled")}isVisible(r){return function(l){return!!(l.offsetWidth||l.offsetHeight||"function"==typeof l.getClientRects&&l.getClientRects().length)}(r)&&"visible"===getComputedStyle(r).visibility}isTabbable(r){if(!this._platform.isBrowser)return!1;const d=function(l){try{return l.frameElement}catch(a){return null}}(function(l){return l.ownerDocument&&l.ownerDocument.defaultView||window}(r));if(d&&(-1===aI(d)||!this.isVisible(d)))return!1;let v=r.nodeName.toLowerCase(),C=aI(r);return r.hasAttribute("contenteditable")?-1!==C:!("iframe"===v||"object"===v||this._platform.WEBKIT&&this._platform.IOS&&!function(l){let a=l.nodeName.toLowerCase(),r="input"===a&&l.type;return"text"===r||"password"===r||"select"===a||"textarea"===a}(r))&&("audio"===v?!!r.hasAttribute("controls")&&-1!==C:"video"===v?-1!==C&&(null!==C||this._platform.FIREFOX||r.hasAttribute("controls")):r.tabIndex>=0)}isFocusable(r,d){return function(l){return!function(l){return function(l){return"input"==l.nodeName.toLowerCase()}(l)&&"hidden"==l.type}(l)&&(function(l){let a=l.nodeName.toLowerCase();return"input"===a||"select"===a||"button"===a||"textarea"===a}(l)||function(l){return function(l){return"a"==l.nodeName.toLowerCase()}(l)&&l.hasAttribute("href")}(l)||l.hasAttribute("contenteditable")||oI(l))}(r)&&!this.isDisabled(r)&&((null==d?void 0:d.ignoreVisibility)||this.isVisible(r))}}return l.\u0275fac=function(r){return new(r||l)(Le(ha))},l.\u0275prov=ot({token:l,factory:l.\u0275fac,providedIn:"root"}),l})();function oI(l){if(!l.hasAttribute("tabindex")||void 0===l.tabIndex)return!1;let a=l.getAttribute("tabindex");return!(!a||isNaN(parseInt(a,10)))}function aI(l){if(!oI(l))return null;const a=parseInt(l.getAttribute("tabindex")||"",10);return isNaN(a)?-1:a}class fV{constructor(a,r,d,v,C=!1){this._element=a,this._checker=r,this._ngZone=d,this._document=v,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,C||this.attachAnchors()}get enabled(){return this._enabled}set enabled(a){this._enabled=a,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(a,this._startAnchor),this._toggleAnchorTabIndex(a,this._endAnchor))}destroy(){const a=this._startAnchor,r=this._endAnchor;a&&(a.removeEventListener("focus",this.startAnchorListener),a.remove()),r&&(r.removeEventListener("focus",this.endAnchorListener),r.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(a){return new Promise(r=>{this._executeOnStable(()=>r(this.focusInitialElement(a)))})}focusFirstTabbableElementWhenReady(a){return new Promise(r=>{this._executeOnStable(()=>r(this.focusFirstTabbableElement(a)))})}focusLastTabbableElementWhenReady(a){return new Promise(r=>{this._executeOnStable(()=>r(this.focusLastTabbableElement(a)))})}_getRegionBoundary(a){const r=this._element.querySelectorAll(`[cdk-focus-region-${a}], [cdkFocusRegion${a}], [cdk-focus-${a}]`);return"start"==a?r.length?r[0]:this._getFirstTabbableElement(this._element):r.length?r[r.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(a){const r=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(r){if(!this._checker.isFocusable(r)){const d=this._getFirstTabbableElement(r);return null==d||d.focus(a),!!d}return r.focus(a),!0}return this.focusFirstTabbableElement(a)}focusFirstTabbableElement(a){const r=this._getRegionBoundary("start");return r&&r.focus(a),!!r}focusLastTabbableElement(a){const r=this._getRegionBoundary("end");return r&&r.focus(a),!!r}hasAttached(){return this._hasAttached}_getFirstTabbableElement(a){if(this._checker.isFocusable(a)&&this._checker.isTabbable(a))return a;const r=a.children;for(let d=0;d<r.length;d++){const v=r[d].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(r[d]):null;if(v)return v}return null}_getLastTabbableElement(a){if(this._checker.isFocusable(a)&&this._checker.isTabbable(a))return a;const r=a.children;for(let d=r.length-1;d>=0;d--){const v=r[d].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(r[d]):null;if(v)return v}return null}_createAnchor(){const a=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,a),a.classList.add("cdk-visually-hidden"),a.classList.add("cdk-focus-trap-anchor"),a.setAttribute("aria-hidden","true"),a}_toggleAnchorTabIndex(a,r){a?r.setAttribute("tabindex","0"):r.removeAttribute("tabindex")}toggleAnchors(a){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(a,this._startAnchor),this._toggleAnchorTabIndex(a,this._endAnchor))}_executeOnStable(a){this._ngZone.isStable?a():this._ngZone.onStable.pipe(fo(1)).subscribe(a)}}let sI=(()=>{class l{constructor(r,d,v){this._checker=r,this._ngZone=d,this._document=v}create(r,d=!1){return new fV(r,this._checker,this._ngZone,this._document,d)}}return l.\u0275fac=function(r){return new(r||l)(Le(iI),Le(Xt),Le(ue))},l.\u0275prov=ot({token:l,factory:l.\u0275fac,providedIn:"root"}),l})(),gV=(()=>{class l{constructor(r,d,v){this._elementRef=r,this._focusTrapFactory=d,this._previouslyFocusedElement=null,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}get enabled(){return this.focusTrap.enabled}set enabled(r){this.focusTrap.enabled=xn(r)}get autoCapture(){return this._autoCapture}set autoCapture(r){this._autoCapture=xn(r)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(r){const d=r.autoCapture;d&&!d.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=$F(),this.focusTrap.focusInitialElementWhenReady()}}return l.\u0275fac=function(r){return new(r||l)(ne(Lt),ne(sI),ne(ue))},l.\u0275dir=Ke({type:l,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["cdkTrapFocus"],features:[$n]}),l})();function lI(l){return 0===l.buttons||0===l.offsetX&&0===l.offsetY}function uI(l){const a=l.touches&&l.touches[0]||l.changedTouches&&l.changedTouches[0];return!(!a||-1!==a.identifier||null!=a.radiusX&&1!==a.radiusX||null!=a.radiusY&&1!==a.radiusY)}const mV=new Xe("cdk-input-modality-detector-options"),vV={ignoreKeys:[18,17,224,91,16]},cw=B0({passive:!0,capture:!0});let yV=(()=>{class l{constructor(r,d,v,C){this._platform=r,this._mostRecentTarget=null,this._modality=new VG(null),this._lastTouchMs=0,this._onKeydown=S=>{var O,T;(null==(T=null==(O=this._options)?void 0:O.ignoreKeys)?void 0:T.some(F=>F===S.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=f_(S))},this._onMousedown=S=>{Date.now()-this._lastTouchMs<650||(this._modality.next(lI(S)?"keyboard":"mouse"),this._mostRecentTarget=f_(S))},this._onTouchstart=S=>{uI(S)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=f_(S))},this._options=An(An({},vV),C),this.modalityDetected=this._modality.pipe(fa((a,r)=>1<=r)),this.modalityChanged=this.modalityDetected.pipe(CP()),r.isBrowser&&d.runOutsideAngular(()=>{v.addEventListener("keydown",this._onKeydown,cw),v.addEventListener("mousedown",this._onMousedown,cw),v.addEventListener("touchstart",this._onTouchstart,cw)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,cw),document.removeEventListener("mousedown",this._onMousedown,cw),document.removeEventListener("touchstart",this._onTouchstart,cw))}}return l.\u0275fac=function(r){return new(r||l)(Le(ha),Le(Xt),Le(ue),Le(mV,8))},l.\u0275prov=ot({token:l,factory:l.\u0275fac,providedIn:"root"}),l})();const _V=new Xe("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),bV=new Xe("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let wV=(()=>{class l{constructor(r,d,v,C){this._ngZone=d,this._defaultOptions=C,this._document=v,this._liveElement=r||this._createLiveElement()}announce(r,...d){const v=this._defaultOptions;let C,S;return 1===d.length&&"number"==typeof d[0]?S=d[0]:[C,S]=d,this.clear(),clearTimeout(this._previousTimeout),C||(C=v&&v.politeness?v.politeness:"polite"),null==S&&v&&(S=v.duration),this._liveElement.setAttribute("aria-live",C),this._ngZone.runOutsideAngular(()=>new Promise(O=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=r,O(),"number"==typeof S&&(this._previousTimeout=setTimeout(()=>this.clear(),S))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){var r;clearTimeout(this._previousTimeout),null==(r=this._liveElement)||r.remove(),this._liveElement=null}_createLiveElement(){const r="cdk-live-announcer-element",d=this._document.getElementsByClassName(r),v=this._document.createElement("div");for(let C=0;C<d.length;C++)d[C].remove();return v.classList.add(r),v.classList.add("cdk-visually-hidden"),v.setAttribute("aria-atomic","true"),v.setAttribute("aria-live","polite"),this._document.body.appendChild(v),v}}return l.\u0275fac=function(r){return new(r||l)(Le(_V,8),Le(Xt),Le(ue),Le(bV,8))},l.\u0275prov=ot({token:l,factory:l.\u0275fac,providedIn:"root"}),l})(),SV=(()=>{class l{constructor(r,d,v,C){this._elementRef=r,this._liveAnnouncer=d,this._contentObserver=v,this._ngZone=C,this._politeness="polite"}get politeness(){return this._politeness}set politeness(r){this._politeness="off"===r||"assertive"===r?r:"polite","off"===this._politeness?this._subscription&&(this._subscription.unsubscribe(),this._subscription=null):this._subscription||(this._subscription=this._ngZone.runOutsideAngular(()=>this._contentObserver.observe(this._elementRef).subscribe(()=>{const d=this._elementRef.nativeElement.textContent;d!==this._previousAnnouncedText&&(this._liveAnnouncer.announce(d,this._politeness),this._previousAnnouncedText=d)})))}ngOnDestroy(){this._subscription&&this._subscription.unsubscribe()}}return l.\u0275fac=function(r){return new(r||l)(ne(Lt),ne(wV),ne(JF),ne(Xt))},l.\u0275dir=Ke({type:l,selectors:[["","cdkAriaLive",""]],inputs:{politeness:["cdkAriaLive","politeness"]},exportAs:["cdkAriaLive"]}),l})();const EV=new Xe("cdk-focus-monitor-default-options"),Ux=B0({passive:!0,capture:!0});let dw=(()=>{class l{constructor(r,d,v,C,S){this._ngZone=r,this._platform=d,this._inputModalityDetector=v,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Mt,this._rootNodeFocusAndBlurListener=O=>{const T=f_(O),F="focus"===O.type?this._onFocus:this._onBlur;for(let k=T;k;k=k.parentElement)F.call(this,O,k)},this._document=C,this._detectionMode=(null==S?void 0:S.detectionMode)||0}monitor(r,d=!1){const v=Rh(r);if(!this._platform.isBrowser||1!==v.nodeType)return mc(null);const C=function(l){if(function(){if(null==hP){const l="undefined"!=typeof document?document.head:null;hP=!(!l||!l.createShadowRoot&&!l.attachShadow)}return hP}()){const a=l.getRootNode?l.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&a instanceof ShadowRoot)return a}return null}(v)||this._getDocument(),S=this._elementInfo.get(v);if(S)return d&&(S.checkChildren=!0),S.subject;const O={checkChildren:d,subject:new Mt,rootNode:C};return this._elementInfo.set(v,O),this._registerGlobalListeners(O),O.subject}stopMonitoring(r){const d=Rh(r),v=this._elementInfo.get(d);v&&(v.subject.complete(),this._setClasses(d),this._elementInfo.delete(d),this._removeGlobalListeners(v))}focusVia(r,d,v){const C=Rh(r);C===this._getDocument().activeElement?this._getClosestElementsInfo(C).forEach(([O,T])=>this._originChanged(O,d,T)):(this._setOrigin(d),"function"==typeof C.focus&&C.focus(v))}ngOnDestroy(){this._elementInfo.forEach((r,d)=>this.stopMonitoring(d))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(r){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(r)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(r){return 1===this._detectionMode||!!(null==r?void 0:r.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(r,d){r.classList.toggle("cdk-focused",!!d),r.classList.toggle("cdk-touch-focused","touch"===d),r.classList.toggle("cdk-keyboard-focused","keyboard"===d),r.classList.toggle("cdk-mouse-focused","mouse"===d),r.classList.toggle("cdk-program-focused","program"===d)}_setOrigin(r,d=!1){this._ngZone.runOutsideAngular(()=>{this._origin=r,this._originFromTouchInteraction="touch"===r&&d,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(r,d){const v=this._elementInfo.get(d),C=f_(r);!v||!v.checkChildren&&d!==C||this._originChanged(d,this._getFocusOrigin(C),v)}_onBlur(r,d){const v=this._elementInfo.get(d);!v||v.checkChildren&&r.relatedTarget instanceof Node&&d.contains(r.relatedTarget)||(this._setClasses(d),this._emitOrigin(v.subject,null))}_emitOrigin(r,d){this._ngZone.run(()=>r.next(d))}_registerGlobalListeners(r){if(!this._platform.isBrowser)return;const d=r.rootNode,v=this._rootNodeFocusListenerCount.get(d)||0;v||this._ngZone.runOutsideAngular(()=>{d.addEventListener("focus",this._rootNodeFocusAndBlurListener,Ux),d.addEventListener("blur",this._rootNodeFocusAndBlurListener,Ux)}),this._rootNodeFocusListenerCount.set(d,v+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Er(this._stopInputModalityDetector)).subscribe(C=>{this._setOrigin(C,!0)}))}_removeGlobalListeners(r){const d=r.rootNode;if(this._rootNodeFocusListenerCount.has(d)){const v=this._rootNodeFocusListenerCount.get(d);v>1?this._rootNodeFocusListenerCount.set(d,v-1):(d.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Ux),d.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Ux),this._rootNodeFocusListenerCount.delete(d))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(r,d,v){this._setClasses(r,d),this._emitOrigin(v.subject,d),this._lastFocusOrigin=d}_getClosestElementsInfo(r){const d=[];return this._elementInfo.forEach((v,C)=>{(C===r||v.checkChildren&&C.contains(r))&&d.push([C,v])}),d}}return l.\u0275fac=function(r){return new(r||l)(Le(Xt),Le(ha),Le(yV),Le(ue,8),Le(EV,8))},l.\u0275prov=ot({token:l,factory:l.\u0275fac,providedIn:"root"}),l})(),dI=(()=>{class l{constructor(r,d){this._elementRef=r,this._focusMonitor=d,this.cdkFocusChange=new he}ngAfterViewInit(){const r=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(r,1===r.nodeType&&r.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(d=>this.cdkFocusChange.emit(d))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return l.\u0275fac=function(r){return new(r||l)(ne(Lt),ne(dw))},l.\u0275dir=Ke({type:l,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"}}),l})();const pI="cdk-high-contrast-black-on-white",hI="cdk-high-contrast-white-on-black",bP="cdk-high-contrast-active";let fI=(()=>{class l{constructor(r,d){this._platform=r,this._document=d}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const r=this._document.createElement("div");r.style.backgroundColor="rgb(1,2,3)",r.style.position="absolute",this._document.body.appendChild(r);const d=this._document.defaultView||window,v=d&&d.getComputedStyle?d.getComputedStyle(r):null,C=(v&&v.backgroundColor||"").replace(/ /g,"");switch(r.remove(),C){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const r=this._document.body.classList;r.remove(bP),r.remove(pI),r.remove(hI),this._hasCheckedHighContrastMode=!0;const d=this.getHighContrastMode();1===d?(r.add(bP),r.add(pI)):2===d&&(r.add(bP),r.add(hI))}}}return l.\u0275fac=function(r){return new(r||l)(Le(ha),Le(ue))},l.\u0275prov=ot({token:l,factory:l.\u0275fac,providedIn:"root"}),l})(),gI=(()=>{class l{constructor(r){r._applyBodyHighContrastModeCssClasses()}}return l.\u0275fac=function(r){return new(r||l)(Le(fI))},l.\u0275mod=Tt({type:l}),l.\u0275inj=_t({imports:[[aw,jx]]}),l})();const DV=new Xe("cdk-dir-doc",{providedIn:"root",factory:function(){return Ru(ue)}}),xV=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let dm=(()=>{class l{constructor(r){if(this.value="ltr",this.change=new he,r){const v=r.documentElement?r.documentElement.dir:null;this.value=function(l){const a=(null==l?void 0:l.toLowerCase())||"";return"auto"===a&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?xV.test(navigator.language)?"rtl":"ltr":"rtl"===a?"rtl":"ltr"}((r.body?r.body.dir:null)||v||"ltr")}}ngOnDestroy(){this.change.complete()}}return l.\u0275fac=function(r){return new(r||l)(Le(DV,8))},l.\u0275prov=ot({token:l,factory:l.\u0275fac,providedIn:"root"}),l})(),U0=(()=>{class l{}return l.\u0275fac=function(r){return new(r||l)},l.\u0275mod=Tt({type:l}),l.\u0275inj=_t({}),l})();function vI(...l){return xm(1)(xs(l,Os(l)))}function pl(...l){const a=Os(l);return Wi((r,d)=>{(a?vI(l,r,a):vI(l,r)).subscribe(d)})}class yI{}const Ph="*";function g_(l,a){return{type:7,name:l,definitions:a,options:{}}}function tu(l,a=null){return{type:4,styles:a,timings:l}}function _I(l,a=null){return{type:2,steps:l,options:a}}function di(l){return{type:6,styles:l,offset:null}}function nu(l,a,r){return{type:0,name:l,styles:a,options:r}}function CI(l){return{type:5,steps:l}}function ru(l,a,r=null){return{type:1,expr:l,animation:a,options:r}}function bI(l){Promise.resolve(null).then(l)}class pw{constructor(a=0,r=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=a+r}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(a=>a()),this._onDoneFns=[])}onStart(a){this._onStartFns.push(a)}onDone(a){this._onDoneFns.push(a)}onDestroy(a){this._onDestroyFns.push(a)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){bI(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(a=>a()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(a=>a()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(a){this._position=this.totalTime?a*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(a){const r="start"==a?this._onStartFns:this._onDoneFns;r.forEach(d=>d()),r.length=0}}class wI{constructor(a){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=a;let r=0,d=0,v=0;const C=this.players.length;0==C?bI(()=>this._onFinish()):this.players.forEach(S=>{S.onDone(()=>{++r==C&&this._onFinish()}),S.onDestroy(()=>{++d==C&&this._onDestroy()}),S.onStart(()=>{++v==C&&this._onStart()})}),this.totalTime=this.players.reduce((S,O)=>Math.max(S,O.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(a=>a()),this._onDoneFns=[])}init(){this.players.forEach(a=>a.init())}onStart(a){this._onStartFns.push(a)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(a=>a()),this._onStartFns=[])}onDone(a){this._onDoneFns.push(a)}onDestroy(a){this._onDestroyFns.push(a)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(a=>a.play())}pause(){this.players.forEach(a=>a.pause())}restart(){this.players.forEach(a=>a.restart())}finish(){this._onFinish(),this.players.forEach(a=>a.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(a=>a.destroy()),this._onDestroyFns.forEach(a=>a()),this._onDestroyFns=[])}reset(){this.players.forEach(a=>a.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(a){const r=a*this.totalTime;this.players.forEach(d=>{const v=d.totalTime?Math.min(1,r/d.totalTime):1;d.setPosition(v)})}getPosition(){const a=this.players.reduce((r,d)=>null===r||d.totalTime>r.totalTime?d:r,null);return null!=a?a.getPosition():0}beforeDestroy(){this.players.forEach(a=>{a.beforeDestroy&&a.beforeDestroy()})}triggerCallback(a){const r="start"==a?this._onStartFns:this._onDoneFns;r.forEach(d=>d()),r.length=0}}function SI(){return"undefined"!=typeof window&&void 0!==window.document}function SP(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function pm(l){switch(l.length){case 0:return new pw;case 1:return l[0];default:return new wI(l)}}function EI(l,a,r,d,v={},C={}){const S=[],O=[];let T=-1,F=null;if(d.forEach(k=>{const j=k.offset,Q=j==T,oe=Q&&F||{};Object.keys(k).forEach(de=>{let _e=de,Te=k[de];if("offset"!==de)switch(_e=a.normalizePropertyName(_e,S),Te){case"!":Te=v[de];break;case Ph:Te=C[de];break;default:Te=a.normalizeStyleValue(de,_e,Te,S)}oe[_e]=Te}),Q||O.push(oe),F=oe,T=j}),S.length){const k="\n - ";throw new Error(`Unable to animate due to the following errors:${k}${S.join(k)}`)}return O}function EP(l,a,r,d){switch(a){case"start":l.onStart(()=>d(r&&DP(r,"start",l)));break;case"done":l.onDone(()=>d(r&&DP(r,"done",l)));break;case"destroy":l.onDestroy(()=>d(r&&DP(r,"destroy",l)))}}function DP(l,a,r){const d=r.totalTime,C=OP(l.element,l.triggerName,l.fromState,l.toState,a||l.phaseName,null==d?l.totalTime:d,!!r.disabled),S=l._data;return null!=S&&(C._data=S),C}function OP(l,a,r,d,v="",C=0,S){return{element:l,triggerName:a,fromState:r,toState:d,phaseName:v,totalTime:C,disabled:!!S}}function hl(l,a,r){let d;return l instanceof Map?(d=l.get(a),d||l.set(a,d=r)):(d=l[a],d||(d=l[a]=r)),d}function DI(l){const a=l.indexOf(":");return[l.substring(1,a),l.substr(a+1)]}let xP=(l,a)=>!1,AP=(l,a)=>!1,OI=(l,a,r)=>[];const xI=SP();(xI||"undefined"!=typeof Element)&&(xP=SI()?(l,a)=>{for(;a&&a!==document.documentElement;){if(a===l)return!0;a=a.parentNode||a.host}return!1}:(l,a)=>l.contains(a),AP=(()=>{if(xI||Element.prototype.matches)return(l,a)=>l.matches(a);{const l=Element.prototype,a=l.matchesSelector||l.mozMatchesSelector||l.msMatchesSelector||l.oMatchesSelector||l.webkitMatchesSelector;return a?(r,d)=>a.apply(r,[d]):AP}})(),OI=(l,a,r)=>{let d=[];if(r){const v=l.querySelectorAll(a);for(let C=0;C<v.length;C++)d.push(v[C])}else{const v=l.querySelector(a);v&&d.push(v)}return d});let m_=null,AI=!1;function TP(l){m_||(m_=("undefined"!=typeof document?document.body:null)||{},AI=!!m_.style&&"WebkitAppearance"in m_.style);let a=!0;return m_.style&&!function(l){return"ebkit"==l.substring(1,6)}(l)&&(a=l in m_.style,!a&&AI&&(a="Webkit"+l.charAt(0).toUpperCase()+l.substr(1)in m_.style)),a}const RP=AP,PP=xP,MP=OI;function TI(l){const a={};return Object.keys(l).forEach(r=>{const d=r.replace(/([a-z])([A-Z])/g,"$1-$2");a[d]=l[r]}),a}let RI=(()=>{class l{validateStyleProperty(r){return TP(r)}matchesElement(r,d){return RP(r,d)}containsElement(r,d){return PP(r,d)}query(r,d,v){return MP(r,d,v)}computeStyle(r,d,v){return v||""}animate(r,d,v,C,S,O=[],T){return new pw(v,C)}}return l.\u0275fac=function(r){return new(r||l)},l.\u0275prov=ot({token:l,factory:l.\u0275fac}),l})(),FP=(()=>{class l{}return l.NOOP=new RI,l})();const IP="ng-enter",zx="ng-leave",$x="ng-trigger",Kx=".ng-trigger",MI="ng-animating",NP=".ng-animating";function v_(l){if("number"==typeof l)return l;const a=l.match(/^(-?[\.\d]+)(m?s)/);return!a||a.length<2?0:LP(parseFloat(a[1]),a[2])}function LP(l,a){return"s"===a?1e3*l:l}function Yx(l,a,r){return l.hasOwnProperty("duration")?l:function(l,a,r){let v,C=0,S="";if("string"==typeof l){const O=l.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===O)return a.push(`The provided timing value "${l}" is invalid.`),{duration:0,delay:0,easing:""};v=LP(parseFloat(O[1]),O[2]);const T=O[3];null!=T&&(C=LP(parseFloat(T),O[4]));const F=O[5];F&&(S=F)}else v=l;if(!r){let O=!1,T=a.length;v<0&&(a.push("Duration values below 0 are not allowed for this animation step."),O=!0),C<0&&(a.push("Delay values below 0 are not allowed for this animation step."),O=!0),O&&a.splice(T,0,`The provided timing value "${l}" is invalid.`)}return{duration:v,delay:C,easing:S}}(l,a,r)}function hw(l,a={}){return Object.keys(l).forEach(r=>{a[r]=l[r]}),a}function hm(l,a,r={}){if(a)for(let d in l)r[d]=l[d];else hw(l,r);return r}function II(l,a,r){return r?a+":"+r+";":""}function NI(l){let a="";for(let r=0;r<l.style.length;r++){const d=l.style.item(r);a+=II(0,d,l.style.getPropertyValue(d))}for(const r in l.style)l.style.hasOwnProperty(r)&&!r.startsWith("_")&&(a+=II(0,GV(r),l.style[r]));l.setAttribute("style",a)}function Vd(l,a,r){l.style&&(Object.keys(a).forEach(d=>{const v=GP(d);r&&!r.hasOwnProperty(d)&&(r[d]=l.style[v]),l.style[v]=a[d]}),SP()&&NI(l))}function y_(l,a){l.style&&(Object.keys(a).forEach(r=>{const d=GP(r);l.style[d]=""}),SP()&&NI(l))}function z0(l){return Array.isArray(l)?1==l.length?l[0]:_I(l):l}const kP=new RegExp("{{\\s*(.+?)\\s*}}","g");function LI(l){let a=[];if("string"==typeof l){let r;for(;r=kP.exec(l);)a.push(r[1]);kP.lastIndex=0}return a}function qx(l,a,r){const d=l.toString(),v=d.replace(kP,(C,S)=>{let O=a[S];return a.hasOwnProperty(S)||(r.push(`Please provide a value for the animation param ${S}`),O=""),O.toString()});return v==d?l:v}function Xx(l){const a=[];let r=l.next();for(;!r.done;)a.push(r.value),r=l.next();return a}const kV=/-+([a-z0-9])/g;function GP(l){return l.replace(kV,(...a)=>a[1].toUpperCase())}function GV(l){return l.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function kI(l,a){return 0===l||0===a}function GI(l,a,r){const d=Object.keys(r);if(d.length&&a.length){let C=a[0],S=[];if(d.forEach(O=>{C.hasOwnProperty(O)||S.push(O),C[O]=r[O]}),S.length)for(var v=1;v<a.length;v++){let O=a[v];S.forEach(function(T){O[T]=VP(l,T)})}}return a}function fl(l,a,r){switch(a.type){case 7:return l.visitTrigger(a,r);case 0:return l.visitState(a,r);case 1:return l.visitTransition(a,r);case 2:return l.visitSequence(a,r);case 3:return l.visitGroup(a,r);case 4:return l.visitAnimate(a,r);case 5:return l.visitKeyframes(a,r);case 6:return l.visitStyle(a,r);case 8:return l.visitReference(a,r);case 9:return l.visitAnimateChild(a,r);case 10:return l.visitAnimateRef(a,r);case 11:return l.visitQuery(a,r);case 12:return l.visitStagger(a,r);default:throw new Error(`Unable to resolve animation metadata node #${a.type}`)}}function VP(l,a){return window.getComputedStyle(l)[a]}function VV(l,a){const r=[];return"string"==typeof l?l.split(/\s*,\s*/).forEach(d=>function(l,a,r){if(":"==l[0]){const T=function(l,a){switch(l){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(r,d)=>parseFloat(d)>parseFloat(r);case":decrement":return(r,d)=>parseFloat(d)<parseFloat(r);default:return a.push(`The transition alias value "${l}" is not supported`),"* => *"}}(l,r);if("function"==typeof T)return void a.push(T);l=T}const d=l.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==d||d.length<4)return r.push(`The provided transition expression "${l}" is not supported`),a;const v=d[1],C=d[2],S=d[3];a.push(VI(v,S));"<"==C[0]&&!("*"==v&&"*"==S)&&a.push(VI(S,v))}(d,r,a)):r.push(l),r}const Zx=new Set(["true","1"]),Jx=new Set(["false","0"]);function VI(l,a){const r=Zx.has(l)||Jx.has(l),d=Zx.has(a)||Jx.has(a);return(v,C)=>{let S="*"==l||l==v,O="*"==a||a==C;return!S&&r&&"boolean"==typeof v&&(S=v?Zx.has(l):Jx.has(l)),!O&&d&&"boolean"==typeof C&&(O=C?Zx.has(a):Jx.has(a)),S&&O}}const WV=new RegExp("s*:selfs*,?","g");function BP(l,a,r){return new jV(l).build(a,r)}class jV{constructor(a){this._driver=a}build(a,r){const d=new $V(r);return this._resetContextStyleTimingState(d),fl(this,z0(a),d)}_resetContextStyleTimingState(a){a.currentQuerySelector="",a.collectedStyles={},a.collectedStyles[""]={},a.currentTime=0}visitTrigger(a,r){let d=r.queryCount=0,v=r.depCount=0;const C=[],S=[];return"@"==a.name.charAt(0)&&r.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),a.definitions.forEach(O=>{if(this._resetContextStyleTimingState(r),0==O.type){const T=O,F=T.name;F.toString().split(/\s*,\s*/).forEach(k=>{T.name=k,C.push(this.visitState(T,r))}),T.name=F}else if(1==O.type){const T=this.visitTransition(O,r);d+=T.queryCount,v+=T.depCount,S.push(T)}else r.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:a.name,states:C,transitions:S,queryCount:d,depCount:v,options:null}}visitState(a,r){const d=this.visitStyle(a.styles,r),v=a.options&&a.options.params||null;if(d.containsDynamicStyles){const C=new Set,S=v||{};if(d.styles.forEach(O=>{if(eA(O)){const T=O;Object.keys(T).forEach(F=>{LI(T[F]).forEach(k=>{S.hasOwnProperty(k)||C.add(k)})})}}),C.size){const O=Xx(C.values());r.errors.push(`state("${a.name}", ...) must define default values for all the following style substitutions: ${O.join(", ")}`)}}return{type:0,name:a.name,style:d,options:v?{params:v}:null}}visitTransition(a,r){r.queryCount=0,r.depCount=0;const d=fl(this,z0(a.animation),r);return{type:1,matchers:VV(a.expr,r.errors),animation:d,queryCount:r.queryCount,depCount:r.depCount,options:__(a.options)}}visitSequence(a,r){return{type:2,steps:a.steps.map(d=>fl(this,d,r)),options:__(a.options)}}visitGroup(a,r){const d=r.currentTime;let v=0;const C=a.steps.map(S=>{r.currentTime=d;const O=fl(this,S,r);return v=Math.max(v,r.currentTime),O});return r.currentTime=v,{type:3,steps:C,options:__(a.options)}}visitAnimate(a,r){const d=function(l,a){let r=null;if(l.hasOwnProperty("duration"))r=l;else if("number"==typeof l)return HP(Yx(l,a).duration,0,"");const d=l;if(d.split(/\s+/).some(C=>"{"==C.charAt(0)&&"{"==C.charAt(1))){const C=HP(0,0,"");return C.dynamic=!0,C.strValue=d,C}return r=r||Yx(d,a),HP(r.duration,r.delay,r.easing)}(a.timings,r.errors);r.currentAnimateTimings=d;let v,C=a.styles?a.styles:di({});if(5==C.type)v=this.visitKeyframes(C,r);else{let S=a.styles,O=!1;if(!S){O=!0;const F={};d.easing&&(F.easing=d.easing),S=di(F)}r.currentTime+=d.duration+d.delay;const T=this.visitStyle(S,r);T.isEmptyStep=O,v=T}return r.currentAnimateTimings=null,{type:4,timings:d,style:v,options:null}}visitStyle(a,r){const d=this._makeStyleAst(a,r);return this._validateStyleAst(d,r),d}_makeStyleAst(a,r){const d=[];Array.isArray(a.styles)?a.styles.forEach(S=>{"string"==typeof S?S==Ph?d.push(S):r.errors.push(`The provided style string value ${S} is not allowed.`):d.push(S)}):d.push(a.styles);let v=!1,C=null;return d.forEach(S=>{if(eA(S)){const O=S,T=O.easing;if(T&&(C=T,delete O.easing),!v)for(let F in O)if(O[F].toString().indexOf("{{")>=0){v=!0;break}}}),{type:6,styles:d,easing:C,offset:a.offset,containsDynamicStyles:v,options:null}}_validateStyleAst(a,r){const d=r.currentAnimateTimings;let v=r.currentTime,C=r.currentTime;d&&C>0&&(C-=d.duration+d.delay),a.styles.forEach(S=>{"string"!=typeof S&&Object.keys(S).forEach(O=>{if(!this._driver.validateStyleProperty(O))return void r.errors.push(`The provided animation property "${O}" is not a supported CSS property for animations`);const T=r.collectedStyles[r.currentQuerySelector],F=T[O];let k=!0;F&&(C!=v&&C>=F.startTime&&v<=F.endTime&&(r.errors.push(`The CSS property "${O}" that exists between the times of "${F.startTime}ms" and "${F.endTime}ms" is also being animated in a parallel animation between the times of "${C}ms" and "${v}ms"`),k=!1),C=F.startTime),k&&(T[O]={startTime:C,endTime:v}),r.options&&function(l,a,r){const d=a.params||{},v=LI(l);v.length&&v.forEach(C=>{d.hasOwnProperty(C)||r.push(`Unable to resolve the local animation param ${C} in the given list of values`)})}(S[O],r.options,r.errors)})})}visitKeyframes(a,r){const d={type:5,styles:[],options:null};if(!r.currentAnimateTimings)return r.errors.push("keyframes() must be placed inside of a call to animate()"),d;let C=0;const S=[];let O=!1,T=!1,F=0;const k=a.steps.map(Ue=>{const Ee=this._makeStyleAst(Ue,r);let it=null!=Ee.offset?Ee.offset:function(l){if("string"==typeof l)return null;let a=null;if(Array.isArray(l))l.forEach(r=>{if(eA(r)&&r.hasOwnProperty("offset")){const d=r;a=parseFloat(d.offset),delete d.offset}});else if(eA(l)&&l.hasOwnProperty("offset")){const r=l;a=parseFloat(r.offset),delete r.offset}return a}(Ee.styles),Et=0;return null!=it&&(C++,Et=Ee.offset=it),T=T||Et<0||Et>1,O=O||Et<F,F=Et,S.push(Et),Ee});T&&r.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),O&&r.errors.push("Please ensure that all keyframe offsets are in order");const j=a.steps.length;let Q=0;C>0&&C<j?r.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==C&&(Q=1/(j-1));const oe=j-1,de=r.currentTime,_e=r.currentAnimateTimings,Te=_e.duration;return k.forEach((Ue,Ee)=>{const it=Q>0?Ee==oe?1:Q*Ee:S[Ee],Et=it*Te;r.currentTime=de+_e.delay+Et,_e.duration=Et,this._validateStyleAst(Ue,r),Ue.offset=it,d.styles.push(Ue)}),d}visitReference(a,r){return{type:8,animation:fl(this,z0(a.animation),r),options:__(a.options)}}visitAnimateChild(a,r){return r.depCount++,{type:9,options:__(a.options)}}visitAnimateRef(a,r){return{type:10,animation:this.visitReference(a.animation,r),options:__(a.options)}}visitQuery(a,r){const d=r.currentQuerySelector,v=a.options||{};r.queryCount++,r.currentQuery=a;const[C,S]=function(l){const a=!!l.split(/\s*,\s*/).find(r=>":self"==r);return a&&(l=l.replace(WV,"")),l=l.replace(/@\*/g,Kx).replace(/@\w+/g,r=>Kx+"-"+r.substr(1)).replace(/:animating/g,NP),[l,a]}(a.selector);r.currentQuerySelector=d.length?d+" "+C:C,hl(r.collectedStyles,r.currentQuerySelector,{});const O=fl(this,z0(a.animation),r);return r.currentQuery=null,r.currentQuerySelector=d,{type:11,selector:C,limit:v.limit||0,optional:!!v.optional,includeSelf:S,animation:O,originalSelector:a.selector,options:__(a.options)}}visitStagger(a,r){r.currentQuery||r.errors.push("stagger() can only be used inside of query()");const d="full"===a.timings?{duration:0,delay:0,easing:"full"}:Yx(a.timings,r.errors,!0);return{type:12,animation:fl(this,z0(a.animation),r),timings:d,options:null}}}class $V{constructor(a){this.errors=a,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function eA(l){return!Array.isArray(l)&&"object"==typeof l}function __(l){return l?(l=hw(l)).params&&(l.params=function(l){return l?hw(l):null}(l.params)):l={},l}function HP(l,a,r){return{duration:l,delay:a,easing:r}}function WP(l,a,r,d,v,C,S=null,O=!1){return{type:1,element:l,keyframes:a,preStyleProps:r,postStyleProps:d,duration:v,delay:C,totalTime:v+C,easing:S,subTimeline:O}}class tA{constructor(){this._map=new Map}consume(a){let r=this._map.get(a);return r?this._map.delete(a):r=[],r}append(a,r){let d=this._map.get(a);d||this._map.set(a,d=[]),d.push(...r)}has(a){return this._map.has(a)}clear(){this._map.clear()}}const QV=new RegExp(":enter","g"),JV=new RegExp(":leave","g");function jP(l,a,r,d,v,C={},S={},O,T,F=[]){return(new eB).buildKeyframes(l,a,r,d,v,C,S,O,T,F)}class eB{buildKeyframes(a,r,d,v,C,S,O,T,F,k=[]){F=F||new tA;const j=new UP(a,r,F,v,C,k,[]);j.options=T,j.currentTimeline.setStyles([S],null,j.errors,T),fl(this,d,j);const Q=j.timelines.filter(oe=>oe.containsAnimation());if(Q.length&&Object.keys(O).length){const oe=Q[Q.length-1];oe.allowOnlyTimelineStyles()||oe.setStyles([O],null,j.errors,T)}return Q.length?Q.map(oe=>oe.buildKeyframes()):[WP(r,[],[],[],0,0,"",!1)]}visitTrigger(a,r){}visitState(a,r){}visitTransition(a,r){}visitAnimateChild(a,r){const d=r.subInstructions.consume(r.element);if(d){const v=r.createSubContext(a.options),C=r.currentTimeline.currentTime,S=this._visitSubInstructions(d,v,v.options);C!=S&&r.transformIntoNewTimeline(S)}r.previousNode=a}visitAnimateRef(a,r){const d=r.createSubContext(a.options);d.transformIntoNewTimeline(),this.visitReference(a.animation,d),r.transformIntoNewTimeline(d.currentTimeline.currentTime),r.previousNode=a}_visitSubInstructions(a,r,d){let C=r.currentTimeline.currentTime;const S=null!=d.duration?v_(d.duration):null,O=null!=d.delay?v_(d.delay):null;return 0!==S&&a.forEach(T=>{const F=r.appendInstructionToTimeline(T,S,O);C=Math.max(C,F.duration+F.delay)}),C}visitReference(a,r){r.updateOptions(a.options,!0),fl(this,a.animation,r),r.previousNode=a}visitSequence(a,r){const d=r.subContextCount;let v=r;const C=a.options;if(C&&(C.params||C.delay)&&(v=r.createSubContext(C),v.transformIntoNewTimeline(),null!=C.delay)){6==v.previousNode.type&&(v.currentTimeline.snapshotCurrentStyles(),v.previousNode=nA);const S=v_(C.delay);v.delayNextStep(S)}a.steps.length&&(a.steps.forEach(S=>fl(this,S,v)),v.currentTimeline.applyStylesToKeyframe(),v.subContextCount>d&&v.transformIntoNewTimeline()),r.previousNode=a}visitGroup(a,r){const d=[];let v=r.currentTimeline.currentTime;const C=a.options&&a.options.delay?v_(a.options.delay):0;a.steps.forEach(S=>{const O=r.createSubContext(a.options);C&&O.delayNextStep(C),fl(this,S,O),v=Math.max(v,O.currentTimeline.currentTime),d.push(O.currentTimeline)}),d.forEach(S=>r.currentTimeline.mergeTimelineCollectedStyles(S)),r.transformIntoNewTimeline(v),r.previousNode=a}_visitTiming(a,r){if(a.dynamic){const d=a.strValue;return Yx(r.params?qx(d,r.params,r.errors):d,r.errors)}return{duration:a.duration,delay:a.delay,easing:a.easing}}visitAnimate(a,r){const d=r.currentAnimateTimings=this._visitTiming(a.timings,r),v=r.currentTimeline;d.delay&&(r.incrementTime(d.delay),v.snapshotCurrentStyles());const C=a.style;5==C.type?this.visitKeyframes(C,r):(r.incrementTime(d.duration),this.visitStyle(C,r),v.applyStylesToKeyframe()),r.currentAnimateTimings=null,r.previousNode=a}visitStyle(a,r){const d=r.currentTimeline,v=r.currentAnimateTimings;!v&&d.getCurrentStyleProperties().length&&d.forwardFrame();const C=v&&v.easing||a.easing;a.isEmptyStep?d.applyEmptyStep(C):d.setStyles(a.styles,C,r.errors,r.options),r.previousNode=a}visitKeyframes(a,r){const d=r.currentAnimateTimings,v=r.currentTimeline.duration,C=d.duration,O=r.createSubContext().currentTimeline;O.easing=d.easing,a.styles.forEach(T=>{O.forwardTime((T.offset||0)*C),O.setStyles(T.styles,T.easing,r.errors,r.options),O.applyStylesToKeyframe()}),r.currentTimeline.mergeTimelineCollectedStyles(O),r.transformIntoNewTimeline(v+C),r.previousNode=a}visitQuery(a,r){const d=r.currentTimeline.currentTime,v=a.options||{},C=v.delay?v_(v.delay):0;C&&(6===r.previousNode.type||0==d&&r.currentTimeline.getCurrentStyleProperties().length)&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=nA);let S=d;const O=r.invokeQuery(a.selector,a.originalSelector,a.limit,a.includeSelf,!!v.optional,r.errors);r.currentQueryTotal=O.length;let T=null;O.forEach((F,k)=>{r.currentQueryIndex=k;const j=r.createSubContext(a.options,F);C&&j.delayNextStep(C),F===r.element&&(T=j.currentTimeline),fl(this,a.animation,j),j.currentTimeline.applyStylesToKeyframe(),S=Math.max(S,j.currentTimeline.currentTime)}),r.currentQueryIndex=0,r.currentQueryTotal=0,r.transformIntoNewTimeline(S),T&&(r.currentTimeline.mergeTimelineCollectedStyles(T),r.currentTimeline.snapshotCurrentStyles()),r.previousNode=a}visitStagger(a,r){const d=r.parentContext,v=r.currentTimeline,C=a.timings,S=Math.abs(C.duration),O=S*(r.currentQueryTotal-1);let T=S*r.currentQueryIndex;switch(C.duration<0?"reverse":C.easing){case"reverse":T=O-T;break;case"full":T=d.currentStaggerTime}const k=r.currentTimeline;T&&k.delayNextStep(T);const j=k.currentTime;fl(this,a.animation,r),r.previousNode=a,d.currentStaggerTime=v.currentTime-j+(v.startTime-d.currentTimeline.startTime)}}const nA={};class UP{constructor(a,r,d,v,C,S,O,T){this._driver=a,this.element=r,this.subInstructions=d,this._enterClassName=v,this._leaveClassName=C,this.errors=S,this.timelines=O,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=nA,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=T||new rA(this._driver,r,0),O.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(a,r){if(!a)return;const d=a;let v=this.options;null!=d.duration&&(v.duration=v_(d.duration)),null!=d.delay&&(v.delay=v_(d.delay));const C=d.params;if(C){let S=v.params;S||(S=this.options.params={}),Object.keys(C).forEach(O=>{(!r||!S.hasOwnProperty(O))&&(S[O]=qx(C[O],S,this.errors))})}}_copyOptions(){const a={};if(this.options){const r=this.options.params;if(r){const d=a.params={};Object.keys(r).forEach(v=>{d[v]=r[v]})}}return a}createSubContext(a=null,r,d){const v=r||this.element,C=new UP(this._driver,v,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(v,d||0));return C.previousNode=this.previousNode,C.currentAnimateTimings=this.currentAnimateTimings,C.options=this._copyOptions(),C.updateOptions(a),C.currentQueryIndex=this.currentQueryIndex,C.currentQueryTotal=this.currentQueryTotal,C.parentContext=this,this.subContextCount++,C}transformIntoNewTimeline(a){return this.previousNode=nA,this.currentTimeline=this.currentTimeline.fork(this.element,a),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(a,r,d){const v={duration:null!=r?r:a.duration,delay:this.currentTimeline.currentTime+(null!=d?d:0)+a.delay,easing:""},C=new tB(this._driver,a.element,a.keyframes,a.preStyleProps,a.postStyleProps,v,a.stretchStartingKeyframe);return this.timelines.push(C),v}incrementTime(a){this.currentTimeline.forwardTime(this.currentTimeline.duration+a)}delayNextStep(a){a>0&&this.currentTimeline.delayNextStep(a)}invokeQuery(a,r,d,v,C,S){let O=[];if(v&&O.push(this.element),a.length>0){a=(a=a.replace(QV,"."+this._enterClassName)).replace(JV,"."+this._leaveClassName);let F=this._driver.query(this.element,a,1!=d);0!==d&&(F=d<0?F.slice(F.length+d,F.length):F.slice(0,d)),O.push(...F)}return!C&&0==O.length&&S.push(`\`query("${r}")\` returned zero elements. (Use \`query("${r}", { optional: true })\` if you wish to allow this.)`),O}}class rA{constructor(a,r,d,v){this._driver=a,this.element=r,this.startTime=d,this._elementTimelineStylesLookup=v,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(r),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(r,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(a){const r=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||r?(this.forwardTime(this.currentTime+a),r&&this.snapshotCurrentStyles()):this.startTime+=a}fork(a,r){return this.applyStylesToKeyframe(),new rA(this._driver,a,r||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(a){this.applyStylesToKeyframe(),this.duration=a,this._loadKeyframe()}_updateStyle(a,r){this._localTimelineStyles[a]=r,this._globalTimelineStyles[a]=r,this._styleSummary[a]={time:this.currentTime,value:r}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(a){a&&(this._previousKeyframe.easing=a),Object.keys(this._globalTimelineStyles).forEach(r=>{this._backFill[r]=this._globalTimelineStyles[r]||Ph,this._currentKeyframe[r]=Ph}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(a,r,d,v){r&&(this._previousKeyframe.easing=r);const C=v&&v.params||{},S=function(l,a){const r={};let d;return l.forEach(v=>{"*"===v?(d=d||Object.keys(a),d.forEach(C=>{r[C]=Ph})):hm(v,!1,r)}),r}(a,this._globalTimelineStyles);Object.keys(S).forEach(O=>{const T=qx(S[O],C,d);this._pendingStyles[O]=T,this._localTimelineStyles.hasOwnProperty(O)||(this._backFill[O]=this._globalTimelineStyles.hasOwnProperty(O)?this._globalTimelineStyles[O]:Ph),this._updateStyle(O,T)})}applyStylesToKeyframe(){const a=this._pendingStyles,r=Object.keys(a);0!=r.length&&(this._pendingStyles={},r.forEach(d=>{this._currentKeyframe[d]=a[d]}),Object.keys(this._localTimelineStyles).forEach(d=>{this._currentKeyframe.hasOwnProperty(d)||(this._currentKeyframe[d]=this._localTimelineStyles[d])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(a=>{const r=this._localTimelineStyles[a];this._pendingStyles[a]=r,this._updateStyle(a,r)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const a=[];for(let r in this._currentKeyframe)a.push(r);return a}mergeTimelineCollectedStyles(a){Object.keys(a._styleSummary).forEach(r=>{const d=this._styleSummary[r],v=a._styleSummary[r];(!d||v.time>d.time)&&this._updateStyle(r,v.value)})}buildKeyframes(){this.applyStylesToKeyframe();const a=new Set,r=new Set,d=1===this._keyframes.size&&0===this.duration;let v=[];this._keyframes.forEach((O,T)=>{const F=hm(O,!0);Object.keys(F).forEach(k=>{const j=F[k];"!"==j?a.add(k):j==Ph&&r.add(k)}),d||(F.offset=T/this.duration),v.push(F)});const C=a.size?Xx(a.values()):[],S=r.size?Xx(r.values()):[];if(d){const O=v[0],T=hw(O);O.offset=0,T.offset=1,v=[O,T]}return WP(this.element,v,C,S,this.duration,this.startTime,this.easing,!1)}}class tB extends rA{constructor(a,r,d,v,C,S,O=!1){super(a,r,S.delay),this.keyframes=d,this.preStyleProps=v,this.postStyleProps=C,this._stretchStartingKeyframe=O,this.timings={duration:S.duration,delay:S.delay,easing:S.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let a=this.keyframes,{delay:r,duration:d,easing:v}=this.timings;if(this._stretchStartingKeyframe&&r){const C=[],S=d+r,O=r/S,T=hm(a[0],!1);T.offset=0,C.push(T);const F=hm(a[0],!1);F.offset=WI(O),C.push(F);const k=a.length-1;for(let j=1;j<=k;j++){let Q=hm(a[j],!1);Q.offset=WI((r+Q.offset*d)/S),C.push(Q)}d=S,r=0,v="",a=C}return WP(this.element,a,this.preStyleProps,this.postStyleProps,d,r,v,!0)}}function WI(l,a=3){const r=Math.pow(10,a-1);return Math.round(l*r)/r}class zP{}class rB extends zP{normalizePropertyName(a,r){return GP(a)}normalizeStyleValue(a,r,d,v){let C="";const S=d.toString().trim();if(iB[r]&&0!==d&&"0"!==d)if("number"==typeof d)C="px";else{const O=d.match(/^[+-]?[\d\.]+([a-z]*)$/);O&&0==O[1].length&&v.push(`Please provide a CSS unit value for ${a}:${d}`)}return S+C}}const iB=(()=>function(l){const a={};return l.forEach(r=>a[r]=!0),a}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function jI(l,a,r,d,v,C,S,O,T,F,k,j,Q){return{type:0,element:l,triggerName:a,isRemovalTransition:v,fromState:r,fromStyles:C,toState:d,toStyles:S,timelines:O,queriedElements:T,preStyleProps:F,postStyleProps:k,totalTime:j,errors:Q}}const $P={};class UI{constructor(a,r,d){this._triggerName=a,this.ast=r,this._stateStyles=d}match(a,r,d,v){return function(l,a,r,d,v){return l.some(C=>C(a,r,d,v))}(this.ast.matchers,a,r,d,v)}buildStyles(a,r,d){const v=this._stateStyles["*"],C=this._stateStyles[a],S=v?v.buildStyles(r,d):{};return C?C.buildStyles(r,d):S}build(a,r,d,v,C,S,O,T,F,k){const j=[],Q=this.ast.options&&this.ast.options.params||$P,de=this.buildStyles(d,O&&O.params||$P,j),_e=T&&T.params||$P,Te=this.buildStyles(v,_e,j),Ue=new Set,Ee=new Map,it=new Map,Et="void"===v,gn={params:An(An({},Q),_e)},Wr=k?[]:jP(a,r,this.ast.animation,C,S,de,Te,gn,F,j);let ri=0;if(Wr.forEach(vl=>{ri=Math.max(vl.duration+vl.delay,ri)}),j.length)return jI(r,this._triggerName,d,v,Et,de,Te,[],[],Ee,it,ri,j);Wr.forEach(vl=>{const yl=vl.element,bw=hl(Ee,yl,{});vl.preStyleProps.forEach(yc=>bw[yc]=!0);const Mh=hl(it,yl,{});vl.postStyleProps.forEach(yc=>Mh[yc]=!0),yl!==r&&Ue.add(yl)});const ml=Xx(Ue.values());return jI(r,this._triggerName,d,v,Et,de,Te,Wr,ml,Ee,it,ri)}}class sB{constructor(a,r,d){this.styles=a,this.defaultParams=r,this.normalizer=d}buildStyles(a,r){const d={},v=hw(this.defaultParams);return Object.keys(a).forEach(C=>{const S=a[C];null!=S&&(v[C]=S)}),this.styles.styles.forEach(C=>{if("string"!=typeof C){const S=C;Object.keys(S).forEach(O=>{let T=S[O];T.length>1&&(T=qx(T,v,r));const F=this.normalizer.normalizePropertyName(O,r);T=this.normalizer.normalizeStyleValue(O,F,T,r),d[F]=T})}}),d}}class uB{constructor(a,r,d){this.name=a,this.ast=r,this._normalizer=d,this.transitionFactories=[],this.states={},r.states.forEach(v=>{this.states[v.name]=new sB(v.style,v.options&&v.options.params||{},d)}),zI(this.states,"true","1"),zI(this.states,"false","0"),r.transitions.forEach(v=>{this.transitionFactories.push(new UI(a,v,this.states))}),this.fallbackTransition=function(l,a,r){return new UI(l,{type:1,animation:{type:2,steps:[],options:null},matchers:[(S,O)=>!0],options:null,queryCount:0,depCount:0},a)}(a,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(a,r,d,v){return this.transitionFactories.find(S=>S.match(a,r,d,v))||null}matchStyles(a,r,d){return this.fallbackTransition.buildStyles(a,r,d)}}function zI(l,a,r){l.hasOwnProperty(a)?l.hasOwnProperty(r)||(l[r]=l[a]):l.hasOwnProperty(r)&&(l[a]=l[r])}const dB=new tA;class pB{constructor(a,r,d){this.bodyNode=a,this._driver=r,this._normalizer=d,this._animations={},this._playersById={},this.players=[]}register(a,r){const d=[],v=BP(this._driver,r,d);if(d.length)throw new Error(`Unable to build the animation due to the following errors: ${d.join("\n")}`);this._animations[a]=v}_buildPlayer(a,r,d){const v=a.element,C=EI(0,this._normalizer,0,a.keyframes,r,d);return this._driver.animate(v,C,a.duration,a.delay,a.easing,[],!0)}create(a,r,d={}){const v=[],C=this._animations[a];let S;const O=new Map;if(C?(S=jP(this._driver,r,C,IP,zx,{},{},d,dB,v),S.forEach(k=>{const j=hl(O,k.element,{});k.postStyleProps.forEach(Q=>j[Q]=null)})):(v.push("The requested animation doesn't exist or has already been destroyed"),S=[]),v.length)throw new Error(`Unable to create the animation due to the following errors: ${v.join("\n")}`);O.forEach((k,j)=>{Object.keys(k).forEach(Q=>{k[Q]=this._driver.computeStyle(j,Q,Ph)})});const F=pm(S.map(k=>{const j=O.get(k.element);return this._buildPlayer(k,{},j)}));return this._playersById[a]=F,F.onDestroy(()=>this.destroy(a)),this.players.push(F),F}destroy(a){const r=this._getPlayer(a);r.destroy(),delete this._playersById[a];const d=this.players.indexOf(r);d>=0&&this.players.splice(d,1)}_getPlayer(a){const r=this._playersById[a];if(!r)throw new Error(`Unable to find the timeline player referenced by ${a}`);return r}listen(a,r,d,v){const C=OP(r,"","","");return EP(this._getPlayer(a),d,C,v),()=>{}}command(a,r,d,v){if("register"==d)return void this.register(a,v[0]);if("create"==d)return void this.create(a,r,v[0]||{});const C=this._getPlayer(a);switch(d){case"play":C.play();break;case"pause":C.pause();break;case"reset":C.reset();break;case"restart":C.restart();break;case"finish":C.finish();break;case"init":C.init();break;case"setPosition":C.setPosition(parseFloat(v[0]));break;case"destroy":this.destroy(a)}}}const $I="ng-animate-queued",KI="ng-animate-disabled",YI=".ng-animate-disabled",mB=[],qI={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},vB={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},iu="__ng_removed";class KP{constructor(a,r=""){this.namespaceId=r;const d=a&&a.hasOwnProperty("value");if(this.value=null!=(l=d?a.value:a)?l:null,d){const C=hw(a);delete C.value,this.options=C}else this.options={};var l;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(a){const r=a.params;if(r){const d=this.options.params;Object.keys(r).forEach(v=>{null==d[v]&&(d[v]=r[v])})}}}const $0="void",YP=new KP($0);class yB{constructor(a,r,d){this.id=a,this.hostElement=r,this._engine=d,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+a,ou(r,this._hostClassName)}listen(a,r,d,v){if(!this._triggers.hasOwnProperty(r))throw new Error(`Unable to listen on the animation trigger event "${d}" because the animation trigger "${r}" doesn't exist!`);if(null==d||0==d.length)throw new Error(`Unable to listen on the animation trigger "${r}" because the provided event is undefined!`);if("start"!=(l=d)&&"done"!=l)throw new Error(`The provided animation trigger event "${d}" for the animation trigger "${r}" is not supported!`);var l;const C=hl(this._elementListeners,a,[]),S={name:r,phase:d,callback:v};C.push(S);const O=hl(this._engine.statesByElement,a,{});return O.hasOwnProperty(r)||(ou(a,$x),ou(a,$x+"-"+r),O[r]=YP),()=>{this._engine.afterFlush(()=>{const T=C.indexOf(S);T>=0&&C.splice(T,1),this._triggers[r]||delete O[r]})}}register(a,r){return!this._triggers[a]&&(this._triggers[a]=r,!0)}_getTrigger(a){const r=this._triggers[a];if(!r)throw new Error(`The provided animation trigger "${a}" has not been registered!`);return r}trigger(a,r,d,v=!0){const C=this._getTrigger(r),S=new qP(this.id,r,a);let O=this._engine.statesByElement.get(a);O||(ou(a,$x),ou(a,$x+"-"+r),this._engine.statesByElement.set(a,O={}));let T=O[r];const F=new KP(d,this.id);if(!(d&&d.hasOwnProperty("value"))&&T&&F.absorbOptions(T.options),O[r]=F,T||(T=YP),F.value!==$0&&T.value===F.value){if(!function(l,a){const r=Object.keys(l),d=Object.keys(a);if(r.length!=d.length)return!1;for(let v=0;v<r.length;v++){const C=r[v];if(!a.hasOwnProperty(C)||l[C]!==a[C])return!1}return!0}(T.params,F.params)){const _e=[],Te=C.matchStyles(T.value,T.params,_e),Ue=C.matchStyles(F.value,F.params,_e);_e.length?this._engine.reportError(_e):this._engine.afterFlush(()=>{y_(a,Te),Vd(a,Ue)})}return}const Q=hl(this._engine.playersByElement,a,[]);Q.forEach(_e=>{_e.namespaceId==this.id&&_e.triggerName==r&&_e.queued&&_e.destroy()});let oe=C.matchTransition(T.value,F.value,a,F.params),de=!1;if(!oe){if(!v)return;oe=C.fallbackTransition,de=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:a,triggerName:r,transition:oe,fromState:T,toState:F,player:S,isFallbackTransition:de}),de||(ou(a,$I),S.onStart(()=>{fw(a,$I)})),S.onDone(()=>{let _e=this.players.indexOf(S);_e>=0&&this.players.splice(_e,1);const Te=this._engine.playersByElement.get(a);if(Te){let Ue=Te.indexOf(S);Ue>=0&&Te.splice(Ue,1)}}),this.players.push(S),Q.push(S),S}deregister(a){delete this._triggers[a],this._engine.statesByElement.forEach((r,d)=>{delete r[a]}),this._elementListeners.forEach((r,d)=>{this._elementListeners.set(d,r.filter(v=>v.name!=a))})}clearElementCache(a){this._engine.statesByElement.delete(a),this._elementListeners.delete(a);const r=this._engine.playersByElement.get(a);r&&(r.forEach(d=>d.destroy()),this._engine.playersByElement.delete(a))}_signalRemovalForInnerTriggers(a,r){const d=this._engine.driver.query(a,Kx,!0);d.forEach(v=>{if(v[iu])return;const C=this._engine.fetchNamespacesByElement(v);C.size?C.forEach(S=>S.triggerLeaveAnimation(v,r,!1,!0)):this.clearElementCache(v)}),this._engine.afterFlushAnimationsDone(()=>d.forEach(v=>this.clearElementCache(v)))}triggerLeaveAnimation(a,r,d,v){const C=this._engine.statesByElement.get(a);if(C){const S=[];if(Object.keys(C).forEach(O=>{if(this._triggers[O]){const T=this.trigger(a,O,$0,v);T&&S.push(T)}}),S.length)return this._engine.markElementAsRemoved(this.id,a,!0,r),d&&pm(S).onDone(()=>this._engine.processLeaveNode(a)),!0}return!1}prepareLeaveAnimationListeners(a){const r=this._elementListeners.get(a),d=this._engine.statesByElement.get(a);if(r&&d){const v=new Set;r.forEach(C=>{const S=C.name;if(v.has(S))return;v.add(S);const T=this._triggers[S].fallbackTransition,F=d[S]||YP,k=new KP($0),j=new qP(this.id,S,a);this._engine.totalQueuedPlayers++,this._queue.push({element:a,triggerName:S,transition:T,fromState:F,toState:k,player:j,isFallbackTransition:!0})})}}removeNode(a,r){const d=this._engine;if(a.childElementCount&&this._signalRemovalForInnerTriggers(a,r),this.triggerLeaveAnimation(a,r,!0))return;let v=!1;if(d.totalAnimations){const C=d.players.length?d.playersByQueriedElement.get(a):[];if(C&&C.length)v=!0;else{let S=a;for(;S=S.parentNode;)if(d.statesByElement.get(S)){v=!0;break}}}if(this.prepareLeaveAnimationListeners(a),v)d.markElementAsRemoved(this.id,a,!1,r);else{const C=a[iu];(!C||C===qI)&&(d.afterFlush(()=>this.clearElementCache(a)),d.destroyInnerAnimations(a),d._onRemovalComplete(a,r))}}insertNode(a,r){ou(a,this._hostClassName)}drainQueuedTransitions(a){const r=[];return this._queue.forEach(d=>{const v=d.player;if(v.destroyed)return;const C=d.element,S=this._elementListeners.get(C);S&&S.forEach(O=>{if(O.name==d.triggerName){const T=OP(C,d.triggerName,d.fromState.value,d.toState.value);T._data=a,EP(d.player,O.phase,T,O.callback)}}),v.markedForDestroy?this._engine.afterFlush(()=>{v.destroy()}):r.push(d)}),this._queue=[],r.sort((d,v)=>{const C=d.transition.ast.depCount,S=v.transition.ast.depCount;return 0==C||0==S?C-S:this._engine.driver.containsElement(d.element,v.element)?1:-1})}destroy(a){this.players.forEach(r=>r.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,a)}elementContainsData(a){let r=!1;return this._elementListeners.has(a)&&(r=!0),r=!!this._queue.find(d=>d.element===a)||r,r}}class _B{constructor(a,r,d){this.bodyNode=a,this.driver=r,this._normalizer=d,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(v,C)=>{}}_onRemovalComplete(a,r){this.onRemovalComplete(a,r)}get queuedPlayers(){const a=[];return this._namespaceList.forEach(r=>{r.players.forEach(d=>{d.queued&&a.push(d)})}),a}createNamespace(a,r){const d=new yB(a,r,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,r)?this._balanceNamespaceList(d,r):(this.newHostElements.set(r,d),this.collectEnterElement(r)),this._namespaceLookup[a]=d}_balanceNamespaceList(a,r){const d=this._namespaceList.length-1;if(d>=0){let v=!1;for(let C=d;C>=0;C--)if(this.driver.containsElement(this._namespaceList[C].hostElement,r)){this._namespaceList.splice(C+1,0,a),v=!0;break}v||this._namespaceList.splice(0,0,a)}else this._namespaceList.push(a);return this.namespacesByHostElement.set(r,a),a}register(a,r){let d=this._namespaceLookup[a];return d||(d=this.createNamespace(a,r)),d}registerTrigger(a,r,d){let v=this._namespaceLookup[a];v&&v.register(r,d)&&this.totalAnimations++}destroy(a,r){if(!a)return;const d=this._fetchNamespace(a);this.afterFlush(()=>{this.namespacesByHostElement.delete(d.hostElement),delete this._namespaceLookup[a];const v=this._namespaceList.indexOf(d);v>=0&&this._namespaceList.splice(v,1)}),this.afterFlushAnimationsDone(()=>d.destroy(r))}_fetchNamespace(a){return this._namespaceLookup[a]}fetchNamespacesByElement(a){const r=new Set,d=this.statesByElement.get(a);if(d){const v=Object.keys(d);for(let C=0;C<v.length;C++){const S=d[v[C]].namespaceId;if(S){const O=this._fetchNamespace(S);O&&r.add(O)}}}return r}trigger(a,r,d,v){if(iA(r)){const C=this._fetchNamespace(a);if(C)return C.trigger(r,d,v),!0}return!1}insertNode(a,r,d,v){if(!iA(r))return;const C=r[iu];if(C&&C.setForRemoval){C.setForRemoval=!1,C.setForMove=!0;const S=this.collectedLeaveElements.indexOf(r);S>=0&&this.collectedLeaveElements.splice(S,1)}if(a){const S=this._fetchNamespace(a);S&&S.insertNode(r,d)}v&&this.collectEnterElement(r)}collectEnterElement(a){this.collectedEnterElements.push(a)}markElementAsDisabled(a,r){r?this.disabledNodes.has(a)||(this.disabledNodes.add(a),ou(a,KI)):this.disabledNodes.has(a)&&(this.disabledNodes.delete(a),fw(a,KI))}removeNode(a,r,d,v){if(iA(r)){const C=a?this._fetchNamespace(a):null;if(C?C.removeNode(r,v):this.markElementAsRemoved(a,r,!1,v),d){const S=this.namespacesByHostElement.get(r);S&&S.id!==a&&S.removeNode(r,v)}}else this._onRemovalComplete(r,v)}markElementAsRemoved(a,r,d,v){this.collectedLeaveElements.push(r),r[iu]={namespaceId:a,setForRemoval:v,hasAnimation:d,removedBeforeQueried:!1}}listen(a,r,d,v,C){return iA(r)?this._fetchNamespace(a).listen(r,d,v,C):()=>{}}_buildInstruction(a,r,d,v,C){return a.transition.build(this.driver,a.element,a.fromState.value,a.toState.value,d,v,a.fromState.options,a.toState.options,r,C)}destroyInnerAnimations(a){let r=this.driver.query(a,Kx,!0);r.forEach(d=>this.destroyActiveAnimationsForElement(d)),0!=this.playersByQueriedElement.size&&(r=this.driver.query(a,NP,!0),r.forEach(d=>this.finishActiveQueriedAnimationOnElement(d)))}destroyActiveAnimationsForElement(a){const r=this.playersByElement.get(a);r&&r.forEach(d=>{d.queued?d.markedForDestroy=!0:d.destroy()})}finishActiveQueriedAnimationOnElement(a){const r=this.playersByQueriedElement.get(a);r&&r.forEach(d=>d.finish())}whenRenderingDone(){return new Promise(a=>{if(this.players.length)return pm(this.players).onDone(()=>a());a()})}processLeaveNode(a){const r=a[iu];if(r&&r.setForRemoval){if(a[iu]=qI,r.namespaceId){this.destroyInnerAnimations(a);const d=this._fetchNamespace(r.namespaceId);d&&d.clearElementCache(a)}this._onRemovalComplete(a,r.setForRemoval)}this.driver.matchesElement(a,YI)&&this.markElementAsDisabled(a,!1),this.driver.query(a,YI,!0).forEach(d=>{this.markElementAsDisabled(d,!1)})}flush(a=-1){let r=[];if(this.newHostElements.size&&(this.newHostElements.forEach((d,v)=>this._balanceNamespaceList(d,v)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let d=0;d<this.collectedEnterElements.length;d++)ou(this.collectedEnterElements[d],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const d=[];try{r=this._flushAnimations(d,a)}finally{for(let v=0;v<d.length;v++)d[v]()}}else for(let d=0;d<this.collectedLeaveElements.length;d++)this.processLeaveNode(this.collectedLeaveElements[d]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(d=>d()),this._flushFns=[],this._whenQuietFns.length){const d=this._whenQuietFns;this._whenQuietFns=[],r.length?pm(r).onDone(()=>{d.forEach(v=>v())}):d.forEach(v=>v())}}reportError(a){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${a.join("\n")}`)}_flushAnimations(a,r){const d=new tA,v=[],C=new Map,S=[],O=new Map,T=new Map,F=new Map,k=new Set;this.disabledNodes.forEach(ft=>{k.add(ft);const Gt=this.driver.query(ft,".ng-animate-queued",!0);for(let en=0;en<Gt.length;en++)k.add(Gt[en])});const j=this.bodyNode,Q=Array.from(this.statesByElement.keys()),oe=ZI(Q,this.collectedEnterElements),de=new Map;let _e=0;oe.forEach((ft,Gt)=>{const en=IP+_e++;de.set(Gt,en),ft.forEach(Yn=>ou(Yn,en))});const Te=[],Ue=new Set,Ee=new Set;for(let ft=0;ft<this.collectedLeaveElements.length;ft++){const Gt=this.collectedLeaveElements[ft],en=Gt[iu];en&&en.setForRemoval&&(Te.push(Gt),Ue.add(Gt),en.hasAnimation?this.driver.query(Gt,".ng-star-inserted",!0).forEach(Yn=>Ue.add(Yn)):Ee.add(Gt))}const it=new Map,Et=ZI(Q,Array.from(Ue));Et.forEach((ft,Gt)=>{const en=zx+_e++;it.set(Gt,en),ft.forEach(Yn=>ou(Yn,en))}),a.push(()=>{oe.forEach((ft,Gt)=>{const en=de.get(Gt);ft.forEach(Yn=>fw(Yn,en))}),Et.forEach((ft,Gt)=>{const en=it.get(Gt);ft.forEach(Yn=>fw(Yn,en))}),Te.forEach(ft=>{this.processLeaveNode(ft)})});const gn=[],Wr=[];for(let ft=this._namespaceList.length-1;ft>=0;ft--)this._namespaceList[ft].drainQueuedTransitions(r).forEach(en=>{const Yn=en.player,bo=en.element;if(gn.push(Yn),this.collectedEnterElements.length){const zd=bo[iu];if(zd&&zd.setForMove)return void Yn.destroy()}const Ud=!j||!this.driver.containsElement(j,bo),_l=it.get(bo),_m=de.get(bo),pi=this._buildInstruction(en,d,_m,_l,Ud);if(pi.errors&&pi.errors.length)Wr.push(pi);else{if(Ud)return Yn.onStart(()=>y_(bo,pi.fromStyles)),Yn.onDestroy(()=>Vd(bo,pi.toStyles)),void v.push(Yn);if(en.isFallbackTransition)return Yn.onStart(()=>y_(bo,pi.fromStyles)),Yn.onDestroy(()=>Vd(bo,pi.toStyles)),void v.push(Yn);pi.timelines.forEach(zd=>zd.stretchStartingKeyframe=!0),d.append(bo,pi.timelines),S.push({instruction:pi,player:Yn,element:bo}),pi.queriedElements.forEach(zd=>hl(O,zd,[]).push(Yn)),pi.preStyleProps.forEach((zd,cD)=>{const HA=Object.keys(zd);if(HA.length){let O_=T.get(cD);O_||T.set(cD,O_=new Set),HA.forEach(qM=>O_.add(qM))}}),pi.postStyleProps.forEach((zd,cD)=>{const HA=Object.keys(zd);let O_=F.get(cD);O_||F.set(cD,O_=new Set),HA.forEach(qM=>O_.add(qM))})}});if(Wr.length){const ft=[];Wr.forEach(Gt=>{ft.push(`@${Gt.triggerName} has failed due to:\n`),Gt.errors.forEach(en=>ft.push(`- ${en}\n`))}),gn.forEach(Gt=>Gt.destroy()),this.reportError(ft)}const ri=new Map,ml=new Map;S.forEach(ft=>{const Gt=ft.element;d.has(Gt)&&(ml.set(Gt,Gt),this._beforeAnimationBuild(ft.player.namespaceId,ft.instruction,ri))}),v.forEach(ft=>{const Gt=ft.element;this._getPreviousPlayers(Gt,!1,ft.namespaceId,ft.triggerName,null).forEach(Yn=>{hl(ri,Gt,[]).push(Yn),Yn.destroy()})});const vl=Te.filter(ft=>eN(ft,T,F)),yl=new Map;QI(yl,this.driver,Ee,F,Ph).forEach(ft=>{eN(ft,T,F)&&vl.push(ft)});const Mh=new Map;oe.forEach((ft,Gt)=>{QI(Mh,this.driver,new Set(ft),T,"!")}),vl.forEach(ft=>{const Gt=yl.get(ft),en=Mh.get(ft);yl.set(ft,An(An({},Gt),en))});const yc=[],ww=[],Sw={};S.forEach(ft=>{const{element:Gt,player:en,instruction:Yn}=ft;if(d.has(Gt)){if(k.has(Gt))return en.onDestroy(()=>Vd(Gt,Yn.toStyles)),en.disabled=!0,en.overrideTotalTime(Yn.totalTime),void v.push(en);let bo=Sw;if(ml.size>1){let _l=Gt;const _m=[];for(;_l=_l.parentNode;){const pi=ml.get(_l);if(pi){bo=pi;break}_m.push(_l)}_m.forEach(pi=>ml.set(pi,bo))}const Ud=this._buildAnimation(en.namespaceId,Yn,ri,C,Mh,yl);if(en.setRealPlayer(Ud),bo===Sw)yc.push(en);else{const _l=this.playersByElement.get(bo);_l&&_l.length&&(en.parentPlayer=pm(_l)),v.push(en)}}else y_(Gt,Yn.fromStyles),en.onDestroy(()=>Vd(Gt,Yn.toStyles)),ww.push(en),k.has(Gt)&&v.push(en)}),ww.forEach(ft=>{const Gt=C.get(ft.element);if(Gt&&Gt.length){const en=pm(Gt);ft.setRealPlayer(en)}}),v.forEach(ft=>{ft.parentPlayer?ft.syncPlayerEvents(ft.parentPlayer):ft.destroy()});for(let ft=0;ft<Te.length;ft++){const Gt=Te[ft],en=Gt[iu];if(fw(Gt,zx),en&&en.hasAnimation)continue;let Yn=[];if(O.size){let Ud=O.get(Gt);Ud&&Ud.length&&Yn.push(...Ud);let _l=this.driver.query(Gt,NP,!0);for(let _m=0;_m<_l.length;_m++){let pi=O.get(_l[_m]);pi&&pi.length&&Yn.push(...pi)}}const bo=Yn.filter(Ud=>!Ud.destroyed);bo.length?SB(this,Gt,bo):this.processLeaveNode(Gt)}return Te.length=0,yc.forEach(ft=>{this.players.push(ft),ft.onDone(()=>{ft.destroy();const Gt=this.players.indexOf(ft);this.players.splice(Gt,1)}),ft.play()}),yc}elementContainsData(a,r){let d=!1;const v=r[iu];return v&&v.setForRemoval&&(d=!0),this.playersByElement.has(r)&&(d=!0),this.playersByQueriedElement.has(r)&&(d=!0),this.statesByElement.has(r)&&(d=!0),this._fetchNamespace(a).elementContainsData(r)||d}afterFlush(a){this._flushFns.push(a)}afterFlushAnimationsDone(a){this._whenQuietFns.push(a)}_getPreviousPlayers(a,r,d,v,C){let S=[];if(r){const O=this.playersByQueriedElement.get(a);O&&(S=O)}else{const O=this.playersByElement.get(a);if(O){const T=!C||C==$0;O.forEach(F=>{F.queued||!T&&F.triggerName!=v||S.push(F)})}}return(d||v)&&(S=S.filter(O=>!(d&&d!=O.namespaceId||v&&v!=O.triggerName))),S}_beforeAnimationBuild(a,r,d){const C=r.element,S=r.isRemovalTransition?void 0:a,O=r.isRemovalTransition?void 0:r.triggerName;for(const T of r.timelines){const F=T.element,k=F!==C,j=hl(d,F,[]);this._getPreviousPlayers(F,k,S,O,r.toState).forEach(oe=>{const de=oe.getRealPlayer();de.beforeDestroy&&de.beforeDestroy(),oe.destroy(),j.push(oe)})}y_(C,r.fromStyles)}_buildAnimation(a,r,d,v,C,S){const O=r.triggerName,T=r.element,F=[],k=new Set,j=new Set,Q=r.timelines.map(de=>{const _e=de.element;k.add(_e);const Te=_e[iu];if(Te&&Te.removedBeforeQueried)return new pw(de.duration,de.delay);const Ue=_e!==T,Ee=function(l){const a=[];return JI(l,a),a}((d.get(_e)||mB).map(ri=>ri.getRealPlayer())).filter(ri=>!!ri.element&&ri.element===_e),it=C.get(_e),Et=S.get(_e),gn=EI(0,this._normalizer,0,de.keyframes,it,Et),Wr=this._buildPlayer(de,gn,Ee);if(de.subTimeline&&v&&j.add(_e),Ue){const ri=new qP(a,O,_e);ri.setRealPlayer(Wr),F.push(ri)}return Wr});F.forEach(de=>{hl(this.playersByQueriedElement,de.element,[]).push(de),de.onDone(()=>function(l,a,r){let d;if(l instanceof Map){if(d=l.get(a),d){if(d.length){const v=d.indexOf(r);d.splice(v,1)}0==d.length&&l.delete(a)}}else if(d=l[a],d){if(d.length){const v=d.indexOf(r);d.splice(v,1)}0==d.length&&delete l[a]}return d}(this.playersByQueriedElement,de.element,de))}),k.forEach(de=>ou(de,MI));const oe=pm(Q);return oe.onDestroy(()=>{k.forEach(de=>fw(de,MI)),Vd(T,r.toStyles)}),j.forEach(de=>{hl(v,de,[]).push(oe)}),oe}_buildPlayer(a,r,d){return r.length>0?this.driver.animate(a.element,r,a.duration,a.delay,a.easing,d):new pw(a.duration,a.delay)}}class qP{constructor(a,r,d){this.namespaceId=a,this.triggerName=r,this.element=d,this._player=new pw,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(a){this._containsRealPlayer||(this._player=a,Object.keys(this._queuedCallbacks).forEach(r=>{this._queuedCallbacks[r].forEach(d=>EP(a,r,void 0,d))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(a.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(a){this.totalTime=a}syncPlayerEvents(a){const r=this._player;r.triggerCallback&&a.onStart(()=>r.triggerCallback("start")),a.onDone(()=>this.finish()),a.onDestroy(()=>this.destroy())}_queueEvent(a,r){hl(this._queuedCallbacks,a,[]).push(r)}onDone(a){this.queued&&this._queueEvent("done",a),this._player.onDone(a)}onStart(a){this.queued&&this._queueEvent("start",a),this._player.onStart(a)}onDestroy(a){this.queued&&this._queueEvent("destroy",a),this._player.onDestroy(a)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(a){this.queued||this._player.setPosition(a)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(a){const r=this._player;r.triggerCallback&&r.triggerCallback(a)}}function iA(l){return l&&1===l.nodeType}function XI(l,a){const r=l.style.display;return l.style.display=null!=a?a:"none",r}function QI(l,a,r,d,v){const C=[];r.forEach(T=>C.push(XI(T)));const S=[];d.forEach((T,F)=>{const k={};T.forEach(j=>{const Q=k[j]=a.computeStyle(F,j,v);(!Q||0==Q.length)&&(F[iu]=vB,S.push(F))}),l.set(F,k)});let O=0;return r.forEach(T=>XI(T,C[O++])),S}function ZI(l,a){const r=new Map;if(l.forEach(O=>r.set(O,[])),0==a.length)return r;const v=new Set(a),C=new Map;function S(O){if(!O)return 1;let T=C.get(O);if(T)return T;const F=O.parentNode;return T=r.has(F)?F:v.has(F)?1:S(F),C.set(O,T),T}return a.forEach(O=>{const T=S(O);1!==T&&r.get(T).push(O)}),r}const oA="$$classes";function ou(l,a){if(l.classList)l.classList.add(a);else{let r=l[oA];r||(r=l[oA]={}),r[a]=!0}}function fw(l,a){if(l.classList)l.classList.remove(a);else{let r=l[oA];r&&delete r[a]}}function SB(l,a,r){pm(r).onDone(()=>l.processLeaveNode(a))}function JI(l,a){for(let r=0;r<l.length;r++){const d=l[r];d instanceof wI?JI(d.players,a):a.push(d)}}function eN(l,a,r){const d=r.get(l);if(!d)return!1;let v=a.get(l);return v?d.forEach(C=>v.add(C)):a.set(l,d),r.delete(l),!0}class aA{constructor(a,r,d){this.bodyNode=a,this._driver=r,this._normalizer=d,this._triggerCache={},this.onRemovalComplete=(v,C)=>{},this._transitionEngine=new _B(a,r,d),this._timelineEngine=new pB(a,r,d),this._transitionEngine.onRemovalComplete=(v,C)=>this.onRemovalComplete(v,C)}registerTrigger(a,r,d,v,C){const S=a+"-"+v;let O=this._triggerCache[S];if(!O){const T=[],F=BP(this._driver,C,T);if(T.length)throw new Error(`The animation trigger "${v}" has failed to build due to the following errors:\n - ${T.join("\n - ")}`);O=function(l,a,r){return new uB(l,a,r)}(v,F,this._normalizer),this._triggerCache[S]=O}this._transitionEngine.registerTrigger(r,v,O)}register(a,r){this._transitionEngine.register(a,r)}destroy(a,r){this._transitionEngine.destroy(a,r)}onInsert(a,r,d,v){this._transitionEngine.insertNode(a,r,d,v)}onRemove(a,r,d,v){this._transitionEngine.removeNode(a,r,v||!1,d)}disableAnimations(a,r){this._transitionEngine.markElementAsDisabled(a,r)}process(a,r,d,v){if("@"==d.charAt(0)){const[C,S]=DI(d);this._timelineEngine.command(C,r,S,v)}else this._transitionEngine.trigger(a,r,d,v)}listen(a,r,d,v,C){if("@"==d.charAt(0)){const[S,O]=DI(d);return this._timelineEngine.listen(S,r,O,C)}return this._transitionEngine.listen(a,r,d,v,C)}flush(a=-1){this._transitionEngine.flush(a)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function tN(l,a){let r=null,d=null;return Array.isArray(a)&&a.length?(r=XP(a[0]),a.length>1&&(d=XP(a[a.length-1]))):a&&(r=XP(a)),r||d?new OB(l,r,d):null}let OB=(()=>{class l{constructor(r,d,v){this._element=r,this._startStyles=d,this._endStyles=v,this._state=0;let C=l.initialStylesByElement.get(r);C||l.initialStylesByElement.set(r,C={}),this._initialStyles=C}start(){this._state<1&&(this._startStyles&&Vd(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Vd(this._element,this._initialStyles),this._endStyles&&(Vd(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(l.initialStylesByElement.delete(this._element),this._startStyles&&(y_(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(y_(this._element,this._endStyles),this._endStyles=null),Vd(this._element,this._initialStyles),this._state=3)}}return l.initialStylesByElement=new WeakMap,l})();function XP(l){let a=null;const r=Object.keys(l);for(let d=0;d<r.length;d++){const v=r[d];xB(v)&&(a=a||{},a[v]=l[v])}return a}function xB(l){return"display"===l||"position"===l}const nN="animation",rN="animationend";class RB{constructor(a,r,d,v,C,S,O){this._element=a,this._name=r,this._duration=d,this._delay=v,this._easing=C,this._fillMode=S,this._onDoneFn=O,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=T=>this._handleCallback(T)}apply(){(function(l,a){const r=ZP(l,"").trim();let d=0;r.length&&(function(l,a){let r=0;for(let d=0;d<l.length;d++)","===l.charAt(d)&&r++;return r}(r)+1,a=`${r}, ${a}`),sA(l,"",a)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),aN(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){iN(this._element,this._name,"paused")}resume(){iN(this._element,this._name,"running")}setPosition(a){const r=oN(this._element,this._name);this._position=a*this._duration,sA(this._element,"Delay",`-${this._position}ms`,r)}getPosition(){return this._position}_handleCallback(a){const r=a._ngTestManualTimestamp||Date.now(),d=1e3*parseFloat(a.elapsedTime.toFixed(3));a.animationName==this._name&&Math.max(r-this._startTime,0)>=this._delay&&d>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),aN(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(l,a){const d=ZP(l,"").split(","),v=QP(d,a);v>=0&&(d.splice(v,1),sA(l,"",d.join(",")))}(this._element,this._name))}}function iN(l,a,r){sA(l,"PlayState",r,oN(l,a))}function oN(l,a){const r=ZP(l,"");return r.indexOf(",")>0?QP(r.split(","),a):QP([r],a)}function QP(l,a){for(let r=0;r<l.length;r++)if(l[r].indexOf(a)>=0)return r;return-1}function aN(l,a,r){r?l.removeEventListener(rN,a):l.addEventListener(rN,a)}function sA(l,a,r,d){const v=nN+a;if(null!=d){const C=l.style[v];if(C.length){const S=C.split(",");S[d]=r,r=S.join(",")}}l.style[v]=r}function ZP(l,a){return l.style[nN+a]||""}class sN{constructor(a,r,d,v,C,S,O,T){this.element=a,this.keyframes=r,this.animationName=d,this._duration=v,this._delay=C,this._finalStyles=O,this._specialStyles=T,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=S||"linear",this.totalTime=v+C,this._buildStyler()}onStart(a){this._onStartFns.push(a)}onDone(a){this._onDoneFns.push(a)}onDestroy(a){this._onDestroyFns.push(a)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(a=>a()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(a=>a()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(a=>a()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(a){this._styler.setPosition(a)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new RB(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(a){const r="start"==a?this._onStartFns:this._onDoneFns;r.forEach(d=>d()),r.length=0}beforeDestroy(){this.init();const a={};if(this.hasStarted()){const r=this._state>=3;Object.keys(this._finalStyles).forEach(d=>{"offset"!=d&&(a[d]=r?this._finalStyles[d]:VP(this.element,d))})}this.currentSnapshot=a}}class LB extends pw{constructor(a,r){super(),this.element=a,this._startingStyles={},this.__initialized=!1,this._styles=TI(r)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(a=>{this._startingStyles[a]=this.element.style[a]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(a=>this.element.style.setProperty(a,this._styles[a])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(a=>{const r=this._startingStyles[a];r?this.element.style.setProperty(a,r):this.element.style.removeProperty(a)}),this._startingStyles=null,super.destroy())}}class uN{constructor(){this._count=0}validateStyleProperty(a){return TP(a)}matchesElement(a,r){return RP(a,r)}containsElement(a,r){return PP(a,r)}query(a,r,d){return MP(a,r,d)}computeStyle(a,r,d){return window.getComputedStyle(a)[r]}buildKeyframeElement(a,r,d){d=d.map(O=>TI(O));let v=`@keyframes ${r} {\n`,C="";d.forEach(O=>{C=" ";const T=parseFloat(O.offset);v+=`${C}${100*T}% {\n`,C+=" ",Object.keys(O).forEach(F=>{const k=O[F];switch(F){case"offset":return;case"easing":return void(k&&(v+=`${C}animation-timing-function: ${k};\n`));default:return void(v+=`${C}${F}: ${k};\n`)}}),v+=`${C}}\n`}),v+="}\n";const S=document.createElement("style");return S.textContent=v,S}animate(a,r,d,v,C,S=[],O){const T=S.filter(Te=>Te instanceof sN),F={};kI(d,v)&&T.forEach(Te=>{let Ue=Te.currentSnapshot;Object.keys(Ue).forEach(Ee=>F[Ee]=Ue[Ee])});const k=function(l){let a={};return l&&(Array.isArray(l)?l:[l]).forEach(d=>{Object.keys(d).forEach(v=>{"offset"==v||"easing"==v||(a[v]=d[v])})}),a}(r=GI(a,r,F));if(0==d)return new LB(a,k);const j="gen_css_kf_"+this._count++,Q=this.buildKeyframeElement(a,j,r);(function(l){var r;const a=null==(r=l.getRootNode)?void 0:r.call(l);return"undefined"!=typeof ShadowRoot&&a instanceof ShadowRoot?a:document.head})(a).appendChild(Q);const de=tN(a,r),_e=new sN(a,r,j,d,v,C,k,de);return _e.onDestroy(()=>{var l;(l=Q).parentNode.removeChild(l)}),_e}}class dN{constructor(a,r,d,v){this.element=a,this.keyframes=r,this.options=d,this._specialStyles=v,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=d.duration,this._delay=d.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(a=>a()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const a=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,a,this.options),this._finalKeyframe=a.length?a[a.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(a,r,d){return a.animate(r,d)}onStart(a){this._onStartFns.push(a)}onDone(a){this._onDoneFns.push(a)}onDestroy(a){this._onDestroyFns.push(a)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(a=>a()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(a=>a()),this._onDestroyFns=[])}setPosition(a){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=a*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const a={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(r=>{"offset"!=r&&(a[r]=this._finished?this._finalKeyframe[r]:VP(this.element,r))}),this.currentSnapshot=a}triggerCallback(a){const r="start"==a?this._onStartFns:this._onDoneFns;r.forEach(d=>d()),r.length=0}}class HB{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(pN().toString()),this._cssKeyframesDriver=new uN}validateStyleProperty(a){return TP(a)}matchesElement(a,r){return RP(a,r)}containsElement(a,r){return PP(a,r)}query(a,r,d){return MP(a,r,d)}computeStyle(a,r,d){return window.getComputedStyle(a)[r]}overrideWebAnimationsSupport(a){this._isNativeImpl=a}animate(a,r,d,v,C,S=[],O){if(!O&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(a,r,d,v,C,S);const k={duration:d,delay:v,fill:0==v?"both":"forwards"};C&&(k.easing=C);const j={},Q=S.filter(de=>de instanceof dN);kI(d,v)&&Q.forEach(de=>{let _e=de.currentSnapshot;Object.keys(_e).forEach(Te=>j[Te]=_e[Te])});const oe=tN(a,r=GI(a,r=r.map(de=>hm(de,!1)),j));return new dN(a,r,k,oe)}}function pN(){return SI()&&Element.prototype.animate||{}}let jB=(()=>{class l extends yI{constructor(r,d){super(),this._nextAnimationId=0,this._renderer=r.createRenderer(d.body,{id:"0",encapsulation:Ui.None,styles:[],data:{animation:[]}})}build(r){const d=this._nextAnimationId.toString();this._nextAnimationId++;const v=Array.isArray(r)?_I(r):r;return hN(this._renderer,null,d,"register",[v]),new UB(d,this._renderer)}}return l.\u0275fac=function(r){return new(r||l)(Le(jg),Le(ue))},l.\u0275prov=ot({token:l,factory:l.\u0275fac}),l})();class UB extends class{}{constructor(a,r){super(),this._id=a,this._renderer=r}create(a,r){return new zB(this._id,a,r||{},this._renderer)}}class zB{constructor(a,r,d,v){this.id=a,this.element=r,this._renderer=v,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",d)}_listen(a,r){return this._renderer.listen(this.element,`@@${this.id}:${a}`,r)}_command(a,...r){return hN(this._renderer,this.element,this.id,a,r)}onDone(a){this._listen("done",a)}onStart(a){this._listen("start",a)}onDestroy(a){this._listen("destroy",a)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(a){this._command("setPosition",a)}getPosition(){var a,r;return null!=(r=null==(a=this._renderer.engine.players[+this.id])?void 0:a.getPosition())?r:0}}function hN(l,a,r,d,v){return l.setProperty(a,`@@${r}:${d}`,v)}const fN="@.disabled";let $B=(()=>{class l{constructor(r,d,v){this.delegate=r,this.engine=d,this._zone=v,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),d.onRemovalComplete=(C,S)=>{const O=null==S?void 0:S.parentNode(C);O&&S.removeChild(O,C)}}createRenderer(r,d){const C=this.delegate.createRenderer(r,d);if(!(r&&d&&d.data&&d.data.animation)){let k=this._rendererCache.get(C);return k||(k=new gN("",C,this.engine),this._rendererCache.set(C,k)),k}const S=d.id,O=d.id+"-"+this._currentId;this._currentId++,this.engine.register(O,r);const T=k=>{Array.isArray(k)?k.forEach(T):this.engine.registerTrigger(S,O,r,k.name,k)};return d.data.animation.forEach(T),new KB(this,O,C,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(r,d,v){r>=0&&r<this._microtaskId?this._zone.run(()=>d(v)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(C=>{const[S,O]=C;S(O)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([d,v]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return l.\u0275fac=function(r){return new(r||l)(Le(jg),Le(aA),Le(Xt))},l.\u0275prov=ot({token:l,factory:l.\u0275fac}),l})();class gN{constructor(a,r,d){this.namespaceId=a,this.delegate=r,this.engine=d,this.destroyNode=this.delegate.destroyNode?v=>r.destroyNode(v):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(a,r){return this.delegate.createElement(a,r)}createComment(a){return this.delegate.createComment(a)}createText(a){return this.delegate.createText(a)}appendChild(a,r){this.delegate.appendChild(a,r),this.engine.onInsert(this.namespaceId,r,a,!1)}insertBefore(a,r,d,v=!0){this.delegate.insertBefore(a,r,d),this.engine.onInsert(this.namespaceId,r,a,v)}removeChild(a,r,d){this.engine.onRemove(this.namespaceId,r,this.delegate,d)}selectRootElement(a,r){return this.delegate.selectRootElement(a,r)}parentNode(a){return this.delegate.parentNode(a)}nextSibling(a){return this.delegate.nextSibling(a)}setAttribute(a,r,d,v){this.delegate.setAttribute(a,r,d,v)}removeAttribute(a,r,d){this.delegate.removeAttribute(a,r,d)}addClass(a,r){this.delegate.addClass(a,r)}removeClass(a,r){this.delegate.removeClass(a,r)}setStyle(a,r,d,v){this.delegate.setStyle(a,r,d,v)}removeStyle(a,r,d){this.delegate.removeStyle(a,r,d)}setProperty(a,r,d){"@"==r.charAt(0)&&r==fN?this.disableAnimations(a,!!d):this.delegate.setProperty(a,r,d)}setValue(a,r){this.delegate.setValue(a,r)}listen(a,r,d){return this.delegate.listen(a,r,d)}disableAnimations(a,r){this.engine.disableAnimations(a,r)}}class KB extends gN{constructor(a,r,d,v){super(r,d,v),this.factory=a,this.namespaceId=r}setProperty(a,r,d){"@"==r.charAt(0)?"."==r.charAt(1)&&r==fN?this.disableAnimations(a,d=void 0===d||!!d):this.engine.process(this.namespaceId,a,r.substr(1),d):this.delegate.setProperty(a,r,d)}listen(a,r,d){if("@"==r.charAt(0)){const v=function(l){switch(l){case"body":return document.body;case"document":return document;case"window":return window;default:return l}}(a);let C=r.substr(1),S="";return"@"!=C.charAt(0)&&([C,S]=function(l){const a=l.indexOf(".");return[l.substring(0,a),l.substr(a+1)]}(C)),this.engine.listen(this.namespaceId,v,C,S,O=>{this.factory.scheduleListenerCallback(O._data||-1,d,O)})}return this.delegate.listen(a,r,d)}}let XB=(()=>{class l extends aA{constructor(r,d,v){super(r.body,d,v)}ngOnDestroy(){this.flush()}}return l.\u0275fac=function(r){return new(r||l)(Le(ue),Le(FP),Le(zP))},l.\u0275prov=ot({token:l,factory:l.\u0275fac}),l})();const Bd=new Xe("AnimationModuleType"),mN=[{provide:yI,useClass:jB},{provide:zP,useFactory:function(){return new rB}},{provide:aA,useClass:XB},{provide:jg,useFactory:function(l,a,r){return new $B(l,a,r)},deps:[Ix,aA,Xt]}],vN=[{provide:FP,useFactory:function(){return"function"==typeof pN()?new HB:new uN}},{provide:Bd,useValue:"BrowserAnimations"},...mN],yN=[{provide:FP,useClass:RI},{provide:Bd,useValue:"NoopAnimations"},...mN];let eH=(()=>{class l{static withConfig(r){return{ngModule:l,providers:r.disableAnimations?yN:vN}}}return l.\u0275fac=function(r){return new(r||l)},l.\u0275mod=Tt({type:l}),l.\u0275inj=_t({providers:vN,imports:[uP]}),l})(),tH=(()=>{class l{}return l.\u0275fac=function(r){return new(r||l)},l.\u0275mod=Tt({type:l}),l.\u0275inj=_t({providers:yN,imports:[uP]}),l})();const rH=new Xe("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let Dr=(()=>{class l{constructor(r,d,v){this._sanityChecks=d,this._document=v,this._hasDoneGlobalChecks=!1,r._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(r){return!fP()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[r])}}return l.\u0275fac=function(r){return new(r||l)(Le(fI),Le(rH,8),Le(ue))},l.\u0275mod=Tt({type:l}),l.\u0275inj=_t({imports:[[U0],U0]}),l})();function JP(l){return class extends l{constructor(...a){super(...a),this._disabled=!1}get disabled(){return this._disabled}set disabled(a){this._disabled=xn(a)}}}function gw(l,a){return class extends l{constructor(...r){super(...r),this.defaultColor=a,this.color=a}get color(){return this._color}set color(r){const d=r||this.defaultColor;d!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),d&&this._elementRef.nativeElement.classList.add(`mat-${d}`),this._color=d)}}}function mw(l){return class extends l{constructor(...a){super(...a),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(a){this._disableRipple=xn(a)}}}function CN(l,a=0){return class extends l{constructor(...r){super(...r),this._tabIndex=a,this.defaultTabIndex=a}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(r){this._tabIndex=null!=r?Wx(r):this.defaultTabIndex}}}function bN(l){return class extends l{constructor(...a){super(...a),this.stateChanges=new Mt,this.errorState=!1}updateErrorState(){const a=this.errorState,C=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);C!==a&&(this.errorState=C,this.stateChanges.next())}}}const iH=new Xe("MAT_DATE_LOCALE",{providedIn:"root",factory:function(){return Ru(cc)}});class yi{constructor(){this._localeChanges=new Mt,this.localeChanges=this._localeChanges}getValidDateOrNull(a){return this.isDateInstance(a)&&this.isValid(a)?a:null}deserialize(a){return null==a||this.isDateInstance(a)&&this.isValid(a)?a:this.invalid()}setLocale(a){this.locale=a,this._localeChanges.next()}compareDate(a,r){return this.getYear(a)-this.getYear(r)||this.getMonth(a)-this.getMonth(r)||this.getDate(a)-this.getDate(r)}sameDate(a,r){if(a&&r){let d=this.isValid(a),v=this.isValid(r);return d&&v?!this.compareDate(a,r):d==v}return a==r}clampDate(a,r,d){return r&&this.compareDate(a,r)<0?r:d&&this.compareDate(a,d)>0?d:a}}const Hd=new Xe("mat-date-formats"),aH=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function eM(l,a){const r=Array(l);for(let d=0;d<l;d++)r[d]=a(d);return r}let sH=(()=>{class l extends yi{constructor(r,d){super(),this.useUtcForDisplay=!1,super.setLocale(r)}getYear(r){return r.getFullYear()}getMonth(r){return r.getMonth()}getDate(r){return r.getDate()}getDayOfWeek(r){return r.getDay()}getMonthNames(r){const d=new Intl.DateTimeFormat(this.locale,{month:r,timeZone:"utc"});return eM(12,v=>this._format(d,new Date(2017,v,1)))}getDateNames(){const r=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return eM(31,d=>this._format(r,new Date(2017,0,d+1)))}getDayOfWeekNames(r){const d=new Intl.DateTimeFormat(this.locale,{weekday:r,timeZone:"utc"});return eM(7,v=>this._format(d,new Date(2017,0,v+1)))}getYearName(r){const d=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(d,r)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(r){return this.getDate(this._createDateWithOverflow(this.getYear(r),this.getMonth(r)+1,0))}clone(r){return new Date(r.getTime())}createDate(r,d,v){let C=this._createDateWithOverflow(r,d,v);return C.getMonth(),C}today(){return new Date}parse(r){return"number"==typeof r?new Date(r):r?new Date(Date.parse(r)):null}format(r,d){if(!this.isValid(r))throw Error("NativeDateAdapter: Cannot format invalid date.");const v=new Intl.DateTimeFormat(this.locale,Cm(An({},d),{timeZone:"utc"}));return this._format(v,r)}addCalendarYears(r,d){return this.addCalendarMonths(r,12*d)}addCalendarMonths(r,d){let v=this._createDateWithOverflow(this.getYear(r),this.getMonth(r)+d,this.getDate(r));return this.getMonth(v)!=((this.getMonth(r)+d)%12+12)%12&&(v=this._createDateWithOverflow(this.getYear(v),this.getMonth(v),0)),v}addCalendarDays(r,d){return this._createDateWithOverflow(this.getYear(r),this.getMonth(r),this.getDate(r)+d)}toIso8601(r){return[r.getUTCFullYear(),this._2digit(r.getUTCMonth()+1),this._2digit(r.getUTCDate())].join("-")}deserialize(r){if("string"==typeof r){if(!r)return null;if(aH.test(r)){let d=new Date(r);if(this.isValid(d))return d}}return super.deserialize(r)}isDateInstance(r){return r instanceof Date}isValid(r){return!isNaN(r.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(r,d,v){const C=new Date;return C.setFullYear(r,d,v),C.setHours(0,0,0,0),C}_2digit(r){return("00"+r).slice(-2)}_format(r,d){const v=new Date;return v.setUTCFullYear(d.getFullYear(),d.getMonth(),d.getDate()),v.setUTCHours(d.getHours(),d.getMinutes(),d.getSeconds(),d.getMilliseconds()),r.format(v)}}return l.\u0275fac=function(r){return new(r||l)(Le(iH,8),Le(ha))},l.\u0275prov=ot({token:l,factory:l.\u0275fac}),l})();const lH={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let uH=(()=>{class l{}return l.\u0275fac=function(r){return new(r||l)},l.\u0275mod=Tt({type:l}),l.\u0275inj=_t({providers:[{provide:yi,useClass:sH}],imports:[[aw]]}),l})(),wN=(()=>{class l{}return l.\u0275fac=function(r){return new(r||l)},l.\u0275mod=Tt({type:l}),l.\u0275inj=_t({providers:[{provide:Hd,useValue:lH}],imports:[[uH]]}),l})(),K0=(()=>{class l{isErrorState(r,d){return!!(r&&r.invalid&&(r.touched||d&&d.submitted))}}return l.\u0275fac=function(r){return new(r||l)},l.\u0275prov=ot({token:l,factory:l.\u0275fac,providedIn:"root"}),l})(),SN=(()=>{class l{}return l.\u0275fac=function(r){return new(r||l)},l.\u0275dir=Ke({type:l,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),l})();function Y0(l,a,r){l.nativeElement.classList.toggle(a,r)}let DN=(()=>{class l{}return l.\u0275fac=function(r){return new(r||l)},l.\u0275mod=Tt({type:l}),l.\u0275inj=_t({imports:[[Dr],Dr]}),l})();class cH{constructor(a,r,d){this._renderer=a,this.element=r,this.config=d,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const ON={enterDuration:225,exitDuration:150},tM=B0({passive:!0}),xN=["mousedown","touchstart"],AN=["mouseup","mouseleave","touchend","touchcancel"];class pH{constructor(a,r,d,v){this._target=a,this._ngZone=r,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,v.isBrowser&&(this._containerElement=Rh(d))}fadeInRipple(a,r,d={}){const v=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),C=An(An({},ON),d.animation);d.centered&&(a=v.left+v.width/2,r=v.top+v.height/2);const S=d.radius||function(l,a,r){const d=Math.max(Math.abs(l-r.left),Math.abs(l-r.right)),v=Math.max(Math.abs(a-r.top),Math.abs(a-r.bottom));return Math.sqrt(d*d+v*v)}(a,r,v),O=a-v.left,T=r-v.top,F=C.enterDuration,k=document.createElement("div");k.classList.add("mat-ripple-element"),k.style.left=O-S+"px",k.style.top=T-S+"px",k.style.height=2*S+"px",k.style.width=2*S+"px",null!=d.color&&(k.style.backgroundColor=d.color),k.style.transitionDuration=`${F}ms`,this._containerElement.appendChild(k),window.getComputedStyle(k).getPropertyValue("opacity"),k.style.transform="scale(1)";const j=new cH(this,k,d);return j.state=0,this._activeRipples.add(j),d.persistent||(this._mostRecentTransientRipple=j),this._runTimeoutOutsideZone(()=>{const Q=j===this._mostRecentTransientRipple;j.state=1,!d.persistent&&(!Q||!this._isPointerDown)&&j.fadeOut()},F),j}fadeOutRipple(a){const r=this._activeRipples.delete(a);if(a===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!r)return;const d=a.element,v=An(An({},ON),a.config.animation);d.style.transitionDuration=`${v.exitDuration}ms`,d.style.opacity="0",a.state=2,this._runTimeoutOutsideZone(()=>{a.state=3,d.remove()},v.exitDuration)}fadeOutAll(){this._activeRipples.forEach(a=>a.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(a=>{a.config.persistent||a.fadeOut()})}setupTriggerEvents(a){const r=Rh(a);!r||r===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=r,this._registerEvents(xN))}handleEvent(a){"mousedown"===a.type?this._onMousedown(a):"touchstart"===a.type?this._onTouchStart(a):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(AN),this._pointerUpEventsRegistered=!0)}_onMousedown(a){const r=lI(a),d=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!r&&!d&&(this._isPointerDown=!0,this.fadeInRipple(a.clientX,a.clientY,this._target.rippleConfig))}_onTouchStart(a){if(!this._target.rippleDisabled&&!uI(a)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const r=a.changedTouches;for(let d=0;d<r.length;d++)this.fadeInRipple(r[d].clientX,r[d].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(a=>{!a.config.persistent&&(1===a.state||a.config.terminateOnPointerUp&&0===a.state)&&a.fadeOut()}))}_runTimeoutOutsideZone(a,r=0){this._ngZone.runOutsideAngular(()=>setTimeout(a,r))}_registerEvents(a){this._ngZone.runOutsideAngular(()=>{a.forEach(r=>{this._triggerElement.addEventListener(r,this,tM)})})}_removeTriggerEvents(){this._triggerElement&&(xN.forEach(a=>{this._triggerElement.removeEventListener(a,this,tM)}),this._pointerUpEventsRegistered&&AN.forEach(a=>{this._triggerElement.removeEventListener(a,this,tM)}))}}const gH=new Xe("mat-ripple-global-options");let vw=(()=>{class l{constructor(r,d,v,C,S){this._elementRef=r,this._animationMode=S,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=C||{},this._rippleRenderer=new pH(this,d,r,v)}get disabled(){return this._disabled}set disabled(r){r&&this.fadeOutAllNonPersistent(),this._disabled=r,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(r){this._trigger=r,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:An(An(An({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(r,d=0,v){return"number"==typeof r?this._rippleRenderer.fadeInRipple(r,d,An(An({},this.rippleConfig),v)):this._rippleRenderer.fadeInRipple(0,0,An(An({},this.rippleConfig),r))}}return l.\u0275fac=function(r){return new(r||l)(ne(Lt),ne(Xt),ne(ha),ne(gH,8),ne(Bd,8))},l.\u0275dir=Ke({type:l,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(r,d){2&r&&G("mat-ripple-unbounded",d.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),l})(),uA=(()=>{class l{}return l.\u0275fac=function(r){return new(r||l)},l.\u0275mod=Tt({type:l}),l.\u0275inj=_t({imports:[[Dr,aw],Dr]}),l})(),TN=(()=>{class l{}return l.\u0275fac=function(r){return new(r||l)},l.\u0275mod=Tt({type:l}),l.\u0275inj=_t({imports:[[Dr]]}),l})();const vH=["*",[["mat-toolbar-row"]]],yH=["*","mat-toolbar-row"],_H=gw(class{constructor(l){this._elementRef=l}});let CH=(()=>{class l{}return l.\u0275fac=function(r){return new(r||l)},l.\u0275dir=Ke({type:l,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),l})(),bH=(()=>{class l extends _H{constructor(r,d,v){super(r),this._platform=d,this._document=v}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return l.\u0275fac=function(r){return new(r||l)(ne(Lt),ne(ha),ne(ue))},l.\u0275cmp=Yt({type:l,selectors:[["mat-toolbar"]],contentQueries:function(r,d,v){if(1&r&&rn(v,CH,5),2&r){let C;rt(C=ht())&&(d._toolbarRows=C)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(r,d){2&r&&G("mat-toolbar-multiple-rows",d._toolbarRows.length>0)("mat-toolbar-single-row",0===d._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[Pt],ngContentSelectors:yH,decls:2,vars:0,template:function(r,d){1&r&&(ir(vH),vt(0),vt(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),l})(),wH=(()=>{class l{}return l.\u0275fac=function(r){return new(r||l)},l.\u0275mod=Tt({type:l}),l.\u0275inj=_t({imports:[[Dr],Dr]}),l})();const{isArray:SH}=Array;function RN(l){return oi(a=>function(l,a){return SH(a)?l(...a):l(a)}(l,a))}const DH=["addListener","removeListener"],OH=["addEventListener","removeEventListener"],xH=["on","off"];function Wd(l,a,r,d){if(J(r)&&(d=r,r=void 0),d)return Wd(l,a,r).pipe(RN(d));const[v,C]=function(l){return J(l.addEventListener)&&J(l.removeEventListener)}(l)?OH.map(S=>O=>l[S](a,O,r)):function(l){return J(l.addListener)&&J(l.removeListener)}(l)?DH.map(PN(l,a)):function(l){return J(l.on)&&J(l.off)}(l)?xH.map(PN(l,a)):[];if(!v&&Dm(l))return Xa(S=>Wd(S,a,r))(Pn(l));if(!v)throw new TypeError("Invalid event target");return new ur(S=>{const O=(...T)=>S.next(1<T.length?T:T[0]);return v(O),()=>C(O)})}function PN(l,a){return r=>d=>l[r](a,d)}const q0={schedule(l){let a=requestAnimationFrame,r=cancelAnimationFrame;const{delegate:d}=q0;d&&(a=d.requestAnimationFrame,r=d.cancelAnimationFrame);const v=a(C=>{r=void 0,l(C)});return new an(()=>null==r?void 0:r(v))},requestAnimationFrame(...l){const{delegate:a}=q0;return((null==a?void 0:a.requestAnimationFrame)||requestAnimationFrame)(...l)},cancelAnimationFrame(...l){const{delegate:a}=q0;return((null==a?void 0:a.cancelAnimationFrame)||cancelAnimationFrame)(...l)},delegate:void 0},MN=new class extends _P{flush(a){this._active=!0,this._scheduled=void 0;const{actions:r}=this;let d,v=-1;a=a||r.shift();const C=r.length;do{if(d=a.execute(a.state,a.delay))break}while(++v<C&&(a=r.shift()));if(this._active=!1,d){for(;++v<C&&(a=r.shift());)a.unsubscribe();throw d}}}(class extends yP{constructor(a,r){super(a,r),this.scheduler=a,this.work=r}requestAsyncId(a,r,d=0){return null!==d&&d>0?super.requestAsyncId(a,r,d):(a.actions.push(this),a._scheduled||(a._scheduled=q0.requestAnimationFrame(()=>a.flush(void 0))))}recycleAsyncId(a,r,d=0){if(null!=d&&d>0||null==d&&this.delay>0)return super.recycleAsyncId(a,r,d);0===a.actions.length&&(q0.cancelAnimationFrame(r),a._scheduled=void 0)}});let nM,FH=1;const cA={};function FN(l){return l in cA&&(delete cA[l],!0)}const IH={setImmediate(l){const a=FH++;return cA[a]=!0,nM||(nM=Promise.resolve()),nM.then(()=>FN(a)&&l()),a},clearImmediate(l){FN(l)}},{setImmediate:NH,clearImmediate:LH}=IH,dA={setImmediate(...l){const{delegate:a}=dA;return((null==a?void 0:a.setImmediate)||NH)(...l)},clearImmediate(l){const{delegate:a}=dA;return((null==a?void 0:a.clearImmediate)||LH)(l)},delegate:void 0},IN=new class extends _P{flush(a){this._active=!0,this._scheduled=void 0;const{actions:r}=this;let d,v=-1;a=a||r.shift();const C=r.length;do{if(d=a.execute(a.state,a.delay))break}while(++v<C&&(a=r.shift()));if(this._active=!1,d){for(;++v<C&&(a=r.shift());)a.unsubscribe();throw d}}}(class extends yP{constructor(a,r){super(a,r),this.scheduler=a,this.work=r}requestAsyncId(a,r,d=0){return null!==d&&d>0?super.requestAsyncId(a,r,d):(a.actions.push(this),a._scheduled||(a._scheduled=dA.setImmediate(a.flush.bind(a,void 0))))}recycleAsyncId(a,r,d=0){if(null!=d&&d>0||null==d&&this.delay>0)return super.recycleAsyncId(a,r,d);0===a.actions.length&&(dA.clearImmediate(r),a._scheduled=void 0)}});function rM(l,a=XF){return function(l){return Wi((a,r)=>{let d=!1,v=null,C=null,S=!1;const O=()=>{if(null==C||C.unsubscribe(),C=null,d){d=!1;const F=v;v=null,r.next(F)}S&&r.complete()},T=()=>{C=null,S&&r.complete()};a.subscribe(new Ci(r,F=>{d=!0,v=F,C||Pn(l()).subscribe(C=new Ci(r,O,T))},()=>{S=!0,(!d||!C||C.closed)&&r.complete()}))})}(()=>function(l=0,a,r=XF){let d=-1;return null!=a&&(Tm(a)?r=a:d=a),new ur(v=>{let C=function(l){return l instanceof Date&&!isNaN(l)}(l)?+l-r.now():l;C<0&&(C=0);let S=0;return r.schedule(function(){v.closed||(v.next(S++),0<=d?this.schedule(void 0,d):v.complete())},C)})}(l,a))}let pA=(()=>{class l{constructor(r,d,v){this._ngZone=r,this._platform=d,this._scrolled=new Mt,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=v}register(r){this.scrollContainers.has(r)||this.scrollContainers.set(r,r.elementScrolled().subscribe(()=>this._scrolled.next(r)))}deregister(r){const d=this.scrollContainers.get(r);d&&(d.unsubscribe(),this.scrollContainers.delete(r))}scrolled(r=20){return this._platform.isBrowser?new ur(d=>{this._globalSubscription||this._addGlobalListener();const v=r>0?this._scrolled.pipe(rM(r)).subscribe(d):this._scrolled.subscribe(d);return this._scrolledCount++,()=>{v.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):mc()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((r,d)=>this.deregister(d)),this._scrolled.complete()}ancestorScrolled(r,d){const v=this.getAncestorScrollContainers(r);return this.scrolled(d).pipe(fa(C=>!C||v.indexOf(C)>-1))}getAncestorScrollContainers(r){const d=[];return this.scrollContainers.forEach((v,C)=>{this._scrollableContainsElement(C,r)&&d.push(C)}),d}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(r,d){let v=Rh(d),C=r.getElementRef().nativeElement;do{if(v==C)return!0}while(v=v.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Wd(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return l.\u0275fac=function(r){return new(r||l)(Le(Xt),Le(ha),Le(ue,8))},l.\u0275prov=ot({token:l,factory:l.\u0275fac,providedIn:"root"}),l})(),X0=(()=>{class l{constructor(r,d,v,C){this.elementRef=r,this.scrollDispatcher=d,this.ngZone=v,this.dir=C,this._destroyed=new Mt,this._elementScrolled=new ur(S=>this.ngZone.runOutsideAngular(()=>Wd(this.elementRef.nativeElement,"scroll").pipe(Er(this._destroyed)).subscribe(S)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(r){const d=this.elementRef.nativeElement,v=this.dir&&"rtl"==this.dir.value;null==r.left&&(r.left=v?r.end:r.start),null==r.right&&(r.right=v?r.start:r.end),null!=r.bottom&&(r.top=d.scrollHeight-d.clientHeight-r.bottom),v&&0!=H0()?(null!=r.left&&(r.right=d.scrollWidth-d.clientWidth-r.left),2==H0()?r.left=r.right:1==H0()&&(r.left=r.right?-r.right:r.right)):null!=r.right&&(r.left=d.scrollWidth-d.clientWidth-r.right),this._applyScrollToOptions(r)}_applyScrollToOptions(r){const d=this.elementRef.nativeElement;zF()?d.scrollTo(r):(null!=r.top&&(d.scrollTop=r.top),null!=r.left&&(d.scrollLeft=r.left))}measureScrollOffset(r){const d="left",v="right",C=this.elementRef.nativeElement;if("top"==r)return C.scrollTop;if("bottom"==r)return C.scrollHeight-C.clientHeight-C.scrollTop;const S=this.dir&&"rtl"==this.dir.value;return"start"==r?r=S?v:d:"end"==r&&(r=S?d:v),S&&2==H0()?r==d?C.scrollWidth-C.clientWidth-C.scrollLeft:C.scrollLeft:S&&1==H0()?r==d?C.scrollLeft+C.scrollWidth-C.clientWidth:-C.scrollLeft:r==d?C.scrollLeft:C.scrollWidth-C.clientWidth-C.scrollLeft}}return l.\u0275fac=function(r){return new(r||l)(ne(Lt),ne(pA),ne(Xt),ne(dm,8))},l.\u0275dir=Ke({type:l,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),l})(),iM=(()=>{class l{constructor(r,d,v){this._platform=r,this._change=new Mt,this._changeListener=C=>{this._change.next(C)},this._document=v,d.runOutsideAngular(()=>{if(r.isBrowser){const C=this._getWindow();C.addEventListener("resize",this._changeListener),C.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const r=this._getWindow();r.removeEventListener("resize",this._changeListener),r.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const r={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),r}getViewportRect(){const r=this.getViewportScrollPosition(),{width:d,height:v}=this.getViewportSize();return{top:r.top,left:r.left,bottom:r.top+v,right:r.left+d,height:v,width:d}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const r=this._document,d=this._getWindow(),v=r.documentElement,C=v.getBoundingClientRect();return{top:-C.top||r.body.scrollTop||d.scrollY||v.scrollTop||0,left:-C.left||r.body.scrollLeft||d.scrollX||v.scrollLeft||0}}change(r=20){return r>0?this._change.pipe(rM(r)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const r=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:r.innerWidth,height:r.innerHeight}:{width:0,height:0}}}return l.\u0275fac=function(r){return new(r||l)(Le(ha),Le(Xt),Le(ue,8))},l.\u0275prov=ot({token:l,factory:l.\u0275fac,providedIn:"root"}),l})(),Q0=(()=>{class l{}return l.\u0275fac=function(r){return new(r||l)},l.\u0275mod=Tt({type:l}),l.\u0275inj=_t({}),l})(),NN=(()=>{class l{}return l.\u0275fac=function(r){return new(r||l)},l.\u0275mod=Tt({type:l}),l.\u0275inj=_t({imports:[[U0,aw,Q0],U0,Q0]}),l})();function LN(l){return oi(()=>l)}const hA=["*"],UH=["content"];function zH(l,a){if(1&l){const r=Vr();Ce(0,"div",2),Ct("click",function(){return In(r),ct()._onBackdropClicked()}),be()}2&l&&G("mat-drawer-shown",ct()._isShowingBackdrop())}function $H(l,a){1&l&&(Ce(0,"mat-drawer-content"),vt(1,2),be())}const KH=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],YH=["mat-drawer","mat-drawer-content","*"];function qH(l,a){if(1&l){const r=Vr();Ce(0,"div",2),Ct("click",function(){return In(r),ct()._onBackdropClicked()}),be()}2&l&&G("mat-drawer-shown",ct()._isShowingBackdrop())}function XH(l,a){1&l&&(Ce(0,"mat-sidenav-content"),vt(1,2),be())}const QH=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],ZH=["mat-sidenav","mat-sidenav-content","*"],kN={transformDrawer:g_("transform",[nu("open, open-instant",di({transform:"none",visibility:"visible"})),nu("void",di({"box-shadow":"none",visibility:"hidden"})),ru("void => open-instant",tu("0ms")),ru("void <=> open, open-instant => void",tu("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},eW=new Xe("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function(){return!1}}),oM=new Xe("MAT_DRAWER_CONTAINER");let fA=(()=>{class l extends X0{constructor(r,d,v,C,S){super(v,C,S),this._changeDetectorRef=r,this._container=d}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return l.\u0275fac=function(r){return new(r||l)(ne(Br),ne(fn(()=>VN)),ne(Lt),ne(pA),ne(Xt))},l.\u0275cmp=Yt({type:l,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(r,d){2&r&&L("margin-left",d._container._contentMargins.left,"px")("margin-right",d._container._contentMargins.right,"px")},features:[yt([{provide:X0,useExisting:l}]),Pt],ngContentSelectors:hA,decls:1,vars:0,template:function(r,d){1&r&&(ir(),vt(0))},encapsulation:2,changeDetection:0}),l})(),GN=(()=>{class l{constructor(r,d,v,C,S,O,T,F){this._elementRef=r,this._focusTrapFactory=d,this._focusMonitor=v,this._platform=C,this._ngZone=S,this._interactivityChecker=O,this._doc=T,this._container=F,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new Mt,this._animationEnd=new Mt,this._animationState="void",this.openedChange=new he(!0),this._openedStream=this.openedChange.pipe(fa(k=>k),oi(()=>{})),this.openedStart=this._animationStarted.pipe(fa(k=>k.fromState!==k.toState&&0===k.toState.indexOf("open")),LN(void 0)),this._closedStream=this.openedChange.pipe(fa(k=>!k),oi(()=>{})),this.closedStart=this._animationStarted.pipe(fa(k=>k.fromState!==k.toState&&"void"===k.toState),LN(void 0)),this._destroyed=new Mt,this.onPositionChanged=new he,this._modeChanged=new Mt,this.openedChange.subscribe(k=>{k?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{Wd(this._elementRef.nativeElement,"keydown").pipe(fa(k=>27===k.keyCode&&!this.disableClose&&!cm(k)),Er(this._destroyed)).subscribe(k=>this._ngZone.run(()=>{this.close(),k.stopPropagation(),k.preventDefault()}))}),this._animationEnd.pipe(CP((k,j)=>k.fromState===j.fromState&&k.toState===j.toState)).subscribe(k=>{const{fromState:j,toState:Q}=k;(0===Q.indexOf("open")&&"void"===j||"void"===Q&&0===j.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(r){(r="end"===r?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(r),this._position=r,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(r){this._mode=r,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(r){this._disableClose=xn(r)}get autoFocus(){const r=this._autoFocus;return null==r?"side"===this.mode?"dialog":"first-tabbable":r}set autoFocus(r){("true"===r||"false"===r||null==r)&&(r=xn(r)),this._autoFocus=r}get opened(){return this._opened}set opened(r){this.toggle(xn(r))}_forceFocus(r,d){this._interactivityChecker.isFocusable(r)||(r.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{r.addEventListener("blur",()=>r.removeAttribute("tabindex")),r.addEventListener("mousedown",()=>r.removeAttribute("tabindex"))})),r.focus(d)}_focusByCssSelector(r,d){let v=this._elementRef.nativeElement.querySelector(r);v&&this._forceFocus(v,d)}_takeFocus(){if(!this._focusTrap)return;const r=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(d=>{!d&&"function"==typeof this._elementRef.nativeElement.focus&&r.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(r){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,r):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const r=this._doc.activeElement;return!!r&&this._elementRef.nativeElement.contains(r)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){var r;this._focusTrap&&this._focusTrap.destroy(),null==(r=this._anchor)||r.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(r){return this.toggle(!0,r)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(r=!this.opened,d){r&&d&&(this._openedVia=d);const v=this._setOpen(r,!r&&this._isFocusWithinDrawer(),this._openedVia||"program");return r||(this._openedVia=null),v}_setOpen(r,d,v){return this._opened=r,r?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",d&&this._restoreFocus(v)),this._updateFocusTrapState(),new Promise(C=>{this.openedChange.pipe(fo(1)).subscribe(S=>C(S?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_updatePositionInParent(r){const d=this._elementRef.nativeElement,v=d.parentNode;"end"===r?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),v.insertBefore(this._anchor,d)),v.appendChild(d)):this._anchor&&this._anchor.parentNode.insertBefore(d,this._anchor)}}return l.\u0275fac=function(r){return new(r||l)(ne(Lt),ne(sI),ne(dw),ne(ha),ne(Xt),ne(iI),ne(ue,8),ne(oM,8))},l.\u0275cmp=Yt({type:l,selectors:[["mat-drawer"]],viewQuery:function(r,d){if(1&r&&gr(UH,5),2&r){let v;rt(v=ht())&&(d._content=v.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(r,d){1&r&&wg("@transform.start",function(C){return d._animationStarted.next(C)})("@transform.done",function(C){return d._animationEnd.next(C)}),2&r&&(zt("align",null),Bb("@transform",d._animationState),G("mat-drawer-end","end"===d.position)("mat-drawer-over","over"===d.mode)("mat-drawer-push","push"===d.mode)("mat-drawer-side","side"===d.mode)("mat-drawer-opened",d.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:hA,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(r,d){1&r&&(ir(),Ce(0,"div",0,1),vt(2),be())},directives:[X0],encapsulation:2,data:{animation:[kN.transformDrawer]},changeDetection:0}),l})(),VN=(()=>{class l{constructor(r,d,v,C,S,O=!1,T){this._dir=r,this._element=d,this._ngZone=v,this._changeDetectorRef=C,this._animationMode=T,this._drawers=new Sr,this.backdropClick=new he,this._destroyed=new Mt,this._doCheckSubject=new Mt,this._contentMargins={left:null,right:null},this._contentMarginChanges=new Mt,r&&r.change.pipe(Er(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),S.change().pipe(Er(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=O}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(r){this._autosize=xn(r)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(r){this._backdropOverride=null==r?null:xn(r)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe(pl(this._allDrawers),Er(this._destroyed)).subscribe(r=>{this._drawers.reset(r.filter(d=>!d._container||d._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(pl(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(r=>{this._watchDrawerToggle(r),this._watchDrawerPosition(r),this._watchDrawerMode(r)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(Hx(10),Er(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(r=>r.open())}close(){this._drawers.forEach(r=>r.close())}updateContentMargins(){let r=0,d=0;if(this._left&&this._left.opened)if("side"==this._left.mode)r+=this._left._getWidth();else if("push"==this._left.mode){const v=this._left._getWidth();r+=v,d-=v}if(this._right&&this._right.opened)if("side"==this._right.mode)d+=this._right._getWidth();else if("push"==this._right.mode){const v=this._right._getWidth();d+=v,r-=v}r=r||null,d=d||null,(r!==this._contentMargins.left||d!==this._contentMargins.right)&&(this._contentMargins={left:r,right:d},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(r){r._animationStarted.pipe(fa(d=>d.fromState!==d.toState),Er(this._drawers.changes)).subscribe(d=>{"open-instant"!==d.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==r.mode&&r.openedChange.pipe(Er(this._drawers.changes)).subscribe(()=>this._setContainerClass(r.opened))}_watchDrawerPosition(r){!r||r.onPositionChanged.pipe(Er(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(fo(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(r){r&&r._modeChanged.pipe(Er(Ge(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(r){const d=this._element.nativeElement.classList,v="mat-drawer-container-has-open";r?d.add(v):d.remove(v)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(r=>{"end"==r.position?this._end=r:this._start=r}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(r=>r&&!r.disableClose&&this._canHaveBackdrop(r)).forEach(r=>r._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(r){return"side"!==r.mode||!!this._backdropOverride}_isDrawerOpen(r){return null!=r&&r.opened}}return l.\u0275fac=function(r){return new(r||l)(ne(dm,8),ne(Lt),ne(Xt),ne(Br),ne(iM),ne(eW),ne(Bd,8))},l.\u0275cmp=Yt({type:l,selectors:[["mat-drawer-container"]],contentQueries:function(r,d,v){if(1&r&&(rn(v,fA,5),rn(v,GN,5)),2&r){let C;rt(C=ht())&&(d._content=C.first),rt(C=ht())&&(d._allDrawers=C)}},viewQuery:function(r,d){if(1&r&&gr(fA,5),2&r){let v;rt(v=ht())&&(d._userContent=v.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(r,d){2&r&&G("mat-drawer-container-explicit-backdrop",d._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[yt([{provide:oM,useExisting:l}])],ngContentSelectors:YH,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(r,d){1&r&&(ir(KH),ut(0,zH,1,2,"div",0),vt(1),vt(2,1),ut(3,$H,2,0,"mat-drawer-content",1)),2&r&&(ze("ngIf",d.hasBackdrop),Be(3),ze("ngIf",!d._content))},directives:[fc,fA],styles:[".mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n"],encapsulation:2,changeDetection:0}),l})(),BN=(()=>{class l extends fA{constructor(r,d,v,C,S){super(r,d,v,C,S)}}return l.\u0275fac=function(r){return new(r||l)(ne(Br),ne(fn(()=>WN)),ne(Lt),ne(pA),ne(Xt))},l.\u0275cmp=Yt({type:l,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(r,d){2&r&&L("margin-left",d._container._contentMargins.left,"px")("margin-right",d._container._contentMargins.right,"px")},features:[yt([{provide:X0,useExisting:l}]),Pt],ngContentSelectors:hA,decls:1,vars:0,template:function(r,d){1&r&&(ir(),vt(0))},encapsulation:2,changeDetection:0}),l})(),HN=(()=>{class l extends GN{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(r){this._fixedInViewport=xn(r)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(r){this._fixedTopGap=Wx(r)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(r){this._fixedBottomGap=Wx(r)}}return l.\u0275fac=function(){let a;return function(d){return(a||(a=fr(l)))(d||l)}}(),l.\u0275cmp=Yt({type:l,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(r,d){2&r&&(zt("align",null),L("top",d.fixedInViewport?d.fixedTopGap:null,"px")("bottom",d.fixedInViewport?d.fixedBottomGap:null,"px"),G("mat-drawer-end","end"===d.position)("mat-drawer-over","over"===d.mode)("mat-drawer-push","push"===d.mode)("mat-drawer-side","side"===d.mode)("mat-drawer-opened",d.opened)("mat-sidenav-fixed",d.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[Pt],ngContentSelectors:hA,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(r,d){1&r&&(ir(),Ce(0,"div",0,1),vt(2),be())},directives:[X0],encapsulation:2,data:{animation:[kN.transformDrawer]},changeDetection:0}),l})(),WN=(()=>{class l extends VN{}return l.\u0275fac=function(){let a;return function(d){return(a||(a=fr(l)))(d||l)}}(),l.\u0275cmp=Yt({type:l,selectors:[["mat-sidenav-container"]],contentQueries:function(r,d,v){if(1&r&&(rn(v,BN,5),rn(v,HN,5)),2&r){let C;rt(C=ht())&&(d._content=C.first),rt(C=ht())&&(d._allDrawers=C)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(r,d){2&r&&G("mat-drawer-container-explicit-backdrop",d._backdropOverride)},exportAs:["matSidenavContainer"],features:[yt([{provide:oM,useExisting:l}]),Pt],ngContentSelectors:ZH,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(r,d){1&r&&(ir(QH),ut(0,qH,1,2,"div",0),vt(1),vt(2,1),ut(3,XH,2,0,"mat-sidenav-content",1)),2&r&&(ze("ngIf",d.hasBackdrop),Be(3),ze("ngIf",!d._content))},directives:[fc,BN],styles:[".mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n"],encapsulation:2,changeDetection:0}),l})(),nW=(()=>{class l{}return l.\u0275fac=function(r){return new(r||l)},l.\u0275mod=Tt({type:l}),l.\u0275inj=_t({imports:[[am,Dr,aw,Q0],Q0,Dr]}),l})();const{isArray:iW}=Array,{getPrototypeOf:oW,prototype:aW,keys:sW}=Object;function cW(l,a){return l.reduce((r,d,v)=>(r[d]=a[v],r),{})}function jN(...l){const a=function(l){return J(Hh(l))?l.pop():void 0}(l),{args:r,keys:d}=function(l){if(1===l.length){const a=l[0];if(iW(a))return{args:a,keys:null};if(function(l){return l&&"object"==typeof l&&oW(l)===aW}(a)){const r=sW(a);return{args:r.map(d=>a[d]),keys:r}}}return{args:l,keys:null}}(l),v=new ur(C=>{const{length:S}=r;if(!S)return void C.complete();const O=new Array(S);let T=S,F=S;for(let k=0;k<S;k++){let j=!1;Pn(r[k]).subscribe(new Ci(C,Q=>{j||(j=!0,F--),O[k]=Q},()=>T--,void 0,()=>{(!T||!j)&&(F||C.next(d?cW(d,O):O),C.complete())}))}});return a?v.pipe(RN(a)):v}function UN(l){return Wi((a,r)=>{let C,d=null,v=!1;d=a.subscribe(new Ci(r,void 0,void 0,S=>{C=Pn(l(S,UN(l)(a))),d?(d.unsubscribe(),d=null,C.subscribe(r)):v=!0})),v&&(d.unsubscribe(),d=null,C.subscribe(r))})}class hW{}class fm{constructor(a){this.normalizedNames=new Map,this.lazyUpdate=null,a?this.lazyInit="string"==typeof a?()=>{this.headers=new Map,a.split("\n").forEach(r=>{const d=r.indexOf(":");if(d>0){const v=r.slice(0,d),C=v.toLowerCase(),S=r.slice(d+1).trim();this.maybeSetNormalizedName(v,C),this.headers.has(C)?this.headers.get(C).push(S):this.headers.set(C,[S])}})}:()=>{this.headers=new Map,Object.keys(a).forEach(r=>{let d=a[r];const v=r.toLowerCase();"string"==typeof d&&(d=[d]),d.length>0&&(this.headers.set(v,d),this.maybeSetNormalizedName(r,v))})}:this.headers=new Map}has(a){return this.init(),this.headers.has(a.toLowerCase())}get(a){this.init();const r=this.headers.get(a.toLowerCase());return r&&r.length>0?r[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(a){return this.init(),this.headers.get(a.toLowerCase())||null}append(a,r){return this.clone({name:a,value:r,op:"a"})}set(a,r){return this.clone({name:a,value:r,op:"s"})}delete(a,r){return this.clone({name:a,value:r,op:"d"})}maybeSetNormalizedName(a,r){this.normalizedNames.has(r)||this.normalizedNames.set(r,a)}init(){this.lazyInit&&(this.lazyInit instanceof fm?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(a=>this.applyUpdate(a)),this.lazyUpdate=null))}copyFrom(a){a.init(),Array.from(a.headers.keys()).forEach(r=>{this.headers.set(r,a.headers.get(r)),this.normalizedNames.set(r,a.normalizedNames.get(r))})}clone(a){const r=new fm;return r.lazyInit=this.lazyInit&&this.lazyInit instanceof fm?this.lazyInit:this,r.lazyUpdate=(this.lazyUpdate||[]).concat([a]),r}applyUpdate(a){const r=a.name.toLowerCase();switch(a.op){case"a":case"s":let d=a.value;if("string"==typeof d&&(d=[d]),0===d.length)return;this.maybeSetNormalizedName(a.name,r);const v=("a"===a.op?this.headers.get(r):void 0)||[];v.push(...d),this.headers.set(r,v);break;case"d":const C=a.value;if(C){let S=this.headers.get(r);if(!S)return;S=S.filter(O=>-1===C.indexOf(O)),0===S.length?(this.headers.delete(r),this.normalizedNames.delete(r)):this.headers.set(r,S)}else this.headers.delete(r),this.normalizedNames.delete(r)}}forEach(a){this.init(),Array.from(this.normalizedNames.keys()).forEach(r=>a(this.normalizedNames.get(r),this.headers.get(r)))}}class fW{encodeKey(a){return zN(a)}encodeValue(a){return zN(a)}decodeKey(a){return decodeURIComponent(a)}decodeValue(a){return decodeURIComponent(a)}}const mW=/%(\d[a-f0-9])/gi,vW={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function zN(l){return encodeURIComponent(l).replace(mW,(a,r)=>{var d;return null!=(d=vW[r])?d:a})}function $N(l){return`${l}`}class gm{constructor(a={}){if(this.updates=null,this.cloneFrom=null,this.encoder=a.encoder||new fW,a.fromString){if(a.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(l,a){const r=new Map;return l.length>0&&l.replace(/^\?/,"").split("&").forEach(v=>{const C=v.indexOf("="),[S,O]=-1==C?[a.decodeKey(v),""]:[a.decodeKey(v.slice(0,C)),a.decodeValue(v.slice(C+1))],T=r.get(S)||[];T.push(O),r.set(S,T)}),r}(a.fromString,this.encoder)}else a.fromObject?(this.map=new Map,Object.keys(a.fromObject).forEach(r=>{const d=a.fromObject[r];this.map.set(r,Array.isArray(d)?d:[d])})):this.map=null}has(a){return this.init(),this.map.has(a)}get(a){this.init();const r=this.map.get(a);return r?r[0]:null}getAll(a){return this.init(),this.map.get(a)||null}keys(){return this.init(),Array.from(this.map.keys())}append(a,r){return this.clone({param:a,value:r,op:"a"})}appendAll(a){const r=[];return Object.keys(a).forEach(d=>{const v=a[d];Array.isArray(v)?v.forEach(C=>{r.push({param:d,value:C,op:"a"})}):r.push({param:d,value:v,op:"a"})}),this.clone(r)}set(a,r){return this.clone({param:a,value:r,op:"s"})}delete(a,r){return this.clone({param:a,value:r,op:"d"})}toString(){return this.init(),this.keys().map(a=>{const r=this.encoder.encodeKey(a);return this.map.get(a).map(d=>r+"="+this.encoder.encodeValue(d)).join("&")}).filter(a=>""!==a).join("&")}clone(a){const r=new gm({encoder:this.encoder});return r.cloneFrom=this.cloneFrom||this,r.updates=(this.updates||[]).concat(a),r}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(a=>this.map.set(a,this.cloneFrom.map.get(a))),this.updates.forEach(a=>{switch(a.op){case"a":case"s":const r=("a"===a.op?this.map.get(a.param):void 0)||[];r.push($N(a.value)),this.map.set(a.param,r);break;case"d":if(void 0===a.value){this.map.delete(a.param);break}{let d=this.map.get(a.param)||[];const v=d.indexOf($N(a.value));-1!==v&&d.splice(v,1),d.length>0?this.map.set(a.param,d):this.map.delete(a.param)}}}),this.cloneFrom=this.updates=null)}}class yW{constructor(){this.map=new Map}set(a,r){return this.map.set(a,r),this}get(a){return this.map.has(a)||this.map.set(a,a.defaultValue()),this.map.get(a)}delete(a){return this.map.delete(a),this}keys(){return this.map.keys()}}function KN(l){return"undefined"!=typeof ArrayBuffer&&l instanceof ArrayBuffer}function YN(l){return"undefined"!=typeof Blob&&l instanceof Blob}function qN(l){return"undefined"!=typeof FormData&&l instanceof FormData}class Z0{constructor(a,r,d,v){let C;if(this.url=r,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=a.toUpperCase(),function(l){switch(l){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||v?(this.body=void 0!==d?d:null,C=v):C=d,C&&(this.reportProgress=!!C.reportProgress,this.withCredentials=!!C.withCredentials,C.responseType&&(this.responseType=C.responseType),C.headers&&(this.headers=C.headers),C.context&&(this.context=C.context),C.params&&(this.params=C.params)),this.headers||(this.headers=new fm),this.context||(this.context=new yW),this.params){const S=this.params.toString();if(0===S.length)this.urlWithParams=r;else{const O=r.indexOf("?");this.urlWithParams=r+(-1===O?"?":O<r.length-1?"&":"")+S}}else this.params=new gm,this.urlWithParams=r}serializeBody(){return null===this.body?null:KN(this.body)||YN(this.body)||qN(this.body)||"undefined"!=typeof URLSearchParams&&this.body instanceof URLSearchParams||"string"==typeof this.body?this.body:this.body instanceof gm?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||qN(this.body)?null:YN(this.body)?this.body.type||null:KN(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof gm?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(a={}){var j;const r=a.method||this.method,d=a.url||this.url,v=a.responseType||this.responseType,C=void 0!==a.body?a.body:this.body,S=void 0!==a.withCredentials?a.withCredentials:this.withCredentials,O=void 0!==a.reportProgress?a.reportProgress:this.reportProgress;let T=a.headers||this.headers,F=a.params||this.params;const k=null!=(j=a.context)?j:this.context;return void 0!==a.setHeaders&&(T=Object.keys(a.setHeaders).reduce((Q,oe)=>Q.set(oe,a.setHeaders[oe]),T)),a.setParams&&(F=Object.keys(a.setParams).reduce((Q,oe)=>Q.set(oe,a.setParams[oe]),F)),new Z0(r,d,C,{params:F,headers:T,context:k,reportProgress:O,responseType:v,withCredentials:S})}}var zo=(()=>((zo=zo||{})[zo.Sent=0]="Sent",zo[zo.UploadProgress=1]="UploadProgress",zo[zo.ResponseHeader=2]="ResponseHeader",zo[zo.DownloadProgress=3]="DownloadProgress",zo[zo.Response=4]="Response",zo[zo.User=5]="User",zo))();class aM extends class{constructor(a,r=200,d="OK"){this.headers=a.headers||new fm,this.status=void 0!==a.status?a.status:r,this.statusText=a.statusText||d,this.url=a.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(a={}){super(a),this.type=zo.Response,this.body=void 0!==a.body?a.body:null}clone(a={}){return new aM({body:void 0!==a.body?a.body:this.body,headers:a.headers||this.headers,status:void 0!==a.status?a.status:this.status,statusText:a.statusText||this.statusText,url:a.url||this.url||void 0})}}function sM(l,a){return{body:a,headers:l.headers,context:l.context,observe:l.observe,params:l.params,reportProgress:l.reportProgress,responseType:l.responseType,withCredentials:l.withCredentials}}let QN=(()=>{class l{constructor(r){this.handler=r}request(r,d,v={}){let C;if(r instanceof Z0)C=r;else{let T,F;T=v.headers instanceof fm?v.headers:new fm(v.headers),v.params&&(F=v.params instanceof gm?v.params:new gm({fromObject:v.params})),C=new Z0(r,d,void 0!==v.body?v.body:null,{headers:T,context:v.context,params:F,reportProgress:v.reportProgress,responseType:v.responseType||"json",withCredentials:v.withCredentials})}const S=mc(C).pipe(function(l,a){return J(a)?Xa(l,a,1):Xa(l,1)}(T=>this.handler.handle(T)));if(r instanceof Z0||"events"===v.observe)return S;const O=S.pipe(fa(T=>T instanceof aM));switch(v.observe||"body"){case"body":switch(C.responseType){case"arraybuffer":return O.pipe(oi(T=>{if(null!==T.body&&!(T.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return T.body}));case"blob":return O.pipe(oi(T=>{if(null!==T.body&&!(T.body instanceof Blob))throw new Error("Response is not a Blob.");return T.body}));case"text":return O.pipe(oi(T=>{if(null!==T.body&&"string"!=typeof T.body)throw new Error("Response is not a string.");return T.body}));default:return O.pipe(oi(T=>T.body))}case"response":return O;default:throw new Error(`Unreachable: unhandled observe type ${v.observe}}`)}}delete(r,d={}){return this.request("DELETE",r,d)}get(r,d={}){return this.request("GET",r,d)}head(r,d={}){return this.request("HEAD",r,d)}jsonp(r,d){return this.request("JSONP",r,{params:(new gm).append(d,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,d={}){return this.request("OPTIONS",r,d)}patch(r,d,v={}){return this.request("PATCH",r,sM(v,d))}post(r,d,v={}){return this.request("POST",r,sM(v,d))}put(r,d,v={}){return this.request("PUT",r,sM(v,d))}}return l.\u0275fac=function(r){return new(r||l)(Le(hW))},l.\u0275prov=ot({token:l,factory:l.\u0275fac}),l})();const SW=["*"];let gA;function J0(l){var a;return(null==(a=function(){if(void 0===gA&&(gA=null,"undefined"!=typeof window)){const l=window;void 0!==l.trustedTypes&&(gA=l.trustedTypes.createPolicy("angular#components",{createHTML:a=>a}))}return gA}())?void 0:a.createHTML(l))||l}function ZN(l){return Error(`Unable to find icon with the name "${l}"`)}function JN(l){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${l}".`)}function eL(l){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${l}".`)}class C_{constructor(a,r,d){this.url=a,this.svgText=r,this.options=d}}let mA=(()=>{class l{constructor(r,d,v,C){this._httpClient=r,this._sanitizer=d,this._errorHandler=C,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=v}addSvgIcon(r,d,v){return this.addSvgIconInNamespace("",r,d,v)}addSvgIconLiteral(r,d,v){return this.addSvgIconLiteralInNamespace("",r,d,v)}addSvgIconInNamespace(r,d,v,C){return this._addSvgIconConfig(r,d,new C_(v,null,C))}addSvgIconResolver(r){return this._resolvers.push(r),this}addSvgIconLiteralInNamespace(r,d,v,C){const S=this._sanitizer.sanitize(Tn.HTML,v);if(!S)throw eL(v);const O=J0(S);return this._addSvgIconConfig(r,d,new C_("",O,C))}addSvgIconSet(r,d){return this.addSvgIconSetInNamespace("",r,d)}addSvgIconSetLiteral(r,d){return this.addSvgIconSetLiteralInNamespace("",r,d)}addSvgIconSetInNamespace(r,d,v){return this._addSvgIconSetConfig(r,new C_(d,null,v))}addSvgIconSetLiteralInNamespace(r,d,v){const C=this._sanitizer.sanitize(Tn.HTML,d);if(!C)throw eL(d);const S=J0(C);return this._addSvgIconSetConfig(r,new C_("",S,v))}registerFontClassAlias(r,d=r){return this._fontCssClassesByAlias.set(r,d),this}classNameForFontAlias(r){return this._fontCssClassesByAlias.get(r)||r}setDefaultFontSetClass(r){return this._defaultFontSetClass=r,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(r){const d=this._sanitizer.sanitize(Tn.RESOURCE_URL,r);if(!d)throw JN(r);const v=this._cachedIconsByUrl.get(d);return v?mc(vA(v)):this._loadSvgIconFromConfig(new C_(r,null)).pipe(W0(C=>this._cachedIconsByUrl.set(d,C)),oi(C=>vA(C)))}getNamedSvgIcon(r,d=""){const v=tL(d,r);let C=this._svgIconConfigs.get(v);if(C)return this._getSvgFromConfig(C);if(C=this._getIconConfigFromResolvers(d,r),C)return this._svgIconConfigs.set(v,C),this._getSvgFromConfig(C);const S=this._iconSetConfigs.get(d);return S?this._getSvgFromIconSetConfigs(r,S):function(l,a){const r=J(l)?l:()=>l,d=v=>v.error(r());return new ur(d)}(ZN(v))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(r){return r.svgText?mc(vA(this._svgElementFromConfig(r))):this._loadSvgIconFromConfig(r).pipe(oi(d=>vA(d)))}_getSvgFromIconSetConfigs(r,d){const v=this._extractIconWithNameFromAnySet(r,d);return v?mc(v):jN(d.filter(S=>!S.svgText).map(S=>this._loadSvgIconSetFromConfig(S).pipe(UN(O=>{const F=`Loading icon set URL: ${this._sanitizer.sanitize(Tn.RESOURCE_URL,S.url)} failed: ${O.message}`;return this._errorHandler.handleError(new Error(F)),mc(null)})))).pipe(oi(()=>{const S=this._extractIconWithNameFromAnySet(r,d);if(!S)throw ZN(r);return S}))}_extractIconWithNameFromAnySet(r,d){for(let v=d.length-1;v>=0;v--){const C=d[v];if(C.svgText&&C.svgText.toString().indexOf(r)>-1){const S=this._svgElementFromConfig(C),O=this._extractSvgIconFromSet(S,r,C.options);if(O)return O}}return null}_loadSvgIconFromConfig(r){return this._fetchIcon(r).pipe(W0(d=>r.svgText=d),oi(()=>this._svgElementFromConfig(r)))}_loadSvgIconSetFromConfig(r){return r.svgText?mc(null):this._fetchIcon(r).pipe(W0(d=>r.svgText=d))}_extractSvgIconFromSet(r,d,v){const C=r.querySelector(`[id="${d}"]`);if(!C)return null;const S=C.cloneNode(!0);if(S.removeAttribute("id"),"svg"===S.nodeName.toLowerCase())return this._setSvgAttributes(S,v);if("symbol"===S.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(S),v);const O=this._svgElementFromString(J0("<svg></svg>"));return O.appendChild(S),this._setSvgAttributes(O,v)}_svgElementFromString(r){const d=this._document.createElement("DIV");d.innerHTML=r;const v=d.querySelector("svg");if(!v)throw Error("<svg> tag not found");return v}_toSvgElement(r){const d=this._svgElementFromString(J0("<svg></svg>")),v=r.attributes;for(let C=0;C<v.length;C++){const{name:S,value:O}=v[C];"id"!==S&&d.setAttribute(S,O)}for(let C=0;C<r.childNodes.length;C++)r.childNodes[C].nodeType===this._document.ELEMENT_NODE&&d.appendChild(r.childNodes[C].cloneNode(!0));return d}_setSvgAttributes(r,d){return r.setAttribute("fit",""),r.setAttribute("height","100%"),r.setAttribute("width","100%"),r.setAttribute("preserveAspectRatio","xMidYMid meet"),r.setAttribute("focusable","false"),d&&d.viewBox&&r.setAttribute("viewBox",d.viewBox),r}_fetchIcon(r){var F;const{url:d,options:v}=r,C=null!=(F=null==v?void 0:v.withCredentials)&&F;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==d)throw Error(`Cannot fetch icon from URL "${d}".`);const S=this._sanitizer.sanitize(Tn.RESOURCE_URL,d);if(!S)throw JN(d);const O=this._inProgressUrlFetches.get(S);if(O)return O;const T=this._httpClient.get(S,{responseType:"text",withCredentials:C}).pipe(oi(k=>J0(k)),function(l){return Wi((a,r)=>{try{a.subscribe(r)}finally{r.add(l)}})}(()=>this._inProgressUrlFetches.delete(S)),jh());return this._inProgressUrlFetches.set(S,T),T}_addSvgIconConfig(r,d,v){return this._svgIconConfigs.set(tL(r,d),v),this}_addSvgIconSetConfig(r,d){const v=this._iconSetConfigs.get(r);return v?v.push(d):this._iconSetConfigs.set(r,[d]),this}_svgElementFromConfig(r){if(!r.svgElement){const d=this._svgElementFromString(r.svgText);this._setSvgAttributes(d,r.options),r.svgElement=d}return r.svgElement}_getIconConfigFromResolvers(r,d){for(let v=0;v<this._resolvers.length;v++){const C=this._resolvers[v](d,r);if(C)return xW(C)?new C_(C.url,null,C.options):new C_(C,null)}}}return l.\u0275fac=function(r){return new(r||l)(Le(QN,8),Le(dP),Le(ue,8),Le(zs))},l.\u0275prov=ot({token:l,factory:l.\u0275fac,providedIn:"root"}),l})();function vA(l){return l.cloneNode(!0)}function tL(l,a){return l+":"+a}function xW(l){return!(!l.url||!l.options)}const AW=gw(class{constructor(l){this._elementRef=l}}),TW=new Xe("mat-icon-location",{providedIn:"root",factory:function(){const l=Ru(ue),a=l?l.location:null;return{getPathname:()=>a?a.pathname+a.search:""}}}),nL=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],PW=nL.map(l=>`[${l}]`).join(", "),MW=/^url\(['"]?#(.*?)['"]?\)$/;let FW=(()=>{class l extends AW{constructor(r,d,v,C,S){super(r),this._iconRegistry=d,this._location=C,this._errorHandler=S,this._inline=!1,this._currentIconFetch=an.EMPTY,v||r.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(r){this._inline=xn(r)}get svgIcon(){return this._svgIcon}set svgIcon(r){r!==this._svgIcon&&(r?this._updateSvgIcon(r):this._svgIcon&&this._clearSvgElement(),this._svgIcon=r)}get fontSet(){return this._fontSet}set fontSet(r){const d=this._cleanupFontValue(r);d!==this._fontSet&&(this._fontSet=d,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(r){const d=this._cleanupFontValue(r);d!==this._fontIcon&&(this._fontIcon=d,this._updateFontIconClasses())}_splitIconName(r){if(!r)return["",""];const d=r.split(":");switch(d.length){case 1:return["",d[0]];case 2:return d;default:throw Error(`Invalid icon name: "${r}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const r=this._elementsWithExternalReferences;if(r&&r.size){const d=this._location.getPathname();d!==this._previousPath&&(this._previousPath=d,this._prependPathToReferences(d))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(r){this._clearSvgElement();const d=r.querySelectorAll("style");for(let C=0;C<d.length;C++)d[C].textContent+=" ";const v=this._location.getPathname();this._previousPath=v,this._cacheChildrenWithExternalReferences(r),this._prependPathToReferences(v),this._elementRef.nativeElement.appendChild(r)}_clearSvgElement(){const r=this._elementRef.nativeElement;let d=r.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();d--;){const v=r.childNodes[d];(1!==v.nodeType||"svg"===v.nodeName.toLowerCase())&&v.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const r=this._elementRef.nativeElement,d=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();d!=this._previousFontSetClass&&(this._previousFontSetClass&&r.classList.remove(this._previousFontSetClass),d&&r.classList.add(d),this._previousFontSetClass=d),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&r.classList.remove(this._previousFontIconClass),this.fontIcon&&r.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(r){return"string"==typeof r?r.trim().split(" ")[0]:r}_prependPathToReferences(r){const d=this._elementsWithExternalReferences;d&&d.forEach((v,C)=>{v.forEach(S=>{C.setAttribute(S.name,`url('${r}#${S.value}')`)})})}_cacheChildrenWithExternalReferences(r){const d=r.querySelectorAll(PW),v=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let C=0;C<d.length;C++)nL.forEach(S=>{const O=d[C],T=O.getAttribute(S),F=T?T.match(MW):null;if(F){let k=v.get(O);k||(k=[],v.set(O,k)),k.push({name:S,value:F[1]})}})}_updateSvgIcon(r){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),r){const[d,v]=this._splitIconName(r);d&&(this._svgNamespace=d),v&&(this._svgName=v),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(v,d).pipe(fo(1)).subscribe(C=>this._setSvgElement(C),C=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${d}:${v}! ${C.message}`))})}}}return l.\u0275fac=function(r){return new(r||l)(ne(Lt),ne(mA),Qo("aria-hidden"),ne(TW),ne(zs))},l.\u0275cmp=Yt({type:l,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(r,d){2&r&&(zt("data-mat-icon-type",d._usingFontIcon()?"font":"svg")("data-mat-icon-name",d._svgName||d.fontIcon)("data-mat-icon-namespace",d._svgNamespace||d.fontSet),G("mat-icon-inline",d.inline)("mat-icon-no-color","primary"!==d.color&&"accent"!==d.color&&"warn"!==d.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[Pt],ngContentSelectors:SW,decls:1,vars:0,template:function(r,d){1&r&&(ir(),vt(0))},styles:[".mat-icon{-webkit-user-select:none;-moz-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),l})(),IW=(()=>{class l{}return l.\u0275fac=function(r){return new(r||l)},l.\u0275mod=Tt({type:l}),l.\u0275inj=_t({imports:[[Dr],Dr]}),l})(),iL=(()=>{class l{constructor(){this._listeners=[]}notify(r,d){for(let v of this._listeners)v(r,d)}listen(r){return this._listeners.push(r),()=>{this._listeners=this._listeners.filter(d=>r!==d)}}ngOnDestroy(){this._listeners=[]}}return l.\u0275fac=function(r){return new(r||l)},l.\u0275prov=ot({token:l,factory:l.\u0275fac,providedIn:"root"}),l})(),oL=(()=>{class l{constructor(r,d){this._renderer=r,this._elementRef=d,this.onChange=v=>{},this.onTouched=()=>{}}setProperty(r,d){this._renderer.setProperty(this._elementRef.nativeElement,r,d)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}}return l.\u0275fac=function(r){return new(r||l)(ne(Id),ne(Lt))},l.\u0275dir=Ke({type:l}),l})(),b_=(()=>{class l extends oL{}return l.\u0275fac=function(){let a;return function(d){return(a||(a=fr(l)))(d||l)}}(),l.\u0275dir=Ke({type:l,features:[Pt]}),l})();const ga=new Xe("NgValueAccessor"),LW={provide:ga,useExisting:fn(()=>yA),multi:!0},GW=new Xe("CompositionEventMode");let yA=(()=>{class l extends oL{constructor(r,d,v){super(r,d),this._compositionMode=v,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const l=q()?q().getUserAgent():"";return/android (\d+)/.test(l.toLowerCase())}())}writeValue(r){this.setProperty("value",null==r?"":r)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}}return l.\u0275fac=function(r){return new(r||l)(ne(Id),ne(Lt),ne(GW,8))},l.\u0275dir=Ke({type:l,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,d){1&r&&Ct("input",function(C){return d._handleInput(C.target.value)})("blur",function(){return d.onTouched()})("compositionstart",function(){return d._compositionStart()})("compositionend",function(C){return d._compositionEnd(C.target.value)})},features:[yt([LW]),Pt]}),l})();function mm(l){return null==l||0===l.length}function sL(l){return null!=l&&"number"==typeof l.length}const Vi=new Xe("NgValidators"),vm=new Xe("NgAsyncValidators"),VW=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class _A{static min(a){return l=a,a=>{if(mm(a.value)||mm(l))return null;const r=parseFloat(a.value);return!isNaN(r)&&r<l?{min:{min:l,actual:a.value}}:null};var l}static max(a){return l=a,a=>{if(mm(a.value)||mm(l))return null;const r=parseFloat(a.value);return!isNaN(r)&&r>l?{max:{max:l,actual:a.value}}:null};var l}static required(a){return mm(a.value)?{required:!0}:null}static requiredTrue(a){return!0===a.value?null:{required:!0}}static email(a){return mm((l=a).value)||VW.test(l.value)?null:{email:!0};var l}static minLength(a){return l=a,a=>mm(a.value)||!sL(a.value)?null:a.value.length<l?{minlength:{requiredLength:l,actualLength:a.value.length}}:null;var l}static maxLength(a){return l=a,a=>sL(a.value)&&a.value.length>l?{maxlength:{requiredLength:l,actualLength:a.value.length}}:null;var l}static pattern(a){return function(l){if(!l)return eD;let a,r;return"string"==typeof l?(r="","^"!==l.charAt(0)&&(r+="^"),r+=l,"$"!==l.charAt(l.length-1)&&(r+="$"),a=new RegExp(r)):(r=l.toString(),a=l),d=>{if(mm(d.value))return null;const v=d.value;return a.test(v)?null:{pattern:{requiredPattern:r,actualValue:v}}}}(a)}static nullValidator(a){return null}static compose(a){return bL(a)}static composeAsync(a){return wL(a)}}function eD(l){return null}function mL(l){return null!=l}function vL(l){const a=Ad(l)?xs(l):l;return Lb(a),a}function yL(l){let a={};return l.forEach(r=>{a=null!=r?An(An({},a),r):a}),0===Object.keys(a).length?null:a}function _L(l,a){return a.map(r=>r(l))}function CL(l){return l.map(a=>function(l){return!l.validate}(a)?a:r=>a.validate(r))}function bL(l){if(!l)return null;const a=l.filter(mL);return 0==a.length?null:function(r){return yL(_L(r,a))}}function lM(l){return null!=l?bL(CL(l)):null}function wL(l){if(!l)return null;const a=l.filter(mL);return 0==a.length?null:function(r){return jN(_L(r,a).map(vL)).pipe(oi(yL))}}function uM(l){return null!=l?wL(CL(l)):null}function SL(l,a){return null===l?[a]:Array.isArray(l)?[...l,a]:[l,a]}function EL(l){return l._rawValidators}function DL(l){return l._rawAsyncValidators}function cM(l){return l?Array.isArray(l)?l:[l]:[]}function CA(l,a){return Array.isArray(l)?l.includes(a):l===a}function OL(l,a){const r=cM(a);return cM(l).forEach(v=>{CA(r,v)||r.push(v)}),r}function xL(l,a){return cM(a).filter(r=>!CA(l,r))}class AL{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(a){this._rawValidators=a||[],this._composedValidatorFn=lM(this._rawValidators)}_setAsyncValidators(a){this._rawAsyncValidators=a||[],this._composedAsyncValidatorFn=uM(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(a){this._onDestroyCallbacks.push(a)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(a=>a()),this._onDestroyCallbacks=[]}reset(a){this.control&&this.control.reset(a)}hasError(a,r){return!!this.control&&this.control.hasError(a,r)}getError(a,r){return this.control?this.control.getError(a,r):null}}class ma extends AL{get formDirective(){return null}get path(){return null}}class jd extends AL{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let RL=(()=>{class l extends class{constructor(a){this._cd=a}is(a){var r,d,v;return"submitted"===a?!!(null==(r=this._cd)?void 0:r.submitted):!!(null==(v=null==(d=this._cd)?void 0:d.control)?void 0:v[a])}}{constructor(r){super(r)}}return l.\u0275fac=function(r){return new(r||l)(ne(jd,2))},l.\u0275dir=Ke({type:l,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,d){2&r&&G("ng-untouched",d.is("untouched"))("ng-touched",d.is("touched"))("ng-pristine",d.is("pristine"))("ng-dirty",d.is("dirty"))("ng-valid",d.is("valid"))("ng-invalid",d.is("invalid"))("ng-pending",d.is("pending"))},features:[Pt]}),l})();function tD(l,a){hM(l,a),a.valueAccessor.writeValue(l.value),function(l,a){a.valueAccessor.registerOnChange(r=>{l._pendingValue=r,l._pendingChange=!0,l._pendingDirty=!0,"change"===l.updateOn&&PL(l,a)})}(l,a),function(l,a){const r=(d,v)=>{a.valueAccessor.writeValue(d),v&&a.viewToModelUpdate(d)};l.registerOnChange(r),a._registerOnDestroy(()=>{l._unregisterOnChange(r)})}(l,a),function(l,a){a.valueAccessor.registerOnTouched(()=>{l._pendingTouched=!0,"blur"===l.updateOn&&l._pendingChange&&PL(l,a),"submit"!==l.updateOn&&l.markAsTouched()})}(l,a),function(l,a){if(a.valueAccessor.setDisabledState){const r=d=>{a.valueAccessor.setDisabledState(d)};l.registerOnDisabledChange(r),a._registerOnDestroy(()=>{l._unregisterOnDisabledChange(r)})}}(l,a)}function SA(l,a,r=!0){const d=()=>{};a.valueAccessor&&(a.valueAccessor.registerOnChange(d),a.valueAccessor.registerOnTouched(d)),DA(l,a),l&&(a._invokeOnDestroyCallbacks(),l._registerOnCollectionChange(()=>{}))}function EA(l,a){l.forEach(r=>{r.registerOnValidatorChange&&r.registerOnValidatorChange(a)})}function hM(l,a){const r=EL(l);null!==a.validator?l.setValidators(SL(r,a.validator)):"function"==typeof r&&l.setValidators([r]);const d=DL(l);null!==a.asyncValidator?l.setAsyncValidators(SL(d,a.asyncValidator)):"function"==typeof d&&l.setAsyncValidators([d]);const v=()=>l.updateValueAndValidity();EA(a._rawValidators,v),EA(a._rawAsyncValidators,v)}function DA(l,a){let r=!1;if(null!==l){if(null!==a.validator){const v=EL(l);if(Array.isArray(v)&&v.length>0){const C=v.filter(S=>S!==a.validator);C.length!==v.length&&(r=!0,l.setValidators(C))}}if(null!==a.asyncValidator){const v=DL(l);if(Array.isArray(v)&&v.length>0){const C=v.filter(S=>S!==a.asyncValidator);C.length!==v.length&&(r=!0,l.setAsyncValidators(C))}}}const d=()=>{};return EA(a._rawValidators,d),EA(a._rawAsyncValidators,d),r}function PL(l,a){l._pendingDirty&&l.markAsDirty(),l.setValue(l._pendingValue,{emitModelToViewChange:!1}),a.viewToModelUpdate(l._pendingValue),l._pendingChange=!1}function ML(l,a){hM(l,a)}function FL(l,a){l._syncPendingControls(),a.forEach(r=>{const d=r.control;"submit"===d.updateOn&&d._pendingChange&&(r.viewToModelUpdate(d._pendingValue),d._pendingChange=!1)})}function OA(l,a){const r=l.indexOf(a);r>-1&&l.splice(r,1)}const nD="VALID",xA="INVALID",yw="PENDING",rD="DISABLED";function mM(l){return(yM(l)?l.validators:l)||null}function IL(l){return Array.isArray(l)?lM(l):l||null}function vM(l,a){return(yM(a)?a.asyncValidators:l)||null}function NL(l){return Array.isArray(l)?uM(l):l||null}function yM(l){return null!=l&&!Array.isArray(l)&&"object"==typeof l}class _M{constructor(a,r){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=a,this._rawAsyncValidators=r,this._composedValidatorFn=IL(this._rawValidators),this._composedAsyncValidatorFn=NL(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(a){this._rawValidators=this._composedValidatorFn=a}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(a){this._rawAsyncValidators=this._composedAsyncValidatorFn=a}get parent(){return this._parent}get valid(){return this.status===nD}get invalid(){return this.status===xA}get pending(){return this.status==yw}get disabled(){return this.status===rD}get enabled(){return this.status!==rD}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(a){this._rawValidators=a,this._composedValidatorFn=IL(a)}setAsyncValidators(a){this._rawAsyncValidators=a,this._composedAsyncValidatorFn=NL(a)}addValidators(a){this.setValidators(OL(a,this._rawValidators))}addAsyncValidators(a){this.setAsyncValidators(OL(a,this._rawAsyncValidators))}removeValidators(a){this.setValidators(xL(a,this._rawValidators))}removeAsyncValidators(a){this.setAsyncValidators(xL(a,this._rawAsyncValidators))}hasValidator(a){return CA(this._rawValidators,a)}hasAsyncValidator(a){return CA(this._rawAsyncValidators,a)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(a={}){this.touched=!0,this._parent&&!a.onlySelf&&this._parent.markAsTouched(a)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(a=>a.markAllAsTouched())}markAsUntouched(a={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0})}),this._parent&&!a.onlySelf&&this._parent._updateTouched(a)}markAsDirty(a={}){this.pristine=!1,this._parent&&!a.onlySelf&&this._parent.markAsDirty(a)}markAsPristine(a={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(r=>{r.markAsPristine({onlySelf:!0})}),this._parent&&!a.onlySelf&&this._parent._updatePristine(a)}markAsPending(a={}){this.status=yw,!1!==a.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!a.onlySelf&&this._parent.markAsPending(a)}disable(a={}){const r=this._parentMarkedDirty(a.onlySelf);this.status=rD,this.errors=null,this._forEachChild(d=>{d.disable(Cm(An({},a),{onlySelf:!0}))}),this._updateValue(),!1!==a.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Cm(An({},a),{skipPristineCheck:r})),this._onDisabledChange.forEach(d=>d(!0))}enable(a={}){const r=this._parentMarkedDirty(a.onlySelf);this.status=nD,this._forEachChild(d=>{d.enable(Cm(An({},a),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:a.emitEvent}),this._updateAncestors(Cm(An({},a),{skipPristineCheck:r})),this._onDisabledChange.forEach(d=>d(!1))}_updateAncestors(a){this._parent&&!a.onlySelf&&(this._parent.updateValueAndValidity(a),a.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(a){this._parent=a}updateValueAndValidity(a={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===nD||this.status===yw)&&this._runAsyncValidator(a.emitEvent)),!1!==a.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!a.onlySelf&&this._parent.updateValueAndValidity(a)}_updateTreeValidity(a={emitEvent:!0}){this._forEachChild(r=>r._updateTreeValidity(a)),this.updateValueAndValidity({onlySelf:!0,emitEvent:a.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?rD:nD}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(a){if(this.asyncValidator){this.status=yw,this._hasOwnPendingAsyncValidator=!0;const r=vL(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(d=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(d,{emitEvent:a})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(a,r={}){this.errors=a,this._updateControlsErrors(!1!==r.emitEvent)}get(a){return function(l,a,r){if(null==a||(Array.isArray(a)||(a=a.split(".")),Array.isArray(a)&&0===a.length))return null;let d=l;return a.forEach(v=>{d=d instanceof CM?d.controls.hasOwnProperty(v)?d.controls[v]:null:d instanceof JW&&d.at(v)||null}),d}(this,a)}getError(a,r){const d=r?this.get(r):this;return d&&d.errors?d.errors[a]:null}hasError(a,r){return!!this.getError(a,r)}get root(){let a=this;for(;a._parent;)a=a._parent;return a}_updateControlsErrors(a){this.status=this._calculateStatus(),a&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(a)}_initObservables(){this.valueChanges=new he,this.statusChanges=new he}_calculateStatus(){return this._allControlsDisabled()?rD:this.errors?xA:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(yw)?yw:this._anyControlsHaveStatus(xA)?xA:nD}_anyControlsHaveStatus(a){return this._anyControls(r=>r.status===a)}_anyControlsDirty(){return this._anyControls(a=>a.dirty)}_anyControlsTouched(){return this._anyControls(a=>a.touched)}_updatePristine(a={}){this.pristine=!this._anyControlsDirty(),this._parent&&!a.onlySelf&&this._parent._updatePristine(a)}_updateTouched(a={}){this.touched=this._anyControlsTouched(),this._parent&&!a.onlySelf&&this._parent._updateTouched(a)}_isBoxedValue(a){return"object"==typeof a&&null!==a&&2===Object.keys(a).length&&"value"in a&&"disabled"in a}_registerOnCollectionChange(a){this._onCollectionChange=a}_setUpdateStrategy(a){yM(a)&&null!=a.updateOn&&(this._updateOn=a.updateOn)}_parentMarkedDirty(a){return!a&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class AA extends _M{constructor(a=null,r,d){super(mM(r),vM(d,r)),this._onChange=[],this._applyFormState(a),this._setUpdateStrategy(r),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(a,r={}){this.value=this._pendingValue=a,this._onChange.length&&!1!==r.emitModelToViewChange&&this._onChange.forEach(d=>d(this.value,!1!==r.emitViewToModelChange)),this.updateValueAndValidity(r)}patchValue(a,r={}){this.setValue(a,r)}reset(a=null,r={}){this._applyFormState(a),this.markAsPristine(r),this.markAsUntouched(r),this.setValue(this.value,r),this._pendingChange=!1}_updateValue(){}_anyControls(a){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(a){this._onChange.push(a)}_unregisterOnChange(a){OA(this._onChange,a)}registerOnDisabledChange(a){this._onDisabledChange.push(a)}_unregisterOnDisabledChange(a){OA(this._onDisabledChange,a)}_forEachChild(a){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(a){this._isBoxedValue(a)?(this.value=this._pendingValue=a.value,a.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=a}}class CM extends _M{constructor(a,r,d){super(mM(r),vM(d,r)),this.controls=a,this._initObservables(),this._setUpdateStrategy(r),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(a,r){return this.controls[a]?this.controls[a]:(this.controls[a]=r,r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange),r)}addControl(a,r,d={}){this.registerControl(a,r),this.updateValueAndValidity({emitEvent:d.emitEvent}),this._onCollectionChange()}removeControl(a,r={}){this.controls[a]&&this.controls[a]._registerOnCollectionChange(()=>{}),delete this.controls[a],this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}setControl(a,r,d={}){this.controls[a]&&this.controls[a]._registerOnCollectionChange(()=>{}),delete this.controls[a],r&&this.registerControl(a,r),this.updateValueAndValidity({emitEvent:d.emitEvent}),this._onCollectionChange()}contains(a){return this.controls.hasOwnProperty(a)&&this.controls[a].enabled}setValue(a,r={}){this._checkAllValuesPresent(a),Object.keys(a).forEach(d=>{this._throwIfControlMissing(d),this.controls[d].setValue(a[d],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r)}patchValue(a,r={}){null!=a&&(Object.keys(a).forEach(d=>{this.controls[d]&&this.controls[d].patchValue(a[d],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r))}reset(a={},r={}){this._forEachChild((d,v)=>{d.reset(a[v],{onlySelf:!0,emitEvent:r.emitEvent})}),this._updatePristine(r),this._updateTouched(r),this.updateValueAndValidity(r)}getRawValue(){return this._reduceChildren({},(a,r,d)=>(a[d]=r instanceof AA?r.value:r.getRawValue(),a))}_syncPendingControls(){let a=this._reduceChildren(!1,(r,d)=>!!d._syncPendingControls()||r);return a&&this.updateValueAndValidity({onlySelf:!0}),a}_throwIfControlMissing(a){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[a])throw new Error(`Cannot find form control with name: ${a}.`)}_forEachChild(a){Object.keys(this.controls).forEach(r=>{const d=this.controls[r];d&&a(d,r)})}_setUpControls(){this._forEachChild(a=>{a.setParent(this),a._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(a){for(const r of Object.keys(this.controls)){const d=this.controls[r];if(this.contains(r)&&a(d))return!0}return!1}_reduceValue(){return this._reduceChildren({},(a,r,d)=>((r.enabled||this.disabled)&&(a[d]=r.value),a))}_reduceChildren(a,r){let d=a;return this._forEachChild((v,C)=>{d=r(d,v,C)}),d}_allControlsDisabled(){for(const a of Object.keys(this.controls))if(this.controls[a].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(a){this._forEachChild((r,d)=>{if(void 0===a[d])throw new Error(`Must supply a value for form control with name: '${d}'.`)})}}class JW extends _M{constructor(a,r,d){super(mM(r),vM(d,r)),this.controls=a,this._initObservables(),this._setUpdateStrategy(r),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(a){return this.controls[a]}push(a,r={}){this.controls.push(a),this._registerControl(a),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}insert(a,r,d={}){this.controls.splice(a,0,r),this._registerControl(r),this.updateValueAndValidity({emitEvent:d.emitEvent})}removeAt(a,r={}){this.controls[a]&&this.controls[a]._registerOnCollectionChange(()=>{}),this.controls.splice(a,1),this.updateValueAndValidity({emitEvent:r.emitEvent})}setControl(a,r,d={}){this.controls[a]&&this.controls[a]._registerOnCollectionChange(()=>{}),this.controls.splice(a,1),r&&(this.controls.splice(a,0,r),this._registerControl(r)),this.updateValueAndValidity({emitEvent:d.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(a,r={}){this._checkAllValuesPresent(a),a.forEach((d,v)=>{this._throwIfControlMissing(v),this.at(v).setValue(d,{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r)}patchValue(a,r={}){null!=a&&(a.forEach((d,v)=>{this.at(v)&&this.at(v).patchValue(d,{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r))}reset(a=[],r={}){this._forEachChild((d,v)=>{d.reset(a[v],{onlySelf:!0,emitEvent:r.emitEvent})}),this._updatePristine(r),this._updateTouched(r),this.updateValueAndValidity(r)}getRawValue(){return this.controls.map(a=>a instanceof AA?a.value:a.getRawValue())}clear(a={}){this.controls.length<1||(this._forEachChild(r=>r._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:a.emitEvent}))}_syncPendingControls(){let a=this.controls.reduce((r,d)=>!!d._syncPendingControls()||r,!1);return a&&this.updateValueAndValidity({onlySelf:!0}),a}_throwIfControlMissing(a){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(a))throw new Error(`Cannot find form control at index ${a}`)}_forEachChild(a){this.controls.forEach((r,d)=>{a(r,d)})}_updateValue(){this.value=this.controls.filter(a=>a.enabled||this.disabled).map(a=>a.value)}_anyControls(a){return this.controls.some(r=>r.enabled&&a(r))}_setUpControls(){this._forEachChild(a=>this._registerControl(a))}_checkAllValuesPresent(a){this._forEachChild((r,d)=>{if(void 0===a[d])throw new Error(`Must supply a value for form control at index: ${d}.`)})}_allControlsDisabled(){for(const a of this.controls)if(a.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(a){a.setParent(this),a._registerOnCollectionChange(this._onCollectionChange)}}const e2={provide:ma,useExisting:fn(()=>w_)},iD=(()=>Promise.resolve(null))();let w_=(()=>{class l extends ma{constructor(r,d){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new he,this.form=new CM({},lM(r),uM(d))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){iD.then(()=>{const d=this._findContainer(r.path);r.control=d.registerControl(r.name,r.control),tD(r.control,r),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){iD.then(()=>{const d=this._findContainer(r.path);d&&d.removeControl(r.name),OA(this._directives,r)})}addFormGroup(r){iD.then(()=>{const d=this._findContainer(r.path),v=new CM({});ML(v,r),d.registerControl(r.name,v),v.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){iD.then(()=>{const d=this._findContainer(r.path);d&&d.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,d){iD.then(()=>{this.form.get(r.path).setValue(d)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submitted=!0,FL(this.form,this._directives),this.ngSubmit.emit(r),!1}onReset(){this.resetForm()}resetForm(r){this.form.reset(r),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}}return l.\u0275fac=function(r){return new(r||l)(ne(Vi,10),ne(vm,10))},l.\u0275dir=Ke({type:l,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,d){1&r&&Ct("submit",function(C){return d.onSubmit(C)})("reset",function(){return d.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[yt([e2]),Pt]}),l})();const n2={provide:jd,useExisting:fn(()=>bM)},GL=(()=>Promise.resolve(null))();let bM=(()=>{class l extends jd{constructor(r,d,v,C){super(),this.control=new AA,this._registered=!1,this.update=new he,this._parent=r,this._setValidators(d),this._setAsyncValidators(v),this.valueAccessor=function(l,a){if(!a)return null;let r,d,v;return Array.isArray(a),a.forEach(C=>{C.constructor===yA?r=C:function(l){return Object.getPrototypeOf(l.constructor)===b_}(C)?d=C:v=C}),v||d||r||null}(0,C)}ngOnChanges(r){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in r&&this._updateDisabled(r),function(l,a){if(!l.hasOwnProperty("model"))return!1;const r=l.model;return!!r.isFirstChange()||!Object.is(a,r.currentValue)}(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(l,a){return[...a.path,l]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){tD(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(r){GL.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1})})}_updateDisabled(r){const d=r.isDisabled.currentValue,v=""===d||d&&"false"!==d;GL.then(()=>{v&&!this.control.disabled?this.control.disable():!v&&this.control.disabled&&this.control.enable()})}}return l.\u0275fac=function(r){return new(r||l)(ne(ma,9),ne(Vi,10),ne(vm,10),ne(ga,10))},l.\u0275dir=Ke({type:l,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[yt([n2]),Pt,$n]}),l})(),BL=(()=>{class l{}return l.\u0275fac=function(r){return new(r||l)},l.\u0275mod=Tt({type:l}),l.\u0275inj=_t({}),l})();const c2={provide:ma,useExisting:fn(()=>S_)};let S_=(()=>{class l extends ma{constructor(r,d){super(),this.validators=r,this.asyncValidators=d,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new he,this._setValidators(r),this._setAsyncValidators(d)}ngOnChanges(r){this._checkFormPresent(),r.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(DA(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(r){const d=this.form.get(r.path);return tD(d,r),d.updateValueAndValidity({emitEvent:!1}),this.directives.push(r),d}getControl(r){return this.form.get(r.path)}removeControl(r){SA(r.control||null,r,!1),OA(this.directives,r)}addFormGroup(r){this._setUpFormContainer(r)}removeFormGroup(r){this._cleanUpFormContainer(r)}getFormGroup(r){return this.form.get(r.path)}addFormArray(r){this._setUpFormContainer(r)}removeFormArray(r){this._cleanUpFormContainer(r)}getFormArray(r){return this.form.get(r.path)}updateModel(r,d){this.form.get(r.path).setValue(d)}onSubmit(r){return this.submitted=!0,FL(this.form,this.directives),this.ngSubmit.emit(r),!1}onReset(){this.resetForm()}resetForm(r){this.form.reset(r),this.submitted=!1}_updateDomValue(){this.directives.forEach(r=>{const d=r.control,v=this.form.get(r.path);d!==v&&(SA(d||null,r),v instanceof AA&&(tD(v,r),r.control=v))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(r){const d=this.form.get(r.path);ML(d,r),d.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(r){if(this.form){const d=this.form.get(r.path);d&&function(l,a){return DA(l,a)}(d,r)&&d.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){hM(this.form,this),this._oldForm&&DA(this._oldForm,this)}_checkFormPresent(){}}return l.\u0275fac=function(r){return new(r||l)(ne(Vi,10),ne(vm,10))},l.\u0275dir=Ke({type:l,selectors:[["","formGroup",""]],hostBindings:function(r,d){1&r&&Ct("submit",function(C){return d.onSubmit(C)})("reset",function(){return d.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[yt([c2]),Pt,$n]}),l})(),A2=(()=>{class l{}return l.\u0275fac=function(r){return new(r||l)},l.\u0275mod=Tt({type:l}),l.\u0275inj=_t({imports:[[BL]]}),l})(),T2=(()=>{class l{}return l.\u0275fac=function(r){return new(r||l)},l.\u0275mod=Tt({type:l}),l.\u0275inj=_t({imports:[A2]}),l})(),R2=(()=>{class l{}return l.\u0275fac=function(r){return new(r||l)},l.\u0275mod=Tt({type:l}),l.\u0275inj=_t({imports:[[Dr],Dr]}),l})();const rk=["*"],M2=[[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]],[["","mat-line",""],["","matLine",""]],"*"],F2=["[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]","[mat-line], [matLine]","*"],G2=JP(mw(class{})),V2=mw(class{}),B2=new Xe("MatList"),ik=new Xe("MatNavList");let H2=(()=>{class l extends G2{constructor(){super(...arguments),this._stateChanges=new Mt}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return l.\u0275fac=function(){let a;return function(d){return(a||(a=fr(l)))(d||l)}}(),l.\u0275cmp=Yt({type:l,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-nav-list","mat-list-base"],inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matNavList"],features:[yt([{provide:ik,useExisting:l}]),Pt,$n],ngContentSelectors:rk,decls:1,vars:0,template:function(r,d){1&r&&(ir(),vt(0))},styles:['.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:transparent}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:transparent;text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-selection-list:focus{outline-style:dotted}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-list-option:focus,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:focus,.cdk-high-contrast-active mat-action-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:focus{outline:dotted 1px;z-index:1}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-single-selected-option):not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}\n'],encapsulation:2,changeDetection:0}),l})(),ok=(()=>{class l{}return l.\u0275fac=function(r){return new(r||l)},l.\u0275dir=Ke({type:l,selectors:[["","mat-list-avatar",""],["","matListAvatar",""]],hostAttrs:[1,"mat-list-avatar"]}),l})(),ak=(()=>{class l{}return l.\u0275fac=function(r){return new(r||l)},l.\u0275dir=Ke({type:l,selectors:[["","mat-list-icon",""],["","matListIcon",""]],hostAttrs:[1,"mat-list-icon"]}),l})(),W2=(()=>{class l extends V2{constructor(r,d,v,C){super(),this._element=r,this._isInteractiveList=!1,this._destroyed=new Mt,this._disabled=!1,this._isInteractiveList=!!(v||C&&"action-list"===C._getListType()),this._list=v||C;const S=this._getHostElement();"button"===S.nodeName.toLowerCase()&&!S.hasAttribute("type")&&S.setAttribute("type","button"),this._list&&this._list._stateChanges.pipe(Er(this._destroyed)).subscribe(()=>{d.markForCheck()})}get disabled(){return this._disabled||!(!this._list||!this._list.disabled)}set disabled(r){this._disabled=xn(r)}ngAfterContentInit(){!function(l,a,r="mat"){l.changes.pipe(pl(l)).subscribe(({length:d})=>{Y0(a,`${r}-2-line`,!1),Y0(a,`${r}-3-line`,!1),Y0(a,`${r}-multi-line`,!1),2===d||3===d?Y0(a,`${r}-${d}-line`,!0):d>3&&Y0(a,`${r}-multi-line`,!0)})}(this._lines,this._element)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_isRippleDisabled(){return!this._isInteractiveList||this.disableRipple||!(!this._list||!this._list.disableRipple)}_getHostElement(){return this._element.nativeElement}}return l.\u0275fac=function(r){return new(r||l)(ne(Lt),ne(Br),ne(ik,8),ne(B2,8))},l.\u0275cmp=Yt({type:l,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(r,d,v){if(1&r&&(rn(v,ok,5),rn(v,ak,5),rn(v,SN,5)),2&r){let C;rt(C=ht())&&(d._avatar=C.first),rt(C=ht())&&(d._icon=C.first),rt(C=ht())&&(d._lines=C)}},hostAttrs:[1,"mat-list-item","mat-focus-indicator"],hostVars:6,hostBindings:function(r,d){2&r&&G("mat-list-item-disabled",d.disabled)("mat-list-item-avatar",d._avatar||d._icon)("mat-list-item-with-avatar",d._avatar||d._icon)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matListItem"],features:[Pt],ngContentSelectors:F2,decls:6,vars:2,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-list-text"]],template:function(r,d){1&r&&(ir(M2),Ce(0,"span",0),Wt(1,"span",1),vt(2),Ce(3,"span",2),vt(4,1),be(),vt(5,2),be()),2&r&&(Be(1),ze("matRippleTrigger",d._getHostElement())("matRippleDisabled",d._isRippleDisabled()))},directives:[vw],encapsulation:2,changeDetection:0}),l})(),Y2=(()=>{class l{}return l.\u0275fac=function(r){return new(r||l)},l.\u0275mod=Tt({type:l}),l.\u0275inj=_t({imports:[[DN,uA,Dr,TN,am],DN,Dr,TN,R2]}),l})();class AM{attach(a){return this._attachedHost=a,a.attach(this)}detach(){let a=this._attachedHost;null!=a&&(this._attachedHost=null,a.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(a){this._attachedHost=a}}class TM extends AM{constructor(a,r,d,v){super(),this.component=a,this.viewContainerRef=r,this.injector=d,this.componentFactoryResolver=v}}class RM extends AM{constructor(a,r,d){super(),this.templateRef=a,this.viewContainerRef=r,this.context=d}get origin(){return this.templateRef.elementRef}attach(a,r=this.context){return this.context=r,super.attach(a)}detach(){return this.context=void 0,super.detach()}}class q2 extends AM{constructor(a){super(),this.element=a instanceof Lt?a.nativeElement:a}}class lk{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(a){return a instanceof TM?(this._attachedPortal=a,this.attachComponentPortal(a)):a instanceof RM?(this._attachedPortal=a,this.attachTemplatePortal(a)):this.attachDomPortal&&a instanceof q2?(this._attachedPortal=a,this.attachDomPortal(a)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(a){this._disposeFn=a}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class X2 extends lk{constructor(a,r,d,v,C){super(),this.outletElement=a,this._componentFactoryResolver=r,this._appRef=d,this._defaultInjector=v,this.attachDomPortal=S=>{const O=S.element,T=this._document.createComment("dom-portal");O.parentNode.insertBefore(T,O),this.outletElement.appendChild(O),this._attachedPortal=S,super.setDisposeFn(()=>{T.parentNode&&T.parentNode.replaceChild(O,T)})},this._document=C}attachComponentPortal(a){const d=(a.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(a.component);let v;return a.viewContainerRef?(v=a.viewContainerRef.createComponent(d,a.viewContainerRef.length,a.injector||a.viewContainerRef.injector),this.setDisposeFn(()=>v.destroy())):(v=d.create(a.injector||this._defaultInjector),this._appRef.attachView(v.hostView),this.setDisposeFn(()=>{this._appRef.detachView(v.hostView),v.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(v)),this._attachedPortal=a,v}attachTemplatePortal(a){let r=a.viewContainerRef,d=r.createEmbeddedView(a.templateRef,a.context);return d.rootNodes.forEach(v=>this.outletElement.appendChild(v)),d.detectChanges(),this.setDisposeFn(()=>{let v=r.indexOf(d);-1!==v&&r.remove(v)}),this._attachedPortal=a,d}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(a){return a.hostView.rootNodes[0]}}let PM=(()=>{class l extends lk{constructor(r,d,v){super(),this._componentFactoryResolver=r,this._viewContainerRef=d,this._isInitialized=!1,this.attached=new he,this.attachDomPortal=C=>{const S=C.element,O=this._document.createComment("dom-portal");C.setAttachedHost(this),S.parentNode.insertBefore(O,S),this._getRootNode().appendChild(S),this._attachedPortal=C,super.setDisposeFn(()=>{O.parentNode&&O.parentNode.replaceChild(S,O)})},this._document=v}get portal(){return this._attachedPortal}set portal(r){this.hasAttached()&&!r&&!this._isInitialized||(this.hasAttached()&&super.detach(),r&&super.attach(r),this._attachedPortal=r||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(r){r.setAttachedHost(this);const d=null!=r.viewContainerRef?r.viewContainerRef:this._viewContainerRef,C=(r.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(r.component),S=d.createComponent(C,d.length,r.injector||d.injector);return d!==this._viewContainerRef&&this._getRootNode().appendChild(S.hostView.rootNodes[0]),super.setDisposeFn(()=>S.destroy()),this._attachedPortal=r,this._attachedRef=S,this.attached.emit(S),S}attachTemplatePortal(r){r.setAttachedHost(this);const d=this._viewContainerRef.createEmbeddedView(r.templateRef,r.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=r,this._attachedRef=d,this.attached.emit(d),d}_getRootNode(){const r=this._viewContainerRef.element.nativeElement;return r.nodeType===r.ELEMENT_NODE?r:r.parentNode}}return l.\u0275fac=function(r){return new(r||l)(ne(Ni),ne(ei),ne(ue))},l.\u0275dir=Ke({type:l,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[Pt]}),l})(),RA=(()=>{class l{}return l.\u0275fac=function(r){return new(r||l)},l.\u0275mod=Tt({type:l}),l.\u0275inj=_t({}),l})();const uk=zF();class Q2{constructor(a,r){this._viewportRuler=a,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=r}attach(){}enable(){if(this._canBeEnabled()){const a=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=a.style.left||"",this._previousHTMLStyles.top=a.style.top||"",a.style.left=Gi(-this._previousScrollPosition.left),a.style.top=Gi(-this._previousScrollPosition.top),a.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const a=this._document.documentElement,d=a.style,v=this._document.body.style,C=d.scrollBehavior||"",S=v.scrollBehavior||"";this._isEnabled=!1,d.left=this._previousHTMLStyles.left,d.top=this._previousHTMLStyles.top,a.classList.remove("cdk-global-scrollblock"),uk&&(d.scrollBehavior=v.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),uk&&(d.scrollBehavior=C,v.scrollBehavior=S)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const r=this._document.body,d=this._viewportRuler.getViewportSize();return r.scrollHeight>d.height||r.scrollWidth>d.width}}class Z2{constructor(a,r,d,v){this._scrollDispatcher=a,this._ngZone=r,this._viewportRuler=d,this._config=v,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(a){this._overlayRef=a}enable(){if(this._scrollSubscription)return;const a=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=a.subscribe(()=>{const r=this._viewportRuler.getViewportScrollPosition().top;Math.abs(r-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=a.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class ck{enable(){}disable(){}attach(){}}function MM(l,a){return a.some(r=>l.bottom<r.top||l.top>r.bottom||l.right<r.left||l.left>r.right)}function dk(l,a){return a.some(r=>l.top<r.top||l.bottom>r.bottom||l.left<r.left||l.right>r.right)}class J2{constructor(a,r,d,v){this._scrollDispatcher=a,this._viewportRuler=r,this._ngZone=d,this._config=v,this._scrollSubscription=null}attach(a){this._overlayRef=a}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const r=this._overlayRef.overlayElement.getBoundingClientRect(),{width:d,height:v}=this._viewportRuler.getViewportSize();MM(r,[{width:d,height:v,bottom:v,right:d,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let ej=(()=>{class l{constructor(r,d,v,C){this._scrollDispatcher=r,this._viewportRuler=d,this._ngZone=v,this.noop=()=>new ck,this.close=S=>new Z2(this._scrollDispatcher,this._ngZone,this._viewportRuler,S),this.block=()=>new Q2(this._viewportRuler,this._document),this.reposition=S=>new J2(this._scrollDispatcher,this._viewportRuler,this._ngZone,S),this._document=C}}return l.\u0275fac=function(r){return new(r||l)(Le(pA),Le(iM),Le(Xt),Le(ue))},l.\u0275prov=ot({token:l,factory:l.\u0275fac,providedIn:"root"}),l})();class pk{constructor(a){if(this.scrollStrategy=new ck,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,a){const r=Object.keys(a);for(const d of r)void 0!==a[d]&&(this[d]=a[d])}}}class tj{constructor(a,r){this.connectionPair=a,this.scrollableViewProperties=r}}let hk=(()=>{class l{constructor(r){this._attachedOverlays=[],this._document=r}ngOnDestroy(){this.detach()}add(r){this.remove(r),this._attachedOverlays.push(r)}remove(r){const d=this._attachedOverlays.indexOf(r);d>-1&&this._attachedOverlays.splice(d,1),0===this._attachedOverlays.length&&this.detach()}}return l.\u0275fac=function(r){return new(r||l)(Le(ue))},l.\u0275prov=ot({token:l,factory:l.\u0275fac,providedIn:"root"}),l})(),nj=(()=>{class l extends hk{constructor(r){super(r),this._keydownListener=d=>{const v=this._attachedOverlays;for(let C=v.length-1;C>-1;C--)if(v[C]._keydownEvents.observers.length>0){v[C]._keydownEvents.next(d);break}}}add(r){super.add(r),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return l.\u0275fac=function(r){return new(r||l)(Le(ue))},l.\u0275prov=ot({token:l,factory:l.\u0275fac,providedIn:"root"}),l})(),rj=(()=>{class l extends hk{constructor(r,d){super(r),this._platform=d,this._cursorStyleIsSet=!1,this._pointerDownListener=v=>{this._pointerDownEventTarget=f_(v)},this._clickListener=v=>{const C=f_(v),S="click"===v.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:C;this._pointerDownEventTarget=null;const O=this._attachedOverlays.slice();for(let T=O.length-1;T>-1;T--){const F=O[T];if(!(F._outsidePointerEvents.observers.length<1)&&F.hasAttached()){if(F.overlayElement.contains(C)||F.overlayElement.contains(S))break;F._outsidePointerEvents.next(v)}}}}add(r){if(super.add(r),!this._isAttached){const d=this._document.body;d.addEventListener("pointerdown",this._pointerDownListener,!0),d.addEventListener("click",this._clickListener,!0),d.addEventListener("auxclick",this._clickListener,!0),d.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=d.style.cursor,d.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const r=this._document.body;r.removeEventListener("pointerdown",this._pointerDownListener,!0),r.removeEventListener("click",this._clickListener,!0),r.removeEventListener("auxclick",this._clickListener,!0),r.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(r.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return l.\u0275fac=function(r){return new(r||l)(Le(ue),Le(ha))},l.\u0275prov=ot({token:l,factory:l.\u0275fac,providedIn:"root"}),l})(),fk=(()=>{class l{constructor(r,d){this._platform=d,this._document=r}ngOnDestroy(){var r;null==(r=this._containerElement)||r.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const r="cdk-overlay-container";if(this._platform.isBrowser||fP()){const v=this._document.querySelectorAll(`.${r}[platform="server"], .${r}[platform="test"]`);for(let C=0;C<v.length;C++)v[C].remove()}const d=this._document.createElement("div");d.classList.add(r),fP()?d.setAttribute("platform","test"):this._platform.isBrowser||d.setAttribute("platform","server"),this._document.body.appendChild(d),this._containerElement=d}}return l.\u0275fac=function(r){return new(r||l)(Le(ue),Le(ha))},l.\u0275prov=ot({token:l,factory:l.\u0275fac,providedIn:"root"}),l})();class ij{constructor(a,r,d,v,C,S,O,T,F){this._portalOutlet=a,this._host=r,this._pane=d,this._config=v,this._ngZone=C,this._keyboardDispatcher=S,this._document=O,this._location=T,this._outsideClickDispatcher=F,this._backdropElement=null,this._backdropClick=new Mt,this._attachments=new Mt,this._detachments=new Mt,this._locationChanges=an.EMPTY,this._backdropClickHandler=k=>this._backdropClick.next(k),this._keydownEvents=new Mt,this._outsidePointerEvents=new Mt,v.scrollStrategy&&(this._scrollStrategy=v.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=v.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(a){let r=this._portalOutlet.attach(a);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(fo(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),r}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const a=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),a}dispose(){var r;const a=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null==(r=this._host)||r.remove(),this._previousHostParent=this._pane=this._host=null,a&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(a){a!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=a,this.hasAttached()&&(a.attach(this),this.updatePosition()))}updateSize(a){this._config=An(An({},this._config),a),this._updateElementSize()}setDirection(a){this._config=Cm(An({},this._config),{direction:a}),this._updateElementDirection()}addPanelClass(a){this._pane&&this._toggleClasses(this._pane,a,!0)}removePanelClass(a){this._pane&&this._toggleClasses(this._pane,a,!1)}getDirection(){const a=this._config.direction;return a?"string"==typeof a?a:a.value:"ltr"}updateScrollStrategy(a){a!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=a,this.hasAttached()&&(a.attach(this),a.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const a=this._pane.style;a.width=Gi(this._config.width),a.height=Gi(this._config.height),a.minWidth=Gi(this._config.minWidth),a.minHeight=Gi(this._config.minHeight),a.maxWidth=Gi(this._config.maxWidth),a.maxHeight=Gi(this._config.maxHeight)}_togglePointerEvents(a){this._pane.style.pointerEvents=a?"":"none"}_attachBackdrop(){const a="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(a)})}):this._backdropElement.classList.add(a)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const a=this._backdropElement;if(!a)return;let r;const d=()=>{a&&(a.removeEventListener("click",this._backdropClickHandler),a.removeEventListener("transitionend",d),this._disposeBackdrop(a)),this._config.backdropClass&&this._toggleClasses(a,this._config.backdropClass,!1),clearTimeout(r)};a.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{a.addEventListener("transitionend",d)}),a.style.pointerEvents="none",r=this._ngZone.runOutsideAngular(()=>setTimeout(d,500))}_toggleClasses(a,r,d){const v=QF(r||[]).filter(C=>!!C);v.length&&(d?a.classList.add(...v):a.classList.remove(...v))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const a=this._ngZone.onStable.pipe(Er(Ge(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),a.unsubscribe())})})}_disposeScrollStrategy(){const a=this._scrollStrategy;a&&(a.disable(),a.detach&&a.detach())}_disposeBackdrop(a){a&&(a.remove(),this._backdropElement===a&&(this._backdropElement=null))}}const gk="cdk-overlay-connected-position-bounding-box",oj=/([A-Za-z%]+)$/;class mk{constructor(a,r,d,v,C){this._viewportRuler=r,this._document=d,this._platform=v,this._overlayContainer=C,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Mt,this._resizeSubscription=an.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(a)}get positions(){return this._preferredPositions}attach(a){this._validatePositions(),a.hostElement.classList.add(gk),this._overlayRef=a,this._boundingBox=a.hostElement,this._pane=a.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const a=this._originRect,r=this._overlayRect,d=this._viewportRect,v=this._containerRect,C=[];let S;for(let O of this._preferredPositions){let T=this._getOriginPoint(a,v,O),F=this._getOverlayPoint(T,r,O),k=this._getOverlayFit(F,r,d,O);if(k.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(O,T);this._canFitWithFlexibleDimensions(k,F,d)?C.push({position:O,origin:T,overlayRect:r,boundingBoxRect:this._calculateBoundingBoxRect(T,O)}):(!S||S.overlayFit.visibleArea<k.visibleArea)&&(S={overlayFit:k,overlayPoint:F,originPoint:T,position:O,overlayRect:r})}if(C.length){let O=null,T=-1;for(const F of C){const k=F.boundingBoxRect.width*F.boundingBoxRect.height*(F.position.weight||1);k>T&&(T=k,O=F)}return this._isPushed=!1,void this._applyPosition(O.position,O.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(S.position,S.originPoint);this._applyPosition(S.position,S.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&E_(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(gk),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const a=this._lastPosition;if(a){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const r=this._getOriginPoint(this._originRect,this._containerRect,a);this._applyPosition(a,r)}else this.apply()}withScrollableContainers(a){return this._scrollables=a,this}withPositions(a){return this._preferredPositions=a,-1===a.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(a){return this._viewportMargin=a,this}withFlexibleDimensions(a=!0){return this._hasFlexibleDimensions=a,this}withGrowAfterOpen(a=!0){return this._growAfterOpen=a,this}withPush(a=!0){return this._canPush=a,this}withLockedPosition(a=!0){return this._positionLocked=a,this}setOrigin(a){return this._origin=a,this}withDefaultOffsetX(a){return this._offsetX=a,this}withDefaultOffsetY(a){return this._offsetY=a,this}withTransformOriginOn(a){return this._transformOriginSelector=a,this}_getOriginPoint(a,r,d){let v,C;if("center"==d.originX)v=a.left+a.width/2;else{const S=this._isRtl()?a.right:a.left,O=this._isRtl()?a.left:a.right;v="start"==d.originX?S:O}return r.left<0&&(v-=r.left),C="center"==d.originY?a.top+a.height/2:"top"==d.originY?a.top:a.bottom,r.top<0&&(C-=r.top),{x:v,y:C}}_getOverlayPoint(a,r,d){let v,C;return v="center"==d.overlayX?-r.width/2:"start"===d.overlayX?this._isRtl()?-r.width:0:this._isRtl()?0:-r.width,C="center"==d.overlayY?-r.height/2:"top"==d.overlayY?0:-r.height,{x:a.x+v,y:a.y+C}}_getOverlayFit(a,r,d,v){const C=yk(r);let{x:S,y:O}=a,T=this._getOffset(v,"x"),F=this._getOffset(v,"y");T&&(S+=T),F&&(O+=F);let Q=0-O,oe=O+C.height-d.height,de=this._subtractOverflows(C.width,0-S,S+C.width-d.width),_e=this._subtractOverflows(C.height,Q,oe),Te=de*_e;return{visibleArea:Te,isCompletelyWithinViewport:C.width*C.height===Te,fitsInViewportVertically:_e===C.height,fitsInViewportHorizontally:de==C.width}}_canFitWithFlexibleDimensions(a,r,d){if(this._hasFlexibleDimensions){const v=d.bottom-r.y,C=d.right-r.x,S=vk(this._overlayRef.getConfig().minHeight),O=vk(this._overlayRef.getConfig().minWidth),F=a.fitsInViewportHorizontally||null!=O&&O<=C;return(a.fitsInViewportVertically||null!=S&&S<=v)&&F}return!1}_pushOverlayOnScreen(a,r,d){if(this._previousPushAmount&&this._positionLocked)return{x:a.x+this._previousPushAmount.x,y:a.y+this._previousPushAmount.y};const v=yk(r),C=this._viewportRect,S=Math.max(a.x+v.width-C.width,0),O=Math.max(a.y+v.height-C.height,0),T=Math.max(C.top-d.top-a.y,0),F=Math.max(C.left-d.left-a.x,0);let k=0,j=0;return k=v.width<=C.width?F||-S:a.x<this._viewportMargin?C.left-d.left-a.x:0,j=v.height<=C.height?T||-O:a.y<this._viewportMargin?C.top-d.top-a.y:0,this._previousPushAmount={x:k,y:j},{x:a.x+k,y:a.y+j}}_applyPosition(a,r){if(this._setTransformOrigin(a),this._setOverlayElementStyles(r,a),this._setBoundingBoxStyles(r,a),a.panelClass&&this._addPanelClasses(a.panelClass),this._lastPosition=a,this._positionChanges.observers.length){const d=this._getScrollVisibility(),v=new tj(a,d);this._positionChanges.next(v)}this._isInitialRender=!1}_setTransformOrigin(a){if(!this._transformOriginSelector)return;const r=this._boundingBox.querySelectorAll(this._transformOriginSelector);let d,v=a.overlayY;d="center"===a.overlayX?"center":this._isRtl()?"start"===a.overlayX?"right":"left":"start"===a.overlayX?"left":"right";for(let C=0;C<r.length;C++)r[C].style.transformOrigin=`${d} ${v}`}_calculateBoundingBoxRect(a,r){const d=this._viewportRect,v=this._isRtl();let C,S,O,k,j,Q;if("top"===r.overlayY)S=a.y,C=d.height-S+this._viewportMargin;else if("bottom"===r.overlayY)O=d.height-a.y+2*this._viewportMargin,C=d.height-O+this._viewportMargin;else{const oe=Math.min(d.bottom-a.y+d.top,a.y),de=this._lastBoundingBoxSize.height;C=2*oe,S=a.y-oe,C>de&&!this._isInitialRender&&!this._growAfterOpen&&(S=a.y-de/2)}if("end"===r.overlayX&&!v||"start"===r.overlayX&&v)Q=d.width-a.x+this._viewportMargin,k=a.x-this._viewportMargin;else if("start"===r.overlayX&&!v||"end"===r.overlayX&&v)j=a.x,k=d.right-a.x;else{const oe=Math.min(d.right-a.x+d.left,a.x),de=this._lastBoundingBoxSize.width;k=2*oe,j=a.x-oe,k>de&&!this._isInitialRender&&!this._growAfterOpen&&(j=a.x-de/2)}return{top:S,left:j,bottom:O,right:Q,width:k,height:C}}_setBoundingBoxStyles(a,r){const d=this._calculateBoundingBoxRect(a,r);!this._isInitialRender&&!this._growAfterOpen&&(d.height=Math.min(d.height,this._lastBoundingBoxSize.height),d.width=Math.min(d.width,this._lastBoundingBoxSize.width));const v={};if(this._hasExactPosition())v.top=v.left="0",v.bottom=v.right=v.maxHeight=v.maxWidth="",v.width=v.height="100%";else{const C=this._overlayRef.getConfig().maxHeight,S=this._overlayRef.getConfig().maxWidth;v.height=Gi(d.height),v.top=Gi(d.top),v.bottom=Gi(d.bottom),v.width=Gi(d.width),v.left=Gi(d.left),v.right=Gi(d.right),v.alignItems="center"===r.overlayX?"center":"end"===r.overlayX?"flex-end":"flex-start",v.justifyContent="center"===r.overlayY?"center":"bottom"===r.overlayY?"flex-end":"flex-start",C&&(v.maxHeight=Gi(C)),S&&(v.maxWidth=Gi(S))}this._lastBoundingBoxSize=d,E_(this._boundingBox.style,v)}_resetBoundingBoxStyles(){E_(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){E_(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(a,r){const d={},v=this._hasExactPosition(),C=this._hasFlexibleDimensions,S=this._overlayRef.getConfig();if(v){const k=this._viewportRuler.getViewportScrollPosition();E_(d,this._getExactOverlayY(r,a,k)),E_(d,this._getExactOverlayX(r,a,k))}else d.position="static";let O="",T=this._getOffset(r,"x"),F=this._getOffset(r,"y");T&&(O+=`translateX(${T}px) `),F&&(O+=`translateY(${F}px)`),d.transform=O.trim(),S.maxHeight&&(v?d.maxHeight=Gi(S.maxHeight):C&&(d.maxHeight="")),S.maxWidth&&(v?d.maxWidth=Gi(S.maxWidth):C&&(d.maxWidth="")),E_(this._pane.style,d)}_getExactOverlayY(a,r,d){let v={top:"",bottom:""},C=this._getOverlayPoint(r,this._overlayRect,a);return this._isPushed&&(C=this._pushOverlayOnScreen(C,this._overlayRect,d)),"bottom"===a.overlayY?v.bottom=this._document.documentElement.clientHeight-(C.y+this._overlayRect.height)+"px":v.top=Gi(C.y),v}_getExactOverlayX(a,r,d){let S,v={left:"",right:""},C=this._getOverlayPoint(r,this._overlayRect,a);return this._isPushed&&(C=this._pushOverlayOnScreen(C,this._overlayRect,d)),S=this._isRtl()?"end"===a.overlayX?"left":"right":"end"===a.overlayX?"right":"left","right"===S?v.right=this._document.documentElement.clientWidth-(C.x+this._overlayRect.width)+"px":v.left=Gi(C.x),v}_getScrollVisibility(){const a=this._getOriginRect(),r=this._pane.getBoundingClientRect(),d=this._scrollables.map(v=>v.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:dk(a,d),isOriginOutsideView:MM(a,d),isOverlayClipped:dk(r,d),isOverlayOutsideView:MM(r,d)}}_subtractOverflows(a,...r){return r.reduce((d,v)=>d-Math.max(v,0),a)}_getNarrowedViewportRect(){const a=this._document.documentElement.clientWidth,r=this._document.documentElement.clientHeight,d=this._viewportRuler.getViewportScrollPosition();return{top:d.top+this._viewportMargin,left:d.left+this._viewportMargin,right:d.left+a-this._viewportMargin,bottom:d.top+r-this._viewportMargin,width:a-2*this._viewportMargin,height:r-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(a,r){return"x"===r?null==a.offsetX?this._offsetX:a.offsetX:null==a.offsetY?this._offsetY:a.offsetY}_validatePositions(){}_addPanelClasses(a){this._pane&&QF(a).forEach(r=>{""!==r&&-1===this._appliedPanelClasses.indexOf(r)&&(this._appliedPanelClasses.push(r),this._pane.classList.add(r))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(a=>{this._pane.classList.remove(a)}),this._appliedPanelClasses=[])}_getOriginRect(){const a=this._origin;if(a instanceof Lt)return a.nativeElement.getBoundingClientRect();if(a instanceof Element)return a.getBoundingClientRect();const r=a.width||0,d=a.height||0;return{top:a.y,bottom:a.y+d,left:a.x,right:a.x+r,height:d,width:r}}}function E_(l,a){for(let r in a)a.hasOwnProperty(r)&&(l[r]=a[r]);return l}function vk(l){if("number"!=typeof l&&null!=l){const[a,r]=l.split(oj);return r&&"px"!==r?null:parseFloat(a)}return l||null}function yk(l){return{top:Math.floor(l.top),right:Math.floor(l.right),bottom:Math.floor(l.bottom),left:Math.floor(l.left),width:Math.floor(l.width),height:Math.floor(l.height)}}const _k="cdk-global-overlay-wrapper";class aj{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(a){const r=a.getConfig();this._overlayRef=a,this._width&&!r.width&&a.updateSize({width:this._width}),this._height&&!r.height&&a.updateSize({height:this._height}),a.hostElement.classList.add(_k),this._isDisposed=!1}top(a=""){return this._bottomOffset="",this._topOffset=a,this._alignItems="flex-start",this}left(a=""){return this._rightOffset="",this._leftOffset=a,this._justifyContent="flex-start",this}bottom(a=""){return this._topOffset="",this._bottomOffset=a,this._alignItems="flex-end",this}right(a=""){return this._leftOffset="",this._rightOffset=a,this._justifyContent="flex-end",this}width(a=""){return this._overlayRef?this._overlayRef.updateSize({width:a}):this._width=a,this}height(a=""){return this._overlayRef?this._overlayRef.updateSize({height:a}):this._height=a,this}centerHorizontally(a=""){return this.left(a),this._justifyContent="center",this}centerVertically(a=""){return this.top(a),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const a=this._overlayRef.overlayElement.style,r=this._overlayRef.hostElement.style,d=this._overlayRef.getConfig(),{width:v,height:C,maxWidth:S,maxHeight:O}=d,T=!("100%"!==v&&"100vw"!==v||S&&"100%"!==S&&"100vw"!==S),F=!("100%"!==C&&"100vh"!==C||O&&"100%"!==O&&"100vh"!==O);a.position=this._cssPosition,a.marginLeft=T?"0":this._leftOffset,a.marginTop=F?"0":this._topOffset,a.marginBottom=this._bottomOffset,a.marginRight=this._rightOffset,T?r.justifyContent="flex-start":"center"===this._justifyContent?r.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?r.justifyContent="flex-end":"flex-end"===this._justifyContent&&(r.justifyContent="flex-start"):r.justifyContent=this._justifyContent,r.alignItems=F?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const a=this._overlayRef.overlayElement.style,r=this._overlayRef.hostElement,d=r.style;r.classList.remove(_k),d.justifyContent=d.alignItems=a.marginTop=a.marginBottom=a.marginLeft=a.marginRight=a.position="",this._overlayRef=null,this._isDisposed=!0}}let sj=(()=>{class l{constructor(r,d,v,C){this._viewportRuler=r,this._document=d,this._platform=v,this._overlayContainer=C}global(){return new aj}flexibleConnectedTo(r){return new mk(r,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return l.\u0275fac=function(r){return new(r||l)(Le(iM),Le(ue),Le(ha),Le(fk))},l.\u0275prov=ot({token:l,factory:l.\u0275fac,providedIn:"root"}),l})(),lj=0,PA=(()=>{class l{constructor(r,d,v,C,S,O,T,F,k,j,Q){this.scrollStrategies=r,this._overlayContainer=d,this._componentFactoryResolver=v,this._positionBuilder=C,this._keyboardDispatcher=S,this._injector=O,this._ngZone=T,this._document=F,this._directionality=k,this._location=j,this._outsideClickDispatcher=Q}create(r){const d=this._createHostElement(),v=this._createPaneElement(d),C=this._createPortalOutlet(v),S=new pk(r);return S.direction=S.direction||this._directionality.value,new ij(C,d,v,S,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(r){const d=this._document.createElement("div");return d.id="cdk-overlay-"+lj++,d.classList.add("cdk-overlay-pane"),r.appendChild(d),d}_createHostElement(){const r=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(r),r}_createPortalOutlet(r){return this._appRef||(this._appRef=this._injector.get(Wo)),new X2(r,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return l.\u0275fac=function(r){return new(r||l)(Le(ej),Le(fk),Le(Ni),Le(sj),Le(nj),Le(kr),Le(Xt),Le(ue),Le(dm),Le(Ze),Le(rj))},l.\u0275prov=ot({token:l,factory:l.\u0275fac}),l})();const dj={provide:new Xe("cdk-connected-overlay-scroll-strategy"),deps:[PA],useFactory:function(l){return()=>l.scrollStrategies.reposition()}};let pj=(()=>{class l{}return l.\u0275fac=function(r){return new(r||l)},l.\u0275mod=Tt({type:l}),l.\u0275inj=_t({providers:[PA,dj],imports:[[U0,RA,NN],NN]}),l})();const hj=["mat-button",""],fj=["*"],mj=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],vj=gw(JP(mw(class{constructor(l){this._elementRef=l}})));let MA=(()=>{class l extends vj{constructor(r,d,v){super(r),this._focusMonitor=d,this._animationMode=v,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const C of mj)this._hasHostAttributes(C)&&this._getHostElement().classList.add(C);r.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(r,d){r?this._focusMonitor.focusVia(this._getHostElement(),r,d):this._getHostElement().focus(d)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...r){return r.some(d=>this._getHostElement().hasAttribute(d))}}return l.\u0275fac=function(r){return new(r||l)(ne(Lt),ne(dw),ne(Bd,8))},l.\u0275cmp=Yt({type:l,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(r,d){if(1&r&&gr(vw,5),2&r){let v;rt(v=ht())&&(d.ripple=v.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(r,d){2&r&&(zt("disabled",d.disabled||null),G("_mat-animation-noopable","NoopAnimations"===d._animationMode)("mat-button-disabled",d.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[Pt],attrs:hj,ngContentSelectors:fj,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(r,d){1&r&&(ir(),Ce(0,"span",0),vt(1),be(),Wt(2,"span",1),Wt(3,"span",2)),2&r&&(Be(2),G("mat-button-ripple-round",d.isRoundButton||d.isIconButton),ze("matRippleDisabled",d._isRippleDisabled())("matRippleCentered",d.isIconButton)("matRippleTrigger",d._getHostElement()))},directives:[vw],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),l})(),Ck=(()=>{class l{}return l.\u0275fac=function(r){return new(r||l)},l.\u0275mod=Tt({type:l}),l.\u0275inj=_t({imports:[[uA,Dr],Dr]}),l})();const yj=["connectionContainer"],_j=["inputContainer"],Cj=["label"];function bj(l,a){1&l&&(ys(0),Ce(1,"div",14),Wt(2,"div",15),Wt(3,"div",16),Wt(4,"div",17),be(),Ce(5,"div",18),Wt(6,"div",15),Wt(7,"div",16),Wt(8,"div",17),be(),Ga())}function wj(l,a){if(1&l){const r=Vr();Ce(0,"div",19),Ct("cdkObserveContent",function(){return In(r),ct().updateOutlineGap()}),vt(1,1),be()}2&l&&ze("cdkObserveContentDisabled","outline"!=ct().appearance)}function Sj(l,a){if(1&l&&(ys(0),vt(1,2),Ce(2,"span"),bn(3),be(),Ga()),2&l){const r=ct(2);Be(3),Ba(r._control.placeholder)}}function Ej(l,a){1&l&&vt(0,3,["*ngSwitchCase","true"])}function Dj(l,a){1&l&&(Ce(0,"span",23),bn(1," *"),be())}function Oj(l,a){if(1&l){const r=Vr();Ce(0,"label",20,21),Ct("cdkObserveContent",function(){return In(r),ct().updateOutlineGap()}),ut(2,Sj,4,1,"ng-container",12),ut(3,Ej,1,0,"ng-content",12),ut(4,Dj,2,0,"span",22),be()}if(2&l){const r=ct();G("mat-empty",r._control.empty&&!r._shouldAlwaysFloat())("mat-form-field-empty",r._control.empty&&!r._shouldAlwaysFloat())("mat-accent","accent"==r.color)("mat-warn","warn"==r.color),ze("cdkObserveContentDisabled","outline"!=r.appearance)("id",r._labelId)("ngSwitch",r._hasLabel()),zt("for",r._control.id)("aria-owns",r._control.id),Be(2),ze("ngSwitchCase",!1),Be(1),ze("ngSwitchCase",!0),Be(1),ze("ngIf",!r.hideRequiredMarker&&r._control.required&&!r._control.disabled)}}function xj(l,a){1&l&&(Ce(0,"div",24),vt(1,4),be())}function Aj(l,a){if(1&l&&(Ce(0,"div",25),Wt(1,"span",26),be()),2&l){const r=ct();Be(1),G("mat-accent","accent"==r.color)("mat-warn","warn"==r.color)}}function Tj(l,a){1&l&&(Ce(0,"div"),vt(1,5),be()),2&l&&ze("@transitionMessages",ct()._subscriptAnimationState)}function Rj(l,a){if(1&l&&(Ce(0,"div",30),bn(1),be()),2&l){const r=ct(2);ze("id",r._hintLabelId),Be(1),Ba(r.hintLabel)}}function Pj(l,a){if(1&l&&(Ce(0,"div",27),ut(1,Rj,2,2,"div",28),vt(2,6),Wt(3,"div",29),vt(4,7),be()),2&l){const r=ct();ze("@transitionMessages",r._subscriptAnimationState),Be(1),ze("ngIf",r.hintLabel)}}const Mj=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],Fj=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],Ij=new Xe("MatError"),Nj={transitionMessages:g_("transitionMessages",[nu("enter",di({opacity:1,transform:"translateY(0%)"})),ru("void => enter",[di({opacity:0,transform:"translateY(-5px)"}),tu("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let FA=(()=>{class l{}return l.\u0275fac=function(r){return new(r||l)},l.\u0275dir=Ke({type:l}),l})();const Lj=new Xe("MatHint");let FM=(()=>{class l{}return l.\u0275fac=function(r){return new(r||l)},l.\u0275dir=Ke({type:l,selectors:[["mat-label"]]}),l})(),kj=(()=>{class l{}return l.\u0275fac=function(r){return new(r||l)},l.\u0275dir=Ke({type:l,selectors:[["mat-placeholder"]]}),l})();const Gj=new Xe("MatPrefix"),bk=new Xe("MatSuffix");let Vj=(()=>{class l{}return l.\u0275fac=function(r){return new(r||l)},l.\u0275dir=Ke({type:l,selectors:[["","matSuffix",""]],features:[yt([{provide:bk,useExisting:l}])]}),l})(),wk=0;const Hj=gw(class{constructor(l){this._elementRef=l}},"primary"),Wj=new Xe("MAT_FORM_FIELD_DEFAULT_OPTIONS"),IA=new Xe("MatFormField");let jj=(()=>{class l extends Hj{constructor(r,d,v,C,S,O,T){super(r),this._changeDetectorRef=d,this._dir=v,this._defaults=C,this._platform=S,this._ngZone=O,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new Mt,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+wk++,this._labelId="mat-form-field-label-"+wk++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==T,this.appearance=C&&C.appearance?C.appearance:"legacy",this._hideRequiredMarker=!(!C||null==C.hideRequiredMarker)&&C.hideRequiredMarker}get appearance(){return this._appearance}set appearance(r){const d=this._appearance;this._appearance=r||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&d!==r&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(r){this._hideRequiredMarker=xn(r)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(r){this._hintLabel=r,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(r){r!==this._floatLabel&&(this._floatLabel=r||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(r){this._explicitFormFieldControl=r}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const r=this._control;r.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${r.controlType}`),r.stateChanges.pipe(pl(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),r.ngControl&&r.ngControl.valueChanges&&r.ngControl.valueChanges.pipe(Er(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Er(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),Ge(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(pl(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(pl(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Er(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(r){const d=this._control?this._control.ngControl:null;return d&&d[r]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,Wd(this._label.nativeElement,"transitionend").pipe(fo(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let r=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&r.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const d=this._hintChildren?this._hintChildren.find(C=>"start"===C.align):null,v=this._hintChildren?this._hintChildren.find(C=>"end"===C.align):null;d?r.push(d.id):this._hintLabel&&r.push(this._hintLabelId),v&&r.push(v.id)}else this._errorChildren&&r.push(...this._errorChildren.map(d=>d.id));this._control.setDescribedByIds(r)}}_validateControlChild(){}updateOutlineGap(){const r=this._label?this._label.nativeElement:null,d=this._connectionContainerRef.nativeElement,v=".mat-form-field-outline-start",C=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!r||!r.children.length||!r.textContent.trim()){const k=d.querySelectorAll(`${v}, ${C}`);for(let j=0;j<k.length;j++)k[j].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let S=0,O=0;const T=d.querySelectorAll(v),F=d.querySelectorAll(C);if(this._label&&this._label.nativeElement.children.length){const k=d.getBoundingClientRect();if(0===k.width&&0===k.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const j=this._getStartEnd(k),Q=r.children,oe=this._getStartEnd(Q[0].getBoundingClientRect());let de=0;for(let _e=0;_e<Q.length;_e++)de+=Q[_e].offsetWidth;S=Math.abs(oe-j)-5,O=de>0?.75*de+10:0}for(let k=0;k<T.length;k++)T[k].style.width=`${S}px`;for(let k=0;k<F.length;k++)F[k].style.width=`${O}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(r){return this._dir&&"rtl"===this._dir.value?r.right:r.left}_isAttachedToDOM(){const r=this._elementRef.nativeElement;if(r.getRootNode){const d=r.getRootNode();return d&&d!==r}return document.documentElement.contains(r)}}return l.\u0275fac=function(r){return new(r||l)(ne(Lt),ne(Br),ne(dm,8),ne(Wj,8),ne(ha),ne(Xt),ne(Bd,8))},l.\u0275cmp=Yt({type:l,selectors:[["mat-form-field"]],contentQueries:function(r,d,v){if(1&r&&(rn(v,FA,5),rn(v,FA,7),rn(v,FM,5),rn(v,FM,7),rn(v,kj,5),rn(v,Ij,5),rn(v,Lj,5),rn(v,Gj,5),rn(v,bk,5)),2&r){let C;rt(C=ht())&&(d._controlNonStatic=C.first),rt(C=ht())&&(d._controlStatic=C.first),rt(C=ht())&&(d._labelChildNonStatic=C.first),rt(C=ht())&&(d._labelChildStatic=C.first),rt(C=ht())&&(d._placeholderChild=C.first),rt(C=ht())&&(d._errorChildren=C),rt(C=ht())&&(d._hintChildren=C),rt(C=ht())&&(d._prefixChildren=C),rt(C=ht())&&(d._suffixChildren=C)}},viewQuery:function(r,d){if(1&r&&(gr(yj,7),gr(_j,5),gr(Cj,5)),2&r){let v;rt(v=ht())&&(d._connectionContainerRef=v.first),rt(v=ht())&&(d._inputContainerRef=v.first),rt(v=ht())&&(d._label=v.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(r,d){2&r&&G("mat-form-field-appearance-standard","standard"==d.appearance)("mat-form-field-appearance-fill","fill"==d.appearance)("mat-form-field-appearance-outline","outline"==d.appearance)("mat-form-field-appearance-legacy","legacy"==d.appearance)("mat-form-field-invalid",d._control.errorState)("mat-form-field-can-float",d._canLabelFloat())("mat-form-field-should-float",d._shouldLabelFloat())("mat-form-field-has-label",d._hasFloatingLabel())("mat-form-field-hide-placeholder",d._hideControlPlaceholder())("mat-form-field-disabled",d._control.disabled)("mat-form-field-autofilled",d._control.autofilled)("mat-focused",d._control.focused)("ng-untouched",d._shouldForward("untouched"))("ng-touched",d._shouldForward("touched"))("ng-pristine",d._shouldForward("pristine"))("ng-dirty",d._shouldForward("dirty"))("ng-valid",d._shouldForward("valid"))("ng-invalid",d._shouldForward("invalid"))("ng-pending",d._shouldForward("pending"))("_mat-animation-noopable",!d._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[yt([{provide:IA,useExisting:l}]),Pt],ngContentSelectors:Fj,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(r,d){1&r&&(ir(Mj),Ce(0,"div",0),Ce(1,"div",1,2),Ct("click",function(C){return d._control.onContainerClick&&d._control.onContainerClick(C)}),ut(3,bj,9,0,"ng-container",3),ut(4,wj,2,1,"div",4),Ce(5,"div",5,6),vt(7),Ce(8,"span",7),ut(9,Oj,5,16,"label",8),be(),be(),ut(10,xj,2,0,"div",9),be(),ut(11,Aj,2,4,"div",10),Ce(12,"div",11),ut(13,Tj,2,1,"div",12),ut(14,Pj,5,2,"div",13),be(),be()),2&r&&(Be(3),ze("ngIf","outline"==d.appearance),Be(1),ze("ngIf",d._prefixChildren.length),Be(5),ze("ngIf",d._hasFloatingLabel()),Be(1),ze("ngIf",d._suffixChildren.length),Be(1),ze("ngIf","outline"!=d.appearance),Be(1),ze("ngSwitch",d._getDisplayedMessages()),Be(1),ze("ngSwitchCase","error"),Be(1),ze("ngSwitchCase","hint"))},directives:[fc,L0,eP,eI],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[Nj.transitionMessages]},changeDetection:0}),l})(),IM=(()=>{class l{}return l.\u0275fac=function(r){return new(r||l)},l.\u0275mod=Tt({type:l}),l.\u0275inj=_t({imports:[[am,Dr,jx],Dr]}),l})();const Ek=B0({passive:!0});let Uj=(()=>{class l{constructor(r,d){this._platform=r,this._ngZone=d,this._monitoredElements=new Map}monitor(r){if(!this._platform.isBrowser)return Or;const d=Rh(r),v=this._monitoredElements.get(d);if(v)return v.subject;const C=new Mt,S="cdk-text-field-autofilled",O=T=>{"cdk-text-field-autofill-start"!==T.animationName||d.classList.contains(S)?"cdk-text-field-autofill-end"===T.animationName&&d.classList.contains(S)&&(d.classList.remove(S),this._ngZone.run(()=>C.next({target:T.target,isAutofilled:!1}))):(d.classList.add(S),this._ngZone.run(()=>C.next({target:T.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{d.addEventListener("animationstart",O,Ek),d.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(d,{subject:C,unlisten:()=>{d.removeEventListener("animationstart",O,Ek)}}),C}stopMonitoring(r){const d=Rh(r),v=this._monitoredElements.get(d);v&&(v.unlisten(),v.subject.complete(),d.classList.remove("cdk-text-field-autofill-monitored"),d.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(d))}ngOnDestroy(){this._monitoredElements.forEach((r,d)=>this.stopMonitoring(d))}}return l.\u0275fac=function(r){return new(r||l)(Le(ha),Le(Xt))},l.\u0275prov=ot({token:l,factory:l.\u0275fac,providedIn:"root"}),l})(),Dk=(()=>{class l{}return l.\u0275fac=function(r){return new(r||l)},l.\u0275mod=Tt({type:l}),l.\u0275inj=_t({imports:[[aw]]}),l})();const Ok=new Xe("MAT_INPUT_VALUE_ACCESSOR"),zj=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let $j=0;const Kj=bN(class{constructor(l,a,r,d){this._defaultErrorStateMatcher=l,this._parentForm=a,this._parentFormGroup=r,this.ngControl=d}});let Yj=(()=>{class l extends Kj{constructor(r,d,v,C,S,O,T,F,k,j){super(O,C,S,v),this._elementRef=r,this._platform=d,this._autofillMonitor=F,this._formField=j,this._uid="mat-input-"+$j++,this.focused=!1,this.stateChanges=new Mt,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(de=>UF().has(de));const Q=this._elementRef.nativeElement,oe=Q.nodeName.toLowerCase();this._inputValueAccessor=T||Q,this._previousNativeValue=this.value,this.id=this.id,d.IOS&&k.runOutsideAngular(()=>{r.nativeElement.addEventListener("keyup",de=>{const _e=de.target;!_e.value&&0===_e.selectionStart&&0===_e.selectionEnd&&(_e.setSelectionRange(1,1),_e.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===oe,this._isTextarea="textarea"===oe,this._isInFormField=!!j,this._isNativeSelect&&(this.controlType=Q.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(r){this._disabled=xn(r),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(r){this._id=r||this._uid}get required(){var r,d,v,C;return null!=(C=null!=(v=this._required)?v:null==(d=null==(r=this.ngControl)?void 0:r.control)?void 0:d.hasValidator(_A.required))&&C}set required(r){this._required=xn(r)}get type(){return this._type}set type(r){this._type=r||"text",this._validateType(),!this._isTextarea&&UF().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(r){r!==this.value&&(this._inputValueAccessor.value=r,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(r){this._readonly=xn(r)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(r=>{this.autofilled=r.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(r){this._elementRef.nativeElement.focus(r)}_focusChanged(r){r!==this.focused&&(this.focused=r,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var d,v;const r=(null==(v=null==(d=this._formField)?void 0:d._hideControlPlaceholder)?void 0:v.call(d))?null:this.placeholder;if(r!==this._previousPlaceholder){const C=this._elementRef.nativeElement;this._previousPlaceholder=r,r?C.setAttribute("placeholder",r):C.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const r=this._elementRef.nativeElement.value;this._previousNativeValue!==r&&(this._previousNativeValue=r,this.stateChanges.next())}_validateType(){zj.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let r=this._elementRef.nativeElement.validity;return r&&r.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const r=this._elementRef.nativeElement,d=r.options[0];return this.focused||r.multiple||!this.empty||!!(r.selectedIndex>-1&&d&&d.label)}return this.focused||!this.empty}setDescribedByIds(r){r.length?this._elementRef.nativeElement.setAttribute("aria-describedby",r.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const r=this._elementRef.nativeElement;return this._isNativeSelect&&(r.multiple||r.size>1)}}return l.\u0275fac=function(r){return new(r||l)(ne(Lt),ne(ha),ne(jd,10),ne(w_,8),ne(S_,8),ne(K0),ne(Ok,10),ne(Uj),ne(Xt),ne(IA,8))},l.\u0275dir=Ke({type:l,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(r,d){1&r&&Ct("focus",function(){return d._focusChanged(!0)})("blur",function(){return d._focusChanged(!1)})("input",function(){return d._onInput()}),2&r&&(hh("disabled",d.disabled)("required",d.required),zt("id",d.id)("data-placeholder",d.placeholder)("name",d.name||null)("readonly",d.readonly&&!d._isNativeSelect||null)("aria-invalid",d.empty&&d.required?null:d.errorState)("aria-required",d.required),G("mat-input-server",d._isServer)("mat-native-select-inline",d._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[yt([{provide:FA,useExisting:l}]),Pt,$n]}),l})(),qj=(()=>{class l{}return l.\u0275fac=function(r){return new(r||l)},l.\u0275mod=Tt({type:l}),l.\u0275inj=_t({providers:[K0],imports:[[Dk,IM,Dr],Dk,IM]}),l})();const Xj=["mat-calendar-body",""];function Qj(l,a){if(1&l&&(Ce(0,"tr",2),Ce(1,"td",3),bn(2),be(),be()),2&l){const r=ct();Be(1),L("padding-top",r._cellPadding)("padding-bottom",r._cellPadding),zt("colspan",r.numCols),Be(1),Rd(" ",r.label," ")}}function Zj(l,a){if(1&l&&(Ce(0,"td",3),bn(1),be()),2&l){const r=ct(2);L("padding-top",r._cellPadding)("padding-bottom",r._cellPadding),zt("colspan",r._firstRowOffset),Be(1),Rd(" ",r._firstRowOffset>=r.labelMinRequiredCells?r.label:""," ")}}function Jj(l,a){if(1&l){const r=Vr();Ce(0,"td",7),Ce(1,"button",8),Ct("click",function(v){const S=In(r).$implicit;return ct(2)._cellClicked(S,v)}),Ce(2,"div",9),bn(3),be(),Wt(4,"div",10),be(),be()}if(2&l){const r=a.$implicit,d=a.index,v=ct().index,C=ct();L("width",C._cellWidth)("padding-top",C._cellPadding)("padding-bottom",C._cellPadding),zt("data-mat-row",v)("data-mat-col",d),Be(1),G("mat-calendar-body-disabled",!r.enabled)("mat-calendar-body-active",C._isActiveCell(v,d))("mat-calendar-body-range-start",C._isRangeStart(r.compareValue))("mat-calendar-body-range-end",C._isRangeEnd(r.compareValue))("mat-calendar-body-in-range",C._isInRange(r.compareValue))("mat-calendar-body-comparison-bridge-start",C._isComparisonBridgeStart(r.compareValue,v,d))("mat-calendar-body-comparison-bridge-end",C._isComparisonBridgeEnd(r.compareValue,v,d))("mat-calendar-body-comparison-start",C._isComparisonStart(r.compareValue))("mat-calendar-body-comparison-end",C._isComparisonEnd(r.compareValue))("mat-calendar-body-in-comparison-range",C._isInComparisonRange(r.compareValue))("mat-calendar-body-preview-start",C._isPreviewStart(r.compareValue))("mat-calendar-body-preview-end",C._isPreviewEnd(r.compareValue))("mat-calendar-body-in-preview",C._isInPreview(r.compareValue)),ze("ngClass",r.cssClasses)("tabindex",C._isActiveCell(v,d)?0:-1),zt("aria-label",r.ariaLabel)("aria-disabled",!r.enabled||null)("aria-pressed",C._isSelected(r.compareValue))("aria-current",C.todayValue===r.compareValue?"date":null),Be(1),G("mat-calendar-body-selected",C._isSelected(r.compareValue))("mat-calendar-body-comparison-identical",C._isComparisonIdentical(r.compareValue))("mat-calendar-body-today",C.todayValue===r.compareValue),Be(1),Rd(" ",r.displayValue," ")}}function e3(l,a){if(1&l&&(Ce(0,"tr",4),ut(1,Zj,2,6,"td",5),ut(2,Jj,5,47,"td",6),be()),2&l){const r=a.$implicit,d=a.index,v=ct();Be(1),ze("ngIf",0===d&&v._firstRowOffset),Be(1),ze("ngForOf",r)}}function t3(l,a){if(1&l&&(Ce(0,"th",5),bn(1),be()),2&l){const r=a.$implicit;zt("aria-label",r.long),Be(1),Rd(" ",r.narrow," ")}}const xk=["*"];function n3(l,a){}function r3(l,a){if(1&l){const r=Vr();Ce(0,"mat-month-view",5),Ct("activeDateChange",function(v){return In(r),ct().activeDate=v})("_userSelection",function(v){return In(r),ct()._dateSelected(v)}),be()}if(2&l){const r=ct();ze("activeDate",r.activeDate)("selected",r.selected)("dateFilter",r.dateFilter)("maxDate",r.maxDate)("minDate",r.minDate)("dateClass",r.dateClass)("comparisonStart",r.comparisonStart)("comparisonEnd",r.comparisonEnd)}}function o3(l,a){if(1&l){const r=Vr();Ce(0,"mat-year-view",6),Ct("activeDateChange",function(v){return In(r),ct().activeDate=v})("monthSelected",function(v){return In(r),ct()._monthSelectedInYearView(v)})("selectedChange",function(v){return In(r),ct()._goToDateInView(v,"month")}),be()}if(2&l){const r=ct();ze("activeDate",r.activeDate)("selected",r.selected)("dateFilter",r.dateFilter)("maxDate",r.maxDate)("minDate",r.minDate)("dateClass",r.dateClass)}}function a3(l,a){if(1&l){const r=Vr();Ce(0,"mat-multi-year-view",7),Ct("activeDateChange",function(v){return In(r),ct().activeDate=v})("yearSelected",function(v){return In(r),ct()._yearSelectedInMultiYearView(v)})("selectedChange",function(v){return In(r),ct()._goToDateInView(v,"year")}),be()}if(2&l){const r=ct();ze("activeDate",r.activeDate)("selected",r.selected)("dateFilter",r.dateFilter)("maxDate",r.maxDate)("minDate",r.minDate)("dateClass",r.dateClass)}}function s3(l,a){}const l3=["button"];function u3(l,a){1&l&&(Eu(),Ce(0,"svg",3),Wt(1,"path",4),be())}const c3=[[["","matDatepickerToggleIcon",""]]],d3=["[matDatepickerToggleIcon]"],p3=[[["input","matStartDate",""]],[["input","matEndDate",""]]],h3=["input[matStartDate]","input[matEndDate]"];function f3(l,a){1&l&&(Ce(0,"div",0),vt(1),be())}let oD=(()=>{class l{constructor(){this.changes=new Mt,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year"}formatYearRange(r,d){return`${r} \u2013 ${d}`}}return l.\u0275fac=function(r){return new(r||l)},l.\u0275prov=ot({token:l,factory:l.\u0275fac,providedIn:"root"}),l})();class NM{constructor(a,r,d,v,C={},S=a,O){this.value=a,this.displayValue=r,this.ariaLabel=d,this.enabled=v,this.cssClasses=C,this.compareValue=S,this.rawValue=O}}let _w=(()=>{class l{constructor(r,d){this._elementRef=r,this._ngZone=d,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new he,this.previewChange=new he,this._enterHandler=v=>{if(this._skipNextFocus&&"focus"===v.type)this._skipNextFocus=!1;else if(v.target&&this.isRange){const C=this._getCellFromElement(v.target);C&&this._ngZone.run(()=>this.previewChange.emit({value:C.enabled?C:null,event:v}))}},this._leaveHandler=v=>{null!==this.previewEnd&&this.isRange&&v.target&&this._getCellFromElement(v.target)&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:v}))},d.runOutsideAngular(()=>{const v=r.nativeElement;v.addEventListener("mouseenter",this._enterHandler,!0),v.addEventListener("focus",this._enterHandler,!0),v.addEventListener("mouseleave",this._leaveHandler,!0),v.addEventListener("blur",this._leaveHandler,!0)})}_cellClicked(r,d){r.enabled&&this.selectedValueChange.emit({value:r.value,event:d})}_isSelected(r){return this.startValue===r||this.endValue===r}ngOnChanges(r){const d=r.numCols,{rows:v,numCols:C}=this;(r.rows||d)&&(this._firstRowOffset=v&&v.length&&v[0].length?C-v[0].length:0),(r.cellAspectRatio||d||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/C+"%"),(d||!this._cellWidth)&&(this._cellWidth=100/C+"%")}ngOnDestroy(){const r=this._elementRef.nativeElement;r.removeEventListener("mouseenter",this._enterHandler,!0),r.removeEventListener("focus",this._enterHandler,!0),r.removeEventListener("mouseleave",this._leaveHandler,!0),r.removeEventListener("blur",this._leaveHandler,!0)}_isActiveCell(r,d){let v=r*this.numCols+d;return r&&(v-=this._firstRowOffset),v==this.activeCell}_focusActiveCell(r=!0){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(fo(1)).subscribe(()=>{const d=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");d&&(r||(this._skipNextFocus=!0),d.focus())})})}_isRangeStart(r){return LM(r,this.startValue,this.endValue)}_isRangeEnd(r){return kM(r,this.startValue,this.endValue)}_isInRange(r){return GM(r,this.startValue,this.endValue,this.isRange)}_isComparisonStart(r){return LM(r,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(r,d,v){if(!this._isComparisonStart(r)||this._isRangeStart(r)||!this._isInRange(r))return!1;let C=this.rows[d][v-1];if(!C){const S=this.rows[d-1];C=S&&S[S.length-1]}return C&&!this._isRangeEnd(C.compareValue)}_isComparisonBridgeEnd(r,d,v){if(!this._isComparisonEnd(r)||this._isRangeEnd(r)||!this._isInRange(r))return!1;let C=this.rows[d][v+1];if(!C){const S=this.rows[d+1];C=S&&S[0]}return C&&!this._isRangeStart(C.compareValue)}_isComparisonEnd(r){return kM(r,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(r){return GM(r,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(r){return this.comparisonStart===this.comparisonEnd&&r===this.comparisonStart}_isPreviewStart(r){return LM(r,this.previewStart,this.previewEnd)}_isPreviewEnd(r){return kM(r,this.previewStart,this.previewEnd)}_isInPreview(r){return GM(r,this.previewStart,this.previewEnd,this.isRange)}_getCellFromElement(r){let d;if(Ak(r)?d=r:Ak(r.parentNode)&&(d=r.parentNode),d){const v=d.getAttribute("data-mat-row"),C=d.getAttribute("data-mat-col");if(v&&C)return this.rows[parseInt(v)][parseInt(C)]}return null}}return l.\u0275fac=function(r){return new(r||l)(ne(Lt),ne(Xt))},l.\u0275cmp=Yt({type:l,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange"},exportAs:["matCalendarBody"],features:[$n],attrs:Xj,decls:2,vars:2,consts:[["aria-hidden","true",4,"ngIf"],["role","row",4,"ngFor","ngForOf"],["aria-hidden","true"],[1,"mat-calendar-body-label"],["role","row"],["class","mat-calendar-body-label",3,"paddingTop","paddingBottom",4,"ngIf"],["role","gridcell","class","mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom",4,"ngFor","ngForOf"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"ngClass","tabindex","click"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(r,d){1&r&&(ut(0,Qj,3,6,"tr",0),ut(1,e3,3,2,"tr",1)),2&r&&(ze("ngIf",d._firstRowOffset<d.labelMinRequiredCells),Be(1),ze("ngForOf",d.rows))},directives:[fc,Tx,N0],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.7142857143%;padding-right:4.7142857143%}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content,.cdk-high-contrast-active .cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content{outline:dotted 2px}.cdk-high-contrast-active .cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content.mat-calendar-body-selected,.cdk-high-contrast-active .cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content.mat-calendar-body-selected{outline:solid 3px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}[dir=rtl] .mat-calendar-body-label{text-align:right}\n'],encapsulation:2,changeDetection:0}),l})();function Ak(l){return"TD"===l.nodeName}function LM(l,a,r){return null!==r&&a!==r&&l<r&&l===a}function kM(l,a,r){return null!==a&&a!==r&&l>=a&&l===r}function GM(l,a,r,d){return d&&null!==a&&null!==r&&a!==r&&l>=a&&l<=r}class va{constructor(a,r){this.start=a,this.end=r}}let ym=(()=>{class l{constructor(r,d){this.selection=r,this._adapter=d,this._selectionChanged=new Mt,this.selectionChanged=this._selectionChanged,this.selection=r}updateSelection(r,d){const v=this.selection;this.selection=r,this._selectionChanged.next({selection:r,source:d,oldValue:v})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(r){return this._adapter.isDateInstance(r)&&this._adapter.isValid(r)}}return l.\u0275fac=function(r){!function(){throw new Error("invalid")}()},l.\u0275prov=ot({token:l,factory:l.\u0275fac}),l})(),g3=(()=>{class l extends ym{constructor(r){super(null,r)}add(r){super.updateSelection(r,this)}isValid(){return null!=this.selection&&this._isValidDateInstance(this.selection)}isComplete(){return null!=this.selection}clone(){const r=new l(this._adapter);return r.updateSelection(this.selection,this),r}}return l.\u0275fac=function(r){return new(r||l)(Le(yi))},l.\u0275prov=ot({token:l,factory:l.\u0275fac}),l})(),m3=(()=>{class l extends ym{constructor(r){super(new va(null,null),r)}add(r){let{start:d,end:v}=this.selection;null==d?d=r:null==v?v=r:(d=r,v=null),super.updateSelection(new va(d,v),this)}isValid(){const{start:r,end:d}=this.selection;return null==r&&null==d||(null!=r&&null!=d?this._isValidDateInstance(r)&&this._isValidDateInstance(d)&&this._adapter.compareDate(r,d)<=0:(null==r||this._isValidDateInstance(r))&&(null==d||this._isValidDateInstance(d)))}isComplete(){return null!=this.selection.start&&null!=this.selection.end}clone(){const r=new l(this._adapter);return r.updateSelection(this.selection,this),r}}return l.\u0275fac=function(r){return new(r||l)(Le(yi))},l.\u0275prov=ot({token:l,factory:l.\u0275fac}),l})();const y3={provide:ym,deps:[[new qr,new js,ym],yi],useFactory:function(l,a){return l||new g3(a)}},C3={provide:ym,deps:[[new qr,new js,ym],yi],useFactory:function(l,a){return l||new m3(a)}},NA=new Xe("MAT_DATE_RANGE_SELECTION_STRATEGY");let b3=(()=>{class l{constructor(r){this._dateAdapter=r}selectionFinished(r,d){let{start:v,end:C}=d;return null==v?v=r:null==C&&r&&this._dateAdapter.compareDate(r,v)>=0?C=r:(v=r,C=null),new va(v,C)}createPreview(r,d){let v=null,C=null;return d.start&&!d.end&&r&&(v=d.start,C=r),new va(v,C)}}return l.\u0275fac=function(r){return new(r||l)(Le(yi))},l.\u0275prov=ot({token:l,factory:l.\u0275fac}),l})();const S3={provide:NA,deps:[[new qr,new js,NA],yi],useFactory:function(l,a){return l||new b3(a)}};let Tk=(()=>{class l{constructor(r,d,v,C,S){this._changeDetectorRef=r,this._dateFormats=d,this._dateAdapter=v,this._dir=C,this._rangeStrategy=S,this._rerenderSubscription=an.EMPTY,this.selectedChange=new he,this._userSelection=new he,this.activeDateChange=new he,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(r){const d=this._activeDate,v=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(r))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(v,this.minDate,this.maxDate),this._hasSameMonthAndYear(d,this._activeDate)||this._init()}get selected(){return this._selected}set selected(r){this._selected=r instanceof va?r:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(r)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(r){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(r))}get maxDate(){return this._maxDate}set maxDate(r){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(r))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(pl(null)).subscribe(()=>this._init())}ngOnChanges(r){const d=r.comparisonStart||r.comparisonEnd;d&&!d.firstChange&&this._setRanges(this.selected)}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(r){const d=r.value,v=this._dateAdapter.getYear(this.activeDate),C=this._dateAdapter.getMonth(this.activeDate),S=this._dateAdapter.createDate(v,C,d);let O,T;this._selected instanceof va?(O=this._getDateInCurrentMonth(this._selected.start),T=this._getDateInCurrentMonth(this._selected.end)):O=T=this._getDateInCurrentMonth(this._selected),(O!==d||T!==d)&&this.selectedChange.emit(S),this._userSelection.emit({value:S,event:r.event}),this._previewStart=this._previewEnd=null,this._changeDetectorRef.markForCheck()}_handleCalendarBodyKeydown(r){const d=this._activeDate,v=this._isRtl();switch(r.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,v?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,v?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case 40:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case 36:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case 33:this.activeDate=r.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case 34:this.activeDate=r.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case 13:case 32:return this._selectionKeyPressed=!0,void(this._canSelect(this._activeDate)&&r.preventDefault());case 27:return void(null!=this._previewEnd&&!cm(r)&&(this._previewStart=this._previewEnd=null,this.selectedChange.emit(null),this._userSelection.emit({value:null,event:r}),r.preventDefault(),r.stopPropagation()));default:return}this._dateAdapter.compareDate(d,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),r.preventDefault()}_handleCalendarBodyKeyup(r){(32===r.keyCode||13===r.keyCode)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:r}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(r)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(r){this._matCalendarBody._focusActiveCell(r)}_previewChanged({event:r,value:d}){if(this._rangeStrategy){const C=this._rangeStrategy.createPreview(d?d.rawValue:null,this.selected,r);this._previewStart=this._getCellCompareValue(C.start),this._previewEnd=this._getCellCompareValue(C.end),this._changeDetectorRef.detectChanges()}}_initWeekdays(){const r=this._dateAdapter.getFirstDayOfWeek(),d=this._dateAdapter.getDayOfWeekNames("narrow");let C=this._dateAdapter.getDayOfWeekNames("long").map((S,O)=>({long:S,narrow:d[O]}));this._weekdays=C.slice(r).concat(C.slice(0,r))}_createWeekCells(){const r=this._dateAdapter.getNumDaysInMonth(this.activeDate),d=this._dateAdapter.getDateNames();this._weeks=[[]];for(let v=0,C=this._firstWeekOffset;v<r;v++,C++){7==C&&(this._weeks.push([]),C=0);const S=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),v+1),O=this._shouldEnableDate(S),T=this._dateAdapter.format(S,this._dateFormats.display.dateA11yLabel),F=this.dateClass?this.dateClass(S,"month"):void 0;this._weeks[this._weeks.length-1].push(new NM(v+1,d[v],T,O,F,this._getCellCompareValue(S),S))}}_shouldEnableDate(r){return!!r&&(!this.minDate||this._dateAdapter.compareDate(r,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(r,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(r))}_getDateInCurrentMonth(r){return r&&this._hasSameMonthAndYear(r,this.activeDate)?this._dateAdapter.getDate(r):null}_hasSameMonthAndYear(r,d){return!(!r||!d||this._dateAdapter.getMonth(r)!=this._dateAdapter.getMonth(d)||this._dateAdapter.getYear(r)!=this._dateAdapter.getYear(d))}_getCellCompareValue(r){if(r){const d=this._dateAdapter.getYear(r),v=this._dateAdapter.getMonth(r),C=this._dateAdapter.getDate(r);return new Date(d,v,C).getTime()}return null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setRanges(r){r instanceof va?(this._rangeStart=this._getCellCompareValue(r.start),this._rangeEnd=this._getCellCompareValue(r.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(r),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(r){return!this.dateFilter||this.dateFilter(r)}}return l.\u0275fac=function(r){return new(r||l)(ne(Br),ne(Hd,8),ne(yi,8),ne(dm,8),ne(NA,8))},l.\u0275cmp=Yt({type:l,selectors:[["mat-month-view"]],viewQuery:function(r,d){if(1&r&&gr(_w,5),2&r){let v;rt(v=ht())&&(d._matCalendarBody=v.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[$n],decls:7,vars:13,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col",4,"ngFor","ngForOf"],["aria-hidden","true","colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","selectedValueChange","previewChange","keyup","keydown"],["scope","col"]],template:function(r,d){1&r&&(Ce(0,"table",0),Ce(1,"thead",1),Ce(2,"tr"),ut(3,t3,2,2,"th",2),be(),Ce(4,"tr"),Wt(5,"th",3),be(),be(),Ce(6,"tbody",4),Ct("selectedValueChange",function(C){return d._dateSelected(C)})("previewChange",function(C){return d._previewChanged(C)})("keyup",function(C){return d._handleCalendarBodyKeyup(C)})("keydown",function(C){return d._handleCalendarBodyKeydown(C)}),be(),be()),2&r&&(Be(3),ze("ngForOf",d._weekdays),Be(3),ze("label",d._monthLabel)("rows",d._weeks)("todayValue",d._todayDate)("startValue",d._rangeStart)("endValue",d._rangeEnd)("comparisonStart",d._comparisonRangeStart)("comparisonEnd",d._comparisonRangeEnd)("previewStart",d._previewStart)("previewEnd",d._previewEnd)("isRange",d._isRange)("labelMinRequiredCells",3)("activeCell",d._dateAdapter.getDate(d.activeDate)-1))},directives:[Tx,_w],encapsulation:2,changeDetection:0}),l})(),Rk=(()=>{class l{constructor(r,d,v){this._changeDetectorRef=r,this._dateAdapter=d,this._dir=v,this._rerenderSubscription=an.EMPTY,this.selectedChange=new he,this.yearSelected=new he,this.activeDateChange=new he,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(r){let d=this._activeDate;const v=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(r))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(v,this.minDate,this.maxDate),Pk(this._dateAdapter,d,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(r){this._selected=r instanceof va?r:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(r)),this._setSelectedYear(r)}get minDate(){return this._minDate}set minDate(r){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(r))}get maxDate(){return this._maxDate}set maxDate(r){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(r))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(pl(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const d=this._dateAdapter.getYear(this._activeDate)-aD(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let v=0,C=[];v<24;v++)C.push(d+v),4==C.length&&(this._years.push(C.map(S=>this._createCellForYear(S))),C=[]);this._changeDetectorRef.markForCheck()}_yearSelected(r){const d=r.value;this.yearSelected.emit(this._dateAdapter.createDate(d,0,1));let v=this._dateAdapter.getMonth(this.activeDate),C=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(d,v,1));this.selectedChange.emit(this._dateAdapter.createDate(d,v,Math.min(this._dateAdapter.getDate(this.activeDate),C)))}_handleCalendarBodyKeydown(r){const d=this._activeDate,v=this._isRtl();switch(r.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,v?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,v?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-aD(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,24-aD(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r.altKey?-240:-24);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r.altKey?240:24);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(d,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),r.preventDefault()}_handleCalendarBodyKeyup(r){(32===r.keyCode||13===r.keyCode)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:r}),this._selectionKeyPressed=!1)}_getActiveCell(){return aD(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_createCellForYear(r){const d=this._dateAdapter.createDate(r,0,1),v=this._dateAdapter.getYearName(d),C=this.dateClass?this.dateClass(d,"multi-year"):void 0;return new NM(r,v,v,this._shouldEnableYear(r),C)}_shouldEnableYear(r){if(null==r||this.maxDate&&r>this._dateAdapter.getYear(this.maxDate)||this.minDate&&r<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let v=this._dateAdapter.createDate(r,0,1);this._dateAdapter.getYear(v)==r;v=this._dateAdapter.addCalendarDays(v,1))if(this.dateFilter(v))return!0;return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedYear(r){if(this._selectedYear=null,r instanceof va){const d=r.start||r.end;d&&(this._selectedYear=this._dateAdapter.getYear(d))}else r&&(this._selectedYear=this._dateAdapter.getYear(r))}}return l.\u0275fac=function(r){return new(r||l)(ne(Br),ne(yi,8),ne(dm,8))},l.\u0275cmp=Yt({type:l,selectors:[["mat-multi-year-view"]],viewQuery:function(r,d){if(1&r&&gr(_w,5),2&r){let v;rt(v=ht())&&(d._matCalendarBody=v.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell","selectedValueChange","keyup","keydown"]],template:function(r,d){1&r&&(Ce(0,"table",0),Ce(1,"thead",1),Ce(2,"tr"),Wt(3,"th",2),be(),be(),Ce(4,"tbody",3),Ct("selectedValueChange",function(C){return d._yearSelected(C)})("keyup",function(C){return d._handleCalendarBodyKeyup(C)})("keydown",function(C){return d._handleCalendarBodyKeydown(C)}),be(),be()),2&r&&(Be(4),ze("rows",d._years)("todayValue",d._todayYear)("startValue",d._selectedYear)("endValue",d._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",d._getActiveCell()))},directives:[_w],encapsulation:2,changeDetection:0}),l})();function Pk(l,a,r,d,v){const C=l.getYear(a),S=l.getYear(r),O=Mk(l,d,v);return Math.floor((C-O)/24)===Math.floor((S-O)/24)}function aD(l,a,r,d){return function(l,a){return(l%24+24)%24}(l.getYear(a)-Mk(l,r,d))}function Mk(l,a,r){let d=0;return r?d=l.getYear(r)-24+1:a&&(d=l.getYear(a)),d}let Fk=(()=>{class l{constructor(r,d,v,C){this._changeDetectorRef=r,this._dateFormats=d,this._dateAdapter=v,this._dir=C,this._rerenderSubscription=an.EMPTY,this.selectedChange=new he,this.monthSelected=new he,this.activeDateChange=new he,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(r){let d=this._activeDate;const v=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(r))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(v,this.minDate,this.maxDate),this._dateAdapter.getYear(d)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(r){this._selected=r instanceof va?r:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(r)),this._setSelectedMonth(r)}get minDate(){return this._minDate}set minDate(r){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(r))}get maxDate(){return this._maxDate}set maxDate(r){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(r))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(pl(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(r){const d=r.value,v=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),d,1);this.monthSelected.emit(v);const C=this._dateAdapter.getNumDaysInMonth(v);this.selectedChange.emit(this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),d,Math.min(this._dateAdapter.getDate(this.activeDate),C)))}_handleCalendarBodyKeydown(r){const d=this._activeDate,v=this._isRtl();switch(r.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,v?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,v?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r.altKey?-10:-1);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r.altKey?10:1);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(d,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),r.preventDefault()}_handleCalendarBodyKeyup(r){(32===r.keyCode||13===r.keyCode)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:r}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let r=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(d=>d.map(v=>this._createCellForMonth(v,r[v]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_getMonthInCurrentYear(r){return r&&this._dateAdapter.getYear(r)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(r):null}_createCellForMonth(r,d){const v=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),r,1),C=this._dateAdapter.format(v,this._dateFormats.display.monthYearA11yLabel),S=this.dateClass?this.dateClass(v,"year"):void 0;return new NM(r,d.toLocaleUpperCase(),C,this._shouldEnableMonth(r),S)}_shouldEnableMonth(r){const d=this._dateAdapter.getYear(this.activeDate);if(null==r||this._isYearAndMonthAfterMaxDate(d,r)||this._isYearAndMonthBeforeMinDate(d,r))return!1;if(!this.dateFilter)return!0;for(let C=this._dateAdapter.createDate(d,r,1);this._dateAdapter.getMonth(C)==r;C=this._dateAdapter.addCalendarDays(C,1))if(this.dateFilter(C))return!0;return!1}_isYearAndMonthAfterMaxDate(r,d){if(this.maxDate){const v=this._dateAdapter.getYear(this.maxDate),C=this._dateAdapter.getMonth(this.maxDate);return r>v||r===v&&d>C}return!1}_isYearAndMonthBeforeMinDate(r,d){if(this.minDate){const v=this._dateAdapter.getYear(this.minDate),C=this._dateAdapter.getMonth(this.minDate);return r<v||r===v&&d<C}return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedMonth(r){this._selectedMonth=r instanceof va?this._getMonthInCurrentYear(r.start)||this._getMonthInCurrentYear(r.end):this._getMonthInCurrentYear(r)}}return l.\u0275fac=function(r){return new(r||l)(ne(Br),ne(Hd,8),ne(yi,8),ne(dm,8))},l.\u0275cmp=Yt({type:l,selectors:[["mat-year-view"]],viewQuery:function(r,d){if(1&r&&gr(_w,5),2&r){let v;rt(v=ht())&&(d._matCalendarBody=v.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell","selectedValueChange","keyup","keydown"]],template:function(r,d){1&r&&(Ce(0,"table",0),Ce(1,"thead",1),Ce(2,"tr"),Wt(3,"th",2),be(),be(),Ce(4,"tbody",3),Ct("selectedValueChange",function(C){return d._monthSelected(C)})("keyup",function(C){return d._handleCalendarBodyKeyup(C)})("keydown",function(C){return d._handleCalendarBodyKeydown(C)}),be(),be()),2&r&&(Be(4),ze("label",d._yearLabel)("rows",d._months)("todayValue",d._todayMonth)("startValue",d._selectedMonth)("endValue",d._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",d._dateAdapter.getMonth(d.activeDate)))},directives:[_w],encapsulation:2,changeDetection:0}),l})(),D3=0,O3=(()=>{class l{constructor(r,d,v,C,S){this._intl=r,this.calendar=d,this._dateAdapter=v,this._dateFormats=C,this._buttonDescriptionId="mat-calendar-button-"+D3++,this.calendar.stateChanges.subscribe(()=>S.markForCheck())}get periodButtonText(){if("month"==this.calendar.currentView)return this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase();if("year"==this.calendar.currentView)return this._dateAdapter.getYearName(this.calendar.activeDate);const d=this._dateAdapter.getYear(this.calendar.activeDate)-aD(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),v=d+24-1,C=this._dateAdapter.getYearName(this._dateAdapter.createDate(d,0,1)),S=this._dateAdapter.getYearName(this._dateAdapter.createDate(v,0,1));return this._intl.formatYearRange(C,S)}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-24)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:24)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(r,d){return"month"==this.calendar.currentView?this._dateAdapter.getYear(r)==this._dateAdapter.getYear(d)&&this._dateAdapter.getMonth(r)==this._dateAdapter.getMonth(d):"year"==this.calendar.currentView?this._dateAdapter.getYear(r)==this._dateAdapter.getYear(d):Pk(this._dateAdapter,r,d,this.calendar.minDate,this.calendar.maxDate)}}return l.\u0275fac=function(r){return new(r||l)(ne(oD),ne(fn(()=>HM)),ne(yi,8),ne(Hd,8),ne(Br))},l.\u0275cmp=Yt({type:l,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:xk,decls:11,vars:10,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["mat-button","","type","button","cdkAriaLive","polite",1,"mat-calendar-period-button",3,"click"],["viewBox","0 0 10 5","focusable","false",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"disabled","click"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"disabled","click"]],template:function(r,d){1&r&&(ir(),Ce(0,"div",0),Ce(1,"div",1),Ce(2,"button",2),Ct("click",function(){return d.currentPeriodClicked()}),Ce(3,"span"),bn(4),be(),Eu(),Ce(5,"svg",3),Wt(6,"polygon",4),be(),be(),qm(),Wt(7,"div",5),vt(8),Ce(9,"button",6),Ct("click",function(){return d.previousClicked()}),be(),Ce(10,"button",7),Ct("click",function(){return d.nextClicked()}),be(),be(),be()),2&r&&(Be(2),zt("aria-label",d.periodButtonLabel)("aria-describedby",d._buttonDescriptionId),Be(1),zt("id",d._buttonDescriptionId),Be(1),Ba(d.periodButtonText),Be(1),G("mat-calendar-invert","month"!==d.calendar.currentView),Be(4),ze("disabled",!d.previousEnabled()),zt("aria-label",d.prevButtonLabel),Be(1),ze("disabled",!d.nextEnabled()),zt("aria-label",d.nextButtonLabel))},directives:[MA,SV],encapsulation:2,changeDetection:0}),l})(),HM=(()=>{class l{constructor(r,d,v,C){this._dateAdapter=d,this._dateFormats=v,this._changeDetectorRef=C,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new he,this.yearSelected=new he,this.monthSelected=new he,this.viewChanged=new he(!0),this._userSelection=new he,this.stateChanges=new Mt,this._intlChanges=r.changes.subscribe(()=>{C.markForCheck(),this.stateChanges.next()})}get startAt(){return this._startAt}set startAt(r){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(r))}get selected(){return this._selected}set selected(r){this._selected=r instanceof va?r:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(r))}get minDate(){return this._minDate}set minDate(r){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(r))}get maxDate(){return this._maxDate}set maxDate(r){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(r))}get activeDate(){return this._clampedActiveDate}set activeDate(r){this._clampedActiveDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(r){const d=this._currentView!==r?r:null;this._currentView=r,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),d&&this.viewChanged.emit(d)}ngAfterContentInit(){this._calendarHeaderPortal=new TM(this.headerComponent||O3),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(r){const d=r.minDate||r.maxDate||r.dateFilter;if(d&&!d.firstChange){const v=this._getCurrentViewComponent();v&&(this._changeDetectorRef.detectChanges(),v._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(r){const d=r.value;(this.selected instanceof va||d&&!this._dateAdapter.sameDate(d,this.selected))&&this.selectedChange.emit(d),this._userSelection.emit(r)}_yearSelectedInMultiYearView(r){this.yearSelected.emit(r)}_monthSelectedInYearView(r){this.monthSelected.emit(r)}_goToDateInView(r,d){this.activeDate=r,this.currentView=d}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}}return l.\u0275fac=function(r){return new(r||l)(ne(oD),ne(yi,8),ne(Hd,8),ne(Br))},l.\u0275cmp=Yt({type:l,selectors:[["mat-calendar"]],viewQuery:function(r,d){if(1&r&&(gr(Tk,5),gr(Fk,5),gr(Rk,5)),2&r){let v;rt(v=ht())&&(d.monthView=v.first),rt(v=ht())&&(d.yearView=v.first),rt(v=ht())&&(d.multiYearView=v.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection"},exportAs:["matCalendar"],features:[yt([y3]),$n],decls:5,vars:5,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content",3,"ngSwitch"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange"]],template:function(r,d){1&r&&(ut(0,n3,0,0,"ng-template",0),Ce(1,"div",1),ut(2,r3,1,8,"mat-month-view",2),ut(3,o3,1,6,"mat-year-view",3),ut(4,a3,1,6,"mat-multi-year-view",4),be()),2&r&&(ze("cdkPortalOutlet",d._calendarHeaderPortal),Be(1),ze("ngSwitch",d.currentView),Be(1),ze("ngSwitchCase","month"),Be(1),ze("ngSwitchCase","year"),Be(1),ze("ngSwitchCase","multi-year"))},directives:[PM,dI,L0,eP,Tk,Fk,Rk],styles:['.mat-calendar{display:block}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-controls .mat-icon-button:hover .mat-button-focus-overlay{opacity:.04}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px}\n'],encapsulation:2,changeDetection:0}),l})();const Ik={transformPanel:g_("transformPanel",[ru("void => enter-dropdown",tu("120ms cubic-bezier(0, 0, 0.2, 1)",CI([di({opacity:0,transform:"scale(1, 0.8)"}),di({opacity:1,transform:"scale(1, 1)"})]))),ru("void => enter-dialog",tu("150ms cubic-bezier(0, 0, 0.2, 1)",CI([di({opacity:0,transform:"scale(0.7)"}),di({transform:"none",opacity:1})]))),ru("* => void",tu("100ms linear",di({opacity:0})))]),fadeInCalendar:g_("fadeInCalendar",[nu("void",di({opacity:0})),nu("enter",di({opacity:1})),ru("void => *",tu("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])};let x3=0;const Nk=new Xe("mat-datepicker-scroll-strategy"),T3={provide:Nk,deps:[PA],useFactory:function(l){return()=>l.scrollStrategies.reposition()}},R3=gw(class{constructor(l){this._elementRef=l}});let P3=(()=>{class l extends R3{constructor(r,d,v,C,S,O){super(r),this._changeDetectorRef=d,this._globalModel=v,this._dateAdapter=C,this._rangeSelectionStrategy=S,this._subscriptions=new an,this._animationDone=new Mt,this._actionsPortal=null,this._closeButtonText=O.closeCalendarLabel}ngOnInit(){this._model=this._actionsPortal?this._globalModel.clone():this._globalModel,this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(r){const d=this._model.selection,v=r.value,C=d instanceof va;if(C&&this._rangeSelectionStrategy){const S=this._rangeSelectionStrategy.selectionFinished(v,d,r.event);this._model.updateSelection(S,this)}else v&&(C||!this._dateAdapter.sameDate(v,d))&&this._model.add(v);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}}return l.\u0275fac=function(r){return new(r||l)(ne(Lt),ne(Br),ne(ym),ne(yi),ne(NA,8),ne(oD))},l.\u0275cmp=Yt({type:l,selectors:[["mat-datepicker-content"]],viewQuery:function(r,d){if(1&r&&gr(HM,5),2&r){let v;rt(v=ht())&&(d._calendar=v.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:3,hostBindings:function(r,d){1&r&&wg("@transformPanel.done",function(){return d._animationDone.next()}),2&r&&(Bb("@transformPanel",d._animationState),G("mat-datepicker-content-touch",d.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],features:[Pt],decls:5,vars:24,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"id","ngClass","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","yearSelected","monthSelected","viewChanged","_userSelection"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"color","focus","blur","click"]],template:function(r,d){if(1&r&&(Ce(0,"div",0),Ce(1,"mat-calendar",1),Ct("yearSelected",function(C){return d.datepicker._selectYear(C)})("monthSelected",function(C){return d.datepicker._selectMonth(C)})("viewChanged",function(C){return d.datepicker._viewChanged(C)})("_userSelection",function(C){return d._handleUserSelection(C)}),be(),ut(2,s3,0,0,"ng-template",2),Ce(3,"button",3),Ct("focus",function(){return d._closeButtonFocused=!0})("blur",function(){return d._closeButtonFocused=!1})("click",function(){return d.datepicker.close()}),bn(4),be(),be()),2&r){let v;G("mat-datepicker-content-container-with-custom-header",d.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",d._actionsPortal),zt("aria-modal",!0)("aria-labelledby",null!==(v=d._dialogLabelId)&&void 0!==v?v:void 0),Be(1),ze("id",d.datepicker.id)("ngClass",d.datepicker.panelClass)("startAt",d.datepicker.startAt)("startView",d.datepicker.startView)("minDate",d.datepicker._getMinDate())("maxDate",d.datepicker._getMaxDate())("dateFilter",d.datepicker._getDateFilter())("headerComponent",d.datepicker.calendarHeaderComponent)("selected",d._getSelected())("dateClass",d.datepicker.dateClass)("comparisonStart",d.comparisonStart)("comparisonEnd",d.comparisonEnd)("@fadeInCalendar","enter"),Be(1),ze("cdkPortalOutlet",d._actionsPortal),Be(1),G("cdk-visually-hidden",!d._closeButtonFocused),ze("color",d.color||"primary"),Be(1),Ba(d._closeButtonText)}},directives:[gV,HM,N0,PM,MA],styles:[".mat-datepicker-content{display:block;border-radius:4px}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}\n"],encapsulation:2,data:{animation:[Ik.transformPanel,Ik.fadeInCalendar]},changeDetection:0}),l})(),sD=(()=>{class l{constructor(r,d,v,C,S,O,T){this._overlay=r,this._ngZone=d,this._viewContainerRef=v,this._dateAdapter=S,this._dir=O,this._model=T,this._inputStateChanges=an.EMPTY,this.startView="month",this._touchUi=!1,this.xPosition="start",this.yPosition="below",this._restoreFocus=!0,this.yearSelected=new he,this.monthSelected=new he,this.viewChanged=new he(!0),this.openedStream=new he,this.closedStream=new he,this._opened=!1,this.id="mat-datepicker-"+x3++,this._focusedElementBeforeOpen=null,this._backdropHarnessClass=`${this.id}-backdrop`,this.stateChanges=new Mt,this._scrollStrategy=C}get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(r){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(r))}get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(r){this._color=r}get touchUi(){return this._touchUi}set touchUi(r){this._touchUi=xn(r)}get disabled(){return void 0===this._disabled&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(r){const d=xn(r);d!==this._disabled&&(this._disabled=d,this.stateChanges.next(void 0))}get restoreFocus(){return this._restoreFocus}set restoreFocus(r){this._restoreFocus=xn(r)}get panelClass(){return this._panelClass}set panelClass(r){this._panelClass=function(l,a=/\s+/){const r=[];if(null!=l){const d=Array.isArray(l)?l:`${l}`.split(a);for(const v of d){const C=`${v}`.trim();C&&r.push(C)}}return r}(r)}get opened(){return this._opened}set opened(r){xn(r)?this.open():this.close()}_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}ngOnChanges(r){const d=r.xPosition||r.yPosition;if(d&&!d.firstChange&&this._overlayRef){const v=this._overlayRef.getConfig().positionStrategy;v instanceof mk&&(this._setConnectedPositions(v),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(r){this._model.add(r)}_selectYear(r){this.yearSelected.emit(r)}_selectMonth(r){this.monthSelected.emit(r)}_viewChanged(r){this.viewChanged.emit(r)}registerInput(r){return this._inputStateChanges.unsubscribe(),this.datepickerInput=r,this._inputStateChanges=r.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(r){this._actionsPortal=r}removeActions(r){r===this._actionsPortal&&(this._actionsPortal=null)}open(){this._opened||this.disabled||(this._focusedElementBeforeOpen=$F(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened)return;if(this._componentRef){const d=this._componentRef.instance;d._startExitAnimation(),d._animationDone.pipe(fo(1)).subscribe(()=>this._destroyOverlay())}const r=()=>{this._opened&&(this._opened=!1,this.closedStream.emit(),this._focusedElementBeforeOpen=null)};this._restoreFocus&&this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus?(this._focusedElementBeforeOpen.focus(),setTimeout(r)):r()}_applyPendingSelection(){var r,d;null==(d=null==(r=this._componentRef)?void 0:r.instance)||d._applyPendingSelection()}_forwardContentValues(r){r.datepicker=this,r.color=this.color,r._actionsPortal=this._actionsPortal,r._dialogLabelId=this.datepickerInput.getOverlayLabelId()}_openOverlay(){this._destroyOverlay();const r=this.touchUi,d=new TM(P3,this._viewContainerRef),v=this._overlayRef=this._overlay.create(new pk({positionStrategy:r?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[r?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:r?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:"mat-datepicker-"+(r?"dialog":"popup")}));this._getCloseStream(v).subscribe(C=>{C&&C.preventDefault(),this.close()}),this._componentRef=v.attach(d),this._forwardContentValues(this._componentRef.instance),r||this._ngZone.onStable.pipe(fo(1)).subscribe(()=>v.updatePosition())}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){const r=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(r)}_setConnectedPositions(r){const d="end"===this.xPosition?"end":"start",v="start"===d?"end":"start",C="above"===this.yPosition?"bottom":"top",S="top"===C?"bottom":"top";return r.withPositions([{originX:d,originY:S,overlayX:d,overlayY:C},{originX:d,originY:C,overlayX:d,overlayY:S},{originX:v,originY:S,overlayX:v,overlayY:C},{originX:v,originY:C,overlayX:v,overlayY:S}])}_getCloseStream(r){return Ge(r.backdropClick(),r.detachments(),r.keydownEvents().pipe(fa(d=>27===d.keyCode&&!cm(d)||this.datepickerInput&&cm(d,"altKey")&&38===d.keyCode)))}}return l.\u0275fac=function(r){return new(r||l)(ne(PA),ne(Xt),ne(ei),ne(Nk),ne(yi,8),ne(dm,8),ne(ym))},l.\u0275dir=Ke({type:l,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:"touchUi",disabled:"disabled",xPosition:"xPosition",yPosition:"yPosition",restoreFocus:"restoreFocus",dateClass:"dateClass",panelClass:"panelClass",opened:"opened"},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[$n]}),l})();class LA{constructor(a,r){this.target=a,this.targetElement=r,this.value=this.target.value}}let Lk=(()=>{class l{constructor(r,d,v){this._elementRef=r,this._dateAdapter=d,this._dateFormats=v,this.dateChange=new he,this.dateInput=new he,this.stateChanges=new Mt,this._onTouched=()=>{},this._validatorOnChange=()=>{},this._cvaOnChange=()=>{},this._valueChangesSubscription=an.EMPTY,this._localeSubscription=an.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._filterValidator=C=>{const S=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(C.value));return!S||this._matchesFilter(S)?null:{matDatepickerFilter:!0}},this._minValidator=C=>{const S=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(C.value)),O=this._getMinDate();return!O||!S||this._dateAdapter.compareDate(O,S)<=0?null:{matDatepickerMin:{min:O,actual:S}}},this._maxValidator=C=>{const S=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(C.value)),O=this._getMaxDate();return!O||!S||this._dateAdapter.compareDate(O,S)>=0?null:{matDatepickerMax:{max:O,actual:S}}},this._lastValueValid=!1,this._localeSubscription=d.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(r){this._assignValueProgrammatically(r)}get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(r){const d=xn(r),v=this._elementRef.nativeElement;this._disabled!==d&&(this._disabled=d,this.stateChanges.next(void 0)),d&&this._isInitialized&&v.blur&&v.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(r){this._model=r,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(d=>{if(this._shouldHandleChangeEvent(d)){const v=this._getValueFromModel(d.selection);this._lastValueValid=this._isValidValue(v),this._cvaOnChange(v),this._onTouched(),this._formatValue(v),this.dateInput.emit(new LA(this,this._elementRef.nativeElement)),this.dateChange.emit(new LA(this,this._elementRef.nativeElement))}})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(r){kk(r,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(r){this._validatorOnChange=r}validate(r){return this._validator?this._validator(r):null}writeValue(r){this._assignValueProgrammatically(r)}registerOnChange(r){this._cvaOnChange=r}registerOnTouched(r){this._onTouched=r}setDisabledState(r){this.disabled=r}_onKeydown(r){r.altKey&&40===r.keyCode&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),r.preventDefault())}_onInput(r){const d=this._lastValueValid;let v=this._dateAdapter.parse(r,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(v),v=this._dateAdapter.getValidDateOrNull(v),this._dateAdapter.sameDate(v,this.value)?(r&&!this.value&&this._cvaOnChange(v),d!==this._lastValueValid&&this._validatorOnChange()):(this._assignValue(v),this._cvaOnChange(v),this.dateInput.emit(new LA(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new LA(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(r){this._elementRef.nativeElement.value=r?this._dateAdapter.format(r,this._dateFormats.display.dateInput):""}_assignValue(r){this._model?(this._assignValueToModel(r),this._pendingValue=null):this._pendingValue=r}_isValidValue(r){return!r||this._dateAdapter.isValid(r)}_parentDisabled(){return!1}_assignValueProgrammatically(r){r=this._dateAdapter.deserialize(r),this._lastValueValid=this._isValidValue(r),r=this._dateAdapter.getValidDateOrNull(r),this._assignValue(r),this._formatValue(r)}_matchesFilter(r){const d=this._getDateFilter();return!d||d(r)}}return l.\u0275fac=function(r){return new(r||l)(ne(Lt),ne(yi,8),ne(Hd,8))},l.\u0275dir=Ke({type:l,inputs:{value:"value",disabled:"disabled"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[$n]}),l})();function kk(l,a){const r=Object.keys(l);for(let d of r){const{previousValue:v,currentValue:C}=l[d];if(!a.isDateInstance(v)||!a.isDateInstance(C))return!0;if(!a.sameDate(v,C))return!0}return!1}let I3=(()=>{class l{}return l.\u0275fac=function(r){return new(r||l)},l.\u0275dir=Ke({type:l,selectors:[["","matDatepickerToggleIcon",""]]}),l})(),N3=(()=>{class l{constructor(r,d,v){this._intl=r,this._changeDetectorRef=d,this._stateChanges=an.EMPTY;const C=Number(v);this.tabIndex=C||0===C?C:null}get disabled(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(r){this._disabled=xn(r)}ngOnChanges(r){r.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(r){this.datepicker&&!this.disabled&&(this.datepicker.open(),r.stopPropagation())}_watchStateChanges(){const r=this.datepicker?this.datepicker.stateChanges:mc(),d=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:mc(),v=this.datepicker?Ge(this.datepicker.openedStream,this.datepicker.closedStream):mc();this._stateChanges.unsubscribe(),this._stateChanges=Ge(this._intl.changes,r,d,v).subscribe(()=>this._changeDetectorRef.markForCheck())}}return l.\u0275fac=function(r){return new(r||l)(ne(oD),ne(Br),Qo("tabindex"))},l.\u0275cmp=Yt({type:l,selectors:[["mat-datepicker-toggle"]],contentQueries:function(r,d,v){if(1&r&&rn(v,I3,5),2&r){let C;rt(C=ht())&&(d._customIcon=C.first)}},viewQuery:function(r,d){if(1&r&&gr(l3,5),2&r){let v;rt(v=ht())&&(d._button=v.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(r,d){1&r&&Ct("click",function(C){return d._open(C)}),2&r&&(zt("tabindex",null)("data-mat-calendar",d.datepicker?d.datepicker.id:null),G("mat-datepicker-toggle-active",d.datepicker&&d.datepicker.opened)("mat-accent",d.datepicker&&"accent"===d.datepicker.color)("mat-warn",d.datepicker&&"warn"===d.datepicker.color))},inputs:{datepicker:["for","datepicker"],tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],disabled:"disabled",disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[$n],ngContentSelectors:d3,decls:4,vars:6,consts:[["mat-icon-button","","type","button",3,"disabled","disableRipple"],["button",""],["class","mat-datepicker-toggle-default-icon","viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",4,"ngIf"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(r,d){1&r&&(ir(c3),Ce(0,"button",0,1),ut(2,u3,2,0,"svg",2),vt(3),be()),2&r&&(ze("disabled",d.disabled)("disableRipple",d.disableRipple),zt("aria-haspopup",d.datepicker?"dialog":null)("aria-label",d.ariaLabel||d._intl.openCalendarLabel)("tabindex",d.disabled?-1:d.tabIndex),Be(2),ze("ngIf",!d._customIcon))},directives:[MA,fc],styles:[".mat-form-field-appearance-legacy .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-datepicker-toggle-default-icon{width:1em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-datepicker-toggle-default-icon{display:block;width:1.5em;height:1.5em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-datepicker-toggle-default-icon{margin:auto}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}\n"],encapsulation:2,changeDetection:0}),l})();const kA=new Xe("MAT_DATE_RANGE_INPUT_PARENT"),Vk=bN((()=>{class l extends Lk{constructor(r,d,v,C,S,O,T,F){super(d,T,F),this._rangeInput=r,this._defaultErrorStateMatcher=v,this._injector=C,this._parentForm=S,this._parentFormGroup=O}ngOnInit(){const r=this._injector.get(jd,null,jt.Self|jt.Optional);r&&(this.ngControl=r)}ngDoCheck(){this.ngControl&&this.updateErrorState()}isEmpty(){return 0===this._elementRef.nativeElement.value.length}_getPlaceholder(){return this._elementRef.nativeElement.placeholder}focus(){this._elementRef.nativeElement.focus()}_onInput(r){super._onInput(r),this._rangeInput._handleChildValueChange()}_openPopup(){this._rangeInput._openDatepicker()}_getMinDate(){return this._rangeInput.min}_getMaxDate(){return this._rangeInput.max}_getDateFilter(){return this._rangeInput.dateFilter}_parentDisabled(){return this._rangeInput._groupDisabled}_shouldHandleChangeEvent({source:r}){return r!==this._rangeInput._startInput&&r!==this._rangeInput._endInput}_assignValueProgrammatically(r){super._assignValueProgrammatically(r);const d=this===this._rangeInput._startInput?this._rangeInput._endInput:this._rangeInput._startInput;null==d||d._validatorOnChange()}}return l.\u0275fac=function(r){return new(r||l)(ne(kA),ne(Lt),ne(K0),ne(kr),ne(w_,8),ne(S_,8),ne(yi,8),ne(Hd,8))},l.\u0275dir=Ke({type:l,features:[Pt]}),l})());let Bk=(()=>{class l extends Vk{constructor(r,d,v,C,S,O,T,F){super(r,d,v,C,S,O,T,F),this._startValidator=k=>{const j=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(k.value)),Q=this._model?this._model.selection.end:null;return!j||!Q||this._dateAdapter.compareDate(j,Q)<=0?null:{matStartDateInvalid:{end:Q,actual:j}}},this._validator=_A.compose([...super._getValidators(),this._startValidator])}_getValueFromModel(r){return r.start}_shouldHandleChangeEvent(r){var d;return!(!super._shouldHandleChangeEvent(r)||((null==(d=r.oldValue)?void 0:d.start)?r.selection.start&&!this._dateAdapter.compareDate(r.oldValue.start,r.selection.start):!r.selection.start))}_assignValueToModel(r){if(this._model){const d=new va(r,this._model.selection.end);this._model.updateSelection(d,this)}}_formatValue(r){super._formatValue(r),this._rangeInput._handleChildValueChange()}getMirrorValue(){const r=this._elementRef.nativeElement,d=r.value;return d.length>0?d:r.placeholder}}return l.\u0275fac=function(r){return new(r||l)(ne(kA),ne(Lt),ne(K0),ne(kr),ne(w_,8),ne(S_,8),ne(yi,8),ne(Hd,8))},l.\u0275dir=Ke({type:l,selectors:[["input","matStartDate",""]],hostAttrs:["type","text",1,"mat-start-date","mat-date-range-input-inner"],hostVars:6,hostBindings:function(r,d){1&r&&Ct("input",function(C){return d._onInput(C.target.value)})("change",function(){return d._onChange()})("keydown",function(C){return d._onKeydown(C)})("blur",function(){return d._onBlur()}),2&r&&(hh("disabled",d.disabled),zt("id",d._rangeInput.id)("aria-haspopup",d._rangeInput.rangePicker?"dialog":null)("aria-owns",(null==d._rangeInput.rangePicker?null:d._rangeInput.rangePicker.opened)&&d._rangeInput.rangePicker.id||null)("min",d._getMinDate()?d._dateAdapter.toIso8601(d._getMinDate()):null)("max",d._getMaxDate()?d._dateAdapter.toIso8601(d._getMaxDate()):null))},inputs:{errorStateMatcher:"errorStateMatcher"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[yt([{provide:ga,useExisting:l,multi:!0},{provide:Vi,useExisting:l,multi:!0}]),Pt]}),l})(),Hk=(()=>{class l extends Vk{constructor(r,d,v,C,S,O,T,F){super(r,d,v,C,S,O,T,F),this._endValidator=k=>{const j=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(k.value)),Q=this._model?this._model.selection.start:null;return!j||!Q||this._dateAdapter.compareDate(j,Q)>=0?null:{matEndDateInvalid:{start:Q,actual:j}}},this._validator=_A.compose([...super._getValidators(),this._endValidator])}_getValueFromModel(r){return r.end}_shouldHandleChangeEvent(r){var d;return!(!super._shouldHandleChangeEvent(r)||((null==(d=r.oldValue)?void 0:d.end)?r.selection.end&&!this._dateAdapter.compareDate(r.oldValue.end,r.selection.end):!r.selection.end))}_assignValueToModel(r){if(this._model){const d=new va(this._model.selection.start,r);this._model.updateSelection(d,this)}}_onKeydown(r){8===r.keyCode&&!this._elementRef.nativeElement.value&&this._rangeInput._startInput.focus(),super._onKeydown(r)}}return l.\u0275fac=function(r){return new(r||l)(ne(kA),ne(Lt),ne(K0),ne(kr),ne(w_,8),ne(S_,8),ne(yi,8),ne(Hd,8))},l.\u0275dir=Ke({type:l,selectors:[["input","matEndDate",""]],hostAttrs:["type","text",1,"mat-end-date","mat-date-range-input-inner"],hostVars:5,hostBindings:function(r,d){1&r&&Ct("input",function(C){return d._onInput(C.target.value)})("change",function(){return d._onChange()})("keydown",function(C){return d._onKeydown(C)})("blur",function(){return d._onBlur()}),2&r&&(hh("disabled",d.disabled),zt("aria-haspopup",d._rangeInput.rangePicker?"dialog":null)("aria-owns",(null==d._rangeInput.rangePicker?null:d._rangeInput.rangePicker.opened)&&d._rangeInput.rangePicker.id||null)("min",d._getMinDate()?d._dateAdapter.toIso8601(d._getMinDate()):null)("max",d._getMaxDate()?d._dateAdapter.toIso8601(d._getMaxDate()):null))},inputs:{errorStateMatcher:"errorStateMatcher"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[yt([{provide:ga,useExisting:l,multi:!0},{provide:Vi,useExisting:l,multi:!0}]),Pt]}),l})(),L3=0,k3=(()=>{class l{constructor(r,d,v,C,S){if(this._changeDetectorRef=r,this._elementRef=d,this._dateAdapter=C,this._formField=S,this._closedSubscription=an.EMPTY,this.id="mat-date-range-input-"+L3++,this.focused=!1,this.controlType="mat-date-range-input",this._groupDisabled=!1,this._ariaDescribedBy=null,this.separator="\u2013",this.comparisonStart=null,this.comparisonEnd=null,this.stateChanges=new Mt,null==S?void 0:S._elementRef.nativeElement.classList.contains("mat-mdc-form-field")){const O=d.nativeElement.classList;O.add("mat-mdc-input-element"),O.add("mat-mdc-form-field-input-control")}this.ngControl=v}get value(){return this._model?this._model.selection:null}get shouldLabelFloat(){return this.focused||!this.empty}get placeholder(){var v,C;const r=(null==(v=this._startInput)?void 0:v._getPlaceholder())||"",d=(null==(C=this._endInput)?void 0:C._getPlaceholder())||"";return r||d?`${r} ${this.separator} ${d}`:""}get rangePicker(){return this._rangePicker}set rangePicker(r){r&&(this._model=r.registerInput(this),this._rangePicker=r,this._closedSubscription.unsubscribe(),this._closedSubscription=r.closedStream.subscribe(()=>{var d,v;null==(d=this._startInput)||d._onTouched(),null==(v=this._endInput)||v._onTouched()}),this._registerModel(this._model))}get required(){return!!this._required}set required(r){this._required=xn(r)}get dateFilter(){return this._dateFilter}set dateFilter(r){const d=this._startInput,v=this._endInput,C=d&&d._matchesFilter(d.value),S=v&&v._matchesFilter(d.value);this._dateFilter=r,d&&d._matchesFilter(d.value)!==C&&d._validatorOnChange(),v&&v._matchesFilter(v.value)!==S&&v._validatorOnChange()}get min(){return this._min}set min(r){const d=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(r));this._dateAdapter.sameDate(d,this._min)||(this._min=d,this._revalidate())}get max(){return this._max}set max(r){const d=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(r));this._dateAdapter.sameDate(d,this._max)||(this._max=d,this._revalidate())}get disabled(){return this._startInput&&this._endInput?this._startInput.disabled&&this._endInput.disabled:this._groupDisabled}set disabled(r){const d=xn(r);d!==this._groupDisabled&&(this._groupDisabled=d,this.stateChanges.next(void 0))}get errorState(){return!(!this._startInput||!this._endInput)&&(this._startInput.errorState||this._endInput.errorState)}get empty(){const r=!!this._startInput&&this._startInput.isEmpty(),d=!!this._endInput&&this._endInput.isEmpty();return r&&d}setDescribedByIds(r){this._ariaDescribedBy=r.length?r.join(" "):null}onContainerClick(){!this.focused&&!this.disabled&&(this._model&&this._model.selection.start?this._endInput.focus():this._startInput.focus())}ngAfterContentInit(){this._model&&this._registerModel(this._model),Ge(this._startInput.stateChanges,this._endInput.stateChanges).subscribe(()=>{this.stateChanges.next(void 0)})}ngOnChanges(r){kk(r,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._closedSubscription.unsubscribe(),this.stateChanges.complete()}getStartValue(){return this.value?this.value.start:null}getThemePalette(){return this._formField?this._formField.color:void 0}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():null}_getInputMirrorValue(){return this._startInput?this._startInput.getMirrorValue():""}_shouldHidePlaceholders(){return!!this._startInput&&!this._startInput.isEmpty()}_handleChildValueChange(){this.stateChanges.next(void 0),this._changeDetectorRef.markForCheck()}_openDatepicker(){this._rangePicker&&this._rangePicker.open()}_shouldHideSeparator(){return(!this._formField||this._formField.getLabelId()&&!this._formField._shouldLabelFloat())&&this.empty}_getAriaLabelledby(){const r=this._formField;return r&&r._hasFloatingLabel()?r._labelId:null}_updateFocus(r){this.focused=null!==r,this.stateChanges.next()}_revalidate(){this._startInput&&this._startInput._validatorOnChange(),this._endInput&&this._endInput._validatorOnChange()}_registerModel(r){this._startInput&&this._startInput._registerModel(r),this._endInput&&this._endInput._registerModel(r)}}return l.\u0275fac=function(r){return new(r||l)(ne(Br),ne(Lt),ne(ma,10),ne(yi,8),ne(IA,8))},l.\u0275cmp=Yt({type:l,selectors:[["mat-date-range-input"]],contentQueries:function(r,d,v){if(1&r&&(rn(v,Bk,5),rn(v,Hk,5)),2&r){let C;rt(C=ht())&&(d._startInput=C.first),rt(C=ht())&&(d._endInput=C.first)}},hostAttrs:["role","group",1,"mat-date-range-input"],hostVars:8,hostBindings:function(r,d){2&r&&(zt("id",null)("aria-labelledby",d._getAriaLabelledby())("aria-describedby",d._ariaDescribedBy)("data-mat-calendar",d.rangePicker?d.rangePicker.id:null),G("mat-date-range-input-hide-placeholders",d._shouldHidePlaceholders())("mat-date-range-input-required",d.required))},inputs:{rangePicker:"rangePicker",required:"required",dateFilter:"dateFilter",min:"min",max:"max",disabled:"disabled",separator:"separator",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},exportAs:["matDateRangeInput"],features:[yt([{provide:FA,useExisting:l},{provide:kA,useExisting:l}]),$n],ngContentSelectors:h3,decls:9,vars:4,consts:[["cdkMonitorSubtreeFocus","",1,"mat-date-range-input-container",3,"cdkFocusChange"],[1,"mat-date-range-input-start-wrapper"],["aria-hidden","true",1,"mat-date-range-input-mirror"],[1,"mat-date-range-input-separator"],[1,"mat-date-range-input-end-wrapper"]],template:function(r,d){1&r&&(ir(p3),Ce(0,"div",0),Ct("cdkFocusChange",function(C){return d._updateFocus(C)}),Ce(1,"div",1),vt(2),Ce(3,"span",2),bn(4),be(),be(),Ce(5,"span",3),bn(6),be(),Ce(7,"div",4),vt(8,1),be(),be()),2&r&&(Be(4),Ba(d._getInputMirrorValue()),Be(1),G("mat-date-range-input-separator-hidden",d._shouldHideSeparator()),Be(1),Ba(d.separator))},directives:[dI],styles:[".mat-date-range-input{display:block;width:100%}.mat-date-range-input-container{display:flex;align-items:center}.mat-date-range-input-separator{transition:opacity 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);margin:0 4px}.mat-date-range-input-separator-hidden{-webkit-user-select:none;-moz-user-select:none;user-select:none;opacity:0;transition:none}.mat-date-range-input-inner{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;vertical-align:bottom;text-align:inherit;-webkit-appearance:none;width:100%}.mat-date-range-input-inner:-moz-ui-invalid{box-shadow:none}.mat-date-range-input-inner::placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-date-range-input-inner::-moz-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-date-range-input-inner::-webkit-input-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-date-range-input-inner:-ms-input-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-date-range-input-inner::placeholder,.mat-date-range-input-hide-placeholders .mat-date-range-input-inner::placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-date-range-input-inner::placeholder,.cdk-high-contrast-active .mat-date-range-input-hide-placeholders .mat-date-range-input-inner::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-date-range-input-inner::-moz-placeholder,.mat-date-range-input-hide-placeholders .mat-date-range-input-inner::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-date-range-input-inner::-moz-placeholder,.cdk-high-contrast-active .mat-date-range-input-hide-placeholders .mat-date-range-input-inner::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-date-range-input-inner::-webkit-input-placeholder,.mat-date-range-input-hide-placeholders .mat-date-range-input-inner::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-date-range-input-inner::-webkit-input-placeholder,.cdk-high-contrast-active .mat-date-range-input-hide-placeholders .mat-date-range-input-inner::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-date-range-input-inner:-ms-input-placeholder,.mat-date-range-input-hide-placeholders .mat-date-range-input-inner:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-date-range-input-inner:-ms-input-placeholder,.cdk-high-contrast-active .mat-date-range-input-hide-placeholders .mat-date-range-input-inner:-ms-input-placeholder{opacity:0}.mat-date-range-input-mirror{-webkit-user-select:none;-moz-user-select:none;user-select:none;visibility:hidden;white-space:nowrap;display:inline-block;min-width:2px}.mat-date-range-input-start-wrapper{position:relative;overflow:hidden;max-width:calc(50% - 4px)}.mat-date-range-input-start-wrapper .mat-date-range-input-inner{position:absolute;top:0;left:0}.mat-date-range-input-end-wrapper{flex-grow:1;max-width:calc(50% - 4px)}.mat-form-field-type-mat-date-range-input .mat-form-field-infix{width:200px}\n"],encapsulation:2,changeDetection:0}),l})(),G3=(()=>{class l extends sD{_forwardContentValues(r){super._forwardContentValues(r);const d=this.datepickerInput;d&&(r.comparisonStart=d.comparisonStart,r.comparisonEnd=d.comparisonEnd)}}return l.\u0275fac=function(){let a;return function(d){return(a||(a=fr(l)))(d||l)}}(),l.\u0275cmp=Yt({type:l,selectors:[["mat-date-range-picker"]],exportAs:["matDateRangePicker"],features:[yt([C3,S3,{provide:sD,useExisting:l}]),Pt],decls:0,vars:0,template:function(r,d){},encapsulation:2,changeDetection:0}),l})(),V3=(()=>{class l{constructor(r){this._datepicker=r}_applySelection(){this._datepicker._applyPendingSelection(),this._datepicker.close()}}return l.\u0275fac=function(r){return new(r||l)(ne(sD))},l.\u0275dir=Ke({type:l,selectors:[["","matDatepickerApply",""],["","matDateRangePickerApply",""]],hostBindings:function(r,d){1&r&&Ct("click",function(){return d._applySelection()})}}),l})(),B3=(()=>{class l{constructor(r){this._datepicker=r}}return l.\u0275fac=function(r){return new(r||l)(ne(sD))},l.\u0275dir=Ke({type:l,selectors:[["","matDatepickerCancel",""],["","matDateRangePickerCancel",""]],hostBindings:function(r,d){1&r&&Ct("click",function(){return d._datepicker.close()})}}),l})(),H3=(()=>{class l{constructor(r,d){this._datepicker=r,this._viewContainerRef=d}ngAfterViewInit(){this._portal=new RM(this._template,this._viewContainerRef),this._datepicker.registerActions(this._portal)}ngOnDestroy(){var r;this._datepicker.removeActions(this._portal),this._portal&&this._portal.isAttached&&(null==(r=this._portal)||r.detach())}}return l.\u0275fac=function(r){return new(r||l)(ne(sD),ne(ei))},l.\u0275cmp=Yt({type:l,selectors:[["mat-datepicker-actions"],["mat-date-range-picker-actions"]],viewQuery:function(r,d){if(1&r&&gr(vn,5),2&r){let v;rt(v=ht())&&(d._template=v.first)}},ngContentSelectors:xk,decls:1,vars:0,consts:[[1,"mat-datepicker-actions"]],template:function(r,d){1&r&&(ir(),ut(0,f3,2,0,"ng-template"))},styles:[".mat-datepicker-actions{display:flex;justify-content:flex-end;align-items:center;padding:0 8px 8px 8px}.mat-datepicker-actions .mat-button-base+.mat-button-base{margin-left:8px}[dir=rtl] .mat-datepicker-actions .mat-button-base+.mat-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,changeDetection:0}),l})(),Wk=(()=>{class l{}return l.\u0275fac=function(r){return new(r||l)},l.\u0275mod=Tt({type:l}),l.\u0275inj=_t({providers:[oD,T3],imports:[[am,Ck,pj,gI,RA,Dr],Q0]}),l})();function H(l,a,r,d){var S,v=arguments.length,C=v<3?a:null===d?d=Object.getOwnPropertyDescriptor(a,r):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)C=Reflect.decorate(l,a,r,d);else for(var O=l.length-1;O>=0;O--)(S=l[O])&&(C=(v<3?S(C):v>3?S(a,r,C):S(a,r))||C);return v>3&&C&&Object.defineProperty(a,r,C),C}function W(l,a){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(l,a)}var jM,D_=jr(564);let Ae=jM=class{hasChildColumns(){return!(!(this.childColumns&&this.childColumns.length>0)||1===this.childColumns.length&&this.childColumns.first===this)}toColDef(){let a=this.createColDefFromGridColumn(this);return this.hasChildColumns()&&(a.children=this.getChildColDefs(this.childColumns)),a}getChildColDefs(a){return a.filter(r=>!r.hasChildColumns()).map(r=>r.toColDef())}createColDefFromGridColumn(a){return function(l,a){var r={};for(var d in l)Object.prototype.hasOwnProperty.call(l,d)&&a.indexOf(d)<0&&(r[d]=l[d]);if(null!=l&&"function"==typeof Object.getOwnPropertySymbols){var v=0;for(d=Object.getOwnPropertySymbols(l);v<d.length;v++)a.indexOf(d[v])<0&&Object.prototype.propertyIsEnumerable.call(l,d[v])&&(r[d[v]]=l[d[v]])}return r}(a,["childColumns"])}};Ae.\u0275fac=function(a){return new(a||Ae)},Ae.\u0275cmp=Yt({type:Ae,selectors:[["ag-grid-column"]],contentQueries:function(a,r,d){if(1&a&&rn(d,jM,4),2&a){let v;rt(v=ht())&&(r.childColumns=v)}},inputs:{filterFramework:"filterFramework",filterParams:"filterParams",floatingFilterComponent:"floatingFilterComponent",floatingFilterComponentParams:"floatingFilterComponentParams",floatingFilterComponentFramework:"floatingFilterComponentFramework",floatingFilterFramework:"floatingFilterFramework",filter:"filter",headerName:"headerName",headerValueGetter:"headerValueGetter",headerTooltip:"headerTooltip",headerClass:"headerClass",suppressHeaderKeyboardEvent:"suppressHeaderKeyboardEvent",columnGroupShow:"columnGroupShow",toolPanelClass:"toolPanelClass",suppressColumnsToolPanel:"suppressColumnsToolPanel",suppressFiltersToolPanel:"suppressFiltersToolPanel",tooltipComponent:"tooltipComponent",tooltipComponentFramework:"tooltipComponentFramework",tooltipComponentParams:"tooltipComponentParams",children:"children",groupId:"groupId",openByDefault:"openByDefault",marryChildren:"marryChildren",headerGroupComponent:"headerGroupComponent",headerGroupComponentFramework:"headerGroupComponentFramework",headerGroupComponentParams:"headerGroupComponentParams",colId:"colId",field:"field",type:"type",valueGetter:"valueGetter",valueFormatter:"valueFormatter",refData:"refData",keyCreator:"keyCreator",equals:"equals",tooltipField:"tooltipField",tooltipValueGetter:"tooltipValueGetter",checkboxSelection:"checkboxSelection",icons:"icons",suppressNavigable:"suppressNavigable",suppressKeyboardEvent:"suppressKeyboardEvent",suppressPaste:"suppressPaste",suppressFillHandle:"suppressFillHandle",hide:"hide",initialHide:"initialHide",lockVisible:"lockVisible",lockPosition:"lockPosition",suppressMovable:"suppressMovable",editable:"editable",valueSetter:"valueSetter",valueParser:"valueParser",cellEditor:"cellEditor",cellEditorFramework:"cellEditorFramework",cellEditorParams:"cellEditorParams",cellEditorSelector:"cellEditorSelector",singleClickEdit:"singleClickEdit",newValueHandler:"newValueHandler",cellEditorPopup:"cellEditorPopup",cellEditorPopupPosition:"cellEditorPopupPosition",onCellValueChanged:"onCellValueChanged",onCellClicked:"onCellClicked",onCellDoubleClicked:"onCellDoubleClicked",onCellContextMenu:"onCellContextMenu",getQuickFilterText:"getQuickFilterText",filterValueGetter:"filterValueGetter",floatingFilter:"floatingFilter",headerComponent:"headerComponent",headerComponentFramework:"headerComponentFramework",headerComponentParams:"headerComponentParams",menuTabs:"menuTabs",columnsMenuParams:"columnsMenuParams",suppressMenu:"suppressMenu",headerCheckboxSelection:"headerCheckboxSelection",headerCheckboxSelectionFilteredOnly:"headerCheckboxSelectionFilteredOnly",chartDataType:"chartDataType",pinned:"pinned",initialPinned:"initialPinned",lockPinned:"lockPinned",pinnedRowCellRenderer:"pinnedRowCellRenderer",pinnedRowCellRendererFramework:"pinnedRowCellRendererFramework",pinnedRowCellRendererParams:"pinnedRowCellRendererParams",pinnedRowValueFormatter:"pinnedRowValueFormatter",pivot:"pivot",initialPivot:"initialPivot",pivotIndex:"pivotIndex",initialPivotIndex:"initialPivotIndex",pivotComparator:"pivotComparator",enablePivot:"enablePivot",cellStyle:"cellStyle",cellClass:"cellClass",cellClassRules:"cellClassRules",cellRenderer:"cellRenderer",cellRendererFramework:"cellRendererFramework",cellRendererParams:"cellRendererParams",cellRendererSelector:"cellRendererSelector",autoHeight:"autoHeight",wrapText:"wrapText",enableCellChangeFlash:"enableCellChangeFlash",suppressCellFlash:"suppressCellFlash",rowDrag:"rowDrag",rowDragText:"rowDragText",dndSource:"dndSource",dndSourceOnRowDrag:"dndSourceOnRowDrag",rowGroup:"rowGroup",initialRowGroup:"initialRowGroup",rowGroupIndex:"rowGroupIndex",initialRowGroupIndex:"initialRowGroupIndex",enableRowGroup:"enableRowGroup",enableValue:"enableValue",aggFunc:"aggFunc",initialAggFunc:"initialAggFunc",allowedAggFuncs:"allowedAggFuncs",showRowGroup:"showRowGroup",sortable:"sortable",sort:"sort",initialSort:"initialSort",sortIndex:"sortIndex",initialSortIndex:"initialSortIndex",sortingOrder:"sortingOrder",comparator:"comparator",unSortIcon:"unSortIcon",sortedAt:"sortedAt",colSpan:"colSpan",rowSpan:"rowSpan",width:"width",initialWidth:"initialWidth",minWidth:"minWidth",maxWidth:"maxWidth",flex:"flex",initialFlex:"initialFlex",resizable:"resizable",suppressSizeToFit:"suppressSizeToFit",suppressAutoSize:"suppressAutoSize"},decls:0,vars:0,template:function(a,r){},encapsulation:2}),H([dv(jM),W("design:type",Sr)],Ae.prototype,"childColumns",void 0),H([K(),W("design:type",Object)],Ae.prototype,"filterFramework",void 0),H([K(),W("design:type",Object)],Ae.prototype,"filterParams",void 0),H([K(),W("design:type",Object)],Ae.prototype,"floatingFilterComponent",void 0),H([K(),W("design:type",Object)],Ae.prototype,"floatingFilterComponentParams",void 0),H([K(),W("design:type",Object)],Ae.prototype,"floatingFilterComponentFramework",void 0),H([K(),W("design:type",Object)],Ae.prototype,"floatingFilterFramework",void 0),H([K(),W("design:type",Object)],Ae.prototype,"filter",void 0),H([K(),W("design:type",String)],Ae.prototype,"headerName",void 0),H([K(),W("design:type",Object)],Ae.prototype,"headerValueGetter",void 0),H([K(),W("design:type",String)],Ae.prototype,"headerTooltip",void 0),H([K(),W("design:type",Object)],Ae.prototype,"headerClass",void 0),H([K(),W("design:type",Function)],Ae.prototype,"suppressHeaderKeyboardEvent",void 0),H([K(),W("design:type",String)],Ae.prototype,"columnGroupShow",void 0),H([K(),W("design:type",Object)],Ae.prototype,"toolPanelClass",void 0),H([K(),W("design:type",Boolean)],Ae.prototype,"suppressColumnsToolPanel",void 0),H([K(),W("design:type",Boolean)],Ae.prototype,"suppressFiltersToolPanel",void 0),H([K(),W("design:type",Object)],Ae.prototype,"tooltipComponent",void 0),H([K(),W("design:type",Object)],Ae.prototype,"tooltipComponentFramework",void 0),H([K(),W("design:type",Object)],Ae.prototype,"tooltipComponentParams",void 0),H([K(),W("design:type",Array)],Ae.prototype,"children",void 0),H([K(),W("design:type",String)],Ae.prototype,"groupId",void 0),H([K(),W("design:type",Boolean)],Ae.prototype,"openByDefault",void 0),H([K(),W("design:type",Boolean)],Ae.prototype,"marryChildren",void 0),H([K(),W("design:type",Object)],Ae.prototype,"headerGroupComponent",void 0),H([K(),W("design:type",Object)],Ae.prototype,"headerGroupComponentFramework",void 0),H([K(),W("design:type",Object)],Ae.prototype,"headerGroupComponentParams",void 0),H([K(),W("design:type",String)],Ae.prototype,"colId",void 0),H([K(),W("design:type",String)],Ae.prototype,"field",void 0),H([K(),W("design:type",Object)],Ae.prototype,"type",void 0),H([K(),W("design:type",Object)],Ae.prototype,"valueGetter",void 0),H([K(),W("design:type",Object)],Ae.prototype,"valueFormatter",void 0),H([K(),W("design:type",Object)],Ae.prototype,"refData",void 0),H([K(),W("design:type",Function)],Ae.prototype,"keyCreator",void 0),H([K(),W("design:type",Function)],Ae.prototype,"equals",void 0),H([K(),W("design:type",String)],Ae.prototype,"tooltipField",void 0),H([K(),W("design:type",Function)],Ae.prototype,"tooltipValueGetter",void 0),H([K(),W("design:type",Object)],Ae.prototype,"checkboxSelection",void 0),H([K(),W("design:type",Object)],Ae.prototype,"icons",void 0),H([K(),W("design:type",Object)],Ae.prototype,"suppressNavigable",void 0),H([K(),W("design:type",Function)],Ae.prototype,"suppressKeyboardEvent",void 0),H([K(),W("design:type",Object)],Ae.prototype,"suppressPaste",void 0),H([K(),W("design:type",Boolean)],Ae.prototype,"suppressFillHandle",void 0),H([K(),W("design:type",Boolean)],Ae.prototype,"hide",void 0),H([K(),W("design:type",Boolean)],Ae.prototype,"initialHide",void 0),H([K(),W("design:type",Boolean)],Ae.prototype,"lockVisible",void 0),H([K(),W("design:type",Boolean)],Ae.prototype,"lockPosition",void 0),H([K(),W("design:type",Boolean)],Ae.prototype,"suppressMovable",void 0),H([K(),W("design:type",Object)],Ae.prototype,"editable",void 0),H([K(),W("design:type",Object)],Ae.prototype,"valueSetter",void 0),H([K(),W("design:type",Object)],Ae.prototype,"valueParser",void 0),H([K(),W("design:type",Object)],Ae.prototype,"cellEditor",void 0),H([K(),W("design:type",Object)],Ae.prototype,"cellEditorFramework",void 0),H([K(),W("design:type",Object)],Ae.prototype,"cellEditorParams",void 0),H([K(),W("design:type",Function)],Ae.prototype,"cellEditorSelector",void 0),H([K(),W("design:type",Boolean)],Ae.prototype,"singleClickEdit",void 0),H([K(),W("design:type",Function)],Ae.prototype,"newValueHandler",void 0),H([K(),W("design:type",Boolean)],Ae.prototype,"cellEditorPopup",void 0),H([K(),W("design:type",String)],Ae.prototype,"cellEditorPopupPosition",void 0),H([K(),W("design:type",Function)],Ae.prototype,"onCellValueChanged",void 0),H([K(),W("design:type",Function)],Ae.prototype,"onCellClicked",void 0),H([K(),W("design:type",Function)],Ae.prototype,"onCellDoubleClicked",void 0),H([K(),W("design:type",Function)],Ae.prototype,"onCellContextMenu",void 0),H([K(),W("design:type",Function)],Ae.prototype,"getQuickFilterText",void 0),H([K(),W("design:type",Object)],Ae.prototype,"filterValueGetter",void 0),H([K(),W("design:type",Boolean)],Ae.prototype,"floatingFilter",void 0),H([K(),W("design:type",Object)],Ae.prototype,"headerComponent",void 0),H([K(),W("design:type",Object)],Ae.prototype,"headerComponentFramework",void 0),H([K(),W("design:type",Object)],Ae.prototype,"headerComponentParams",void 0),H([K(),W("design:type",Array)],Ae.prototype,"menuTabs",void 0),H([K(),W("design:type",Object)],Ae.prototype,"columnsMenuParams",void 0),H([K(),W("design:type",Boolean)],Ae.prototype,"suppressMenu",void 0),H([K(),W("design:type",Object)],Ae.prototype,"headerCheckboxSelection",void 0),H([K(),W("design:type",Boolean)],Ae.prototype,"headerCheckboxSelectionFilteredOnly",void 0),H([K(),W("design:type",String)],Ae.prototype,"chartDataType",void 0),H([K(),W("design:type",Object)],Ae.prototype,"pinned",void 0),H([K(),W("design:type",Object)],Ae.prototype,"initialPinned",void 0),H([K(),W("design:type",Boolean)],Ae.prototype,"lockPinned",void 0),H([K(),W("design:type",Object)],Ae.prototype,"pinnedRowCellRenderer",void 0),H([K(),W("design:type",Object)],Ae.prototype,"pinnedRowCellRendererFramework",void 0),H([K(),W("design:type",Object)],Ae.prototype,"pinnedRowCellRendererParams",void 0),H([K(),W("design:type",Object)],Ae.prototype,"pinnedRowValueFormatter",void 0),H([K(),W("design:type",Boolean)],Ae.prototype,"pivot",void 0),H([K(),W("design:type",Boolean)],Ae.prototype,"initialPivot",void 0),H([K(),W("design:type",Number)],Ae.prototype,"pivotIndex",void 0),H([K(),W("design:type",Number)],Ae.prototype,"initialPivotIndex",void 0),H([K(),W("design:type",Function)],Ae.prototype,"pivotComparator",void 0),H([K(),W("design:type",Boolean)],Ae.prototype,"enablePivot",void 0),H([K(),W("design:type",Object)],Ae.prototype,"cellStyle",void 0),H([K(),W("design:type",Object)],Ae.prototype,"cellClass",void 0),H([K(),W("design:type",Object)],Ae.prototype,"cellClassRules",void 0),H([K(),W("design:type",Object)],Ae.prototype,"cellRenderer",void 0),H([K(),W("design:type",Object)],Ae.prototype,"cellRendererFramework",void 0),H([K(),W("design:type",Object)],Ae.prototype,"cellRendererParams",void 0),H([K(),W("design:type",Function)],Ae.prototype,"cellRendererSelector",void 0),H([K(),W("design:type",Boolean)],Ae.prototype,"autoHeight",void 0),H([K(),W("design:type",Boolean)],Ae.prototype,"wrapText",void 0),H([K(),W("design:type",Boolean)],Ae.prototype,"enableCellChangeFlash",void 0),H([K(),W("design:type",Boolean)],Ae.prototype,"suppressCellFlash",void 0),H([K(),W("design:type",Object)],Ae.prototype,"rowDrag",void 0),H([K(),W("design:type",Function)],Ae.prototype,"rowDragText",void 0),H([K(),W("design:type",Object)],Ae.prototype,"dndSource",void 0),H([K(),W("design:type",Function)],Ae.prototype,"dndSourceOnRowDrag",void 0),H([K(),W("design:type",Boolean)],Ae.prototype,"rowGroup",void 0),H([K(),W("design:type",Boolean)],Ae.prototype,"initialRowGroup",void 0),H([K(),W("design:type",Number)],Ae.prototype,"rowGroupIndex",void 0),H([K(),W("design:type",Number)],Ae.prototype,"initialRowGroupIndex",void 0),H([K(),W("design:type",Boolean)],Ae.prototype,"enableRowGroup",void 0),H([K(),W("design:type",Boolean)],Ae.prototype,"enableValue",void 0),H([K(),W("design:type",Object)],Ae.prototype,"aggFunc",void 0),H([K(),W("design:type",Object)],Ae.prototype,"initialAggFunc",void 0),H([K(),W("design:type",Array)],Ae.prototype,"allowedAggFuncs",void 0),H([K(),W("design:type",Object)],Ae.prototype,"showRowGroup",void 0),H([K(),W("design:type",Boolean)],Ae.prototype,"sortable",void 0),H([K(),W("design:type",String)],Ae.prototype,"sort",void 0),H([K(),W("design:type",String)],Ae.prototype,"initialSort",void 0),H([K(),W("design:type",Number)],Ae.prototype,"sortIndex",void 0),H([K(),W("design:type",Number)],Ae.prototype,"initialSortIndex",void 0),H([K(),W("design:type",Array)],Ae.prototype,"sortingOrder",void 0),H([K(),W("design:type",Function)],Ae.prototype,"comparator",void 0),H([K(),W("design:type",Boolean)],Ae.prototype,"unSortIcon",void 0),H([K(),W("design:type",Number)],Ae.prototype,"sortedAt",void 0),H([K(),W("design:type",Function)],Ae.prototype,"colSpan",void 0),H([K(),W("design:type",Function)],Ae.prototype,"rowSpan",void 0),H([K(),W("design:type",Number)],Ae.prototype,"width",void 0),H([K(),W("design:type",Number)],Ae.prototype,"initialWidth",void 0),H([K(),W("design:type",Number)],Ae.prototype,"minWidth",void 0),H([K(),W("design:type",Number)],Ae.prototype,"maxWidth",void 0),H([K(),W("design:type",Number)],Ae.prototype,"flex",void 0),H([K(),W("design:type",Number)],Ae.prototype,"initialFlex",void 0),H([K(),W("design:type",Boolean)],Ae.prototype,"resizable",void 0),H([K(),W("design:type",Boolean)],Ae.prototype,"suppressSizeToFit",void 0),H([K(),W("design:type",Boolean)],Ae.prototype,"suppressAutoSize",void 0);let UM=(()=>{let l=class extends D_.VanillaFrameworkOverrides{constructor(r){super(),this._ngZone=r}setEmitterUsedCallback(r){this.isEmitterUsed=r}setTimeout(r,d){this._ngZone?this._ngZone.runOutsideAngular(()=>{window.setTimeout(()=>{r()},d)}):window.setTimeout(()=>{r()},d)}setInterval(r,d){return new D_.AgPromise(v=>{this._ngZone?this._ngZone.runOutsideAngular(()=>{v(window.setInterval(()=>{r()},d))}):v(window.setInterval(()=>{r()},d))})}addEventListener(r,d,v,C){this.isOutsideAngular(d)&&this._ngZone?this._ngZone.runOutsideAngular(()=>{r.addEventListener(d,v,C)}):r.addEventListener(d,v,C)}dispatchEvent(r,d,v=!1){this.isOutsideAngular(r)?this._ngZone?this._ngZone.runOutsideAngular(d):d():(this.isEmitterUsed(r)||v)&&(!Xt.isInAngularZone()&&this._ngZone?this._ngZone.run(d):d())}isFrameworkComponent(r){if(!r)return!1;const d=r.prototype;return d&&"agInit"in d}};return l.\u0275fac=function(r){return new(r||l)(Le(Xt))},l.\u0275prov=ot({token:l,factory:function(a){return l.\u0275fac(a)}}),l=H([W("design:paramtypes",[Xt])],l),l})(),zM=(()=>{let l=class extends D_.BaseComponentWrapper{setViewContainerRef(r){this.viewContainerRef=r}setComponentFactoryResolver(r){this.componentFactoryResolver=r}createWrapper(r){let d=this,C=new class extends class{init(a){this._params=a,this._componentRef=this.createComponent(),this._agAwareComponent=this._componentRef.instance,this._frameworkComponentInstance=this._componentRef.instance,this._eGui=this._componentRef.location.nativeElement,this._agAwareComponent.agInit(this._params)}getGui(){return this._eGui}destroy(){this._frameworkComponentInstance&&"function"==typeof this._frameworkComponentInstance.destroy&&this._frameworkComponentInstance.destroy(),this._componentRef&&this._componentRef.destroy()}getFrameworkComponentInstance(){return this._frameworkComponentInstance}}{init(O){super.init(O),this._componentRef.changeDetectorRef.detectChanges()}createComponent(){return d.createComponent(r)}hasMethod(O){return null!=C.getFrameworkComponentInstance()[O]}callMethod(O,T){const F=this.getFrameworkComponentInstance();return C.getFrameworkComponentInstance()[O].apply(F,T)}addMethod(O,T){C[O]=T}};return C}createComponent(r){let d=this.componentFactoryResolver.resolveComponentFactory(r);return this.viewContainerRef.createComponent(d)}};return l.\u0275fac=function(){let a;return function(d){return(a||(a=fr(l)))(d||l)}}(),l.\u0275prov=ot({token:l,factory:function(a){return l.\u0275fac(a)}}),l})(),z3=(()=>{let l=class{constructor(r,d,v,C,S){this.viewContainerRef=d,this.angularFrameworkOverrides=v,this.frameworkComponentWrapper=C,this.componentFactoryResolver=S,this._initialised=!1,this._destroyed=!1,this._fullyReady=D_.AgPromise.resolve(!0),this.statusBar=void 0,this.sideBar=void 0,this.suppressContextMenu=void 0,this.preventDefaultOnContextMenu=void 0,this.allowContextMenuWithControlKey=void 0,this.suppressMenuHide=void 0,this.enableBrowserTooltips=void 0,this.tooltipShowDelay=void 0,this.tooltipHideDelay=void 0,this.tooltipMouseTrack=void 0,this.popupParent=void 0,this.copyHeadersToClipboard=void 0,this.copyGroupHeadersToClipboard=void 0,this.clipboardDeliminator=void 0,this.suppressCopyRowsToClipboard=void 0,this.suppressLastEmptyLineOnPaste=void 0,this.suppressClipboardPaste=void 0,this.suppressClipboardApi=void 0,this.columnDefs=void 0,this.defaultColDef=void 0,this.defaultColGroupDef=void 0,this.columnTypes=void 0,this.maintainColumnOrder=void 0,this.suppressFieldDotNotation=void 0,this.deltaColumnMode=void 0,this.applyColumnDefOrder=void 0,this.immutableColumns=void 0,this.suppressSetColumnStateEvents=void 0,this.suppressColumnStateEvents=void 0,this.colWidth=void 0,this.minColWidth=void 0,this.maxColWidth=void 0,this.headerHeight=void 0,this.groupHeaderHeight=void 0,this.floatingFiltersHeight=void 0,this.pivotHeaderHeight=void 0,this.pivotGroupHeaderHeight=void 0,this.allowDragFromColumnsToolPanel=void 0,this.suppressMovableColumns=void 0,this.suppressColumnMoveAnimation=void 0,this.suppressDragLeaveHidesColumns=void 0,this.colResizeDefault=void 0,this.suppressAutoSize=void 0,this.autoSizePadding=void 0,this.skipHeaderOnAutoSize=void 0,this.components=void 0,this.frameworkComponents=void 0,this.reactUi=void 0,this.suppressReactUi=void 0,this.editType=void 0,this.singleClickEdit=void 0,this.suppressClickEdit=void 0,this.stopEditingWhenCellsLoseFocus=void 0,this.enterMovesDown=void 0,this.enterMovesDownAfterEdit=void 0,this.undoRedoCellEditing=void 0,this.undoRedoCellEditingLimit=void 0,this.stopEditingWhenGridLosesFocus=void 0,this.defaultCsvExportParams=void 0,this.suppressCsvExport=void 0,this.defaultExcelExportParams=void 0,this.suppressExcelExport=void 0,this.excelStyles=void 0,this.defaultExportParams=void 0,this.quickFilterText=void 0,this.cacheQuickFilter=void 0,this.excludeChildrenWhenTreeDataFiltering=void 0,this.enableCharts=void 0,this.chartThemes=void 0,this.customChartThemes=void 0,this.chartThemeOverrides=void 0,this.loadingCellRenderer=void 0,this.loadingCellRendererFramework=void 0,this.loadingCellRendererParams=void 0,this.loadingCellRendererSelector=void 0,this.localeText=void 0,this.masterDetail=void 0,this.keepDetailRows=void 0,this.keepDetailRowsCount=void 0,this.detailCellRenderer=void 0,this.detailCellRendererFramework=void 0,this.detailCellRendererParams=void 0,this.detailRowHeight=void 0,this.detailRowAutoHeight=void 0,this.context=void 0,this.alignedGrids=void 0,this.tabIndex=void 0,this.rowBuffer=void 0,this.valueCache=void 0,this.valueCacheNeverExpires=void 0,this.enableCellExpressions=void 0,this.suppressParentsInRowNodes=void 0,this.suppressTouch=void 0,this.suppressFocusAfterRefresh=void 0,this.suppressAsyncEvents=void 0,this.suppressBrowserResizeObserver=void 0,this.suppressPropertyNamesCheck=void 0,this.suppressChangeDetection=void 0,this.debug=void 0,this.overlayLoadingTemplate=void 0,this.loadingOverlayComponent=void 0,this.loadingOverlayComponentFramework=void 0,this.loadingOverlayComponentParams=void 0,this.suppressLoadingOverlay=void 0,this.overlayNoRowsTemplate=void 0,this.noRowsOverlayComponent=void 0,this.noRowsOverlayComponentFramework=void 0,this.noRowsOverlayComponentParams=void 0,this.suppressNoRowsOverlay=void 0,this.pagination=void 0,this.paginationPageSize=void 0,this.paginationAutoPageSize=void 0,this.paginateChildRows=void 0,this.suppressPaginationPanel=void 0,this.pivotMode=void 0,this.pivotPanelShow=void 0,this.pivotColumnGroupTotals=void 0,this.pivotRowTotals=void 0,this.pivotSuppressAutoColumn=void 0,this.suppressExpandablePivotGroups=void 0,this.functionsReadOnly=void 0,this.aggFuncs=void 0,this.suppressAggFuncInHeader=void 0,this.suppressAggAtRootLevel=void 0,this.aggregateOnlyChangedColumns=void 0,this.suppressAggFilteredOnly=void 0,this.animateRows=void 0,this.enableCellChangeFlash=void 0,this.cellFlashDelay=void 0,this.cellFadeDelay=void 0,this.domLayout=void 0,this.ensureDomOrder=void 0,this.enableRtl=void 0,this.suppressColumnVirtualisation=void 0,this.suppressMaxRenderedRowRestriction=void 0,this.rowDragManaged=void 0,this.suppressRowDrag=void 0,this.suppressMoveWhenRowDragging=void 0,this.rowDragEntireRow=void 0,this.rowDragMultiRow=void 0,this.fullWidthCellRenderer=void 0,this.fullWidthCellRendererFramework=void 0,this.fullWidthCellRendererParams=void 0,this.embedFullWidthRows=void 0,this.deprecatedEmbedFullWidthRows=void 0,this.groupDisplayType=void 0,this.groupDefaultExpanded=void 0,this.autoGroupColumnDef=void 0,this.groupMaintainOrder=void 0,this.groupSelectsChildren=void 0,this.groupIncludeFooter=void 0,this.groupIncludeTotalFooter=void 0,this.groupSuppressBlankHeader=void 0,this.groupSelectsFiltered=void 0,this.showOpenedGroup=void 0,this.groupRemoveSingleChildren=void 0,this.groupRemoveLowestSingleChildren=void 0,this.groupHideOpenParents=void 0,this.rowGroupPanelShow=void 0,this.groupRowRenderer=void 0,this.groupRowRendererFramework=void 0,this.groupRowRendererParams=void 0,this.suppressMakeColumnVisibleAfterUnGroup=void 0,this.treeData=void 0,this.groupRowInnerRenderer=void 0,this.groupRowInnerRendererFramework=void 0,this.groupMultiAutoColumn=void 0,this.groupUseEntireRow=void 0,this.groupSuppressAutoColumn=void 0,this.rememberGroupStateWhenNewData=void 0,this.pinnedTopRowData=void 0,this.pinnedBottomRowData=void 0,this.rowModelType=void 0,this.rowData=void 0,this.immutableData=void 0,this.asyncTransactionWaitMillis=void 0,this.suppressModelUpdateAfterUpdateTransaction=void 0,this.deltaRowDataMode=void 0,this.batchUpdateWaitMillis=void 0,this.datasource=void 0,this.cacheOverflowSize=void 0,this.infiniteInitialRowCount=void 0,this.serverSideStoreType=void 0,this.cacheBlockSize=void 0,this.maxBlocksInCache=void 0,this.maxConcurrentDatasourceRequests=void 0,this.blockLoadDebounceMillis=void 0,this.purgeClosedRowNodes=void 0,this.serverSideDatasource=void 0,this.serverSideSortingAlwaysResets=void 0,this.serverSideFilteringAlwaysResets=void 0,this.suppressEnterpriseResetOnNewColumns=void 0,this.viewportDatasource=void 0,this.viewportRowModelPageSize=void 0,this.viewportRowModelBufferSize=void 0,this.alwaysShowHorizontalScroll=void 0,this.alwaysShowVerticalScroll=void 0,this.debounceVerticalScrollbar=void 0,this.suppressHorizontalScroll=void 0,this.suppressScrollOnNewData=void 0,this.suppressScrollWhenPopupsAreOpen=void 0,this.suppressAnimationFrame=void 0,this.suppressMiddleClickScrolls=void 0,this.suppressPreventDefaultOnMouseWheel=void 0,this.scrollbarWidth=void 0,this.rowSelection=void 0,this.rowMultiSelectWithClick=void 0,this.suppressRowDeselection=void 0,this.suppressRowClickSelection=void 0,this.suppressCellSelection=void 0,this.suppressCellFocus=void 0,this.suppressMultiRangeSelection=void 0,this.enableCellTextSelection=void 0,this.enableRangeSelection=void 0,this.enableRangeHandle=void 0,this.enableFillHandle=void 0,this.fillHandleDirection=void 0,this.suppressClearOnFillReduction=void 0,this.sortingOrder=void 0,this.accentedSort=void 0,this.unSortIcon=void 0,this.suppressMultiSort=void 0,this.multiSortKey=void 0,this.suppressMaintainUnsortedOrder=void 0,this.icons=void 0,this.rowHeight=void 0,this.rowStyle=void 0,this.rowClass=void 0,this.rowClassRules=void 0,this.suppressRowHoverHighlight=void 0,this.suppressRowTransform=void 0,this.columnHoverHighlight=void 0,this.deltaSort=void 0,this.treeDataDisplayType=void 0,this.angularCompileRows=void 0,this.angularCompileFilters=void 0,this.functionsPassive=void 0,this.enableGroupEdit=void 0,this.getContextMenuItems=void 0,this.getMainMenuItems=void 0,this.postProcessPopup=void 0,this.processCellForClipboard=void 0,this.processHeaderForClipboard=void 0,this.processGroupHeaderForClipboard=void 0,this.processCellFromClipboard=void 0,this.sendToClipboard=void 0,this.processDataFromClipboard=void 0,this.isExternalFilterPresent=void 0,this.doesExternalFilterPass=void 0,this.getChartToolbarItems=void 0,this.createChartContainer=void 0,this.navigateToNextHeader=void 0,this.tabToNextHeader=void 0,this.navigateToNextCell=void 0,this.tabToNextCell=void 0,this.suppressKeyboardEvent=void 0,this.localeTextFunc=void 0,this.getDocument=void 0,this.paginationNumberFormatter=void 0,this.groupRowAggNodes=void 0,this.isGroupOpenByDefault=void 0,this.defaultGroupOrderComparator=void 0,this.processSecondaryColDef=void 0,this.processSecondaryColGroupDef=void 0,this.getDataPath=void 0,this.defaultGroupSortComparator=void 0,this.getChildCount=void 0,this.getServerSideStoreParams=void 0,this.isServerSideGroupOpenByDefault=void 0,this.isApplyServerSideTransaction=void 0,this.isServerSideGroup=void 0,this.getServerSideGroupKey=void 0,this.getBusinessKeyForNode=void 0,this.getRowNodeId=void 0,this.processRowPostCreate=void 0,this.isRowSelectable=void 0,this.isRowMaster=void 0,this.fillOperation=void 0,this.postSort=void 0,this.getRowStyle=void 0,this.getRowClass=void 0,this.getRowHeight=void 0,this.isFullWidthCell=void 0,this.toolPanelVisibleChanged=new he,this.pasteStart=new he,this.pasteEnd=new he,this.columnVisible=new he,this.columnPinned=new he,this.columnResized=new he,this.columnMoved=new he,this.columnValueChanged=new he,this.columnPivotModeChanged=new he,this.columnPivotChanged=new he,this.columnGroupOpened=new he,this.newColumnsLoaded=new he,this.gridColumnsChanged=new he,this.displayedColumnsChanged=new he,this.virtualColumnsChanged=new he,this.columnEverythingChanged=new he,this.componentStateChanged=new he,this.cellValueChanged=new he,this.rowValueChanged=new he,this.cellEditingStarted=new he,this.cellEditingStopped=new he,this.rowEditingStarted=new he,this.rowEditingStopped=new he,this.filterOpened=new he,this.filterChanged=new he,this.filterModified=new he,this.chartCreated=new he,this.chartRangeSelectionChanged=new he,this.chartOptionsChanged=new he,this.chartDestroyed=new he,this.cellKeyDown=new he,this.cellKeyPress=new he,this.gridReady=new he,this.firstDataRendered=new he,this.gridSizeChanged=new he,this.modelUpdated=new he,this.virtualRowRemoved=new he,this.viewportChanged=new he,this.bodyScroll=new he,this.bodyScrollEnd=new he,this.dragStarted=new he,this.dragStopped=new he,this.paginationChanged=new he,this.rowDragEnter=new he,this.rowDragMove=new he,this.rowDragLeave=new he,this.rowDragEnd=new he,this.columnRowGroupChanged=new he,this.rowGroupOpened=new he,this.expandOrCollapseAll=new he,this.pinnedRowDataChanged=new he,this.rowDataChanged=new he,this.rowDataUpdated=new he,this.asyncTransactionsFlushed=new he,this.cellClicked=new he,this.cellDoubleClicked=new he,this.cellFocused=new he,this.cellMouseOver=new he,this.cellMouseOut=new he,this.cellMouseDown=new he,this.rowClicked=new he,this.rowDoubleClicked=new he,this.rowSelected=new he,this.selectionChanged=new he,this.cellContextMenu=new he,this.rangeSelectionChanged=new he,this.sortChanged=new he,this.columnRowGroupChangeRequest=new he,this.columnPivotChangeRequest=new he,this.columnValueChangeRequest=new he,this.columnAggFuncChangeRequest=new he,this._nativeElement=r.nativeElement}ngAfterViewInit(){this.frameworkComponentWrapper.setViewContainerRef(this.viewContainerRef),this.frameworkComponentWrapper.setComponentFactoryResolver(this.componentFactoryResolver),this.angularFrameworkOverrides.setEmitterUsedCallback(this.isEmitterUsed.bind(this)),this.gridOptions=D_.ComponentUtil.copyAttributesToGridOptions(this.gridOptions,this,!0),this.gridParams={globalEventListener:this.globalEventListener.bind(this),frameworkOverrides:this.angularFrameworkOverrides,providedBeanInstances:{frameworkComponentWrapper:this.frameworkComponentWrapper},modules:this.modules||[]},this.columns&&this.columns.length>0&&(this.gridOptions.columnDefs=this.columns.map(r=>r.toColDef())),new D_.Grid(this._nativeElement,this.gridOptions,this.gridParams),this.gridOptions.api&&(this.api=this.gridOptions.api),this.gridOptions.columnApi&&(this.columnApi=this.gridOptions.columnApi),this._initialised=!0,this._fullyReady.resolveNow(null,r=>r)}ngOnChanges(r){this._initialised&&D_.ComponentUtil.processOnChange(r,this.gridOptions,this.api,this.columnApi)}ngOnDestroy(){this._initialised&&(this._destroyed=!0,this.api&&this.api.destroy())}isEmitterUsed(r){const d=this[r],v=!!d&&d.observers&&d.observers.length>0,C=`on${r.charAt(0).toUpperCase()}${r.substring(1)}`;return v||!!this.gridOptions&&!!this.gridOptions[C]}globalEventListener(r,d){if(this._destroyed)return;const v=this[r];v&&this.isEmitterUsed(r)&&("gridReady"===r?this._fullyReady.then(C=>{v.emit(d)}):v.emit(d))}};return l.\u0275fac=function(r){return new(r||l)(ne(Lt),ne(ei),ne(UM),ne(zM),ne(Ni))},l.\u0275cmp=Yt({type:l,selectors:[["ag-grid-angular"]],contentQueries:function(r,d,v){if(1&r&&rn(v,Ae,4),2&r){let C;rt(C=ht())&&(d.columns=C)}},inputs:{statusBar:"statusBar",sideBar:"sideBar",suppressContextMenu:"suppressContextMenu",preventDefaultOnContextMenu:"preventDefaultOnContextMenu",allowContextMenuWithControlKey:"allowContextMenuWithControlKey",suppressMenuHide:"suppressMenuHide",enableBrowserTooltips:"enableBrowserTooltips",tooltipShowDelay:"tooltipShowDelay",tooltipHideDelay:"tooltipHideDelay",tooltipMouseTrack:"tooltipMouseTrack",popupParent:"popupParent",copyHeadersToClipboard:"copyHeadersToClipboard",copyGroupHeadersToClipboard:"copyGroupHeadersToClipboard",clipboardDeliminator:"clipboardDeliminator",suppressCopyRowsToClipboard:"suppressCopyRowsToClipboard",suppressLastEmptyLineOnPaste:"suppressLastEmptyLineOnPaste",suppressClipboardPaste:"suppressClipboardPaste",suppressClipboardApi:"suppressClipboardApi",columnDefs:"columnDefs",defaultColDef:"defaultColDef",defaultColGroupDef:"defaultColGroupDef",columnTypes:"columnTypes",maintainColumnOrder:"maintainColumnOrder",suppressFieldDotNotation:"suppressFieldDotNotation",deltaColumnMode:"deltaColumnMode",applyColumnDefOrder:"applyColumnDefOrder",immutableColumns:"immutableColumns",suppressSetColumnStateEvents:"suppressSetColumnStateEvents",suppressColumnStateEvents:"suppressColumnStateEvents",colWidth:"colWidth",minColWidth:"minColWidth",maxColWidth:"maxColWidth",headerHeight:"headerHeight",groupHeaderHeight:"groupHeaderHeight",floatingFiltersHeight:"floatingFiltersHeight",pivotHeaderHeight:"pivotHeaderHeight",pivotGroupHeaderHeight:"pivotGroupHeaderHeight",allowDragFromColumnsToolPanel:"allowDragFromColumnsToolPanel",suppressMovableColumns:"suppressMovableColumns",suppressColumnMoveAnimation:"suppressColumnMoveAnimation",suppressDragLeaveHidesColumns:"suppressDragLeaveHidesColumns",colResizeDefault:"colResizeDefault",suppressAutoSize:"suppressAutoSize",autoSizePadding:"autoSizePadding",skipHeaderOnAutoSize:"skipHeaderOnAutoSize",components:"components",frameworkComponents:"frameworkComponents",reactUi:"reactUi",suppressReactUi:"suppressReactUi",editType:"editType",singleClickEdit:"singleClickEdit",suppressClickEdit:"suppressClickEdit",stopEditingWhenCellsLoseFocus:"stopEditingWhenCellsLoseFocus",enterMovesDown:"enterMovesDown",enterMovesDownAfterEdit:"enterMovesDownAfterEdit",undoRedoCellEditing:"undoRedoCellEditing",undoRedoCellEditingLimit:"undoRedoCellEditingLimit",stopEditingWhenGridLosesFocus:"stopEditingWhenGridLosesFocus",defaultCsvExportParams:"defaultCsvExportParams",suppressCsvExport:"suppressCsvExport",defaultExcelExportParams:"defaultExcelExportParams",suppressExcelExport:"suppressExcelExport",excelStyles:"excelStyles",defaultExportParams:"defaultExportParams",quickFilterText:"quickFilterText",cacheQuickFilter:"cacheQuickFilter",excludeChildrenWhenTreeDataFiltering:"excludeChildrenWhenTreeDataFiltering",enableCharts:"enableCharts",chartThemes:"chartThemes",customChartThemes:"customChartThemes",chartThemeOverrides:"chartThemeOverrides",loadingCellRenderer:"loadingCellRenderer",loadingCellRendererFramework:"loadingCellRendererFramework",loadingCellRendererParams:"loadingCellRendererParams",loadingCellRendererSelector:"loadingCellRendererSelector",localeText:"localeText",masterDetail:"masterDetail",keepDetailRows:"keepDetailRows",keepDetailRowsCount:"keepDetailRowsCount",detailCellRenderer:"detailCellRenderer",detailCellRendererFramework:"detailCellRendererFramework",detailCellRendererParams:"detailCellRendererParams",detailRowHeight:"detailRowHeight",detailRowAutoHeight:"detailRowAutoHeight",context:"context",alignedGrids:"alignedGrids",tabIndex:"tabIndex",rowBuffer:"rowBuffer",valueCache:"valueCache",valueCacheNeverExpires:"valueCacheNeverExpires",enableCellExpressions:"enableCellExpressions",suppressParentsInRowNodes:"suppressParentsInRowNodes",suppressTouch:"suppressTouch",suppressFocusAfterRefresh:"suppressFocusAfterRefresh",suppressAsyncEvents:"suppressAsyncEvents",suppressBrowserResizeObserver:"suppressBrowserResizeObserver",suppressPropertyNamesCheck:"suppressPropertyNamesCheck",suppressChangeDetection:"suppressChangeDetection",debug:"debug",overlayLoadingTemplate:"overlayLoadingTemplate",loadingOverlayComponent:"loadingOverlayComponent",loadingOverlayComponentFramework:"loadingOverlayComponentFramework",loadingOverlayComponentParams:"loadingOverlayComponentParams",suppressLoadingOverlay:"suppressLoadingOverlay",overlayNoRowsTemplate:"overlayNoRowsTemplate",noRowsOverlayComponent:"noRowsOverlayComponent",noRowsOverlayComponentFramework:"noRowsOverlayComponentFramework",noRowsOverlayComponentParams:"noRowsOverlayComponentParams",suppressNoRowsOverlay:"suppressNoRowsOverlay",pagination:"pagination",paginationPageSize:"paginationPageSize",paginationAutoPageSize:"paginationAutoPageSize",paginateChildRows:"paginateChildRows",suppressPaginationPanel:"suppressPaginationPanel",pivotMode:"pivotMode",pivotPanelShow:"pivotPanelShow",pivotColumnGroupTotals:"pivotColumnGroupTotals",pivotRowTotals:"pivotRowTotals",pivotSuppressAutoColumn:"pivotSuppressAutoColumn",suppressExpandablePivotGroups:"suppressExpandablePivotGroups",functionsReadOnly:"functionsReadOnly",aggFuncs:"aggFuncs",suppressAggFuncInHeader:"suppressAggFuncInHeader",suppressAggAtRootLevel:"suppressAggAtRootLevel",aggregateOnlyChangedColumns:"aggregateOnlyChangedColumns",suppressAggFilteredOnly:"suppressAggFilteredOnly",animateRows:"animateRows",enableCellChangeFlash:"enableCellChangeFlash",cellFlashDelay:"cellFlashDelay",cellFadeDelay:"cellFadeDelay",domLayout:"domLayout",ensureDomOrder:"ensureDomOrder",enableRtl:"enableRtl",suppressColumnVirtualisation:"suppressColumnVirtualisation",suppressMaxRenderedRowRestriction:"suppressMaxRenderedRowRestriction",rowDragManaged:"rowDragManaged",suppressRowDrag:"suppressRowDrag",suppressMoveWhenRowDragging:"suppressMoveWhenRowDragging",rowDragEntireRow:"rowDragEntireRow",rowDragMultiRow:"rowDragMultiRow",fullWidthCellRenderer:"fullWidthCellRenderer",fullWidthCellRendererFramework:"fullWidthCellRendererFramework",fullWidthCellRendererParams:"fullWidthCellRendererParams",embedFullWidthRows:"embedFullWidthRows",deprecatedEmbedFullWidthRows:"deprecatedEmbedFullWidthRows",groupDisplayType:"groupDisplayType",groupDefaultExpanded:"groupDefaultExpanded",autoGroupColumnDef:"autoGroupColumnDef",groupMaintainOrder:"groupMaintainOrder",groupSelectsChildren:"groupSelectsChildren",groupIncludeFooter:"groupIncludeFooter",groupIncludeTotalFooter:"groupIncludeTotalFooter",groupSuppressBlankHeader:"groupSuppressBlankHeader",groupSelectsFiltered:"groupSelectsFiltered",showOpenedGroup:"showOpenedGroup",groupRemoveSingleChildren:"groupRemoveSingleChildren",groupRemoveLowestSingleChildren:"groupRemoveLowestSingleChildren",groupHideOpenParents:"groupHideOpenParents",rowGroupPanelShow:"rowGroupPanelShow",groupRowRenderer:"groupRowRenderer",groupRowRendererFramework:"groupRowRendererFramework",groupRowRendererParams:"groupRowRendererParams",suppressMakeColumnVisibleAfterUnGroup:"suppressMakeColumnVisibleAfterUnGroup",treeData:"treeData",groupRowInnerRenderer:"groupRowInnerRenderer",groupRowInnerRendererFramework:"groupRowInnerRendererFramework",groupMultiAutoColumn:"groupMultiAutoColumn",groupUseEntireRow:"groupUseEntireRow",groupSuppressAutoColumn:"groupSuppressAutoColumn",rememberGroupStateWhenNewData:"rememberGroupStateWhenNewData",pinnedTopRowData:"pinnedTopRowData",pinnedBottomRowData:"pinnedBottomRowData",rowModelType:"rowModelType",rowData:"rowData",immutableData:"immutableData",asyncTransactionWaitMillis:"asyncTransactionWaitMillis",suppressModelUpdateAfterUpdateTransaction:"suppressModelUpdateAfterUpdateTransaction",deltaRowDataMode:"deltaRowDataMode",batchUpdateWaitMillis:"batchUpdateWaitMillis",datasource:"datasource",cacheOverflowSize:"cacheOverflowSize",infiniteInitialRowCount:"infiniteInitialRowCount",serverSideStoreType:"serverSideStoreType",cacheBlockSize:"cacheBlockSize",maxBlocksInCache:"maxBlocksInCache",maxConcurrentDatasourceRequests:"maxConcurrentDatasourceRequests",blockLoadDebounceMillis:"blockLoadDebounceMillis",purgeClosedRowNodes:"purgeClosedRowNodes",serverSideDatasource:"serverSideDatasource",serverSideSortingAlwaysResets:"serverSideSortingAlwaysResets",serverSideFilteringAlwaysResets:"serverSideFilteringAlwaysResets",suppressEnterpriseResetOnNewColumns:"suppressEnterpriseResetOnNewColumns",viewportDatasource:"viewportDatasource",viewportRowModelPageSize:"viewportRowModelPageSize",viewportRowModelBufferSize:"viewportRowModelBufferSize",alwaysShowHorizontalScroll:"alwaysShowHorizontalScroll",alwaysShowVerticalScroll:"alwaysShowVerticalScroll",debounceVerticalScrollbar:"debounceVerticalScrollbar",suppressHorizontalScroll:"suppressHorizontalScroll",suppressScrollOnNewData:"suppressScrollOnNewData",suppressScrollWhenPopupsAreOpen:"suppressScrollWhenPopupsAreOpen",suppressAnimationFrame:"suppressAnimationFrame",suppressMiddleClickScrolls:"suppressMiddleClickScrolls",suppressPreventDefaultOnMouseWheel:"suppressPreventDefaultOnMouseWheel",scrollbarWidth:"scrollbarWidth",rowSelection:"rowSelection",rowMultiSelectWithClick:"rowMultiSelectWithClick",suppressRowDeselection:"suppressRowDeselection",suppressRowClickSelection:"suppressRowClickSelection",suppressCellSelection:"suppressCellSelection",suppressCellFocus:"suppressCellFocus",suppressMultiRangeSelection:"suppressMultiRangeSelection",enableCellTextSelection:"enableCellTextSelection",enableRangeSelection:"enableRangeSelection",enableRangeHandle:"enableRangeHandle",enableFillHandle:"enableFillHandle",fillHandleDirection:"fillHandleDirection",suppressClearOnFillReduction:"suppressClearOnFillReduction",sortingOrder:"sortingOrder",accentedSort:"accentedSort",unSortIcon:"unSortIcon",suppressMultiSort:"suppressMultiSort",multiSortKey:"multiSortKey",suppressMaintainUnsortedOrder:"suppressMaintainUnsortedOrder",icons:"icons",rowHeight:"rowHeight",rowStyle:"rowStyle",rowClass:"rowClass",rowClassRules:"rowClassRules",suppressRowHoverHighlight:"suppressRowHoverHighlight",suppressRowTransform:"suppressRowTransform",columnHoverHighlight:"columnHoverHighlight",deltaSort:"deltaSort",treeDataDisplayType:"treeDataDisplayType",angularCompileRows:"angularCompileRows",angularCompileFilters:"angularCompileFilters",functionsPassive:"functionsPassive",enableGroupEdit:"enableGroupEdit",getContextMenuItems:"getContextMenuItems",getMainMenuItems:"getMainMenuItems",postProcessPopup:"postProcessPopup",processCellForClipboard:"processCellForClipboard",processHeaderForClipboard:"processHeaderForClipboard",processGroupHeaderForClipboard:"processGroupHeaderForClipboard",processCellFromClipboard:"processCellFromClipboard",sendToClipboard:"sendToClipboard",processDataFromClipboard:"processDataFromClipboard",isExternalFilterPresent:"isExternalFilterPresent",doesExternalFilterPass:"doesExternalFilterPass",getChartToolbarItems:"getChartToolbarItems",createChartContainer:"createChartContainer",navigateToNextHeader:"navigateToNextHeader",tabToNextHeader:"tabToNextHeader",navigateToNextCell:"navigateToNextCell",tabToNextCell:"tabToNextCell",suppressKeyboardEvent:"suppressKeyboardEvent",localeTextFunc:"localeTextFunc",getDocument:"getDocument",paginationNumberFormatter:"paginationNumberFormatter",groupRowAggNodes:"groupRowAggNodes",isGroupOpenByDefault:"isGroupOpenByDefault",defaultGroupOrderComparator:"defaultGroupOrderComparator",processSecondaryColDef:"processSecondaryColDef",processSecondaryColGroupDef:"processSecondaryColGroupDef",getDataPath:"getDataPath",defaultGroupSortComparator:"defaultGroupSortComparator",getChildCount:"getChildCount",getServerSideStoreParams:"getServerSideStoreParams",isServerSideGroupOpenByDefault:"isServerSideGroupOpenByDefault",isApplyServerSideTransaction:"isApplyServerSideTransaction",isServerSideGroup:"isServerSideGroup",getServerSideGroupKey:"getServerSideGroupKey",getBusinessKeyForNode:"getBusinessKeyForNode",getRowNodeId:"getRowNodeId",processRowPostCreate:"processRowPostCreate",isRowSelectable:"isRowSelectable",isRowMaster:"isRowMaster",fillOperation:"fillOperation",postSort:"postSort",getRowStyle:"getRowStyle",getRowClass:"getRowClass",getRowHeight:"getRowHeight",isFullWidthCell:"isFullWidthCell",gridOptions:"gridOptions",modules:"modules"},outputs:{toolPanelVisibleChanged:"toolPanelVisibleChanged",pasteStart:"pasteStart",pasteEnd:"pasteEnd",columnVisible:"columnVisible",columnPinned:"columnPinned",columnResized:"columnResized",columnMoved:"columnMoved",columnValueChanged:"columnValueChanged",columnPivotModeChanged:"columnPivotModeChanged",columnPivotChanged:"columnPivotChanged",columnGroupOpened:"columnGroupOpened",newColumnsLoaded:"newColumnsLoaded",gridColumnsChanged:"gridColumnsChanged",displayedColumnsChanged:"displayedColumnsChanged",virtualColumnsChanged:"virtualColumnsChanged",columnEverythingChanged:"columnEverythingChanged",componentStateChanged:"componentStateChanged",cellValueChanged:"cellValueChanged",rowValueChanged:"rowValueChanged",cellEditingStarted:"cellEditingStarted",cellEditingStopped:"cellEditingStopped",rowEditingStarted:"rowEditingStarted",rowEditingStopped:"rowEditingStopped",filterOpened:"filterOpened",filterChanged:"filterChanged",filterModified:"filterModified",chartCreated:"chartCreated",chartRangeSelectionChanged:"chartRangeSelectionChanged",chartOptionsChanged:"chartOptionsChanged",chartDestroyed:"chartDestroyed",cellKeyDown:"cellKeyDown",cellKeyPress:"cellKeyPress",gridReady:"gridReady",firstDataRendered:"firstDataRendered",gridSizeChanged:"gridSizeChanged",modelUpdated:"modelUpdated",virtualRowRemoved:"virtualRowRemoved",viewportChanged:"viewportChanged",bodyScroll:"bodyScroll",bodyScrollEnd:"bodyScrollEnd",dragStarted:"dragStarted",dragStopped:"dragStopped",paginationChanged:"paginationChanged",rowDragEnter:"rowDragEnter",rowDragMove:"rowDragMove",rowDragLeave:"rowDragLeave",rowDragEnd:"rowDragEnd",columnRowGroupChanged:"columnRowGroupChanged",rowGroupOpened:"rowGroupOpened",expandOrCollapseAll:"expandOrCollapseAll",pinnedRowDataChanged:"pinnedRowDataChanged",rowDataChanged:"rowDataChanged",rowDataUpdated:"rowDataUpdated",asyncTransactionsFlushed:"asyncTransactionsFlushed",cellClicked:"cellClicked",cellDoubleClicked:"cellDoubleClicked",cellFocused:"cellFocused",cellMouseOver:"cellMouseOver",cellMouseOut:"cellMouseOut",cellMouseDown:"cellMouseDown",rowClicked:"rowClicked",rowDoubleClicked:"rowDoubleClicked",rowSelected:"rowSelected",selectionChanged:"selectionChanged",cellContextMenu:"cellContextMenu",rangeSelectionChanged:"rangeSelectionChanged",sortChanged:"sortChanged",columnRowGroupChangeRequest:"columnRowGroupChangeRequest",columnPivotChangeRequest:"columnPivotChangeRequest",columnValueChangeRequest:"columnValueChangeRequest",columnAggFuncChangeRequest:"columnAggFuncChangeRequest"},features:[yt([UM,zM]),$n],decls:0,vars:0,template:function(r,d){},encapsulation:2}),H([dv(Ae),W("design:type",Sr)],l.prototype,"columns",void 0),H([K(),W("design:type",Object)],l.prototype,"gridOptions",void 0),H([K(),W("design:type",Array)],l.prototype,"modules",void 0),H([K(),W("design:type",Object)],l.prototype,"statusBar",void 0),H([K(),W("design:type",Object)],l.prototype,"sideBar",void 0),H([K(),W("design:type",Boolean)],l.prototype,"suppressContextMenu",void 0),H([K(),W("design:type",Boolean)],l.prototype,"preventDefaultOnContextMenu",void 0),H([K(),W("design:type",Boolean)],l.prototype,"allowContextMenuWithControlKey",void 0),H([K(),W("design:type",Boolean)],l.prototype,"suppressMenuHide",void 0),H([K(),W("design:type",Boolean)],l.prototype,"enableBrowserTooltips",void 0),H([K(),W("design:type",Number)],l.prototype,"tooltipShowDelay",void 0),H([K(),W("design:type",Number)],l.prototype,"tooltipHideDelay",void 0),H([K(),W("design:type",Boolean)],l.prototype,"tooltipMouseTrack",void 0),H([K(),W("design:type",HTMLElement)],l.prototype,"popupParent",void 0),H([K(),W("design:type",Boolean)],l.prototype,"copyHeadersToClipboard",void 0),H([K(),W("design:type",Boolean)],l.prototype,"copyGroupHeadersToClipboard",void 0),H([K(),W("design:type",String)],l.prototype,"clipboardDeliminator",void 0),H([K(),W("design:type",Boolean)],l.prototype,"suppressCopyRowsToClipboard",void 0),H([K(),W("design:type",Boolean)],l.prototype,"suppressLastEmptyLineOnPaste",void 0),H([K(),W("design:type",Boolean)],l.prototype,"suppressClipboardPaste",void 0),H([K(),W("design:type",Boolean)],l.prototype,"suppressClipboardApi",void 0),H([K(),W("design:type",Array)],l.prototype,"columnDefs",void 0),H([K(),W("design:type",Object)],l.prototype,"defaultColDef",void 0),H([K(),W("design:type",Object)],l.prototype,"defaultColGroupDef",void 0),H([K(),W("design:type",Object)],l.prototype,"columnTypes",void 0),H([K(),W("design:type",Boolean)],l.prototype,"maintainColumnOrder",void 0),H([K(),W("design:type",Boolean)],l.prototype,"suppressFieldDotNotation",void 0),H([K(),W("design:type",Boolean)],l.prototype,"deltaColumnMode",void 0),H([K(),W("design:type",Boolean)],l.prototype,"applyColumnDefOrder",void 0),H([K(),W("design:type",Boolean)],l.prototype,"immutableColumns",void 0),H([K(),W("design:type",Boolean)],l.prototype,"suppressSetColumnStateEvents",void 0),H([K(),W("design:type",Boolean)],l.prototype,"suppressColumnStateEvents",void 0),H([K(),W("design:type",Number)],l.prototype,"colWidth",void 0),H([K(),W("design:type",Number)],l.prototype,"minColWidth",void 0),H([K(),W("design:type",Number)],l.prototype,"maxColWidth",void 0),H([K(),W("design:type",Number)],l.prototype,"headerHeight",void 0),H([K(),W("design:type",Number)],l.prototype,"groupHeaderHeight",void 0),H([K(),W("design:type",Number)],l.prototype,"floatingFiltersHeight",void 0),H([K(),W("design:type",Number)],l.prototype,"pivotHeaderHeight",void 0),H([K(),W("design:type",Number)],l.prototype,"pivotGroupHeaderHeight",void 0),H([K(),W("design:type",Boolean)],l.prototype,"allowDragFromColumnsToolPanel",void 0),H([K(),W("design:type",Boolean)],l.prototype,"suppressMovableColumns",void 0),H([K(),W("design:type",Boolean)],l.prototype,"suppressColumnMoveAnimation",void 0),H([K(),W("design:type",Boolean)],l.prototype,"suppressDragLeaveHidesColumns",void 0),H([K(),W("design:type",String)],l.prototype,"colResizeDefault",void 0),H([K(),W("design:type",Boolean)],l.prototype,"suppressAutoSize",void 0),H([K(),W("design:type",Number)],l.prototype,"autoSizePadding",void 0),H([K(),W("design:type",Boolean)],l.prototype,"skipHeaderOnAutoSize",void 0),H([K(),W("design:type",Object)],l.prototype,"components",void 0),H([K(),W("design:type",Object)],l.prototype,"frameworkComponents",void 0),H([K(),W("design:type",Boolean)],l.prototype,"reactUi",void 0),H([K(),W("design:type",Boolean)],l.prototype,"suppressReactUi",void 0),H([K(),W("design:type",String)],l.prototype,"editType",void 0),H([K(),W("design:type",Boolean)],l.prototype,"singleClickEdit",void 0),H([K(),W("design:type",Boolean)],l.prototype,"suppressClickEdit",void 0),H([K(),W("design:type",Boolean)],l.prototype,"stopEditingWhenCellsLoseFocus",void 0),H([K(),W("design:type",Boolean)],l.prototype,"enterMovesDown",void 0),H([K(),W("design:type",Boolean)],l.prototype,"enterMovesDownAfterEdit",void 0),H([K(),W("design:type",Boolean)],l.prototype,"undoRedoCellEditing",void 0),H([K(),W("design:type",Number)],l.prototype,"undoRedoCellEditingLimit",void 0),H([K(),W("design:type",Boolean)],l.prototype,"stopEditingWhenGridLosesFocus",void 0),H([K(),W("design:type",Object)],l.prototype,"defaultCsvExportParams",void 0),H([K(),W("design:type",Boolean)],l.prototype,"suppressCsvExport",void 0),H([K(),W("design:type",Object)],l.prototype,"defaultExcelExportParams",void 0),H([K(),W("design:type",Boolean)],l.prototype,"suppressExcelExport",void 0),H([K(),W("design:type",Array)],l.prototype,"excelStyles",void 0),H([K(),W("design:type",Object)],l.prototype,"defaultExportParams",void 0),H([K(),W("design:type",String)],l.prototype,"quickFilterText",void 0),H([K(),W("design:type",Boolean)],l.prototype,"cacheQuickFilter",void 0),H([K(),W("design:type",Boolean)],l.prototype,"excludeChildrenWhenTreeDataFiltering",void 0),H([K(),W("design:type",Boolean)],l.prototype,"enableCharts",void 0),H([K(),W("design:type",Array)],l.prototype,"chartThemes",void 0),H([K(),W("design:type",Object)],l.prototype,"customChartThemes",void 0),H([K(),W("design:type",Object)],l.prototype,"chartThemeOverrides",void 0),H([K(),W("design:type",Object)],l.prototype,"loadingCellRenderer",void 0),H([K(),W("design:type",Object)],l.prototype,"loadingCellRendererFramework",void 0),H([K(),W("design:type",Object)],l.prototype,"loadingCellRendererParams",void 0),H([K(),W("design:type",Function)],l.prototype,"loadingCellRendererSelector",void 0),H([K(),W("design:type",Object)],l.prototype,"localeText",void 0),H([K(),W("design:type",Boolean)],l.prototype,"masterDetail",void 0),H([K(),W("design:type",Boolean)],l.prototype,"keepDetailRows",void 0),H([K(),W("design:type",Number)],l.prototype,"keepDetailRowsCount",void 0),H([K(),W("design:type",Object)],l.prototype,"detailCellRenderer",void 0),H([K(),W("design:type",Object)],l.prototype,"detailCellRendererFramework",void 0),H([K(),W("design:type",Object)],l.prototype,"detailCellRendererParams",void 0),H([K(),W("design:type",Number)],l.prototype,"detailRowHeight",void 0),H([K(),W("design:type",Boolean)],l.prototype,"detailRowAutoHeight",void 0),H([K(),W("design:type",Object)],l.prototype,"context",void 0),H([K(),W("design:type",Array)],l.prototype,"alignedGrids",void 0),H([K(),W("design:type",Number)],l.prototype,"tabIndex",void 0),H([K(),W("design:type",Number)],l.prototype,"rowBuffer",void 0),H([K(),W("design:type",Boolean)],l.prototype,"valueCache",void 0),H([K(),W("design:type",Boolean)],l.prototype,"valueCacheNeverExpires",void 0),H([K(),W("design:type",Boolean)],l.prototype,"enableCellExpressions",void 0),H([K(),W("design:type",Boolean)],l.prototype,"suppressParentsInRowNodes",void 0),H([K(),W("design:type",Boolean)],l.prototype,"suppressTouch",void 0),H([K(),W("design:type",Boolean)],l.prototype,"suppressFocusAfterRefresh",void 0),H([K(),W("design:type",Boolean)],l.prototype,"suppressAsyncEvents",void 0),H([K(),W("design:type",Boolean)],l.prototype,"suppressBrowserResizeObserver",void 0),H([K(),W("design:type",Boolean)],l.prototype,"suppressPropertyNamesCheck",void 0),H([K(),W("design:type",Boolean)],l.prototype,"suppressChangeDetection",void 0),H([K(),W("design:type",Boolean)],l.prototype,"debug",void 0),H([K(),W("design:type",String)],l.prototype,"overlayLoadingTemplate",void 0),H([K(),W("design:type",Object)],l.prototype,"loadingOverlayComponent",void 0),H([K(),W("design:type",Object)],l.prototype,"loadingOverlayComponentFramework",void 0),H([K(),W("design:type",Object)],l.prototype,"loadingOverlayComponentParams",void 0),H([K(),W("design:type",Boolean)],l.prototype,"suppressLoadingOverlay",void 0),H([K(),W("design:type",String)],l.prototype,"overlayNoRowsTemplate",void 0),H([K(),W("design:type",Object)],l.prototype,"noRowsOverlayComponent",void 0),H([K(),W("design:type",Object)],l.prototype,"noRowsOverlayComponentFramework",void 0),H([K(),W("design:type",Object)],l.prototype,"noRowsOverlayComponentParams",void 0),H([K(),W("design:type",Boolean)],l.prototype,"suppressNoRowsOverlay",void 0),H([K(),W("design:type",Boolean)],l.prototype,"pagination",void 0),H([K(),W("design:type",Number)],l.prototype,"paginationPageSize",void 0),H([K(),W("design:type",Boolean)],l.prototype,"paginationAutoPageSize",void 0),H([K(),W("design:type",Boolean)],l.prototype,"paginateChildRows",void 0),H([K(),W("design:type",Boolean)],l.prototype,"suppressPaginationPanel",void 0),H([K(),W("design:type",Boolean)],l.prototype,"pivotMode",void 0),H([K(),W("design:type",String)],l.prototype,"pivotPanelShow",void 0),H([K(),W("design:type",String)],l.prototype,"pivotColumnGroupTotals",void 0),H([K(),W("design:type",String)],l.prototype,"pivotRowTotals",void 0),H([K(),W("design:type",Boolean)],l.prototype,"pivotSuppressAutoColumn",void 0),H([K(),W("design:type",Boolean)],l.prototype,"suppressExpandablePivotGroups",void 0),H([K(),W("design:type",Boolean)],l.prototype,"functionsReadOnly",void 0),H([K(),W("design:type",Object)],l.prototype,"aggFuncs",void 0),H([K(),W("design:type",Boolean)],l.prototype,"suppressAggFuncInHeader",void 0),H([K(),W("design:type",Boolean)],l.prototype,"suppressAggAtRootLevel",void 0),H([K(),W("design:type",Boolean)],l.prototype,"aggregateOnlyChangedColumns",void 0),H([K(),W("design:type",Boolean)],l.prototype,"suppressAggFilteredOnly",void 0),H([K(),W("design:type",Boolean)],l.prototype,"animateRows",void 0),H([K(),W("design:type",Boolean)],l.prototype,"enableCellChangeFlash",void 0),H([K(),W("design:type",Number)],l.prototype,"cellFlashDelay",void 0),H([K(),W("design:type",Number)],l.prototype,"cellFadeDelay",void 0),H([K(),W("design:type",String)],l.prototype,"domLayout",void 0),H([K(),W("design:type",Boolean)],l.prototype,"ensureDomOrder",void 0),H([K(),W("design:type",Boolean)],l.prototype,"enableRtl",void 0),H([K(),W("design:type",Boolean)],l.prototype,"suppressColumnVirtualisation",void 0),H([K(),W("design:type",Boolean)],l.prototype,"suppressMaxRenderedRowRestriction",void 0),H([K(),W("design:type",Boolean)],l.prototype,"rowDragManaged",void 0),H([K(),W("design:type",Boolean)],l.prototype,"suppressRowDrag",void 0),H([K(),W("design:type",Boolean)],l.prototype,"suppressMoveWhenRowDragging",void 0),H([K(),W("design:type",Boolean)],l.prototype,"rowDragEntireRow",void 0),H([K(),W("design:type",Boolean)],l.prototype,"rowDragMultiRow",void 0),H([K(),W("design:type",Object)],l.prototype,"fullWidthCellRenderer",void 0),H([K(),W("design:type",Object)],l.prototype,"fullWidthCellRendererFramework",void 0),H([K(),W("design:type",Object)],l.prototype,"fullWidthCellRendererParams",void 0),H([K(),W("design:type",Boolean)],l.prototype,"embedFullWidthRows",void 0),H([K(),W("design:type",Boolean)],l.prototype,"deprecatedEmbedFullWidthRows",void 0),H([K(),W("design:type",String)],l.prototype,"groupDisplayType",void 0),H([K(),W("design:type",Number)],l.prototype,"groupDefaultExpanded",void 0),H([K(),W("design:type",Object)],l.prototype,"autoGroupColumnDef",void 0),H([K(),W("design:type",Boolean)],l.prototype,"groupMaintainOrder",void 0),H([K(),W("design:type",Boolean)],l.prototype,"groupSelectsChildren",void 0),H([K(),W("design:type",Boolean)],l.prototype,"groupIncludeFooter",void 0),H([K(),W("design:type",Boolean)],l.prototype,"groupIncludeTotalFooter",void 0),H([K(),W("design:type",Boolean)],l.prototype,"groupSuppressBlankHeader",void 0),H([K(),W("design:type",Boolean)],l.prototype,"groupSelectsFiltered",void 0),H([K(),W("design:type",Boolean)],l.prototype,"showOpenedGroup",void 0),H([K(),W("design:type",Boolean)],l.prototype,"groupRemoveSingleChildren",void 0),H([K(),W("design:type",Boolean)],l.prototype,"groupRemoveLowestSingleChildren",void 0),H([K(),W("design:type",Boolean)],l.prototype,"groupHideOpenParents",void 0),H([K(),W("design:type",String)],l.prototype,"rowGroupPanelShow",void 0),H([K(),W("design:type",Object)],l.prototype,"groupRowRenderer",void 0),H([K(),W("design:type",Object)],l.prototype,"groupRowRendererFramework",void 0),H([K(),W("design:type",Object)],l.prototype,"groupRowRendererParams",void 0),H([K(),W("design:type",Boolean)],l.prototype,"suppressMakeColumnVisibleAfterUnGroup",void 0),H([K(),W("design:type",Boolean)],l.prototype,"treeData",void 0),H([K(),W("design:type",Object)],l.prototype,"groupRowInnerRenderer",void 0),H([K(),W("design:type",Object)],l.prototype,"groupRowInnerRendererFramework",void 0),H([K(),W("design:type",Boolean)],l.prototype,"groupMultiAutoColumn",void 0),H([K(),W("design:type",Boolean)],l.prototype,"groupUseEntireRow",void 0),H([K(),W("design:type",Boolean)],l.prototype,"groupSuppressAutoColumn",void 0),H([K(),W("design:type",Boolean)],l.prototype,"rememberGroupStateWhenNewData",void 0),H([K(),W("design:type",Array)],l.prototype,"pinnedTopRowData",void 0),H([K(),W("design:type",Array)],l.prototype,"pinnedBottomRowData",void 0),H([K(),W("design:type",String)],l.prototype,"rowModelType",void 0),H([K(),W("design:type",Array)],l.prototype,"rowData",void 0),H([K(),W("design:type",Boolean)],l.prototype,"immutableData",void 0),H([K(),W("design:type",Number)],l.prototype,"asyncTransactionWaitMillis",void 0),H([K(),W("design:type",Boolean)],l.prototype,"suppressModelUpdateAfterUpdateTransaction",void 0),H([K(),W("design:type",Boolean)],l.prototype,"deltaRowDataMode",void 0),H([K(),W("design:type",Number)],l.prototype,"batchUpdateWaitMillis",void 0),H([K(),W("design:type",Object)],l.prototype,"datasource",void 0),H([K(),W("design:type",Number)],l.prototype,"cacheOverflowSize",void 0),H([K(),W("design:type",Number)],l.prototype,"infiniteInitialRowCount",void 0),H([K(),W("design:type",String)],l.prototype,"serverSideStoreType",void 0),H([K(),W("design:type",Number)],l.prototype,"cacheBlockSize",void 0),H([K(),W("design:type",Number)],l.prototype,"maxBlocksInCache",void 0),H([K(),W("design:type",Number)],l.prototype,"maxConcurrentDatasourceRequests",void 0),H([K(),W("design:type",Number)],l.prototype,"blockLoadDebounceMillis",void 0),H([K(),W("design:type",Boolean)],l.prototype,"purgeClosedRowNodes",void 0),H([K(),W("design:type",Object)],l.prototype,"serverSideDatasource",void 0),H([K(),W("design:type",Boolean)],l.prototype,"serverSideSortingAlwaysResets",void 0),H([K(),W("design:type",Boolean)],l.prototype,"serverSideFilteringAlwaysResets",void 0),H([K(),W("design:type",Boolean)],l.prototype,"suppressEnterpriseResetOnNewColumns",void 0),H([K(),W("design:type",Object)],l.prototype,"viewportDatasource",void 0),H([K(),W("design:type",Number)],l.prototype,"viewportRowModelPageSize",void 0),H([K(),W("design:type",Number)],l.prototype,"viewportRowModelBufferSize",void 0),H([K(),W("design:type",Boolean)],l.prototype,"alwaysShowHorizontalScroll",void 0),H([K(),W("design:type",Boolean)],l.prototype,"alwaysShowVerticalScroll",void 0),H([K(),W("design:type",Boolean)],l.prototype,"debounceVerticalScrollbar",void 0),H([K(),W("design:type",Boolean)],l.prototype,"suppressHorizontalScroll",void 0),H([K(),W("design:type",Boolean)],l.prototype,"suppressScrollOnNewData",void 0),H([K(),W("design:type",Boolean)],l.prototype,"suppressScrollWhenPopupsAreOpen",void 0),H([K(),W("design:type",Boolean)],l.prototype,"suppressAnimationFrame",void 0),H([K(),W("design:type",Boolean)],l.prototype,"suppressMiddleClickScrolls",void 0),H([K(),W("design:type",Boolean)],l.prototype,"suppressPreventDefaultOnMouseWheel",void 0),H([K(),W("design:type",Number)],l.prototype,"scrollbarWidth",void 0),H([K(),W("design:type",String)],l.prototype,"rowSelection",void 0),H([K(),W("design:type",Boolean)],l.prototype,"rowMultiSelectWithClick",void 0),H([K(),W("design:type",Boolean)],l.prototype,"suppressRowDeselection",void 0),H([K(),W("design:type",Boolean)],l.prototype,"suppressRowClickSelection",void 0),H([K(),W("design:type",Boolean)],l.prototype,"suppressCellSelection",void 0),H([K(),W("design:type",Boolean)],l.prototype,"suppressCellFocus",void 0),H([K(),W("design:type",Boolean)],l.prototype,"suppressMultiRangeSelection",void 0),H([K(),W("design:type",Boolean)],l.prototype,"enableCellTextSelection",void 0),H([K(),W("design:type",Boolean)],l.prototype,"enableRangeSelection",void 0),H([K(),W("design:type",Boolean)],l.prototype,"enableRangeHandle",void 0),H([K(),W("design:type",Boolean)],l.prototype,"enableFillHandle",void 0),H([K(),W("design:type",String)],l.prototype,"fillHandleDirection",void 0),H([K(),W("design:type",Boolean)],l.prototype,"suppressClearOnFillReduction",void 0),H([K(),W("design:type",Array)],l.prototype,"sortingOrder",void 0),H([K(),W("design:type",Boolean)],l.prototype,"accentedSort",void 0),H([K(),W("design:type",Boolean)],l.prototype,"unSortIcon",void 0),H([K(),W("design:type",Boolean)],l.prototype,"suppressMultiSort",void 0),H([K(),W("design:type",String)],l.prototype,"multiSortKey",void 0),H([K(),W("design:type",Boolean)],l.prototype,"suppressMaintainUnsortedOrder",void 0),H([K(),W("design:type",Object)],l.prototype,"icons",void 0),H([K(),W("design:type",Number)],l.prototype,"rowHeight",void 0),H([K(),W("design:type",Object)],l.prototype,"rowStyle",void 0),H([K(),W("design:type",Object)],l.prototype,"rowClass",void 0),H([K(),W("design:type",Object)],l.prototype,"rowClassRules",void 0),H([K(),W("design:type",Boolean)],l.prototype,"suppressRowHoverHighlight",void 0),H([K(),W("design:type",Boolean)],l.prototype,"suppressRowTransform",void 0),H([K(),W("design:type",Boolean)],l.prototype,"columnHoverHighlight",void 0),H([K(),W("design:type",Boolean)],l.prototype,"deltaSort",void 0),H([K(),W("design:type",String)],l.prototype,"treeDataDisplayType",void 0),H([K(),W("design:type",Boolean)],l.prototype,"angularCompileRows",void 0),H([K(),W("design:type",Boolean)],l.prototype,"angularCompileFilters",void 0),H([K(),W("design:type",Boolean)],l.prototype,"functionsPassive",void 0),H([K(),W("design:type",Boolean)],l.prototype,"enableGroupEdit",void 0),H([K(),W("design:type",Function)],l.prototype,"getContextMenuItems",void 0),H([K(),W("design:type",Function)],l.prototype,"getMainMenuItems",void 0),H([K(),W("design:type",Function)],l.prototype,"postProcessPopup",void 0),H([K(),W("design:type",Function)],l.prototype,"processCellForClipboard",void 0),H([K(),W("design:type",Function)],l.prototype,"processHeaderForClipboard",void 0),H([K(),W("design:type",Function)],l.prototype,"processGroupHeaderForClipboard",void 0),H([K(),W("design:type",Function)],l.prototype,"processCellFromClipboard",void 0),H([K(),W("design:type",Function)],l.prototype,"sendToClipboard",void 0),H([K(),W("design:type",Function)],l.prototype,"processDataFromClipboard",void 0),H([K(),W("design:type",Function)],l.prototype,"isExternalFilterPresent",void 0),H([K(),W("design:type",Function)],l.prototype,"doesExternalFilterPass",void 0),H([K(),W("design:type",Function)],l.prototype,"getChartToolbarItems",void 0),H([K(),W("design:type",Function)],l.prototype,"createChartContainer",void 0),H([K(),W("design:type",Function)],l.prototype,"navigateToNextHeader",void 0),H([K(),W("design:type",Function)],l.prototype,"tabToNextHeader",void 0),H([K(),W("design:type",Function)],l.prototype,"navigateToNextCell",void 0),H([K(),W("design:type",Function)],l.prototype,"tabToNextCell",void 0),H([K(),W("design:type",Function)],l.prototype,"suppressKeyboardEvent",void 0),H([K(),W("design:type",Function)],l.prototype,"localeTextFunc",void 0),H([K(),W("design:type",Function)],l.prototype,"getDocument",void 0),H([K(),W("design:type",Function)],l.prototype,"paginationNumberFormatter",void 0),H([K(),W("design:type",Function)],l.prototype,"groupRowAggNodes",void 0),H([K(),W("design:type",Function)],l.prototype,"isGroupOpenByDefault",void 0),H([K(),W("design:type",Function)],l.prototype,"defaultGroupOrderComparator",void 0),H([K(),W("design:type",Function)],l.prototype,"processSecondaryColDef",void 0),H([K(),W("design:type",Function)],l.prototype,"processSecondaryColGroupDef",void 0),H([K(),W("design:type",Function)],l.prototype,"getDataPath",void 0),H([K(),W("design:type",Function)],l.prototype,"defaultGroupSortComparator",void 0),H([K(),W("design:type",Function)],l.prototype,"getChildCount",void 0),H([K(),W("design:type",Function)],l.prototype,"getServerSideStoreParams",void 0),H([K(),W("design:type",Function)],l.prototype,"isServerSideGroupOpenByDefault",void 0),H([K(),W("design:type",Function)],l.prototype,"isApplyServerSideTransaction",void 0),H([K(),W("design:type",Function)],l.prototype,"isServerSideGroup",void 0),H([K(),W("design:type",Function)],l.prototype,"getServerSideGroupKey",void 0),H([K(),W("design:type",Function)],l.prototype,"getBusinessKeyForNode",void 0),H([K(),W("design:type",Function)],l.prototype,"getRowNodeId",void 0),H([K(),W("design:type",Function)],l.prototype,"processRowPostCreate",void 0),H([K(),W("design:type",Function)],l.prototype,"isRowSelectable",void 0),H([K(),W("design:type",Function)],l.prototype,"isRowMaster",void 0),H([K(),W("design:type",Function)],l.prototype,"fillOperation",void 0),H([K(),W("design:type",Function)],l.prototype,"postSort",void 0),H([K(),W("design:type",Function)],l.prototype,"getRowStyle",void 0),H([K(),W("design:type",Function)],l.prototype,"getRowClass",void 0),H([K(),W("design:type",Function)],l.prototype,"getRowHeight",void 0),H([K(),W("design:type",Function)],l.prototype,"isFullWidthCell",void 0),H([st(),W("design:type",he)],l.prototype,"toolPanelVisibleChanged",void 0),H([st(),W("design:type",he)],l.prototype,"pasteStart",void 0),H([st(),W("design:type",he)],l.prototype,"pasteEnd",void 0),H([st(),W("design:type",he)],l.prototype,"columnVisible",void 0),H([st(),W("design:type",he)],l.prototype,"columnPinned",void 0),H([st(),W("design:type",he)],l.prototype,"columnResized",void 0),H([st(),W("design:type",he)],l.prototype,"columnMoved",void 0),H([st(),W("design:type",he)],l.prototype,"columnValueChanged",void 0),H([st(),W("design:type",he)],l.prototype,"columnPivotModeChanged",void 0),H([st(),W("design:type",he)],l.prototype,"columnPivotChanged",void 0),H([st(),W("design:type",he)],l.prototype,"columnGroupOpened",void 0),H([st(),W("design:type",he)],l.prototype,"newColumnsLoaded",void 0),H([st(),W("design:type",he)],l.prototype,"gridColumnsChanged",void 0),H([st(),W("design:type",he)],l.prototype,"displayedColumnsChanged",void 0),H([st(),W("design:type",he)],l.prototype,"virtualColumnsChanged",void 0),H([st(),W("design:type",he)],l.prototype,"columnEverythingChanged",void 0),H([st(),W("design:type",he)],l.prototype,"componentStateChanged",void 0),H([st(),W("design:type",he)],l.prototype,"cellValueChanged",void 0),H([st(),W("design:type",he)],l.prototype,"rowValueChanged",void 0),H([st(),W("design:type",he)],l.prototype,"cellEditingStarted",void 0),H([st(),W("design:type",he)],l.prototype,"cellEditingStopped",void 0),H([st(),W("design:type",he)],l.prototype,"rowEditingStarted",void 0),H([st(),W("design:type",he)],l.prototype,"rowEditingStopped",void 0),H([st(),W("design:type",he)],l.prototype,"filterOpened",void 0),H([st(),W("design:type",he)],l.prototype,"filterChanged",void 0),H([st(),W("design:type",he)],l.prototype,"filterModified",void 0),H([st(),W("design:type",he)],l.prototype,"chartCreated",void 0),H([st(),W("design:type",he)],l.prototype,"chartRangeSelectionChanged",void 0),H([st(),W("design:type",he)],l.prototype,"chartOptionsChanged",void 0),H([st(),W("design:type",he)],l.prototype,"chartDestroyed",void 0),H([st(),W("design:type",he)],l.prototype,"cellKeyDown",void 0),H([st(),W("design:type",he)],l.prototype,"cellKeyPress",void 0),H([st(),W("design:type",he)],l.prototype,"gridReady",void 0),H([st(),W("design:type",he)],l.prototype,"firstDataRendered",void 0),H([st(),W("design:type",he)],l.prototype,"gridSizeChanged",void 0),H([st(),W("design:type",he)],l.prototype,"modelUpdated",void 0),H([st(),W("design:type",he)],l.prototype,"virtualRowRemoved",void 0),H([st(),W("design:type",he)],l.prototype,"viewportChanged",void 0),H([st(),W("design:type",he)],l.prototype,"bodyScroll",void 0),H([st(),W("design:type",he)],l.prototype,"bodyScrollEnd",void 0),H([st(),W("design:type",he)],l.prototype,"dragStarted",void 0),H([st(),W("design:type",he)],l.prototype,"dragStopped",void 0),H([st(),W("design:type",he)],l.prototype,"paginationChanged",void 0),H([st(),W("design:type",he)],l.prototype,"rowDragEnter",void 0),H([st(),W("design:type",he)],l.prototype,"rowDragMove",void 0),H([st(),W("design:type",he)],l.prototype,"rowDragLeave",void 0),H([st(),W("design:type",he)],l.prototype,"rowDragEnd",void 0),H([st(),W("design:type",he)],l.prototype,"columnRowGroupChanged",void 0),H([st(),W("design:type",he)],l.prototype,"rowGroupOpened",void 0),H([st(),W("design:type",he)],l.prototype,"expandOrCollapseAll",void 0),H([st(),W("design:type",he)],l.prototype,"pinnedRowDataChanged",void 0),H([st(),W("design:type",he)],l.prototype,"rowDataChanged",void 0),H([st(),W("design:type",he)],l.prototype,"rowDataUpdated",void 0),H([st(),W("design:type",he)],l.prototype,"asyncTransactionsFlushed",void 0),H([st(),W("design:type",he)],l.prototype,"cellClicked",void 0),H([st(),W("design:type",he)],l.prototype,"cellDoubleClicked",void 0),H([st(),W("design:type",he)],l.prototype,"cellFocused",void 0),H([st(),W("design:type",he)],l.prototype,"cellMouseOver",void 0),H([st(),W("design:type",he)],l.prototype,"cellMouseOut",void 0),H([st(),W("design:type",he)],l.prototype,"cellMouseDown",void 0),H([st(),W("design:type",he)],l.prototype,"rowClicked",void 0),H([st(),W("design:type",he)],l.prototype,"rowDoubleClicked",void 0),H([st(),W("design:type",he)],l.prototype,"rowSelected",void 0),H([st(),W("design:type",he)],l.prototype,"selectionChanged",void 0),H([st(),W("design:type",he)],l.prototype,"cellContextMenu",void 0),H([st(),W("design:type",he)],l.prototype,"rangeSelectionChanged",void 0),H([st(),W("design:type",he)],l.prototype,"sortChanged",void 0),H([st(),W("design:type",he)],l.prototype,"columnRowGroupChangeRequest",void 0),H([st(),W("design:type",he)],l.prototype,"columnPivotChangeRequest",void 0),H([st(),W("design:type",he)],l.prototype,"columnValueChangeRequest",void 0),H([st(),W("design:type",he)],l.prototype,"columnAggFuncChangeRequest",void 0),l=H([W("design:paramtypes",[Lt,ei,UM,zM,Ni])],l),l})();var $M;let Cw=$M=class{static withComponents(a){return{ngModule:$M,providers:[{provide:lv,useValue:a,multi:!0}]}}static forRoot(a){return{ngModule:$M,providers:[{provide:lv,useValue:a,multi:!0}]}}};Cw.\u0275fac=function(a){return new(a||Cw)},Cw.\u0275mod=Tt({type:Cw}),Cw.\u0275inj=_t({imports:[[]]});let $3=0;const KM=new Xe("CdkAccordion");let K3=(()=>{class l{constructor(){this._stateChanges=new Mt,this._openCloseAllActions=new Mt,this.id="cdk-accordion-"+$3++,this._multi=!1}get multi(){return this._multi}set multi(r){this._multi=xn(r)}openAll(){this._multi&&this._openCloseAllActions.next(!0)}closeAll(){this._openCloseAllActions.next(!1)}ngOnChanges(r){this._stateChanges.next(r)}ngOnDestroy(){this._stateChanges.complete(),this._openCloseAllActions.complete()}}return l.\u0275fac=function(r){return new(r||l)},l.\u0275dir=Ke({type:l,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:"multi"},exportAs:["cdkAccordion"],features:[yt([{provide:KM,useExisting:l}]),$n]}),l})(),Y3=0,q3=(()=>{class l{constructor(r,d,v){this.accordion=r,this._changeDetectorRef=d,this._expansionDispatcher=v,this._openCloseAllSubscription=an.EMPTY,this.closed=new he,this.opened=new he,this.destroyed=new he,this.expandedChange=new he,this.id="cdk-accordion-child-"+Y3++,this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=v.listen((C,S)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===S&&this.id!==C&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}get expanded(){return this._expanded}set expanded(r){r=xn(r),this._expanded!==r&&(this._expanded=r,this.expandedChange.emit(r),r?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(r){this._disabled=xn(r)}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(r=>{this.disabled||(this.expanded=r)})}}return l.\u0275fac=function(r){return new(r||l)(ne(KM,12),ne(Br),ne(iL))},l.\u0275dir=Ke({type:l,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:"expanded",disabled:"disabled"},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[yt([{provide:KM,useValue:void 0}])]}),l})(),X3=(()=>{class l{}return l.\u0275fac=function(r){return new(r||l)},l.\u0275mod=Tt({type:l}),l.\u0275inj=_t({}),l})();const Q3=["body"];function Z3(l,a){}const J3=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],eU=["mat-expansion-panel-header","*","mat-action-row"];function tU(l,a){1&l&&Wt(0,"span",2),2&l&&ze("@indicatorRotate",ct()._getExpandedState())}const nU=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],rU=["mat-panel-title","mat-panel-description","*"],YM=new Xe("MAT_ACCORDION"),zk="225ms cubic-bezier(0.4,0.0,0.2,1)",$k={indicatorRotate:g_("indicatorRotate",[nu("collapsed, void",di({transform:"rotate(0deg)"})),nu("expanded",di({transform:"rotate(180deg)"})),ru("expanded <=> collapsed, void => collapsed",tu(zk))]),bodyExpansion:g_("bodyExpansion",[nu("collapsed, void",di({height:"0px",visibility:"hidden"})),nu("expanded",di({height:"*",visibility:"visible"})),ru("expanded <=> collapsed, void => collapsed",tu(zk))])};let iU=(()=>{class l{constructor(r){this._template=r}}return l.\u0275fac=function(r){return new(r||l)(ne(vn))},l.\u0275dir=Ke({type:l,selectors:[["ng-template","matExpansionPanelContent",""]]}),l})(),oU=0;const Kk=new Xe("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS");let Yk=(()=>{class l extends q3{constructor(r,d,v,C,S,O,T){super(r,d,v),this._viewContainerRef=C,this._animationMode=O,this._hideToggle=!1,this.afterExpand=new he,this.afterCollapse=new he,this._inputChanges=new Mt,this._headerId="mat-expansion-panel-header-"+oU++,this._bodyAnimationDone=new Mt,this.accordion=r,this._document=S,this._bodyAnimationDone.pipe(CP((F,k)=>F.fromState===k.fromState&&F.toState===k.toState)).subscribe(F=>{"void"!==F.fromState&&("expanded"===F.toState?this.afterExpand.emit():"collapsed"===F.toState&&this.afterCollapse.emit())}),T&&(this.hideToggle=T.hideToggle)}get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(r){this._hideToggle=xn(r)}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(r){this._togglePosition=r}_hasSpacing(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this.opened.pipe(pl(null),fa(()=>this.expanded&&!this._portal),fo(1)).subscribe(()=>{this._portal=new RM(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(r){this._inputChanges.next(r)}ngOnDestroy(){super.ngOnDestroy(),this._bodyAnimationDone.complete(),this._inputChanges.complete()}_containsFocus(){if(this._body){const r=this._document.activeElement,d=this._body.nativeElement;return r===d||d.contains(r)}return!1}}return l.\u0275fac=function(r){return new(r||l)(ne(YM,12),ne(Br),ne(iL),ne(ei),ne(ue),ne(Bd,8),ne(Kk,8))},l.\u0275cmp=Yt({type:l,selectors:[["mat-expansion-panel"]],contentQueries:function(r,d,v){if(1&r&&rn(v,iU,5),2&r){let C;rt(C=ht())&&(d._lazyContent=C.first)}},viewQuery:function(r,d){if(1&r&&gr(Q3,5),2&r){let v;rt(v=ht())&&(d._body=v.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(r,d){2&r&&G("mat-expanded",d.expanded)("_mat-animation-noopable","NoopAnimations"===d._animationMode)("mat-expansion-panel-spacing",d._hasSpacing())},inputs:{disabled:"disabled",expanded:"expanded",hideToggle:"hideToggle",togglePosition:"togglePosition"},outputs:{opened:"opened",closed:"closed",expandedChange:"expandedChange",afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[yt([{provide:YM,useValue:void 0}]),Pt,$n],ngContentSelectors:eU,decls:7,vars:4,consts:[["role","region",1,"mat-expansion-panel-content",3,"id"],["body",""],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(r,d){1&r&&(ir(J3),vt(0),Ce(1,"div",0,1),Ct("@bodyExpansion.done",function(C){return d._bodyAnimationDone.next(C)}),Ce(3,"div",2),vt(4,1),ut(5,Z3,0,0,"ng-template",3),be(),vt(6,2),be()),2&r&&(Be(1),ze("@bodyExpansion",d._getExpandedState())("id",d.id),zt("aria-labelledby",d._headerId),Be(4),ze("cdkPortalOutlet",d._portal))},directives:[PM],styles:[".mat-expansion-panel{box-sizing:content-box;display:block;margin:0;border-radius:4px;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:4px;border-top-left-radius:4px}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:4px;border-bottom-left-radius:4px}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px}.mat-action-row button.mat-button-base,.mat-action-row button.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row button.mat-button-base,[dir=rtl] .mat-action-row button.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[$k.bodyExpansion]},changeDetection:0}),l})();class aU{}const sU=CN(aU);let qk=(()=>{class l extends sU{constructor(r,d,v,C,S,O,T){super(),this.panel=r,this._element=d,this._focusMonitor=v,this._changeDetectorRef=C,this._animationMode=O,this._parentChangeSubscription=an.EMPTY;const F=r.accordion?r.accordion._stateChanges.pipe(fa(k=>!(!k.hideToggle&&!k.togglePosition))):Or;this.tabIndex=parseInt(T||"")||0,this._parentChangeSubscription=Ge(r.opened,r.closed,F,r._inputChanges.pipe(fa(k=>!!(k.hideToggle||k.disabled||k.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),r.closed.pipe(fa(()=>r._containsFocus())).subscribe(()=>v.focusVia(d,"program")),S&&(this.expandedHeight=S.expandedHeight,this.collapsedHeight=S.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){const r=this._isExpanded();return r&&this.expandedHeight?this.expandedHeight:!r&&this.collapsedHeight?this.collapsedHeight:null}_keydown(r){switch(r.keyCode){case 32:case 13:cm(r)||(r.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(r))}}focus(r,d){r?this._focusMonitor.focusVia(this._element,r,d):this._element.nativeElement.focus(d)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(r=>{r&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}}return l.\u0275fac=function(r){return new(r||l)(ne(Yk,1),ne(Lt),ne(dw),ne(Br),ne(Kk,8),ne(Bd,8),Qo("tabindex"))},l.\u0275cmp=Yt({type:l,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(r,d){1&r&&Ct("click",function(){return d._toggle()})("keydown",function(C){return d._keydown(C)}),2&r&&(zt("id",d.panel._headerId)("tabindex",d.tabIndex)("aria-controls",d._getPanelId())("aria-expanded",d._isExpanded())("aria-disabled",d.panel.disabled),L("height",d._getHeaderHeight()),G("mat-expanded",d._isExpanded())("mat-expansion-toggle-indicator-after","after"===d._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===d._getTogglePosition())("_mat-animation-noopable","NoopAnimations"===d._animationMode))},inputs:{tabIndex:"tabIndex",expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight"},features:[Pt],ngContentSelectors:rU,decls:5,vars:1,consts:[[1,"mat-content"],["class","mat-expansion-indicator",4,"ngIf"],[1,"mat-expansion-indicator"]],template:function(r,d){1&r&&(ir(nU),Ce(0,"span",0),vt(1),vt(2,1),vt(3,2),be(),ut(4,tU,1,1,"span",1)),2&r&&(Be(4),ze("ngIf",d._showToggle()))},directives:[fc],styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header-description{flex-grow:2}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle}.cdk-high-contrast-active .mat-expansion-panel .mat-expansion-panel-header.cdk-keyboard-focused:not([aria-disabled=true])::before,.cdk-high-contrast-active .mat-expansion-panel .mat-expansion-panel-header.cdk-program-focused:not([aria-disabled=true])::before,.cdk-high-contrast-active .mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:hover:not([aria-disabled=true])::before{top:0;left:0;right:0;bottom:0;position:absolute;box-sizing:border-box;pointer-events:none;border:3px solid;border-radius:4px;content:""}.cdk-high-contrast-active .mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}\n'],encapsulation:2,data:{animation:[$k.indicatorRotate]},changeDetection:0}),l})(),lU=(()=>{class l{}return l.\u0275fac=function(r){return new(r||l)},l.\u0275dir=Ke({type:l,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]}),l})(),uU=(()=>{class l extends K3{constructor(){super(...arguments),this._ownHeaders=new Sr,this._hideToggle=!1,this.displayMode="default",this.togglePosition="after"}get hideToggle(){return this._hideToggle}set hideToggle(r){this._hideToggle=xn(r)}ngAfterContentInit(){this._headers.changes.pipe(pl(this._headers)).subscribe(r=>{this._ownHeaders.reset(r.filter(d=>d.panel.accordion===this)),this._ownHeaders.notifyOnChanges()}),this._keyManager=new rI(this._ownHeaders).withWrap().withHomeAndEnd()}_handleHeaderKeydown(r){this._keyManager.onKeydown(r)}_handleHeaderFocus(r){this._keyManager.updateActiveItem(r)}ngOnDestroy(){super.ngOnDestroy(),this._ownHeaders.destroy()}}return l.\u0275fac=function(){let a;return function(d){return(a||(a=fr(l)))(d||l)}}(),l.\u0275dir=Ke({type:l,selectors:[["mat-accordion"]],contentQueries:function(r,d,v){if(1&r&&rn(v,qk,5),2&r){let C;rt(C=ht())&&(d._headers=C)}},hostAttrs:[1,"mat-accordion"],hostVars:2,hostBindings:function(r,d){2&r&&G("mat-accordion-multi",d.multi)},inputs:{multi:"multi",hideToggle:"hideToggle",displayMode:"displayMode",togglePosition:"togglePosition"},exportAs:["matAccordion"],features:[yt([{provide:YM,useExisting:l}]),Pt]}),l})(),cU=(()=>{class l{}return l.\u0275fac=function(r){return new(r||l)},l.\u0275mod=Tt({type:l}),l.\u0275inj=_t({imports:[[am,Dr,X3,RA]]}),l})(),gU=(()=>{class l{}return l.\u0275fac=function(r){return new(r||l)},l.\u0275mod=Tt({type:l}),l.\u0275inj=_t({imports:[[am,Dr,RA,uA,jx,gI],Dr]}),l})();const mU=["input"],vU=function(l){return{enterDuration:l}},yU=["*"],_U=new Xe("mat-checkbox-default-options",{providedIn:"root",factory:Xk});function Xk(){return{color:"accent",clickAction:"check-indeterminate"}}let CU=0;const Qk=Xk(),bU={provide:ga,useExisting:fn(()=>Zk),multi:!0};class wU{}const SU=CN(gw(mw(JP(class{constructor(l){this._elementRef=l}}))));let Zk=(()=>{class l extends SU{constructor(r,d,v,C,S,O,T){super(r),this._changeDetectorRef=d,this._focusMonitor=v,this._ngZone=C,this._animationMode=O,this._options=T,this.ariaLabel="",this.ariaLabelledby=null,this._uniqueId="mat-checkbox-"+ ++CU,this.id=this._uniqueId,this.labelPosition="after",this.name=null,this.change=new he,this.indeterminateChange=new he,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||Qk,this.color=this.defaultColor=this._options.color||Qk.color,this.tabIndex=parseInt(S)||0}get inputId(){return`${this.id||this._uniqueId}-input`}get required(){return this._required}set required(r){this._required=xn(r)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(r=>{r||Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}),this._syncIndeterminate(this._indeterminate)}ngAfterViewChecked(){}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}get checked(){return this._checked}set checked(r){r!=this.checked&&(this._checked=r,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(r){const d=xn(r);d!==this.disabled&&(this._disabled=d,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(r){const d=r!=this._indeterminate;this._indeterminate=xn(r),d&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(r){this.checked=!!r}registerOnChange(r){this._controlValueAccessorChangeFn=r}registerOnTouched(r){this._onTouched=r}setDisabledState(r){this.disabled=r}_getAriaChecked(){return this.checked?"true":this.indeterminate?"mixed":"false"}_transitionCheckState(r){let d=this._currentCheckState,v=this._elementRef.nativeElement;if(d!==r&&(this._currentAnimationClass.length>0&&v.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(d,r),this._currentCheckState=r,this._currentAnimationClass.length>0)){v.classList.add(this._currentAnimationClass);const C=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{v.classList.remove(C)},1e3)})}}_emitChangeEvent(){const r=new wU;r.source=this,r.checked=this.checked,this._controlValueAccessorChangeFn(this.checked),this.change.emit(r),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked}_onInputClick(r){var v;const d=null==(v=this._options)?void 0:v.clickAction;r.stopPropagation(),this.disabled||"noop"===d?!this.disabled&&"noop"===d&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==d&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this.toggle(),this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}focus(r,d){r?this._focusMonitor.focusVia(this._inputElement,r,d):this._inputElement.nativeElement.focus(d)}_onInteractionEvent(r){r.stopPropagation()}_getAnimationClassForCheckStateTransition(r,d){if("NoopAnimations"===this._animationMode)return"";let v="";switch(r){case 0:if(1===d)v="unchecked-checked";else{if(3!=d)return"";v="unchecked-indeterminate"}break;case 2:v=1===d?"unchecked-checked":"unchecked-indeterminate";break;case 1:v=2===d?"checked-unchecked":"checked-indeterminate";break;case 3:v=1===d?"indeterminate-checked":"indeterminate-unchecked"}return`mat-checkbox-anim-${v}`}_syncIndeterminate(r){const d=this._inputElement;d&&(d.nativeElement.indeterminate=r)}}return l.\u0275fac=function(r){return new(r||l)(ne(Lt),ne(Br),ne(dw),ne(Xt),Qo("tabindex"),ne(Bd,8),ne(_U,8))},l.\u0275cmp=Yt({type:l,selectors:[["mat-checkbox"]],viewQuery:function(r,d){if(1&r&&(gr(mU,5),gr(vw,5)),2&r){let v;rt(v=ht())&&(d._inputElement=v.first),rt(v=ht())&&(d.ripple=v.first)}},hostAttrs:[1,"mat-checkbox"],hostVars:12,hostBindings:function(r,d){2&r&&(hh("id",d.id),zt("tabindex",null),G("mat-checkbox-indeterminate",d.indeterminate)("mat-checkbox-checked",d.checked)("mat-checkbox-disabled",d.disabled)("mat-checkbox-label-before","before"==d.labelPosition)("_mat-animation-noopable","NoopAnimations"===d._animationMode))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],id:"id",required:"required",labelPosition:"labelPosition",name:"name",value:"value",checked:"checked",disabled:"disabled",indeterminate:"indeterminate"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],features:[yt([bU]),Pt],ngContentSelectors:yU,decls:17,vars:21,consts:[[1,"mat-checkbox-layout"],["label",""],[1,"mat-checkbox-inner-container"],["type","checkbox",1,"mat-checkbox-input","cdk-visually-hidden",3,"id","required","checked","disabled","tabIndex","change","click"],["input",""],["matRipple","",1,"mat-checkbox-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleRadius","matRippleCentered","matRippleAnimation"],[1,"mat-ripple-element","mat-checkbox-persistent-ripple"],[1,"mat-checkbox-frame"],[1,"mat-checkbox-background"],["version","1.1","focusable","false","viewBox","0 0 24 24",0,"xml","space","preserve","aria-hidden","true",1,"mat-checkbox-checkmark"],["fill","none","stroke","white","d","M4.1,12.7 9,17.6 20.3,6.3",1,"mat-checkbox-checkmark-path"],[1,"mat-checkbox-mixedmark"],[1,"mat-checkbox-label",3,"cdkObserveContent"],["checkboxLabel",""],[2,"display","none"]],template:function(r,d){if(1&r&&(ir(),Ce(0,"label",0,1),Ce(2,"span",2),Ce(3,"input",3,4),Ct("change",function(C){return d._onInteractionEvent(C)})("click",function(C){return d._onInputClick(C)}),be(),Ce(5,"span",5),Wt(6,"span",6),be(),Wt(7,"span",7),Ce(8,"span",8),Eu(),Ce(9,"svg",9),Wt(10,"path",10),be(),qm(),Wt(11,"span",11),be(),be(),Ce(12,"span",12,13),Ct("cdkObserveContent",function(){return d._onLabelTextChange()}),Ce(14,"span",14),bn(15,"\xa0"),be(),vt(16),be(),be()),2&r){const v=Tr(1),C=Tr(13);zt("for",d.inputId),Be(2),G("mat-checkbox-inner-container-no-side-margin",!C.textContent||!C.textContent.trim()),Be(1),ze("id",d.inputId)("required",d.required)("checked",d.checked)("disabled",d.disabled)("tabIndex",d.tabIndex),zt("value",d.value)("name",d.name)("aria-label",d.ariaLabel||null)("aria-labelledby",d.ariaLabelledby)("aria-checked",d._getAriaChecked())("aria-describedby",d.ariaDescribedby),Be(2),ze("matRippleTrigger",v)("matRippleDisabled",d._isRippleDisabled())("matRippleRadius",20)("matRippleCentered",!0)("matRippleAnimation",Eh(19,vU,"NoopAnimations"===d._animationMode?0:150))}},directives:[vw,eI],styles:["@keyframes mat-checkbox-fade-in-background{0%{opacity:0}50%{opacity:1}}@keyframes mat-checkbox-fade-out-background{0%,50%{opacity:1}100%{opacity:0}}@keyframes mat-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:22.910259}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1)}100%{stroke-dashoffset:0}}@keyframes mat-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mat-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);stroke-dashoffset:0}to{stroke-dashoffset:-22.910259}}@keyframes mat-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(45deg)}}@keyframes mat-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:0;transform:rotate(45deg)}to{opacity:1;transform:rotate(360deg)}}@keyframes mat-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:0;transform:rotate(-45deg)}to{opacity:1;transform:rotate(0deg)}}@keyframes mat-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(315deg)}}@keyframes mat-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;opacity:1;transform:scaleX(1)}32.8%,100%{opacity:0;transform:scaleX(0)}}.mat-checkbox-background,.mat-checkbox-frame{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:2px;box-sizing:border-box;pointer-events:none}.mat-checkbox{display:inline-block;transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);cursor:pointer;-webkit-tap-highlight-color:transparent}._mat-animation-noopable.mat-checkbox{transition:none;animation:none}.mat-checkbox .mat-ripple-element:not(.mat-checkbox-persistent-ripple){opacity:.16}.mat-checkbox .mat-checkbox-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.cdk-high-contrast-active .mat-checkbox.cdk-keyboard-focused .mat-checkbox-ripple{outline:solid 3px}.mat-checkbox-layout{-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:inherit;align-items:baseline;vertical-align:middle;display:inline-flex;white-space:nowrap}.mat-checkbox-label{-webkit-user-select:auto;-moz-user-select:auto;user-select:auto}.mat-checkbox-inner-container{display:inline-block;height:16px;line-height:0;margin:auto;margin-right:8px;order:0;position:relative;vertical-align:middle;white-space:nowrap;width:16px;flex-shrink:0}[dir=rtl] .mat-checkbox-inner-container{margin-left:8px;margin-right:auto}.mat-checkbox-inner-container-no-side-margin{margin-left:0;margin-right:0}.mat-checkbox-frame{background-color:transparent;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1);border-width:2px;border-style:solid}._mat-animation-noopable .mat-checkbox-frame{transition:none}.mat-checkbox-background{align-items:center;display:inline-flex;justify-content:center;transition:background-color 90ms cubic-bezier(0, 0, 0.2, 0.1),opacity 90ms cubic-bezier(0, 0, 0.2, 0.1);-webkit-print-color-adjust:exact;color-adjust:exact}._mat-animation-noopable .mat-checkbox-background{transition:none}.cdk-high-contrast-active .mat-checkbox .mat-checkbox-background{background:none}.mat-checkbox-persistent-ripple{display:block;width:100%;height:100%;transform:none}.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:.04}.mat-checkbox.cdk-keyboard-focused .mat-checkbox-persistent-ripple{opacity:.12}.mat-checkbox-persistent-ripple,.mat-checkbox.mat-checkbox-disabled .mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:0}@media(hover: none){.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{display:none}}.mat-checkbox-checkmark{top:0;left:0;right:0;bottom:0;position:absolute;width:100%}.mat-checkbox-checkmark-path{stroke-dashoffset:22.910259;stroke-dasharray:22.910259;stroke-width:2.1333333333px}.cdk-high-contrast-black-on-white .mat-checkbox-checkmark-path{stroke:#000 !important}.mat-checkbox-mixedmark{width:calc(100% - 6px);height:2px;opacity:0;transform:scaleX(0) rotate(0deg);border-radius:2px}.cdk-high-contrast-active .mat-checkbox-mixedmark{height:0;border-top:solid 2px;margin-top:2px}.mat-checkbox-label-before .mat-checkbox-inner-container{order:1;margin-left:8px;margin-right:auto}[dir=rtl] .mat-checkbox-label-before .mat-checkbox-inner-container{margin-left:auto;margin-right:8px}.mat-checkbox-checked .mat-checkbox-checkmark{opacity:1}.mat-checkbox-checked .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-checked .mat-checkbox-mixedmark{transform:scaleX(1) rotate(-45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark{opacity:0;transform:rotate(45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-indeterminate .mat-checkbox-mixedmark{opacity:1;transform:scaleX(1) rotate(0deg)}.mat-checkbox-unchecked .mat-checkbox-background{background-color:transparent}.mat-checkbox-disabled{cursor:default}.cdk-high-contrast-active .mat-checkbox-disabled{opacity:.5}.mat-checkbox-anim-unchecked-checked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-checked .mat-checkbox-checkmark-path{animation:180ms linear 0ms mat-checkbox-unchecked-checked-checkmark-path}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-unchecked-indeterminate-mixedmark}.mat-checkbox-anim-checked-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-checked-unchecked .mat-checkbox-checkmark-path{animation:90ms linear 0ms mat-checkbox-checked-unchecked-checkmark-path}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-checkmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-checkmark}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-mixedmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-checkmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-checkmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-mixedmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-mixedmark}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-mixedmark{animation:300ms linear 0ms mat-checkbox-indeterminate-unchecked-mixedmark}.mat-checkbox-input{bottom:0;left:50%}\n"],encapsulation:2,changeDetection:0}),l})(),Jk=(()=>{class l{}return l.\u0275fac=function(r){return new(r||l)},l.\u0275mod=Tt({type:l}),l.\u0275inj=_t({}),l})(),OU=(()=>{class l{}return l.\u0275fac=function(r){return new(r||l)},l.\u0275mod=Tt({type:l}),l.\u0275inj=_t({imports:[[uA,Dr,jx,Jk],Dr,Jk]}),l})();const xU=["content"],AU=["scroll"],TU=["padding"],lD=function(l){return{searchTerm:l}};function RU(l,a){if(1&l&&(Ce(0,"div",6),ch(1,7),be()),2&l){const r=ct();Be(1),ze("ngTemplateOutlet",r.headerTemplate)("ngTemplateOutletContext",Eh(2,lD,r.filterValue))}}function PU(l,a){if(1&l&&(Ce(0,"div",8),ch(1,7),be()),2&l){const r=ct();Be(1),ze("ngTemplateOutlet",r.footerTemplate)("ngTemplateOutletContext",Eh(2,lD,r.filterValue))}}const e1=["*"],MU=["searchInput"];function FU(l,a){if(1&l){const r=Vr();Ce(0,"span",15),Ct("click",function(){In(r);const v=ct().$implicit;return ct(2).unselect(v)}),bn(1,"\xd7"),be(),Wt(2,"span",16)}if(2&l){const r=ct().$implicit,d=ct(2);Be(2),ze("ngItemLabel",r.label)("escape",d.escapeHTML)}}function IU(l,a){}const NU=function(l,a,r){return{item:l,clear:a,label:r}};function LU(l,a){if(1&l&&(Ce(0,"div",12),ut(1,FU,3,2,"ng-template",null,13,lc),ut(3,IU,0,0,"ng-template",14),be()),2&l){const r=a.$implicit,d=Tr(2),v=ct(2);G("ng-value-disabled",r.disabled),Be(3),ze("ngTemplateOutlet",v.labelTemplate||d)("ngTemplateOutletContext",Nd(4,NU,r.value,v.clearItem,r.label))}}function kU(l,a){if(1&l&&(ys(0),ut(1,LU,4,8,"div",11),Ga()),2&l){const r=ct();Be(1),ze("ngForOf",r.selectedItems)("ngForTrackBy",r.trackByOption)}}function GU(l,a){}const VU=function(l,a){return{items:l,clear:a}};function BU(l,a){if(1&l&&ut(0,GU,0,0,"ng-template",14),2&l){const r=ct();ze("ngTemplateOutlet",r.multiLabelTemplate)("ngTemplateOutletContext",EO(2,VU,r.selectedValues,r.clearItem))}}function HU(l,a){1&l&&Wt(0,"div",19)}function WU(l,a){}function jU(l,a){if(1&l&&(ys(0),ut(1,HU,1,0,"ng-template",null,17,lc),ut(3,WU,0,0,"ng-template",18),Ga()),2&l){const r=Tr(2),d=ct();Be(3),ze("ngTemplateOutlet",d.loadingSpinnerTemplate||r)}}function UU(l,a){1&l&&(Ce(0,"span",20),Ce(1,"span",21),bn(2,"\xd7"),be(),be()),2&l&&ec("title",ct().clearAllText)}function zU(l,a){if(1&l&&Wt(0,"span",27),2&l){const r=ct().$implicit,d=ct(2);ze("ngItemLabel",r.label)("escape",d.escapeHTML)}}function $U(l,a){}const KU=function(l,a,r,d){return{item:l,item$:a,index:r,searchTerm:d}};function YU(l,a){if(1&l){const r=Vr();Ce(0,"div",25),Ct("click",function(){const C=In(r).$implicit;return ct(2).toggleItem(C)})("mouseover",function(){const C=In(r).$implicit;return ct(2).onItemHover(C)}),ut(1,zU,1,2,"ng-template",null,26,lc),ut(3,$U,0,0,"ng-template",14),be()}if(2&l){const r=a.$implicit,d=Tr(2),v=ct(2);G("ng-option-disabled",r.disabled)("ng-option-selected",r.selected)("ng-optgroup",r.children)("ng-option",!r.children)("ng-option-child",!!r.parent)("ng-option-marked",r===v.itemsList.markedItem),zt("role",r.children?"group":"option")("aria-selected",r.selected)("id",null==r?null:r.htmlId),Be(3),ze("ngTemplateOutlet",r.children?v.optgroupTemplate||d:v.optionTemplate||d)("ngTemplateOutletContext",DO(17,KU,r.value,r,r.index,v.searchTerm))}}function qU(l,a){if(1&l&&(Ce(0,"span"),Ce(1,"span",30),bn(2),be(),bn(3),be()),2&l){const r=ct(3);Be(2),Ba(r.addTagText),Be(1),Rd('"',r.searchTerm,'"')}}function XU(l,a){}function QU(l,a){if(1&l){const r=Vr();Ce(0,"div",28),Ct("mouseover",function(){return In(r),ct(2).itemsList.unmarkItem()})("click",function(){return In(r),ct(2).selectTag()}),ut(1,qU,4,2,"ng-template",null,29,lc),ut(3,XU,0,0,"ng-template",14),be()}if(2&l){const r=Tr(2),d=ct(2);G("ng-option-marked",!d.itemsList.markedItem),Be(3),ze("ngTemplateOutlet",d.tagTemplate||r)("ngTemplateOutletContext",Eh(4,lD,d.searchTerm))}}function ZU(l,a){if(1&l&&(Ce(0,"div",32),bn(1),be()),2&l){const r=ct(3);Be(1),Ba(r.notFoundText)}}function JU(l,a){}function ez(l,a){if(1&l&&(ys(0),ut(1,ZU,2,1,"ng-template",null,31,lc),ut(3,JU,0,0,"ng-template",14),Ga()),2&l){const r=Tr(2),d=ct(2);Be(3),ze("ngTemplateOutlet",d.notFoundTemplate||r)("ngTemplateOutletContext",Eh(2,lD,d.searchTerm))}}function tz(l,a){if(1&l&&(Ce(0,"div",32),bn(1),be()),2&l){const r=ct(3);Be(1),Ba(r.typeToSearchText)}}function nz(l,a){}function rz(l,a){if(1&l&&(ys(0),ut(1,tz,2,1,"ng-template",null,33,lc),ut(3,nz,0,0,"ng-template",18),Ga()),2&l){const r=Tr(2),d=ct(2);Be(3),ze("ngTemplateOutlet",d.typeToSearchTemplate||r)}}function iz(l,a){if(1&l&&(Ce(0,"div",32),bn(1),be()),2&l){const r=ct(3);Be(1),Ba(r.loadingText)}}function oz(l,a){}function az(l,a){if(1&l&&(ys(0),ut(1,iz,2,1,"ng-template",null,34,lc),ut(3,oz,0,0,"ng-template",14),Ga()),2&l){const r=Tr(2),d=ct(2);Be(3),ze("ngTemplateOutlet",d.loadingTextTemplate||r)("ngTemplateOutletContext",Eh(2,lD,d.searchTerm))}}function sz(l,a){if(1&l){const r=Vr();Ce(0,"ng-dropdown-panel",22),Ct("update",function(v){return In(r),ct().viewPortItems=v})("scroll",function(v){return In(r),ct().scroll.emit(v)})("scrollToEnd",function(v){return In(r),ct().scrollToEnd.emit(v)})("outsideClick",function(){return In(r),ct().close()}),ys(1),ut(2,YU,4,22,"div",23),ut(3,QU,4,6,"div",24),Ga(),ut(4,ez,4,4,"ng-container",3),ut(5,rz,4,1,"ng-container",3),ut(6,az,4,4,"ng-container",3),be()}if(2&l){const r=ct();G("ng-select-multiple",r.multiple),ze("virtualScroll",r.virtualScroll)("bufferAmount",r.bufferAmount)("appendTo",r.appendTo)("position",r.dropdownPosition)("headerTemplate",r.headerTemplate)("footerTemplate",r.footerTemplate)("filterValue",r.searchTerm)("items",r.itemsList.filteredItems)("markedItem",r.itemsList.markedItem)("ngClass",r.appendTo?r.classes:null)("id",r.dropdownId),Be(2),ze("ngForOf",r.viewPortItems)("ngForTrackBy",r.trackByOption),Be(1),ze("ngIf",r.showAddTag),Be(1),ze("ngIf",r.showNoItemsFound()),Be(1),ze("ngIf",r.showTypeToSearch()),Be(1),ze("ngIf",r.loading&&0===r.itemsList.filteredItems.length)}}const t1=/[&<>"']/g,lz=RegExp(t1.source),uz={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function _i(l){return null!=l}function uD(l){return"object"==typeof l&&_i(l)}function VA(l){return l instanceof Function}let pz=(()=>{class l{constructor(r){this.element=r,this.escape=!0}ngOnChanges(r){this.element.nativeElement.innerHTML=this.escape?function(l){return l&&lz.test(l)?l.replace(t1,a=>uz[a]):l}(this.ngItemLabel):this.ngItemLabel}}return l.\u0275fac=function(r){return new(r||l)(ne(Lt))},l.\u0275dir=Ke({type:l,selectors:[["","ngItemLabel",""]],inputs:{ngItemLabel:"ngItemLabel",escape:"escape"},features:[$n]}),l})(),n1=(()=>{class l{constructor(r){this.template=r}}return l.\u0275fac=function(r){return new(r||l)(ne(vn))},l.\u0275dir=Ke({type:l,selectors:[["","ng-option-tmp",""]]}),l})(),hz=(()=>{class l{constructor(r){this.template=r}}return l.\u0275fac=function(r){return new(r||l)(ne(vn))},l.\u0275dir=Ke({type:l,selectors:[["","ng-optgroup-tmp",""]]}),l})(),fz=(()=>{class l{constructor(r){this.template=r}}return l.\u0275fac=function(r){return new(r||l)(ne(vn))},l.\u0275dir=Ke({type:l,selectors:[["","ng-label-tmp",""]]}),l})(),gz=(()=>{class l{constructor(r){this.template=r}}return l.\u0275fac=function(r){return new(r||l)(ne(vn))},l.\u0275dir=Ke({type:l,selectors:[["","ng-multi-label-tmp",""]]}),l})(),mz=(()=>{class l{constructor(r){this.template=r}}return l.\u0275fac=function(r){return new(r||l)(ne(vn))},l.\u0275dir=Ke({type:l,selectors:[["","ng-header-tmp",""]]}),l})(),vz=(()=>{class l{constructor(r){this.template=r}}return l.\u0275fac=function(r){return new(r||l)(ne(vn))},l.\u0275dir=Ke({type:l,selectors:[["","ng-footer-tmp",""]]}),l})(),yz=(()=>{class l{constructor(r){this.template=r}}return l.\u0275fac=function(r){return new(r||l)(ne(vn))},l.\u0275dir=Ke({type:l,selectors:[["","ng-notfound-tmp",""]]}),l})(),_z=(()=>{class l{constructor(r){this.template=r}}return l.\u0275fac=function(r){return new(r||l)(ne(vn))},l.\u0275dir=Ke({type:l,selectors:[["","ng-typetosearch-tmp",""]]}),l})(),Cz=(()=>{class l{constructor(r){this.template=r}}return l.\u0275fac=function(r){return new(r||l)(ne(vn))},l.\u0275dir=Ke({type:l,selectors:[["","ng-loadingtext-tmp",""]]}),l})(),bz=(()=>{class l{constructor(r){this.template=r}}return l.\u0275fac=function(r){return new(r||l)(ne(vn))},l.\u0275dir=Ke({type:l,selectors:[["","ng-tag-tmp",""]]}),l})(),wz=(()=>{class l{constructor(r){this.template=r}}return l.\u0275fac=function(r){return new(r||l)(ne(vn))},l.\u0275dir=Ke({type:l,selectors:[["","ng-loadingspinner-tmp",""]]}),l})();function r1(){return"axxxxxxxxxxx".replace(/[x]/g,()=>(16*Math.random()|0).toString(16))}const Sz={"\u24b6":"A",\uff21:"A",\u00c0:"A",\u00c1:"A",\u00c2:"A",\u1ea6:"A",\u1ea4:"A",\u1eaa:"A",\u1ea8:"A",\u00c3:"A",\u0100:"A",\u0102:"A",\u1eb0:"A",\u1eae:"A",\u1eb4:"A",\u1eb2:"A",\u0226:"A",\u01e0:"A",\u00c4:"A",\u01de:"A",\u1ea2:"A",\u00c5:"A",\u01fa:"A",\u01cd:"A",\u0200:"A",\u0202:"A",\u1ea0:"A",\u1eac:"A",\u1eb6:"A",\u1e00:"A",\u0104:"A",\u023a:"A",\u2c6f:"A",\ua732:"AA",\u00c6:"AE",\u01fc:"AE",\u01e2:"AE",\ua734:"AO",\ua736:"AU",\ua738:"AV",\ua73a:"AV",\ua73c:"AY","\u24b7":"B",\uff22:"B",\u1e02:"B",\u1e04:"B",\u1e06:"B",\u0243:"B",\u0182:"B",\u0181:"B","\u24b8":"C",\uff23:"C",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u00c7:"C",\u1e08:"C",\u0187:"C",\u023b:"C",\ua73e:"C","\u24b9":"D",\uff24:"D",\u1e0a:"D",\u010e:"D",\u1e0c:"D",\u1e10:"D",\u1e12:"D",\u1e0e:"D",\u0110:"D",\u018b:"D",\u018a:"D",\u0189:"D",\ua779:"D",\u01f1:"DZ",\u01c4:"DZ",\u01f2:"Dz",\u01c5:"Dz","\u24ba":"E",\uff25:"E",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u1ec0:"E",\u1ebe:"E",\u1ec4:"E",\u1ec2:"E",\u1ebc:"E",\u0112:"E",\u1e14:"E",\u1e16:"E",\u0114:"E",\u0116:"E",\u00cb:"E",\u1eba:"E",\u011a:"E",\u0204:"E",\u0206:"E",\u1eb8:"E",\u1ec6:"E",\u0228:"E",\u1e1c:"E",\u0118:"E",\u1e18:"E",\u1e1a:"E",\u0190:"E",\u018e:"E","\u24bb":"F",\uff26:"F",\u1e1e:"F",\u0191:"F",\ua77b:"F","\u24bc":"G",\uff27:"G",\u01f4:"G",\u011c:"G",\u1e20:"G",\u011e:"G",\u0120:"G",\u01e6:"G",\u0122:"G",\u01e4:"G",\u0193:"G",\ua7a0:"G",\ua77d:"G",\ua77e:"G","\u24bd":"H",\uff28:"H",\u0124:"H",\u1e22:"H",\u1e26:"H",\u021e:"H",\u1e24:"H",\u1e28:"H",\u1e2a:"H",\u0126:"H",\u2c67:"H",\u2c75:"H",\ua78d:"H","\u24be":"I",\uff29:"I",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u0128:"I",\u012a:"I",\u012c:"I",\u0130:"I",\u00cf:"I",\u1e2e:"I",\u1ec8:"I",\u01cf:"I",\u0208:"I",\u020a:"I",\u1eca:"I",\u012e:"I",\u1e2c:"I",\u0197:"I","\u24bf":"J",\uff2a:"J",\u0134:"J",\u0248:"J","\u24c0":"K",\uff2b:"K",\u1e30:"K",\u01e8:"K",\u1e32:"K",\u0136:"K",\u1e34:"K",\u0198:"K",\u2c69:"K",\ua740:"K",\ua742:"K",\ua744:"K",\ua7a2:"K","\u24c1":"L",\uff2c:"L",\u013f:"L",\u0139:"L",\u013d:"L",\u1e36:"L",\u1e38:"L",\u013b:"L",\u1e3c:"L",\u1e3a:"L",\u0141:"L",\u023d:"L",\u2c62:"L",\u2c60:"L",\ua748:"L",\ua746:"L",\ua780:"L",\u01c7:"LJ",\u01c8:"Lj","\u24c2":"M",\uff2d:"M",\u1e3e:"M",\u1e40:"M",\u1e42:"M",\u2c6e:"M",\u019c:"M","\u24c3":"N",\uff2e:"N",\u01f8:"N",\u0143:"N",\u00d1:"N",\u1e44:"N",\u0147:"N",\u1e46:"N",\u0145:"N",\u1e4a:"N",\u1e48:"N",\u0220:"N",\u019d:"N",\ua790:"N",\ua7a4:"N",\u01ca:"NJ",\u01cb:"Nj","\u24c4":"O",\uff2f:"O",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u1ed2:"O",\u1ed0:"O",\u1ed6:"O",\u1ed4:"O",\u00d5:"O",\u1e4c:"O",\u022c:"O",\u1e4e:"O",\u014c:"O",\u1e50:"O",\u1e52:"O",\u014e:"O",\u022e:"O",\u0230:"O",\u00d6:"O",\u022a:"O",\u1ece:"O",\u0150:"O",\u01d1:"O",\u020c:"O",\u020e:"O",\u01a0:"O",\u1edc:"O",\u1eda:"O",\u1ee0:"O",\u1ede:"O",\u1ee2:"O",\u1ecc:"O",\u1ed8:"O",\u01ea:"O",\u01ec:"O",\u00d8:"O",\u01fe:"O",\u0186:"O",\u019f:"O",\ua74a:"O",\ua74c:"O",\u01a2:"OI",\ua74e:"OO",\u0222:"OU","\u24c5":"P",\uff30:"P",\u1e54:"P",\u1e56:"P",\u01a4:"P",\u2c63:"P",\ua750:"P",\ua752:"P",\ua754:"P","\u24c6":"Q",\uff31:"Q",\ua756:"Q",\ua758:"Q",\u024a:"Q","\u24c7":"R",\uff32:"R",\u0154:"R",\u1e58:"R",\u0158:"R",\u0210:"R",\u0212:"R",\u1e5a:"R",\u1e5c:"R",\u0156:"R",\u1e5e:"R",\u024c:"R",\u2c64:"R",\ua75a:"R",\ua7a6:"R",\ua782:"R","\u24c8":"S",\uff33:"S",\u1e9e:"S",\u015a:"S",\u1e64:"S",\u015c:"S",\u1e60:"S",\u0160:"S",\u1e66:"S",\u1e62:"S",\u1e68:"S",\u0218:"S",\u015e:"S",\u2c7e:"S",\ua7a8:"S",\ua784:"S","\u24c9":"T",\uff34:"T",\u1e6a:"T",\u0164:"T",\u1e6c:"T",\u021a:"T",\u0162:"T",\u1e70:"T",\u1e6e:"T",\u0166:"T",\u01ac:"T",\u01ae:"T",\u023e:"T",\ua786:"T",\ua728:"TZ","\u24ca":"U",\uff35:"U",\u00d9:"U",\u00da:"U",\u00db:"U",\u0168:"U",\u1e78:"U",\u016a:"U",\u1e7a:"U",\u016c:"U",\u00dc:"U",\u01db:"U",\u01d7:"U",\u01d5:"U",\u01d9:"U",\u1ee6:"U",\u016e:"U",\u0170:"U",\u01d3:"U",\u0214:"U",\u0216:"U",\u01af:"U",\u1eea:"U",\u1ee8:"U",\u1eee:"U",\u1eec:"U",\u1ef0:"U",\u1ee4:"U",\u1e72:"U",\u0172:"U",\u1e76:"U",\u1e74:"U",\u0244:"U","\u24cb":"V",\uff36:"V",\u1e7c:"V",\u1e7e:"V",\u01b2:"V",\ua75e:"V",\u0245:"V",\ua760:"VY","\u24cc":"W",\uff37:"W",\u1e80:"W",\u1e82:"W",\u0174:"W",\u1e86:"W",\u1e84:"W",\u1e88:"W",\u2c72:"W","\u24cd":"X",\uff38:"X",\u1e8a:"X",\u1e8c:"X","\u24ce":"Y",\uff39:"Y",\u1ef2:"Y",\u00dd:"Y",\u0176:"Y",\u1ef8:"Y",\u0232:"Y",\u1e8e:"Y",\u0178:"Y",\u1ef6:"Y",\u1ef4:"Y",\u01b3:"Y",\u024e:"Y",\u1efe:"Y","\u24cf":"Z",\uff3a:"Z",\u0179:"Z",\u1e90:"Z",\u017b:"Z",\u017d:"Z",\u1e92:"Z",\u1e94:"Z",\u01b5:"Z",\u0224:"Z",\u2c7f:"Z",\u2c6b:"Z",\ua762:"Z","\u24d0":"a",\uff41:"a",\u1e9a:"a",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u1ea7:"a",\u1ea5:"a",\u1eab:"a",\u1ea9:"a",\u00e3:"a",\u0101:"a",\u0103:"a",\u1eb1:"a",\u1eaf:"a",\u1eb5:"a",\u1eb3:"a",\u0227:"a",\u01e1:"a",\u00e4:"a",\u01df:"a",\u1ea3:"a",\u00e5:"a",\u01fb:"a",\u01ce:"a",\u0201:"a",\u0203:"a",\u1ea1:"a",\u1ead:"a",\u1eb7:"a",\u1e01:"a",\u0105:"a",\u2c65:"a",\u0250:"a",\ua733:"aa",\u00e6:"ae",\u01fd:"ae",\u01e3:"ae",\ua735:"ao",\ua737:"au",\ua739:"av",\ua73b:"av",\ua73d:"ay","\u24d1":"b",\uff42:"b",\u1e03:"b",\u1e05:"b",\u1e07:"b",\u0180:"b",\u0183:"b",\u0253:"b","\u24d2":"c",\uff43:"c",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u00e7:"c",\u1e09:"c",\u0188:"c",\u023c:"c",\ua73f:"c",\u2184:"c","\u24d3":"d",\uff44:"d",\u1e0b:"d",\u010f:"d",\u1e0d:"d",\u1e11:"d",\u1e13:"d",\u1e0f:"d",\u0111:"d",\u018c:"d",\u0256:"d",\u0257:"d",\ua77a:"d",\u01f3:"dz",\u01c6:"dz","\u24d4":"e",\uff45:"e",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u1ec1:"e",\u1ebf:"e",\u1ec5:"e",\u1ec3:"e",\u1ebd:"e",\u0113:"e",\u1e15:"e",\u1e17:"e",\u0115:"e",\u0117:"e",\u00eb:"e",\u1ebb:"e",\u011b:"e",\u0205:"e",\u0207:"e",\u1eb9:"e",\u1ec7:"e",\u0229:"e",\u1e1d:"e",\u0119:"e",\u1e19:"e",\u1e1b:"e",\u0247:"e",\u025b:"e",\u01dd:"e","\u24d5":"f",\uff46:"f",\u1e1f:"f",\u0192:"f",\ua77c:"f","\u24d6":"g",\uff47:"g",\u01f5:"g",\u011d:"g",\u1e21:"g",\u011f:"g",\u0121:"g",\u01e7:"g",\u0123:"g",\u01e5:"g",\u0260:"g",\ua7a1:"g",\u1d79:"g",\ua77f:"g","\u24d7":"h",\uff48:"h",\u0125:"h",\u1e23:"h",\u1e27:"h",\u021f:"h",\u1e25:"h",\u1e29:"h",\u1e2b:"h",\u1e96:"h",\u0127:"h",\u2c68:"h",\u2c76:"h",\u0265:"h",\u0195:"hv","\u24d8":"i",\uff49:"i",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u0129:"i",\u012b:"i",\u012d:"i",\u00ef:"i",\u1e2f:"i",\u1ec9:"i",\u01d0:"i",\u0209:"i",\u020b:"i",\u1ecb:"i",\u012f:"i",\u1e2d:"i",\u0268:"i",\u0131:"i","\u24d9":"j",\uff4a:"j",\u0135:"j",\u01f0:"j",\u0249:"j","\u24da":"k",\uff4b:"k",\u1e31:"k",\u01e9:"k",\u1e33:"k",\u0137:"k",\u1e35:"k",\u0199:"k",\u2c6a:"k",\ua741:"k",\ua743:"k",\ua745:"k",\ua7a3:"k","\u24db":"l",\uff4c:"l",\u0140:"l",\u013a:"l",\u013e:"l",\u1e37:"l",\u1e39:"l",\u013c:"l",\u1e3d:"l",\u1e3b:"l",\u017f:"l",\u0142:"l",\u019a:"l",\u026b:"l",\u2c61:"l",\ua749:"l",\ua781:"l",\ua747:"l",\u01c9:"lj","\u24dc":"m",\uff4d:"m",\u1e3f:"m",\u1e41:"m",\u1e43:"m",\u0271:"m",\u026f:"m","\u24dd":"n",\uff4e:"n",\u01f9:"n",\u0144:"n",\u00f1:"n",\u1e45:"n",\u0148:"n",\u1e47:"n",\u0146:"n",\u1e4b:"n",\u1e49:"n",\u019e:"n",\u0272:"n",\u0149:"n",\ua791:"n",\ua7a5:"n",\u01cc:"nj","\u24de":"o",\uff4f:"o",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u1ed3:"o",\u1ed1:"o",\u1ed7:"o",\u1ed5:"o",\u00f5:"o",\u1e4d:"o",\u022d:"o",\u1e4f:"o",\u014d:"o",\u1e51:"o",\u1e53:"o",\u014f:"o",\u022f:"o",\u0231:"o",\u00f6:"o",\u022b:"o",\u1ecf:"o",\u0151:"o",\u01d2:"o",\u020d:"o",\u020f:"o",\u01a1:"o",\u1edd:"o",\u1edb:"o",\u1ee1:"o",\u1edf:"o",\u1ee3:"o",\u1ecd:"o",\u1ed9:"o",\u01eb:"o",\u01ed:"o",\u00f8:"o",\u01ff:"o",\u0254:"o",\ua74b:"o",\ua74d:"o",\u0275:"o",\u01a3:"oi",\u0223:"ou",\ua74f:"oo","\u24df":"p",\uff50:"p",\u1e55:"p",\u1e57:"p",\u01a5:"p",\u1d7d:"p",\ua751:"p",\ua753:"p",\ua755:"p","\u24e0":"q",\uff51:"q",\u024b:"q",\ua757:"q",\ua759:"q","\u24e1":"r",\uff52:"r",\u0155:"r",\u1e59:"r",\u0159:"r",\u0211:"r",\u0213:"r",\u1e5b:"r",\u1e5d:"r",\u0157:"r",\u1e5f:"r",\u024d:"r",\u027d:"r",\ua75b:"r",\ua7a7:"r",\ua783:"r","\u24e2":"s",\uff53:"s",\u00df:"s",\u015b:"s",\u1e65:"s",\u015d:"s",\u1e61:"s",\u0161:"s",\u1e67:"s",\u1e63:"s",\u1e69:"s",\u0219:"s",\u015f:"s",\u023f:"s",\ua7a9:"s",\ua785:"s",\u1e9b:"s","\u24e3":"t",\uff54:"t",\u1e6b:"t",\u1e97:"t",\u0165:"t",\u1e6d:"t",\u021b:"t",\u0163:"t",\u1e71:"t",\u1e6f:"t",\u0167:"t",\u01ad:"t",\u0288:"t",\u2c66:"t",\ua787:"t",\ua729:"tz","\u24e4":"u",\uff55:"u",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u0169:"u",\u1e79:"u",\u016b:"u",\u1e7b:"u",\u016d:"u",\u00fc:"u",\u01dc:"u",\u01d8:"u",\u01d6:"u",\u01da:"u",\u1ee7:"u",\u016f:"u",\u0171:"u",\u01d4:"u",\u0215:"u",\u0217:"u",\u01b0:"u",\u1eeb:"u",\u1ee9:"u",\u1eef:"u",\u1eed:"u",\u1ef1:"u",\u1ee5:"u",\u1e73:"u",\u0173:"u",\u1e77:"u",\u1e75:"u",\u0289:"u","\u24e5":"v",\uff56:"v",\u1e7d:"v",\u1e7f:"v",\u028b:"v",\ua75f:"v",\u028c:"v",\ua761:"vy","\u24e6":"w",\uff57:"w",\u1e81:"w",\u1e83:"w",\u0175:"w",\u1e87:"w",\u1e85:"w",\u1e98:"w",\u1e89:"w",\u2c73:"w","\u24e7":"x",\uff58:"x",\u1e8b:"x",\u1e8d:"x","\u24e8":"y",\uff59:"y",\u1ef3:"y",\u00fd:"y",\u0177:"y",\u1ef9:"y",\u0233:"y",\u1e8f:"y",\u00ff:"y",\u1ef7:"y",\u1e99:"y",\u1ef5:"y",\u01b4:"y",\u024f:"y",\u1eff:"y","\u24e9":"z",\uff5a:"z",\u017a:"z",\u1e91:"z",\u017c:"z",\u017e:"z",\u1e93:"z",\u1e95:"z",\u01b6:"z",\u0225:"z",\u0240:"z",\u2c6c:"z",\ua763:"z",\u0386:"\u0391",\u0388:"\u0395",\u0389:"\u0397",\u038a:"\u0399",\u03aa:"\u0399",\u038c:"\u039f",\u038e:"\u03a5",\u03ab:"\u03a5",\u038f:"\u03a9",\u03ac:"\u03b1",\u03ad:"\u03b5",\u03ae:"\u03b7",\u03af:"\u03b9",\u03ca:"\u03b9",\u0390:"\u03b9",\u03cc:"\u03bf",\u03cd:"\u03c5",\u03cb:"\u03c5",\u03b0:"\u03c5",\u03c9:"\u03c9",\u03c2:"\u03c3"};function BA(l){return l.replace(/[^\u0000-\u007E]/g,r=>Sz[r]||r)}class Ez{constructor(a,r){this._ngSelect=a,this._selectionModel=r,this._items=[],this._filteredItems=[],this._markedIndex=-1}get items(){return this._items}get filteredItems(){return this._filteredItems}get markedIndex(){return this._markedIndex}get selectedItems(){return this._selectionModel.value}get markedItem(){return this._filteredItems[this._markedIndex]}get noItemsToSelect(){return this._ngSelect.hideSelected&&this._items.length===this.selectedItems.length}get maxItemsSelected(){return this._ngSelect.multiple&&this._ngSelect.maxSelectedItems<=this.selectedItems.length}get lastSelectedItem(){let a=this.selectedItems.length-1;for(;a>=0;a--){const r=this.selectedItems[a];if(!r.disabled)return r}return null}setItems(a){this._items=a.map((r,d)=>this.mapItem(r,d)),this._ngSelect.groupBy?(this._groups=this._groupBy(this._items,this._ngSelect.groupBy),this._items=this._flatten(this._groups)):(this._groups=new Map,this._groups.set(void 0,this._items)),this._filteredItems=[...this._items]}select(a){if(a.selected||this.maxItemsSelected)return;const r=this._ngSelect.multiple;r||this.clearSelected(),this._selectionModel.select(a,r,this._ngSelect.selectableGroupAsModel),this._ngSelect.hideSelected&&this._hideSelected(a)}unselect(a){!a.selected||(this._selectionModel.unselect(a,this._ngSelect.multiple),this._ngSelect.hideSelected&&_i(a.index)&&this._ngSelect.multiple&&this._showSelected(a))}findItem(a){let r;return r=this._ngSelect.compareWith?d=>this._ngSelect.compareWith(d.value,a):this._ngSelect.bindValue?d=>!d.children&&this.resolveNested(d.value,this._ngSelect.bindValue)===a:d=>d.value===a||!d.children&&d.label&&d.label===this.resolveNested(a,this._ngSelect.bindLabel),this._items.find(d=>r(d))}addItem(a){const r=this.mapItem(a,this._items.length);return this._items.push(r),this._filteredItems.push(r),r}clearSelected(a=!1){this._selectionModel.clear(a),this._items.forEach(r=>{r.selected=a&&r.selected&&r.disabled,r.marked=!1}),this._ngSelect.hideSelected&&this.resetFilteredItems()}findByLabel(a){return a=BA(a).toLocaleLowerCase(),this.filteredItems.find(r=>BA(r.label).toLocaleLowerCase().substr(0,a.length)===a)}filter(a){if(!a)return void this.resetFilteredItems();this._filteredItems=[],a=this._ngSelect.searchFn?a:BA(a).toLocaleLowerCase();const r=this._ngSelect.searchFn||this._defaultSearchFn,d=this._ngSelect.hideSelected;for(const v of Array.from(this._groups.keys())){const C=[];for(const S of this._groups.get(v))d&&(S.parent&&S.parent.selected||S.selected)||r(a,this._ngSelect.searchFn?S.value:S)&&C.push(S);if(C.length>0){const[S]=C.slice(-1);if(S.parent){const O=this._items.find(T=>T===S.parent);this._filteredItems.push(O)}this._filteredItems.push(...C)}}}resetFilteredItems(){this._filteredItems.length!==this._items.length&&(this._filteredItems=this._ngSelect.hideSelected&&this.selectedItems.length>0?this._items.filter(a=>!a.selected):this._items)}unmarkItem(){this._markedIndex=-1}markNextItem(){this._stepToItem(1)}markPreviousItem(){this._stepToItem(-1)}markItem(a){this._markedIndex=this._filteredItems.indexOf(a)}markSelectedOrDefault(a){if(0===this._filteredItems.length)return;const r=this._getLastMarkedIndex();this._markedIndex=r>-1?r:a?this.filteredItems.findIndex(d=>!d.disabled):-1}resolveNested(a,r){if(!uD(a))return a;if(-1===r.indexOf("."))return a[r];{const d=r.split(".");let v=a;for(let C=0,S=d.length;C<S;++C){if(null==v)return null;v=v[d[C]]}return v}}mapItem(a,r){const d=_i(a.$ngOptionLabel)?a.$ngOptionLabel:this.resolveNested(a,this._ngSelect.bindLabel),v=_i(a.$ngOptionValue)?a.$ngOptionValue:a;return{index:r,label:_i(d)?d.toString():"",value:v,disabled:a.disabled,htmlId:`${this._ngSelect.dropdownId}-${r}`}}mapSelectedItems(){const a=this._ngSelect.multiple;for(const r of this.selectedItems){const d=this._ngSelect.bindValue?this.resolveNested(r.value,this._ngSelect.bindValue):r.value,v=_i(d)?this.findItem(d):null;this._selectionModel.unselect(r,a),this._selectionModel.select(v||r,a,this._ngSelect.selectableGroupAsModel)}this._ngSelect.hideSelected&&(this._filteredItems=this.filteredItems.filter(r=>-1===this.selectedItems.indexOf(r)))}_showSelected(a){if(this._filteredItems.push(a),a.parent){const r=a.parent;this._filteredItems.find(v=>v===r)||this._filteredItems.push(r)}else if(a.children)for(const r of a.children)r.selected=!1,this._filteredItems.push(r);this._filteredItems=[...this._filteredItems.sort((r,d)=>r.index-d.index)]}_hideSelected(a){this._filteredItems=this._filteredItems.filter(r=>r!==a),a.parent?a.parent.children.every(d=>d.selected)&&(this._filteredItems=this._filteredItems.filter(d=>d!==a.parent)):a.children&&(this._filteredItems=this.filteredItems.filter(r=>r.parent!==a))}_defaultSearchFn(a,r){return BA(r.label).toLocaleLowerCase().indexOf(a)>-1}_getNextItemIndex(a){return a>0?this._markedIndex>=this._filteredItems.length-1?0:this._markedIndex+1:this._markedIndex<=0?this._filteredItems.length-1:this._markedIndex-1}_stepToItem(a){0===this._filteredItems.length||this._filteredItems.every(r=>r.disabled)||(this._markedIndex=this._getNextItemIndex(a),this.markedItem.disabled&&this._stepToItem(a))}_getLastMarkedIndex(){if(this._ngSelect.hideSelected||this._markedIndex>-1&&void 0===this.markedItem)return-1;const a=this._filteredItems.indexOf(this.lastSelectedItem);return this.lastSelectedItem&&a<0?-1:Math.max(this.markedIndex,a)}_groupBy(a,r){const d=new Map;if(0===a.length)return d;if(Array.isArray(a[0].value[r])){for(const S of a){const O=(S.value[r]||[]).map((T,F)=>this.mapItem(T,F));d.set(S,O)}return d}const v=VA(this._ngSelect.groupBy),C=S=>{const O=v?r(S.value):S.value[r];return _i(O)?O:void 0};for(const S of a){const O=C(S),T=d.get(O);T?T.push(S):d.set(O,[S])}return d}_flatten(a){const r=VA(this._ngSelect.groupBy),d=[];for(const v of Array.from(a.keys())){let C=d.length;if(void 0===v){const j=a.get(void 0)||[];d.push(...j.map(Q=>(Q.index=C++,Q)));continue}const S=uD(v),O={label:S?"":String(v),children:void 0,parent:null,index:C++,disabled:!this._ngSelect.selectableGroup,htmlId:r1()},T=r?this._ngSelect.bindLabel:this._ngSelect.groupBy,F=this._ngSelect.groupValue||(()=>S?v.value:{[T]:v}),k=a.get(v).map(j=>(j.parent=O,j.children=void 0,j.index=C++,j));O.children=k,O.value=F(v,k.map(j=>j.value)),d.push(O),d.push(...k)}return d}}var vc=(()=>{return(l=vc||(vc={}))[l.Tab=9]="Tab",l[l.Enter=13]="Enter",l[l.Esc=27]="Esc",l[l.Space=32]="Space",l[l.ArrowUp=38]="ArrowUp",l[l.ArrowDown=40]="ArrowDown",l[l.Backspace=8]="Backspace",vc;var l})();let o1=(()=>{class l{constructor(){this._dimensions={itemHeight:0,panelHeight:0,itemsPerViewport:0}}get dimensions(){return this._dimensions}calculateItems(r,d,v){const C=this._dimensions,S=C.itemHeight*d,T=Math.max(0,r)/S*d;let F=Math.min(d,Math.ceil(T)+(C.itemsPerViewport+1));const j=Math.max(0,F-C.itemsPerViewport);let Q=Math.min(j,Math.floor(T)),oe=C.itemHeight*Math.ceil(Q)-C.itemHeight*Math.min(Q,v);return oe=isNaN(oe)?0:oe,Q=isNaN(Q)?-1:Q,F=isNaN(F)?-1:F,Q-=v,Q=Math.max(0,Q),F+=v,F=Math.min(d,F),{topPadding:oe,scrollHeight:S,start:Q,end:F}}setDimensions(r,d){const v=Math.max(1,Math.floor(d/r));this._dimensions={itemHeight:r,panelHeight:d,itemsPerViewport:v}}getScrollTo(r,d,v){const{panelHeight:C}=this.dimensions,S=r+d,T=v+C;return C>=S&&v===r?null:S>T?v+S-T:r<=v?r:null}}return l.\u0275fac=function(r){return new(r||l)},l.\u0275prov=ot({token:l,factory:l.\u0275fac}),l})();const a1=["top","right","bottom","left"],Dz="undefined"!=typeof requestAnimationFrame?MN:IN;let s1=(()=>{class l{constructor(r,d,v,C,S){this._renderer=r,this._zone=d,this._panelService=v,this._document=S,this.items=[],this.position="auto",this.virtualScroll=!1,this.filterValue=null,this.update=new he,this.scroll=new he,this.scrollToEnd=new he,this.outsideClick=new he,this._destroy$=new Mt,this._scrollToEndFired=!1,this._updateScrollHeight=!1,this._lastScrollPosition=0,this._dropdown=C.nativeElement}get currentPosition(){return this._currentPosition}get itemsLength(){return this._itemsLength}set itemsLength(r){r!==this._itemsLength&&(this._itemsLength=r,this._onItemsLengthChanged())}get _startOffset(){if(this.markedItem){const{itemHeight:r,panelHeight:d}=this._panelService.dimensions,v=this.markedItem.index*r;return d>v?0:v}return 0}ngOnInit(){this._select=this._dropdown.parentElement,this._virtualPadding=this.paddingElementRef.nativeElement,this._scrollablePanel=this.scrollElementRef.nativeElement,this._contentPanel=this.contentElementRef.nativeElement,this._handleScroll(),this._handleOutsideClick(),this._appendDropdown(),this._setupMousedownListener()}ngOnChanges(r){if(r.items){const d=r.items;this._onItemsChange(d.currentValue,d.firstChange)}}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete(),this._destroy$.unsubscribe(),this.appendTo&&this._renderer.removeChild(this._dropdown.parentNode,this._dropdown)}scrollTo(r,d=!1){if(!r)return;const v=this.items.indexOf(r);if(v<0||v>=this.itemsLength)return;let C;if(this.virtualScroll){const S=this._panelService.dimensions.itemHeight;C=this._panelService.getScrollTo(v*S,S,this._lastScrollPosition)}else{const S=this._dropdown.querySelector(`#${r.htmlId}`);C=this._panelService.getScrollTo(S.offsetTop,S.clientHeight,d?S.offsetTop:this._lastScrollPosition)}_i(C)&&(this._scrollablePanel.scrollTop=C)}scrollToTag(){const r=this._scrollablePanel;r.scrollTop=r.scrollHeight-r.clientHeight}adjustPosition(){this._updateYPosition()}_handleDropdownPosition(){this._currentPosition=this._calculateCurrentPosition(this._dropdown),a1.includes(this._currentPosition)?this._updateDropdownClass(this._currentPosition):this._updateDropdownClass("bottom"),this.appendTo&&this._updateYPosition(),this._dropdown.style.opacity="1"}_updateDropdownClass(r){a1.forEach(v=>{const C=`ng-select-${v}`;this._renderer.removeClass(this._dropdown,C),this._renderer.removeClass(this._select,C)});const d=`ng-select-${r}`;this._renderer.addClass(this._dropdown,d),this._renderer.addClass(this._select,d)}_handleScroll(){this._zone.runOutsideAngular(()=>{Wd(this.scrollElementRef.nativeElement,"scroll").pipe(Er(this._destroy$),rM(0,Dz)).subscribe(r=>{const d=r.path||r.composedPath&&r.composedPath();this._onContentScrolled(d&&0!==d.length?d[0].scrollTop:r.target.scrollTop)})})}_handleOutsideClick(){!this._document||this._zone.runOutsideAngular(()=>{Ge(Wd(this._document,"touchstart",{capture:!0}),Wd(this._document,"mousedown",{capture:!0})).pipe(Er(this._destroy$)).subscribe(r=>this._checkToClose(r))})}_checkToClose(r){if(this._select.contains(r.target)||this._dropdown.contains(r.target))return;const d=r.path||r.composedPath&&r.composedPath();r.target&&r.target.shadowRoot&&d&&d[0]&&this._select.contains(d[0])||this._zone.run(()=>this.outsideClick.emit())}_onItemsChange(r,d){this.items=r||[],this._scrollToEndFired=!1,this.itemsLength=r.length,this.virtualScroll?this._updateItemsRange(d):(this._setVirtualHeight(),this._updateItems(d))}_updateItems(r){this.update.emit(this.items),!1!==r&&this._zone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._panelService.setDimensions(0,this._scrollablePanel.clientHeight),this._handleDropdownPosition(),this.scrollTo(this.markedItem,r)})})}_updateItemsRange(r){this._zone.runOutsideAngular(()=>{this._measureDimensions().then(()=>{r?(this._renderItemsRange(this._startOffset),this._handleDropdownPosition()):this._renderItemsRange()})})}_onContentScrolled(r){this.virtualScroll&&this._renderItemsRange(r),this._lastScrollPosition=r,this._fireScrollToEnd(r)}_updateVirtualHeight(r){this._updateScrollHeight&&(this._virtualPadding.style.height=`${r}px`,this._updateScrollHeight=!1)}_setVirtualHeight(){!this._virtualPadding||(this._virtualPadding.style.height="0px")}_onItemsLengthChanged(){this._updateScrollHeight=!0}_renderItemsRange(r=null){if(r&&this._lastScrollPosition===r)return;const d=this._panelService.calculateItems(r=r||this._scrollablePanel.scrollTop,this.itemsLength,this.bufferAmount);this._updateVirtualHeight(d.scrollHeight),this._contentPanel.style.transform=`translateY(${d.topPadding}px)`,this._zone.run(()=>{this.update.emit(this.items.slice(d.start,d.end)),this.scroll.emit({start:d.start,end:d.end})}),_i(r)&&0===this._lastScrollPosition&&(this._scrollablePanel.scrollTop=r,this._lastScrollPosition=r)}_measureDimensions(){if(this._panelService.dimensions.itemHeight>0||0===this.itemsLength)return Promise.resolve(this._panelService.dimensions);const[r]=this.items;return this.update.emit([r]),Promise.resolve().then(()=>{const v=this._dropdown.querySelector(`#${r.htmlId}`).clientHeight;return this._virtualPadding.style.height=v*this.itemsLength+"px",this._panelService.setDimensions(v,this._scrollablePanel.clientHeight),this._panelService.dimensions})}_fireScrollToEnd(r){this._scrollToEndFired||0===r||r+this._dropdown.clientHeight>=(this.virtualScroll?this._virtualPadding:this._contentPanel).clientHeight-1&&(this._zone.run(()=>this.scrollToEnd.emit()),this._scrollToEndFired=!0)}_calculateCurrentPosition(r){if("auto"!==this.position)return this.position;const d=this._select.getBoundingClientRect(),v=document.documentElement.scrollTop||document.body.scrollTop;return d.top+window.pageYOffset+d.height+r.getBoundingClientRect().height>v+document.documentElement.clientHeight?"top":"bottom"}_appendDropdown(){if(this.appendTo){if(this._parent=document.querySelector(this.appendTo),!this._parent)throw new Error(`appendTo selector ${this.appendTo} did not found any parent element`);this._updateXPosition(),this._parent.appendChild(this._dropdown)}}_updateXPosition(){const r=this._select.getBoundingClientRect(),d=this._parent.getBoundingClientRect();this._dropdown.style.left=r.left-d.left+"px",this._dropdown.style.width=r.width+"px",this._dropdown.style.minWidth=r.width+"px"}_updateYPosition(){const r=this._select.getBoundingClientRect(),d=this._parent.getBoundingClientRect(),v=r.height;"top"===this._currentPosition?(this._dropdown.style.bottom=d.bottom-r.bottom+v+"px",this._dropdown.style.top="auto"):"bottom"===this._currentPosition&&(this._dropdown.style.top=r.top-d.top+v+"px",this._dropdown.style.bottom="auto")}_setupMousedownListener(){this._zone.runOutsideAngular(()=>{Wd(this._dropdown,"mousedown").pipe(Er(this._destroy$)).subscribe(r=>{"INPUT"!==r.target.tagName&&r.preventDefault()})})}}return l.\u0275fac=function(r){return new(r||l)(ne(Id),ne(Xt),ne(o1),ne(Lt),ne(ue,8))},l.\u0275cmp=Yt({type:l,selectors:[["ng-dropdown-panel"]],viewQuery:function(r,d){if(1&r&&(gr(xU,7,Lt),gr(AU,7,Lt),gr(TU,7,Lt)),2&r){let v;rt(v=ht())&&(d.contentElementRef=v.first),rt(v=ht())&&(d.scrollElementRef=v.first),rt(v=ht())&&(d.paddingElementRef=v.first)}},inputs:{items:"items",markedItem:"markedItem",position:"position",appendTo:"appendTo",bufferAmount:"bufferAmount",virtualScroll:"virtualScroll",headerTemplate:"headerTemplate",footerTemplate:"footerTemplate",filterValue:"filterValue"},outputs:{update:"update",scroll:"scroll",scrollToEnd:"scrollToEnd",outsideClick:"outsideClick"},features:[$n],ngContentSelectors:e1,decls:9,vars:6,consts:[["class","ng-dropdown-header",4,"ngIf"],[1,"ng-dropdown-panel-items","scroll-host"],["scroll",""],["padding",""],["content",""],["class","ng-dropdown-footer",4,"ngIf"],[1,"ng-dropdown-header"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ng-dropdown-footer"]],template:function(r,d){1&r&&(ir(),ut(0,RU,2,4,"div",0),Ce(1,"div",1,2),Wt(3,"div",null,3),Ce(5,"div",null,4),vt(7),be(),be(),ut(8,PU,2,4,"div",5)),2&r&&(ze("ngIf",d.headerTemplate),Be(3),G("total-padding",d.virtualScroll),Be(2),G("scrollable-content",d.virtualScroll&&d.items.length),Be(3),ze("ngIf",d.footerTemplate))},directives:[fc,tP],encapsulation:2,changeDetection:0}),l})(),Oz=(()=>{class l{constructor(r){this.elementRef=r,this.stateChange$=new Mt,this._disabled=!1}get disabled(){return this._disabled}set disabled(r){this._disabled=this._isDisabled(r)}get label(){return(this.elementRef.nativeElement.textContent||"").trim()}ngOnChanges(r){r.disabled&&this.stateChange$.next({value:this.value,disabled:this._disabled})}ngAfterViewChecked(){this.label!==this._previousLabel&&(this._previousLabel=this.label,this.stateChange$.next({value:this.value,disabled:this._disabled,label:this.elementRef.nativeElement.innerHTML}))}ngOnDestroy(){this.stateChange$.complete()}_isDisabled(r){return null!=r&&"false"!=`${r}`}}return l.\u0275fac=function(r){return new(r||l)(ne(Lt))},l.\u0275cmp=Yt({type:l,selectors:[["ng-option"]],inputs:{value:"value",disabled:"disabled"},features:[$n],ngContentSelectors:e1,decls:1,vars:0,template:function(r,d){1&r&&(ir(),vt(0))},encapsulation:2,changeDetection:0}),l})(),xz=(()=>{class l{constructor(){this.notFoundText="No items found",this.typeToSearchText="Type to search",this.addTagText="Add item",this.loadingText="Loading...",this.clearAllText="Clear all",this.disableVirtualScroll=!0,this.openOnEnter=!0,this.appearance="underline"}}return l.\u0275fac=function(r){return new(r||l)},l.\u0275prov=ot({token:l,factory:l.\u0275fac,providedIn:"root"}),l})(),Az=(()=>{class l{warn(r){console.warn(r)}}return l.\u0275fac=function(r){return new(r||l)},l.\u0275prov=ot({token:l,factory:l.\u0275fac,providedIn:"root"}),l})();const l1=new Xe("ng-select-selection-model");let Tz=(()=>{class l{constructor(r,d,v,C,S,O,T){this.classes=r,this.autoFocus=d,this.config=v,this._cd=O,this._console=T,this.markFirst=!0,this.dropdownPosition="auto",this.loading=!1,this.closeOnSelect=!0,this.hideSelected=!1,this.selectOnTab=!1,this.bufferAmount=4,this.selectableGroup=!1,this.selectableGroupAsModel=!0,this.searchFn=null,this.trackByFn=null,this.clearOnBackspace=!0,this.labelForId=null,this.inputAttrs={},this.readonly=!1,this.searchWhileComposing=!0,this.minTermLength=0,this.editableSearchTerm=!1,this.keyDownFn=F=>!0,this.multiple=!1,this.addTag=!1,this.searchable=!0,this.clearable=!0,this.isOpen=!1,this.blurEvent=new he,this.focusEvent=new he,this.changeEvent=new he,this.openEvent=new he,this.closeEvent=new he,this.searchEvent=new he,this.clearEvent=new he,this.addEvent=new he,this.removeEvent=new he,this.scroll=new he,this.scrollToEnd=new he,this.useDefaultClass=!0,this.viewPortItems=[],this.searchTerm=null,this.dropdownId=r1(),this.escapeHTML=!0,this._items=[],this._defaultLabel="label",this._pressedKeys=[],this._isComposing=!1,this._destroy$=new Mt,this._keyPress$=new Mt,this._onChange=F=>{},this._onTouched=()=>{},this.clearItem=F=>{const k=this.selectedItems.find(j=>j.value===F);this.unselect(k)},this.trackByOption=(F,k)=>this.trackByFn?this.trackByFn(k.value):k,this._mergeGlobalConfig(v),this.itemsList=new Ez(this,C()),this.element=S.nativeElement}get items(){return this._items}set items(r){null===r&&(r=[]),this._itemsAreUsed=!0,this._items=r}get compareWith(){return this._compareWith}set compareWith(r){if(null!=r&&!VA(r))throw Error("`compareWith` must be a function.");this._compareWith=r}get clearSearchOnAdd(){return _i(this._clearSearchOnAdd)?this._clearSearchOnAdd:_i(this.config.clearSearchOnAdd)?this.config.clearSearchOnAdd:this.closeOnSelect}set clearSearchOnAdd(r){this._clearSearchOnAdd=r}get disabled(){return this.readonly||this._disabled}get filtered(){return!!this.searchTerm&&this.searchable||this._isComposing}get single(){return!this.multiple}get _editableSearchTerm(){return this.editableSearchTerm&&!this.multiple}get selectedItems(){return this.itemsList.selectedItems}get selectedValues(){return this.selectedItems.map(r=>r.value)}get hasValue(){return this.selectedItems.length>0}get currentPanelPosition(){if(this.dropdownPanel)return this.dropdownPanel.currentPosition}ngOnInit(){this._handleKeyPresses(),this._setInputAttributes()}ngOnChanges(r){r.multiple&&this.itemsList.clearSelected(),r.items&&this._setItems(r.items.currentValue||[]),r.isOpen&&(this._manualOpen=_i(r.isOpen.currentValue))}ngAfterViewInit(){this._itemsAreUsed||(this.escapeHTML=!1,this._setItemsFromNgOptions()),_i(this.autoFocus)&&this.focus()}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete()}handleKeyDown(r){if(vc[r.which]){if(!1===this.keyDownFn(r))return;this.handleKeyCode(r)}else r.key&&1===r.key.length&&this._keyPress$.next(r.key.toLocaleLowerCase())}handleKeyCode(r){switch(r.which){case vc.ArrowDown:this._handleArrowDown(r);break;case vc.ArrowUp:this._handleArrowUp(r);break;case vc.Space:this._handleSpace(r);break;case vc.Enter:this._handleEnter(r);break;case vc.Tab:this._handleTab(r);break;case vc.Esc:this.close(),r.preventDefault();break;case vc.Backspace:this._handleBackspace()}}handleMousedown(r){const d=r.target;"INPUT"!==d.tagName&&r.preventDefault(),d.classList.contains("ng-clear-wrapper")?this.handleClearClick():d.classList.contains("ng-arrow-wrapper")?this.handleArrowClick():d.classList.contains("ng-value-icon")||(this.focused||this.focus(),this.searchable?this.open():this.toggle())}handleArrowClick(){this.isOpen?this.close():this.open()}handleClearClick(){this.hasValue&&(this.itemsList.clearSelected(!0),this._updateNgModel()),this._clearSearch(),this.focus(),this.clearEvent.emit(),this._onSelectionChanged()}clearModel(){!this.clearable||(this.itemsList.clearSelected(),this._updateNgModel())}writeValue(r){this.itemsList.clearSelected(),this._handleWriteValue(r),this._cd.markForCheck()}registerOnChange(r){this._onChange=r}registerOnTouched(r){this._onTouched=r}setDisabledState(r){this._disabled=r,this._cd.markForCheck()}toggle(){this.isOpen?this.close():this.open()}open(){this.disabled||this.isOpen||this.itemsList.maxItemsSelected||this._manualOpen||!this._isTypeahead&&!this.addTag&&this.itemsList.noItemsToSelect||(this.isOpen=!0,this.itemsList.markSelectedOrDefault(this.markFirst),this.openEvent.emit(),this.searchTerm||this.focus(),this.detectChanges())}close(){!this.isOpen||this._manualOpen||(this.isOpen=!1,this._isComposing=!1,this._editableSearchTerm?this.itemsList.resetFilteredItems():this._clearSearch(),this.itemsList.unmarkItem(),this._onTouched(),this.closeEvent.emit(),this._cd.markForCheck())}toggleItem(r){!r||r.disabled||this.disabled||(this.multiple&&r.selected?this.unselect(r):this.select(r),this._editableSearchTerm&&this._setSearchTermFromItems(),this._onSelectionChanged())}select(r){r.selected||(this.itemsList.select(r),this.clearSearchOnAdd&&!this._editableSearchTerm&&this._clearSearch(),this._updateNgModel(),this.multiple&&this.addEvent.emit(r.value)),(this.closeOnSelect||this.itemsList.noItemsToSelect)&&this.close()}focus(){this.searchInput.nativeElement.focus()}blur(){this.searchInput.nativeElement.blur()}unselect(r){!r||(this.itemsList.unselect(r),this.focus(),this._updateNgModel(),this.removeEvent.emit(r))}selectTag(){let r;r=VA(this.addTag)?this.addTag(this.searchTerm):this._primitive?this.searchTerm:{[this.bindLabel]:this.searchTerm};const d=v=>this._isTypeahead||!this.isOpen?this.itemsList.mapItem(v,null):this.itemsList.addItem(v);!function(l){return l instanceof Promise}(r)?r&&this.select(d(r)):r.then(v=>this.select(d(v))).catch(()=>{})}showClear(){return this.clearable&&(this.hasValue||this.searchTerm)&&!this.disabled}get showAddTag(){if(!this._validTerm)return!1;const r=this.searchTerm.toLowerCase().trim();return this.addTag&&!this.itemsList.filteredItems.some(d=>d.label.toLowerCase()===r)&&(!this.hideSelected&&this.isOpen||!this.selectedItems.some(d=>d.label.toLowerCase()===r))&&!this.loading}showNoItemsFound(){const r=0===this.itemsList.filteredItems.length;return(r&&!this._isTypeahead&&!this.loading||r&&this._isTypeahead&&this._validTerm&&!this.loading)&&!this.showAddTag}showTypeToSearch(){return 0===this.itemsList.filteredItems.length&&this._isTypeahead&&!this._validTerm&&!this.loading}onCompositionStart(){this._isComposing=!0}onCompositionEnd(r){this._isComposing=!1,!this.searchWhileComposing&&this.filter(r)}filter(r){this._isComposing&&!this.searchWhileComposing||(this.searchTerm=r,this._isTypeahead&&(this._validTerm||0===this.minTermLength)&&this.typeahead.next(r),this._isTypeahead||(this.itemsList.filter(this.searchTerm),this.isOpen&&this.itemsList.markSelectedOrDefault(this.markFirst)),this.searchEvent.emit({term:r,items:this.itemsList.filteredItems.map(d=>d.value)}),this.open())}onInputFocus(r){this.focused||(this._editableSearchTerm&&this._setSearchTermFromItems(),this.element.classList.add("ng-select-focused"),this.focusEvent.emit(r),this.focused=!0)}onInputBlur(r){this.element.classList.remove("ng-select-focused"),this.blurEvent.emit(r),!this.isOpen&&!this.disabled&&this._onTouched(),this._editableSearchTerm&&this._setSearchTermFromItems(),this.focused=!1}onItemHover(r){r.disabled||this.itemsList.markItem(r)}detectChanges(){this._cd.destroyed||this._cd.detectChanges()}_setSearchTermFromItems(){const r=this.selectedItems&&this.selectedItems[0];this.searchTerm=r&&r.label||null}_setItems(r){const d=r[0];this.bindLabel=this.bindLabel||this._defaultLabel,this._primitive=_i(d)?!uD(d):this._primitive||this.bindLabel===this._defaultLabel,this.itemsList.setItems(r),r.length>0&&this.hasValue&&this.itemsList.mapSelectedItems(),this.isOpen&&_i(this.searchTerm)&&!this._isTypeahead&&this.itemsList.filter(this.searchTerm),(this._isTypeahead||this.isOpen)&&this.itemsList.markSelectedOrDefault(this.markFirst)}_setItemsFromNgOptions(){const r=v=>{this.items=v.map(C=>({$ngOptionValue:C.value,$ngOptionLabel:C.elementRef.nativeElement.innerHTML,disabled:C.disabled})),this.itemsList.setItems(this.items),this.hasValue&&this.itemsList.mapSelectedItems(),this.detectChanges()},d=()=>{const v=Ge(this.ngOptions.changes,this._destroy$);Ge(...this.ngOptions.map(C=>C.stateChange$)).pipe(Er(v)).subscribe(C=>{const S=this.itemsList.findItem(C.value);S.disabled=C.disabled,S.label=C.label||S.label,this._cd.detectChanges()})};this.ngOptions.changes.pipe(pl(this.ngOptions),Er(this._destroy$)).subscribe(v=>{this.bindLabel=this._defaultLabel,r(v),d()})}_isValidWriteValue(r){if(!_i(r)||this.multiple&&""===r||Array.isArray(r)&&0===r.length)return!1;const d=v=>!(!_i(this.compareWith)&&uD(v)&&this.bindValue&&(this._console.warn(`Setting object(${JSON.stringify(v)}) as your model with bindValue is not allowed unless [compareWith] is used.`),1));return this.multiple?Array.isArray(r)?r.every(v=>d(v)):(this._console.warn("Multiple select ngModel should be array."),!1):d(r)}_handleWriteValue(r){if(!this._isValidWriteValue(r))return;const d=v=>{let C=this.itemsList.findItem(v);if(C)this.itemsList.select(C);else{const S=uD(v),O=!S&&!this.bindValue;S||O?this.itemsList.select(this.itemsList.mapItem(v,null)):this.bindValue&&(C={[this.bindLabel]:null,[this.bindValue]:v},this.itemsList.select(this.itemsList.mapItem(C,null)))}};this.multiple?r.forEach(v=>d(v)):d(r)}_handleKeyPresses(){this.searchable||this._keyPress$.pipe(Er(this._destroy$),W0(r=>this._pressedKeys.push(r)),Hx(200),fa(()=>this._pressedKeys.length>0),oi(()=>this._pressedKeys.join(""))).subscribe(r=>{const d=this.itemsList.findByLabel(r);d&&(this.isOpen?(this.itemsList.markItem(d),this._scrollToMarked(),this._cd.markForCheck()):this.select(d)),this._pressedKeys=[]})}_setInputAttributes(){const r=this.searchInput.nativeElement,d=An({type:"text",autocorrect:"off",autocapitalize:"off",autocomplete:this.labelForId?"off":this.dropdownId},this.inputAttrs);for(const v of Object.keys(d))r.setAttribute(v,d[v])}_updateNgModel(){const r=[];for(const v of this.selectedItems)if(this.bindValue){let C=null;C=v.children?v.value[(this.groupValue?this.bindValue:this.groupBy)||this.groupBy]:this.itemsList.resolveNested(v.value,this.bindValue),r.push(C)}else r.push(v.value);const d=this.selectedItems.map(v=>v.value);this.multiple?(this._onChange(r),this.changeEvent.emit(d)):(this._onChange(_i(r[0])?r[0]:null),this.changeEvent.emit(d[0])),this._cd.markForCheck()}_clearSearch(){!this.searchTerm||(this._changeSearch(null),this.itemsList.resetFilteredItems())}_changeSearch(r){this.searchTerm=r,this._isTypeahead&&this.typeahead.next(r)}_scrollToMarked(){!this.isOpen||!this.dropdownPanel||this.dropdownPanel.scrollTo(this.itemsList.markedItem)}_scrollToTag(){!this.isOpen||!this.dropdownPanel||this.dropdownPanel.scrollToTag()}_onSelectionChanged(){this.isOpen&&this.multiple&&this.appendTo&&(this._cd.detectChanges(),this.dropdownPanel.adjustPosition())}_handleTab(r){!1===this.isOpen&&!this.addTag||(this.selectOnTab?this.itemsList.markedItem?(this.toggleItem(this.itemsList.markedItem),r.preventDefault()):this.showAddTag?(this.selectTag(),r.preventDefault()):this.close():this.close())}_handleEnter(r){if(this.isOpen||this._manualOpen)this.itemsList.markedItem?this.toggleItem(this.itemsList.markedItem):this.showAddTag&&this.selectTag();else{if(!this.openOnEnter)return;this.open()}r.preventDefault()}_handleSpace(r){this.isOpen||this._manualOpen||(this.open(),r.preventDefault())}_handleArrowDown(r){this._nextItemIsTag(1)?(this.itemsList.unmarkItem(),this._scrollToTag()):(this.itemsList.markNextItem(),this._scrollToMarked()),this.open(),r.preventDefault()}_handleArrowUp(r){!this.isOpen||(this._nextItemIsTag(-1)?(this.itemsList.unmarkItem(),this._scrollToTag()):(this.itemsList.markPreviousItem(),this._scrollToMarked()),r.preventDefault())}_nextItemIsTag(r){const d=this.itemsList.markedIndex+r;return this.addTag&&this.searchTerm&&this.itemsList.markedItem&&(d<0||d===this.itemsList.filteredItems.length)}_handleBackspace(){this.searchTerm||!this.clearable||!this.clearOnBackspace||!this.hasValue||(this.multiple?this.unselect(this.itemsList.lastSelectedItem):this.clearModel())}get _isTypeahead(){return this.typeahead&&this.typeahead.observers.length>0}get _validTerm(){const r=this.searchTerm&&this.searchTerm.trim();return r&&r.length>=this.minTermLength}_mergeGlobalConfig(r){this.placeholder=this.placeholder||r.placeholder,this.notFoundText=this.notFoundText||r.notFoundText,this.typeToSearchText=this.typeToSearchText||r.typeToSearchText,this.addTagText=this.addTagText||r.addTagText,this.loadingText=this.loadingText||r.loadingText,this.clearAllText=this.clearAllText||r.clearAllText,this.virtualScroll=_i(this.virtualScroll)?this.virtualScroll:!!_i(r.disableVirtualScroll)&&!r.disableVirtualScroll,this.openOnEnter=_i(this.openOnEnter)?this.openOnEnter:r.openOnEnter,this.appendTo=this.appendTo||r.appendTo,this.bindValue=this.bindValue||r.bindValue,this.bindLabel=this.bindLabel||r.bindLabel,this.appearance=this.appearance||r.appearance}}return l.\u0275fac=function(r){return new(r||l)(Qo("class"),Qo("autofocus"),ne(xz),ne(l1),ne(Lt),ne(Br),ne(Az))},l.\u0275cmp=Yt({type:l,selectors:[["ng-select"]],contentQueries:function(r,d,v){if(1&r&&(rn(v,n1,5,vn),rn(v,hz,5,vn),rn(v,fz,5,vn),rn(v,gz,5,vn),rn(v,mz,5,vn),rn(v,vz,5,vn),rn(v,yz,5,vn),rn(v,_z,5,vn),rn(v,Cz,5,vn),rn(v,bz,5,vn),rn(v,wz,5,vn),rn(v,Oz,5)),2&r){let C;rt(C=ht())&&(d.optionTemplate=C.first),rt(C=ht())&&(d.optgroupTemplate=C.first),rt(C=ht())&&(d.labelTemplate=C.first),rt(C=ht())&&(d.multiLabelTemplate=C.first),rt(C=ht())&&(d.headerTemplate=C.first),rt(C=ht())&&(d.footerTemplate=C.first),rt(C=ht())&&(d.notFoundTemplate=C.first),rt(C=ht())&&(d.typeToSearchTemplate=C.first),rt(C=ht())&&(d.loadingTextTemplate=C.first),rt(C=ht())&&(d.tagTemplate=C.first),rt(C=ht())&&(d.loadingSpinnerTemplate=C.first),rt(C=ht())&&(d.ngOptions=C)}},viewQuery:function(r,d){if(1&r&&(gr(s1,5),gr(MU,7)),2&r){let v;rt(v=ht())&&(d.dropdownPanel=v.first),rt(v=ht())&&(d.searchInput=v.first)}},hostVars:20,hostBindings:function(r,d){1&r&&Ct("keydown",function(C){return d.handleKeyDown(C)}),2&r&&G("ng-select-typeahead",d.typeahead)("ng-select-multiple",d.multiple)("ng-select-taggable",d.addTag)("ng-select-searchable",d.searchable)("ng-select-clearable",d.clearable)("ng-select-opened",d.isOpen)("ng-select",d.useDefaultClass)("ng-select-disabled",d.disabled)("ng-select-filtered",d.filtered)("ng-select-single",d.single)},inputs:{bindLabel:"bindLabel",bindValue:"bindValue",markFirst:"markFirst",placeholder:"placeholder",notFoundText:"notFoundText",typeToSearchText:"typeToSearchText",addTagText:"addTagText",loadingText:"loadingText",clearAllText:"clearAllText",appearance:"appearance",dropdownPosition:"dropdownPosition",appendTo:"appendTo",loading:"loading",closeOnSelect:"closeOnSelect",hideSelected:"hideSelected",selectOnTab:"selectOnTab",openOnEnter:"openOnEnter",maxSelectedItems:"maxSelectedItems",groupBy:"groupBy",groupValue:"groupValue",bufferAmount:"bufferAmount",virtualScroll:"virtualScroll",selectableGroup:"selectableGroup",selectableGroupAsModel:"selectableGroupAsModel",searchFn:"searchFn",trackByFn:"trackByFn",clearOnBackspace:"clearOnBackspace",labelForId:"labelForId",inputAttrs:"inputAttrs",tabIndex:"tabIndex",readonly:"readonly",searchWhileComposing:"searchWhileComposing",minTermLength:"minTermLength",editableSearchTerm:"editableSearchTerm",keyDownFn:"keyDownFn",typeahead:"typeahead",multiple:"multiple",addTag:"addTag",searchable:"searchable",clearable:"clearable",isOpen:"isOpen",items:"items",compareWith:"compareWith",clearSearchOnAdd:"clearSearchOnAdd"},outputs:{blurEvent:"blur",focusEvent:"focus",changeEvent:"change",openEvent:"open",closeEvent:"close",searchEvent:"search",clearEvent:"clear",addEvent:"add",removeEvent:"remove",scroll:"scroll",scrollToEnd:"scrollToEnd"},features:[yt([{provide:ga,useExisting:fn(()=>l),multi:!0},o1]),$n],decls:14,vars:19,consts:[[1,"ng-select-container",3,"mousedown"],[1,"ng-value-container"],[1,"ng-placeholder"],[4,"ngIf"],["role","combobox","aria-haspopup","listbox",1,"ng-input"],["aria-autocomplete","list",3,"readOnly","disabled","value","input","compositionstart","compositionend","focus","blur","change"],["searchInput",""],["class","ng-clear-wrapper",3,"title",4,"ngIf"],[1,"ng-arrow-wrapper"],[1,"ng-arrow"],["class","ng-dropdown-panel","role","listbox","aria-label","Options list",3,"virtualScroll","bufferAmount","appendTo","position","headerTemplate","footerTemplate","filterValue","items","markedItem","ng-select-multiple","ngClass","id","update","scroll","scrollToEnd","outsideClick",4,"ngIf"],["class","ng-value",3,"ng-value-disabled",4,"ngFor","ngForOf","ngForTrackBy"],[1,"ng-value"],["defaultLabelTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["aria-hidden","true",1,"ng-value-icon","left",3,"click"],[1,"ng-value-label",3,"ngItemLabel","escape"],["defaultLoadingSpinnerTemplate",""],[3,"ngTemplateOutlet"],[1,"ng-spinner-loader"],[1,"ng-clear-wrapper",3,"title"],["aria-hidden","true",1,"ng-clear"],["role","listbox","aria-label","Options list",1,"ng-dropdown-panel",3,"virtualScroll","bufferAmount","appendTo","position","headerTemplate","footerTemplate","filterValue","items","markedItem","ngClass","id","update","scroll","scrollToEnd","outsideClick"],["class","ng-option",3,"ng-option-disabled","ng-option-selected","ng-optgroup","ng-option","ng-option-child","ng-option-marked","click","mouseover",4,"ngFor","ngForOf","ngForTrackBy"],["class","ng-option","role","option",3,"ng-option-marked","mouseover","click",4,"ngIf"],[1,"ng-option",3,"click","mouseover"],["defaultOptionTemplate",""],[1,"ng-option-label",3,"ngItemLabel","escape"],["role","option",1,"ng-option",3,"mouseover","click"],["defaultTagTemplate",""],[1,"ng-tag-label"],["defaultNotFoundTemplate",""],[1,"ng-option","ng-option-disabled"],["defaultTypeToSearchTemplate",""],["defaultLoadingTextTemplate",""]],template:function(r,d){if(1&r){const v=Vr();Ce(0,"div",0),Ct("mousedown",function(S){return d.handleMousedown(S)}),Ce(1,"div",1),Ce(2,"div",2),bn(3),be(),ut(4,kU,2,2,"ng-container",3),ut(5,BU,1,5,void 0,3),Ce(6,"div",4),Ce(7,"input",5,6),Ct("input",function(){In(v);const S=Tr(8);return d.filter(S.value)})("compositionstart",function(){return d.onCompositionStart()})("compositionend",function(){In(v);const S=Tr(8);return d.onCompositionEnd(S.value)})("focus",function(S){return d.onInputFocus(S)})("blur",function(S){return d.onInputBlur(S)})("change",function(S){return S.stopPropagation()}),be(),be(),be(),ut(9,jU,4,1,"ng-container",3),ut(10,UU,3,1,"span",7),Ce(11,"span",8),Wt(12,"span",9),be(),be(),ut(13,sz,7,19,"ng-dropdown-panel",10)}2&r&&(G("ng-appearance-outline","outline"===d.appearance)("ng-has-value",d.hasValue),Be(3),Ba(d.placeholder),Be(1),ze("ngIf",(!d.multiLabelTemplate||!d.multiple)&&d.selectedItems.length>0),Be(1),ze("ngIf",d.multiple&&d.multiLabelTemplate&&d.selectedValues.length>0),Be(1),zt("aria-expanded",d.isOpen)("aria-owns",d.isOpen?d.dropdownId:null),Be(1),ze("readOnly",!d.searchable||d.itemsList.maxItemsSelected)("disabled",d.disabled)("value",d.searchTerm?d.searchTerm:""),zt("id",d.labelForId)("tabindex",d.tabIndex)("aria-activedescendant",d.isOpen?null==d.itemsList||null==d.itemsList.markedItem?null:d.itemsList.markedItem.htmlId:null)("aria-controls",d.isOpen?d.dropdownId:null),Be(2),ze("ngIf",d.loading),Be(1),ze("ngIf",d.showClear()),Be(3),ze("ngIf",d.isOpen))},directives:[fc,Tx,tP,pz,s1,N0],styles:['@charset "UTF-8";.ng-select{position:relative;display:block;box-sizing:border-box}.ng-select div,.ng-select input,.ng-select span{box-sizing:border-box}.ng-select [hidden]{display:none}.ng-select.ng-select-searchable .ng-select-container .ng-value-container .ng-input{opacity:1}.ng-select.ng-select-opened .ng-select-container{z-index:1001}.ng-select.ng-select-disabled .ng-select-container .ng-value-container .ng-placeholder,.ng-select.ng-select-disabled .ng-select-container .ng-value-container .ng-value{-webkit-user-select:none;user-select:none;cursor:default}.ng-select.ng-select-disabled .ng-arrow-wrapper{cursor:default}.ng-select.ng-select-filtered .ng-placeholder{display:none}.ng-select .ng-select-container{cursor:default;display:flex;outline:none;overflow:hidden;position:relative;width:100%}.ng-select .ng-select-container .ng-value-container{display:flex;flex:1}.ng-select .ng-select-container .ng-value-container .ng-input{opacity:0}.ng-select .ng-select-container .ng-value-container .ng-input>input{box-sizing:content-box;background:none transparent;border:0 none;box-shadow:none;outline:none;padding:0;cursor:default;width:100%}.ng-select .ng-select-container .ng-value-container .ng-input>input::-ms-clear{display:none}.ng-select .ng-select-container .ng-value-container .ng-input>input[readonly]{-webkit-user-select:none;user-select:none;width:0;padding:0}.ng-select.ng-select-single.ng-select-filtered .ng-select-container .ng-value-container .ng-value{visibility:hidden}.ng-select.ng-select-single .ng-select-container .ng-value-container,.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-value{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-value .ng-value-icon{display:none}.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-input{position:absolute;left:0;width:100%}.ng-select.ng-select-multiple.ng-select-disabled>.ng-select-container .ng-value-container .ng-value .ng-value-icon{display:none}.ng-select.ng-select-multiple .ng-select-container .ng-value-container{flex-wrap:wrap}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-placeholder{position:absolute}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value{white-space:nowrap}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value.ng-value-disabled .ng-value-icon{display:none}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value .ng-value-icon{cursor:pointer}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-input{flex:1;z-index:2}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-placeholder{z-index:1}.ng-select .ng-clear-wrapper{cursor:pointer;position:relative;width:17px;-webkit-user-select:none;user-select:none}.ng-select .ng-clear-wrapper .ng-clear{display:inline-block;font-size:18px;line-height:1;pointer-events:none}.ng-select .ng-spinner-loader{border-radius:50%;width:17px;height:17px;margin-right:5px;font-size:10px;position:relative;text-indent:-9999em;border-top:2px solid rgba(66,66,66,.2);border-right:2px solid rgba(66,66,66,.2);border-bottom:2px solid rgba(66,66,66,.2);border-left:2px solid #424242;transform:translateZ(0);animation:load8 .8s infinite linear}.ng-select .ng-spinner-loader:after{border-radius:50%;width:17px;height:17px}@keyframes load8{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.ng-select .ng-arrow-wrapper{cursor:pointer;position:relative;text-align:center;-webkit-user-select:none;user-select:none}.ng-select .ng-arrow-wrapper .ng-arrow{pointer-events:none;display:inline-block;height:0;width:0;position:relative}.ng-dropdown-panel{box-sizing:border-box;position:absolute;opacity:0;width:100%;z-index:1050;-webkit-overflow-scrolling:touch}.ng-dropdown-panel .ng-dropdown-panel-items{display:block;height:auto;box-sizing:border-box;max-height:240px;overflow-y:auto}.ng-dropdown-panel .ng-dropdown-panel-items .ng-optgroup{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option{box-sizing:border-box;cursor:pointer;display:block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option .ng-option-label:empty:before{content:"\\200b"}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option .highlighted{font-weight:700;text-decoration:underline}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option.disabled{cursor:default}.ng-dropdown-panel .scroll-host{overflow:hidden;overflow-y:auto;position:relative;display:block;-webkit-overflow-scrolling:touch}.ng-dropdown-panel .scrollable-content{top:0;left:0;width:100%;height:100%;position:absolute}.ng-dropdown-panel .total-padding{width:1px;opacity:0}\n'],encapsulation:2,changeDetection:0}),l})();function Rz(){return new Pz}class Pz{constructor(){this._selected=[]}get value(){return this._selected}select(a,r,d){if(a.selected=!0,(!a.children||!r&&d)&&this._selected.push(a),r)if(a.parent){const v=a.parent.children.length,C=a.parent.children.filter(S=>S.selected).length;a.parent.selected=v===C}else a.children&&(this._setChildrenSelectedState(a.children,!0),this._removeChildren(a),this._selected=d&&this._activeChildren(a)?[...this._selected.filter(v=>v.parent!==a),a]:[...this._selected,...a.children.filter(v=>!v.disabled)])}unselect(a,r){if(this._selected=this._selected.filter(d=>d!==a),a.selected=!1,r)if(a.parent&&a.parent.selected){const d=a.parent.children;this._removeParent(a.parent),this._removeChildren(a.parent),this._selected.push(...d.filter(v=>v!==a&&!v.disabled)),a.parent.selected=!1}else a.children&&(this._setChildrenSelectedState(a.children,!1),this._removeChildren(a))}clear(a){this._selected=a?this._selected.filter(r=>r.disabled):[]}_setChildrenSelectedState(a,r){for(const d of a)d.disabled||(d.selected=r)}_removeChildren(a){this._selected=[...this._selected.filter(r=>r.parent!==a),...a.children.filter(r=>r.parent===a&&r.disabled&&r.selected)]}_removeParent(a){this._selected=this._selected.filter(r=>r!==a)}_activeChildren(a){return a.children.every(r=>!r.disabled||r.selected)}}let Mz=(()=>{class l{}return l.\u0275fac=function(r){return new(r||l)},l.\u0275mod=Tt({type:l}),l.\u0275inj=_t({providers:[{provide:l1,useValue:Rz}],imports:[[am]]}),l})();function Fz(l,a){if(1&l){const r=Vr();Ce(0,"img",35),Ct("click",function(){return In(r),ct().expandSideBar()}),be()}}function Iz(l,a){if(1&l){const r=Vr();Ce(0,"img",36),Ct("click",function(){return In(r),ct().expandSideBar()}),be()}}function Nz(l,a){1&l&&(Ce(0,"span",37),bn(1," Dashboard "),be())}function Lz(l,a){1&l&&(Ce(0,"span",37),bn(1," Fund "),be())}function kz(l,a){1&l&&(Ce(0,"span",37),bn(1," Summary By Fund "),be())}function Gz(l,a){1&l&&(Ce(0,"span",37),bn(1," Custom View "),be())}function Vz(l,a){if(1&l&&(Ce(0,"mat-checkbox",38),Ct("click",function(){return!1}),be(),bn(1)),2&l){const r=a.item,d=a.item$;ze("disableRipple",!0)("ngModel",d.selected),Be(1),Rd(" ",r," ")}}jr(69);let Bz=(()=>{class l{constructor(){this.title="design-challenge",this.isExpanded=!1,this.selectedItem="",this.rowHeight=45,this.filterInput="",this.fundArray=["Onshore growth fund LP","Offshore Growth Funds LLC","Event Driven Fund UK LLC","Event Driven Fund US LP","Opportunistic Fund LP","What the Fund LP","Statistical Arb Fund LP","Venator Fund LP","Venless LLC","VenRad LP","Infiltrator Fund LLC","Supremacy fund LLC","Tantive IV Fund LP","Tydirium Fund LLC","Razor Crest Fund LP","Corvus Fund LP","Finalizer fund LP","Adjudicator Fund LP","Virulence Fund LLC","Executor Fund LP","Sentinel Fund LLC","Phantom II Fund LLC","Dreadnought V Fund LP","The fulminatrix Fund LLC","Ninka Fund LP","The Raddus Fund LP","Liberator Fund LLC","Triumph Fund LP"],this.selectedFund=[],this.defaultTemplate='<div class="ag-cell-label-container" role="presentation">  <span ref="eMenu" class="ag-header-icon ag-header-cell-menu-button"></span>  <div ref="eLabel" class="ag-header-cell-label header-cell-style" role="presentation">    <span ref="eText" class="ag-header-cell-text" role="columnheader"></span>    <span ref="eFilter" class="ag-header-icon ag-filter-icon"></span>    <span ref="eSortOrder" class="ag-header-icon ag-sort-order"></span>    <span ref="eSortAsc" class="ag-header-icon ag-sort-ascending-icon"></span>    <span ref="eSortDesc" class="ag-header-icon ag-sort-descending-icon"></span>    <span ref="eSortNone" class="ag-header-icon ag-sort-none-icon"></span>  </div></div>',this.numTemplate='<div class="ag-cell-label-container cell-num-header-flex-style" role="presentation">  <span ref="eMenu" class="ag-header-icon ag-header-cell-menu-button"></span>  <div ref="eLabel" class="ag-header-cell-label" role="presentation">    <span ref="eFilter" class="ag-header-icon ag-filter-icon"></span>    <span ref="eSortOrder" class="ag-header-icon ag-sort-order"></span>    <span ref="eSortAsc" class="ag-header-icon ag-sort-ascending-icon cell-num-header-sort-style"></span>    <span ref="eSortDesc" class="ag-header-icon ag-sort-descending-icon cell-num-header-sort-style"></span>    <span ref="eSortNone" class="ag-header-icon ag-sort-none-icon"></span>    <span ref="eText" class="ag-header-cell-text cell-num-header-style" role="columnheader"></span>  </div></div>',this.columnDefs=[{field:"fund",cellClass:"text-blue"},{field:"pending actions",cellRenderer:()=>'<img class="icon-pending" src="assets/pending_actions_black_24dp.svg" />',cellClass:"cell-style",headerComponentParams:{template:this.defaultTemplate}},{field:"daily book P&L",cellClass:"cell-style",headerComponentParams:{template:this.defaultTemplate}},{field:"MTD book p&L",cellClass:"cell-num-style",headerComponentParams:{template:this.numTemplate}},{field:"YTD book P&L",cellClass:"cell-num-style",headerComponentParams:{template:this.numTemplate}},{field:"end book NAV",cellClass:"cell-num-style",headerComponentParams:{template:this.numTemplate}},{field:"client",cellClass:"cell-style",headerComponentParams:{template:this.defaultTemplate}}],this.defaultColDef={flex:1,enableRowGroup:!0,enablePivot:!0,sortable:!0,filter:!0},this.rowData=[]}ngOnInit(){this.renderRowData()}renderRowData(){for(let d=0;d<this.fundArray.length;d++){var r={};r.fund=this.fundArray[d],r["daily book P&L"]="WFNH2CRWCU",r["MTD book p&L"]="148,579,476",r["YTD book P&L"]="148,579,476",r["end book NAV"]="255,080,079",r.client="ARYMFLP",this.rowData.push(r)}}onSelect(r){this.selectedItem=r}expandSideBar(){this.isExpanded=!this.isExpanded}}return l.\u0275fac=function(r){return new(r||l)},l.\u0275cmp=Yt({type:l,selectors:[["app-root"]],decls:68,vars:29,consts:[["src","assets/Momentum-logo.svg",1,"header-row","momentum-logo"],["src","assets/Momentum-text.svg",1,"header-row","momentum-text"],[1,"spacer"],["src","assets/account_circle-black-24dp.svg",1,"header-row","profile-logo"],[1,"main-content"],["autosize","true"],["mode","side","opened","true"],["sidenav",""],[3,"disableRipple"],[1,"sidenav-collapse"],["src","assets/navigate_next_white_36dp.svg",3,"click",4,"ngIf"],["src","assets/chevron_left_white_36dp.svg",3,"click",4,"ngIf"],[1,"mat-item-background",3,"ngClass","click"],["src","assets/dashboard_icon-white-24px.svg"],["class","sidenav-text",4,"ngIf"],["src","assets/Fund_CCY_Date_icon-white-24dp.svg"],["src","assets/summary_by_fund-white-24px.svg"],["src","assets/custom_view-white-24dp.svg"],[1,"sidenav-content"],[1,"grid-actions"],["appearance","fill",1,"formfield-style"],[3,"rangePicker"],["matStartDate","","placeholder","From Date"],["matEndDate","","placeholder","To Date"],["matSuffix","",3,"for"],["picker",""],["mat-button","","matDatepickerCancel",""],["mat-button","","matDatepickerApply","",1,"btn-datepicker-apply"],["matInput","","type","text",3,"ngModel","ngModelChange"],[1,"div-actions"],["mat-button","",1,"btn-action"],["placeholder","Autocomplete Funds Clients",1,"autocomplete-style",3,"items","multiple","selectableGroup","closeOnSelect","ngModel","ngModelChange"],["ng-option-tmp",""],[1,"mat-elevation-z0"],[1,"ag-theme-alpine",2,"width","100%","height","430px",3,"rowData","columnDefs","defaultColDef","pivotMode","sideBar","headerHeight","rowHeight","quickFilterText"],["src","assets/navigate_next_white_36dp.svg",3,"click"],["src","assets/chevron_left_white_36dp.svg",3,"click"],[1,"sidenav-text"],[1,"checkbox-autocomplete",3,"disableRipple","ngModel","click"]],template:function(r,d){if(1&r&&(Ce(0,"mat-toolbar"),Wt(1,"img",0),Wt(2,"img",1),Wt(3,"span",2),Wt(4,"img",3),be(),Ce(5,"div",4),Ce(6,"mat-sidenav-container",5),Ce(7,"mat-sidenav",6,7),Ce(9,"mat-nav-list",8),Ce(10,"mat-list-item",9),ut(11,Fz,1,0,"img",10),ut(12,Iz,1,0,"img",11),be(),Ce(13,"mat-list-item",12),Ct("click",function(){return d.onSelect("dashboard")}),Wt(14,"img",13),ut(15,Nz,2,0,"span",14),be(),Ce(16,"mat-list-item",12),Ct("click",function(){return d.onSelect("fund")}),Wt(17,"img",15),ut(18,Lz,2,0,"span",14),be(),Ce(19,"mat-list-item",12),Ct("click",function(){return d.onSelect("summary")}),Wt(20,"img",16),ut(21,kz,2,0,"span",14),be(),Ce(22,"mat-list-item",12),Ct("click",function(){return d.onSelect("view")}),Wt(23,"img",17),ut(24,Gz,2,0,"span",14),be(),be(),be(),Ce(25,"div",18),Ce(26,"div",19),Ce(27,"mat-form-field",20),Ce(28,"mat-label"),bn(29,"Date Range"),be(),Ce(30,"mat-date-range-input",21),Wt(31,"input",22),Wt(32,"input",23),be(),Wt(33,"mat-datepicker-toggle",24),Ce(34,"mat-date-range-picker",null,25),Ce(36,"mat-datepicker-actions"),Ce(37,"button",26),bn(38,"Cancel"),be(),Ce(39,"button",27),Ce(40,"mat-icon"),bn(41,"check"),be(),bn(42," Apply "),be(),be(),be(),be(),Ce(43,"mat-form-field",20),Ce(44,"mat-label"),bn(45,"Quick Filter"),be(),Ce(46,"input",28),Ct("ngModelChange",function(C){return d.filterInput=C}),be(),be(),Ce(47,"div",29),Ce(48,"button",30),bn(49,"ACTION ONE"),be(),Ce(50,"button",30),bn(51,"ACTION TWO"),be(),be(),be(),Ce(52,"ng-select",31),Ct("ngModelChange",function(C){return d.selectedFund=C}),ut(53,Vz,2,3,"ng-template",32),be(),Ce(54,"mat-accordion"),Ce(55,"mat-expansion-panel",33),Ce(56,"mat-expansion-panel-header"),Ce(57,"mat-panel-title"),bn(58," Momentum ag-Grid "),be(),be(),Wt(59,"ag-grid-angular",34),be(),Ce(60,"mat-expansion-panel",33),Ce(61,"mat-expansion-panel-header"),Ce(62,"mat-panel-title"),bn(63," Momentum Exceptions "),be(),be(),be(),Ce(64,"mat-expansion-panel",33),Ce(65,"mat-expansion-panel-header"),Ce(66,"mat-panel-title"),bn(67," Momentum Ratings "),be(),be(),be(),be(),be(),be(),be()),2&r){const v=Tr(35);Be(7),L("width",d.isExpanded?"271px":"70px"),Be(2),ze("disableRipple",!0),Be(2),ze("ngIf",!d.isExpanded),Be(1),ze("ngIf",d.isExpanded),Be(1),ze("ngClass","dashboard"===d.selectedItem?"mat-item-select":""),Be(2),ze("ngIf",d.isExpanded),Be(1),ze("ngClass","fund"===d.selectedItem?"mat-item-select":""),Be(2),ze("ngIf",d.isExpanded),Be(1),ze("ngClass","summary"===d.selectedItem?"mat-item-select":""),Be(2),ze("ngIf",d.isExpanded),Be(1),ze("ngClass","view"===d.selectedItem?"mat-item-select":""),Be(2),ze("ngIf",d.isExpanded),Be(6),ze("rangePicker",v),Be(3),ze("for",v),Be(13),ze("ngModel",d.filterInput),Be(6),ze("items",d.fundArray)("multiple",!0)("selectableGroup",!0)("closeOnSelect",!1)("ngModel",d.selectedFund),Be(7),ze("rowData",d.rowData)("columnDefs",d.columnDefs)("defaultColDef",d.defaultColDef)("pivotMode",!1)("sideBar",!0)("headerHeight",d.rowHeight)("rowHeight",d.rowHeight)("quickFilterText",d.filterInput)}},directives:[bH,WN,HN,H2,W2,fc,N0,jj,FM,k3,Bk,Hk,N3,Vj,G3,H3,MA,B3,V3,FW,Yj,yA,RL,bM,Tz,n1,uU,Yk,qk,lU,z3,Zk],styles:['[_nghost-%COMP%]{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";font-size:14px;color:#333;box-sizing:border-box;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}mat-toolbar[_ngcontent-%COMP%]{height:98px;background:#052950;background:linear-gradient(90deg,#052950 30%,#094b68 80%,#107e8a 100%);padding:0 24px}.header-row[_ngcontent-%COMP%]{margin-top:-24px}.momentum-logo[_ngcontent-%COMP%]{margin-right:24px}.momentum-text[_ngcontent-%COMP%]{height:20px;width:150px}.profile-logo[_ngcontent-%COMP%]{cursor:pointer;filter:invert(98%) sepia(99%) saturate(2%) hue-rotate(262deg) brightness(110%) contrast(100%)}.spacer[_ngcontent-%COMP%]{flex:1 1 auto}.main-content[_ngcontent-%COMP%]{height:calc(100% - 74px);padding:0 3%}mat-sidenav-container[_ngcontent-%COMP%]{height:100%;margin-top:-24px;background-color:transparent}mat-sidenav[_ngcontent-%COMP%]{width:70px;background-color:#052950;border:2px solid;border-color:#fff}.sidenav-collapse[_ngcontent-%COMP%]     .mat-list-item-content{justify-content:end;background-color:#052950!important}.sidenav-text[_ngcontent-%COMP%]{width:100%;color:#fff;margin-left:18px}.sidenav-content[_ngcontent-%COMP%]{height:calc(100% - 93px);display:flex;flex-direction:column;background-color:#fff;margin-left:12px;padding:24px}mat-icon[_ngcontent-%COMP%]{color:#fff;cursor:pointer}.mat-item-select[_ngcontent-%COMP%], .mat-item-background[_ngcontent-%COMP%]:hover{background:#094b68;background:linear-gradient(90deg,#094b68 20%,#107e8a 100%)}  .mat-list-item-content{justify-content:center}.formfield-style[_ngcontent-%COMP%]{width:220px;height:55px}  .mat-focused .mat-form-field-label{color:#0985c7!important}  .mat-form-field-ripple{background-color:#0985c7!important}  .ng-dropdown-panel{margin-top:1.25em}  .ng-dropdown-panel .ng-dropdown-panel-items .ng-option{display:flex!important;border-bottom:1px solid #cccccc!important}  .ng-dropdown-panel .ng-dropdown-panel-items .ng-option.ng-option-selected{background-color:#eee!important;color:#000000de}  .ng-dropdown-panel .ng-dropdown-panel-items{max-height:210px!important}  .ng-select .ng-clear-wrapper{color:#000;margin-right:10px}  .ng-select-container{padding:0 10px}  .ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value{background-color:#0985c7!important;padding-right:10px}  .ng-select.ng-select-multiple .ng-select-container.ng-has-value .ng-value-container{padding-top:.5em}  .ng-placeholder{color:#0009!important}  .ng-select.ng-select-focused{background-color:#fff!important}  .ng-select.ng-select-focused .ng-placeholder{color:#0985c7!important}  .mat-checkbox-checked.mat-accent .mat-checkbox-background{background-color:#052950!important}.checkbox-autocomplete[_ngcontent-%COMP%]{margin-right:10px}.btn-datepicker-apply[_ngcontent-%COMP%]{color:#fff;background:#0985c7}.grid-actions[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.div-actions[_ngcontent-%COMP%]{display:flex}.btn-action[_ngcontent-%COMP%]{height:40px;width:136px;display:flex;justify-content:center;align-items:center;font-family:"Open Sans",sans-serif;font-weight:500;font-size:14px;letter-spacing:1px;color:#fff;background-color:#0985c7;border-radius:2px;margin:0 0 0 24px;padding-left:26px;padding-right:26px}.ng-dropdown-panel[_ngcontent-%COMP%]   .ng-dropdown-panel-items[_ngcontent-%COMP%]   .ng-option.ng-option-marked[_ngcontent-%COMP%]{background-color:red!important}.autocomplete-style[_ngcontent-%COMP%]{background-color:#0000000a;margin:20px 0 0;padding-bottom:0}mat-expansion-panel[_ngcontent-%COMP%]{margin-top:12px;background-color:#052950}.mat-accordion[_ngcontent-%COMP%] > .mat-expansion-panel-spacing[_ngcontent-%COMP%]:first-child{margin-top:12px}mat-expansion-panel-header[_ngcontent-%COMP%]{height:45px}mat-expansion-panel-header.mat-expanded[_ngcontent-%COMP%]{height:45px}  .mat-expansion-panel-body{background-color:#fff;padding:0!important}  .mat-expansion-panel{border-bottom-left-radius:0!important;border-bottom-right-radius:0!important}.mat-accordion[_ngcontent-%COMP%]   .mat-expansion-panel[_ngcontent-%COMP%]:not(.mat-expanded), .mat-accordion[_ngcontent-%COMP%]   .mat-expansion-panel[_ngcontent-%COMP%]:not(.mat-expansion-panel-spacing){border-radius:4px 4px 0 0}mat-panel-title[_ngcontent-%COMP%]{color:#fff}  .mat-expansion-indicator:after{color:#fff}']}),l})(),Hz=(()=>{class l{}return l.\u0275fac=function(r){return new(r||l)},l.\u0275mod=Tt({type:l,bootstrap:[Bz]}),l.\u0275inj=_t({providers:[Wk,wN],imports:[[uP,wH,tH,nW,IW,Y2,Wk,IM,qj,wN,Ck,Cw,cU,eH,gU,OU,T2,Mz]]}),l})();f0=!1,EG().bootstrapModule(Hz).catch(l=>console.error(l))}},ya=>{ya(ya.s=349)}]);